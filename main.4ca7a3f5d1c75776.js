(self.webpackChunkfile_attachment=self.webpackChunkfile_attachment||[]).push([[179],{2011:(Ie,x,R)=>{"use strict";R.d(x,{Dh:()=>ce,GT:()=>re,cc:()=>ae,hO:()=>$,on:()=>ee,pX:()=>ie,xv:()=>he});var s=R(4650),te=R(127),O=R(5813);Ie=R.hmd(Ie);const pe=["ngOnDestroy"],ie=(Z,E,A,F={})=>new Proxy(Z,{get:(X,N)=>A.runOutsideAngular(()=>{var J;if(Z[N])return!(null===(J=F?.spy)||void 0===J)&&J.get&&F.spy.get(N,Z[N]),Z[N];if(pe.indexOf(N)>-1)return()=>{};const j=E.toPromise().then(S=>{const oe=S&&S[N];return"function"==typeof oe?oe.bind(S):oe&&oe.then?oe.then(W=>A.run(()=>W)):A.run(()=>oe)});return new Proxy(()=>{},{get:(S,oe)=>j[oe],apply:(S,oe,W)=>j.then(le=>{var ge;const ye=le&&le(...W);return!(null===(ge=F?.spy)||void 0===ge)&&ge.apply&&F.spy.apply(N,W,ye),ye})})})}),re=(Z,E)=>{E.forEach(A=>{Object.getOwnPropertyNames(A.prototype||A).forEach(F=>{Object.defineProperty(Z.prototype,F,Object.getOwnPropertyDescriptor(A.prototype||A,F))})})};class B{constructor(E){return E}}const ce=new s.OlP("angularfire2.app.options"),he=new s.OlP("angularfire2.app.name");function ee(Z,E,A){const X="object"==typeof A&&A||{};X.name=X.name||"string"==typeof A&&A||"[DEFAULT]";const J=te.Z.apps.filter(j=>j&&j.name===X.name)[0]||E.runOutsideAngular(()=>te.Z.initializeApp(Z,X));try{JSON.stringify(Z)!==JSON.stringify(J.options)&&Y("error",`${J.name} Firebase App already initialized with different options${Ie.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new B(J)}const Y=(Z,...E)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Z](...E)},se={provide:B,useFactory:ee,deps:[ce,s.R0b,[new s.FiY,he]]};let $=(()=>{class Z{constructor(A){te.Z.registerVersion("angularfire",O.q4.full,"core"),te.Z.registerVersion("angularfire",O.q4.full,"app-compat"),te.Z.registerVersion("angular",s.q4F.full,A.toString())}static initializeApp(A,F){return{ngModule:Z,providers:[{provide:ce,useValue:A},{provide:he,useValue:F}]}}}return Z.\u0275fac=function(A){return new(A||Z)(s.LFG(s.Lbi))},Z.\u0275mod=s.oAB({type:Z}),Z.\u0275inj=s.cJS({providers:[se]}),Z})();function ae(Z,E,A,F,X){const[,N,J]=globalThis.\u0275AngularfireInstanceCache.find(j=>j[0]===Z)||[];if(N)return function q(Z,E){try{return Z.toString()===E.toString()}catch{return Z===E}}(X,J)||(z("error",`${E} was already initialized on the ${A} Firebase App with different settings.${fe?" You may need to reload as Firebase is not HMR aware.":""}`),z("warn",{is:X,was:J})),N;{const j=F();return globalThis.\u0275AngularfireInstanceCache.push([Z,j,X]),j}}const fe=!!Ie.hot,z=(Z,...E)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Z](...E)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ie,x,R)=>{"use strict";R.d(x,{q4:()=>hc,iC:()=>fc,HU:()=>Lo,vb:()=>Dd,JM:()=>Oo});var s=R(4650),te=R(5867),O=R(5861),pe=R(9681),ie=R(2090),re=R(4859),B=R(1877),ce=R(8766);const he="@firebase/installations",ee="0.5.12",se=`w:${ee}`,$="FIS_v2",E=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function A(P){return P instanceof ie.ZR&&P.code.includes("request-failed")}function F({projectId:P}){return`https://firebaseinstallations.googleapis.com/v1/projects/${P}/installations`}function X(P){return{token:P.token,requestStatus:2,expiresIn:le(P.expiresIn),creationTime:Date.now()}}function N(P,V){return J.apply(this,arguments)}function J(){return(J=(0,O.Z)(function*(P,V){const Oe=(yield V.json()).error;return E.create("request-failed",{requestName:P,serverCode:Oe.code,serverMessage:Oe.message,serverStatus:Oe.status})})).apply(this,arguments)}function j({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function S(P,{refreshToken:V}){const ue=j(P);return ue.append("Authorization",function ge(P){return`${$} ${P}`}(V)),ue}function oe(P){return W.apply(this,arguments)}function W(){return(W=(0,O.Z)(function*(P){const V=yield P();return V.status>=500&&V.status<600?P():V})).apply(this,arguments)}function le(P){return Number(P.replace("s","000"))}function ye(P,V){return Re.apply(this,arguments)}function Re(){return(Re=(0,O.Z)(function*({appConfig:P,heartbeatServiceProvider:V},{fid:ue}){const Oe=F(P),ze=j(P),Je=V.getImmediate({optional:!0});if(Je){const fn=yield Je.getHeartbeatsHeader();fn&&ze.append("x-firebase-client",fn)}const Pt={method:"POST",headers:ze,body:JSON.stringify({fid:ue,authVersion:$,appId:P.appId,sdkVersion:se})},Zt=yield oe(()=>fetch(Oe,Pt));if(Zt.ok){const fn=yield Zt.json();return{fid:fn.fid||ue,registrationStatus:2,refreshToken:fn.refreshToken,authToken:X(fn.authToken)}}throw yield N("Create Installation",Zt)})).apply(this,arguments)}function Ve(P){return new Promise(V=>{setTimeout(V,P)})}const it=/^[cdef][\w-]{21}$/;function I(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const ue=function b(P){return function Xe(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return it.test(ue)?ue:""}catch{return""}}function k(P){return`${P.appName}!${P.appId}`}const L=new Map;function Q(P,V){const ue=k(P);be(ue,V),function He(P,V){const ue=function Ue(){return!ke&&"BroadcastChannel"in self&&(ke=new BroadcastChannel("[Firebase] FID Change"),ke.onmessage=P=>{be(P.data.key,P.data.fid)}),ke}();ue&&ue.postMessage({key:P,fid:V}),function Be(){0===L.size&&ke&&(ke.close(),ke=null)}()}(ue,V)}function be(P,V){const ue=L.get(P);if(ue)for(const Oe of ue)Oe(V)}let ke=null;const mt="firebase-installations-store";let Tt=null;function lt(){return Tt||(Tt=(0,ce.X3)("firebase-installations-database",1,{upgrade:(P,V)=>{0===V&&P.createObjectStore(mt)}})),Tt}function yt(P,V){return ct.apply(this,arguments)}function ct(){return(ct=(0,O.Z)(function*(P,V){const ue=k(P),ze=(yield lt()).transaction(mt,"readwrite"),Je=ze.objectStore(mt),pt=yield Je.get(ue);return yield Je.put(V,ue),yield ze.done,(!pt||pt.fid!==V.fid)&&Q(P,V.fid),V})).apply(this,arguments)}function Rt(P){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,O.Z)(function*(P){const V=k(P),Oe=(yield lt()).transaction(mt,"readwrite");yield Oe.objectStore(mt).delete(V),yield Oe.done})).apply(this,arguments)}function At(P,V){return nt.apply(this,arguments)}function nt(){return(nt=(0,O.Z)(function*(P,V){const ue=k(P),ze=(yield lt()).transaction(mt,"readwrite"),Je=ze.objectStore(mt),pt=yield Je.get(ue),Pt=V(pt);return void 0===Pt?yield Je.delete(ue):yield Je.put(Pt,ue),yield ze.done,Pt&&(!pt||pt.fid!==Pt.fid)&&Q(P,Pt.fid),Pt})).apply(this,arguments)}function dt(P){return kt.apply(this,arguments)}function kt(){return(kt=(0,O.Z)(function*(P){let V;const ue=yield At(P.appConfig,Oe=>{const ze=Ke(Oe),Je=me(P,ze);return V=Je.registrationPromise,Je.installationEntry});return""===ue.fid?{installationEntry:yield V}:{installationEntry:ue,registrationPromise:V}})).apply(this,arguments)}function Ke(P){return Fe(P||{fid:I(),registrationStatus:0})}function me(P,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(E.create("app-offline"))};const ue={fid:V.fid,registrationStatus:1,registrationTime:Date.now()},Oe=function xe(P,V){return ft.apply(this,arguments)}(P,ue);return{installationEntry:ue,registrationPromise:Oe}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:wt(P)}:{installationEntry:V}}function ft(){return(ft=(0,O.Z)(function*(P,V){try{const ue=yield ye(P,V);return yt(P.appConfig,ue)}catch(ue){throw A(ue)&&409===ue.customData.serverCode?yield Rt(P.appConfig):yield yt(P.appConfig,{fid:V.fid,registrationStatus:0}),ue}})).apply(this,arguments)}function wt(P){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,O.Z)(function*(P){let V=yield we(P.appConfig);for(;1===V.registrationStatus;)yield Ve(100),V=yield we(P.appConfig);if(0===V.registrationStatus){const{installationEntry:ue,registrationPromise:Oe}=yield dt(P);return Oe||ue}return V})).apply(this,arguments)}function we(P){return At(P,V=>{if(!V)throw E.create("installation-not-found");return Fe(V)})}function Fe(P){return function rt(P){return 1===P.registrationStatus&&P.registrationTime+1e4<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function bt(P,V){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,O.Z)(function*({appConfig:P,heartbeatServiceProvider:V},ue){const Oe=Ze(P,ue),ze=S(P,ue),Je=V.getImmediate({optional:!0});if(Je){const fn=yield Je.getHeartbeatsHeader();fn&&ze.append("x-firebase-client",fn)}const Pt={method:"POST",headers:ze,body:JSON.stringify({installation:{sdkVersion:se,appId:P.appId}})},Zt=yield oe(()=>fetch(Oe,Pt));if(Zt.ok)return X(yield Zt.json());throw yield N("Generate Auth Token",Zt)})).apply(this,arguments)}function Ze(P,{fid:V}){return`${F(P)}/${V}/authTokens:generate`}function Ee(P){return Te.apply(this,arguments)}function Te(){return(Te=(0,O.Z)(function*(P,V=!1){let ue;const Oe=yield At(P.appConfig,Je=>{if(!Dt(Je))throw E.create("not-registered");const pt=Je.authToken;if(!V&&en(pt))return Je;if(1===pt.requestStatus)return ue=De(P,V),Je;{if(!navigator.onLine)throw E.create("app-offline");const Pt=On(Je);return ue=We(P,Pt),Pt}});return ue?yield ue:Oe.authToken})).apply(this,arguments)}function De(P,V){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,O.Z)(function*(P,V){let ue=yield Pe(P.appConfig);for(;1===ue.authToken.requestStatus;)yield Ve(100),ue=yield Pe(P.appConfig);const Oe=ue.authToken;return 0===Oe.requestStatus?Ee(P,V):Oe})).apply(this,arguments)}function Pe(P){return At(P,V=>{if(!Dt(V))throw E.create("not-registered");return function nn(P){return 1===P.requestStatus&&P.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function We(P,V){return at.apply(this,arguments)}function at(){return(at=(0,O.Z)(function*(P,V){try{const ue=yield bt(P,V),Oe=Object.assign(Object.assign({},V),{authToken:ue});return yield yt(P.appConfig,Oe),ue}catch(ue){if(!A(ue)||401!==ue.customData.serverCode&&404!==ue.customData.serverCode){const Oe=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield yt(P.appConfig,Oe)}else yield Rt(P.appConfig);throw ue}})).apply(this,arguments)}function Dt(P){return void 0!==P&&2===P.registrationStatus}function en(P){return 2===P.requestStatus&&!function rn(P){const V=Date.now();return V<P.creationTime||P.creationTime+P.expiresIn<V+36e5}(P)}function On(P){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:V})}function wn(){return(wn=(0,O.Z)(function*(P){const V=P,{installationEntry:ue,registrationPromise:Oe}=yield dt(V);return Oe?Oe.catch(console.error):Ee(V).catch(console.error),ue.fid})).apply(this,arguments)}function Rn(){return(Rn=(0,O.Z)(function*(P,V=!1){const ue=P;return yield ri(ue),(yield Ee(ue,V)).token})).apply(this,arguments)}function ri(P){return xt.apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(P){const{registrationPromise:V}=yield dt(P);V&&(yield V)})).apply(this,arguments)}function ws(P){return E.create("missing-app-config-values",{valueName:P})}const bn="installations",qn=P=>{const V=P.getProvider("app").getImmediate(),ue=function bo(P){if(!P||!P.options)throw ws("App Configuration");if(!P.name)throw ws("App Name");const V=["projectId","apiKey","appId"];for(const ue of V)if(!P.options[ue])throw ws(ue);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(V);return{app:V,appConfig:ue,heartbeatServiceProvider:(0,pe._getProvider)(V,"heartbeat"),_delete:()=>Promise.resolve()}},Gl=P=>{const V=P.getProvider("app").getImmediate(),ue=(0,pe._getProvider)(V,bn).getImmediate();return{getId:()=>function sn(P){return wn.apply(this,arguments)}(ue),getToken:ze=>function Sn(P){return Rn.apply(this,arguments)}(ue,ze)}};(function wo(){(0,pe._registerComponent)(new re.wA(bn,qn,"PUBLIC")),(0,pe._registerComponent)(new re.wA("installations-internal",Gl,"PRIVATE"))})(),(0,pe.registerVersion)(he,ee),(0,pe.registerVersion)(he,ee,"esm2017");const yi="@firebase/remote-config",Qi=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ih{constructor(V,ue,Oe,ze){this.client=V,this.storage=ue,this.storageCache=Oe,this.logger=ze}isCachedDataFresh(V,ue){if(!ue)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Oe=Date.now()-ue,ze=Oe<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${ze}.`),ze}fetch(V){var ue=this;return(0,O.Z)(function*(){const[Oe,ze]=yield Promise.all([ue.storage.getLastSuccessfulFetchTimestampMillis(),ue.storage.getLastSuccessfulFetchResponse()]);if(ze&&ue.isCachedDataFresh(V.cacheMaxAgeMillis,Oe))return ze;V.eTag=ze&&ze.eTag;const Je=yield ue.client.fetch(V),pt=[ue.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Je.status&&pt.push(ue.storage.setLastSuccessfulFetchResponse(Je)),yield Promise.all(pt),Je})()}}function ld(P=navigator){return P.languages&&P.languages[0]||P.language}class Qc{constructor(V,ue,Oe,ze,Je,pt){this.firebaseInstallations=V,this.sdkVersion=ue,this.namespace=Oe,this.projectId=ze,this.apiKey=Je,this.appId=pt}fetch(V){var ue=this;return(0,O.Z)(function*(){var Oe,ze,Je;const[pt,Pt]=yield Promise.all([ue.firebaseInstallations.getId(),ue.firebaseInstallations.getToken()]),fn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ue.projectId}/namespaces/${ue.namespace}:fetch?key=${ue.apiKey}`,yn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},Wt={sdk_version:ue.sdkVersion,app_instance_id:pt,app_instance_id_token:Pt,app_id:ue.appId,language_code:ld()},pi={method:"POST",headers:yn,body:JSON.stringify(Wt)},ar=fetch(fn,pi),El=new Promise((lr,oo)=>{V.signal.addEventListener(()=>{const og=new Error("The operation was aborted.");og.name="AbortError",oo(og)})});let Aa;try{yield Promise.race([ar,El]),Aa=yield ar}catch(lr){let oo="fetch-client-network";throw"AbortError"===(null===(Oe=lr)||void 0===Oe?void 0:Oe.name)&&(oo="fetch-timeout"),Qi.create(oo,{originalErrorMessage:null===(ze=lr)||void 0===ze?void 0:ze.message})}let Dr=Aa.status;const Bo=Aa.headers.get("ETag")||void 0;let Uo,Sa;if(200===Aa.status){let lr;try{lr=yield Aa.json()}catch(oo){throw Qi.create("fetch-client-parse",{originalErrorMessage:null===(Je=oo)||void 0===Je?void 0:Je.message})}Uo=lr.entries,Sa=lr.state}if("INSTANCE_STATE_UNSPECIFIED"===Sa?Dr=500:"NO_CHANGE"===Sa?Dr=304:("NO_TEMPLATE"===Sa||"EMPTY_CONFIG"===Sa)&&(Uo={}),304!==Dr&&200!==Dr)throw Qi.create("fetch-status",{httpStatus:Dr});return{status:Dr,eTag:Bo,config:Uo}})()}}class Kp{constructor(V,ue){this.client=V,this.storage=ue}fetch(V){var ue=this;return(0,O.Z)(function*(){const Oe=(yield ue.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ue.attemptFetch(V,Oe)})()}attemptFetch(V,{throttleEndTimeMillis:ue,backoffCount:Oe}){var ze=this;return(0,O.Z)(function*(){yield function Si(P,V){return new Promise((ue,Oe)=>{const ze=Math.max(V-Date.now(),0),Je=setTimeout(ue,ze);P.addEventListener(()=>{clearTimeout(Je),Oe(Qi.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,ue);try{const Je=yield ze.client.fetch(V);return yield ze.storage.deleteThrottleMetadata(),Je}catch(Je){if(!function cd(P){if(!(P instanceof ie.ZR&&P.customData))return!1;const V=Number(P.customData.httpStatus);return 429===V||500===V||503===V||504===V}(Je))throw Je;const pt={throttleEndTimeMillis:Date.now()+(0,ie.$s)(Oe),backoffCount:Oe+1};return yield ze.storage.setThrottleMetadata(pt),ze.attemptFetch(V,pt)}})()}}class Xc{constructor(V,ue,Oe,ze,Je){this.app=V,this._client=ue,this._storageCache=Oe,this._storage=ze,this._logger=Je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Jc(P,V){var ue;const Oe=P.target.error||void 0;return Qi.create(V,{originalErrorMessage:Oe&&(null===(ue=Oe)||void 0===ue?void 0:ue.message)})}const Ks="app_namespace_store";class kh{constructor(V,ue,Oe,ze=function Jp(){return new Promise((P,V)=>{var ue;try{const Oe=indexedDB.open("firebase_remote_config",1);Oe.onerror=ze=>{V(Jc(ze,"storage-open"))},Oe.onsuccess=ze=>{P(ze.target.result)},Oe.onupgradeneeded=ze=>{0===ze.oldVersion&&ze.target.result.createObjectStore(Ks,{keyPath:"compositeKey"})}}catch(Oe){V(Qi.create("storage-open",{originalErrorMessage:null===(ue=Oe)||void 0===ue?void 0:ue.message}))}})}()){this.appId=V,this.appName=ue,this.namespace=Oe,this.openDbPromise=ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var ue=this;return(0,O.Z)(function*(){const Oe=yield ue.openDbPromise;return new Promise((ze,Je)=>{var pt;const Zt=Oe.transaction([Ks],"readonly").objectStore(Ks),fn=ue.createCompositeKey(V);try{const yn=Zt.get(fn);yn.onerror=Wt=>{Je(Jc(Wt,"storage-get"))},yn.onsuccess=Wt=>{const pi=Wt.target.result;ze(pi?pi.value:void 0)}}catch(yn){Je(Qi.create("storage-get",{originalErrorMessage:null===(pt=yn)||void 0===pt?void 0:pt.message}))}})})()}set(V,ue){var Oe=this;return(0,O.Z)(function*(){const ze=yield Oe.openDbPromise;return new Promise((Je,pt)=>{var Pt;const fn=ze.transaction([Ks],"readwrite").objectStore(Ks),yn=Oe.createCompositeKey(V);try{const Wt=fn.put({compositeKey:yn,value:ue});Wt.onerror=pi=>{pt(Jc(pi,"storage-set"))},Wt.onsuccess=()=>{Je()}}catch(Wt){pt(Qi.create("storage-set",{originalErrorMessage:null===(Pt=Wt)||void 0===Pt?void 0:Pt.message}))}})})()}delete(V){var ue=this;return(0,O.Z)(function*(){const Oe=yield ue.openDbPromise;return new Promise((ze,Je)=>{var pt;const Zt=Oe.transaction([Ks],"readwrite").objectStore(Ks),fn=ue.createCompositeKey(V);try{const yn=Zt.delete(fn);yn.onerror=Wt=>{Je(Jc(Wt,"storage-delete"))},yn.onsuccess=()=>{ze()}}catch(yn){Je(Qi.create("storage-delete",{originalErrorMessage:null===(pt=yn)||void 0===pt?void 0:pt.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class zl{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,O.Z)(function*(){const ue=V.storage.getLastFetchStatus(),Oe=V.storage.getLastSuccessfulFetchTimestampMillis(),ze=V.storage.getActiveConfig(),Je=yield ue;Je&&(V.lastFetchStatus=Je);const pt=yield Oe;pt&&(V.lastSuccessfulFetchTimestampMillis=pt);const Pt=yield ze;Pt&&(V.activeConfig=Pt)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function $l(){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,O.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function As(){(0,pe._registerComponent)(new re.wA("remote-config",function P(V,{instanceIdentifier:ue}){const Oe=V.getProvider("app").getImmediate(),ze=V.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qi.create("registration-window");if(!(0,ie.hl)())throw Qi.create("indexed-db-unavailable");const{projectId:Je,apiKey:pt,appId:Pt}=Oe.options;if(!Je)throw Qi.create("registration-project-id");if(!pt)throw Qi.create("registration-api-key");if(!Pt)throw Qi.create("registration-app-id");const Zt=new kh(Pt,Oe.name,ue=ue||"firebase"),fn=new zl(Zt),yn=new B.Yd(yi);yn.logLevel=B.in.ERROR;const Wt=new Qc(ze,pe.SDK_VERSION,ue,Je,pt,Pt),pi=new Kp(Wt,Zt),ar=new Ih(pi,Zt,fn,yn),El=new Xc(Oe,ar,fn,Zt,yn);return function Zs(P){const V=(0,ie.m9)(P);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(El),El},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(yi,"0.3.11"),(0,pe.registerVersion)(yi,"0.3.11","esm2017")}();const Wl="/firebase-messaging-sw.js",jr="/firebase-cloud-messaging-push-scope",Xs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xa="google.c.a.c_id",Ja="google.c.a.c_l",eu="google.c.a.ts",eg="google.c.a.e";var Ao=(()=>{return(P=Ao||(Ao={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",Ao;var P})();function Jn(P){const V=new Uint8Array(P);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ql(P){const ue=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Oe=atob(ue),ze=new Uint8Array(Oe.length);for(let Je=0;Je<Oe.length;++Je)ze[Je]=Oe.charCodeAt(Je);return ze}const Yl="fcm_token_details_db",rr="fcm_token_object_Store";function tg(P){return fi.apply(this,arguments)}function fi(){return fi=(0,O.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Je=>Je.name).includes(Yl))return null;let V=null;return(yield(0,ce.X3)(Yl,5,{upgrade:(Oe=(0,O.Z)(function*(ze,Je,pt,Pt){var Zt;if(Je<2||!ze.objectStoreNames.contains(rr))return;const fn=Pt.objectStore(rr),yn=yield fn.index("fcmSenderId").get(P);if(yield fn.clear(),yn)if(2===Je){const Wt=yn;if(!Wt.auth||!Wt.p256dh||!Wt.endpoint)return;V={token:Wt.fcmToken,createTime:null!==(Zt=Wt.createTime)&&void 0!==Zt?Zt:Date.now(),subscriptionOptions:{auth:Wt.auth,p256dh:Wt.p256dh,endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:"string"==typeof Wt.vapidKey?Wt.vapidKey:Jn(Wt.vapidKey)}}}else if(3===Je){const Wt=yn;V={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:Jn(Wt.auth),p256dh:Jn(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:Jn(Wt.vapidKey)}}}else if(4===Je){const Wt=yn;V={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:Jn(Wt.auth),p256dh:Jn(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:Jn(Wt.vapidKey)}}}}),function(Je,pt,Pt,Zt){return Oe.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Yl),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),hd(V)?V:null;var Oe}),fi.apply(this,arguments)}function hd(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:V}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const mi="firebase-messaging-store";let nu=null;function ha(){return nu||(nu=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(P,V)=>{0===V&&P.createObjectStore(mi)}})),nu}function ls(P){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,O.Z)(function*(P){const V=nl(P),Oe=yield(yield ha()).transaction(mi).objectStore(mi).get(V);if(Oe)return Oe;{const ze=yield tg(P.appConfig.senderId);if(ze)return yield Ss(P,ze),ze}})).apply(this,arguments)}function Ss(P,V){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,O.Z)(function*(P,V){const ue=nl(P),ze=(yield ha()).transaction(mi,"readwrite");return yield ze.objectStore(mi).put(V,ue),yield ze.done,V})).apply(this,arguments)}function fd(P){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,O.Z)(function*(P){const V=nl(P),Oe=(yield ha()).transaction(mi,"readwrite");yield Oe.objectStore(mi).delete(V),yield Oe.done})).apply(this,arguments)}function nl({appConfig:P}){return P.appId}const Ht=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Zl(P,V){return iu.apply(this,arguments)}function iu(){return(iu=(0,O.Z)(function*(P,V){var ue;const Oe=yield xo(P),ze=Cn(V),Je={method:"POST",headers:Oe,body:JSON.stringify(ze)};let pt;try{pt=yield(yield fetch(pa(P.appConfig),Je)).json()}catch(Pt){throw Ht.create("token-subscribe-failed",{errorInfo:null===(ue=Pt)||void 0===ue?void 0:ue.toString()})}if(pt.error)throw Ht.create("token-subscribe-failed",{errorInfo:pt.error.message});if(!pt.token)throw Ht.create("token-subscribe-no-token");return pt.token})).apply(this,arguments)}function ru(P,V){return So.apply(this,arguments)}function So(){return(So=(0,O.Z)(function*(P,V){var ue;const Oe=yield xo(P),ze=Cn(V.subscriptionOptions),Je={method:"PATCH",headers:Oe,body:JSON.stringify(ze)};let pt;try{pt=yield(yield fetch(`${pa(P.appConfig)}/${V.token}`,Je)).json()}catch(Pt){throw Ht.create("token-update-failed",{errorInfo:null===(ue=Pt)||void 0===ue?void 0:ue.toString()})}if(pt.error)throw Ht.create("token-update-failed",{errorInfo:pt.error.message});if(!pt.token)throw Ht.create("token-update-no-token");return pt.token})).apply(this,arguments)}function To(P,V){return il.apply(this,arguments)}function il(){return(il=(0,O.Z)(function*(P,V){var ue;const ze={method:"DELETE",headers:yield xo(P)};try{const pt=yield(yield fetch(`${pa(P.appConfig)}/${V}`,ze)).json();if(pt.error)throw Ht.create("token-unsubscribe-failed",{errorInfo:pt.error.message})}catch(Je){throw Ht.create("token-unsubscribe-failed",{errorInfo:null===(ue=Je)||void 0===ue?void 0:ue.toString()})}})).apply(this,arguments)}function pa({projectId:P}){return`https://fcmregistrations.googleapis.com/v1/projects/${P}/registrations`}function xo(P){return gt.apply(this,arguments)}function gt(){return(gt=(0,O.Z)(function*({appConfig:P,installations:V}){const ue=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${ue}`})})).apply(this,arguments)}function Cn({p256dh:P,auth:V,endpoint:ue,vapidKey:Oe}){const ze={web:{endpoint:ue,auth:V,p256dh:P}};return Oe!==Xs&&(ze.web.applicationPubKey=Oe),ze}const ga=6048e5;function ma(P){return ai.apply(this,arguments)}function ai(){return(ai=(0,O.Z)(function*(P){const V=yield pd(P.swRegistration,P.vapidKey),ue={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:V.endpoint,auth:Jn(V.getKey("auth")),p256dh:Jn(V.getKey("p256dh"))},Oe=yield ls(P.firebaseDependencies);if(Oe){if(Js(Oe.subscriptionOptions,ue))return Date.now()>=Oe.createTime+ga?yr(P,{token:Oe.token,createTime:Date.now(),subscriptionOptions:ue}):Oe.token;try{yield To(P.firebaseDependencies,Oe.token)}catch(ze){console.warn(ze)}return Ts(P.firebaseDependencies,ue)}return Ts(P.firebaseDependencies,ue)})).apply(this,arguments)}function rl(P){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,O.Z)(function*(P){const V=yield ls(P.firebaseDependencies);V&&(yield To(P.firebaseDependencies,V.token),yield fd(P.firebaseDependencies));const ue=yield P.swRegistration.pushManager.getSubscription();return!ue||ue.unsubscribe()})).apply(this,arguments)}function yr(P,V){return sl.apply(this,arguments)}function sl(){return(sl=(0,O.Z)(function*(P,V){try{const ue=yield ru(P.firebaseDependencies,V),Oe=Object.assign(Object.assign({},V),{token:ue,createTime:Date.now()});return yield Ss(P.firebaseDependencies,Oe),ue}catch(ue){throw yield rl(P),ue}})).apply(this,arguments)}function Ts(P,V){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,O.Z)(function*(P,V){const Oe={token:yield Zl(P,V),createTime:Date.now(),subscriptionOptions:V};return yield Ss(P,Oe),Oe.token})).apply(this,arguments)}function pd(P,V){return ol.apply(this,arguments)}function ol(){return(ol=(0,O.Z)(function*(P,V){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ql(V)})})).apply(this,arguments)}function Js(P,V){return V.vapidKey===P.vapidKey&&V.endpoint===P.endpoint&&V.auth===P.auth&&V.p256dh===P.p256dh}function Ui(P){const V={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function vr(P,V){if(!V.notification)return;P.notification={};const ue=V.notification.title;ue&&(P.notification.title=ue);const Oe=V.notification.body;Oe&&(P.notification.body=Oe);const ze=V.notification.image;ze&&(P.notification.image=ze)}(V,P),function su(P,V){!V.data||(P.data=V.data)}(V,P),function _a(P,V){var ue,Oe,ze,Je,pt;if(!(V.fcmOptions||null!==(ue=V.notification)&&void 0!==ue&&ue.click_action))return;P.fcmOptions={};const Pt=null!==(ze=null===(Oe=V.fcmOptions)||void 0===Oe?void 0:Oe.link)&&void 0!==ze?ze:null===(Je=V.notification)||void 0===Je?void 0:Je.click_action;Pt&&(P.fcmOptions.link=Pt);const Zt=null===(pt=V.fcmOptions)||void 0===pt?void 0:pt.analytics_label;Zt&&(P.fcmOptions.analyticsLabel=Zt)}(V,P),V}function zr(P){return"object"==typeof P&&!!P&&Xa in P}function gd(P,V){const ue=[];for(let Oe=0;Oe<P.length;Oe++)ue.push(P.charAt(Oe)),Oe<V.length&&ue.push(V.charAt(Oe));return ue.join("")}function al(P){return Ht.create("missing-app-config-values",{valueName:P})}gd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ph{constructor(V,ue,Oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ze=function ou(P){if(!P||!P.options)throw al("App Configuration Object");if(!P.name)throw al("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:ue}=P;for(const Oe of V)if(!ue[Oe])throw al(Oe);return{appName:P.name,projectId:ue.projectId,apiKey:ue.apiKey,appId:ue.appId,senderId:ue.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:ze,installations:ue,analyticsProvider:Oe}}_delete(){return Promise.resolve()}}function Io(P){return ll.apply(this,arguments)}function ll(){return(ll=(0,O.Z)(function*(P){var V;try{P.swRegistration=yield navigator.serviceWorker.register(Wl,{scope:jr}),P.swRegistration.update().catch(()=>{})}catch(ue){throw Ht.create("failed-service-worker-registration",{browserErrorMessage:null===(V=ue)||void 0===V?void 0:V.message})}})).apply(this,arguments)}function Ql(P,V){return cl.apply(this,arguments)}function cl(){return(cl=(0,O.Z)(function*(P,V){if(!V&&!P.swRegistration&&(yield Io(P)),V||!P.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw Ht.create("invalid-sw-registration");P.swRegistration=V}})).apply(this,arguments)}function ul(P,V){return au.apply(this,arguments)}function au(){return(au=(0,O.Z)(function*(P,V){V?P.vapidKey=V:P.vapidKey||(P.vapidKey=Xs)})).apply(this,arguments)}function Xl(){return(Xl=(0,O.Z)(function*(P,V){if(!navigator)throw Ht.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ht.create("permission-blocked");return yield ul(P,V?.vapidKey),yield Ql(P,V?.serviceWorkerRegistration),ma(P)})).apply(this,arguments)}function Jl(P,V,ue){return ec.apply(this,arguments)}function ec(){return(ec=(0,O.Z)(function*(P,V,ue){const Oe=hl(V);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(Oe,{message_id:ue[Xa],message_name:ue[Ja],message_time:ue[eu],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function hl(P){switch(P){case Ao.NOTIFICATION_CLICKED:return"notification_open";case Ao.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function tc(){return(tc=(0,O.Z)(function*(P,V){const ue=V.data;if(!ue.isFirebaseMessaging)return;P.onMessageHandler&&ue.messageType===Ao.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(Ui(ue)):P.onMessageHandler.next(Ui(ue)));const Oe=ue.data;zr(Oe)&&"1"===Oe[eg]&&(yield Jl(P,ue.messageType,Oe))})).apply(this,arguments)}const nc="@firebase/messaging",xs=P=>{const V=new Ph(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ue=>function lu(P,V){return tc.apply(this,arguments)}(V,ue)),V},Wn=P=>{const V=P.getProvider("messaging").getImmediate();return{getToken:Oe=>function dl(P,V){return Xl.apply(this,arguments)}(V,Oe)}};function Rh(){return ic.apply(this,arguments)}function ic(){return(ic=(0,O.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function cu(){(0,pe._registerComponent)(new re.wA("messaging",xs,"PUBLIC")),(0,pe._registerComponent)(new re.wA("messaging-internal",Wn,"PRIVATE")),(0,pe.registerVersion)(nc,"0.9.16"),(0,pe.registerVersion)(nc,"0.9.16","esm2017")}();const du="analytics",Ms="firebase_id",va="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ko="https://www.googletagmanager.com/gtag/js",bi=new B.Yd("@firebase/analytics");function Nh(P){return Promise.all(P.map(V=>V.catch(ue=>ue)))}function ig(P,V){const ue=document.createElement("script");ue.src=`${ko}?l=${P}&id=${V}`,ue.async=!0,document.head.appendChild(ue)}function Vh(P,V,ue,Oe,ze,Je){return Po.apply(this,arguments)}function Po(){return(Po=(0,O.Z)(function*(P,V,ue,Oe,ze,Je){const pt=Oe[ze];try{if(pt)yield V[pt];else{const Zt=(yield Nh(ue)).find(fn=>fn.measurementId===ze);Zt&&(yield V[Zt.appId])}}catch(Pt){bi.error(Pt)}P("config",ze,Je)})).apply(this,arguments)}function yd(P,V,ue,Oe,ze){return ba.apply(this,arguments)}function ba(){return(ba=(0,O.Z)(function*(P,V,ue,Oe,ze){try{let Je=[];if(ze&&ze.send_to){let pt=ze.send_to;Array.isArray(pt)||(pt=[pt]);const Pt=yield Nh(ue);for(const Zt of pt){const fn=Pt.find(Wt=>Wt.measurementId===Zt),yn=fn&&V[fn.appId];if(!yn){Je=[];break}Je.push(yn)}}0===Je.length&&(Je=Object.values(V)),yield Promise.all(Je),P("event",Oe,ze||{})}catch(Je){bi.error(Je)}})).apply(this,arguments)}function Uh(){const P=window.document.getElementsByTagName("script");for(const V of Object.values(P))if(V.src&&V.src.includes(ko))return V;return null}const $r=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),rg=new class br{constructor(V={},ue=1e3){this.throttleMetadata=V,this.intervalMillis=ue}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,ue){this.throttleMetadata[V]=ue}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function Vn(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function qr(P){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,O.Z)(function*(P){var V;const{appId:ue,apiKey:Oe}=P,ze={method:"GET",headers:Vn(Oe)},Je=va.replace("{app-id}",ue),pt=yield fetch(Je,ze);if(200!==pt.status&&304!==pt.status){let Pt="";try{const Zt=yield pt.json();null!==(V=Zt.error)&&void 0!==V&&V.message&&(Pt=Zt.error.message)}catch{}throw $r.create("config-fetch-failed",{httpStatus:pt.status,responseMessage:Pt})}return pt.json()})).apply(this,arguments)}function _t(P){return sr.apply(this,arguments)}function sr(){return(sr=(0,O.Z)(function*(P,V=rg,ue){const{appId:Oe,apiKey:ze,measurementId:Je}=P.options;if(!Oe)throw $r.create("no-app-id");if(!ze){if(Je)return{measurementId:Je,appId:Oe};throw $r.create("no-api-key")}const pt=V.getThrottleMetadata(Oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pt=new oc;return setTimeout((0,O.Z)(function*(){Pt.abort()}),void 0!==ue?ue:6e4),Yn({appId:Oe,apiKey:ze,measurementId:Je},pt,Pt,V)})).apply(this,arguments)}function Yn(P,V,ue){return gl.apply(this,arguments)}function gl(){return(gl=(0,O.Z)(function*(P,{throttleEndTimeMillis:V,backoffCount:ue},Oe,ze=rg){var Je,pt;const{appId:Pt,measurementId:Zt}=P;try{yield ml(Oe,V)}catch(fn){if(Zt)return bi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zt} provided in the "measurementId" field in the local Firebase config. [${null===(Je=fn)||void 0===Je?void 0:Je.message}]`),{appId:Pt,measurementId:Zt};throw fn}try{const fn=yield qr(P);return ze.deleteThrottleMetadata(Pt),fn}catch(fn){const yn=fn;if(!sc(yn)){if(ze.deleteThrottleMetadata(Pt),Zt)return bi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zt} provided in the "measurementId" field in the local Firebase config. [${yn?.message}]`),{appId:Pt,measurementId:Zt};throw fn}const Wt=503===Number(null===(pt=yn?.customData)||void 0===pt?void 0:pt.httpStatus)?(0,ie.$s)(ue,ze.intervalMillis,30):(0,ie.$s)(ue,ze.intervalMillis),pi={throttleEndTimeMillis:Date.now()+Wt,backoffCount:ue+1};return ze.setThrottleMetadata(Pt,pi),bi.debug(`Calling attemptFetch again in ${Wt} millis`),Yn(P,pi,Oe,ze)}})).apply(this,arguments)}function ml(P,V){return new Promise((ue,Oe)=>{const ze=Math.max(V-Date.now(),0),Je=setTimeout(ue,ze);P.addEventListener(()=>{clearTimeout(Je),Oe($r.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function sc(P){if(!(P instanceof ie.ZR&&P.customData))return!1;const V=Number(P.customData.httpStatus);return 429===V||500===V||503===V||504===V}class oc{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}let _l,cs;function Yr(){return(Yr=(0,O.Z)(function*(P,V,ue,Oe,ze){if(ze&&ze.global)P("event",ue,Oe);else{const Je=yield V;P("event",ue,Object.assign(Object.assign({},Oe),{send_to:Je}))}})).apply(this,arguments)}function cc(P){cs=P}function Ro(P){_l=P}function hu(){return Ca.apply(this,arguments)}function Ca(){return(Ca=(0,O.Z)(function*(){var P;if(!(0,ie.hl)())return bi.warn($r.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(V){return bi.warn($r.create("indexeddb-unavailable",{errorInfo:null===(P=V)||void 0===P?void 0:P.toString()}).message),!1}return!0})).apply(this,arguments)}function ro(){return(ro=(0,O.Z)(function*(P,V,ue,Oe,ze,Je,pt){var Pt;const Zt=_t(P);Zt.then(ar=>{ue[ar.measurementId]=ar.appId,P.options.measurementId&&ar.measurementId!==P.options.measurementId&&bi.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${ar.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ar=>bi.error(ar)),V.push(Zt);const fn=hu().then(ar=>{if(ar)return Oe.getId()}),[yn,Wt]=yield Promise.all([Zt,fn]);Uh()||ig(Je,yn.measurementId),cs&&(ze("consent","default",cs),cc(void 0)),ze("js",new Date);const pi=null!==(Pt=pt?.config)&&void 0!==Pt?Pt:{};return pi.origin="firebase",pi.update=!0,null!=Wt&&(pi[Ms]=Wt),ze("config",yn.measurementId,pi),_l&&(ze("set",_l),Ro(void 0)),yn.measurementId})).apply(this,arguments)}class Da{constructor(V){this.app=V}_delete(){return delete ei[this.app.options.appId],Promise.resolve()}}let ei={},or=[];const fu={};let jn,Gn,wr="dataLayer",xn=!1;function Qn(P,V,ue){!function li(){const P=[];if((0,ie.ru)()&&P.push("This is a browser extension environment."),(0,ie.zI)()||P.push("Cookies are not available."),P.length>0){const V=P.map((Oe,ze)=>`(${ze+1}) ${Oe}`).join(" "),ue=$r.create("invalid-analytics-context",{errorInfo:V});bi.warn(ue.message)}}();const Oe=P.options.appId;if(!Oe)throw $r.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw $r.create("no-api-key");bi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ei[Oe])throw $r.create("already-exists",{id:Oe});if(!xn){!function M_(P){let V=[];Array.isArray(window[P])?V=window[P]:window[P]=V}(wr);const{wrappedGtag:Je,gtagCore:pt}=function Bh(P,V,ue,Oe,ze){let Je=function(...pt){window[Oe].push(arguments)};return window[ze]&&"function"==typeof window[ze]&&(Je=window[ze]),window[ze]=function rc(P,V,ue,Oe){function Je(){return(Je=(0,O.Z)(function*(pt,Pt,Zt){try{"event"===pt?yield yd(P,V,ue,Pt,Zt):"config"===pt?yield Vh(P,V,ue,Oe,Pt,Zt):"consent"===pt?P("consent","update",Zt):P("set",Pt)}catch(fn){bi.error(fn)}})).apply(this,arguments)}return function ze(pt,Pt,Zt){return Je.apply(this,arguments)}}(Je,P,V,ue),{gtagCore:Je,wrappedGtag:window[ze]}}(ei,or,fu,wr,"gtag");Gn=Je,jn=pt,xn=!0}return ei[Oe]=function pr(P,V,ue,Oe,ze,Je,pt){return ro.apply(this,arguments)}(P,or,fu,V,jn,wr,ue),new Da(P)}function ji(){return yl.apply(this,arguments)}function yl(){return(yl=(0,O.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const Ea="@firebase/analytics";!function us(){(0,pe._registerComponent)(new re.wA(du,(V,{options:ue})=>Qn(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),ue),"PUBLIC")),(0,pe._registerComponent)(new re.wA("analytics-internal",function P(V){try{const ue=V.getProvider(du).getImmediate();return{logEvent:(Oe,ze,Je)=>function gr(P,V,ue,Oe){P=(0,ie.m9)(P),function bd(P,V,ue,Oe,ze){return Yr.apply(this,arguments)}(Gn,ei[P.app.options.appId],V,ue,Oe).catch(ze=>bi.error(ze))}(ue,Oe,ze,Je)}}catch(ue){throw $r.create("interop-component-reg-failed",{reason:ue})}},"PRIVATE")),(0,pe.registerVersion)(Ea,"0.8.0"),(0,pe.registerVersion)(Ea,"0.8.0","esm2017")}();var uc=R(4408),ds=R(7565);const pu=new class pn extends ds.v{}(class bl extends uc.o{constructor(V,ue){super(V,ue),this.scheduler=V,this.work=ue}schedule(V,ue=0){return ue>0?super.schedule(V,ue):(this.delay=ue,this.state=V,this.scheduler.flush(this),this)}execute(V,ue){return ue>0||this.closed?super.execute(V,ue):this._execute(V,ue)}requestAsyncId(V,ue,Oe=0){return null!=Oe&&Oe>0||null==Oe&&this.delay>0?super.requestAsyncId(V,ue,Oe):V.flush(this)}});var wd=R(4986),dc=R(8505),Li=R(9468),Gi=R(5363);const hc=new s.GfV("7.4.1"),Is="__angularfire_symbol__analyticsIsSupportedValue",jh="__angularfire_symbol__analyticsIsSupported",ui="__angularfire_symbol__remoteConfigIsSupportedValue",Cr="__angularfire_symbol__remoteConfigIsSupported",Cl="__angularfire_symbol__messagingIsSupportedValue",gu="__angularfire_symbol__messagingIsSupported";function Oo(P,V,ue){if(V){if(1===V.length)return V[0];const Je=V.filter(pt=>pt.app===ue);if(1===Je.length)return Je[0]}return ue.container.getProvider(P).getImmediate({optional:!0})}globalThis[jh]||(globalThis[jh]=ji().then(P=>globalThis[Is]=P).catch(()=>globalThis[Is]=!1)),globalThis[gu]||(globalThis[gu]=Rh().then(P=>globalThis[Cl]=P).catch(()=>globalThis[Cl]=!1)),globalThis[Cr]||(globalThis[Cr]=$l().then(P=>globalThis[ui]=P).catch(()=>globalThis[ui]=!1));const Dd=(P,V)=>{const ue=V?[V]:(0,te.C6)(),Oe=[];return ue.forEach(ze=>{ze.container.getProvider(P).instances.forEach(pt=>{Oe.includes(pt)||Oe.push(pt)})}),Oe};function Zr(){}class ks{constructor(V,ue=pu){this.zone=V,this.delegate=ue}now(){return this.delegate.now()}schedule(V,ue,Oe){const ze=this.zone;return this.delegate.schedule(function(pt){ze.runGuarded(()=>{V.apply(this,[pt])})},ue,Oe)}}class Fo{constructor(V){this.zone=V,this.task=null}call(V,ue){const Oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Zr,{},Zr,Zr)),ue.pipe((0,dc.b)({next:Oe,complete:Oe,error:Oe})).subscribe(V).add(Oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Lo=(()=>{class P{constructor(ue){this.ngZone=ue,this.outsideAngular=ue.runOutsideAngular(()=>new ks(Zone.current)),this.insideAngular=ue.run(()=>new ks(Zone.current,wd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(ue){return new(ue||P)(s.LFG(s.R0b))},P.\u0275prov=s.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function dn(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function fc(P){return dn(),function di(P){return function(ue){return(ue=ue.lift(new Fo(P.ngZone))).pipe((0,Li.R)(P.outsideAngular),(0,Gi.Q)(P.insideAngular))}}(dn())(P)}},2090:(Ie,x,R)=>{"use strict";R.d(x,{$s:()=>rt,BH:()=>$,G6:()=>j,L:()=>ce,LL:()=>Re,Mn:()=>N,Sg:()=>ae,UG:()=>z,US:()=>re,ZB:()=>Y,ZR:()=>ye,b$:()=>A,d:()=>F,eu:()=>oe,hl:()=>S,jU:()=>Z,m9:()=>Ze,ne:()=>lt,pd:()=>mt,r3:()=>ne,ru:()=>E,tV:()=>he,uI:()=>fe,vZ:()=>ke,w1:()=>X,xO:()=>qe,xb:()=>be,z$:()=>q,zI:()=>W,zd:()=>Qe});const pe=function(Ee){const Te=[];let De=0;for(let Ae=0;Ae<Ee.length;Ae++){let Pe=Ee.charCodeAt(Ae);Pe<128?Te[De++]=Pe:Pe<2048?(Te[De++]=Pe>>6|192,Te[De++]=63&Pe|128):55296==(64512&Pe)&&Ae+1<Ee.length&&56320==(64512&Ee.charCodeAt(Ae+1))?(Pe=65536+((1023&Pe)<<10)+(1023&Ee.charCodeAt(++Ae)),Te[De++]=Pe>>18|240,Te[De++]=Pe>>12&63|128,Te[De++]=Pe>>6&63|128,Te[De++]=63&Pe|128):(Te[De++]=Pe>>12|224,Te[De++]=Pe>>6&63|128,Te[De++]=63&Pe|128)}return Te},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ee,Te){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const De=Te?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let Pe=0;Pe<Ee.length;Pe+=3){const We=Ee[Pe],at=Pe+1<Ee.length,Dt=at?Ee[Pe+1]:0,en=Pe+2<Ee.length,rn=en?Ee[Pe+2]:0;let sn=(15&Dt)<<2|rn>>6,wn=63&rn;en||(wn=64,at||(sn=64)),Ae.push(De[We>>2],De[(3&We)<<4|Dt>>4],De[sn],De[wn])}return Ae.join("")},encodeString(Ee,Te){return this.HAS_NATIVE_SUPPORT&&!Te?btoa(Ee):this.encodeByteArray(pe(Ee),Te)},decodeString(Ee,Te){return this.HAS_NATIVE_SUPPORT&&!Te?atob(Ee):function(Ee){const Te=[];let De=0,Ae=0;for(;De<Ee.length;){const Pe=Ee[De++];if(Pe<128)Te[Ae++]=String.fromCharCode(Pe);else if(Pe>191&&Pe<224){const We=Ee[De++];Te[Ae++]=String.fromCharCode((31&Pe)<<6|63&We)}else if(Pe>239&&Pe<365){const en=((7&Pe)<<18|(63&Ee[De++])<<12|(63&Ee[De++])<<6|63&Ee[De++])-65536;Te[Ae++]=String.fromCharCode(55296+(en>>10)),Te[Ae++]=String.fromCharCode(56320+(1023&en))}else{const We=Ee[De++],at=Ee[De++];Te[Ae++]=String.fromCharCode((15&Pe)<<12|(63&We)<<6|63&at)}}return Te.join("")}(this.decodeStringToByteArray(Ee,Te))},decodeStringToByteArray(Ee,Te){this.init_();const De=Te?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let Pe=0;Pe<Ee.length;){const We=De[Ee.charAt(Pe++)],Dt=Pe<Ee.length?De[Ee.charAt(Pe)]:0;++Pe;const rn=Pe<Ee.length?De[Ee.charAt(Pe)]:64;++Pe;const nn=Pe<Ee.length?De[Ee.charAt(Pe)]:64;if(++Pe,null==We||null==Dt||null==rn||null==nn)throw Error();Ae.push(We<<2|Dt>>4),64!==rn&&(Ae.push(Dt<<4&240|rn>>2),64!==nn&&Ae.push(rn<<6&192|nn))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}},ce=function(Ee){return function(Ee){const Te=pe(Ee);return re.encodeByteArray(Te,!0)}(Ee).replace(/\./g,"")},he=function(Ee){try{return re.decodeString(Ee,!0)}catch(Te){console.error("base64Decode failed: ",Te)}return null};function Y(Ee,Te){if(!(Te instanceof Object))return Te;switch(Te.constructor){case Date:return new Date(Te.getTime());case Object:void 0===Ee&&(Ee={});break;case Array:Ee=[];break;default:return Te}for(const De in Te)!Te.hasOwnProperty(De)||!se(De)||(Ee[De]=Y(Ee[De],Te[De]));return Ee}function se(Ee){return"__proto__"!==Ee}class ${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Te,De)=>{this.resolve=Te,this.reject=De})}wrapCallback(Te){return(De,Ae)=>{De?this.reject(De):this.resolve(Ae),"function"==typeof Te&&(this.promise.catch(()=>{}),1===Te.length?Te(De):Te(De,Ae))}}}function ae(Ee,Te){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=Te||"demo-project",Pe=Ee.iat||0,We=Ee.sub||Ee.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const at=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:Pe,exp:Pe+3600,auth_time:Pe,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(at)),""].join(".")}function q(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(q())}function z(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Z(){return"object"==typeof self&&self.self===self}function E(){const Ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ee&&void 0!==Ee.id}function A(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function F(){return q().indexOf("Electron/")>=0}function X(){const Ee=q();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function N(){return q().indexOf("MSAppHost/")>=0}function j(){return!z()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){return"object"==typeof indexedDB}function oe(){return new Promise((Ee,Te)=>{try{let De=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",Pe=self.indexedDB.open(Ae);Pe.onsuccess=()=>{Pe.result.close(),De||self.indexedDB.deleteDatabase(Ae),Ee(!0)},Pe.onupgradeneeded=()=>{De=!1},Pe.onerror=()=>{var We;Te((null===(We=Pe.error)||void 0===We?void 0:We.message)||"")}}catch(De){Te(De)}})}function W(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ye extends Error{constructor(Te,De,Ae){super(De),this.code=Te,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Re.prototype.create)}}class Re{constructor(Te,De,Ae){this.service=Te,this.serviceName=De,this.errors=Ae}create(Te,...De){const Ae=De[0]||{},Pe=`${this.service}/${Te}`,We=this.errors[Te],at=We?function Ve(Ee,Te){return Ee.replace(Xe,(De,Ae)=>{const Pe=Te[Ae];return null!=Pe?String(Pe):`<${Ae}?>`})}(We,Ae):"Error";return new ye(Pe,`${this.serviceName}: ${at} (${Pe}).`,Ae)}}const Xe=/\{\$([^}]+)}/g;function ne(Ee,Te){return Object.prototype.hasOwnProperty.call(Ee,Te)}function be(Ee){for(const Te in Ee)if(Object.prototype.hasOwnProperty.call(Ee,Te))return!1;return!0}function ke(Ee,Te){if(Ee===Te)return!0;const De=Object.keys(Ee),Ae=Object.keys(Te);for(const Pe of De){if(!Ae.includes(Pe))return!1;const We=Ee[Pe],at=Te[Pe];if(Ue(We)&&Ue(at)){if(!ke(We,at))return!1}else if(We!==at)return!1}for(const Pe of Ae)if(!De.includes(Pe))return!1;return!0}function Ue(Ee){return null!==Ee&&"object"==typeof Ee}function qe(Ee){const Te=[];for(const[De,Ae]of Object.entries(Ee))Array.isArray(Ae)?Ae.forEach(Pe=>{Te.push(encodeURIComponent(De)+"="+encodeURIComponent(Pe))}):Te.push(encodeURIComponent(De)+"="+encodeURIComponent(Ae));return Te.length?"&"+Te.join("&"):""}function Qe(Ee){const Te={};return Ee.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[Pe,We]=Ae.split("=");Te[decodeURIComponent(Pe)]=decodeURIComponent(We)}}),Te}function mt(Ee){const Te=Ee.indexOf("?");if(!Te)return"";const De=Ee.indexOf("#",Te);return Ee.substring(Te,De>0?De:void 0)}function lt(Ee,Te){const De=new yt(Ee,Te);return De.subscribe.bind(De)}class yt{constructor(Te,De){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=De,this.task.then(()=>{Te(this)}).catch(Ae=>{this.error(Ae)})}next(Te){this.forEachObserver(De=>{De.next(Te)})}error(Te){this.forEachObserver(De=>{De.error(Te)}),this.close(Te)}complete(){this.forEachObserver(Te=>{Te.complete()}),this.close()}subscribe(Te,De,Ae){let Pe;if(void 0===Te&&void 0===De&&void 0===Ae)throw new Error("Missing Observer.");Pe=function Rt(Ee,Te){if("object"!=typeof Ee||null===Ee)return!1;for(const De of Te)if(De in Ee&&"function"==typeof Ee[De])return!0;return!1}(Te,["next","error","complete"])?Te:{next:Te,error:De,complete:Ae},void 0===Pe.next&&(Pe.next=Ot),void 0===Pe.error&&(Pe.error=Ot),void 0===Pe.complete&&(Pe.complete=Ot);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Pe.error(this.finalError):Pe.complete()}catch{}}),this.observers.push(Pe),We}unsubscribeOne(Te){void 0===this.observers||void 0===this.observers[Te]||(delete this.observers[Te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Te){if(!this.finalized)for(let De=0;De<this.observers.length;De++)this.sendOne(De,Te)}sendOne(Te,De){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Te])try{De(this.observers[Te])}catch(Ae){typeof console<"u"&&console.error&&console.error(Ae)}})}close(Te){this.finalized||(this.finalized=!0,void 0!==Te&&(this.finalError=Te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ot(){}function rt(Ee,Te=1e3,De=2){const Ae=Te*Math.pow(De,Ee),Pe=Math.round(.5*Ae*(Math.random()-.5)*2);return Math.min(144e5,Ae+Pe)}function Ze(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}},6023:(Ie,x,R)=>{"use strict";var s=R(4650);let te=null;function O(){return te}const B=new s.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function he(){return(0,s.LFG)(Y)}()},providedIn:"platform"}),n})();const ee=new s.OlP("Location Initialized");let Y=(()=>{class n extends ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){se()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){se()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function $(){return new Y((0,s.LFG)(B))}()},providedIn:"platform"}),n})();function se(){return!!window.history.pushState}function ae(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function q(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function fe(n){return n&&"?"!==n[0]?"?"+n:n}let z=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(E)},providedIn:"root"}),n})();const Z=new s.OlP("appBaseHref");let E=(()=>{class n extends z{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(B).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ae(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+fe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+fe(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+fe(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ce),s.LFG(Z,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A=(()=>{class n extends z{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ae(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+fe(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+fe(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ce),s.LFG(Z,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),F=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=q(J(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+fe(i))}normalize(e){return n.stripTrailingSlash(function N(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,J(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fe(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=fe,n.joinWithSlash=ae,n.stripTrailingSlash=q,n.\u0275fac=function(e){return new(e||n)(s.LFG(z))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function X(){return new F((0,s.LFG)(z))}()},providedIn:"root"}),n})();function J(n){return n.replace(/\/index.html$/,"")}var W=(()=>((W=W||{})[W.Format=0]="Format",W[W.Standalone=1]="Standalone",W))(),le=(()=>((le=le||{})[le.Narrow=0]="Narrow",le[le.Abbreviated=1]="Abbreviated",le[le.Wide=2]="Wide",le[le.Short=3]="Short",le))(),ge=(()=>((ge=ge||{})[ge.Short=0]="Short",ge[ge.Medium=1]="Medium",ge[ge.Long=2]="Long",ge[ge.Full=3]="Full",ge))(),ye=(()=>((ye=ye||{})[ye.Decimal=0]="Decimal",ye[ye.Group=1]="Group",ye[ye.List=2]="List",ye[ye.PercentSign=3]="PercentSign",ye[ye.PlusSign=4]="PlusSign",ye[ye.MinusSign=5]="MinusSign",ye[ye.Exponential=6]="Exponential",ye[ye.SuperscriptingExponent=7]="SuperscriptingExponent",ye[ye.PerMille=8]="PerMille",ye[ye.Infinity=9]="Infinity",ye[ye.NaN=10]="NaN",ye[ye.TimeSeparator=11]="TimeSeparator",ye[ye.CurrencyDecimal=12]="CurrencyDecimal",ye[ye.CurrencyGroup=13]="CurrencyGroup",ye))();function L(n,t){return yt((0,s.cg1)(n)[s.wAp.DateFormat],t)}function Q(n,t){return yt((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function ne(n,t){return yt((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function U(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===ye.CurrencyDecimal)return e[s.wAp.NumberSymbols][ye.Decimal];if(t===ye.CurrencyGroup)return e[s.wAp.NumberSymbols][ye.Group]}return i}function Qe(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function yt(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function ct(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const nt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,dt={},kt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ke=(()=>((Ke=Ke||{})[Ke.Short=0]="Short",Ke[Ke.ShortGMT=1]="ShortGMT",Ke[Ke.Long=2]="Long",Ke[Ke.Extended=3]="Extended",Ke))(),me=(()=>((me=me||{})[me.FullYear=0]="FullYear",me[me.Month=1]="Month",me[me.Date=2]="Date",me[me.Hours=3]="Hours",me[me.Minutes=4]="Minutes",me[me.Seconds=5]="Seconds",me[me.FractionalSeconds=6]="FractionalSeconds",me[me.Day=7]="Day",me))(),xe=(()=>((xe=xe||{})[xe.DayPeriods=0]="DayPeriods",xe[xe.Days=1]="Days",xe[xe.Months=2]="Months",xe[xe.Eras=3]="Eras",xe))();function ft(n,t,e,i){let r=function wn(n){if(Rn(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(h=>+h);return wt(r,o-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(nt))return function Sn(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,_=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,u,h,_,w),t}(i)}const t=new Date(n);if(!Rn(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Ne(e,t)||t;let h,u=[];for(;t;){if(h=kt.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const M=u.pop();if(!M)break;t=M}}let _=r.getTimezoneOffset();i&&(_=On(i,_),r=function sn(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function nn(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(On(t,r)-r))}(r,i,!0));let w="";return u.forEach(M=>{const H=function rn(n){if(en[n])return en[n];let t;switch(n){case"G":case"GG":case"GGG":t=Ze(xe.Eras,le.Abbreviated);break;case"GGGG":t=Ze(xe.Eras,le.Wide);break;case"GGGGG":t=Ze(xe.Eras,le.Narrow);break;case"y":t=bt(me.FullYear,1,0,!1,!0);break;case"yy":t=bt(me.FullYear,2,0,!0,!0);break;case"yyy":t=bt(me.FullYear,3,0,!1,!0);break;case"yyyy":t=bt(me.FullYear,4,0,!1,!0);break;case"Y":t=Dt(1);break;case"YY":t=Dt(2,!0);break;case"YYY":t=Dt(3);break;case"YYYY":t=Dt(4);break;case"M":case"L":t=bt(me.Month,1,1);break;case"MM":case"LL":t=bt(me.Month,2,1);break;case"MMM":t=Ze(xe.Months,le.Abbreviated);break;case"MMMM":t=Ze(xe.Months,le.Wide);break;case"MMMMM":t=Ze(xe.Months,le.Narrow);break;case"LLL":t=Ze(xe.Months,le.Abbreviated,W.Standalone);break;case"LLLL":t=Ze(xe.Months,le.Wide,W.Standalone);break;case"LLLLL":t=Ze(xe.Months,le.Narrow,W.Standalone);break;case"w":t=at(1);break;case"ww":t=at(2);break;case"W":t=at(1,!0);break;case"d":t=bt(me.Date,1);break;case"dd":t=bt(me.Date,2);break;case"c":case"cc":t=bt(me.Day,1);break;case"ccc":t=Ze(xe.Days,le.Abbreviated,W.Standalone);break;case"cccc":t=Ze(xe.Days,le.Wide,W.Standalone);break;case"ccccc":t=Ze(xe.Days,le.Narrow,W.Standalone);break;case"cccccc":t=Ze(xe.Days,le.Short,W.Standalone);break;case"E":case"EE":case"EEE":t=Ze(xe.Days,le.Abbreviated);break;case"EEEE":t=Ze(xe.Days,le.Wide);break;case"EEEEE":t=Ze(xe.Days,le.Narrow);break;case"EEEEEE":t=Ze(xe.Days,le.Short);break;case"a":case"aa":case"aaa":t=Ze(xe.DayPeriods,le.Abbreviated);break;case"aaaa":t=Ze(xe.DayPeriods,le.Wide);break;case"aaaaa":t=Ze(xe.DayPeriods,le.Narrow);break;case"b":case"bb":case"bbb":t=Ze(xe.DayPeriods,le.Abbreviated,W.Standalone,!0);break;case"bbbb":t=Ze(xe.DayPeriods,le.Wide,W.Standalone,!0);break;case"bbbbb":t=Ze(xe.DayPeriods,le.Narrow,W.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ze(xe.DayPeriods,le.Abbreviated,W.Format,!0);break;case"BBBB":t=Ze(xe.DayPeriods,le.Wide,W.Format,!0);break;case"BBBBB":t=Ze(xe.DayPeriods,le.Narrow,W.Format,!0);break;case"h":t=bt(me.Hours,1,-12);break;case"hh":t=bt(me.Hours,2,-12);break;case"H":t=bt(me.Hours,1);break;case"HH":t=bt(me.Hours,2);break;case"m":t=bt(me.Minutes,1);break;case"mm":t=bt(me.Minutes,2);break;case"s":t=bt(me.Seconds,1);break;case"ss":t=bt(me.Seconds,2);break;case"S":t=bt(me.FractionalSeconds,1);break;case"SS":t=bt(me.FractionalSeconds,2);break;case"SSS":t=bt(me.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Te(Ke.Short);break;case"ZZZZZ":t=Te(Ke.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Te(Ke.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Te(Ke.Long);break;default:return null}return en[n]=t,t}(M);w+=H?H(r,e,_):"''"===M?"'":M.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function wt(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Ne(n,t){const e=function Ve(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(dt[e]=dt[e]||{},dt[e][t])return dt[e][t];let i="";switch(t){case"shortDate":i=L(n,ge.Short);break;case"mediumDate":i=L(n,ge.Medium);break;case"longDate":i=L(n,ge.Long);break;case"fullDate":i=L(n,ge.Full);break;case"shortTime":i=Q(n,ge.Short);break;case"mediumTime":i=Q(n,ge.Medium);break;case"longTime":i=Q(n,ge.Long);break;case"fullTime":i=Q(n,ge.Full);break;case"short":const r=Ne(n,"shortTime"),o=Ne(n,"shortDate");i=we(ne(n,ge.Short),[r,o]);break;case"medium":const u=Ne(n,"mediumTime"),h=Ne(n,"mediumDate");i=we(ne(n,ge.Medium),[u,h]);break;case"long":const _=Ne(n,"longTime"),w=Ne(n,"longDate");i=we(ne(n,ge.Long),[_,w]);break;case"full":const M=Ne(n,"fullTime"),H=Ne(n,"fullDate");i=we(ne(n,ge.Full),[M,H])}return i&&(dt[e][t]=i),i}function we(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Fe(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),o+u}function bt(n,t,e=0,i=!1,r=!1){return function(o,u){let h=function Yt(n,t){switch(n){case me.FullYear:return t.getFullYear();case me.Month:return t.getMonth();case me.Date:return t.getDate();case me.Hours:return t.getHours();case me.Minutes:return t.getMinutes();case me.Seconds:return t.getSeconds();case me.FractionalSeconds:return t.getMilliseconds();case me.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||h>-e)&&(h+=e),n===me.Hours)0===h&&-12===e&&(h=12);else if(n===me.FractionalSeconds)return function rt(n,t){return Fe(n,3).substring(0,t)}(h,t);const _=U(u,ye.MinusSign);return Fe(h,t,_,i,r)}}function Ze(n,t,e=W.Format,i=!1){return function(r,o){return function Ee(n,t,e,i,r,o){switch(e){case xe.Months:return function ve(n,t,e){const i=(0,s.cg1)(n),o=yt([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return yt(o,e)}(t,r,i)[n.getMonth()];case xe.Days:return function it(n,t,e){const i=(0,s.cg1)(n),o=yt([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return yt(o,e)}(t,r,i)[n.getDay()];case xe.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(o){const w=function mt(n){const t=(0,s.cg1)(n);return Qe(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?ct(i):[ct(i[0]),ct(i[1])])}(t),M=function Tt(n,t,e){const i=(0,s.cg1)(n);Qe(i);const o=yt([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return yt(o,e)||[]}(t,r,i),H=w.findIndex(Ce=>{if(Array.isArray(Ce)){const[Me,Le]=Ce,$e=u>=Me.hours&&h>=Me.minutes,st=u<Le.hours||u===Le.hours&&h<Le.minutes;if(Me.hours<Le.hours){if($e&&st)return!0}else if($e||st)return!0}else if(Ce.hours===u&&Ce.minutes===h)return!0;return!1});if(-1!==H)return M[H]}return function Xe(n,t,e){const i=(0,s.cg1)(n),o=yt([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return yt(o,e)}(t,r,i)[u<12?0:1];case xe.Eras:return function I(n,t){return yt((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Te(n){return function(t,e,i){const r=-1*i,o=U(e,ye.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ke.Short:return(r>=0?"+":"")+Fe(u,2,o)+Fe(Math.abs(r%60),2,o);case Ke.ShortGMT:return"GMT"+(r>=0?"+":"")+Fe(u,1,o);case Ke.Long:return"GMT"+(r>=0?"+":"")+Fe(u,2,o)+":"+Fe(Math.abs(r%60),2,o);case Ke.Extended:return 0===i?"Z":(r>=0?"+":"")+Fe(u,2,o)+":"+Fe(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function We(n){return wt(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function at(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+o)/7)}else{const o=We(e),u=function Pe(n){const t=wt(n,0,1).getDay();return wt(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),h=o.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Fe(r,n,U(i,ye.MinusSign))}}function Dt(n,t=!1){return function(e,i){return Fe(We(e).getFullYear(),n,U(i,ye.MinusSign),t)}}const en={};function On(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Rn(n){return n instanceof Date&&!isNaN(n.valueOf())}function Fn(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let aa=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Co{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ds=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Co(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),Hr(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Hr(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Hr(n,t){n.context.$implicit=t.item}let Zs=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Bi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ir("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ir("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Bi{constructor(){this.$implicit=null,this.ngIf=null}}function ir(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class ua{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Do=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),Eo=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new ua(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Do,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();function Si(n,t){return new s.vHH(2100,!1)}class cd{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Kp{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const Es=new Kp,Qp=new cd;let Xc=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return Es;if((0,s.F4k)(e))return Qp;throw Si()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Jp=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let kh=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){if(null==e||""===e||e!=e)return null;try{return ft(e,i,o||this.locale,r??this.defaultTimezone??void 0)}catch(u){throw Si()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(Jp,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Xi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Ao="browser";function rr(n){return"server"===n}let tu=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new tl((0,s.LFG)(B),window)}),n})();class tl{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function nu(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=mi(this.window.history)||mi(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function mi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class ls{}class Ss extends class Fi extends class re{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){te||(te=n)}(new Ss)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function fd(){return Gr=Gr||document.querySelector("base"),Gr?Gr.getAttribute("href"):null}();return null==e?null:function nl(n){Ji=Ji||document.createElement("a"),Ji.setAttribute("href",n);const t=Ji.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Gr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Fn(document.cookie,t)}}let Ji,Gr=null;const fa=new s.OlP("TRANSITION_ID"),Zl=[{provide:s.ip1,useFactory:function Ht(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=O(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[fa,B,s.zs3],multi:!0}];let ru=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const So=new s.OlP("EventManagerPlugins");let To=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(So),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class il{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=O().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let pa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),xo=(()=>{class n extends pa{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(gt),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(gt))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function gt(n){O().remove(n)}const Cn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ga=/%COMP%/g;function Ts(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Ts(n,r,e):(r=r.replace(ga,n),e.push(r))}return e}function Kl(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let ol=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Js(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new _a(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new zr(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ts(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(To),s.LFG(xo),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Js{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Cn[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(su(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(su(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=Cn[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Cn[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Kl(i)):this.eventManager.addEventListener(t,e,Kl(i))}}function su(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class _a extends Js{constructor(t,e,i,r){super(t),this.component=i;const o=Ts(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function yr(n){return"_ngcontent-%COMP%".replace(ga,n)}(r+"-"+i.id),this.hostAttr=function sl(n){return"_nghost-%COMP%".replace(ga,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class zr extends Js{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Ts(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let gd=(()=>{class n extends il{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const ou=["alt","control","meta","shift"],Ph={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Io={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ll={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ql=(()=>{class n extends il{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="";if(ou.forEach(_=>{const w=i.indexOf(_);w>-1&&(i.splice(w,1),u+=_+".")}),u+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function cl(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Io.hasOwnProperty(t)&&(t=Io[t]))}return Ph[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),ou.forEach(o=>{o!=r&&(0,ll[o])(e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const lu=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:Ao},{provide:s.g9A,useValue:function Xl(){Ss.makeCurrent()},multi:!0},{provide:B,useFactory:function ec(){return(0,s.RDi)(document),document},deps:[]}]),tc=new s.OlP(""),nc=[{provide:s.rWj,useClass:class iu{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(_){u=u||_,o--,0==o&&i(u)};r.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],vi=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Jl(){return new s.qLn},deps:[]},{provide:So,useClass:gd,multi:!0,deps:[B,s.R0b,s.Lbi]},{provide:So,useClass:Ql,multi:!0,deps:[B]},{provide:ol,useClass:ol,deps:[To,xo,s.AFp]},{provide:s.FYo,useExisting:ol},{provide:pa,useExisting:xo},{provide:xo,useClass:xo,deps:[B]},{provide:To,useClass:To,deps:[So,s.R0b]},{provide:ls,useClass:ru,deps:[]},[]];let xs=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:fa,useExisting:s.AFp},Zl]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(tc,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...vi,...nc],imports:[Xi,s.hGG]}),n})(),md=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function ic(){return new md((0,s.LFG)(B))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Wr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(br),i},providedIn:"root"}),n})(),br=(()=>{class n extends Wr{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function vd(n){return new br(n.get(B))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var Vn=R(8996),qr=R(3269);function Nt(...n){const t=(0,qr.yG)(n);return(0,Vn.D)(n,t)}var _t=R(7579);class sr extends _t.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Yn=R(9751);const{isArray:gl}=Array,{getPrototypeOf:ml,prototype:sc,keys:oc}=Object;function _l(n){if(1===n.length){const t=n[0];if(gl(t))return{args:t,keys:null};if(function bd(n){return n&&"object"==typeof n&&ml(n)===sc}(t)){const e=oc(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var Yr=R(4671),zt=R(4004);const{isArray:to}=Array;function no(n){return(0,zt.U)(t=>function ac(n,t){return to(t)?n(...t):n(t)}(n,t))}function io(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Kn=R(5403),lc=R(9672);function wa(...n){const t=(0,qr.yG)(n),e=(0,qr.jO)(n),{args:i,keys:r}=_l(n);if(0===i.length)return(0,Vn.D)([],t);const o=new Yn.y(function cs(n,t,e=Yr.y){return i=>{cc(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let _=0;_<r;_++)cc(t,()=>{const w=(0,Vn.D)(n[_],t);let M=!1;w.subscribe((0,Kn.x)(i,H=>{o[_]=H,M||(M=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>io(r,u):Yr.y));return e?o.pipe(no(e)):o}function cc(n,t,e){n?(0,lc.f)(e,n,t):t()}var Ro=R(8189);function Ca(...n){return function hu(){return(0,Ro.J)(1)}()((0,Vn.D)(n,(0,qr.yG)(n)))}var pr=R(8421);function ro(n){return new Yn.y(t=>{(0,pr.Xf)(n()).subscribe(t)})}var Da=R(9635),ei=R(576);function or(n,t){const e=(0,ei.m)(n)?n:()=>n,i=r=>r.error(e());return new Yn.y(t?r=>t.schedule(i,0,r):i)}const wr=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hi=R(515),jn=R(727),Gn=R(4482);function xn(){return(0,Gn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Kn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class sg extends Yn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Gn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new jn.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Kn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=jn.w0.EMPTY)}return t}refCount(){return xn()(this)}}function li(n,t){return(0,Gn.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,Kn.x)(i,_=>{r?.unsubscribe();let w=0;const M=o++;(0,pr.Xf)(n(_,M)).subscribe(r=(0,Kn.x)(i,H=>i.next(t?t(_,H,M,w++):H),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function Qn(n){return n<=0?()=>Hi.E:(0,Gn.e)((t,e)=>{let i=0;t.subscribe((0,Kn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Xn(...n){const t=(0,qr.yG)(n);return(0,Gn.e)((e,i)=>{(t?Ca(n,e,t):Ca(n,e)).subscribe(i)})}function ti(n,t){return(0,Gn.e)((e,i)=>{let r=0;e.subscribe((0,Kn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var ji=R(5577);function yl(n){return(0,Gn.e)((t,e)=>{let i=!1;t.subscribe((0,Kn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function vl(n=I_){return(0,Gn.e)((t,e)=>{let i=!1;t.subscribe((0,Kn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function I_(){return new wr}function so(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ti((r,o)=>n(r,o,i)):Yr.y,Qn(1),e?yl(t):vl(()=>new wr))}function Zn(n,t){return(0,ei.m)(t)?(0,ji.z)(n,t,1):(0,ji.z)(n,1)}var ci=R(8505);function gr(n){return(0,Gn.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Kn.x)(e,void 0,void 0,u=>{o=(0,pr.Xf)(n(u,gr(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Hh(n,t,e,i,r){return(o,u)=>{let h=e,_=t,w=0;o.subscribe((0,Kn.x)(u,M=>{const H=w++;_=h?n(_,M,H):(h=!0,M),i&&u.next(_)},r&&(()=>{h&&u.next(_),u.complete()})))}}function Ea(n,t){return(0,Gn.e)(Hh(n,t,arguments.length>=2,!0))}function Ti(n){return n<=0?()=>Hi.E:(0,Gn.e)((t,e)=>{let i=[];t.subscribe((0,Kn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function us(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ti((r,o)=>n(r,o,i)):Yr.y,Ti(1),e?yl(t):vl(()=>new wr))}function bl(n){return(0,zt.U)(()=>n)}function ds(n){return(0,Gn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const pn="primary";class pu{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function wl(n){return new pu(n)}function wd(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Li(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Gi(n[r],t[r]))return!1;return!0}function Gi(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function hc(n){return Array.prototype.concat.apply([],n)}function Is(n){return n.length>0?n[n.length-1]:null}function ui(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Cr(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Vn.D)(Promise.resolve(n)):Nt(n)}const Dl={exact:function Oo(n,t,e){if(!fs(n.segments,t.segments)||!Fo(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Oo(n.children[i],t.children[i],e))return!1;return!0},subset:Zr},Gh={exact:function Cd(n,t){return Li(n,t)},subset:function Dd(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Gi(n[e],t[e]))},ignored:()=>!0};function mu(n,t,e){return Dl[e.paths](n.root,t.root,e.matrixParams)&&Gh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Zr(n,t,e){return ks(n,t,t.segments,e)}function ks(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!fs(r,e)||t.hasChildren()||!Fo(r,e,i))}if(n.segments.length===e.length){if(!fs(n.segments,e)||!Fo(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Zr(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(fs(n.segments,r)&&Fo(n.segments,r,i)&&n.children[pn])&&ks(n.children[pn],t,o,i)}}function Fo(n,t,e){return t.every((i,r)=>Gh[e](n[r].parameters,i.parameters))}class Lo{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wl(this.queryParams)),this._queryParamMap}toString(){return Ed.serialize(this)}}class dn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ui(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pc(this)}}class No{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=wl(this.parameters)),this._parameterMap}toString(){return Pt(this)}}function fs(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class fc{}class di{parse(t){const e=new Dr(t);return new Lo(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${P(t.root,!0)}`,i=function fn(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ue(e)}=${ue(r)}`).join("&"):`${ue(e)}=${ue(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Oe(n){return encodeURI(n)}(t.fragment)}`:""}`}}const Ed=new di;function pc(n){return n.segments.map(t=>Pt(t)).join("/")}function P(n,t){if(!n.hasChildren())return pc(n);if(t){const e=n.children[pn]?P(n.children[pn],!1):"",i=[];return ui(n.children,(r,o)=>{o!==pn&&i.push(`${o}:${P(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Vo(n,t){let e=[];return ui(n.children,(i,r)=>{r===pn&&(e=e.concat(t(i,r)))}),ui(n.children,(i,r)=>{r!==pn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===pn?[P(n.children[pn],!1)]:[`${r}:${P(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pn]?`${pc(n)}/${e[0]}`:`${pc(n)}/(${e.join("//")})`}}function V(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ue(n){return V(n).replace(/%3B/gi,";")}function ze(n){return V(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Je(n){return decodeURIComponent(n)}function pt(n){return Je(n.replace(/\+/g,"%20"))}function Pt(n){return`${ze(n.path)}${function Zt(n){return Object.keys(n).map(t=>`;${ze(t)}=${ze(n[t])}`).join("")}(n.parameters)}`}const yn=/^[^\/()?;=#]+/;function Wt(n){const t=n.match(yn);return t?t[0]:""}const pi=/^[^=?&#]+/,El=/^[^&#]+/;class Dr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[pn]=new dn(t,e)),i}parseSegment(){const t=Wt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(t),new No(Je(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Wt(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Wt(this.remaining);r&&(i=r,this.capture(i))}t[Je(e)]=Je(i)}parseQueryParam(t){const e=function ar(n){const t=n.match(pi);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function Aa(n){const t=n.match(El);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=pt(e),o=pt(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Wt(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=pn);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[pn]:new dn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,!1)}}function Bo(n){return n.segments.length>0?new dn([],{[pn]:n}):n}function Uo(n){const t={};for(const i of Object.keys(n.children)){const o=Uo(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function Sa(n){if(1===n.numberOfChildren&&n.children[pn]){const t=n.children[pn];return new dn(n.segments.concat(t.segments),t.children)}return n}(new dn(n.segments,t))}function lr(n){return n instanceof Lo}function P_(n,t,e,i,r){if(0===e.length)return jo(t.root,t.root,t.root,i,r);const o=function Wh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new R_(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return ui(o.outlets,(_,w)=>{h[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new R_(e,t,i)}(e);return o.toRoot()?jo(t.root,t.root,new dn([],{}),i,r):function u(_){const w=function O_(n,t,e,i){if(n.isAbsolute)return new _u(t.root,!0,0);if(-1===i)return new _u(e,e===t.root,0);return function Yh(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new _u(i,!1,r-o)}(e,i+(Ho(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,_),M=w.processChildren?ao(w.segmentGroup,w.index,o.commands):Al(w.segmentGroup,w.index,o.commands);return jo(t.root,w.segmentGroup,M,i,r)}(n.snapshot?._lastPathIndex)}function Ho(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function gc(n){return"object"==typeof n&&null!=n&&n.outlets}function jo(n,t,e,i,r){let u,o={};i&&ui(i,(_,w)=>{o[w]=Array.isArray(_)?_.map(M=>`${M}`):`${_}`}),u=n===t?e:$h(n,t,e);const h=Bo(Uo(u));return new Lo(h,o,r)}function $h(n,t,e){const i={};return ui(n.children,(r,o)=>{i[o]=r===t?e:$h(r,t,e)}),new dn(n.segments,i)}class R_{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Ho(i[0]))throw new s.vHH(4003,!1);const r=i.find(gc);if(r&&r!==Is(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _u{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function Al(n,t,e){if(n||(n=new dn([],{})),0===n.segments.length&&n.hasChildren())return ao(n,t,e);const i=function F_(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(gc(h))break;const _=`${h}`,w=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!vu(_,w,u))return o;i+=2}else{if(!vu(_,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new dn(n.segments.slice(0,i.pathIndex),{});return o.children[pn]=new dn(n.segments.slice(i.pathIndex),n.children),ao(o,0,r)}return i.match&&0===r.length?new dn(n.segments,{}):i.match&&!n.hasChildren()?Zh(n,t,e):i.match?ao(n,0,r):Zh(n,t,e)}function ao(n,t,e){if(0===e.length)return new dn(n.segments,{});{const i=function Ad(n){return gc(n[0])?n[0].outlets:{[pn]:n}}(e),r={};return ui(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=Al(n.children[u],t,o))}),ui(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new dn(n.segments,r)}}function Zh(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(gc(o)){const _=x0(o.outlets);return new dn(i,_)}if(0===r&&Ho(e[0])){i.push(new No(n.segments[t].path,yu(e[0]))),r++;continue}const u=gc(o)?o.outlets[pn]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&Ho(h)?(i.push(new No(u,yu(h))),r+=2):(i.push(new No(u,{})),r++)}return new dn(i,{})}function x0(n){const t={};return ui(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Zh(new dn([],{}),0,e))}),t}function yu(n){const t={};return ui(n,(e,i)=>t[i]=`${e}`),t}function vu(n,t,e){return n==e.path&&Li(t,e.parameters)}class lo{constructor(t,e){this.id=t,this.url=e}}class Sd extends lo{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ta extends lo{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class co extends lo{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Td extends lo{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class L_ extends lo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kh extends lo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class N_ extends lo{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ag extends lo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Go extends lo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xa{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class V_{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class lg{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cg{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class B_{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class U_{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ug{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Ma{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Qh(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Qh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Xh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Xh(t,this._root).map(e=>e.value)}}function Qh(n,t){if(n===t.value)return t;for(const e of t.children){const i=Qh(n,e);if(i)return i}return null}function Xh(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Xh(n,e);if(i.length)return i.unshift(t),i}return[]}class Ps{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function bu(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class xd extends Ma{constructor(t,e){super(t),this.snapshot=e,fg(this,t)}toString(){return this.snapshot.toString()}}function mc(n,t){const e=function dg(n,t){const u=new Sl([],{},{},"",{},pn,t,null,n.root,-1,{});return new Jh("",new Ps(u,[]))}(n,t),i=new sr([new No("",{})]),r=new sr({}),o=new sr({}),u=new sr({}),h=new sr(""),_=new er(i,r,u,h,o,pn,t,e.root);return _.snapshot=e.root,new xd(new Ps(_,[]),e)}class er{constructor(t,e,i,r,o,u,h,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,zt.U)(t=>wl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,zt.U)(t=>wl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function _c(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function hg(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class Sl{constructor(t,e,i,r,o,u,h,_,w,M,H,Ce){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=M,this._correctedLastPathIndex=Ce??M,this._resolve=H}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jh extends Ma{constructor(t,e){super(e),this.url=t,fg(this,e)}toString(){return j_(this._root)}}function fg(n,t){t.value._routerState=n,t.children.forEach(e=>fg(n,e))}function j_(n){const t=n.children.length>0?` { ${n.children.map(j_).join(", ")} } `:"";return`${n.value}${t}`}function pg(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Li(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Li(t.params,e.params)||n.params.next(e.params),function dc(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Li(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Li(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function wu(n,t){const e=Li(n.params,t.params)&&function hs(n,t){return fs(n,t)&&n.every((e,i)=>Li(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||wu(n.parent,t.parent))}function zo(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function M0(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return zo(n,i,r);return zo(n,i)})}(n,t,e);return new Ps(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>zo(n,h)),u}}const i=function I0(n){return new er(new sr(n.url),new sr(n.params),new sr(n.queryParams),new sr(n.fragment),new sr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>zo(n,o));return new Ps(i,r)}}const yc="ngNavigationCancelingError";function Id(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=lr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=gg(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function gg(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[yc]=!0,i.cancellationCode=t,e&&(i.url=e),i}function mg(n){return Cu(n)&&lr(n.url)}function Cu(n){return n&&n[yc]}class _g{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ia,this.attachRef=null}}class Ia{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new _g,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const Du=!1;let vc=(()=>{class n{constructor(e,i,r,o,u){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||pn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,Du);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,Du);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,Du);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,Du);this._activatedRoute=e;const r=this.location,u=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,_=new G_(e,h,r.injector);if(i&&function wi(n){return!!n.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(u);this.activated=r.createComponent(w,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ia),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class G_{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===er?this.route:t===Ia?this.childContexts:this.parent.get(t,e)}}let yg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[vc],encapsulation:2}),n})();function vg(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function kd(n){const t=n.children&&n.children.map(kd),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==pn&&(e.component=yg),e}function zi(n){return n.outlet||pn}function Eu(n,t){const e=n.filter(i=>zi(i)===t);return e.push(...n.filter(i=>zi(i)!==t)),e}function tf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class bg{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),pg(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=bu(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),ui(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=bu(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=bu(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=bu(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new U_(o.value.snapshot))}),t.children.length&&this.forwardEvent(new cg(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(pg(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),pg(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=tf(r.snapshot),_=h?.get(s._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class Er{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class $o{constructor(t,e){this.component=t,this.route=e}}function nf(n,t,e){const i=n._root;return Tl(i,t?t._root:null,e,[i.value])}function Au(n,t,e){return(tf(t)??e).get(n)}function Tl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=bu(t);return n.children.forEach(u=>{(function sf(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const _=function af(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!fs(n.url,t.url);case"pathParamsOrQueryParamsChange":return!fs(n.url,t.url)||!Li(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wu(n,t)||!Li(n.queryParams,t.queryParams);default:return!wu(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Er(i)):(o.data=u.data,o._resolvedData=u._resolvedData),Tl(n,t,o.component?h?h.children:null:e,i,r),_&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new $o(h.outlet.component,u))}else u&&wc(t,h,r),r.canActivateChecks.push(new Er(i)),Tl(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),ui(o,(u,h)=>wc(u,e.getContext(h),r)),r}function wc(n,t,e){const i=bu(n),r=n.value;ui(i,(o,u)=>{wc(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new $o(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function $i(n){return"function"==typeof n}const Cc=Symbol("INITIAL_VALUE");function Ar(){return li(n=>wa(n.map(t=>t.pipe(Qn(1),Xn(Cc)))).pipe((0,zt.U)(t=>{for(const e of t)if(!0!==e){if(e===Cc)return Cc;if(!1===e||e instanceof Lo)return e}return!0}),ti(t=>t!==Cc),Qn(1)))}function y(n){return(0,Da.z)((0,ci.b)(t=>{if(lr(t))throw Id(0,t)}),(0,zt.U)(t=>!0===t))}const m={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function C(n,t,e,i,r){const o=K(n,t,e);return o.matched?function p(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Nt(r.map(u=>{const h=n.get(u),_=function tr(n){return n&&$i(n.canMatch)}(h)?h.canMatch(t,e):h(t,e);return Cr(_)})).pipe(Ar(),y()):Nt(!0)}(i=vg(t,i),t,e).pipe((0,zt.U)(u=>!0===u?o:{...m})):Nt(o)}function K(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...m}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||wd)(e,n,t);if(!r)return{...m};const o={};ui(r.posParams,(h,_)=>{o[_]=h.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function _e(n,t,e,i,r="corrected"){if(e.length>0&&function Mt(n,t,e){return e.some(i=>an(n,t,i)&&zi(i)!==pn)}(n,e,i)){const u=new dn(t,function tt(n,t,e,i){const r={};r[pn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&zi(o)!==pn){const u=new dn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[zi(o)]=u}return r}(n,t,i,new dn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function Ut(n,t,e){return e.some(i=>an(n,t,i))}(n,e,i)){const u=new dn(n.segments,function Ge(n,t,e,i,r,o){const u={};for(const h of i)if(an(n,e,h)&&!r[zi(h)]){const _=new dn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[zi(h)]=_}return{...r,...u}}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new dn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function an(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function tn(n,t,e,i){return!!(zi(n)===i||i!==pn&&an(t,e,n))&&("**"===n.path||K(t,n,e).matched)}function xi(n,t,e){return 0===t.length&&!n.children[e]}const Sr=!1;class Ml{constructor(t){this.segmentGroup=t||null}}class Ld{constructor(t){this.urlTree=t}}function Pa(n){return or(new Ml(n))}function Tu(n){return or(new Ld(n))}class ey{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=_e(this.urlTree.root,[],[],this.config).segmentGroup,e=new dn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,pn).pipe((0,zt.U)(o=>this.createUrlTree(Uo(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gr(o=>{if(o instanceof Ld)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Ml?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,pn).pipe((0,zt.U)(r=>this.createUrlTree(Uo(r),t.queryParams,t.fragment))).pipe(gr(r=>{throw r instanceof Ml?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,Sr)}createUrlTree(t,e,i){const r=Bo(t);return new Lo(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,zt.U)(o=>new dn([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,Vn.D)(r).pipe(Zn(o=>{const u=i.children[o],h=Eu(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,zt.U)(_=>({segment:_,outlet:o})))}),Ea((o,u)=>(o[u.outlet]=u.segment,o),{}),us())}expandSegment(t,e,i,r,o,u){return(0,Vn.D)(i).pipe(Zn(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(gr(w=>{if(w instanceof Ml)return Nt(null);throw w}))),so(h=>!!h),gr((h,_)=>{if(h instanceof wr||"EmptyError"===h.name)return xi(e,r,o)?Nt(new dn([],{})):Pa(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return tn(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):Pa(e):Pa(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Tu(o):this.lineralizeSegments(i,o).pipe((0,ji.z)(u=>{const h=new dn(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:_,remainingSegments:w,positionalParamSegments:M}=K(e,r,o);if(!h)return Pa(e);const H=this.applyRedirectCommands(_,r.redirectTo,M);return r.redirectTo.startsWith("/")?Tu(H):this.lineralizeSegments(r,H).pipe((0,ji.z)(Ce=>this.expandSegment(t,e,i,Ce.concat(w),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=vg(i,t),i.loadChildren?(i._loadedRoutes?Nt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,zt.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new dn(r,{})))):Nt(new dn(r,{}))):C(e,i,r,t).pipe(li(({matched:u,consumedSegments:h,remainingSegments:_})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,ji.z)(M=>{const H=M.injector??t,Ce=M.routes,{segmentGroup:Me,slicedSegments:Le}=_e(e,h,_,Ce),$e=new dn(Me.segments,Me.children);if(0===Le.length&&$e.hasChildren())return this.expandChildren(H,Ce,$e).pipe((0,zt.U)(Xt=>new dn(h,Xt)));if(0===Ce.length&&0===Le.length)return Nt(new dn(h,{}));const st=zi(i)===o;return this.expandSegment(H,$e,Ce,Le,st?pn:o,!0).pipe((0,zt.U)(Bt=>new dn(h.concat(Bt.segments),Bt.children)))})):Pa(e)))}getChildConfig(t,e,i){return e.children?Nt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Nt({routes:e._loadedRoutes,injector:e._loadedInjector}):function J_(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Nt(!0):Nt(r.map(u=>{const h=n.get(u),_=function lf(n){return n&&$i(n.canLoad)}(h)?h.canLoad(t,e):h(t,e);return Cr(_)})).pipe(Ar(),y())}(t,e,i).pipe((0,ji.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,ci.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function hf(n){return or(gg(Sr,3))}())):Nt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Nt(i);if(r.numberOfChildren>1||!r.children[pn])return or(new s.vHH(4e3,Sr));r=r.children[pn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new Lo(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ui(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return ui(e.children,(h,_)=>{u[_]=this.createSegmentGroup(t,h,i,r)}),new dn(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,Sr);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class P0{}class SR{constructor(t,e,i,r,o,u,h,_){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=_}recognize(){const t=_e(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,pn).pipe((0,zt.U)(e=>{if(null===e)return null;const i=new Sl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ps(i,e),o=new Jh(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=_c(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Vn.D)(Object.keys(i.children)).pipe(Zn(r=>{const o=i.children[r],u=Eu(e,r);return this.processSegmentGroup(t,u,o,r)}),Ea((r,o)=>r&&o?(r.push(...o),r):null),function uc(n,t=!1){return(0,Gn.e)((e,i)=>{let r=0;e.subscribe((0,Kn.x)(i,o=>{const u=n(o,r++);(u||t)&&i.next(o),!u&&i.complete()}))})}(r=>null!==r),yl(null),us(),(0,zt.U)(r=>{if(null===r)return null;const o=Ag(r);return function TR(n){n.sort((t,e)=>t.value.outlet===pn?-1:e.value.outlet===pn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,Vn.D)(e).pipe(Zn(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,o)),so(u=>!!u),gr(u=>{if(u instanceof wr)return xi(i,r,o)?Nt([]):Nt(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!tn(e,i,r,o))return Nt(null);let u;if("**"===e.path){const h=r.length>0?Is(r).parameters:{},_=ny(i)+r.length;u=Nt({snapshot:new Sl(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,L0(e),zi(e),e.component??e._loadedComponent??null,e,ty(i),_,Tg(e),_),consumedSegments:[],remainingSegments:[]})}else u=C(i,e,r,t).pipe((0,zt.U)(({matched:h,consumedSegments:_,remainingSegments:w,parameters:M})=>{if(!h)return null;const H=ny(i)+_.length;return{snapshot:new Sl(_,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,L0(e),zi(e),e.component??e._loadedComponent??null,e,ty(i),H,Tg(e),H),consumedSegments:_,remainingSegments:w}}));return u.pipe(li(h=>{if(null===h)return Nt(null);const{snapshot:_,consumedSegments:w,remainingSegments:M}=h;t=e._injector??t;const H=e._loadedInjector??t,Ce=function qA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Me,slicedSegments:Le}=_e(i,w,M,Ce.filter(st=>void 0===st.redirectTo),this.relativeLinkResolution);if(0===Le.length&&Me.hasChildren())return this.processChildren(H,Ce,Me).pipe((0,zt.U)(st=>null===st?null:[new Ps(_,st)]));if(0===Ce.length&&0===Le.length)return Nt([new Ps(_,[])]);const $e=zi(e)===o;return this.processSegment(H,Ce,Me,Le,$e?pn:o).pipe((0,zt.U)(st=>null===st?null:[new Ps(_,st)]))}))}}function O0(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Ag(n){const t=[],e=new Set;for(const i of n){if(!O0(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=Ag(i.children);t.push(new Ps(i.value,r))}return t.filter(i=>!e.has(i))}function ty(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ny(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function L0(n){return n.data||{}}function Tg(n){return n.resolve||{}}const iy=Symbol("RouteTitle");function V0(n){return"string"==typeof n.title||null===n.title}function ry(n){return li(t=>{const e=n(t);return e?(0,Vn.D)(e).pipe((0,zt.U)(()=>t)):Nt(t)})}let xg=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===pn);return i}getResolvedTitleForRoute(e){return e.data[iy]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(B0)},providedIn:"root"}),n})(),B0=(()=>{class n extends xg{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(md))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class XA{}class U0 extends class JA{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const sy=new s.OlP("",{providedIn:"root",factory:()=>({})}),pf=new s.OlP("ROUTES");let Mg=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Nt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Cr(e.loadComponent()).pipe((0,ci.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),ds(()=>{this.componentLoaders.delete(e)})),r=new sg(i,()=>new _t.x).pipe(xn());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Nt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,zt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,w,M=!1;Array.isArray(h)?w=h:(_=h.create(e).injector,w=hc(_.get(pf,[],s.XFs.Self|s.XFs.Optional)));return{routes:w.map(kd),injector:_}}),ds(()=>{this.childrenLoaders.delete(i)})),u=new sg(o,()=>new _t.x).pipe(xn());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return Cr(e()).pipe((0,ji.z)(i=>i instanceof s.YKP||Array.isArray(i)?Nt(i):(0,Vn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class oy{}class xr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function ay(n){throw n}function tS(n,t,e){return t.parse("/")}const nS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},H0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ly(){const n=(0,s.f3M)(fc),t=(0,s.f3M)(Ia),e=(0,s.f3M)(F),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),o=(0,s.f3M)(pf,{optional:!0})??[],u=(0,s.f3M)(sy,{optional:!0})??{},h=(0,s.f3M)(B0),_=(0,s.f3M)(xg,{optional:!0}),w=(0,s.f3M)(oy,{optional:!0}),M=(0,s.f3M)(XA,{optional:!0}),H=new Kr(null,n,t,e,i,r,hc(o));return w&&(H.urlHandlingStrategy=w),M&&(H.routeReuseStrategy=M),H.titleStrategy=_??h,function iS(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,H),H}let Kr=(()=>{class n{constructor(e,i,r,o,u,h,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _t.x,this.errorHandler=ay,this.malformedUriErrorHandler=tS,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Nt(void 0),this.urlHandlingStrategy=new xr,this.routeReuseStrategy=new U0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Mg),this.configLoader.onLoadEndListener=Ce=>this.triggerEvent(new V_(Ce)),this.configLoader.onLoadStartListener=Ce=>this.triggerEvent(new xa(Ce)),this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const H=u.get(s.R0b);this.isNgZoneEnabled=H instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function gu(){return new Lo(new dn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=mc(this.currentUrlTree,this.rootComponentType),this.transitions=new sr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(ti(r=>0!==r.id),(0,zt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),li(r=>{let o=!1,u=!1;return Nt(r).pipe((0,ci.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),li(h=>{const _=this.browserUrlTree.toString(),w=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return G0(h.source)&&(this.browserUrlTree=h.extractedUrl),Nt(h).pipe(li(H=>{const Ce=this.transitions.getValue();return i.next(new Sd(H.id,this.serializeUrl(H.extractedUrl),H.source,H.restoredState)),Ce!==this.transitions.getValue()?Hi.E:Promise.resolve(H)}),function Dg(n,t,e,i){return li(r=>function Nd(n,t,e,i,r){return new ey(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,zt.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ci.b)(H=>{this.currentNavigation={...this.currentNavigation,finalUrl:H.urlAfterRedirects},r.urlAfterRedirects=H.urlAfterRedirects}),function ff(n,t,e,i,r,o){return(0,ji.z)(u=>function R0(n,t,e,i,r,o,u="emptyOnly",h="legacy"){return new SR(n,t,e,i,r,u,h,o).recognize().pipe(li(_=>null===_?function Eg(n){return new Yn.y(t=>t.error(n))}(new P0):Nt(_)))}(n,t,e,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,o).pipe((0,zt.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ci.b)(H=>{if(r.targetSnapshot=H.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const Me=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(Me,H)}this.browserUrlTree=H.urlAfterRedirects}const Ce=new L_(H.id,this.serializeUrl(H.extractedUrl),this.serializeUrl(H.urlAfterRedirects),H.targetSnapshot);i.next(Ce)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ce,extractedUrl:Me,source:Le,restoredState:$e,extras:st}=h,It=new Sd(Ce,this.serializeUrl(Me),Le,$e);i.next(It);const Bt=mc(Me,this.rootComponentType).snapshot;return Nt(r={...h,targetSnapshot:Bt,urlAfterRedirects:Me,extras:{...st,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),Hi.E}),(0,ci.b)(h=>{const _=new Kh(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,zt.U)(h=>r={...h,guards:nf(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function Su(n,t){return(0,ji.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?Nt({...e,guardsResult:!0}):function cf(n,t,e,i){return(0,Vn.D)(n).pipe((0,ji.z)(r=>function df(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Nt(o.map(h=>{const _=Au(h,t,r);return Cr(function Od(n){return n&&$i(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):_(n,t,e,i)).pipe(so())})).pipe(Ar()):Nt(!0)}(r.component,r.route,e,t,i)),so(r=>!0!==r,!0))}(u,i,r,n).pipe((0,ji.z)(h=>h&&function wg(n){return"boolean"==typeof n}(h)?function xl(n,t,e,i){return(0,Vn.D)(t).pipe(Zn(r=>Ca(function uf(n,t){return null!==n&&t&&t(new lg(n)),Nt(!0)}(r.route.parent,i),function K_(n,t){return null!==n&&t&&t(new B_(n)),Nt(!0)}(r.route,i),function X_(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function rf(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>ro(()=>Nt(u.guards.map(_=>{const w=Au(_,u.node,e);return Cr(function Z_(n){return n&&$i(n.canActivateChild)}(w)?w.canActivateChild(i,n):w(i,n)).pipe(so())})).pipe(Ar())));return Nt(o).pipe(Ar())}(n,r.path,e),function Q_(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Nt(!0);const r=i.map(o=>ro(()=>{const u=Au(o,t,e);return Cr(function Rd(n){return n&&$i(n.canActivate)}(u)?u.canActivate(t,n):u(t,n)).pipe(so())}));return Nt(r).pipe(Ar())}(n,r.route,e))),so(r=>!0!==r,!0))}(i,o,n,t):Nt(h)),(0,zt.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,ci.b)(h=>{if(r.guardsResult=h.guardsResult,lr(h.guardsResult))throw Id(0,h.guardsResult);const _=new N_(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),ti(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),ry(h=>{if(h.guards.canActivateChecks.length)return Nt(h).pipe((0,ci.b)(_=>{const w=new ag(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),li(_=>{let w=!1;return Nt(_).pipe(function YA(n,t){return(0,ji.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Nt(e);let o=0;return(0,Vn.D)(r).pipe(Zn(u=>function ZA(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!V0(r)&&(o[iy]=r.title),function N0(n,t,e,i){const r=function KA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Nt({});const o={};return(0,Vn.D)(r).pipe((0,ji.z)(u=>function QA(n,t,e,i){const r=Au(n,t,i);return Cr(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe(so(),(0,ci.b)(h=>{o[u]=h}))),Ti(1),bl(o),gr(u=>u instanceof wr?Hi.E:or(u)))}(o,n,t,i).pipe((0,zt.U)(u=>(n._resolvedData=u,n.data=_c(n,e).resolve,r&&V0(r)&&(n.data[iy]=r.title),null)))}(u.route,i,n,t)),(0,ci.b)(()=>o++),Ti(1),(0,ji.z)(u=>o===r.length?Nt(e):Hi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ci.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,ci.b)(_=>{const w=new Go(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),ry(h=>{const _=w=>{const M=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,ci.b)(H=>{w.component=H}),(0,zt.U)(()=>{})));for(const H of w.children)M.push(..._(H));return M};return wa(_(h.targetSnapshot.root)).pipe(yl(),Qn(1))}),ry(()=>this.afterPreactivation()),(0,zt.U)(h=>{const _=function Md(n,t,e){const i=zo(n,t._root,e?e._root:void 0);return new xd(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:_}}),(0,ci.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,zt.U)(i=>(new bg(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,ci.b)({next(){o=!0},complete(){o=!0}}),ds(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),gr(h=>{if(u=!0,Cu(h)){mg(h)||(this.navigated=!0,this.restoreHistory(r,!0));const _=new co(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(_),mg(h)){const w=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),M={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||G0(r.source)};this.scheduleNavigation(w,"imperative",null,M,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Td(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(_);try{r.resolve(this.errorHandler(h))}catch(w){r.reject(w)}}return Hi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const h={...o};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(kd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:_}=i,w=r||this.routerState.root,M=_?this.currentUrlTree.fragment:u;let H=null;switch(h){case"merge":H={...this.currentUrlTree.queryParams,...o};break;case"preserve":H=this.currentUrlTree.queryParams;break;default:H=o||null}return null!==H&&(H=this.removeEmptyProps(H)),P_(w,this.currentUrlTree,e,H,M??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=lr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function j0(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...nS}:!1===i?{...H0}:i,lr(e))return mu(this.currentUrlTree,e,r);const o=this.parseUrl(e);return mu(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Ta(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let h,_,w;u?(h=u.resolve,_=u.reject,w=u.promise):w=new Promise((Ce,Me)=>{h=Ce,_=Me});const M=++this.navigationId;let H;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),H=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):H=0,this.setTransition({id:M,targetPageId:H,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:h,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(Ce=>Promise.reject(Ce))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new co(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return ly()},providedIn:"root"}),n})();function G0(n){return"imperative"!==n}let Ig=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.commands=null,this.onChanges=new _t.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Kr),s.Y36(er),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),cy=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new _t.x,this.subscription=e.events.subscribe(o=>{o instanceof Ta&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,u){if(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Kr),s.Y36(er),s.Y36(z))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),z0=(()=>{class n{constructor(e,i,r,o,u,h){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=u,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(_=>{_ instanceof Ta&&this.update()})}ngAfterContentInit(){Nt(this.links.changes,this.linksWithHrefs.changes,Nt(null)).pipe((0,Ro.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Vn.D)(e).pipe((0,Ro.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function rS(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Kr),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(Ig,8),s.Y36(cy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Ig,5),s.Suo(r,cy,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[s.TTD]}),n})();class $0{}let W0=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(ti(e=>e instanceof Ta),Zn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const u=o._injector??e,h=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,Vn.D)(r).pipe((0,Ro.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Nt(null);const o=r.pipe((0,ji.z)(u=>null===u?Nt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Vn.D)([o,u]).pipe((0,Ro.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Kr),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG($0),s.LFG(Mg))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const q0=new s.OlP("");let xR=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Sd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ta&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof ug&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new ug(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const oS=new s.OlP("ROUTER_FORROOT_GUARD"),Wo=new s.OlP(""),uy=[F,{provide:fc,useClass:di},{provide:Kr,useFactory:ly},Ia,{provide:er,useFactory:function dy(n){return n.routerState.root},deps:[Kr]},Mg];function aS(){return new s.PXZ("Router",Kr)}let hy=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[uy,[],kg(e),{provide:oS,useFactory:Y0,deps:[[Kr,new s.FiY,new s.tp0]]},{provide:sy,useValue:i||{}},i?.useHash?{provide:z,useClass:A}:{provide:z,useClass:E},{provide:q0,useFactory:()=>{const n=(0,s.f3M)(Kr),t=(0,s.f3M)(tu),e=(0,s.f3M)(sy);return e.scrollOffset&&t.setOffset(e.scrollOffset),new xR(n,t,e)}},i?.preloadingStrategy?dS(i.preloadingStrategy):[],{provide:s.PXZ,multi:!0,useFactory:aS},i?.initialNavigation?MR(i):[],[{provide:py,useFactory:fy},{provide:s.tb,multi:!0,useExisting:py}]]}}static forChild(e){return{ngModule:n,providers:[kg(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(oS,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Y0(n){return"guarded"}function kg(n){return[{provide:pf,multi:!0,useValue:n}]}function fy(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(Kr),r=n.get(Pg);1===n.get(gy)&&i.initialNavigation(),n.get(Wo,null,s.XFs.Optional)?.setUpPreloading(),n.get(q0,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const py=new s.OlP("");function MR(n){return["disabled"===n.initialNavigation?[{provide:s.ip1,multi:!0,useFactory:()=>{const n=(0,s.f3M)(Kr);return()=>{n.setUpLocationChangeListener()}}},{provide:gy,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:gy,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:n=>{const t=n.get(ee,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(r=>{const o=n.get(Kr),u=n.get(Pg);(function i(r){n.get(Kr).events.pipe(ti(u=>u instanceof Ta||u instanceof co||u instanceof Td),(0,zt.U)(u=>u instanceof Ta||u instanceof co&&(0===u.code||1===u.code)&&null),ti(u=>null!==u),Qn(1)).subscribe(()=>{r()})})(()=>{r(!0),e=!0}),o.afterPreactivation=()=>(r(!0),e||u.closed?Nt(void 0):u),o.initialNavigation()}))}}]:[]]}const Pg=new s.OlP("",{factory:()=>new _t.x}),gy=new s.OlP("",{providedIn:"root",factory:()=>1});function dS(n){return[W0,{provide:Wo,useExisting:W0},{provide:$0,useExisting:n}]}var qo=(()=>{return(n=qo||(qo={})).activation="Activation",n.declination="Declination",n.deactivation="Deactivation",qo;var n})();const Rg=new Map([[".bmp",{mimeType:"image/bmp",fullDescription:"Standard Windows Bitmap image"}],[".gif",{mimeType:"image/gif",fullDescription:"Graphics interchange file format"}],[".jpeg",{mimeType:"image/jpeg",fullDescription:"JPEG bitmap image format file"}],[".jpg",{mimeType:"image/jpeg",fullDescription:"JPEG bitmap image format file"}]]),Og=new Map([[".pdf",{mimeType:"application/pdf",fullDescription:"Adobe Portable document format"}]]),_y=new Map([[".csv",{mimeType:"application/vnd.ms-excel",fullDescription:"Comma Separated Value file",application:"ms-excel"}],[".doc",{mimeType:"application/msword",fullDescription:"Microsoft Word 97 to 2003 document file",application:"ms-word:ofv|u|"}],[".docx",{mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",fullDescription:"Microsoft Word 2007/2010 Open XML document file",application:"ms-word:ofv|u|"}]]);let _f;try{_f=typeof Intl<"u"&&Intl.v8BreakIterator}catch{_f=!1}let Bd,Ci=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function el(n){return n===Ao}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!_f)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Q0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function yy(){if(Bd)return Bd;if("object"!=typeof document||!document)return Bd=new Set(Q0),Bd;let n=document.createElement("input");return Bd=new Set(Q0.filter(t=>(n.setAttribute("type",t),n.type===t))),Bd}let Ud,Iu,by;function Yo(n){return function Mu(){if(null==Ud&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ud=!0}))}finally{Ud=Ud||!1}return Ud}()?n:!!n.capture}function kR(){if(null==Iu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Iu=!1,Iu;if("scrollBehavior"in document.documentElement.style)Iu=!0;else{const n=Element.prototype.scrollTo;Iu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Iu}function Fg(n){if(function X0(){if(null==by){const n=typeof document<"u"?document.head:null;by=!(!n||!n.createShadowRoot&&!n.attachShadow)}return by}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Lg(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Rs(n){return n.composedPath?n.composedPath()[0]:n.target}function Ng(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Sc(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Os=R(4986);function zd(n,t=Os.z){return(0,Gn.e)((e,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const w=o;o=null,i.next(w)}};function _(){const w=u+n,M=t.now();if(M<w)return r=this.schedule(void 0,w-M),void i.add(r);h()}e.subscribe((0,Kn.x)(i,w=>{o=w,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}function My(n){return ti((t,e)=>n<=e)}function Bg(n,t=Yr.y){return n=n??Iy,(0,Gn.e)((e,i)=>{let r,o=!0;e.subscribe((0,Kn.x)(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function Iy(n,t){return n===t}var ky=R(5032);function Kt(n){return(0,Gn.e)((t,e)=>{(0,pr.Xf)(n).subscribe((0,Kn.x)(e,()=>e.complete(),ky.Z)),!e.closed&&t.subscribe(e)})}function ni(n){return null!=n&&"false"!=`${n}`}function ps(n,t=0){return function pw(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Ug(n){return Array.isArray(n)?n:[n]}function Mi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ii(n){return n instanceof s.SBq?n.nativeElement:n}let gw=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),US=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ii(e);return new Yn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new _t.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(gw))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Af=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ni(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=ps(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(zd(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(US),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),Tc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[gw]}),n})();const Ru=new Set;let kl,Sf=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):_w}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function HS(n){if(!Ru.has(n))try{kl||(kl=document.createElement("style"),kl.setAttribute("type","text/css"),document.head.appendChild(kl)),kl.sheet&&(kl.sheet.insertRule(`@media ${n} {body{ }}`,0),Ru.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ci))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function _w(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Tf=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new _t.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Hg(Ug(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=wa(Hg(Ug(e)).map(u=>this._registerQuery(u).observable));return o=Ca(o.pipe(Qn(1)),o.pipe(My(1),zd(0))),o.pipe((0,zt.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:w})=>{h.matches=h.matches||_,h.breakpoints[w]=_}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Yn.y(u=>{const h=_=>this._zone.run(()=>u.next(_));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Xn(i),(0,zt.U)(({matches:u})=>({query:e,matches:u})),Kt(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Sf),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Hg(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Oy(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const Fy="cdk-describedby-message",Gg="cdk-describedby-host";let zg=0,yw=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+zg++,this._document=e,this._id=(0,s.f3M)(s.AFp)+"-"+zg++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const o=Ly(i,r);"string"!=typeof i?(gs(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,o)||this._addMessageReference(e,o)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const o=Ly(i,r);if(this._isElementDescribedByMessage(e,o)&&this._removeMessageReference(e,o),"string"==typeof i){const u=this._messageRegistry.get(o);u&&0===u.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${Gg}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(Gg);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");gs(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Ly(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=Oy(e,"aria-describedby").filter(r=>0!=r.indexOf(Fy));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function Ry(n,t,e){const i=Oy(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(Gg,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function jS(n,t,e){const r=Oy(n,t).filter(o=>o!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(Gg)}_isElementDescribedByMessage(e,i){const r=Oy(e,"aria-describedby"),o=this._messageRegistry.get(i),u=o&&o.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=e.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(Ci))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ly(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function gs(n,t){n.id||(n.id=`${Fy}-${t}-${zg++}`)}class bw extends class vw{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new _t.x,this._typeaheadSubscription=jn.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new _t.x,this.change=new _t.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ci.b)(e=>this._pressedLetters.push(e)),zd(t),ti(()=>this._pressedLetters.length>0),(0,zt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Sc(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let $d=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function GS(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function ww(n){try{return n.frameElement}catch{return null}}(function qS(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===Aw(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=Aw(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function Sw(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function Tw(n){return!function $S(n){return function WS(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function zS(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function Cw(n){return function Dw(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||Ew(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ci))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ew(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function Aw(n){if(!Ew(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Na{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Qn(1)).subscribe(t)}}let xf=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Na(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($d),s.LFG(s.R0b),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $g(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Wd(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const ZS=new s.OlP("cdk-input-modality-detector-options"),KS={ignoreKeys:[18,17,224,91,16]},xc=Yo({passive:!0,capture:!0});let QS=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new sr(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Rs(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next($g(u)?"keyboard":"mouse"),this._mostRecentTarget=Rs(u))},this._onTouchstart=u=>{Wd(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Rs(u))},this._options={...KS,...o},this.modalityDetected=this._modality.pipe(My(1)),this.modalityChanged=this.modalityDetected.pipe(Bg()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,xc),r.addEventListener("mousedown",this._onMousedown,xc),r.addEventListener("touchstart",this._onTouchstart,xc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,xc),document.removeEventListener("mousedown",this._onMousedown,xc),document.removeEventListener("touchstart",this._onTouchstart,xc))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ci),s.LFG(s.R0b),s.LFG(B),s.LFG(ZS,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xw=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Ny(){return null}}),Mw=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let XS=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[o,u]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xw,8),s.LFG(s.R0b),s.LFG(B),s.LFG(Mw,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vy=new s.OlP("cdk-focus-monitor-default-options"),By=Yo({passive:!0,capture:!0});let Pl=(()=>{class n{constructor(e,i,r,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _t.x,this._rootNodeFocusAndBlurListener=h=>{for(let w=Rs(h);w;w=w.parentElement)"focus"===h.type?this._onFocus(h,w):this._onBlur(h,w)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=Ii(e);if(!this._platform.isBrowser||1!==r.nodeType)return Nt(null);const o=Fg(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new _t.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=Ii(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Ii(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,_])=>this._originChanged(h,i,_)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=Rs(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,By),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,By)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Kt(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,By),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,By),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Ci),s.LFG(QS),s.LFG(B,8),s.LFG(Vy,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Uy=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new s.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Pl))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const Hy="cdk-high-contrast-black-on-white",jy="cdk-high-contrast-white-on-black",Wg="cdk-high-contrast-active";let qg=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(Tf).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Wg,Hy,jy),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Wg,Hy):2===i&&e.add(Wg,jy)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ci),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uo=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qg))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Tc]}),n})();const Yg=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function Zg(){return(0,s.f3M)(B)}}),If=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let mr=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function JS(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?If.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yg,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),kf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const bO=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function tT(){return!0}});let Bn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Ng()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qg),s.LFG(bO,8),s.LFG(B))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[kf,kf]}),n})();function Pf(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=ni(t)}}}function Rf(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Ou(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ni(t)}}}function nT(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}const Qg=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function Fu(){return(0,s.f3M)(s.soG)}});class ms{constructor(){this._localeChanges=new _t.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Zo=new s.OlP("mat-date-formats"),iT=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Gy(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let zy=(()=>{class n extends ms{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Gy(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Gy(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Gy(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(iT.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qg,8),s.LFG(Ci))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const rT={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Va=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:ms,useClass:zy}]}),n})(),Of=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:Zo,useValue:rT}],imports:[Va]}),n})(),Mc=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ff=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Lu(n,t,e){n.nativeElement.classList.toggle(t,e)}let Nu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bn,Bn]}),n})();class qd{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Vu={enterDuration:225,exitDuration:150},Ic=Yo({passive:!0}),Bu=["mousedown","touchstart"],Uu=["mouseup","mouseleave","touchend","touchcancel"];class Zd{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ii(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Vu,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function Kd(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,_=e-r.top,w=o.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=h-u+"px",M.style.top=_-u+"px",M.style.height=2*u+"px",M.style.width=2*u+"px",null!=i.color&&(M.style.backgroundColor=i.color),M.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(M);const H=window.getComputedStyle(M),Me=H.transitionDuration,Le="none"===H.transitionProperty||"0s"===Me||"0s, 0s"===Me,$e=new qd(this,M,i,Le);M.style.transform="scale3d(1, 1, 1)",$e.state=0,i.persistent||(this._mostRecentTransientRipple=$e);let st=null;return!Le&&(w||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const It=()=>this._finishRippleTransition($e),Bt=()=>this._destroyRipple($e);M.addEventListener("transitionend",It),M.addEventListener("transitioncancel",Bt),st={onTransitionEnd:It,onTransitionCancel:Bt}}),this._activeRipples.set($e,st),(Le||!w)&&this._finishRippleTransition($e),$e}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...Vu,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ii(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Bu))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Uu),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=$g(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Wd(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Ic)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Bu.forEach(t=>{this._triggerElement.removeEventListener(t,this,Ic)}),this._pointerUpEventsRegistered&&Uu.forEach(t=>{this._triggerElement.removeEventListener(t,this,Ic)}))}}const Ow=new s.OlP("mat-ripple-global-options");let kc=(()=>{class n{constructor(e,i,r,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new Zd(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Ci),s.Y36(Ow,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Lf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bn,Bn]}),n})(),$y=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bn]}),n})();const Xg=["mat-button",""],Jg=["*"],em=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],tm=Rf(Pf(Ou(class{constructor(n){this._elementRef=n}})));let Rl=(()=>{class n extends tm{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of em)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Pl),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(kc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:Xg,ngContentSelectors:Jg,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[kc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Nf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Lf,Bn,Bn]}),n})();const Bw=["*",[["mat-card-footer"]]],Uw=["*","mat-card-footer"],Wy=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],qy=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let nm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),Hw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Yy=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),Gw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),n})(),Vf=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:Uw,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(Bw),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),zw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:qy,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(s.F$t(Wy),s.Hsn(0),s.TgZ(1,"div",0),s.Hsn(2,1),s.qZA(),s.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),$w=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bn,Bn]}),n})();var Ls=R(6451),IO=R(1144);const wT=["addListener","removeListener"],CT=["addEventListener","removeEventListener"],Ww=["on","off"];function zn(n,t,e,i){if((0,ei.m)(e)&&(i=e,e=void 0),i)return zn(n,t,e).pipe(no(i));const[r,o]=function ET(n){return(0,ei.m)(n.addEventListener)&&(0,ei.m)(n.removeEventListener)}(n)?CT.map(u=>h=>n[u](t,h,e)):function qw(n){return(0,ei.m)(n.addListener)&&(0,ei.m)(n.removeListener)}(n)?wT.map(Wi(n,t)):function DT(n){return(0,ei.m)(n.on)&&(0,ei.m)(n.off)}(n)?Ww.map(Wi(n,t)):[];if(!r&&(0,IO.z)(n))return(0,ji.z)(u=>zn(u,t,e))((0,pr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Yn.y(u=>{const h=(..._)=>u.next(1<_.length?_:_[0]);return r(h),()=>o(h)})}function Wi(n,t){return e=>i=>n[e](t,i)}class Zy{}const Ba="*";function Ua(n,t){return{type:7,name:n,definitions:t,options:{}}}function ki(n,t=null){return{type:4,styles:t,timings:n}}function Yw(n,t=null){return{type:3,steps:n,options:t}}function Zw(n,t=null){return{type:2,steps:n,options:t}}function Pn(n){return{type:6,styles:n,offset:null}}function _s(n,t,e){return{type:0,name:n,styles:t,options:e}}function Mr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function rm(n=null){return{type:9,options:n}}function Qw(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Ko(n){Promise.resolve(null).then(n)}class Xr{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ko(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ho{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?Ko(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Xw=["connectionContainer"],ST=["inputContainer"],TT=["label"];function xT(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function MT(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function Ky(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function Bf(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function IT(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function Jw(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.YNc(2,Ky,4,1,"ng-container",12),s.YNc(3,Bf,1,0,"ng-content",12),s.YNc(4,IT,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function kT(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function eC(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function tC(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function om(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function PT(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,om,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const nC=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],iC=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Qy=0;const Uf=new s.OlP("MatError");let Xy=(()=>{class n{constructor(e,i){this.id="mat-error-"+Qy++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:Uf,useExisting:n}])]}),n})();const rC={transitionMessages:Ua("transitionMessages",[_s("enter",Pn({opacity:1,transform:"translateY(0%)"})),Mr("void => enter",[Pn({opacity:0,transform:"translateY(-5px)"}),ki("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let am=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const sC=new s.OlP("MatHint");let lm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),NT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const VT=new s.OlP("MatPrefix"),oC=new s.OlP("MatSuffix");let BT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:oC,useExisting:n}])]}),n})(),aC=0;const HT=Rf(class{constructor(n){this._elementRef=n}},"primary"),jT=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Jy=new s.OlP("MatFormField");let cm=(()=>{class n extends HT{constructor(e,i,r,o,u,h,_){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new _t.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+aC++,this._labelId="mat-form-field-label-"+aC++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ni(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Xn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Kt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Kt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Ls.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Xn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Xn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Kt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,zn(this._label.nativeElement,"transitionend").pipe(Qn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const M=i.querySelectorAll(`${r}, ${o}`);for(let H=0;H<M.length;H++)M[H].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const _=i.querySelectorAll(r),w=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const M=i.getBoundingClientRect();if(0===M.width&&0===M.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const H=this._getStartEnd(M),Ce=e.children,Me=this._getStartEnd(Ce[0].getBoundingClientRect());let Le=0;for(let $e=0;$e<Ce.length;$e++)Le+=Ce[$e].offsetWidth;u=Math.abs(Me-H)-5,h=Le>0?.75*Le+10:0}for(let M=0;M<_.length;M++)_[M].style.width=`${u}px`;for(let M=0;M<w.length;M++)w[M].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(mr,8),s.Y36(jT,8),s.Y36(Ci),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,am,5),s.Suo(r,am,7),s.Suo(r,lm,5),s.Suo(r,lm,7),s.Suo(r,NT,5),s.Suo(r,Uf,5),s.Suo(r,sC,5),s.Suo(r,VT,5),s.Suo(r,oC,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Xw,7),s.Gf(ST,5),s.Gf(TT,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:Jy,useExisting:n}]),s.qOj],ngContentSelectors:iC,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(nC),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,xT,9,0,"ng-container",3),s.YNc(4,MT,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,Jw,5,16,"label",8),s.qZA()(),s.YNc(10,kT,2,0,"div",9),s.qZA(),s.YNc(11,eC,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,tC,2,1,"div",12),s.YNc(14,PT,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[Zs,Do,Eo,Af],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[rC.transitionMessages]},changeDetection:0}),n})(),ev=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Xi,Bn,Tc,Bn]}),n})();const cC=Yo({passive:!0});let GT=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Hi.E;const i=Ii(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new _t.x,u="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,cC),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,cC)}}),o}stopMonitoring(e){const i=Ii(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ci),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function nv(...n){const t=(0,qr.jO)(n),{args:e,keys:i}=_l(n),r=new Yn.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let _=u,w=u;for(let M=0;M<u;M++){let H=!1;(0,pr.Xf)(e[M]).subscribe((0,Kn.x)(o,Ce=>{H||(H=!0,w--),h[M]=Ce},()=>_--,void 0,()=>{(!_||!H)&&(w||o.next(i?io(i,h):h),o.complete())}))}});return t?r.pipe(no(t)):r}let iv=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Pc=(()=>{class n extends iv{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Ns=new s.OlP("NgValueAccessor"),dC={provide:Ns,useExisting:(0,s.Gpc)(()=>Ha),multi:!0},ov=new s.OlP("CompositionEventMode");let Ha=(()=>{class n extends iv{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sv(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(ov,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([dC]),s.qOj]}),n})();function Rc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Hu(n){return null!=n&&"number"==typeof n.length}const Ir=new s.OlP("NgValidators"),ja=new s.OlP("NgAsyncValidators"),FO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qd{static min(t){return function av(n){return t=>{if(Rc(t.value)||Rc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function WT(n){return t=>{if(Rc(t.value)||Rc(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function ln(n){return Rc(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function hC(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function fC(n){return Rc(n.value)||FO.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function pC(n){return t=>Rc(t.value)||!Hu(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function ju(n){return t=>Hu(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function gC(n){if(!n)return Gu;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Rc(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return cv(t)}static composeAsync(t){return uv(t)}}function Gu(n){return null}function Hf(n){return null!=n}function Di(n){return(0,s.QGY)(n)?(0,Vn.D)(n):n}function qT(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function lv(n,t){return t.map(e=>e(n))}function _C(n){return n.map(t=>function mC(n){return!n.validate}(t)?t:e=>t.validate(e))}function cv(n){if(!n)return null;const t=n.filter(Hf);return 0==t.length?null:function(e){return qT(lv(e,t))}}function um(n){return null!=n?cv(_C(n)):null}function uv(n){if(!n)return null;const t=n.filter(Hf);return 0==t.length?null:function(e){return nv(lv(e,t).map(Di)).pipe((0,zt.U)(qT))}}function dm(n){return null!=n?uv(_C(n)):null}function yC(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function vC(n){return n._rawValidators}function bC(n){return n._rawAsyncValidators}function zu(n){return n?Array.isArray(n)?n:[n]:[]}function hm(n,t){return Array.isArray(n)?n.includes(t):n===t}function wC(n,t){const e=zu(t);return zu(n).forEach(r=>{hm(e,r)||e.push(r)}),e}function CC(n,t){return zu(t).filter(e=>!hm(n,e))}class jf{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=um(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=dm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class kr extends jf{get formDirective(){return null}get path(){return null}}class Ga extends jf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dv{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Xd=(()=>{class n extends dv{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ga,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),DC=(()=>{class n extends dv{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kr,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const Fl="VALID",ym="INVALID",Jd="PENDING",Gf="DISABLED";function pv(n){return(bm(n)?n.validators:n)||null}function SC(n){return Array.isArray(n)?um(n):n||null}function vm(n,t){return(bm(t)?t.asyncValidators:n)||null}function TC(n){return Array.isArray(n)?dm(n):n||null}function bm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function $u(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")}function xC(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})}class zf{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=SC(this._rawValidators),this._composedAsyncValidatorFn=TC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Fl}get invalid(){return this.status===ym}get pending(){return this.status==Jd}get disabled(){return this.status===Gf}get enabled(){return this.status!==Gf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=SC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=TC(t)}addValidators(t){this.setValidators(wC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(wC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(CC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(CC(t,this._rawAsyncValidators))}hasValidator(t){return hm(this._rawValidators,t)}hasAsyncValidator(t){return hm(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Jd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Gf,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Fl,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Fl||this.status===Jd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Gf:Fl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Jd,this._hasOwnPendingAsyncValidator=!0;const e=Di(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Gf:this.errors?ym:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jd)?Jd:this._anyControlsHaveStatus(ym)?ym:Fl}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){bm(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class wm extends zf{constructor(t,e,i){super(pv(e),vm(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){xC(this,0,t),Object.keys(t).forEach(i=>{$u(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function $f(n,t){gv(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function mv(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_v(n,t)})}(n,t),function ex(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function JT(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_v(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function XT(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Wf(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Cm(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function qf(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function gv(n,t){const e=vC(n);null!==t.validator?n.setValidators(yC(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=bC(n);null!==t.asyncValidator?n.setAsyncValidators(yC(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();qf(t._rawValidators,r),qf(t._rawAsyncValidators,r)}function Cm(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=vC(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=bC(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return qf(t._rawValidators,i),qf(t._rawAsyncValidators,i),e}function _v(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function IC(n,t){gv(n,t)}function vv(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const sx={provide:kr,useExisting:(0,s.Gpc)(()=>Dm)},Yf=(()=>Promise.resolve(null))();let Dm=(()=>{class n extends kr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new wm({},um(e),dm(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Yf.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),$f(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Yf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Yf.then(()=>{const i=this._findContainer(e.path),r=new wm({});IC(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Yf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Yf.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,vv(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ir,10),s.Y36(ja,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([sx]),s.qOj]}),n})();function Em(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function Am(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const th=class extends zf{constructor(t=null,e,i){super(pv(e),vm(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),bm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=Am(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Em(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Em(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){Am(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let VC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Dv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Av=new s.OlP("NgModelWithFormControlWarning"),$C={provide:kr,useExisting:(0,s.Gpc)(()=>Tm)};let Tm=(()=>{class n extends kr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Cm(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return $f(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Wf(e.control||null,e,!1),function ix(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,vv(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Wf(i||null,e),(n=>n instanceof th)(r)&&($f(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);IC(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function tx(n,t){return Cm(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){gv(this.form,this),this._oldForm&&Cm(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ir,10),s.Y36(ja,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([$C]),s.qOj,s.TTD]}),n})();const hx={provide:Ga,useExisting:(0,s.Gpc)(()=>Tv)};let Tv=(()=>{class n extends Ga{constructor(e,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function bv(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Ha?e=o:function PC(n){return Object.getPrototypeOf(n.constructor)===Pc}(o)?i=o:r=o}),r||i||e||null}(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function yv(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function eh(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(kr,13),s.Y36(Ir,10),s.Y36(ja,10),s.Y36(Ns,10),s.Y36(Av,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([hx]),s.qOj,s.TTD]}),n})(),iD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Dv]}),n})(),Im=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[iD]}),n})(),Jf=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:Av,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[iD]}),n})();class rD extends zf{constructor(t,e,i){super(pv(e),vm(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){xC(this,0,t),t.forEach((i,r)=>{$u(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Fv(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Lv=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return Fv(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new wm(r,o)}control(e,i,r){let o={};return this.useNonNullable?(Fv(i)?o=i:(o.validators=i,o.asyncValidators=r),new th(e,{...o,nonNullable:!0})):new th(e,i,r)}array(e,i,r){const o=e.map(u=>this._createControl(u));return new rD(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof th||e instanceof zf?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:Jf}),n})();const km=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),Nv=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let sD=0;const Vv=nT(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new _t.x}});let Pm=(()=>{class n extends Vv{constructor(e,i,r,o,u,h,_,w,M,H){super(h,o,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=w,this._formField=H,this._uid="mat-input-"+sD++,this.focused=!1,this.stateChanges=new _t.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Le=>yy().has(Le)),this._iOSKeyupListener=Le=>{const $e=Le.target;!$e.value&&0===$e.selectionStart&&0===$e.selectionEnd&&($e.setSelectionRange(1,1),$e.setSelectionRange(0,0))};const Ce=this._elementRef.nativeElement,Me=Ce.nodeName.toLowerCase();this._inputValueAccessor=_||Ce,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&M.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Me,this._isTextarea="textarea"===Me,this._isInFormField=!!H,this._isNativeSelect&&(this.controlType=Ce.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=ni(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Qd.required)??!1}set required(e){this._required=ni(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&yy().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ni(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Nv.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ci),s.Y36(Ga,10),s.Y36(Dm,8),s.Y36(Tm,8),s.Y36(Mc),s.Y36(km,10),s.Y36(GT),s.Y36(s.R0b),s.Y36(Jy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:am,useExisting:n}]),s.qOj,s.TTD]}),n})(),wx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Mc],imports:[tv,ev,Bn,tv,ev]}),n})();var oD=R(4408);const ep={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=ep;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new jn.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=ep;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=ep;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var Bv=R(7565);const Hv=new class Uv extends Bv.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Cx extends oD.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=ep.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(ep.cancelAnimationFrame(e),t._scheduled=void 0)}});let Rm,aD=1;const Om={};function jv(n){return n in Om&&(delete Om[n],!0)}const lD={setImmediate(n){const t=aD++;return Om[t]=!0,Rm||(Rm=Promise.resolve()),Rm.then(()=>jv(t)&&n()),t},clearImmediate(n){jv(n)}},{setImmediate:cD,clearImmediate:uD}=lD,cr={setImmediate(...n){const{delegate:t}=cr;return(t?.setImmediate||cD)(...n)},clearImmediate(n){const{delegate:t}=cr;return(t?.clearImmediate||uD)(n)},delegate:void 0},Gv=new class Ex extends Bv.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class nh extends oD.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=cr.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(cr.clearImmediate(e),t._scheduled=void 0)}});var dD=R(3532);function Fc(n=0,t,e=Os.P){let i=-1;return null!=t&&((0,dD.K)(t)?e=t:i=t),new Yn.y(r=>{let o=function hD(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function fD(n,t=Os.z){return function t1(n){return(0,Gn.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const w=r;r=null,e.next(w)}u&&e.complete()},_=()=>{o=null,u&&e.complete()};t.subscribe((0,Kn.x)(e,w=>{i=!0,r=w,o||(0,pr.Xf)(n(w)).subscribe(o=(0,Kn.x)(e,h,_))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>Fc(n,t))}let Fm=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new _t.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Yn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(fD(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Nt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ti(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ii(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>zn(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Ci),s.LFG(B,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ll=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new _t.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(fD(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ci),s.LFG(s.R0b),s.LFG(B,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ip=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),yD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[kf,ip,kf,ip]}),n})();class zv{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Lc extends zv{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class Wu extends zv{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Rx extends zv{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class Lm{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Lc?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof Wu?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Rx?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class vD extends Lm{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let za=(()=>{class n extends Lm{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(B))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),qu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const $v=kR();class h1{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Mi(-this._previousScrollPosition.left),t.style.top=Mi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),$v&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),$v&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class f1{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Vx{enable(){}disable(){}attach(){}}function bD(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Bx(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class p1{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();bD(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let g1=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Vx,this.close=u=>new f1(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new h1(this._viewportRuler,this._document),this.reposition=u=>new p1(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fm),s.LFG(Ll),s.LFG(s.R0b),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Yu{constructor(t){if(this.scrollStrategy=new Vx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Nm{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Gx=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wv=(()=>{class n extends Gx{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wD=(()=>{class n extends Gx{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Rs(o)},this._clickListener=o=>{const u=Rs(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const M=_[w];if(M._outsidePointerEvents.observers.length<1||!M.hasAttached())continue;if(M.overlayElement.contains(u)||M.overlayElement.contains(h))break;const H=M._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>H.next(o)):H.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(Ci),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vm=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Ng()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Ng()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(Ci))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ih{constructor(t,e,i,r,o,u,h,_,w,M=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=_,this._outsideClickDispatcher=w,this._animationsDisabled=M,this._backdropElement=null,this._backdropClick=new _t.x,this._attachments=new _t.x,this._detachments=new _t.x,this._locationChanges=jn.w0.EMPTY,this._backdropClickHandler=H=>this._backdropClick.next(H),this._backdropTransitionendHandler=H=>{this._disposeBackdrop(H.target)},this._keydownEvents=new _t.x,this._outsidePointerEvents=new _t.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Mi(this._config.width),t.height=Mi(this._config.height),t.minWidth=Mi(this._config.minWidth),t.minHeight=Mi(this._config.minHeight),t.maxWidth=Mi(this._config.maxWidth),t.maxHeight=Mi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Ug(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Kt((0,Ls.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const zx="cdk-overlay-connected-position-bounding-box",$x=/([A-Za-z%]+)$/;class Wx{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _t.x,this._resizeSubscription=jn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(zx),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let _=this._getOriginPoint(t,r,h),w=this._getOverlayPoint(_,e,h),M=this._getOverlayFit(w,e,i,h);if(M.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(M,w,i)?o.push({position:h,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!u||u.overlayFit.visibleArea<M.visibleArea)&&(u={overlayFit:M,overlayPoint:w,originPoint:_,position:h,overlayRect:e})}if(o.length){let h=null,_=-1;for(const w of o){const M=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);M>_&&(_=M,h=w)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Zu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(zx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=CD(e);let{x:u,y:h}=t,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(u+=_),w&&(h+=w);let Ce=0-h,Me=h+o.height-i.height,Le=this._subtractOverflows(o.width,0-u,u+o.width-i.width),$e=this._subtractOverflows(o.height,Ce,Me),st=Le*$e;return{visibleArea:st,isCompletelyWithinViewport:o.width*o.height===st,fitsInViewportVertically:$e===o.height,fitsInViewportHorizontally:Le==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,u=rp(this._overlayRef.getConfig().minHeight),h=rp(this._overlayRef.getConfig().minWidth),w=t.fitsInViewportHorizontally||null!=h&&h<=o;return(t.fitsInViewportVertically||null!=u&&u<=r)&&w}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=CD(e),o=this._viewportRect,u=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),_=Math.max(o.top-i.top-t.y,0),w=Math.max(o.left-i.left-t.x,0);let M=0,H=0;return M=r.width<=o.width?w||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,H=r.height<=o.height?_||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:M,y:H},{x:t.x+M,y:t.y+H}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Nm(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,u,h,M,H,Ce;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const Me=Math.min(i.bottom-t.y+i.top,t.y),Le=this._lastBoundingBoxSize.height;o=2*Me,u=t.y-Me,o>Le&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-Le/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)Ce=i.width-t.x+this._viewportMargin,M=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)H=t.x,M=i.right-t.x;else{const Me=Math.min(i.right-t.x+i.left,t.x),Le=this._lastBoundingBoxSize.width;M=2*Me,H=t.x-Me,M>Le&&!this._isInitialRender&&!this._growAfterOpen&&(H=t.x-Le/2)}return{top:u,left:H,bottom:h,right:Ce,width:M,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Mi(i.height),r.top=Mi(i.top),r.bottom=Mi(i.bottom),r.width=Mi(i.width),r.left=Mi(i.left),r.right=Mi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Mi(o)),u&&(r.maxWidth=Mi(u))}this._lastBoundingBoxSize=i,Zu(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Zu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Zu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const M=this._viewportRuler.getViewportScrollPosition();Zu(i,this._getExactOverlayY(e,t,M)),Zu(i,this._getExactOverlayX(e,t,M))}else i.position="static";let h="",_=this._getOffset(e,"x"),w=this._getOffset(e,"y");_&&(h+=`translateX(${_}px) `),w&&(h+=`translateY(${w}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=Mi(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Mi(u.maxWidth):o&&(i.maxWidth="")),Zu(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Mi(o.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Mi(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Bx(t,i),isOriginOutsideView:bD(t,i),isOverlayClipped:Bx(e,i),isOverlayOutsideView:bD(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ug(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Zu(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function rp(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split($x);return e&&"px"!==e?null:parseFloat(t)}return n||null}function CD(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const qx="cdk-global-overlay-wrapper";class Yx{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(qx),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:h}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),M=this._xPosition,H=this._xOffset,Ce="rtl"===this._overlayRef.getConfig().direction;let Me="",Le="",$e="";_?$e="flex-start":"center"===M?($e="center",Ce?Le=H:Me=H):Ce?"left"===M||"end"===M?($e="flex-end",Me=H):("right"===M||"start"===M)&&($e="flex-start",Le=H):"left"===M||"start"===M?($e="flex-start",Me=H):("right"===M||"end"===M)&&($e="flex-end",Le=H),t.position=this._cssPosition,t.marginLeft=_?"0":Me,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=_?"0":Le,e.justifyContent=$e,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(qx),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Zx=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Yx}flexibleConnectedTo(e){return new Wx(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ll),s.LFG(B),s.LFG(Ci),s.LFG(Vm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kx=0,fo=(()=>{class n{constructor(e,i,r,o,u,h,_,w,M,H,Ce,Me){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=_,this._document=w,this._directionality=M,this._location=H,this._outsideClickDispatcher=Ce,this._animationsModuleType=Me}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new Yu(e);return u.direction=u.direction||this._directionality.value,new ih(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Kx++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new vD(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(g1),s.LFG(Vm),s.LFG(s._Vd),s.LFG(Zx),s.LFG(Wv),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(B),s.LFG(mr),s.LFG(F),s.LFG(wD),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Xx={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[fo],useFactory:function Xo(n){return()=>n.scrollStrategies.reposition()}};let Nc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[fo,Xx],imports:[kf,qu,yD,yD]}),n})();function Vs(n,t){}class Bm{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let AD=(()=>{class n extends Lm{constructor(e,i,r,o,u,h,_,w){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=u,this._ngZone=h,this._overlayRef=_,this._focusMonitor=w,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=M=>{this._portalOutlet.hasAttached();const H=this._portalOutlet.attachDomPortal(M);return this._contentAttached(),H},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Lg(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Lg();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Lg())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(xf),s.Y36(B,8),s.Y36(Bm),s.Y36($d),s.Y36(s.R0b),s.Y36(ih),s.Y36(Pl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(za,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,Vs,0,0,"ng-template",0)},dependencies:[za],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class qv{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new _t.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Sc(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const Um=new s.OlP("DialogScrollStrategy"),SD=new s.OlP("DialogData"),TD=new s.OlP("DefaultDialogConfig"),xD={provide:Um,deps:[fo],useFactory:function Jx(n){return()=>n.scrollStrategies.block()}};let MD=0,ID=(()=>{class n{constructor(e,i,r,o,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _t.x,this._afterOpenedAtThisLevel=new _t.x,this._ariaHiddenElements=new Map,this.afterAllClosed=ro(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Xn(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new Bm,...i}).id=i.id||"cdk-dialog-"+MD++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),u=this._overlay.create(o),h=new qv(u,i),_=this._attachContainer(u,h,i);return h.containerInstance=_,this._attachDialogContent(e,h,_,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){Hm(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){Hm(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),Hm(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Yu({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector??r.viewContainerRef?.injector,u=[{provide:Bm,useValue:r},{provide:qv,useValue:i},{provide:ih,useValue:e}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,u.push(...r.container.providers(r))):h=AD;const _=new Lc(h,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:u}),r.componentFactoryResolver);return e.attach(_).instance}_attachDialogContent(e,i,r,o){const u=this._createInjector(o,i,r);if(e instanceof s.Rgc){let h={$implicit:o.data,dialogRef:i};o.templateContext&&(h={...h,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new Wu(e,null,h,u))}else{const h=r.attachComponentPortal(new Lc(e,o.viewContainerRef,u,o.componentFactoryResolver));i.componentInstance=h.instance}}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:SD,useValue:e.data},{provide:qv,useValue:i}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(i,e,r)):u.push(...e.providers)),e.direction&&(!o||!o.get(mr,null,s.XFs.Optional))&&u.push({provide:mr,useValue:{value:e.direction,change:Nt()}}),s.zs3.create({parent:e.injector||o||this._injector,providers:u})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,u)=>{o?u.setAttribute("aria-hidden",o):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fo),s.LFG(s.zs3),s.LFG(TD,8),s.LFG(n,12),s.LFG(Vm),s.LFG(Um))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Hm(n,t){let e=n.length;for(;e--;)t(n[e])}let eM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ID,xD],imports:[Nc,qu,uo,qu]}),n})();function Yv(n,t){}const Bs={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},kD={dialogContainer:Ua("dialogContainer",[_s("void, exit",Pn({opacity:0,transform:"scale(0.7)"})),_s("enter",Pn({transform:"none"})),Mr("* => enter",Yw([ki("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",Pn({transform:"none",opacity:1})),Qw("@*",rm(),{optional:!0})]),Bs),Mr("* => void, * => exit",Yw([ki("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",Pn({opacity:0})),Qw("@*",rm(),{optional:!0})]),Bs)])};class rh{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Bs.params.enterAnimationDuration,this.exitAnimationDuration=Bs.params.exitAnimationDuration}}let Nl=(()=>{class n extends AD{constructor(e,i,r,o,u,h,_,w){super(e,i,r,o,u,h,_,w),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(xf),s.Y36(B,8),s.Y36(rh),s.Y36($d),s.Y36(s.R0b),s.Y36(ih),s.Y36(Pl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),tM=(()=>{class n extends Nl{constructor(e,i,r,o,u,h,_,w,M){super(e,i,r,o,u,h,_,M),this._changeDetectorRef=w,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Bs.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Bs.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(xf),s.Y36(B,8),s.Y36(rh),s.Y36($d),s.Y36(s.R0b),s.Y36(ih),s.Y36(s.sBO),s.Y36(Pl))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._getAnimationState()))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,Yv,0,0,"ng-template",0)},dependencies:[za],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[kD.dialogContainer]}}),n})();class PD{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new _t.x,this._beforeClosed=new _t.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(ti(r=>"opened"===r.state),Qn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(ti(r=>"closed"===r.state),Qn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Ls.T)(this.backdropClick(),this.keydownEvents().pipe(ti(r=>27===r.keyCode&&!this.disableClose&&!Sc(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),RD(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ti(e=>"closing"===e.state),Qn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function RD(n,t,e){return n._closeInteractionType=t,n.close(e)}const Zv=new s.OlP("MatDialogData"),nM=new s.OlP("mat-dialog-default-options"),OD=new s.OlP("mat-dialog-scroll-strategy"),FD={provide:OD,deps:[fo],useFactory:function y1(n){return()=>n.scrollStrategies.block()}};let rM=0,LD=(()=>{class n{constructor(e,i,r,o,u,h,_,w,M,H){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=M,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _t.x,this._afterOpenedAtThisLevel=new _t.x,this._idPrefix="mat-dialog-",this.afterAllClosed=ro(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Xn(void 0))),this._scrollStrategy=h,this._dialog=i.get(ID)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new rh,...i}).id=i.id||`${this._idPrefix}${rM++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:rh,useValue:i},{provide:Bm,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,h,_)=>(r=new this._dialogRefConstructor(u,i,_),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),jm=(()=>{class n extends LD{constructor(e,i,r,o,u,h,_,w){super(e,i,o,h,_,u,PD,tM,Zv,w)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fo),s.LFG(s.zs3),s.LFG(F,8),s.LFG(nM,8),s.LFG(OD),s.LFG(n,12),s.LFG(Vm),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Kv=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function VD(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){RD(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(PD,8),s.Y36(s.SBq),s.Y36(jm))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._onButtonClick(o)}),2&e&&s.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[s.TTD]}),n})(),Gm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[jm,FD],imports:[eM,Nc,qu,Bn,Bn]}),n})(),sp=(()=>{class n{constructor(e){this.data=e}ngOnInit(){if(this.data instanceof File){const e=new FileReader;e.onload=()=>this.url=e.result,e.readAsDataURL(this.data)}else this.url=this.data.url}get alt(){return`${this.data.name} preview`}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Zv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-image-preview"]],decls:1,vars:2,consts:[[3,"src","alt"]],template:function(e,i){1&e&&s._UZ(0,"img",0),2&e&&s.Q6J("src",i.url,s.LSH)("alt",i.alt)},styles:["img[_ngcontent-%COMP%]{height:90vh;width:auto;object-fit:cover}"]}),n})();class Qv{}class BD{}class $a{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof $a?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new $a;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof $a?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class lM{encodeKey(t){return Xv(t)}encodeValue(t){return Xv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const b1=/%(\d[a-f0-9])/gi,w1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Xv(n){return encodeURIComponent(n).replace(b1,(t,e)=>w1[e]??t)}function zm(n){return`${n}`}class Vc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new lM,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function cM(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],_=e.get(u)||[];_.push(h),e.set(u,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(zm):[zm(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Vc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(zm(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(zm(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class D1{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function uM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function dM(n){return typeof Blob<"u"&&n instanceof Blob}function hM(n){return typeof FormData<"u"&&n instanceof FormData}class Bc{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function E1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new $a),this.context||(this.context=new D1),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new Vc,this.urlWithParams=e}serializeBody(){return null===this.body?null:uM(this.body)||dM(this.body)||hM(this.body)||function fM(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Vc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||hM(this.body)?null:dM(this.body)?this.body.type||null:uM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Vc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,w=t.params||this.params;const M=t.context??this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((H,Ce)=>H.set(Ce,t.setHeaders[Ce]),_)),t.setParams&&(w=Object.keys(t.setParams).reduce((H,Ce)=>H.set(Ce,t.setParams[Ce]),w)),new Bc(e,i,o,{params:w,headers:_,context:M,reportProgress:h,responseType:r,withCredentials:u})}}var qi=(()=>((qi=qi||{})[qi.Sent=0]="Sent",qi[qi.UploadProgress=1]="UploadProgress",qi[qi.ResponseHeader=2]="ResponseHeader",qi[qi.DownloadProgress=3]="DownloadProgress",qi[qi.Response=4]="Response",qi[qi.User=5]="User",qi))();class Jv{constructor(t,e=200,i="OK"){this.headers=t.headers||new $a,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class $m extends Jv{constructor(t={}){super(t),this.type=qi.ResponseHeader}clone(t={}){return new $m({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Wa extends Jv{constructor(t={}){super(t),this.type=qi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Wa({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class eb extends Jv{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function op(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let sh=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Bc)o=e;else{let _,w;_=r.headers instanceof $a?r.headers:new $a(r.headers),r.params&&(w=r.params instanceof Vc?r.params:new Vc({fromObject:r.params})),o=new Bc(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Nt(o).pipe(Zn(_=>this.handler.handle(_)));if(e instanceof Bc||"events"===r.observe)return u;const h=u.pipe(ti(_=>_ instanceof Wa));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,zt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,zt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,zt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,zt.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Vc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,op(r,i))}post(e,i,r={}){return this.request("POST",e,op(r,i))}put(e,i,r={}){return this.request("PUT",e,op(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Qv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class UD{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Wm=new s.OlP("HTTP_INTERCEPTORS");let tb=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const gM=/^\)\]\}',?\n/;let ib=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Yn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((Me,Le)=>r.setRequestHeader(Me,Le.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Me=e.detectContentTypeHeader();null!==Me&&r.setRequestHeader("Content-Type",Me)}if(e.responseType){const Me=e.responseType.toLowerCase();r.responseType="json"!==Me?Me:"text"}const o=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const Me=r.statusText||"OK",Le=new $a(r.getAllResponseHeaders()),$e=function HD(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new $m({headers:Le,status:r.status,statusText:Me,url:$e}),u},_=()=>{let{headers:Me,status:Le,statusText:$e,url:st}=h(),It=null;204!==Le&&(It=typeof r.response>"u"?r.responseText:r.response),0===Le&&(Le=It?200:0);let Bt=Le>=200&&Le<300;if("json"===e.responseType&&"string"==typeof It){const Xt=It;It=It.replace(gM,"");try{It=""!==It?JSON.parse(It):null}catch(jt){It=Xt,Bt&&(Bt=!1,It={error:jt,text:It})}}Bt?(i.next(new Wa({body:It,headers:Me,status:Le,statusText:$e,url:st||void 0})),i.complete()):i.error(new eb({error:It,headers:Me,status:Le,statusText:$e,url:st||void 0}))},w=Me=>{const{url:Le}=h(),$e=new eb({error:Me,status:r.status||0,statusText:r.statusText||"Unknown Error",url:Le||void 0});i.error($e)};let M=!1;const H=Me=>{M||(i.next(h()),M=!0);let Le={type:qi.DownloadProgress,loaded:Me.loaded};Me.lengthComputable&&(Le.total=Me.total),"text"===e.responseType&&!!r.responseText&&(Le.partialText=r.responseText),i.next(Le)},Ce=Me=>{let Le={type:qi.UploadProgress,loaded:Me.loaded};Me.lengthComputable&&(Le.total=Me.total),i.next(Le)};return r.addEventListener("load",_),r.addEventListener("error",w),r.addEventListener("timeout",w),r.addEventListener("abort",w),e.reportProgress&&(r.addEventListener("progress",H),null!==o&&r.upload&&r.upload.addEventListener("progress",Ce)),r.send(o),i.next({type:qi.Sent}),()=>{r.removeEventListener("error",w),r.removeEventListener("abort",w),r.removeEventListener("load",_),r.removeEventListener("timeout",w),e.reportProgress&&(r.removeEventListener("progress",H),null!==o&&r.upload&&r.upload.removeEventListener("progress",Ce)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ls))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const qm=new s.OlP("XSRF_COOKIE_NAME"),rb=new s.OlP("XSRF_HEADER_NAME");class jD{}let GD=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fn(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(s.Lbi),s.LFG(qm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ap=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(jD),s.LFG(rb))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),x1=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Wm,[]);this.chain=i.reduceRight((r,o)=>new UD(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(BD),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),_M=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:ap,useClass:tb}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:qm,useValue:e.cookieName}:[],e.headerName?{provide:rb,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ap,{provide:Wm,useExisting:ap,multi:!0},{provide:jD,useClass:GD},{provide:qm,useValue:"XSRF-TOKEN"},{provide:rb,useValue:"X-XSRF-TOKEN"}]}),n})(),yM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[sh,{provide:Qv,useClass:x1},ib,{provide:BD,useExisting:ib}],imports:[_M.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var Ku=R(6036),lp=R.t(Ku,2),po=R(2813),vM=R.t(po,2);const M1=["pdfViewerContainer"];function bM(n,t){const e=new n.EventBus;return function I1(n,t){zn(n,"documentload").pipe(Kt(t)).subscribe(()=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),zn(n,"pagerendered").pipe(Kt(t)).subscribe(({pageNumber:e,cssTransform:i,source:r})=>{const o=document.createEvent("CustomEvent");o.initCustomEvent("pagerendered",!0,!0,{pageNumber:e,cssTransform:i}),r.div.dispatchEvent(o)}),zn(n,"textlayerrendered").pipe(Kt(t)).subscribe(({pageNumber:e,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:e}),i.textLayerDiv.dispatchEvent(r)}),zn(n,"pagechanging").pipe(Kt(t)).subscribe(({pageNumber:e,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("pagechanging",!0,!0),r.pageNumber=e,i.container.dispatchEvent(r)}),zn(n,"pagesinit").pipe(Kt(t)).subscribe(({source:e})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),e.container.dispatchEvent(i)}),zn(n,"pagesloaded").pipe(Kt(t)).subscribe(({pagesCount:e,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagesloaded",!0,!0,{pagesCount:e}),i.container.dispatchEvent(r)}),zn(n,"scalechange").pipe(Kt(t)).subscribe(({scale:e,presetValue:i,source:r})=>{const o=document.createEvent("UIEvents");o.initEvent("scalechange",!0,!0),o.scale=e,o.presetValue=i,r.container.dispatchEvent(o)}),zn(n,"updateviewarea").pipe(Kt(t)).subscribe(({location:e,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("updateviewarea",!0,!0),r.location=e,i.container.dispatchEvent(r)}),zn(n,"find").pipe(Kt(t)).subscribe(({source:e,type:i,query:r,phraseSearch:o,caseSensitive:u,highlightAll:h,findPrevious:_})=>{if(e===window)return;const w=document.createEvent("CustomEvent");w.initCustomEvent("find"+i,!0,!0,{query:r,phraseSearch:o,caseSensitive:u,highlightAll:h,findPrevious:_}),window.dispatchEvent(w)}),zn(n,"attachmentsloaded").pipe(Kt(t)).subscribe(({attachmentsCount:e,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:e}),i.container.dispatchEvent(r)}),zn(n,"sidebarviewchanged").pipe(Kt(t)).subscribe(({view:e,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("sidebarviewchanged",!0,!0,{view:e}),i.outerContainer.dispatchEvent(r)}),zn(n,"pagemode").pipe(Kt(t)).subscribe(({mode:e,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagemode",!0,!0,{mode:e}),i.pdfViewer.container.dispatchEvent(r)}),zn(n,"namedaction").pipe(Kt(t)).subscribe(({action:e,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("namedaction",!0,!0,{action:e}),i.pdfViewer.container.dispatchEvent(r)}),zn(n,"presentationmodechanged").pipe(Kt(t)).subscribe(({active:e,switchInProgress:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("presentationmodechanged",!0,!0,{active:e,switchInProgress:i}),window.dispatchEvent(r)}),zn(n,"outlineloaded").pipe(Kt(t)).subscribe(({outlineCount:e,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("outlineloaded",!0,!0,{outlineCount:e}),i.container.dispatchEvent(r)})}(e,t),e}function sb(n,t,e){n[t]=e}function cp(){return typeof window>"u"}cp()||sb(lp,"verbosity",Ku.VerbosityLevel.INFOS);var oh=(()=>{return(n=oh||(oh={}))[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",oh;var n})();let k1=(()=>{class n{constructor(e,i){if(this.element=e,this.ngZone=i,this.isVisible=!1,this._cMapsUrl=typeof lp<"u"?`https://unpkg.com/pdfjs-dist@${Ku.version}/cmaps/`:null,this._imageResourcesPath=typeof lp<"u"?`https://unpkg.com/pdfjs-dist@${Ku.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=oh.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new _t.x,this.afterLoadComplete=new s.vpe,this.pageRendered=new s.vpe,this.pageInitialized=new s.vpe,this.textLayerRendered=new s.vpe,this.onError=new s.vpe,this.onProgress=new s.vpe,this.pageChange=new s.vpe(!0),cp())return;let r;r=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${Ku.version}/legacy/build/pdf.worker.min.js`,sb(Ku.GlobalWorkerOptions,"workerSrc",r)}set cMapsUrl(e){this._cMapsUrl=e}set page(e){const i=e=parseInt(e,10)||1;this._pdf&&(e=this.getValidPageNumber(e)),this._page=e,i!==e&&this.pageChange.emit(e)}set renderText(e){this._renderText=e}set renderTextMode(e){this._renderTextMode=e}set originalSize(e){this._originalSize=e}set showAll(e){this._showAll=e}set stickToPage(e){this._stickToPage=e}set zoom(e){e<=0||(this._zoom=e)}get zoom(){return this._zoom}set zoomScale(e){this._zoomScale=e}get zoomScale(){return this._zoomScale}set rotation(e){"number"==typeof e&&e%90==0?this._rotation=e:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(e){this._externalLinkTarget=e}set autoresize(e){this._canAutoResize=Boolean(e)}set fitToPage(e){this._fitToPage=Boolean(e)}set showBorders(e){this._showBorders=Boolean(e)}static getLinkTarget(e){switch(e){case"blank":return po.LinkTarget.BLANK;case"none":return po.LinkTarget.NONE;case"self":return po.LinkTarget.SELF;case"parent":return po.LinkTarget.PARENT;case"top":return po.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const e=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=e?!1===this.isVisible&&null!=e&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(e){if(!cp()&&this.isVisible)if("src"in e)this.loadPDF();else if(this._pdf){if("renderText"in e?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:oh.DISABLED,this.resetPdfDocument()):"showAll"in e&&this.resetPdfDocument(),"page"in e){const{page:i}=e;if(i.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const e=this.getCurrentViewer();(0,Vn.D)(this._pdf.getPage(e.currentPageNumber)).pipe(Kt(this.destroy$)).subscribe({next:i=>{const r=this._rotation||i.rotate,o=i.getViewport({scale:this._zoom,rotation:r}).width*n.CSS_UNITS;let u=this._zoom,h=!0;if(!this._originalSize||this._fitToPage&&o>this.pdfViewerContainer.nativeElement.clientWidth){const _=i.getViewport({scale:1,rotation:r});u=this.getScale(_.width,_.height),h=!this._stickToPage}e._setScale(u,h)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const e={},i=n.getLinkTarget(this._externalLinkTarget);return i&&(e.externalLinkTarget=i),e}setupMultiPageViewer(){sb(lp,"disableTextLayer",!this._renderText);const e=bM(vM,this.destroy$);zn(e,"pagerendered").pipe(Kt(this.destroy$)).subscribe(r=>{this.pageRendered.emit(r)}),zn(e,"pagesinit").pipe(Kt(this.destroy$)).subscribe(r=>{this.pageInitialized.emit(r)}),zn(e,"pagechanging").pipe(Kt(this.destroy$)).subscribe(({pageNumber:r})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=r,this.pageChange.emit(r)},100)}),zn(e,"textlayerrendered").pipe(Kt(this.destroy$)).subscribe(r=>{this.textLayerRendered.emit(r)}),this.pdfMultiPageLinkService=new po.PDFLinkService({eventBus:e,...this.getPDFLinkServiceConfig()}),this.pdfMultiPageFindController=new po.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:e});const i={eventBus:e,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:oh.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath};this.pdfMultiPageViewer=new po.PDFViewer(i),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){sb(lp,"disableTextLayer",!this._renderText);const e=bM(vM,this.destroy$);zn(e,"pagechanging").pipe(Kt(this.destroy$)).subscribe(({pageNumber:r})=>{r!==this._page&&(this.page=r)}),zn(e,"pagerendered").pipe(Kt(this.destroy$)).subscribe(r=>{this.pageRendered.emit(r)}),zn(e,"pagesinit").pipe(Kt(this.destroy$)).subscribe(r=>{this.pageInitialized.emit(r)}),zn(e,"textlayerrendered").pipe(Kt(this.destroy$)).subscribe(r=>{this.textLayerRendered.emit(r)}),this.pdfSinglePageLinkService=new po.PDFLinkService({eventBus:e,...this.getPDFLinkServiceConfig()}),this.pdfSinglePageFindController=new po.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:e});const i={eventBus:e,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:oh.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new po.PDFSinglePageViewer(i),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(e){return e<1?1:e>this._pdf.numPages?this._pdf.numPages:e}getDocumentParams(){const e=typeof this.src;if(!this._cMapsUrl)return this.src;const i={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===e?i.url=this.src:"object"===e&&(void 0!==this.src.byteLength?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=Ku.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};const e=this.src;(0,Vn.D)(this.loadingTask.promise).pipe(Kt(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=e,this.afterLoadComplete.emit(i),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const e=this.getCurrentViewer();(0!==this._rotation||e.pagesRotation!==this._rotation)&&setTimeout(()=>{e.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{e.currentPageNumber=this._page}),this.updateSize()}getScale(e,i){const r=this._showBorders?2*n.BORDER_WIDTH:0,o=this.pdfViewerContainer.nativeElement.clientWidth-r,u=this.pdfViewerContainer.nativeElement.clientHeight-r;if(0===u||0===i||0===o||0===e)return 1;let h=1;switch(this._zoomScale){case"page-fit":h=Math.min(u/i,o/e);break;case"page-height":h=u/i;break;default:h=o/e}return this._zoom*h/n.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){cp()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){cp()||this.ngZone.runOutsideAngular(()=>{zn(window,"resize").pipe(zd(100),ti(()=>this._canAutoResize&&!!this._pdf),Kt(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return n.CSS_UNITS=96/72,n.BORDER_WIDTH=9,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["pdf-viewer"]],viewQuery:function(e,i){if(1&e&&s.Gf(M1,5),2&e){let r;s.iGM(r=s.CRH())&&(i.pdfViewerContainer=r.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[s.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s._UZ(2,"div",2),s.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),n})(),wM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),CM=(()=>{class n{constructor(e,i){this.data=e,this.http=i}ngOnInit(){if(this.data instanceof File){const e=new FileReader;e.onload=()=>this.url=e.result,e.readAsDataURL(this.data)}else this.url=this.data.url,this.http.get(this.url,{responseType:"blob"}).subscribe(e=>console.log(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Zv),s.Y36(sh))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-pdf-preview"]],decls:1,vars:4,consts:[[2,"height","90vh","width","50vw",3,"src","render-text","original-size","fit-to-page"]],template:function(e,i){1&e&&s._UZ(0,"pdf-viewer",0),2&e&&s.Q6J("src",i.url)("render-text",!0)("original-size",!0)("fit-to-page",!0)},dependencies:[k1]}),n})();const P1=["mat-calendar-body",""];function R1(n,t){if(1&n&&(s.TgZ(0,"tr",2)(1,"td",3),s._uU(2),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e.numCols),s.xp6(1),s.hij(" ",e.label," ")}}function a(n,t){if(1&n&&(s.TgZ(0,"td",3),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e._firstRowOffset),s.xp6(1),s.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function l(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",7)(1,"button",8),s.NdJ("click",function(r){const u=s.CHM(e).$implicit,h=s.oxw(2);return s.KtG(h._cellClicked(u,r))})("focus",function(r){const u=s.CHM(e).$implicit,h=s.oxw(2);return s.KtG(h._emitActiveDateChange(u,r))}),s.TgZ(2,"div",9),s._uU(3),s.qZA(),s._UZ(4,"div",10),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw().index,o=s.oxw();s.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),s.uIk("data-mat-row",r)("data-mat-col",i),s.xp6(1),s.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),s.Q6J("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),s.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null),s.xp6(1),s.ekj("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),s.xp6(1),s.hij(" ",e.displayValue," ")}}function c(n,t){if(1&n&&(s.TgZ(0,"tr",4),s.YNc(1,a,2,6,"td",5),s.YNc(2,l,5,47,"td",6),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.xp6(1),s.Q6J("ngIf",0===i&&r._firstRowOffset),s.xp6(1),s.Q6J("ngForOf",e)}}function d(n,t){if(1&n&&(s.TgZ(0,"th",5)(1,"span",6),s._uU(2),s.qZA(),s.TgZ(3,"span",7),s._uU(4),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.long),s.xp6(2),s.Oqu(e.narrow)}}const f=["*"];function g(n,t){}function v(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-month-view",5),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("_userSelection",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._dateSelected(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function D(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-year-view",6),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("monthSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._monthSelectedInYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"month"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function T(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-multi-year-view",7),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("yearSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"year"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}let cn=(()=>{class n{constructor(){this.changes=new _t.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class vt{constructor(t,e,i,r,o={},u=t,h){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=u,this.rawValue=h}}let Qt=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new s.vpe,this.previewChange=new s.vpe,this.activeDateChange=new s.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Qn(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return ii(e,this.startValue,this.endValue)}_isRangeEnd(e){return Vl(e,this.startValue,this.endValue)}_isInRange(e){return up(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return ii(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){const u=this.rows[i-1];o=u&&u[u.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){const u=this.rows[i+1];o=u&&u[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return Vl(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return up(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return ii(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Vl(e,this.previewStart,this.previewEnd)}_isInPreview(e){return up(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(Mn(e)?i=e:Mn(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[s.TTD],attrs:P1,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(s.YNc(0,R1,3,6,"tr",0),s.YNc(1,c,3,2,"tr",1)),2&e&&(s.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),s.xp6(1),s.Q6J("ngForOf",i.rows))},dependencies:[aa,Ds,Zs],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function Mn(n){return"TD"===n.nodeName}function ii(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function Vl(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function up(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Jr{constructor(t,e){this.start=t,this.end=e}}let Uc=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new _t.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),ob=(()=>{class n extends Uc{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ms))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const cb={provide:Uc,deps:[[new s.FiY,new s.tp0,Uc],ms],useFactory:function lb(n,t){return n||new ob(t)}},DM=new s.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let O1=(()=>{class n{constructor(e,i,r,o,u){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=u,this._rerenderSubscription=jn.w0.EMPTY,this.selectedChange=new s.vpe,this._userSelection=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Jr?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Xn(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let o,u;this._selected instanceof Jr?(o=this._getDateInCurrentMonth(this._selected.start),u=this._getDateInCurrentMonth(this._selected.end)):o=u=this._getDateInCurrentMonth(this._selected),(o!==i||u!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Sc(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const o=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((u,h)=>({long:u,narrow:i[h]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){7==o&&(this._weeks.push([]),o=0);const u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),h=this._shouldEnableDate(u),_=this._dateAdapter.format(u,this._dateFormats.display.dateA11yLabel),w=this.dateClass?this.dateClass(u,"month"):void 0;this._weeks[this._weeks.length-1].push(new vt(r+1,i[r],_,h,w,this._getCellCompareValue(u),u))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Jr?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Zo,8),s.Y36(ms,8),s.Y36(mr,8),s.Y36(DM,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Qt,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[s.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s.YNc(3,d,5,2,"th",2),s.qZA(),s.TgZ(4,"tr"),s._UZ(5,"th",3),s.qZA()(),s.TgZ(6,"tbody",4),s.NdJ("selectedValueChange",function(o){return i._dateSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("previewChange",function(o){return i._previewChanged(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i._weekdays),s.xp6(3),s.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[Ds,Qt],encapsulation:2,changeDetection:0}),n})(),F1=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=jn.w0.EMPTY,this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),L1(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Jr?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Xn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-db(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<24;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(u=>this._createCellForYear(u))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-db(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-db(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return db(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new vt(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Jr){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(ms,8),s.Y36(mr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Qt,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._yearSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Qt],encapsulation:2,changeDetection:0}),n})();function L1(n,t,e,i,r){const o=n.getYear(t),u=n.getYear(e),h=N1(n,i,r);return Math.floor((o-h)/24)===Math.floor((u-h)/24)}function db(n,t,e,i){return function HH(n,t){return(n%t+t)%t}(n.getYear(t)-N1(n,e,i),24)}function N1(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let V1=(()=>{class n{constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=jn.w0.EMPTY,this.selectedChange=new s.vpe,this.monthSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Jr?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Xn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),u=this.dateClass?this.dateClass(r,"year"):void 0;return new vt(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),u)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Jr?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Zo,8),s.Y36(ms,8),s.Y36(mr,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Qt,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._monthSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Qt],encapsulation:2,changeDetection:0}),n})(),jH=0,GH=(()=>{class n{constructor(e,i,r,o,u){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._buttonDescriptionId="mat-calendar-button-"+jH++,this.calendar.stateChanges.subscribe(()=>u.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-db(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),u=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(o,u)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):L1(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(cn),s.Y36((0,s.Gpc)(()=>B1)),s.Y36(ms,8),s.Y36(Zo,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:f,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return i.currentPeriodClicked()}),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.O4$(),s.TgZ(5,"svg",3),s._UZ(6,"polygon",4),s.qZA()(),s.kcU(),s._UZ(7,"div",5),s.Hsn(8),s.TgZ(9,"button",6),s.NdJ("click",function(){return i.previousClicked()}),s.qZA(),s.TgZ(10,"button",7),s.NdJ("click",function(){return i.nextClicked()}),s.qZA()()()),2&e&&(s.xp6(2),s.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),s.xp6(1),s.uIk("id",i._buttonDescriptionId),s.xp6(1),s.Oqu(i.periodButtonText),s.xp6(1),s.ekj("mat-calendar-invert","month"!==i.calendar.currentView),s.xp6(4),s.Q6J("disabled",!i.previousEnabled()),s.uIk("aria-label",i.prevButtonLabel),s.xp6(1),s.Q6J("disabled",!i.nextEnabled()),s.uIk("aria-label",i.nextButtonLabel))},dependencies:[Rl],encapsulation:2,changeDetection:0}),n})(),B1=(()=>{class n{constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this._userSelection=new s.vpe,this.stateChanges=new _t.x,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Jr?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new Lc(this.headerComponent||GH),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){const u=this._getCurrentViewComponent();u&&(this._changeDetectorRef.detectChanges(),u._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Jr||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(cn),s.Y36(ms,8),s.Y36(Zo,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(s.Gf(O1,5),s.Gf(V1,5),s.Gf(F1,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.monthView=r.first),s.iGM(r=s.CRH())&&(i.yearView=r.first),s.iGM(r=s.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[s._Bn([cb]),s.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(s.YNc(0,g,0,0,"ng-template",0),s.TgZ(1,"div",1),s.YNc(2,v,1,8,"mat-month-view",2),s.YNc(3,D,1,6,"mat-year-view",3),s.YNc(4,T,1,6,"mat-multi-year-view",4),s.qZA()),2&e&&(s.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),s.xp6(1),s.Q6J("ngSwitch",i.currentView),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngSwitchCase","multi-year"))},dependencies:[Do,Eo,Uy,za,O1,V1,F1],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const WH={provide:new s.OlP("mat-datepicker-scroll-strategy"),deps:[fo],useFactory:function $H(n){return()=>n.scrollStrategies.reposition()}};let QH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[cn,WH],imports:[Xi,Nf,Nc,uo,qu,Bn,ip]}),n})(),XH=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=ni(e)}get inset(){return this._inset}set inset(e){this._inset=ni(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),H1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bn,Bn]}),n})();var j1=R(3099);const JH=["*"];let qD;function hb(n){return function ej(){if(void 0===qD&&(qD=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(qD=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return qD}()?.createHTML(n)||n}function G1(n){return Error(`Unable to find icon with the name "${n}"`)}function z1(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function $1(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class dp{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let YD=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new dp(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const u=this._sanitizer.sanitize(s.q3G.HTML,r);if(!u)throw $1(r);const h=hb(u);return this._addSvgIconConfig(e,i,new dp("",h,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new dp(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw $1(i);const u=hb(o);return this._addSvgIconSetConfig(e,new dp("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw z1(e);const r=this._cachedIconsByUrl.get(i);return r?Nt(ZD(r)):this._loadSvgIconFromConfig(new dp(e,null)).pipe((0,ci.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,zt.U)(o=>ZD(o)))}getNamedSvgIcon(e,i=""){const r=W1(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):or(G1(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Nt(ZD(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,zt.U)(i=>ZD(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Nt(r):nv(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(gr(h=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(w)),Nt(null)})))).pipe((0,zt.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw G1(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ci.b)(i=>e.svgText=i),(0,zt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Nt(null):this._fetchIcon(e).pipe((0,ci.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(hb("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(hb("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:u,value:h}=r[o];"id"!==u&&i.setAttribute(u,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function tj(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!u)throw z1(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const _=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe((0,zt.U)(w=>hb(w)),ds(()=>this._inProgressUrlFetches.delete(u)),(0,j1.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(W1(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return ij(o)?new dp(o.url,null,o.options):new dp(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(sh,8),s.LFG(Wr),s.LFG(B,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ZD(n){return n.cloneNode(!0)}function W1(n,t){return n+":"+t}function ij(n){return!(!n.url||!n.options)}const rj=Rf(class{constructor(n){this._elementRef=n}}),sj=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),oj=new s.OlP("mat-icon-location",{providedIn:"root",factory:function aj(){const n=(0,s.f3M)(B),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),q1=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],lj=q1.map(n=>`[${n}]`).join(", "),cj=/^url\(['"]?#(.*?)['"]?\)$/;let SM=(()=>{class n extends rj{constructor(e,i,r,o,u,h){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=jn.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=ni(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(lj),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)q1.forEach(u=>{const h=i[o],_=h.getAttribute(u),w=_?_.match(cj):null;if(w){let M=r.get(h);M||(M=[],r.set(h,M)),M.push({name:u,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Qn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(YD),s.$8M("aria-hidden"),s.Y36(oj),s.Y36(s.qLn),s.Y36(sj,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:JH,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),uj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bn,Bn]}),n})();const Z1=["*"],dj=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],hj=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],_j=Pf(Ou(class{})),yj=Ou(class{}),Q1=new s.OlP("MatList"),vj=new s.OlP("MatNavList");let bj=(()=>{class n extends _j{constructor(e){super(),this._elementRef=e,this._stateChanges=new _t.x,"action-list"===this._getListType()&&e.nativeElement.classList.add("mat-action-list")}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[s._Bn([{provide:Q1,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:Z1,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),X1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),J1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),wj=(()=>{class n extends yj{constructor(e,i,r,o){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new _t.x,this._disabled=!1,this._isInteractiveList=!!(r||o&&"action-list"===o._getListType()),this._list=r||o;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Kt(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=ni(e)}ngAfterContentInit(){!function Fs(n,t,e="mat"){n.changes.pipe(Xn(n)).subscribe(({length:i})=>{Lu(t,`${e}-2-line`,!1),Lu(t,`${e}-3-line`,!1),Lu(t,`${e}-multi-line`,!1),2===i||3===i?Lu(t,`${e}-${i}-line`,!0):i>3&&Lu(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(vj,8),s.Y36(Q1,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,X1,5),s.Suo(r,J1,5),s.Suo(r,Ff,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._avatar=o.first),s.iGM(o=s.CRH())&&(i._icon=o.first),s.iGM(o=s.CRH())&&(i._lines=o)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[s.qOj],ngContentSelectors:hj,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(s.F$t(dj),s.TgZ(0,"span",0),s._UZ(1,"span",1),s.Hsn(2),s.TgZ(3,"span",2),s.Hsn(4,1),s.qZA(),s.Hsn(5,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[kc],encapsulation:2,changeDetection:0}),n})(),Tj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Nu,Lf,Bn,$y,Xi,Nu,Bn,$y,H1]}),n})();function tF(n,t){return t?e=>Ca(t.pipe(Qn(1),function xj(){return(0,Gn.e)((n,t)=>{n.subscribe((0,Kn.x)(t,ky.Z))})}()),e.pipe(tF(n))):(0,ji.z)((e,i)=>n(e,i).pipe(Qn(1),bl(e)))}function nF(n,t=Os.z){const e=Fc(n,t);return tF(()=>e)}const Mj=["mat-menu-item",""];function Ij(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",2),s._UZ(1,"polygon",3),s.qZA())}const iF=["*"];function kj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",0),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))})("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationStart(r))})("@transformMenu.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationDone(r))}),s.TgZ(1,"div",1),s.Hsn(2),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),s.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const KD={transformMenu:Ua("transformMenu",[_s("void",Pn({opacity:0,transform:"scale(0.8)"})),Mr("void => enter",ki("120ms cubic-bezier(0, 0, 0.2, 1)",Pn({opacity:1,transform:"scale(1)"}))),Mr("* => void",ki("100ms 25ms linear",Pn({opacity:0})))]),fadeInItems:Ua("fadeInItems",[_s("showing",Pn({opacity:1})),Mr("void => *",[Pn({opacity:0}),ki("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},rF=new s.OlP("MatMenuContent");let Pj=(()=>{class n{constructor(e,i,r,o,u,h,_){this._template=e,this._componentFactoryResolver=i,this._appRef=r,this._injector=o,this._viewContainerRef=u,this._document=h,this._changeDetectorRef=_,this._attached=new _t.x}attach(e={}){this._portal||(this._portal=new Wu(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new vD(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const i=this._template.elementRef.nativeElement;i.parentNode.insertBefore(this._outlet.outletElement,i),this._changeDetectorRef?.markForCheck(),this._portal.attach(this._outlet,e),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s._Vd),s.Y36(s.z2F),s.Y36(s.zs3),s.Y36(s.s_b),s.Y36(B),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n}),n})(),Rj=(()=>{class n extends Pj{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matMenuContent",""]],features:[s._Bn([{provide:rF,useExisting:n}]),s.qOj]}),n})();const TM=new s.OlP("MAT_MENU_PANEL"),Oj=Ou(Pf(class{}));let QD=(()=>{class n extends Oj{constructor(e,i,r,o,u){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new _t.x,this._focused=new _t.x,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(B),s.Y36(Pl),s.Y36(TM,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(s.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),s.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[s.qOj],attrs:Mj,ngContentSelectors:iF,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(s.F$t(),s.Hsn(0),s._UZ(1,"div",0),s.YNc(2,Ij,2,0,"svg",1)),2&e&&(s.xp6(1),s.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),s.xp6(1),s.Q6J("ngIf",i._triggersSubmenu))},dependencies:[Zs,kc],encapsulation:2,changeDetection:0}),n})();const sF=new s.OlP("mat-menu-default-options",{providedIn:"root",factory:function Fj(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Lj=0,fb=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new s.n_E,this._tabSubscription=jn.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new _t.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new s.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Lj++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=ni(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=ni(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new bw(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Xn(this._directDescendantItems),li(e=>(0,Ls.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Xn(this._directDescendantItems),li(i=>(0,Ls.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Sc(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(Qn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Xn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(sF),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,rF,5),s.Suo(r,QD,5),s.Suo(r,QD,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.lazyContent=o.first),s.iGM(o=s.CRH())&&(i._allItems=o),s.iGM(o=s.CRH())&&(i.items=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),Nj=(()=>{class n extends fb{constructor(e,i,r,o){super(e,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(sF),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&s.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[s._Bn([{provide:TM,useExisting:n}]),s.qOj],ngContentSelectors:iF,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,kj,3,6,"ng-template"))},dependencies:[aa],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[KD.transformMenu,KD.fadeInItems]},changeDetection:0}),n})();const oF=new s.OlP("mat-menu-scroll-strategy"),Bj={provide:oF,deps:[fo],useFactory:function Vj(n){return()=>n.scrollStrategies.reposition()}},aF=Yo({passive:!0});let Uj=(()=>{class n{constructor(e,i,r,o,u,h,_,w,M){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=_,this._focusMonitor=w,this._ngZone=M,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=jn.w0.EMPTY,this._hoverSubscription=jn.w0.EMPTY,this._menuCloseSubscription=jn.w0.EMPTY,this._handleTouchStart=H=>{Wd(H)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new s.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new s.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=u instanceof fb?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,aF),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,aF),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof fb&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Kt(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof fb?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(ti(r=>"void"===r.toState),Qn(1),Kt(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Yu({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,u)):e.setPositionClasses(o,u)})}_setPosition(e,i){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[u,h]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[_,w]=[u,h],[M,H]=[r,o],Ce=0;if(this.triggersSubmenu()){if(H=r="before"===e.xPosition?"start":"end",o=M="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Me=this._parentMaterialMenu.items.first;this._parentInnerPadding=Me?Me._getHostElement().offsetTop:0}Ce="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(_="top"===u?"bottom":"top",w="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:_,overlayX:M,overlayY:u,offsetY:Ce},{originX:o,originY:_,overlayX:H,overlayY:u,offsetY:Ce},{originX:r,originY:w,overlayX:M,overlayY:h,offsetY:-Ce},{originX:o,originY:w,overlayX:H,overlayY:h,offsetY:-Ce}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Nt(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(ti(u=>u!==this._menuItemInstance),ti(()=>this._menuOpen)):Nt();return(0,Ls.T)(e,r,o,i)}_handleMousedown(e){$g(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(ti(e=>e===this._menuItemInstance&&!e.disabled),nF(0,Gv)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof fb&&this.menu._isAnimating?this.menu._animationDone.pipe(Qn(1),nF(0,Gv),Kt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new Wu(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fo),s.Y36(s.SBq),s.Y36(s.s_b),s.Y36(oF),s.Y36(TM,8),s.Y36(QD,10),s.Y36(mr,8),s.Y36(Pl),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&e&&s.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),Hj=(()=>{class n extends Uj{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[s.qOj]}),n})(),jj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Bj],imports:[Xi,Bn,Lf,Nc,ip,Bn]}),n})();const Gj=["tooltip"],lF="tooltip-panel",cF=Yo({passive:!0}),uF=new s.OlP("mat-tooltip-scroll-strategy"),qj={provide:uF,deps:[fo],useFactory:function Wj(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},Yj=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function Zj(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let Kj=(()=>{class n{constructor(e,i,r,o,u,h,_,w,M,H,Ce,Me){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=u,this._platform=h,this._ariaDescriber=_,this._focusMonitor=w,this._dir=H,this._defaultOptions=Ce,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new _t.x,this._scrollStrategy=M,this._document=Me,Ce&&(Ce.position&&(this.position=Ce.position),Ce.touchGestures&&(this.touchGestures=Ce.touchGestures)),H.change.pipe(Kt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=ni(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=ps(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=ps(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Kt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,cF)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new Lc(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Kt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Kt(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${lF}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Kt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Kt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Kt(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Sc(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:o,y:u}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:u}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:u}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Qn(1),Kt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:o}=e;let u;if(u="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",u!==this._currentPosition){const h=this._overlayRef;if(h){const _=`${this._cssClassPrefix}-${lF}-`;h.removePanelClass(_+this._currentPosition),h.addPanelClass(_+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,cF)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),Qj=(()=>{class n extends Kj{constructor(e,i,r,o,u,h,_,w,M,H,Ce,Me){super(e,i,r,o,u,h,_,w,M,H,Ce,Me),this._tooltipComponent=Jj}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(fo),s.Y36(s.SBq),s.Y36(Fm),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(Ci),s.Y36(yw),s.Y36(Pl),s.Y36(uF),s.Y36(mr,8),s.Y36(Yj,8),s.Y36(B))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),Xj=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new _t.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(e?o:r),i.classList.add(e?r:o),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(i);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n}),n})(),Jj=(()=>{class n extends Xj{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Tf),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf(Gj,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(o){return i._handleMouseLeave(o)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(o){return i._handleAnimationEnd(o)}),s.ALo(2,"async"),s._uU(3),s.qZA()),2&e){let r;s.ekj("mat-tooltip-handset",null==(r=s.lcZ(2,4,i._isHandset))?null:r.matches),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message)}},dependencies:[aa,Xc],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),e3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[qj],imports:[uo,Xi,Nc,Bn,Bn,ip]}),n})(),xM=(()=>{class n{constructor(){this.spacer="",this.flex="1 1 auto"}ngOnInit(){this.flex=this.spacer?`0 0 ${this.spacer}`:this.flex}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","spacer",""]],hostVars:2,hostBindings:function(e,i){2&e&&s.Udp("flex",i.flex)},inputs:{spacer:"spacer"}}),n})(),t3=(()=>{class n{transform(e){const i=e/1073741824;if(i>1)return`${i.toFixed(1)}GB`;{const r=e/1048576;return r>1?`${r.toFixed(2)}MB`:`${(e/1024).toFixed(0)}KB`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"fileSize",type:n,pure:!0}),n})();const n3=["dateMenuTrigger"];function r3(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(+",e.files.length,")")}}function s3(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"button",5),s.NdJ("click",function(){s.CHM(e);const r=s.MAs(4);return s.KtG(r.click())}),s._uU(2," Select Documents "),s.qZA(),s.TgZ(3,"input",6,7),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.selected(r))}),s.qZA(),s.BQk()}if(2&n){const e=s.oxw();s.xp6(3),s.Q6J("accept",e.acceptableTypes)}}function o3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",21),s.NdJ("click",function(r){return r.stopPropagation()}),s.TgZ(1,"mat-calendar",22),s.NdJ("selectedChange",function(r){s.CHM(e);const o=s.oxw().$implicit,u=s.oxw();return s.KtG(u.changeDocumentDate(o,r))}),s.qZA()()}if(2&n){const e=s.oxw().$implicit;s.xp6(1),s.Q6J("selected",e.documentDate)}}function a3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",23),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw().$implicit,h=s.oxw();return s.KtG(h.changeSelectedType(u,o))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function l3(n,t){1&n&&(s.TgZ(0,"button",24)(1,"mat-icon"),s._uU(2,"file_upload"),s.qZA()())}function c3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-list-item",8)(1,"span",9),s._uU(2),s.qZA(),s.TgZ(3,"span",10),s._uU(4),s.ALo(5,"fileSize"),s.qZA(),s._UZ(6,"span",3),s.TgZ(7,"button",11,12),s._uU(9),s.ALo(10,"date"),s.TgZ(11,"mat-icon",13),s._uU(12,"today"),s.qZA()(),s.TgZ(13,"mat-menu",14,15),s.YNc(15,o3,2,1,"ng-template",16),s.qZA(),s.TgZ(16,"button",11),s._uU(17),s.TgZ(18,"mat-icon"),s._uU(19,"arrow_drop_down"),s.qZA()(),s.TgZ(20,"mat-menu",null,17),s.YNc(22,a3,2,1,"button",18),s.qZA(),s.TgZ(23,"button",19),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.deselectFile(o))}),s.TgZ(24,"mat-icon"),s._uU(25,"close"),s.qZA()(),s.YNc(26,l3,3,0,"button",20),s.qZA()}if(2&n){const e=t.$implicit,i=s.MAs(14),r=s.MAs(21),o=s.oxw();s.xp6(2),s.AsE(" ",e.name,".",e.extension," "),s.xp6(2),s.Oqu(s.lcZ(5,9,e.size)),s.xp6(3),s.Q6J("matMenuTriggerFor",i),s.xp6(2),s.hij(" ",s.xi3(10,11,e.documentDate,"shortDate"),""),s.xp6(7),s.Q6J("matMenuTriggerFor",r),s.xp6(1),s.hij(" ",e.type," "),s.xp6(5),s.Q6J("ngForOf",o.medicalTypes),s.xp6(4),s.Q6J("ngIf",o.singleLineAttach)}}function u3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",23),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw().$implicit,h=s.oxw();return s.KtG(h.changeMedicalType(u,o))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function d3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-list-item",8)(1,"span",25),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.openPreview(o))}),s._uU(2),s.qZA(),s.TgZ(3,"span",10),s._uU(4),s.ALo(5,"fileSize"),s.qZA(),s._UZ(6,"span",3),s.TgZ(7,"button",11),s._uU(8),s.TgZ(9,"mat-icon"),s._uU(10,"arrow_drop_down"),s.qZA()(),s.TgZ(11,"mat-menu",null,17),s.YNc(13,u3,2,1,"button",18),s.qZA(),s.TgZ(14,"button",26)(15,"mat-icon"),s._uU(16,"more_horiz"),s.qZA()(),s.TgZ(17,"mat-menu",null,27)(19,"button",28)(20,"mat-icon"),s._uU(21,"file_download"),s.qZA(),s.TgZ(22,"span"),s._uU(23,"Download"),s.qZA()(),s.TgZ(24,"button",29)(25,"mat-icon"),s._uU(26,"delete"),s.qZA(),s.TgZ(27,"span"),s._uU(28,"Delete"),s.qZA()()()()}if(2&n){const e=t.$implicit,i=s.MAs(12),r=s.MAs(18),o=s.oxw();s.xp6(1),s.ekj("underline",o.isPreviewable(e)),s.Q6J("matTooltipDisabled",!o.isDocument(e)),s.xp6(1),s.hij(" ",e.name," "),s.xp6(2),s.Oqu(s.lcZ(5,9,e.size)),s.xp6(3),s.Q6J("matMenuTriggerFor",i),s.xp6(1),s.hij(" ",e.medicalType,""),s.xp6(5),s.Q6J("ngForOf",o.medicalTypes),s.xp6(1),s.Q6J("matMenuTriggerFor",r)}}function h3(n,t){1&n&&(s.ynx(0),s.TgZ(1,"mat-list-item",30)(2,"span",31),s._uU(3,"No Documents Attached"),s.qZA()(),s.BQk())}let MM=(()=>{class n{constructor(e){this.dialog=e,this.existingFiles=[],this.singleLineAttach=!1,this.readonly=!1,this.virtualDocuments=[],this.files=[],this.selectedFiles=[]}ngOnInit(){}get medicalTypes(){return Object.values(qo)}get acceptableTypes(){return[..._y.keys(),...Rg.keys(),...Og.keys()].join(",")}isImage(e){return Rg.has(e.extension)}isPDF(e){return Og.has(e.extension)}isDocument(e){return _y.has(e.extension)}isPreviewable(e){return Rg.has(e.extension)||Og.has(e.extension)}onSelected(e){e.target.files.length>0&&(this.files=Array.from(e.target.files).map(i=>{const r=i.name.split("."),u=i;return u.extension=`.${r[r.length-1]}`,u.medicalType=qo.activation,u}),e.target.value=null)}selected(e){e.target.files.length>0&&(this.selectedFiles=Array.from(e.target.files).map(i=>{const r=i.name.split(".");return{name:r.slice(0,-1).join("."),size:i.size,extension:r[r.length-1],documentDate:new Date(i.lastModified),type:qo.activation,file:i}}),e.target.value=null)}removeFile(e){const i=this.files.indexOf(e);i>=0&&this.files.splice(i,1)}deselectFile(e){this.selectedFiles=this.selectedFiles.filter(i=>i!==e)}changeMedicalType(e,i){e.medicalType=i}changeSelectedType(e,i){e.type=i}changeDocumentDate(e,i){i&&(e.documentDate=i,this.dateMenuTrigger?.closeMenu())}openPreview(e){Rg.has(e.extension)?this.dialog.open(sp,{data:e,hasBackdrop:!0,panelClass:"image-preview-dialog",maxHeight:"90vh"}):Og.has(e.extension)&&this.dialog.open(CM,{data:e,hasBackdrop:!0,panelClass:"pdf-preview-dialog",maxHeight:"90vh"})}openImagePreview(e){this.dialog.open(sp,{data:e,hasBackdrop:!0,panelClass:"image-preview-dialog",maxHeight:"90vh"})}openPDFPreview(e){this.dialog.open(CM,{data:e,hasBackdrop:!0,panelClass:"pdf-preview-dialog",maxHeight:"90vh"})}log(e){console.log(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(jm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-document-attachment"]],viewQuery:function(e,i){if(1&e&&s.Gf(n3,5),2&e){let r;s.iGM(r=s.CRH())&&(i.dateMenuTrigger=r.first)}},inputs:{existingFiles:"existingFiles",singleLineAttach:"singleLineAttach",readonly:"readonly",virtualDocuments:"virtualDocuments"},decls:12,vars:6,consts:[[1,"row"],[1,"mat-body-strong","caption"],[4,"ngIf"],["spacer",""],["class","file",4,"ngFor","ngForOf"],["color","accent","mat-button","",3,"click"],["type","file","multiple","","hidden","",1,"file-upload",3,"accept","change"],["fileInput",""],[1,"file"],[1,"name"],[1,"mat-caption","size"],["mat-button","",1,"suffixIcon",3,"matMenuTriggerFor"],["dateMenuTrigger","matMenuTrigger"],[1,"dateIcon"],[1,"date-menu"],["dateMenu","matMenu"],["matMenuContent",""],["typeMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["color","warn","mat-button","",1,"square",3,"click"],["color","accent","class","square","mat-button","",4,"ngIf"],[3,"click"],[3,"selected","selectedChange"],["mat-menu-item","",3,"click"],["color","accent","mat-button","",1,"square"],["matTooltip","Attach this document or open it locally to preview",3,"matTooltipDisabled","click"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item",""],["mat-menu-item","","color","warn"],[1,"no-files"],[1,"mat-body"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"span",1),s._uU(2),s.YNc(3,r3,2,1,"span",2),s.qZA(),s._UZ(4,"span",3),s.YNc(5,s3,5,1,"ng-container",2),s.qZA(),s._UZ(6,"mat-divider"),s.TgZ(7,"mat-list"),s.YNc(8,c3,27,14,"mat-list-item",4),s.YNc(9,d3,29,11,"mat-list-item",4),s.YNc(10,h3,4,0,"ng-container",2),s.qZA(),s._UZ(11,"mat-divider")),2&e&&(s.xp6(2),s.hij(" Documents ",i.virtualDocuments.length," "),s.xp6(1),s.Q6J("ngIf",i.files.length>0),s.xp6(2),s.Q6J("ngIf",!i.readonly),s.xp6(3),s.Q6J("ngForOf",i.selectedFiles),s.xp6(1),s.Q6J("ngForOf",i.virtualDocuments),s.xp6(1),s.Q6J("ngIf",0==i.selectedFiles.length&&0==i.virtualDocuments.length))},dependencies:[Ds,Zs,Rl,B1,XH,SM,bj,wj,Nj,QD,Hj,Rj,Qj,xM,kh,t3],styles:["[_nghost-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]   .caption[_ngcontent-%COMP%]{padding:0 1rem;color:#0009}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]:first-child{padding-top:.5rem}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]:last-child{padding-bottom:.5rem}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{max-width:55%}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{margin-left:.5rem;font-weight:400;color:#0009}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{min-width:36px;padding:0}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   .dateIcon[_ngcontent-%COMP%]{margin-left:.25rem;color:#0009}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .no-files[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1rem 0;font-weight:400;color:#0009}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin:0 .5rem}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:.5rem}"]}),n})(),f3=(()=>{class n{constructor(){this.documents=[{url:"https://github.com/Matthew-The-Developer/file-attachment/blob/master/src/assets/pdf-test.pdf",name:"pdf-test.pdf",size:2534446,extension:".pdf",type:"application/pdf",lastModified:new Date(1659762822100),medicalType:qo.activation},{url:"https://www.thecoderpedia.com/wp-content/uploads/2020/06/Programming-Memes-Programmer-while-sleeping.jpg?x34900",name:"Programming-Memes-Programmer-while-sleeping.jpg",size:59868,extension:".jpg",type:"image/jpeg",lastModified:new Date(1661779977375),medicalType:qo.deactivation}]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-form"]],decls:47,vars:1,consts:[[1,"example-form"],["appearance","fill",1,"example-full-width"],["matInput","","disabled","","value","Google"],["cellspacing","0",1,"example-full-width"],["matInput",""],["matInput","","placeholder","Ex. 100 Main St"],["matInput","","placeholder","Ex. San Francisco"],["matInput","","placeholder","Ex. California"],[3,"virtualDocuments"],["align","end"],["mat-stroked-button",""],["mat-flat-button","","color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card")(1,"mat-card-content")(2,"form",0)(3,"mat-form-field",1)(4,"mat-label"),s._uU(5,"Company (disabled)"),s.qZA(),s._UZ(6,"input",2),s.qZA(),s.TgZ(7,"table",3)(8,"tr")(9,"td")(10,"mat-form-field",1)(11,"mat-label"),s._uU(12,"First name"),s.qZA(),s._UZ(13,"input",4),s.qZA()(),s.TgZ(14,"td")(15,"mat-form-field",1)(16,"mat-label"),s._uU(17,"Long Last Name That Will Be Truncated"),s.qZA(),s._UZ(18,"input",4),s.qZA()()()(),s.TgZ(19,"p")(20,"mat-form-field",1)(21,"mat-label"),s._uU(22,"Address"),s.qZA(),s.TgZ(23,"textarea",5),s._uU(24,"1600 Amphitheatre Pkwy"),s.qZA()(),s.TgZ(25,"mat-form-field",1)(26,"mat-label"),s._uU(27,"Address 2"),s.qZA(),s._UZ(28,"textarea",4),s.qZA()(),s.TgZ(29,"table",3)(30,"tr")(31,"td")(32,"mat-form-field",1)(33,"mat-label"),s._uU(34,"City"),s.qZA(),s._UZ(35,"input",6),s.qZA()(),s.TgZ(36,"td")(37,"mat-form-field",1)(38,"mat-label"),s._uU(39,"State"),s.qZA(),s._UZ(40,"input",7),s.qZA()()()()(),s._UZ(41,"app-document-attachment",8),s.qZA(),s.TgZ(42,"mat-card-actions",9)(43,"button",10),s._uU(44,"Cancel"),s.qZA(),s.TgZ(45,"button",11),s._uU(46,"Save"),s.qZA()()()),2&e&&(s.xp6(41),s.Q6J("virtualDocuments",i.documents))},dependencies:[Rl,Vf,nm,Yy,cm,lm,Pm,MM],styles:["[_nghost-%COMP%]{height:calc(100vh - 64px);display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{width:50%;padding-bottom:1.5rem}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:0 .5rem}"]}),n})();function IM(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function Ym(n,t){const e=t?"":"none";IM(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function dF(n,t,e){IM(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function XD(n,t){return t&&"none"!=t?n+" "+t:n}function hF(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function kM(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function PM(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function RM(n,t,e){const{top:i,bottom:r,left:o,right:u}=n;return e>=i&&e<=r&&t>=o&&t<=u}function pb(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function fF(n,t,e,i){const{top:r,right:o,bottom:u,left:h,width:_,height:w}=n,M=_*t,H=w*t;return i>r-H&&i<u+H&&e>h-M&&e<o+M}class pF{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:PM(e)})})}handleScroll(t){const e=Rs(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let o,u;if(e===this._document){const w=this.getViewportScrollPosition();o=w.top,u=w.left}else o=e.scrollTop,u=e.scrollLeft;const h=r.top-o,_=r.left-u;return this.positions.forEach((w,M)=>{w.clientRect&&e!==M&&e.contains(M)&&pb(w.clientRect,h,_)}),r.top=o,r.left=u,{top:h,left:_}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function gF(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?yF(n,t):("input"===i||"select"===i||"textarea"===i)&&_F(n,t),mF("canvas",n,t,yF),mF("input, textarea, select",n,t,_F),t}function mF(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const o=e.querySelectorAll(n);for(let u=0;u<r.length;u++)i(r[u],o[u])}}let m3=0;function _F(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${m3++}`)}function yF(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const vF=Yo({passive:!0}),JD=Yo({passive:!1}),OM=new Set(["position"]);class y3{constructor(t,e,i,r,o,u){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=u,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new _t.x,this._pointerMoveSubscription=jn.w0.EMPTY,this._pointerUpSubscription=jn.w0.EMPTY,this._scrollSubscription=jn.w0.EMPTY,this._resizeSubscription=jn.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new _t.x,this.started=new _t.x,this.released=new _t.x,this.ended=new _t.x,this.entered=new _t.x,this.exited=new _t.x,this.dropped=new _t.x,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const _=this._getTargetHandle(h);_&&!this._disabledHandles.has(_)&&!this.disabled&&this._initializeDragSequence(_,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const _=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(_.x-this._pickupPositionOnPage.x)+Math.abs(_.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Me=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),Le=this._dropContainer;if(!Me)return void this._endDragSequence(h);(!Le||!Le.isDragging()&&!Le.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}h.preventDefault();const w=this._getConstrainedPointerPosition(_);if(this._hasMoved=!0,this._lastKnownPointerPosition=_,this._updatePointerDirectionDelta(w),this._dropContainer)this._updateActiveDropContainer(w,_);else{const M=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,H=this._activeTransform;H.x=w.x-M.x+this._passiveTransform.x,H.y=w.y-M.y+this._passiveTransform.y,this._applyRootElementTransform(H.x,H.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:w,event:h,distance:this._getDragDistance(w),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this._nativeDragStart=h=>{if(this._handles.length){const _=this._getTargetHandle(h);_&&!this._disabledHandles.has(_)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new pF(i),u.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=ni(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Ym(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Ii(i)),this._handles.forEach(i=>Ym(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Ii(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,JD),e.addEventListener("touchstart",this._pointerDown,vF),e.addEventListener("dragstart",this._nativeDragStart,JD)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Ii(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Ym(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Ym(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){gb(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),u=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();r.insertBefore(u,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),dF(i,!1,OM),this._document.body.appendChild(r.replaceChild(o,i)),this._getPreviewInsertionPoint(r,h).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=gb(e),o=!r&&0!==e.button,u=this._rootElement,h=Rs(e),_=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),w=r?Wd(e):$g(e);if(h&&h.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||_||w)return;if(this._handles.length){const Ce=u.style;this._rootElementTapHighlight=Ce.webkitTapHighlightColor||"",Ce.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ce=>this._updateOnScroll(Ce)),this._boundaryElement&&(this._boundaryRect=PM(this._boundaryElement));const M=this._previewTemplate;this._pickupPositionInElement=M&&M.template&&!M.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const H=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:H.x,y:H.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){dF(this._rootElement,!0,OM),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),u=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:u,distance:o,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,u,o,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const o=t.matchSize?this._initialClientRect:null,u=t.viewContainer.createEmbeddedView(i,t.context);u.detectChanges(),r=wF(u,this._document),this._previewRef=u,t.matchSize?CF(r,o):r.style.transform=eE(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=gF(this._rootElement),CF(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return IM(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},OM),Ym(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function g3(n){const t=getComputedStyle(n),e=kM(t,"transition-property"),i=e.find(h=>"transform"===h||"all"===h);if(!i)return 0;const r=e.indexOf(i),o=kM(t,"transition-duration"),u=kM(t,"transition-delay");return hF(o[r])+hF(u[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=u=>{(!u||Rs(u)===this._preview&&"transform"===u.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(o))},o=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=wF(this._placeholderRef,this._document)):i=gF(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,u=gb(i)?i.targetTouches[0]:i,h=this._getViewportScrollPosition();return{x:o.left-t.left+(u.pageX-o.left-h.left),y:o.top-t.top+(u.pageY-o.top-h.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=gb(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const u=this._ownerSVGElement.getScreenCTM();if(u){const h=this._ownerSVGElement.createSVGPoint();return h.x=r,h.y=o,h.matrixTransform(u.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:u}=this._pickupPositionInElement,h=this._boundaryRect,{width:_,height:w}=this._getPreviewRect(),M=h.top+u,H=h.bottom-(w-u);i=bF(i,h.left+o,h.right-(_-o)),r=bF(r,M,H)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,u=Math.abs(e-o.x),h=Math.abs(i-o.y);return u>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),h>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Ym(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,JD),t.removeEventListener("touchstart",this._pointerDown,vF),t.removeEventListener("dragstart",this._nativeDragStart,JD)}_applyRootElementTransform(t,e){const i=eE(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=XD(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=eE(t,e);this._preview.style.transform=XD(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,u=i.right-r.right,h=r.top-i.top,_=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),u>0&&(t-=u)):t=0,r.height>i.height?(h>0&&(e+=h),_>0&&(e-=_)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:gb(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Rs(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&pb(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=Fg(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Ii(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function eE(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function bF(n,t,e){return Math.max(t,Math.min(e,n))}function gb(n){return"t"===n.type[0]}function wF(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function CF(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=eE(t.left,t.top)}function mb(n,t){return Math.max(0,Math.min(t,n))}class b3{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const o=this._itemPositions,u=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===u&&o.length>0)return null;const h="horizontal"===this.orientation,_=o.findIndex(st=>st.drag===t),w=o[u],H=w.clientRect,Ce=_>u?1:-1,Me=this._getItemOffsetPx(o[_].clientRect,H,Ce),Le=this._getSiblingOffsetPx(_,o,Ce),$e=o.slice();return function v3(n,t,e){const i=mb(t,n.length-1),r=mb(e,n.length-1);if(i===r)return;const o=n[i],u=r<i?-1:1;for(let h=i;h!==r;h+=u)n[h]=n[h+u];n[r]=o}(o,_,u),o.forEach((st,It)=>{if($e[It]===st)return;const Bt=st.drag===t,Xt=Bt?Me:Le,jt=Bt?t.getPlaceholderElement():st.drag.getRootElement();st.offset+=Xt,h?(jt.style.transform=XD(`translate3d(${Math.round(st.offset)}px, 0, 0)`,st.initialTransform),pb(st.clientRect,0,Xt)):(jt.style.transform=XD(`translate3d(0, ${Math.round(st.offset)}px, 0)`,st.initialTransform),pb(st.clientRect,Xt,0))}),this._previousSwap.overlaps=RM(H,e,i),this._previousSwap.drag=w.drag,this._previousSwap.delta=h?r.x:r.y,{previousIndex:_,currentIndex:u}}enter(t,e,i,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,u=this._activeDraggables,h=u.indexOf(t),_=t.getPlaceholderElement();let w=u[o];if(w===t&&(w=u[o+1]),!w&&(null==o||-1===o||o<u.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(w=u[0]),h>-1&&u.splice(h,1),w&&!this._dragDropRegistry.isDragging(w)){const M=w.getRootElement();M.parentElement.insertBefore(_,M),u.splice(o,0,t)}else Ii(this._element).appendChild(_),u.push(t);_.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{pb(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:PM(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let o=r?e.left-t.left:e.top-t.top;return-1===i&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,o=e[t].clientRect,u=e[t+-1*i];let h=o[r?"width":"height"]*i;if(u){const _=r?"left":"top",w=r?"right":"bottom";-1===i?h-=u.clientRect[_]-o[w]:h+=o[_]-u.clientRect[w]}return h}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const u=i[i.length-1].clientRect;return r?t>=u.right:e>=u.bottom}{const u=i[0].clientRect;return r?t<=u.left:e<=u.top}}_getItemIndexFromPointerPosition(t,e,i,r){const o="horizontal"===this.orientation,u=this._itemPositions.findIndex(({drag:h,clientRect:_})=>{if(h===t)return!1;if(r){const w=o?r.x:r.y;if(h===this._previousSwap.drag&&this._previousSwap.overlaps&&w===this._previousSwap.delta)return!1}return o?e>=Math.floor(_.left)&&e<Math.floor(_.right):i>=Math.floor(_.top)&&i<Math.floor(_.bottom)});return-1!==u&&this._sortPredicate(u,t)?u:-1}}class w3{constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new _t.x,this.entered=new _t.x,this.exited=new _t.x,this.dropped=new _t.x,this.sorted=new _t.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=jn.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new _t.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function p3(n=0,t=Os.z){return n<0&&(n=0),Fc(n,n,t)}(0,Hv).pipe(Kt(this._stopScrollTimers)).subscribe(()=>{const u=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?u.scrollBy(0,-h):2===this._verticalScrollDirection&&u.scrollBy(0,h),1===this._horizontalScrollDirection?u.scrollBy(-h,0):2===this._horizontalScrollDirection&&u.scrollBy(h,0)})},this.element=Ii(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new pF(i),this._sortStrategy=new b3(this.element,e),this._sortStrategy.withSortPredicate((u,h)=>this.sortPredicate(u,h,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,u,h,_={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:u,dropPoint:h,event:_})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Ii(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!fF(this._clientRect,.05,e,i))return;const o=this._sortStrategy.sort(t,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,o=0;if(this._parentPositions.positions.forEach((u,h)=>{h===this._document||!u.clientRect||i||fF(u.clientRect,.05,t,e)&&([r,o]=function C3(n,t,e,i){const r=AF(t,i),o=SF(t,e);let u=0,h=0;if(r){const _=n.scrollTop;1===r?_>0&&(u=1):n.scrollHeight-_>n.clientHeight&&(u=2)}if(o){const _=n.scrollLeft;1===o?_>0&&(h=1):n.scrollWidth-_>n.clientWidth&&(h=2)}return[u,h]}(h,u.clientRect,t,e),(r||o)&&(i=h))}),!r&&!o){const{width:u,height:h}=this._viewportRuler.getViewportSize(),_={width:u,height:h,top:0,right:u,bottom:h,left:0};r=AF(_,e),o=SF(_,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Ii(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Ii(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Ii(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&RM(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!RM(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const o=Ii(this.element);return r===o||o.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=Fg(Ii(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function AF(n,t){const{top:e,bottom:i,height:r}=n,o=.05*r;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}function SF(n,t){const{left:e,right:i,width:r}=n,o=.05*r;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}const tE=Yo({passive:!1,capture:!0});let D3=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new _t.x,this.pointerUp=new _t.x,this.scroll=new _t.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,tE)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,tE)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:tE}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:tE}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,u)=>{this._document.addEventListener(u,o.handler,o.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Yn.y(r=>this._ngZone.runOutsideAngular(()=>{const u=h=>{this._activeDragInstances.length&&r.next(h)};return e.addEventListener("scroll",u,!0),()=>{e.removeEventListener("scroll",u,!0)}}))),(0,Ls.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const E3={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let TF=(()=>{class n{constructor(e,i,r,o){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(e,i=E3){return new y3(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new w3(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(s.R0b),s.LFG(Ll),s.LFG(D3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const FM=new s.OlP("CDK_DRAG_PARENT"),A3=new s.OlP("CDK_DRAG_CONFIG"),S3=new s.OlP("CdkDropList"),LM=new s.OlP("CdkDragHandle");let T3=(()=>{class n{constructor(e,i){this.element=e,this._stateChanges=new _t.x,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(e){this._disabled=ni(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(FM,12))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[s._Bn([{provide:LM,useExisting:n}])]}),n})();const x3=new s.OlP("CdkDragPlaceholder"),M3=new s.OlP("CdkDragPreview");let k3=(()=>{class n{constructor(e,i,r,o,u,h,_,w,M,H,Ce){this.element=e,this.dropContainer=i,this._ngZone=o,this._viewContainerRef=u,this._dir=_,this._changeDetectorRef=M,this._selfHandle=H,this._parentDrag=Ce,this._destroyed=new _t.x,this.started=new s.vpe,this.released=new s.vpe,this.ended=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.dropped=new s.vpe,this.moved=new Yn.y(Me=>{const Le=this._dragRef.moved.pipe((0,zt.U)($e=>({source:this,pointerPosition:$e.pointerPosition,event:$e.event,delta:$e.delta,distance:$e.distance}))).subscribe(Me);return()=>{Le.unsubscribe()}}),this._dragRef=w.createDrag(e,{dragStartThreshold:h&&null!=h.dragStartThreshold?h.dragStartThreshold:5,pointerDirectionChangeThreshold:h&&null!=h.pointerDirectionChangeThreshold?h.pointerDirectionChangeThreshold:5,zIndex:h?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),h&&this._assignDefaults(h),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=ni(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Qn(1),Kt(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):Ii(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,u=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:ps(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(u).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(Qn(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:u,boundaryElement:h,draggingDisabled:_,rootElementSelector:w,previewContainer:M}=e;this.disabled=_??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),u&&(this.previewClass=u),h&&(this.boundaryElement=h),w&&(this.rootElementSelector=w),M&&(this.previewContainer=M)}_setupHandlesListener(){this._handles.changes.pipe(Xn(this._handles),(0,ci.b)(e=>{const i=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),li(e=>(0,Ls.T)(...e.map(i=>i._stateChanges.pipe(Xn(i))))),Kt(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(S3,12),s.Y36(B),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(A3,8),s.Y36(mr,8),s.Y36(TF),s.Y36(s.sBO),s.Y36(LM,10),s.Y36(FM,12))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,M3,5),s.Suo(r,x3,5),s.Suo(r,LM,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._previewTemplate=o.first),s.iGM(o=s.CRH())&&(i._placeholderTemplate=o.first),s.iGM(o=s.CRH())&&(i._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[s._Bn([{provide:FM,useExisting:n}]),s.TTD]}),n})(),P3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[TF],imports:[ip]}),n})();const R3=["*",[["mat-toolbar-row"]]],O3=["*","mat-toolbar-row"],F3=Rf(class{constructor(n){this._elementRef=n}});let L3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),xF=(()=>{class n extends F3{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Ci),s.Y36(B))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,L3,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:O3,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(R3),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),N3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bn,Bn]}),n})(),V3=(()=>{class n{constructor(){}ngOnInit(){}openDocumentAttachment(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-document-dialog"]],decls:22,vars:1,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary",".cdk-overlay-container"],["cdkDragHandle","","color","primary"],[1,"mat-subheading-2"],[3,"singleLineAttach"],[1,"item"],["color","accent"],[1,"mat-body"],["spacer",""],["mat-stroked-button","","mat-dialog-close",""],["mat-flat-button","","color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"mat-toolbar",1)(2,"span",2),s._uU(3,"Attach Documents"),s.qZA()(),s.TgZ(4,"mat-card-content"),s._UZ(5,"app-document-attachment",3),s.qZA(),s.TgZ(6,"mat-card-actions")(7,"div",4)(8,"mat-icon",5),s._uU(9,"account_circle"),s.qZA(),s.TgZ(10,"span",6),s._uU(11,"123456"),s.qZA()(),s.TgZ(12,"div",4)(13,"mat-icon",5),s._uU(14,"local_hospital"),s.qZA(),s.TgZ(15,"span",6),s._uU(16,"TN VALLEY HEALTHCARE TRANSPLANT, NASHVILLE, TN"),s.qZA()(),s._UZ(17,"span",7),s.TgZ(18,"button",8),s._uU(19,"Cancel"),s.qZA(),s.TgZ(20,"button",9),s._uU(21,"Attach All"),s.qZA()()()),2&e&&(s.xp6(5),s.Q6J("singleLineAttach",!0))},dependencies:[Rl,Vf,nm,Yy,Kv,k3,T3,SM,xF,MM,xM],styles:["mat-card[_ngcontent-%COMP%]{padding:0 0 1.25rem}mat-card[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{height:36px;display:flex;flex-direction:row;align-items:center}mat-card[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{margin:0;padding-top:.5rem}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;padding:.75rem 1.25rem 1.25rem}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:.75rem}"]}),n})(),B3=(()=>{class n{constructor(e){this.dialog=e}ngOnInit(){}openDocumentAttachment(){this.dialog.open(V3,{maxWidth:"75vw",minWidth:"55vw",panelClass:"document-dialog",autoFocus:!1,hasBackdrop:!1})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(jm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-modal"]],decls:2,vars:0,consts:[["mat-stroked-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"button",0),s.NdJ("click",function(){return i.openDocumentAttachment()}),s._uU(1,"Attach Documents"),s.qZA())},dependencies:[Rl],styles:["[_nghost-%COMP%]{height:calc(100vh - 64px);display:flex;justify-content:center;align-items:center}"]}),n})();function U3(n,t){1&n&&s.Hsn(0)}const MF=["*"];function H3(n,t){}const j3=function(n){return{animationDuration:n}},G3=function(n,t){return{value:n,params:t}},z3=["tabListContainer"],$3=["tabList"],W3=["tabListInner"],q3=["nextPaginator"],Y3=["previousPaginator"],Z3=["tabBodyWrapper"],K3=["tabHeader"];function Q3(n,t){}function X3(n,t){if(1&n&&s.YNc(0,Q3,0,0,"ng-template",10),2&n){const e=s.oxw().$implicit;s.Q6J("cdkPortalOutlet",e.templateLabel)}}function J3(n,t){if(1&n&&s._uU(0),2&n){const e=s.oxw().$implicit;s.Oqu(e.textLabel)}}function eG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",6),s.NdJ("click",function(){const r=s.CHM(e),o=r.$implicit,u=r.index,h=s.oxw(),_=s.MAs(1);return s.KtG(h._handleClick(o,_,u))})("cdkFocusChange",function(r){const u=s.CHM(e).index,h=s.oxw();return s.KtG(h._tabFocusChanged(r,u))}),s.TgZ(1,"div",7),s.YNc(2,X3,1,1,"ng-template",8),s.YNc(3,J3,1,1,"ng-template",null,9,s.W1O),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.MAs(4),o=s.oxw();s.ekj("mat-tab-label-active",o.selectedIndex===i),s.Q6J("id",o._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||o.disableRipple),s.uIk("tabIndex",o._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),s.xp6(2),s.Q6J("ngIf",e.templateLabel)("ngIfElse",r)}}function tG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-tab-body",11),s.NdJ("_onCentered",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._setTabBodyWrapperHeight(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.ekj("mat-tab-body-active",r.selectedIndex===i),s.Q6J("id",r._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),s.uIk("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const nG=new s.OlP("MatInkBarPositioner",{providedIn:"root",factory:function iG(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let IF=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=o}alignToElement(e){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe(Qn(1)).subscribe(()=>{const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(nG),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const rG=new s.OlP("MatTabContent"),sG=new s.OlP("MatTabLabel"),oG=new s.OlP("MAT_TAB"),aG=Pf(class{}),kF=new s.OlP("MAT_TAB_GROUP");let PF=(()=>{class n extends aG{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new _t.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new Wu(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(kF,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,sG,5),s.Suo(r,rG,7,s.Rgc)),2&e){let o;s.iGM(o=s.CRH())&&(i.templateLabel=o.first),s.iGM(o=s.CRH())&&(i._explicitContent=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,7),2&e){let r;s.iGM(r=s.CRH())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[s._Bn([{provide:oG,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:MF,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.YNc(0,U3,1,0,"ng-template"))},encapsulation:2}),n})();const lG={translateTab:Ua("translateTab",[_s("center, void, left-origin-center, right-origin-center",Pn({transform:"none"})),_s("left",Pn({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),_s("right",Pn({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),Mr("* => left, * => right, left => center, right => center",ki("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Mr("void => left-origin-center",[Pn({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),ki("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Mr("void => right-origin-center",[Pn({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),ki("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let cG=(()=>{class n extends za{constructor(e,i,r,o){super(e,i,o),this._host=r,this._centeringSub=jn.w0.EMPTY,this._leavingSub=jn.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Xn(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36((0,s.Gpc)(()=>RF)),s.Y36(B))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[s.qOj]}),n})(),uG=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=jn.w0.EMPTY,this._translateTabComplete=new _t.x,this._onCentering=new s.vpe,this._beforeCentering=new s.vpe,this._afterLeavingCenter=new s.vpe,this._onCentered=new s.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe(Bg((o,u)=>o.fromState===u.fromState&&o.toState===u.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(mr,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),RF=(()=>{class n extends uG{constructor(e,i,r){super(e,i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(mr,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&s.Gf(za,5),2&e){let r;s.iGM(r=s.CRH())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[s.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("@translateTab.start",function(o){return i._onTranslateTabStarted(o)})("@translateTab.done",function(o){return i._translateTabComplete.next(o)}),s.YNc(2,H3,0,0,"ng-template",2),s.qZA()),2&e&&s.Q6J("@translateTab",s.WLB(3,G3,i._position,s.VKq(1,j3,i.animationDuration)))},dependencies:[cG],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[lG.translateTab]}}),n})();const OF=new s.OlP("MAT_TABS_CONFIG"),dG=Pf(class{});let FF=(()=>{class n extends dG{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(s.uIk("aria-disabled",!!i.disabled),s.ekj("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[s.qOj]}),n})();const LF=Yo({passive:!0});let pG=(()=>{class n{constructor(e,i,r,o,u,h,_){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=o,this._ngZone=u,this._platform=h,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new _t.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new _t.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new s.vpe,this.indexFocused=new s.vpe,u.runOutsideAngular(()=>{zn(e.nativeElement,"mouseleave").pipe(Kt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=ni(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=ps(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){zn(this._previousPaginator.nativeElement,"touchstart",LF).pipe(Kt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),zn(this._nextPaginator.nativeElement,"touchstart",LF).pipe(Kt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Nt("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new bw(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Qn(1)).subscribe(r),(0,Ls.T)(e,i,this._items.changes,this._itemsResized()).pipe(Kt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Kt(this._destroyed)).subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?Hi.E:this._items.changes.pipe(Xn(this._items),li(e=>new Yn.y(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(()=>{i.next()});return e.forEach(o=>{r.observe(o.elementRef.nativeElement)}),()=>{r.disconnect()}}))),My(1))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Sc(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:u}=i.elementRef.nativeElement;let h,_;"ltr"==this._getLayoutDirection()?(h=o,_=h+u):(_=this._tabListInner.nativeElement.offsetWidth-o,h=_-u);const w=this.scrollDistance,M=this.scrollDistance+r;h<w?this.scrollDistance-=w-h+60:_>M&&(this.scrollDistance+=_-M+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),Fc(650,100).pipe(Kt((0,Ls.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ll),s.Y36(mr,8),s.Y36(s.R0b),s.Y36(Ci),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),gG=(()=>{class n extends pG{constructor(e,i,r,o,u,h,_){super(e,i,r,o,u,h,_),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ni(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ll),s.Y36(mr,8),s.Y36(s.R0b),s.Y36(Ci),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[s.qOj]}),n})(),mG=(()=>{class n extends gG{constructor(e,i,r,o,u,h,_){super(e,i,r,o,u,h,_)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ll),s.Y36(mr,8),s.Y36(s.R0b),s.Y36(Ci),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,FF,4),2&e){let o;s.iGM(o=s.CRH())&&(i._items=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(IF,7),s.Gf(z3,7),s.Gf($3,7),s.Gf(W3,7),s.Gf(q3,5),s.Gf(Y3,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._inkBar=r.first),s.iGM(r=s.CRH())&&(i._tabListContainer=r.first),s.iGM(r=s.CRH())&&(i._tabList=r.first),s.iGM(r=s.CRH())&&(i._tabListInner=r.first),s.iGM(r=s.CRH())&&(i._nextPaginator=r.first),s.iGM(r=s.CRH())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[s.qOj],ngContentSelectors:MF,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"button",0,1),s.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(o){return i._handlePaginatorPress("before",o)})("touchend",function(){return i._stopInterval()}),s._UZ(2,"div",2),s.qZA(),s.TgZ(3,"div",3,4),s.NdJ("keydown",function(o){return i._handleKeydown(o)}),s.TgZ(5,"div",5,6),s.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),s.TgZ(7,"div",7,8),s.Hsn(9),s.qZA(),s._UZ(10,"mat-ink-bar"),s.qZA()(),s.TgZ(11,"button",9,10),s.NdJ("mousedown",function(o){return i._handlePaginatorPress("after",o)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),s._UZ(13,"div",2),s.qZA()),2&e&&(s.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),s.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),s.xp6(5),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),s.xp6(6),s.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),s.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},dependencies:[kc,Af,IF],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}"],encapsulation:2}),n})(),_G=0;class yG{}const vG=Rf(Ou(class{constructor(n){this._elementRef=n}}),"primary");let bG=(()=>{class n extends vG{constructor(e,i,r,o){super(e),this._changeDetectorRef=i,this._animationMode=o,this._tabs=new s.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=jn.w0.EMPTY,this._tabLabelSubscription=jn.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new s.vpe,this.focusChange=new s.vpe,this.animationDone=new s.vpe,this.selectedTabChange=new s.vpe(!0),this._groupId=_G++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=r?.contentTabIndex??null,this.preserveContent=!!r?.preserveContent}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=ni(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=ps(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=ps(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=ni(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=ni(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Xn(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new yG;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Ls.T)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){e.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(e,i){return e.disabled?null:i===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(OF,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[s.qOj]}),n})(),wG=(()=>{class n extends bG{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(OF,8),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,PF,5),2&e){let o;s.iGM(o=s.CRH())&&(i._allTabs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Z3,5),s.Gf(K3,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._tabBodyWrapper=r.first),s.iGM(r=s.CRH())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[s._Bn([{provide:kF,useExisting:n}]),s.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-tab-header",0,1),s.NdJ("indexFocused",function(o){return i._focusChanged(o)})("selectFocusedIndex",function(o){return i.selectedIndex=o}),s.YNc(2,eG,5,15,"div",2),s.qZA(),s.TgZ(3,"div",3,4),s.YNc(5,tG,1,11,"mat-tab-body",5),s.qZA()),2&e&&(s.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),s.xp6(2),s.Q6J("ngForOf",i._tabs),s.xp6(1),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),s.xp6(2),s.Q6J("ngForOf",i._tabs))},dependencies:[aa,Ds,Zs,za,kc,Uy,FF,RF,mG],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2}),n})(),CG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Xi,Bn,qu,Lf,Tc,uo,Bn]}),n})();const DG=[{path:"",redirectTo:"/modal",pathMatch:"full"},{path:"form",component:f3},{path:"modal",component:B3},{path:"tabs",component:(()=>{class n{constructor(){this.documents=[{url:"https://github.com/Matthew-The-Developer/file-attachment/blob/master/src/assets/pdf-test.pdf",name:"pdf-test.pdf",size:2534446,extension:".pdf",type:"application/pdf",lastModified:new Date(1659762822100),medicalType:qo.activation},{url:"https://www.thecoderpedia.com/wp-content/uploads/2020/06/Programming-Memes-Programmer-while-sleeping.jpg?x34900",name:"Programming-Memes-Programmer-while-sleeping.jpg",size:59868,extension:".jpg",type:"image/jpeg",lastModified:new Date(1661779977375),medicalType:qo.declination},{url:"./assets/example03.docx",name:"example03.docx",size:108816,extension:".docx",type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",lastModified:new Date(1659672717869),medicalType:qo.deactivation}]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-tabs"]],decls:6,vars:2,consts:[["selectedIndex","2"],["label","Details","disabled",""],["label","History","disabled",""],["label","Douments"],[3,"readonly","virtualDocuments"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card")(1,"mat-tab-group",0),s._UZ(2,"mat-tab",1)(3,"mat-tab",2),s.TgZ(4,"mat-tab",3),s._UZ(5,"app-document-attachment",4),s.qZA()()()),2&e&&(s.xp6(5),s.Q6J("readonly",!0)("virtualDocuments",i.documents))},dependencies:[Vf,wG,PF,MM],styles:["[_nghost-%COMP%]{height:calc(100vh - 64px);display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{width:55%;padding:0}mat-card[_ngcontent-%COMP%]   .mat-tab-body[_ngcontent-%COMP%]{padding:1rem}"]}),n})()}];let EG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[hy.forRoot(DG),hy]}),n})();var ut=R(5861),nE=R(5363),AG=R(6063);class SG extends _t.x{constructor(t=1/0,e=1/0,i=AG.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)h=_;h&&i.splice(0,h+1)}}}function VF(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,j1.B)({connector:()=>new SG(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function BF(n,t){return(0,ei.m)(t)?li(()=>n,t):li(()=>n)}var NM=R(9468),es=R(5813),Bl=R(2011);R(5867);var hp=R(9681),rE=R(4859),In=R(2090),ah=R(1877);const HF=new Map,kG={activated:!1,tokenObservers:[]},PG={initialized:!1,enabled:!1};function Pr(n){return HF.get(n)||kG}function Ul(n,t){HF.set(n,t)}function sE(){return PG}class NG{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ut.Z)(function*(){e.stop();try{e.pending=new In.BH,yield function VG(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new In.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Us=new In.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function GF(n){if(!Pr(n).activated)throw Us.create("use-before-activation",{appName:n.name})}function HM(n,t){return jM.apply(this,arguments)}function jM(){return(jM=(0,ut.Z)(function*({url:n,body:t},e){var i,r;const o={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const Me=yield u.getHeartbeatsHeader();Me&&(o["X-Firebase-Client"]=Me)}const h={method:"POST",body:JSON.stringify(t),headers:o};let _,w;try{_=yield fetch(n,h)}catch(Me){throw Us.create("fetch-network-error",{originalErrorMessage:null===(i=Me)||void 0===i?void 0:i.message})}if(200!==_.status)throw Us.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(Me){throw Us.create("fetch-parse-error",{originalErrorMessage:null===(r=Me)||void 0===r?void 0:r.message})}const M=w.ttl.match(/^([\d.]+)(s)$/);if(!M||!M[2]||isNaN(Number(M[1])))throw Us.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const H=1e3*Number(M[1]),Ce=Date.now();return{token:w.token,expireTimeMillis:Ce+H,issuedAtTimeMillis:Ce}})).apply(this,arguments)}function jG(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const _b="firebase-app-check-store";let lE=null;function $F(){return lE||(lE=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;t(Us.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(_b,{keyPath:"compositeKey"})}}catch(i){t(Us.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),lE)}function GM(){return(GM=(0,ut.Z)(function*(n,t){const i=(yield $F()).transaction(_b,"readwrite"),o=i.objectStore(_b).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=_=>{u()},i.onerror=_=>{var w;h(Us.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const yb=new ah.Yd("@firebase/app-check");function ZF(n,t){return(0,In.hl)()?function WG(n,t){return function WF(n,t){return GM.apply(this,arguments)}(function YF(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{yb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function KF(){return sE().enabled}function QF(){return qM.apply(this,arguments)}function qM(){return(qM=(0,ut.Z)(function*(){const n=sE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const XG={error:"UNKNOWN_ERROR"};function JG(n){return In.US.encodeString(JSON.stringify(n),!1)}function cE(n){return YM.apply(this,arguments)}function YM(){return(YM=(0,ut.Z)(function*(n,t=!1){const e=n.app;GF(e);const i=Pr(e);let o,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&uE(_)&&(r=_)}if(!t&&r&&uE(r))return{token:r.token};let h,u=!1;if(KF()){i.exchangeTokenPromise||(i.exchangeTokenPromise=HM(jG(e,yield QF()),n.heartbeatServiceProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),u=!0);const _=yield i.exchangeTokenPromise;return yield ZF(e,_),Ul(e,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?yb.warn(_.message):yb.error(_),o=_}return r?(h={token:r.token},Ul(e,Object.assign(Object.assign({},i),{token:r})),yield ZF(e,r)):h=tz(o),u&&JF(e,h),h})).apply(this,arguments)}function KM(n,t){const e=Pr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Ul(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function XF(n){const{app:t}=n,e=Pr(t);let i=e.tokenRefresher;i||(i=function ez(n){const{app:t}=n;return new NG((0,ut.Z)(function*(){let i;if(i=Pr(t).token?yield cE(n,!0):yield cE(n),i.error)throw i.error}),()=>!0,()=>{const e=Pr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Ul(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function JF(n,t){const e=Pr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function uE(n){return n.expireTimeMillis-Date.now()>0}function tz(n){return{token:JG(XG),error:n}}class nz{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Pr(this.app);for(const e of t)KM(this.app,e.next);return Promise.resolve()}}const aL="app-check-internal";!function mz(){(0,hp._registerComponent)(new rE.wA("app-check",n=>function iz(n,t){return new nz(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(aL).initialize()})),(0,hp._registerComponent)(new rE.wA(aL,n=>function rz(n){return{getToken:t=>cE(n,t),addTokenListener:t=>function ZM(n,t,e,i){const{app:r}=n,o=Pr(r),u={next:e,error:i,type:t};if(Ul(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&uE(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),XF(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>XF(n))}(n,"INTERNAL",t),removeTokenListener:t=>KM(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,hp.registerVersion)("@firebase/app-check","0.5.12")}();class eI{constructor(){return(0,es.vb)("app-check")}}typeof window<"u"&&window;var wz=R(127);const cL=new s.OlP("angularfire2.auth.use-emulator"),uL=new s.OlP("angularfire2.auth.settings"),dL=new s.OlP("angularfire2.auth.tenant-id"),hL=new s.OlP("angularfire2.auth.langugage-code"),fL=new s.OlP("angularfire2.auth.use-device-language"),pL=new s.OlP("angularfire.auth.persistence"),gL=(n,t,e,i,r,o,u,h)=>(0,Bl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,o&&_.useDeviceLanguage(),u)for(const[w,M]of Object.entries(u))_.settings[w]=M;return h&&_.setPersistence(h),_},[e,i,r,o,u,h]);let nI=(()=>{class n{constructor(e,i,r,o,u,h,_,w,M,H,Ce,Me){const Le=new _t.x,$e=Nt(void 0).pipe((0,nE.Q)(u.outsideAngular),li(()=>o.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,1451)))),(0,zt.U)(()=>(0,Bl.on)(e,o,i)),(0,zt.U)(st=>gL(st,o,h,w,M,H,_,Ce)),VF({bufferSize:1,refCount:!1}));if(rr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Nt(null);else{$e.pipe(so()).subscribe();const It=$e.pipe(li(jt=>jt.getRedirectResult().then(hn=>hn,()=>null)),es.iC,VF({bufferSize:1,refCount:!1})),Bt=$e.pipe(li(jt=>new Yn.y(hn=>({unsubscribe:o.runOutsideAngular(()=>jt.onAuthStateChanged(mn=>hn.next(mn),mn=>hn.error(mn),()=>hn.complete()))})))),Xt=$e.pipe(li(jt=>new Yn.y(hn=>({unsubscribe:o.runOutsideAngular(()=>jt.onIdTokenChanged(mn=>hn.next(mn),mn=>hn.error(mn),()=>hn.complete()))}))));this.authState=It.pipe(BF(Bt),(0,NM.R)(u.outsideAngular),(0,nE.Q)(u.insideAngular)),this.user=It.pipe(BF(Xt),(0,NM.R)(u.outsideAngular),(0,nE.Q)(u.insideAngular)),this.idToken=this.user.pipe(li(jt=>jt?(0,Vn.D)(jt.getIdToken()):Nt(null))),this.idTokenResult=this.user.pipe(li(jt=>jt?(0,Vn.D)(jt.getIdTokenResult()):Nt(null))),this.credential=(0,Ls.T)(It,Le,this.authState.pipe(ti(jt=>!jt))).pipe((0,zt.U)(jt=>jt?.user?jt:null),(0,NM.R)(u.outsideAngular),(0,nE.Q)(u.insideAngular))}return(0,Bl.pX)(this,$e,o,{spy:{apply:(st,It,Bt)=>{(st.startsWith("signIn")||st.startsWith("createUser"))&&Bt.then(Xt=>Le.next(Xt))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bl.Dh),s.LFG(Bl.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(es.HU),s.LFG(cL,8),s.LFG(uL,8),s.LFG(dL,8),s.LFG(hL,8),s.LFG(fL,8),s.LFG(pL,8),s.LFG(eI,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function iI(){return(0,Gn.e)((n,t)=>{let e,i=!1;n.subscribe((0,Kn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}R(1451);var $t,Dz=R(3942),Ez=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Qu={},rI=rI||{},En=Ez||self;function hE(){}function sI(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function vb(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var oI="closure_uid_"+(1e9*Math.random()>>>0),Sz=0;function Tz(n,t,e){return n.call.apply(n.bind,arguments)}function xz(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function ts(n,t,e){return(ts=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Tz:xz).apply(null,arguments)}function fE(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function ns(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function lh(){this.s=this.s,this.o=this.o}var Iz={};lh.prototype.s=!1,lh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Az(n){return Object.prototype.hasOwnProperty.call(n,oI)&&n[oI]||(n[oI]=++Sz)}(this);delete Iz[n]}},lh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mL=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},_L=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function yL(n){return Array.prototype.concat.apply([],arguments)}function aI(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function pE(n){return/^[\s\xa0]*$/.test(n)}var js,vL=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Hs(n,t){return-1!=n.indexOf(t)}function lI(n,t){return n<t?-1:n>t?1:0}e:{var bL=En.navigator;if(bL){var wL=bL.userAgent;if(wL){js=wL;break e}}js=""}function cI(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function CL(n){const t={};for(const e in n)t[e]=n[e];return t}var DL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function EL(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<DL.length;o++)e=DL[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function uI(n){return uI[" "](n),n}uI[" "]=hE;var gE,n,Rz=Hs(js,"Opera"),Zm=Hs(js,"Trident")||Hs(js,"MSIE"),AL=Hs(js,"Edge"),dI=AL||Zm,SL=Hs(js,"Gecko")&&!(Hs(js.toLowerCase(),"webkit")&&!Hs(js,"Edge"))&&!(Hs(js,"Trident")||Hs(js,"MSIE"))&&!Hs(js,"Edge"),Oz=Hs(js.toLowerCase(),"webkit")&&!Hs(js,"Edge");function TL(){var n=En.document;return n?n.documentMode:void 0}e:{var hI="",fI=(n=js,SL?/rv:([^\);]+)(\)|;)/.exec(n):AL?/Edge\/([\d\.]+)/.exec(n):Zm?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Oz?/WebKit\/(\S+)/.exec(n):Rz?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(fI&&(hI=fI?fI[1]:""),Zm){var pI=TL();if(null!=pI&&pI>parseFloat(hI)){gE=String(pI);break e}}gE=hI}var Fz={};var Nz=En.document&&Zm&&(TL()||parseInt(gE,10))||void 0,Vz=function(){if(!En.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{En.addEventListener("test",hE,t),En.removeEventListener("test",hE,t)}catch{}return n}();function ys(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function bb(n,t){if(ys.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(SL){e:{try{uI(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Bz[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&bb.Z.h.call(this)}}ys.prototype.h=function(){this.defaultPrevented=!0},ns(bb,ys);var Bz={2:"touch",3:"pen",4:"mouse"};bb.prototype.h=function(){bb.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var wb="closure_listenable_"+(1e6*Math.random()|0),Uz=0;function Hz(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++Uz,this.ca=this.fa=!1}function mE(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function _E(n){this.src=n,this.g={},this.h=0}function mI(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=mL(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(mE(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function _I(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}_E.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=_I(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new Hz(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var yI="closure_lm_"+(1e6*Math.random()|0),vI={};function ML(n,t,e,i,r){if(i&&i.once)return kL(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ML(n,t[o],e,i,r);return null}return e=DI(e),n&&n[wb]?n.N(t,e,vb(i)?!!i.capture:!!i,r):IL(n,t,e,!1,i,r)}function IL(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=vb(r)?!!r.capture:!!r,h=wI(n);if(h||(n[yI]=h=new _E(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function jz(){var t=Gz;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Vz||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(RL(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function kL(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)kL(n,t[o],e,i,r);return null}return e=DI(e),n&&n[wb]?n.O(t,e,vb(i)?!!i.capture:!!i,r):IL(n,t,e,!0,i,r)}function PL(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)PL(n,t[o],e,i,r);else i=vb(i)?!!i.capture:!!i,e=DI(e),n&&n[wb]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=_I(o=n.g[t],e,i,r))&&(mE(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=wI(n))&&(t=n.g[t.toString()],n=-1,t&&(n=_I(t,e,i,r)),(e=-1<n?t[n]:null)&&bI(e))}function bI(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[wb])mI(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(RL(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=wI(t))?(mI(e,n),0==e.h&&(e.src=null,t[yI]=null)):mE(n)}}}function RL(n){return n in vI?vI[n]:vI[n]="on"+n}function Gz(n,t){if(n.ca)n=!0;else{t=new bb(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&bI(n),n=e.call(i,t)}return n}function wI(n){return(n=n[yI])instanceof _E?n:null}var CI="__closure_events_fn_"+(1e9*Math.random()>>>0);function DI(n){return"function"==typeof n?n:(n[CI]||(n[CI]=function(t){return n.handleEvent(t)}),n[CI])}function Rr(){lh.call(this),this.i=new _E(this),this.P=this,this.I=null}function is(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new ys(t,n);else if(t instanceof ys)t.target=t.target||n;else{var r=t;EL(t=new ys(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=yE(u,i,!0,t)&&r}if(r=yE(u=t.g=n,i,!0,t)&&r,r=yE(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=yE(u=t.g=e[o],i,!1,t)&&r}function yE(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ca&&u.capture==e){var h=u.listener,_=u.ia||u.src;u.fa&&mI(n.i,u),r=!1!==h.call(_,i)&&r}}return r&&!i.defaultPrevented}ns(Rr,lh),Rr.prototype[wb]=!0,Rr.prototype.removeEventListener=function(n,t,e,i){PL(this,n,t,e,i)},Rr.prototype.M=function(){if(Rr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)mE(e[i]);delete n.g[t],n.h--}}this.I=null},Rr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Rr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var EI=En.JSON.stringify;function zz(){var n=FL;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var SI,OL=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Wz,n=>n.reset());class Wz{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function qz(n){En.setTimeout(()=>{throw n},0)}function AI(n,t){SI||function Yz(){var n=En.Promise.resolve(void 0);SI=function(){n.then(Zz)}}(),TI||(SI(),TI=!0),FL.add(n,t)}var TI=!1,FL=new class $z{constructor(){this.h=this.g=null}add(t,e){const i=OL.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function Zz(){for(var n;n=zz();){try{n.h.call(n.g)}catch(e){qz(e)}var t=OL;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}TI=!1}function vE(n,t){Rr.call(this),this.h=n||1,this.g=t||En,this.j=ts(this.kb,this),this.l=Date.now()}function xI(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function MI(n,t,e){if("function"==typeof n)e&&(n=ts(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ts(n.handleEvent,n)}return 2147483647<Number(t)?-1:En.setTimeout(n,t||0)}function LL(n){n.g=MI(()=>{n.g=null,n.i&&(n.i=!1,LL(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}ns(vE,Rr),($t=vE.prototype).da=!1,$t.S=null,$t.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),is(this,"tick"),this.da&&(xI(this),this.start()))}},$t.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$t.M=function(){vE.Z.M.call(this),xI(this),delete this.g};class Kz extends lh{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:LL(this)}M(){super.M(),this.g&&(En.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cb(n){lh.call(this),this.h=n,this.g={}}ns(Cb,lh);var NL=[];function VL(n,t,e,i){Array.isArray(e)||(e&&(NL[0]=e.toString()),e=NL);for(var r=0;r<e.length;r++){var o=ML(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function BL(n){cI(n.g,function(t,e){this.g.hasOwnProperty(e)&&bI(t)},n),n.g={}}function bE(){this.g=!0}function Km(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function e$(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return EI(e)}catch{return t}}(n,e)+(i?" "+i:"")})}Cb.prototype.M=function(){Cb.Z.M.call(this),BL(this)},Cb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bE.prototype.Aa=function(){this.g=!1},bE.prototype.info=function(){};var fp={},UL=null;function wE(){return UL=UL||new Rr}function HL(n){ys.call(this,fp.Ma,n)}function Db(n){const t=wE();is(t,new HL(t,n))}function jL(n,t){ys.call(this,fp.STAT_EVENT,n),this.stat=t}function Gs(n){const t=wE();is(t,new jL(t,n))}function GL(n,t){ys.call(this,fp.Na,n),this.size=t}function Eb(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return En.setTimeout(function(){n()},t)}fp.Ma="serverreachability",ns(HL,ys),fp.STAT_EVENT="statevent",ns(jL,ys),fp.Na="timingevent",ns(GL,ys);var CE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},zL={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function II(){}function WL(){}II.prototype.h=null;var RI,Ab={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function kI(){ys.call(this,"d")}function PI(){ys.call(this,"c")}function DE(){}function Sb(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new Cb(this),this.P=t$,this.W=new vE(n=dI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new qL}function qL(){this.i=null,this.g="",this.h=!1}ns(kI,ys),ns(PI,ys),ns(DE,II),DE.prototype.g=function(){return new XMLHttpRequest},DE.prototype.i=function(){return{}},RI=new DE;var t$=45e3,OI={},EE={};function FI(n,t,e){n.K=1,n.v=ME(Xu(t)),n.s=e,n.U=!0,YL(n,null)}function YL(n,t){n.F=Date.now(),Tb(n),n.A=Xu(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),iN(e.h,"t",i),n.C=0,e=n.l.H,n.h=new qL,n.g=SN(n.l,e?t:null,!n.s),0<n.O&&(n.L=new Kz(ts(n.Ia,n,n.g),n.O)),VL(n.V,n.g,"readystatechange",n.gb),t=n.H?CL(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),Db(1),function Qz(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),_=0;_<h.length;_++){var w=h[_].split("=");if(1<w.length){var M=w[0];w=w[1];var H=M.split("_");u=2<=H.length&&"type"==H[1]?u+(M+"=")+w+"&":u+(M+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function ZL(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function KL(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=n$(n,e),r==EE){4==t&&(n.o=4,Gs(14),i=!1),Km(n.j,n.m,null,"[Incomplete Response]");break}if(r==OI){n.o=4,Gs(15),Km(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Km(n.j,n.m,r,null),LI(n,r)}ZL(n)&&r!=EE&&r!=OI&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Gs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),qI(t),t.L=!0,Gs(11))):(Km(n.j,n.m,e,"[Invalid Chunked Response]"),pp(n),xb(n))}function n$(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?EE:(e=Number(t.substring(e,i)),isNaN(e)?OI:(i+=1)+e>t.length?EE:(t=t.substr(i,e),n.C=i+e,t))}function Tb(n){n.Y=Date.now()+n.P,QL(n,n.P)}function QL(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Eb(ts(n.eb,n),t)}function AE(n){n.B&&(En.clearTimeout(n.B),n.B=null)}function xb(n){0==n.l.G||n.I||CN(n.l,n)}function pp(n){AE(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,xI(n.W),BL(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function LI(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||BI(e.i,n)))if(e.I=n.N,!n.J&&BI(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;FE(e),RE(e)}WI(e),Gs(18)}}else e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=Eb(ts(e.ab,e),6e3));if(1>=oN(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else _p(e,11)}else if((n.J||e.g==n)&&FE(e),!pE(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let w=r[t];if(e.U=w[0],w=w[1],2==e.G)if("c"==w[0]){e.J=w[1],e.la=w[2];const M=w[3];null!=M&&(e.ma=M,e.h.info("VER="+e.ma));const H=w[4];null!=H&&(e.za=H,e.h.info("SVER="+e.za));const Ce=w[5];null!=Ce&&"number"==typeof Ce&&0<Ce&&(e.K=i=1.5*Ce,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const Me=n.g;if(Me){const Le=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Le){var o=i.i;!o.g&&(Hs(Le,"spdy")||Hs(Le,"quic")||Hs(Le,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(UI(o,o.h),o.h=null))}if(i.D){const $e=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;$e&&(i.sa=$e,Pi(i.F,i.D,$e))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=AN(i,i.H?i.la:null,i.W),u.J){aN(i.i,u);var h=u,_=i.K;_&&h.setTimeout(_),h.B&&(AE(h),Tb(h)),i.g=u}else bN(i);0<e.l.length&&OE(e)}else"stop"!=w[0]&&"close"!=w[0]||_p(e,7);else 3==e.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?_p(e,7):zI(e):"noop"!=w[0]&&e.j&&e.j.wa(w),e.A=0)}Db(4)}catch{}}function NI(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(sI(n)||"string"==typeof n)_L(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(sI(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function i$(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(sI(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function Qm(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Qm)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function VI(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];gp(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)gp(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function gp(n,t){return Object.prototype.hasOwnProperty.call(n,t)}($t=Sb.prototype).setTimeout=function(n){this.P=n},$t.gb=function(n){n=n.target;const t=this.L;t&&3==Ju(n)?t.l():this.Ia(n)},$t.Ia=function(n){try{if(n==this.g)e:{const M=Ju(this.g);var t=this.g.Da();const H=this.g.ba();if(!(3>M)&&(3!=M||dI||this.g&&(this.h.h||this.g.ga()||gN(this.g)))){this.I||4!=M||7==t||Db(8==t||0>=H?3:2),AE(this);var e=this.g.ba();this.N=e;t:if(ZL(this)){var i=gN(this.g);n="";var r=i.length,o=4==Ju(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){pp(this),xb(this);var u="";break t}this.h.i=new En.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function Xz(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.X,M,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pE(h)){var w=h;break t}}w=null}if(!(e=w)){this.i=!1,this.o=3,Gs(12),pp(this),xb(this);break e}Km(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,LI(this,e)}this.U?(KL(this,M,u),dI&&this.i&&3==M&&(VL(this.V,this.W,"tick",this.fb),this.W.start())):(Km(this.j,this.m,u,null),LI(this,u)),4==M&&pp(this),this.i&&!this.I&&(4==M?CN(this.l,this):(this.i=!1,Tb(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Gs(12)):(this.o=0,Gs(13)),pp(this),xb(this)}}}catch{}},$t.fb=function(){if(this.g){var n=Ju(this.g),t=this.g.ga();this.C<t.length&&(AE(this),KL(this,n,t),this.i&&4!=n&&Tb(this))}},$t.cancel=function(){this.I=!0,pp(this)},$t.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Jz(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Db(3),Gs(17)),pp(this),this.o=2,xb(this)):QL(this,this.Y-n)},($t=Qm.prototype).R=function(){VI(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},$t.T=function(){return VI(this),this.g.concat()},$t.get=function(n,t){return gp(this.h,n)?this.h[n]:t},$t.set=function(n,t){gp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},$t.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var XL=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function mp(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof mp){this.g=void 0!==t?t:n.g,SE(this,n.j),this.s=n.s,TE(this,n.i),xE(this,n.m),this.l=n.l,t=n.h;var e=new kb;e.i=t.i,t.g&&(e.g=new Qm(t.g),e.h=t.h),JL(this,e),this.o=n.o}else n&&(e=String(n).match(XL))?(this.g=!!t,SE(this,e[1]||"",!0),this.s=Mb(e[2]||""),TE(this,e[3]||"",!0),xE(this,e[4]),this.l=Mb(e[5]||"",!0),JL(this,e[6]||"",!0),this.o=Mb(e[7]||"")):(this.g=!!t,this.h=new kb(null,this.g))}function Xu(n){return new mp(n)}function SE(n,t,e){n.j=e?Mb(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function TE(n,t,e){n.i=e?Mb(t,!0):t}function xE(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function JL(n,t,e){t instanceof kb?(n.h=t,function h$(n,t){t&&!n.j&&(ch(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(tN(this,i),iN(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=Ib(t,u$)),n.h=new kb(t,n.g))}function Pi(n,t,e){n.h.set(t,e)}function ME(n){return Pi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Mb(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ib(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,a$),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function a$(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}mp.prototype.toString=function(){var n=[],t=this.j;t&&n.push(Ib(t,eN,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(Ib(t,eN,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(Ib(e,"/"==e.charAt(0)?c$:l$,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",Ib(e,d$)),n.join("")};var eN=/[#\/\?@]/g,l$=/[#\?:]/g,c$=/[#\?]/g,u$=/[#\?@]/g,d$=/#/g;function kb(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function ch(n){n.g||(n.g=new Qm,n.h=0,n.i&&function r$(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function tN(n,t){ch(n),t=Xm(n,t),gp(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,gp((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&VI(n)))}function nN(n,t){return ch(n),t=Xm(n,t),gp(n.g.h,t)}function iN(n,t,e){tN(n,t),0<e.length&&(n.i=null,n.g.set(Xm(n,t),aI(e)),n.h+=e.length)}function Xm(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function rN(n){this.l=n||p$,n=En.PerformanceNavigationTiming?0<(n=En.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(En.g&&En.g.Ea&&En.g.Ea()&&En.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($t=kb.prototype).add=function(n,t){ch(this),this.i=null,n=Xm(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},$t.forEach=function(n,t){ch(this),this.g.forEach(function(e,i){_L(e,function(r){n.call(t,r,i,this)},this)},this)},$t.T=function(){ch(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},$t.R=function(n){ch(this);var t=[];if("string"==typeof n)nN(this,n)&&(t=yL(t,this.g.get(Xm(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=yL(t,n[e])}return t},$t.set=function(n,t){return ch(this),this.i=null,nN(this,n=Xm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},$t.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},$t.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var u=r;""!==i[o]&&(u+="="+encodeURIComponent(String(i[o]))),n.push(u)}}return this.i=n.join("&")};var p$=10;function sN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function oN(n){return n.h?1:n.g?n.g.size:0}function BI(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function UI(n,t){n.g?n.g.add(t):n.h=t}function aN(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function lN(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return aI(n.i)}function HI(){}function g$(){this.g=new HI}function m$(n,t,e){const i=e||"";try{NI(n,function(r,o){let u=r;vb(r)&&(u=EI(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function IE(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function Pb(n){this.l=n.$b||null,this.j=n.ib||!1}function kE(n,t){Rr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=jI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rN.prototype.cancel=function(){if(this.i=lN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},HI.prototype.stringify=function(n){return En.JSON.stringify(n,void 0)},HI.prototype.parse=function(n){return En.JSON.parse(n,void 0)},ns(Pb,II),Pb.prototype.g=function(){return new kE(this.l,this.j)},Pb.prototype.i=function(n){return function(){return n}}({}),ns(kE,Rr);var jI=0;function cN(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Rb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ob(n)}function Ob(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($t=kE.prototype).open=function(n,t){if(this.readyState!=jI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,Ob(this)},$t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||En).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},$t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rb(this)),this.readyState=jI},$t.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ob(this)),this.g&&(this.readyState=3,Ob(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof En.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cN(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},$t.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Rb(this):Ob(this),3==this.readyState&&cN(this)}},$t.Ua=function(n){this.g&&(this.response=this.responseText=n,Rb(this))},$t.Ta=function(n){this.g&&(this.response=n,Rb(this))},$t.ha=function(){this.g&&Rb(this)},$t.setRequestHeader=function(n,t){this.v.append(n,t)},$t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(kE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var y$=En.JSON.parse;function ur(n){Rr.call(this),this.headers=new Qm,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uN,this.K=this.L=!1}ns(ur,Rr);var uN="",v$=/^https?$/i,b$=["POST","PUT"];function C$(n){return"content-type"==n.toLowerCase()}function dN(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,hN(n),PE(n)}function hN(n){n.D||(n.D=!0,is(n,"complete"),is(n,"error"))}function fN(n){if(n.h&&typeof rI<"u"&&(!n.C[1]||4!=Ju(n)||2!=n.ba()))if(n.v&&4==Ju(n))MI(n.Fa,0,n);else if(is(n,"readystatechange"),4==Ju(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(XL)[1]||null;if(!r&&En.self&&En.self.location){var o=En.self.location.protocol;r=o.substr(0,o.length-1)}i=!v$.test(r?r.toLowerCase():"")}e=i}if(e)is(n,"complete"),is(n,"success");else{n.m=6;try{var u=2<Ju(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.ba()+"]",hN(n)}}finally{PE(n)}}}function PE(n,t){if(n.g){pN(n);const e=n.g,i=n.C[0]?hE:null;n.g=null,n.C=null,t||is(n,"ready");try{e.onreadystatechange=i}catch{}}}function pN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(En.clearTimeout(n.A),n.A=null)}function Ju(n){return n.g?n.g.readyState:0}function gN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case uN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function GI(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function D$(n){let t="";return cI(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Pi(n,t,e))}function Fb(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function mN(n){this.za=0,this.l=[],this.h=new bE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Fb("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Fb("baseRetryDelayMs",5e3,n),this.$a=Fb("retryDelaySeedMs",1e4,n),this.Ya=Fb("forwardChannelMaxRetries",2,n),this.ra=Fb("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new rN(n&&n.concurrentRequestLimit),this.Ca=new g$,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function zI(n){if(_N(n),3==n.G){var t=n.V++,e=Xu(n.F);Pi(e,"SID",n.J),Pi(e,"RID",t),Pi(e,"TYPE","terminate"),Lb(n,e),(t=new Sb(n,n.h,t,void 0)).K=2,t.v=ME(Xu(e)),e=!1,En.navigator&&En.navigator.sendBeacon&&(e=En.navigator.sendBeacon(t.v.toString(),"")),!e&&En.Image&&((new Image).src=t.v,e=!0),e||(t.g=SN(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Tb(t)}EN(n)}function RE(n){n.g&&(qI(n),n.g.cancel(),n.g=null)}function _N(n){RE(n),n.u&&(En.clearTimeout(n.u),n.u=null),FE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&En.clearTimeout(n.m),n.m=null)}function $I(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&OE(n)}function OE(n){sN(n.i)||n.m||(n.m=!0,AI(n.Ha,n),n.C=0)}function yN(n,t){var e;e=t?t.m:n.V++;const i=Xu(n.F);Pi(i,"SID",n.J),Pi(i,"RID",e),Pi(i,"AID",n.U),Lb(n,i),n.o&&n.s&&GI(i,n.o,n.s),e=new Sb(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=vN(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),UI(n.i,e),FI(e,i,t)}function Lb(n,t){n.j&&NI({},function(e,i){Pi(t,i,e)})}function vN(n,t,e){e=Math.min(n.l.length,e);var i=n.j?ts(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let _=0;_<e;_++){let w=r[_].h;const M=r[_].g;if(w-=o,0>w)o=Math.max(0,r[_].h-100),h=!1;else try{m$(M,u,"req"+w+"_")}catch{i&&i(M)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function bN(n){n.g||n.u||(n.Y=1,AI(n.Ga,n),n.A=0)}function WI(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Eb(ts(n.Ga,n),DN(n,n.A)),n.A++,0))}function qI(n){null!=n.B&&(En.clearTimeout(n.B),n.B=null)}function wN(n){n.g=new Sb(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Xu(n.oa);Pi(t,"RID","rpc"),Pi(t,"SID",n.J),Pi(t,"CI",n.N?"0":"1"),Pi(t,"AID",n.U),Lb(n,t),Pi(t,"TYPE","xmlhttp"),n.o&&n.s&&GI(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=ME(Xu(t)),e.s=null,e.U=!0,YL(e,n)}function FE(n){null!=n.v&&(En.clearTimeout(n.v),n.v=null)}function CN(n,t){var e=null;if(n.g==t){FE(n),qI(n),n.g=null;var i=2}else{if(!BI(n.i,t))return;e=t.D,aN(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;is(i=wE(),new GL(i,e,t,r)),OE(n)}else bN(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function E$(n,t){return!(oN(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Eb(ts(n.Ha,n,t),DN(n,n.C)),n.C++,0)))}(n,t)||2==i&&WI(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:_p(n,5);break;case 4:_p(n,10);break;case 3:_p(n,6);break;default:_p(n,2)}}function DN(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function _p(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=ts(n.jb,n);e||(e=new mp("//www.google.com/images/cleardot.gif"),En.location&&"http"==En.location.protocol||SE(e,"https"),ME(e)),function _$(n,t){const e=new bE;if(En.Image){const i=new Image;i.onload=fE(IE,e,i,"TestLoadImage: loaded",!0,t),i.onerror=fE(IE,e,i,"TestLoadImage: error",!1,t),i.onabort=fE(IE,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=fE(IE,e,i,"TestLoadImage: timeout",!1,t),En.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Gs(2);n.G=0,n.j&&n.j.va(t),EN(n),_N(n)}function EN(n){n.G=0,n.I=-1,n.j&&((0!=lN(n.i).length||0!=n.l.length)&&(n.i.i.length=0,aI(n.l),n.l.length=0),n.j.ua())}function AN(n,t,e){let i=function s$(n){return n instanceof mp?Xu(n):new mp(n,void 0)}(e);if(""!=i.i)t&&TE(i,t+"."+i.i),xE(i,i.m);else{const r=En.location;i=function o$(n,t,e,i){var r=new mp(null,void 0);return n&&SE(r,n),t&&TE(r,t),e&&xE(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&cI(n.aa,function(r,o){Pi(i,o,r)}),e=n.sa,(t=n.D)&&e&&Pi(i,t,e),Pi(i,"VER",n.ma),Lb(n,i),i}function SN(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ur(e&&n.Ba&&!n.qa?new Pb({ib:!0}):n.qa)).L=n.H,t}function TN(){}function LE(){if(Zm&&!(10<=Number(Nz)))throw Error("Environmental error: no available transport.")}function ea(n,t){Rr.call(this),this.g=new mN(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!pE(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!pE(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Jm(this)}function xN(n){kI.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function MN(){PI.call(this),this.status=1}function Jm(n){this.g=n}($t=ur.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():RI.g(),this.C=function $L(n){return n.h||(n.h=n.i())}(this.u?this.u:RI),this.g.onreadystatechange=ts(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void dN(this,o)}n=e||"";const r=new Qm(this.headers);i&&NI(i,function(o,u){r.set(u,o)}),i=function kz(n){e:{var t=C$;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=En.FormData&&n instanceof En.FormData,!(0<=mL(b$,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pN(this),0<this.B&&((this.K=function w$(n){return Zm&&function Lz(){return function Pz(n){var t=Fz;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=vL(String(gE)).split("."),e=vL("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=lI(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||lI(0==r[2].length,0==o[2].length)||lI(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ts(this.pa,this)):this.A=MI(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){dN(this,o)}},$t.pa=function(){typeof rI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,is(this,"timeout"),this.abort(8))},$t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,is(this,"complete"),is(this,"abort"),PE(this))},$t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),PE(this,!0)),ur.Z.M.call(this)},$t.Fa=function(){this.s||(this.F||this.v||this.l?fN(this):this.cb())},$t.cb=function(){fN(this)},$t.ba=function(){try{return 2<Ju(this)?this.g.status:-1}catch{return-1}},$t.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},$t.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),y$(t)}},$t.Da=function(){return this.m},$t.La=function(){return"string"==typeof this.j?this.j:String(this.j)},($t=mN.prototype).ma=8,$t.G=1,$t.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},$t.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new Sb(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=CL(o),EL(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=vN(this,r,t),Pi(e=Xu(this.F),"RID",n),Pi(e,"CVER",22),this.D&&Pi(e,"X-HTTP-Session-Id",this.D),Lb(this,e),this.o&&o&&GI(e,this.o,o),UI(this.i,r),this.Ra&&Pi(e,"TYPE","init"),this.ja?(Pi(e,"$req",t),Pi(e,"SID","null"),r.$=!0,FI(r,e,null)):FI(r,e,t),this.G=2}}else 3==this.G&&(n?yN(this,n):0==this.l.length||sN(this.i)||yN(this))},$t.Ga=function(){if(this.u=null,wN(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Eb(ts(this.bb,this),n)}},$t.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Gs(10),RE(this),wN(this))},$t.ab=function(){null!=this.v&&(this.v=null,RE(this),WI(this),Gs(19))},$t.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Gs(2)):(this.h.info("Failed to ping google.com"),Gs(1))},($t=TN.prototype).xa=function(){},$t.wa=function(){},$t.va=function(){},$t.ua=function(){},$t.Oa=function(){},LE.prototype.g=function(n,t){return new ea(n,t)},ns(ea,Rr),ea.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),AI(ts(n.hb,n,t))),Gs(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=AN(n,null,n.W),OE(n)},ea.prototype.close=function(){zI(this.g)},ea.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,$I(this.g,t)}else this.v?((t={}).__data__=EI(n),$I(this.g,t)):$I(this.g,n)},ea.prototype.M=function(){this.g.j=null,delete this.j,zI(this.g),delete this.g,ea.Z.M.call(this)},ns(xN,kI),ns(MN,PI),ns(Jm,TN),Jm.prototype.xa=function(){is(this.g,"a")},Jm.prototype.wa=function(n){is(this.g,new xN(n))},Jm.prototype.va=function(n){is(this.g,new MN(n))},Jm.prototype.ua=function(){is(this.g,"b")},LE.prototype.createWebChannel=LE.prototype.g,ea.prototype.send=ea.prototype.u,ea.prototype.open=ea.prototype.m,ea.prototype.close=ea.prototype.close,CE.NO_ERROR=0,CE.TIMEOUT=8,CE.HTTP_ERROR=6,zL.COMPLETE="complete",WL.EventType=Ab,Ab.OPEN="a",Ab.CLOSE="b",Ab.ERROR="c",Ab.MESSAGE="d",Rr.prototype.listen=Rr.prototype.N,ur.prototype.listenOnce=ur.prototype.O,ur.prototype.getLastError=ur.prototype.La,ur.prototype.getLastErrorCode=ur.prototype.Da,ur.prototype.getStatus=ur.prototype.ba,ur.prototype.getResponseJson=ur.prototype.Qa,ur.prototype.getResponseText=ur.prototype.ga,ur.prototype.send=ur.prototype.ea;var A$=Qu.createWebChannelTransport=function(){return new LE},S$=Qu.getStatEventTarget=function(){return wE()},YI=Qu.ErrorCode=CE,T$=Qu.EventType=zL,x$=Qu.Event=fp,IN=Qu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},M$=Qu.FetchXmlHttpFactory=Pb,NE=Qu.WebChannel=WL,I$=Qu.XhrIo=ur;const kN="@firebase/firestore";class Or{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Or.UNAUTHENTICATED=new Or(null),Or.GOOGLE_CREDENTIALS=new Or("google-credentials-uid"),Or.FIRST_PARTY=new Or("first-party-uid"),Or.MOCK_USER=new Or("mock-user");let e_="9.9.2";const uh=new ah.Yd("@firebase/firestore");function ZI(){return uh.logLevel}function St(n,...t){if(uh.logLevel<=ah.in.DEBUG){const e=t.map(KI);uh.debug(`Firestore (${e_}): ${n}`,...e)}}function nr(n,...t){if(uh.logLevel<=ah.in.ERROR){const e=t.map(KI);uh.error(`Firestore (${e_}): ${n}`,...e)}}function yp(n,...t){if(uh.logLevel<=ah.in.WARN){const e=t.map(KI);uh.warn(`Firestore (${e_}): ${n}`,...e)}}function KI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function qt(n="Unexpected state"){const t=`FIRESTORE (${e_}) INTERNAL ASSERTION FAILED: `+n;throw nr(t),new Error(t)}function vn(n,t){n||qt()}function Vt(n,t){return n}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends In.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Fr{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class PN{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class R${getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Or.UNAUTHENTICATED))}shutdown(){}}class O${constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class F${constructor(t){this.t=t,this.currentUser=Or.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=w=>this.i!==r?(r=this.i,e(w)):Promise.resolve();let u=new Fr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Fr,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const w=u;t.enqueueRetryable((0,ut.Z)(function*(){yield w.promise,yield o(i.currentUser)}))},_=w=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Fr)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vn("string"==typeof i.accessToken),new PN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return vn(null===t||"string"==typeof t),new Or(t)}}class L${constructor(t,e,i){this.type="FirstParty",this.user=Or.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class N${constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new L$(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Or.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class V${constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.p;return this.p=o.token,St("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(vn("string"==typeof e.token),this.p=e.token,new RN(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function B$(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class ON{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=B$(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function An(n,t){return n<t?-1:n>t?1:0}function t_(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function FN(n){return n+"\0"}class Ri{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ct(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ri.fromMillis(Date.now())}static fromDate(t){return Ri.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ri(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?An(this.nanoseconds,t.nanoseconds):An(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class gn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new gn(t)}static min(){return new gn(new Ri(0,0))}static max(){return new gn(new Ri(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Nb{constructor(t,e,i){void 0===e?e=0:e>t.length&&qt(),void 0===i?i=t.length-e:i>t.length-e&&qt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Nb.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Nb?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Un extends Nb{construct(t,e,i){return new Un(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ct(ot.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Un(e)}static emptyPath(){return new Un([])}}const U$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yi extends Nb{construct(t,e,i){return new Yi(t,e,i)}static isValidIdentifier(t){return U$.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ct(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Ct(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ct(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new Ct(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Yi(e)}static emptyPath(){return new Yi([])}}class Lt{constructor(t){this.path=t}static fromPath(t){return new Lt(Un.fromString(t))}static fromName(t){return new Lt(Un.fromString(t).popFirst(5))}static empty(){return new Lt(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Un.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Un.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Lt(new Un(t.slice()))}}class VE{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function QI(n){return n.fields.find(t=>2===t.kind)}function vp(n){return n.fields.filter(t=>2!==t.kind)}VE.UNKNOWN_ID=-1;class BE{constructor(t,e){this.fieldPath=t,this.kind=e}}class Vb{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Vb(0,ta.min())}}function LN(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=gn.fromTimestamp(1e9===i?new Ri(e+1,0):new Ri(e,i));return new ta(r,Lt.empty(),t)}function NN(n){return new ta(n.readTime,n.key,-1)}class ta{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ta(gn.min(),Lt.empty(),-1)}static max(){return new ta(gn.max(),Lt.empty(),-1)}}function XI(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Lt.comparator(n.documentKey,t.documentKey),0!==e?e:An(n.largestBatchId,t.largestBatchId))}const VN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function dh(n){return JI.apply(this,arguments)}function JI(){return JI=(0,ut.Z)(function*(n){if(n.code!==ot.FAILED_PRECONDITION||n.message!==VN)throw n;St("LocalStore","Unexpectedly lost primary lease")}),JI.apply(this,arguments)}class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):et.reject(e)}static resolve(t){return new et((e,i)=>{e(t)})}static reject(t){return new et((e,i)=>{i(t)})}static waitFor(t){return new et((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},_=>i(_))}),u=!0,o===r&&e()})}static or(t){let e=et.resolve(!1);for(const i of t)e=e.next(r=>r?et.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new et((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let _=0;_<o;_++){const w=_;e(t[w]).next(M=>{u[w]=M,++h,h===o&&i(u)},M=>r(M))}})}static doWhile(t,e){return new et((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class UE{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new Fr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new Bb(t,e.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=ek(i.target.error);this.T.reject(new Bb(t,r))}}static open(t,e,i,r){try{return new UE(e,t.transaction(r,i))}catch(o){throw new Bb(e,o)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(St("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new z$(e)}}class Hl{constructor(t,e,i){this.name=t,this.version=e,this.P=i,12.2===Hl.v((0,In.z$)())&&nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return St("SimpleDb","Removing database:",t),bp(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,In.hl)())return!1;if(Hl.S())return!0;const t=(0,In.z$)(),e=Hl.v(t),i=0<e&&e<10,r=Hl.D(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static S(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(t){var e=this;return(0,ut.Z)(function*(){return e.db||(St("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new Bb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Ct(ot.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ct(ot.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Bb(t,h))},o.onupgradeneeded=u=>{St("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.P.M(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{St("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.O&&(e.db.onversionchange=i=>e.O(i)),e.db})()}F(t){this.O=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,ut.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.k(t);const _=UE.open(o.db,t,u?"readonly":"readwrite",i),w=r(_).next(M=>(_.R(),M)).catch(M=>(_.abort(M),et.reject(M))).toPromise();return w.catch(()=>{}),yield _.A,w}catch(_){const w=_,M="FirebaseError"!==w.name&&h<3;if(St("SimpleDb","Transaction failed with error:",w.message,"Retrying:",M),o.close(),!M)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class G${constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return bp(this.$.delete())}}class Bb extends Ct{constructor(t,e){super(ot.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function hh(n){return"IndexedDbTransactionError"===n.name}class z${constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(St("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(St("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),bp(i)}add(t){return St("SimpleDb","ADD",this.store.name,t,t),bp(this.store.add(t))}get(t){return bp(this.store.get(t)).next(e=>(void 0===e&&(e=null),St("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return St("SimpleDb","DELETE",this.store.name,t),bp(this.store.delete(t))}count(){return St("SimpleDb","COUNT",this.store.name),bp(this.store.count())}K(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new et((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new et((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}W(t,e){St("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.G(r,(o,u,h)=>h.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Y(t){const e=this.cursor({});return new et((i,r)=>{e.onerror=o=>{const u=ek(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}G(t,e){const i=[];return new et((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const _=new G$(h),w=e(h.primaryKey,h.value,_);if(w instanceof et){const M=w.catch(H=>(_.done(),et.reject(H)));i.push(M)}_.isDone?r():null===_.U?h.continue():h.continue(_.U)}}).next(()=>et.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function bp(n){return new et((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=ek(i.target.error);e(r)}})}let UN=!1;function ek(n){const t=Hl.v((0,In.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return UN||(UN=!0,setTimeout(()=>{throw i},0)),i}}return n}class $${constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;St("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ut.Z)(function*(){e.task=null;try{St("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(i){hh(i)?St("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield dh(i)}yield e.Z(1)}))}}class W${constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,ut.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.et(i,t))})()}et(t,e){const i=new Set;let r=e,o=!0;return et.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return St("IndexBackiller",`Processing collection: ${u}`),this.nt(t,u,r).next(h=>{r-=h,i.add(u)});o=!1})).next(()=>e-r)}nt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.st(r,o)).next(h=>(St("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}st(t,e){let i=t;return e.changes.forEach((r,o)=>{const u=NN(o);XI(u,i)>0&&(i=u)}),new ta(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class go{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.it(i),this.rt=i=>e.writeSequenceNumber(i))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function HN(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function wp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function jN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}go.ot=-1;class Zi{constructor(t,e){this.comparator=t,this.root=e||rs.EMPTY}insert(t,e){return new Zi(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,rs.BLACK,null,null))}remove(t){return new Zi(this.comparator,this.root.remove(t,this.comparator).copy(null,null,rs.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new HE(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new HE(this.root,t,this.comparator,!1)}getReverseIterator(){return new HE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new HE(this.root,t,this.comparator,!0)}}class HE{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class rs{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??rs.RED,this.left=r??rs.EMPTY,this.right=o??rs.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new rs(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return rs.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return rs.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,rs.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,rs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const t=this.left.check();if(t!==this.right.check())throw qt();return t+(this.isRed()?0:1)}}rs.EMPTY=null,rs.RED=!0,rs.BLACK=!1,rs.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new rs(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class hi{constructor(t){this.comparator=t,this.data=new Zi(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new GN(this.data.getIterator())}getIteratorFrom(t){return new GN(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof hi)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new hi(this.comparator);return e.data=t,e}}class GN{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function n_(n){return n.hasNext()?n.getNext():void 0}class na{constructor(t){this.fields=t,t.sort(Yi.comparator)}static empty(){return new na([])}unionWith(t){let e=new hi(Yi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new na(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return t_(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class _r{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new _r(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new _r(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return An(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}_r.EMPTY_BYTE_STRING=new _r("");const Y$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fh(n){if(vn(!!n),"string"==typeof n){let t=0;const e=Y$.exec(n);if(vn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ki(n.seconds),nanos:Ki(n.nanos)}}function Ki(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Cp(n){return"string"==typeof n?_r.fromBase64String(n):_r.fromUint8Array(n)}function tk(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function zN(n){const t=n.mapValue.fields.__previous_value__;return tk(t)?zN(t):t}function Ub(n){const t=fh(n.mapValue.fields.__local_write_time__.timestampValue);return new Ri(t.seconds,t.nanos)}class Z${constructor(t,e,i,r,o,u,h,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class ed{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new ed("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof ed&&t.projectId===this.projectId&&t.database===this.database}}function Hb(n){return null==n}function jb(n){return 0===n&&1/n==-1/0}function $N(n){return"number"==typeof n&&Number.isInteger(n)&&!jb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const ph={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},jE={nullValue:"NULL_VALUE"};function Dp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?tk(n)?4:ZN(n)?9007199254740991:10:qt()}function Hc(n,t){if(n===t)return!0;const e=Dp(n);if(e!==Dp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ub(n).isEqual(Ub(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=fh(i.timestampValue),u=fh(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,Cp(n.bytesValue).isEqual(Cp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Ki(i.geoPointValue.latitude)===Ki(r.geoPointValue.latitude)&&Ki(i.geoPointValue.longitude)===Ki(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ki(i.integerValue)===Ki(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Ki(i.doubleValue),u=Ki(r.doubleValue);return o===u?jb(o)===jb(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return t_(n.arrayValue.values||[],t.arrayValue.values||[],Hc);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(HN(o)!==HN(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!Hc(o[h],u[h])))return!1;return!0}(n,t);default:return qt()}var r}function Gb(n,t){return void 0!==(n.values||[]).find(e=>Hc(e,t))}function gh(n,t){if(n===t)return 0;const e=Dp(n),i=Dp(t);if(e!==i)return An(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return An(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=Ki(r.integerValue||r.doubleValue),h=Ki(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return WN(n.timestampValue,t.timestampValue);case 4:return WN(Ub(n),Ub(t));case 5:return An(n.stringValue,t.stringValue);case 6:return function(r,o){const u=Cp(r),h=Cp(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let _=0;_<u.length&&_<h.length;_++){const w=An(u[_],h[_]);if(0!==w)return w}return An(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=An(Ki(r.latitude),Ki(o.latitude));return 0!==u?u:An(Ki(r.longitude),Ki(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let _=0;_<u.length&&_<h.length;++_){const w=gh(u[_],h[_]);if(w)return w}return An(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===ph.mapValue&&o===ph.mapValue)return 0;if(r===ph.mapValue)return 1;if(o===ph.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),_=o.fields||{},w=Object.keys(_);h.sort(),w.sort();for(let M=0;M<h.length&&M<w.length;++M){const H=An(h[M],w[M]);if(0!==H)return H;const Ce=gh(u[h[M]],_[w[M]]);if(0!==Ce)return Ce}return An(h.length,w.length)}(n.mapValue,t.mapValue);default:throw qt()}}function WN(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return An(n,t);const e=fh(n),i=fh(t),r=An(e.seconds,i.seconds);return 0!==r?r:An(e.nanos,i.nanos)}function i_(n){return nk(n)}function nk(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=fh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Cp(n.bytesValue).toBase64():"referenceValue"in n?Lt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=nk(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${nk(i.fields[h])}`;return o+"}"}(n.mapValue):qt();var t}function Ep(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function ik(n){return!!n&&"integerValue"in n}function zb(n){return!!n&&"arrayValue"in n}function qN(n){return!!n&&"nullValue"in n}function YN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function GE(n){return!!n&&"mapValue"in n}function $b(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return wp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=$b(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=$b(n.arrayValue.values[e]);return t}return Object.assign({},n)}function ZN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function K$(n){return"nullValue"in n?jE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Ep(ed.empty(),Lt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:qt()}function Q$(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Ep(ed.empty(),Lt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ph:qt()}function KN(n,t){const e=gh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function QN(n,t){const e=gh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class ss{constructor(t){this.value=t}static empty(){return new ss({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!GE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=$b(e)}setAll(t){let e=Yi.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=$b(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());GE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Hc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];GE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){wp(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new ss($b(this.value))}}function XN(n){const t=[];return wp(n.fields,(e,i)=>{const r=new Yi([e]);if(GE(i)){const o=XN(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new na(t)}class _i{constructor(t,e,i,r,o,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=u}static newInvalidDocument(t){return new _i(t,0,gn.min(),gn.min(),ss.empty(),0)}static newFoundDocument(t,e,i){return new _i(t,1,e,gn.min(),i,0)}static newNoDocument(t,e){return new _i(t,2,e,gn.min(),ss.empty(),0)}static newUnknownDocument(t,e){return new _i(t,3,e,gn.min(),ss.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ss.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ss.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof _i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new _i(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class X${constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.ut=null}}function JN(n,t=null,e=[],i=[],r=null,o=null,u=null){return new X$(n,t,e,i,r,o,u)}function Ap(n){const t=Vt(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+i_(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Hb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>i_(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>i_(i)).join(",")),t.ut=e}return t.ut}function Wb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!l6(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Hc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!rV(n.startAt,t.startAt)&&rV(n.endAt,t.endAt)}function zE(n){return Lt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function $E(n,t){return n.filters.filter(e=>e instanceof os&&e.field.isEqual(t))}function eV(n,t,e){let i=jE,r=!0;for(const o of $E(n,t)){let u=jE,h=!0;switch(o.op){case"<":case"<=":u=K$(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=jE}KN({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];KN({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function tV(n,t,e){let i=ph,r=!0;for(const o of $E(n,t)){let u=ph,h=!0;switch(o.op){case">=":case">":u=Q$(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=ph}QN({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];QN({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class os extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new e6(t,e,i):"array-contains"===e?new r6(t,i):"in"===e?new s6(t,i):"not-in"===e?new o6(t,i):"array-contains-any"===e?new a6(t,i):new os(t,e,i)}static ct(t,e,i){return"in"===e?new t6(t,i):new n6(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(gh(e,this.value)):null!==e&&Dp(this.value)===Dp(e)&&this.at(gh(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return qt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class e6 extends os{constructor(t,e,i){super(t,e,i),this.key=Lt.fromName(i.referenceValue)}matches(t){const e=Lt.comparator(t.key,this.key);return this.at(e)}}class t6 extends os{constructor(t,e){super(t,"in",e),this.keys=nV(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class n6 extends os{constructor(t,e){super(t,"not-in",e),this.keys=nV(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function nV(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Lt.fromName(i.referenceValue))}class r6 extends os{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return zb(e)&&Gb(e.arrayValue,this.value)}}class s6 extends os{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Gb(this.value.arrayValue,e)}}class o6 extends os{constructor(t,e){super(t,"not-in",e)}matches(t){if(Gb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Gb(this.value.arrayValue,e)}}class a6 extends os{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!zb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Gb(this.value.arrayValue,i))}}class mh{constructor(t,e){this.position=t,this.inclusive=e}}class r_{constructor(t,e="asc"){this.field=t,this.dir=e}}function l6(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function iV(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?Lt.comparator(Lt.fromName(u.referenceValue),e.key):gh(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function rV(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Hc(n.position[e],t.position[e]))return!1;return!0}class td{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=_,this.lt=null,this.ft=null}}function sV(n,t,e,i,r,o,u,h){return new td(n,t,e,i,r,o,u,h)}function s_(n){return new td(n)}function oV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function rk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function sk(n){for(const t of n.filters)if(t.ht())return t.field;return null}function ok(n){return null!==n.collectionGroup}function o_(n){const t=Vt(n);if(null===t.lt){t.lt=[];const e=sk(t),i=rk(t);if(null!==e&&null===i)e.isKeyField()||t.lt.push(new r_(e)),t.lt.push(new r_(Yi.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.lt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new r_(Yi.keyField(),o))}}}return t.lt}function mo(n){const t=Vt(n);if(!t.ft)if("F"===t.limitType)t.ft=JN(t.path,t.collectionGroup,o_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of o_(t))e.push(new r_(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new mh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new mh(t.startAt.position,t.startAt.inclusive):null;t.ft=JN(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.ft}function WE(n,t,e){return new td(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function qb(n,t){return Wb(mo(n),mo(t))&&n.limitType===t.limitType}function aV(n){return`${Ap(mo(n))}|lt:${n.limitType}`}function ak(n){return`Query(target=${function J$(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${i_(i.value)}`;var i}).join(", ")}]`),Hb(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>i_(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>i_(e)).join(",")),`Target(${t})`}(mo(n))}; limitType=${n.limitType})`}function lk(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Lt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=iV(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,o_(e),i)||e.endAt&&!function(r,o,u){const h=iV(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,o_(e),i)));var e,i}function lV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cV(n){return(t,e)=>{let i=!1;for(const r of o_(n)){const o=c6(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function c6(n,t,e){const i=n.field.isKeyField()?Lt.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),_=u.data.field(r);return null!==h&&null!==_?gh(h,_):qt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return qt()}}function uV(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jb(t)?"-0":t}}function dV(n){return{integerValue:""+n}}function hV(n,t){return $N(t)?dV(t):uV(n,t)}class qE{constructor(){this._=void 0}}function u6(n,t,e){return n instanceof a_?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof Sp?pV(n,t):n instanceof Tp?gV(n,t):function(i,r){const o=fV(i,r),u=mV(o)+mV(i._t);return ik(o)&&ik(i._t)?dV(u):uV(i.wt,u)}(n,t)}function d6(n,t,e){return n instanceof Sp?pV(n,t):n instanceof Tp?gV(n,t):e}function fV(n,t){return n instanceof l_?ik(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class a_ extends qE{}class Sp extends qE{constructor(t){super(),this.elements=t}}function pV(n,t){const e=_V(t);for(const i of n.elements)e.some(r=>Hc(r,i))||e.push(i);return{arrayValue:{values:e}}}class Tp extends qE{constructor(t){super(),this.elements=t}}function gV(n,t){let e=_V(t);for(const i of n.elements)e=e.filter(r=>!Hc(r,i));return{arrayValue:{values:e}}}class l_ extends qE{constructor(t,e){super(),this.wt=t,this._t=e}}function mV(n){return Ki(n.integerValue||n.doubleValue)}function _V(n){return zb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Yb{constructor(t,e){this.field=t,this.transform=e}}class f6{constructor(t,e){this.version=t,this.transformResults=e}}class Ni{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ni}static exists(t){return new Ni(void 0,t)}static updateTime(t){return new Ni(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function YE(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class ZE{}function yV(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new u_(n.key,Ni.none()):new c_(n.key,n.data,Ni.none());{const e=n.data,i=ss.empty();let r=new hi(Yi.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);null===u&&o.length>1&&(o=o.popLast(),u=e.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new nd(n.key,i,new na(r.toArray()),Ni.none())}}function p6(n,t,e){n instanceof c_?function(i,r,o){const u=i.value.clone(),h=wV(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof nd?function(i,r,o){if(!YE(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=wV(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(bV(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Zb(n,t,e,i){return n instanceof c_?function(r,o,u,h){if(!YE(r.precondition,o))return u;const _=r.value.clone(),w=CV(r.fieldTransforms,h,o);return _.setAll(w),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null}(n,t,e,i):n instanceof nd?function(r,o,u,h){if(!YE(r.precondition,o))return u;const _=CV(r.fieldTransforms,h,o),w=o.data;return w.setAll(bV(r)),w.setAll(_),o.convertToFoundDocument(o.version,w).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(M=>M.field))}(n,t,e,i):(u=e,YE(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function g6(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=fV(i.transform,r||null);null!=o&&(null===e&&(e=ss.empty()),e.set(i.field,o))}return e||null}function vV(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&t_(e,i,(r,o)=>function h6(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof Sp&&i instanceof Sp||e instanceof Tp&&i instanceof Tp?t_(e.elements,i.elements,Hc):e instanceof l_&&i instanceof l_?Hc(e._t,i._t):e instanceof a_&&i instanceof a_);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class c_ extends ZE{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class nd extends ZE{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bV(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function wV(n,t,e){const i=new Map;vn(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,d6(u,h,e[r]))}return i}function CV(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,u6(o,u,t))}return i}class u_ extends ZE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ck extends ZE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class m6{constructor(t){this.count=t}}var dr,Hn;function DV(n){switch(n){default:return qt();case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0}}function EV(n){if(void 0===n)return nr("GRPC error has no .code"),ot.UNKNOWN;switch(n){case dr.OK:return ot.OK;case dr.CANCELLED:return ot.CANCELLED;case dr.UNKNOWN:return ot.UNKNOWN;case dr.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case dr.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case dr.INTERNAL:return ot.INTERNAL;case dr.UNAVAILABLE:return ot.UNAVAILABLE;case dr.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case dr.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case dr.NOT_FOUND:return ot.NOT_FOUND;case dr.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case dr.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case dr.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case dr.ABORTED:return ot.ABORTED;case dr.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case dr.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case dr.DATA_LOSS:return ot.DATA_LOSS;default:return qt()}}(Hn=dr||(dr={}))[Hn.OK=0]="OK",Hn[Hn.CANCELLED=1]="CANCELLED",Hn[Hn.UNKNOWN=2]="UNKNOWN",Hn[Hn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Hn[Hn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Hn[Hn.NOT_FOUND=5]="NOT_FOUND",Hn[Hn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Hn[Hn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Hn[Hn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Hn[Hn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Hn[Hn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Hn[Hn.ABORTED=10]="ABORTED",Hn[Hn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Hn[Hn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Hn[Hn.INTERNAL=13]="INTERNAL",Hn[Hn.UNAVAILABLE=14]="UNAVAILABLE",Hn[Hn.DATA_LOSS=15]="DATA_LOSS";class _h{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){wp(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return jN(this.inner)}size(){return this.innerSize}}const _6=new Zi(Lt.comparator);function _o(){return _6}const AV=new Zi(Lt.comparator);function Kb(...n){let t=AV;for(const e of n)t=t.insert(e.key,e);return t}function SV(n){let t=AV;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function jc(){return Qb()}function TV(){return Qb()}function Qb(){return new _h(n=>n.toString(),(n,t)=>n.isEqual(t))}const y6=new Zi(Lt.comparator),v6=new hi(Lt.comparator);function Tn(...n){let t=v6;for(const e of n)t=t.add(e);return t}const b6=new hi(An);function KE(){return b6}class Xb{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Jb.createSynthesizedTargetChangeForCurrentChange(t,e)),new Xb(gn.min(),i,KE(),_o(),Tn())}}class Jb{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Jb(_r.EMPTY_BYTE_STRING,e,Tn(),Tn(),Tn())}}class QE{constructor(t,e,i,r){this.gt=t,this.removedTargetIds=e,this.key=i,this.yt=r}}class xV{constructor(t,e){this.targetId=t,this.It=e}}class MV{constructor(t,e,i=_r.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class IV{constructor(){this.Tt=0,this.Et=PV(),this.At=_r.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=Tn(),e=Tn(),i=Tn();return this.Et.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:qt()}}),new Jb(this.At,this.Rt,t,e,i)}Dt(){this.bt=!1,this.Et=PV()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class w6{constructor(t){this.Ot=t,this.Ft=new Map,this.$t=_o(),this.Bt=kV(),this.Lt=new hi(An)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const i=this.Qt(e);switch(t.state){case 0:this.jt(e)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(i.Mt(),i.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),i.Vt(t.resumeToken));break;default:qt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((i,r)=>{this.jt(r)&&e(r)})}zt(t){const e=t.targetId,i=t.It.count,r=this.Ht(e);if(r){const o=r.target;if(zE(o))if(0===i){const u=new Lt(o.path);this.Kt(e,u,_i.newNoDocument(u,gn.min()))}else vn(1===i);else this.Jt(e)!==i&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((o,u)=>{const h=this.Ht(u);if(h){if(o.current&&zE(h.target)){const _=new Lt(h.target.path);null!==this.$t.get(_)||this.Xt(u,_)||this.Kt(u,_,_i.newNoDocument(_,t))}o.vt&&(e.set(u,o.St()),o.Dt())}});let i=Tn();this.Bt.forEach((o,u)=>{let h=!0;u.forEachWhile(_=>{const w=this.Ht(_);return!w||2===w.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.$t.forEach((o,u)=>u.setReadTime(t));const r=new Xb(t,e,this.Lt,this.$t,i);return this.$t=_o(),this.Bt=kV(),this.Lt=new hi(An),r}qt(t,e){if(!this.jt(t))return;const i=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,i),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,i){if(!this.jt(t))return;const r=this.Qt(t);this.Xt(t,e)?r.Ct(e,1):r.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),i&&(this.$t=this.$t.insert(e,i))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Ot.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new IV,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new hi(An),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||St("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Ot.te(t)}Wt(t){this.Ft.set(t,new IV),this.Ot.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Ot.getRemoteKeysForTarget(t).has(e)}}function kV(){return new Zi(Lt.comparator)}function PV(){return new Zi(Lt.comparator)}const C6={asc:"ASCENDING",desc:"DESCENDING"},D6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class E6{constructor(t,e){this.databaseId=t,this.dt=e}}function e0(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RV(n,t){return n.dt?t.toBase64():t.toUint8Array()}function A6(n,t){return e0(n,t.toTimestamp())}function Lr(n){return vn(!!n),gn.fromTimestamp(function(t){const e=fh(t);return new Ri(e.seconds,e.nanos)}(n))}function uk(n,t){return(e=n,new Un(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function OV(n){const t=Un.fromString(n);return vn(GV(t)),t}function t0(n,t){return uk(n.databaseId,t.path)}function Gc(n,t){const e=OV(t);if(e.get(1)!==n.databaseId.projectId)throw new Ct(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ct(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Lt(LV(e))}function dk(n,t){return uk(n.databaseId,t)}function FV(n){const t=OV(n);return 4===t.length?Un.emptyPath():LV(t)}function n0(n){return new Un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LV(n){return vn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function NV(n,t,e){return{name:t0(n,t),fields:e.value.mapValue.fields}}function VV(n,t,e){const i=Gc(n,t.name),r=Lr(t.updateTime),o=new ss({mapValue:{fields:t.fields}}),u=_i.newFoundDocument(i,r,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function r0(n,t){let e;if(t instanceof c_)e={update:NV(n,t.key,t.value)};else if(t instanceof u_)e={delete:t0(n,t.key)};else if(t instanceof nd)e={update:NV(n,t.key,t.data),updateMask:O6(t.fieldMask)};else{if(!(t instanceof ck))return qt();e={verify:t0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof a_)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Sp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Tp)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof l_)return{fieldPath:o.field.canonicalString(),increment:u._t};throw qt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:A6(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:qt()),e;var r}function hk(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Ni.updateTime(Lr(r.updateTime)):void 0!==r.exists?Ni.exists(r.exists):Ni.none():Ni.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(vn("REQUEST_TIME"===u.setToServerValue),h=new a_):"appendMissingElements"in u?h=new Sp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Tp(u.removeAllFromArray.values||[]):"increment"in u?h=new l_(o,u.increment):qt();const _=Yi.fromServerFormat(u.fieldPath);return new Yb(_,h)}(n,r)):[];var r;if(t.update){const r=Gc(n,t.update.name),o=new ss({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new na((t.updateMask.fieldPaths||[]).map(w=>Yi.fromServerFormat(w)));return new nd(r,o,u,e,i)}return new c_(r,o,e,i)}if(t.delete){const r=Gc(n,t.delete);return new u_(r,e)}if(t.verify){const r=Gc(n,t.verify);return new ck(r,e)}return qt()}function BV(n,t){return{documents:[dk(n,t.path)]}}function UV(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=dk(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=dk(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const w=_.map(M=>function(H){if("=="===H.op){if(YN(H.value))return{unaryFilter:{field:d_(H.field),op:"IS_NAN"}};if(qN(H.value))return{unaryFilter:{field:d_(H.field),op:"IS_NULL"}}}else if("!="===H.op){if(YN(H.value))return{unaryFilter:{field:d_(H.field),op:"IS_NOT_NAN"}};if(qN(H.value))return{unaryFilter:{field:d_(H.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:d_(H.field),op:k6(H.op),value:H.value}}}(M));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(_){if(0!==_.length)return _.map(w=>{return{field:d_((M=w).field),direction:I6(M.dir)};var M})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(w=t.limit,n.dt||Hb(w)?w:{value:w});var w,h,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function HV(n){let t=FV(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){vn(1===i);const M=e.from[0];M.allDescendants?r=M.collectionId:t=t.child(M.collectionId)}let o=[];e.where&&(o=jV(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(M=>{return new r_(h_((H=M).field),function(Ce){switch(Ce){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction));var H}));let h=null;e.limit&&(h=function(M){let H;return H="object"==typeof M?M.value:M,Hb(H)?null:H}(e.limit));let _=null;var M;e.startAt&&(_=new mh((M=e.startAt).values||[],!!M.before));let w=null;return e.endAt&&(w=function(M){return new mh(M.values||[],!M.before)}(e.endAt)),sV(t,r,u,o,h,"F",_,w)}function jV(n){return n?void 0!==n.unaryFilter?[R6(n)]:void 0!==n.fieldFilter?[P6(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>jV(t)).reduce((t,e)=>t.concat(e)):qt():[]}function I6(n){return C6[n]}function k6(n){return D6[n]}function d_(n){return{fieldPath:n.canonicalString()}}function h_(n){return Yi.fromServerFormat(n.fieldPath)}function P6(n){return os.create(h_(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qt()}}(n.fieldFilter.op),n.fieldFilter.value)}function R6(n){switch(n.unaryFilter.op){case"IS_NAN":const t=h_(n.unaryFilter.field);return os.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=h_(n.unaryFilter.field);return os.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=h_(n.unaryFilter.field);return os.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=h_(n.unaryFilter.field);return os.create(r,"!=",{nullValue:"NULL_VALUE"});default:return qt()}}function O6(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function GV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function zs(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=zV(t)),t=F6(n.get(e),t);return zV(t)}function F6(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function zV(n){return n+"\x01\x01"}function zc(n){const t=n.length;if(vn(t>=2),2===t)return vn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Un.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&qt(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let _;0===r.length?_=h:(r+=h,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:qt()}o=u+2}return new Un(i)}const $V=["userId","batchId"];function XE(n,t){return[n,zs(t)]}function WV(n,t,e){return[n,zs(t),e]}const L6={},N6=["prefixPath","collectionGroup","readTime","documentId"],V6=["prefixPath","collectionGroup","documentId"],B6=["collectionGroup","readTime","prefixPath","documentId"],U6=["canonicalId","targetId"],H6=["targetId","path"],j6=["path","targetId"],G6=["collectionId","parent"],z6=["indexId","uid"],$6=["uid","sequenceNumber"],W6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],q6=["indexId","uid","orderedDocumentKey"],Y6=["userId","collectionPath","documentId"],Z6=["userId","collectionPath","largestBatchId"],K6=["userId","collectionGroup","largestBatchId"],qV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Q6=[...qV,"documentOverlays"],YV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZV=YV,X6=[...ZV,"indexConfiguration","indexState","indexEntries"];class fk extends BN{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function Nr(n,t){const e=Vt(n);return Hl.N(e.ee,t)}class pk{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&p6(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Zb(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Zb(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=TV();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const _=yV(u,h);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(gn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Tn())}isEqual(t){return this.batchId===t.batchId&&t_(this.mutations,t.mutations,(e,i)=>vV(e,i))&&t_(this.baseMutations,t.baseMutations,(e,i)=>vV(e,i))}}class gk{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){vn(t.mutations.length===i.length);let r=y6;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new gk(t,e,i,r)}}class mk{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yh{constructor(t,e,i,r,o=gn.min(),u=gn.min(),h=_r.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new yh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new yh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new yh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class KV{constructor(t){this.ne=t}}function QV(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:JE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:t0(r=n.ne,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:e0(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:xp(t.version)};else{if(!t.isUnknownDocument())return qt();i.unknownDocument={path:e.path.toArray(),version:xp(t.version)}}var r,o;return i}function JE(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function xp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Mp(n){const t=new Ri(n.seconds,n.nanoseconds);return gn.fromTimestamp(t)}function Ip(n,t){const e=(t.baseMutations||[]).map(o=>hk(n.ne,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>hk(n.ne,o)),r=Ri.fromMillis(t.localWriteTimeMs);return new pk(t.batchId,r,e,i)}function s0(n){const t=Mp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?Mp(n.lastLimboFreeSnapshotVersion):gn.min();let i;var r;return void 0!==n.query.documents?(vn(1===(r=n.query).documents.length),i=mo(s_(FV(r.documents[0])))):i=mo(HV(n.query)),new yh(i,n.targetId,0,n.lastListenSequenceNumber,t,e,_r.fromBase64String(n.resumeToken))}function XV(n,t){const e=xp(t.snapshotVersion),i=xp(t.lastLimboFreeSnapshotVersion);let r;r=zE(t.target)?BV(n.ne,t.target):UV(n.ne,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ap(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function _k(n){const t=HV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?WE(t,t.limit,"L"):t}function yk(n,t){return new mk(t.largestBatchId,hk(n.ne,t.overlayMutation))}function JV(n,t){const e=t.path.lastSegment();return[n,zs(t.path.popLast()),e]}function eB(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:xp(i.readTime),documentKey:zs(i.documentKey.path),largestBatchId:i.largestBatchId}}class eW{getBundleMetadata(t,e){return tB(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Mp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return tB(t).put({bundleId:(i=e).id,createTime:xp(Lr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return nB(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:_k(r.bundledQuery),readTime:Mp(r.readTime)};var r})}saveNamedQuery(t,e){return nB(t).put({name:(i=e).name,readTime:xp(Lr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function tB(n){return Nr(n,"bundles")}function nB(n){return Nr(n,"namedQueries")}class eA{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new eA(t,e.uid||"")}getOverlay(t,e){return o0(t).get(JV(this.userId,e)).next(i=>i?yk(this.wt,i):null)}getOverlays(t,e){const i=jc();return et.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new mk(e,u);r.push(this.ie(t,h))}),et.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(zs(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(o0(t).W("collectionPathOverlayIndex",h))}),et.waitFor(o)}getOverlaysForCollection(t,e,i){const r=jc(),o=zs(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return o0(t).K("collectionPathOverlayIndex",u).next(h=>{for(const _ of h){const w=yk(this.wt,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=jc();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return o0(t).J({index:"collectionGroupOverlayIndex",range:h},(_,w,M)=>{const H=yk(this.wt,w);o.size()<r||H.largestBatchId===u?(o.set(H.getKey(),H),u=H.largestBatchId):M.done()}).next(()=>o)}ie(t,e){return o0(t).put(function(i,r,o){const[u,h,_]=JV(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:_,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:r0(i.ne,o.mutation)}}(this.wt,this.userId,e))}}function o0(n){return Nr(n,"documentOverlays")}class kp{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(Ki(t.integerValue));else if("doubleValue"in t){const i=Ki(t.doubleValue);isNaN(i)?this.ce(e,13):(this.ce(e,15),jb(i)?e.ae(0):e.ae(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he(`${i.seconds||""}`),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(Cp(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ce(e,45),e.ae(i.latitude||0),e.ae(i.longitude||0)}else"mapValue"in t?ZN(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):qt()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const i=t.fields||{};this.ce(e,55);for(const r of Object.keys(i))this.le(r,e),this.oe(i[r],e)}me(t,e){const i=t.values||[];this.ce(e,50);for(const r of i)this.oe(r,e)}_e(t,e){this.ce(e,37),Lt.fromName(t).path.forEach(i=>{this.ce(e,60),this.ge(i,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function tW(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function iB(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=tW(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}kp.ye=new kp;class nW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ie(i.value),i=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=e.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(t){const e=this.Ve(t),i=iB(e);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}De(t){const e=this.Ve(t),i=iB(e);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Me(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class iW{constructor(t){this.Oe=t}de(t){this.Oe.pe(t)}he(t){this.Oe.be(t)}ae(t){this.Oe.ve(t)}ue(){this.Oe.Ce()}}class rW{constructor(t){this.Oe=t}de(t){this.Oe.Ee(t)}he(t){this.Oe.Pe(t)}ae(t){this.Oe.De(t)}ue(){this.Oe.Ne()}}class a0{constructor(){this.Oe=new nW,this.Fe=new iW(this.Oe),this.$e=new rW(this.Oe)}seed(t){this.Oe.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class Pp{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Pp(this.indexId,this.documentKey,this.arrayValue,i)}}function Rp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=rB(n.arrayValue,t.arrayValue),0!==e?e:(e=rB(n.directionalValue,t.directionalValue),0!==e?e:Lt.comparator(n.documentKey,t.documentKey)))}function rB(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class sW{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const i=e;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(t){const e=QI(t);if(void 0!==e&&!this.Qe(e))return!1;const i=vp(t);let r=0,o=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const u=i[r];if(!this.je(this.Ke,u)||!this.We(this.Ue[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Ue.length||!this.We(this.Ue[o++],u))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class oW{constructor(){this.ze=new vk}addToCollectionParentIndex(t,e){return this.ze.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(ta.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(ta.min())}updateCollectionGroup(t,e,i){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class vk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new hi(Un.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new hi(Un.comparator)).toArray()}}const tA=new Uint8Array(0);class aW{constructor(t,e){this.user=t,this.databaseId=e,this.He=new vk,this.Je=new _h(i=>Ap(i),(i,r)=>Wb(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const o={collectionId:i,parent:zs(r)};return sB(t).put(o)}return et.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[FN(e),""],!1,!0);return sB(t).K(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(zc(u.parent))}return i})}addFieldIndex(t,e){const i=nA(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const o=i.add(r);if(e.indexState){const u=c0(t);return o.next(h=>{u.put(eB(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=nA(t),r=c0(t),o=l0(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=l0(t);let r=!0;const o=new Map;return et.forEach(this.Ye(e),u=>this.Xe(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=Tn();const h=[];return et.forEach(o,(_,w)=>{var M;St("IndexedDbIndexManager",`Using index ${M=_,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(Xt=>`${Xt.fieldPath}:${Xt.kind}`).join(",")}`} to execute ${Ap(e)}`);const H=function(Xt,jt){const hn=QI(jt);if(void 0===hn)return null;for(const mn of $E(Xt,hn.fieldPath))switch(mn.op){case"array-contains-any":return mn.value.arrayValue.values||[];case"array-contains":return[mn.value]}return null}(w,_),Ce=function(Xt,jt){const hn=new Map;for(const mn of vp(jt))for(const Nn of $E(Xt,mn.fieldPath))switch(Nn.op){case"==":case"in":hn.set(mn.fieldPath.canonicalString(),Nn.value);break;case"not-in":case"!=":return hn.set(mn.fieldPath.canonicalString(),Nn.value),Array.from(hn.values())}return null}(w,_),Me=function(Xt,jt){const hn=[];let mn=!0;for(const Nn of vp(jt)){const qs=0===Nn.kind?eV(Xt,Nn.fieldPath,Xt.startAt):tV(Xt,Nn.fieldPath,Xt.startAt);hn.push(qs.value),mn&&(mn=qs.inclusive)}return new mh(hn,mn)}(w,_),Le=function(Xt,jt){const hn=[];let mn=!0;for(const Nn of vp(jt)){const qs=0===Nn.kind?tV(Xt,Nn.fieldPath,Xt.endAt):eV(Xt,Nn.fieldPath,Xt.endAt);hn.push(qs.value),mn&&(mn=qs.inclusive)}return new mh(hn,mn)}(w,_),$e=this.Ze(_,w,Me),st=this.Ze(_,w,Le),It=this.tn(_,w,Ce),Bt=this.en(_.indexId,H,$e,Me.inclusive,st,Le.inclusive,It);return et.forEach(Bt,Xt=>i.j(Xt,e.limit).next(jt=>{jt.forEach(hn=>{const mn=Lt.fromSegments(hn.documentKey);u.has(mn)||(u=u.add(mn),h.push(mn))})}))}).next(()=>h)}return et.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,i,r,o,u,h){const _=(null!=e?e.length:1)*Math.max(i.length,o.length),w=_/(null!=e?e.length:1),M=[];for(let H=0;H<_;++H){const Ce=e?this.nn(e[H/w]):tA,Me=this.sn(t,Ce,i[H%w],r),Le=this.rn(t,Ce,o[H%w],u),$e=h.map(st=>this.sn(t,Ce,st,!0));M.push(...this.createRange(Me,Le,$e))}return M}sn(t,e,i,r){const o=new Pp(t,Lt.empty(),e,i);return r?o:o.Le()}rn(t,e,i,r){const o=new Pp(t,Lt.empty(),e,i);return r?o.Le():o}Xe(t,e){const i=new sW(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let u=null;for(const h of o)i.Ge(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return et.forEach(this.Ye(e),r=>this.Xe(t,r).next(o=>{o?0!==i&&o.fields.length<function(u){let h=new hi(Yi.comparator),_=!1;for(const w of u.filters){const M=w;M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?_=!0:h=h.add(M.field))}for(const w of u.orderBy)w.field.isKeyField()||(h=h.add(w.field));return h.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(t,e){const i=new a0;for(const r of vp(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.Be(r.kind);kp.ye.re(o,u)}return i.Me()}nn(t){const e=new a0;return kp.ye.re(t,e.Be(0)),e.Me()}un(t,e){const i=new a0;return kp.ye.re(Ep(this.databaseId,e),i.Be(function(r){const o=vp(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Me()}tn(t,e,i){if(null===i)return[];let r=[];r.push(new a0);let o=0;for(const u of vp(t)){const h=i[o++];for(const _ of r)if(this.cn(e,u.fieldPath)&&zb(h))r=this.an(r,u,h);else{const w=_.Be(u.kind);kp.ye.re(h,w)}}return this.hn(r)}Ze(t,e,i){return this.tn(t,e,i.position)}hn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Me();return e}an(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const _=new a0;_.seed(h.Me()),kp.ye.re(u,_.Be(e.kind)),o.push(_)}return o}cn(t,e){return!!t.filters.find(i=>i instanceof os&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=nA(t),r=c0(t);return(e?i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.K()).next(o=>{const u=[];return et.forEach(o,h=>r.get([h.indexId,this.uid]).next(_=>{u.push(function(w,M){const H=M?new Vb(M.sequenceNumber,new ta(Mp(M.readTime),new Lt(zc(M.documentKey)),M.largestBatchId)):Vb.empty(),Ce=w.fields.map(([Me,Le])=>new BE(Yi.fromServerFormat(Me),Le));return new VE(w.indexId,w.collectionGroup,Ce,H)}(h,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:An(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=nA(t),o=c0(t);return this.ln(t).next(u=>r.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>et.forEach(h,_=>o.put(eB(_.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return et.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?et.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),et.forEach(h,_=>this.fn(t,r,_).next(w=>{const M=this.dn(o,_);return w.isEqual(M)?et.resolve():this._n(t,o,_,w,M)}))))})}wn(t,e,i,r){return l0(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,e.key),documentKey:e.key.path.toArray()})}mn(t,e,i,r){return l0(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,e.key),e.key.path.toArray()])}fn(t,e,i){const r=l0(t);let o=new hi(Rp);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,e)])},(u,h)=>{o=o.add(new Pp(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}dn(t,e){let i=new hi(Rp);const r=this.on(e,t);if(null==r)return i;const o=QI(e);if(null!=o){const u=t.data.field(o.fieldPath);if(zb(u))for(const h of u.arrayValue.values||[])i=i.add(new Pp(e.indexId,t.key,this.nn(h),r))}else i=i.add(new Pp(e.indexId,t.key,tA,r));return i}_n(t,e,i,r,o){St("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,_,w,M,H){const Ce=h.getIterator(),Me=_.getIterator();let Le=n_(Ce),$e=n_(Me);for(;Le||$e;){let st=!1,It=!1;if(Le&&$e){const Bt=w(Le,$e);Bt<0?It=!0:Bt>0&&(st=!0)}else null!=Le?It=!0:st=!0;st?(M($e),$e=n_(Me)):It?(H(Le),Le=n_(Ce)):(Le=n_(Ce),$e=n_(Me))}}(r,o,Rp,h=>{u.push(this.wn(t,e,i,h))},h=>{u.push(this.mn(t,e,i,h))}),et.waitFor(u)}ln(t){let e=1;return c0(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>Rp(u,h)).filter((u,h,_)=>!h||0!==Rp(u,_[h-1]));const r=[];r.push(t);for(const u of i){const h=Rp(u,t),_=Rp(u,e);if(0===h)r[0]=t.Le();else if(h>0&&_<0)r.push(u),r.push(u.Le());else if(_>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2)o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,tA,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,tA,[]]));return o}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(oB)}getMinOffset(t,e){return et.mapArray(this.Ye(e),i=>this.Xe(t,i).next(r=>r||qt())).next(oB)}}function sB(n){return Nr(n,"collectionParents")}function l0(n){return Nr(n,"indexEntries")}function nA(n){return Nr(n,"indexConfiguration")}function c0(n){return Nr(n,"indexState")}function oB(n){vn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;XI(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new ta(t.readTime,t.documentKey,e)}const aB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class yo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new yo(t,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lB(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const _=i.J({range:u},(M,H,Ce)=>(h++,Ce.delete()));o.push(_.next(()=>{vn(1===h)}));const w=[];for(const M of e.mutations){const H=WV(t,M.key.path,e.batchId);o.push(r.delete(H)),w.push(M.key)}return et.waitFor(o).next(()=>w)}function iA(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw qt();t=n.noDocument}return JSON.stringify(t).length}yo.DEFAULT_COLLECTION_PERCENTILE=10,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,yo.DEFAULT=new yo(41943040,yo.DEFAULT_COLLECTION_PERCENTILE,yo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),yo.DISABLED=new yo(-1,0,0);class rA{constructor(t,e,i,r){this.userId=t,this.wt=e,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(t,e,i,r){vn(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new rA(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vh(t).J({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=f_(t),u=vh(t);return u.add({}).next(h=>{vn("number"==typeof h);const _=new pk(h,e,i,r),w=function(Ce,Me,Le){const $e=Le.baseMutations.map(It=>r0(Ce.ne,It)),st=Le.mutations.map(It=>r0(Ce.ne,It));return{userId:Me,batchId:Le.batchId,localWriteTimeMs:Le.localWriteTime.toMillis(),baseMutations:$e,mutations:st}}(this.wt,this.userId,_),M=[];let H=new hi((Ce,Me)=>An(Ce.canonicalString(),Me.canonicalString()));for(const Ce of r){const Me=WV(this.userId,Ce.key.path,h);H=H.add(Ce.key.path.popLast()),M.push(u.put(w)),M.push(o.put(Me,L6))}return H.forEach(Ce=>{M.push(this.indexManager.addToCollectionParentIndex(t,Ce))}),t.addOnCommittedListener(()=>{this.gn[h]=_.keys()}),et.waitFor(M).next(()=>_)})}lookupMutationBatch(t,e){return vh(t).get(e).next(i=>i?(vn(i.userId===this.userId),Ip(this.wt,i)):null)}yn(t,e){return this.gn[e]?et.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.gn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return vh(t).J({index:"userMutationsIndex",range:r},(u,h,_)=>{h.userId===this.userId&&(vn(h.batchId>=i),o=Ip(this.wt,h)),_.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return vh(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vh(t).K("userMutationsIndex",e).next(i=>i.map(r=>Ip(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=XE(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return f_(t).J({range:r},(u,h,_)=>{const[w,M,H]=u,Ce=zc(M);if(w===this.userId&&e.path.isEqual(Ce))return vh(t).get(H).next(Me=>{if(!Me)throw qt();vn(Me.userId===this.userId),o.push(Ip(this.wt,Me))});_.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new hi(An);const r=[];return e.forEach(o=>{const u=XE(this.userId,o.path),h=IDBKeyRange.lowerBound(u),_=f_(t).J({range:h},(w,M,H)=>{const[Ce,Me,Le]=w,$e=zc(Me);Ce===this.userId&&o.path.isEqual($e)?i=i.add(Le):H.done()});r.push(_)}),et.waitFor(r).next(()=>this.pn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=XE(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new hi(An);return f_(t).J({range:u},(_,w,M)=>{const[H,Ce,Me]=_,Le=zc(Ce);H===this.userId&&i.isPrefixOf(Le)?Le.length===r&&(h=h.add(Me)):M.done()}).next(()=>this.pn(t,h))}pn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(vh(t).get(o).next(u=>{if(null===u)throw qt();vn(u.userId===this.userId),i.push(Ip(this.wt,u))}))}),et.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return lB(t.ee,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),et.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return et.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return f_(t).J({range:i},(o,u,h)=>{if(o[0]===this.userId){const _=zc(o[1]);r.push(_)}else h.done()}).next(()=>{vn(0===r.length)})})}containsKey(t,e){return cB(t,this.userId,e)}Tn(t){return uB(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cB(n,t,e){const i=XE(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return f_(n).J({range:o,H:!0},(h,_,w)=>{const[M,H,Ce]=h;M===t&&H===r&&(u=!0),w.done()}).next(()=>u)}function vh(n){return Nr(n,"mutations")}function f_(n){return Nr(n,"documentMutations")}function uB(n){return Nr(n,"mutationQueues")}class Op{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new Op(0)}static Rn(){return new Op(-1)}}class lW{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const i=new Op(e.highestTargetId);return e.highestTargetId=i.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>gn.fromTimestamp(new Ri(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Pn(t,r)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(i=>(i.targetCount+=1,this.Vn(e,i),this.Pn(t,i))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>p_(t).delete(e.targetId)).next(()=>this.bn(t)).next(i=>(vn(i.targetCount>0),i.targetCount-=1,this.Pn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return p_(t).J((u,h)=>{const _=s0(h);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,o.push(this.removeTargetData(t,_)))}).next(()=>et.waitFor(o)).next(()=>r)}forEachTarget(t,e){return p_(t).J((i,r)=>{const o=s0(r);e(o)})}bn(t){return dB(t).get("targetGlobalKey").next(e=>(vn(null!==e),e))}Pn(t,e){return dB(t).put("targetGlobalKey",e)}vn(t,e){return p_(t).put(XV(this.wt,e))}Vn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=Ap(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return p_(t).J({range:r,index:"queryTargetsIndex"},(u,h,_)=>{const w=s0(h);Wb(e,w.target)&&(o=w,_.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=bh(t);return e.forEach(u=>{const h=zs(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),et.waitFor(r)}removeMatchingKeys(t,e,i){const r=bh(t);return et.forEach(e,o=>{const u=zs(o.path);return et.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=bh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=bh(t);let o=Tn();return r.J({range:i,H:!0},(u,h,_)=>{const w=zc(u[1]),M=new Lt(w);o=o.add(M)}).next(()=>o)}containsKey(t,e){const i=zs(e.path),r=IDBKeyRange.bound([i],[FN(i)],!1,!0);let o=0;return bh(t).J({index:"documentTargetsIndex",H:!0,range:r},([u,h],_,w)=>{0!==u&&(o++,w.done())}).next(()=>o>0)}te(t,e){return p_(t).get(e).next(i=>i?s0(i):null)}}function p_(n){return Nr(n,"targets")}function dB(n){return Nr(n,"targetGlobal")}function bh(n){return Nr(n,"targetDocuments")}function hB([n,t],[e,i]){const r=An(n,e);return 0===r?An(t,i):r}class cW{constructor(t){this.Sn=t,this.buffer=new hi(hB),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();hB(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class uW{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;St("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ut.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){hh(i)?St("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield dh(i)}yield e.kn(3e5)}))}}class dW{constructor(t,e){this.Mn=t,this.params=e}calculateTargetCount(t,e){return this.Mn.On(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return et.resolve(go.ot);const i=new cW(e);return this.Mn.forEachTarget(t,r=>i.xn(r.sequenceNumber)).next(()=>this.Mn.Fn(t,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Mn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Mn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(aB)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aB):this.$n(t,e))}getCacheSize(t){return this.Mn.getCacheSize(t)}$n(t,e){let i,r,o,u,h,_,w;const M=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(H=>(H>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${H}`),r=this.params.maximumSequenceNumbersToCollect):r=H,u=Date.now(),this.nthSequenceNumber(t,r))).next(H=>(i=H,h=Date.now(),this.removeTargets(t,i,e))).next(H=>(o=H,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(H=>(w=Date.now(),ZI()<=ah.in.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-M}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(_-h)+`ms\n\tRemoved ${H} documents in `+(w-_)+`ms\nTotal Duration: ${w-M}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:H})))}}class hW{constructor(t,e){this.db=t,this.garbageCollector=new dW(this,e)}On(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Bn(t){let e=0;return this.Fn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(i,r)=>e(r))}addReference(t,e,i){return sA(t,i)}removeReference(t,e,i){return sA(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return sA(t,e)}Un(t,e){return function(i,r){let o=!1;return uB(i).Y(u=>cB(i,u,r).next(h=>(h&&(o=!0),et.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Ln(t,(u,h)=>{if(h<=e){const _=this.Un(t,u).next(w=>{if(!w)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,gn.min()),bh(t).delete([0,zs(u.path)])))});r.push(_)}}).next(()=>et.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return sA(t,e)}Ln(t,e){const i=bh(t);let r,o=go.ot;return i.J({index:"documentTargetsIndex"},([u,h],{path:_,sequenceNumber:w})=>{0===u?(o!==go.ot&&e(new Lt(zc(r)),o),o=w,r=_):o=go.ot}).next(()=>{o!==go.ot&&e(new Lt(zc(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function sA(n,t){return bh(n).put((i=n.currentSequenceNumber,{targetId:0,path:zs(t.path),sequenceNumber:i}));var i}class fB{constructor(){this.changes=new _h(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,_i.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?et.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class fW{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Fp(t).put(i)}removeEntry(t,e,i){return Fp(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],JE(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.qn(t,i)))}getEntry(t,e){let i=_i.newInvalidDocument(e);return Fp(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(u0(e))},(r,o)=>{i=this.Kn(e,o)}).next(()=>i)}Gn(t,e){let i={size:0,document:_i.newInvalidDocument(e)};return Fp(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(u0(e))},(r,o)=>{i={document:this.Kn(e,o),size:iA(o)}}).next(()=>i)}getEntries(t,e){let i=_o();return this.Qn(t,e,(r,o)=>{const u=this.Kn(r,o);i=i.insert(r,u)}).next(()=>i)}jn(t,e){let i=_o(),r=new Zi(Lt.comparator);return this.Qn(t,e,(o,u)=>{const h=this.Kn(o,u);i=i.insert(o,h),r=r.insert(o,iA(u))}).next(()=>({documents:i,Wn:r}))}Qn(t,e,i){if(e.isEmpty())return et.resolve();let r=new hi(_B);e.forEach(_=>r=r.add(_));const o=IDBKeyRange.bound(u0(r.first()),u0(r.last())),u=r.getIterator();let h=u.getNext();return Fp(t).J({index:"documentKeyIndex",range:o},(_,w,M)=>{const H=Lt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;h&&_B(h,H)<0;)i(h,null),h=u.getNext();h&&h.isEqual(H)&&(i(h,w),h=u.hasNext()?u.getNext():null),h?M.q(u0(h)):M.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),JE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Fp(t).K(IDBKeyRange.bound(r,o,!0)).next(u=>{let h=_o();for(const _ of u){const w=this.Kn(Lt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);h=h.insert(w.key,w)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=_o();const u=mB(e,i),h=mB(e,ta.max());return Fp(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(_,w,M)=>{const H=this.Kn(Lt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);o=o.insert(H.key,H),o.size===r&&M.done()}).next(()=>o)}newChangeBuffer(t){return new pW(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return gB(t).get("remoteDocumentGlobalKey").next(e=>(vn(!!e),e))}qn(t,e){return gB(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const i=function J6(n,t){let e;if(t.document)e=VV(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Lt.fromSegments(t.noDocument.path),r=Mp(t.noDocument.readTime);e=_i.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return qt();{const i=Lt.fromSegments(t.unknownDocument.path),r=Mp(t.unknownDocument.version);e=_i.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Ri(i[0],i[1]);return gn.fromTimestamp(r)}(t.readTime)),e}(this.wt,e);if(!i.isNoDocument()||!i.version.isEqual(gn.min()))return i}return _i.newInvalidDocument(t)}}function pB(n){return new fW(n)}class pW extends fB{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new _h(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new hi((o,u)=>An(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Hn.get(o);if(e.push(this.zn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const _=QV(this.zn.wt,u);r=r.add(o.path.popLast()),i+=iA(_)-h.size,e.push(this.zn.addEntry(t,o,_))}else if(i-=h.size,this.trackRemovals){const _=QV(this.zn.wt,u.convertToNoDocument(gn.min()));e.push(this.zn.addEntry(t,o,_))}}),r.forEach(o=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.zn.updateMetadata(t,i)),et.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(i=>(this.Hn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:i,Wn:r})=>(r.forEach((o,u)=>{this.Hn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function gB(n){return Nr(n,"remoteDocumentGlobal")}function Fp(n){return Nr(n,"remoteDocumentsV14")}function u0(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function mB(n,t){const e=t.documentKey.path.toArray();return[n,JE(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function _B(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=An(e[o],i[o]),r)return r;return r=An(e.length,i.length),r||(r=An(e[e.length-2],i[i.length-2]),r||An(e[e.length-1],i[i.length-1]))}class gW{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class yB{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&Zb(i.mutation,r,na.empty(),Ri.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Tn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Tn()){const r=jc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=Kb();return o.forEach((h,_)=>{u=u.insert(h,_.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=jc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Tn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=_o();const u=Qb(),h=Qb();return e.forEach((_,w)=>{const M=i.get(w.key);r.has(w.key)&&(void 0===M||M.mutation instanceof nd)?o=o.insert(w.key,w):void 0!==M&&(u.set(w.key,M.mutation.getFieldMask()),Zb(M.mutation,w,M.mutation.getFieldMask(),Ri.now()))}),this.recalculateAndSaveOverlays(t,o).next(_=>(_.forEach((w,M)=>u.set(w,M)),e.forEach((w,M)=>{var H;return h.set(w,new gW(M,null!==(H=u.get(w))&&void 0!==H?H:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Qb();let r=new Zi((u,h)=>u-h),o=Tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(_=>{const w=e.get(_);if(null===w)return;let M=i.get(_)||na.empty();M=h.applyToLocalView(w,M),i.set(_,M);const H=(r.get(h.batchId)||Tn()).add(_);r=r.insert(h.batchId,H)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),w=_.key,M=_.value,H=TV();M.forEach(Ce=>{if(!o.has(Ce)){const Me=yV(e.get(Ce),i.get(Ce));null!==Me&&H.set(Ce,Me),o=o.add(Ce)}}),u.push(this.documentOverlayCache.saveOverlays(t,w,H))}return et.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Lt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):ok(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):et.resolve(jc());let h=-1,_=o;return u.next(w=>et.forEach(w,(M,H)=>(h<H.largestBatchId&&(h=H.largestBatchId),o.get(M)?et.resolve():this.getBaseDocument(t,M,H).next(Ce=>{_=_.insert(M,Ce)}))).next(()=>this.populateOverlays(t,w,o)).next(()=>this.computeViews(t,_,w,Tn())).next(M=>({batchId:h,changes:SV(M)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Lt(e)).next(i=>{let r=Kb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=Kb();return this.indexManager.getCollectionParents(t,r).next(u=>et.forEach(u,h=>{const _=(w=e,M=h.child(r),new td(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,M;return this.getDocumentsMatchingCollectionQuery(t,_,i).next(w=>{w.forEach((M,H)=>{o=o.insert(M,H)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((h,_)=>{const w=_.getKey();null===r.get(w)&&(r=r.insert(w,_i.newInvalidDocument(w)))});let u=Kb();return r.forEach((h,_)=>{const w=o.get(h);void 0!==w&&Zb(w.mutation,_,na.empty(),Ri.now()),lk(e,_)&&(u=u.insert(h,_))}),u})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):et.resolve(_i.newInvalidDocument(e))}}class mW{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return et.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var i;return this.Jn.set(e.id,{id:(i=e).id,version:i.version,createTime:Lr(i.createTime)}),et.resolve()}getNamedQuery(t,e){return et.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(i=e).name,query:_k(i.bundledQuery),readTime:Lr(i.readTime)}),et.resolve();var i}}class _W{constructor(){this.overlays=new Zi(Lt.comparator),this.Xn=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const i=jc();return et.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ie(t,e,o)}),et.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Xn.delete(i)),et.resolve()}getOverlaysForCollection(t,e,i){const r=jc(),o=e.length+1,u=new Lt(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const _=h.getNext().value,w=_.getKey();if(!e.isPrefixOf(w.path))break;w.path.length===o&&_.largestBatchId>i&&r.set(_.getKey(),_)}return et.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Zi((w,M)=>w-M);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===e&&w.largestBatchId>i){let M=o.get(w.largestBatchId);null===M&&(M=jc(),o=o.insert(w.largestBatchId,M)),M.set(w.getKey(),w)}}const h=jc(),_=o.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,M)=>h.set(w,M)),!(h.size()>=r)););return et.resolve(h)}ie(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new mk(e,i));let o=this.Xn.get(e);void 0===o&&(o=Tn(),this.Xn.set(e,o)),this.Xn.set(e,o.add(i.key))}}class bk{constructor(){this.Zn=new hi(Vr.ts),this.es=new hi(Vr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new Vr(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new Vr(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new Lt(new Un([])),i=new Vr(e,t),r=new Vr(e,t+1),o=[];return this.es.forEachInRange([i,r],u=>{this.rs(u),o.push(u.key)}),o}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new Lt(new Un([])),i=new Vr(e,t),r=new Vr(e,t+1);let o=Tn();return this.es.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Vr(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Vr{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return Lt.comparator(t.key,e.key)||An(t.ls,e.ls)}static ns(t,e){return An(t.ls,e.ls)||Lt.comparator(t.key,e.key)}}class yW{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new hi(Vr.ts)}checkEmpty(t){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.fs;this.fs++;const u=new pk(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.ds=this.ds.add(new Vr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return et.resolve(u)}lookupMutationBatch(t,e){return et.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ws(e+1),o=r<0?0:r;return et.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Vr(e,0),r=new Vr(e,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([i,r],u=>{const h=this._s(u.ls);o.push(h)}),et.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new hi(An);return e.forEach(r=>{const o=new Vr(r,0),u=new Vr(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([o,u],h=>{i=i.add(h.ls)})}),et.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Lt.isDocumentKey(o)||(o=o.child(""));const u=new Vr(new Lt(o),0);let h=new hi(An);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(h=h.add(_.ls)),!0)},u),et.resolve(this.gs(h))}gs(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){vn(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return et.forEach(e.mutations,r=>{const o=new Vr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}In(t){}containsKey(t,e){const i=new Vr(e,0),r=this.ds.firstAfterOrEqual(i);return et.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return et.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class vW{constructor(t){this.ps=t,this.docs=new Zi(Lt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.ps(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return et.resolve(i?i.document.mutableCopy():_i.newInvalidDocument(e))}getEntries(t,e){let i=_o();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():_i.newInvalidDocument(r))}),et.resolve(i)}getAllFromCollection(t,e,i){let r=_o();const o=new Lt(e.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:_}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||XI(NN(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return et.resolve(r)}getAllFromCollectionGroup(t,e,i,r){qt()}Is(t,e){return et.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new bW(this)}getSize(t){return et.resolve(this.size)}}class bW extends fB{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.zn.addEntry(t,r)):this.zn.removeEntry(i)}),et.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class wW{constructor(t){this.persistence=t,this.Ts=new _h(e=>Ap(e),Wb),this.lastRemoteSnapshotVersion=gn.min(),this.highestTargetId=0,this.Es=0,this.As=new bk,this.targetCount=0,this.Rs=Op.An()}forEachTarget(t,e){return this.Ts.forEach((i,r)=>e(r)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Es&&(this.Es=e),et.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Op(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.vn(e),et.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Ts.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Ts.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),et.waitFor(o).next(()=>r)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const i=this.Ts.get(e)||null;return et.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),et.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),et.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),et.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return et.resolve(i)}containsKey(t,e){return et.resolve(this.As.containsKey(e))}}class vB{constructor(t,e){this.bs={},this.overlays={},this.Ps=new go(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new wW(this),this.indexManager=new oW,this.remoteDocumentCache=new vW(i=>this.referenceDelegate.Ss(i)),this.wt=new KV(e),this.Ds=new mW(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new _W,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.bs[t.toKey()];return i||(i=new yW(e,this.referenceDelegate),this.bs[t.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,i){St("MemoryPersistence","Starting transaction:",t);const r=new CW(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(o=>this.referenceDelegate.xs(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ns(t,e){return et.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class CW extends BN{constructor(t){super(),this.currentSequenceNumber=t}}class oA{constructor(t){this.persistence=t,this.ks=new bk,this.Ms=null}static Os(t){return new oA(t)}get Fs(){if(this.Ms)return this.Ms;throw qt()}addReference(t,e,i){return this.ks.addReference(i,e),this.Fs.delete(i.toString()),et.resolve()}removeReference(t,e,i){return this.ks.removeReference(i,e),this.Fs.add(i.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),et.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Fs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Cs(){this.Ms=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Fs,i=>{const r=Lt.fromPath(i);return this.$s(t,r).next(o=>{o||e.removeEntry(r,gn.min())})}).next(()=>(this.Ms=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return et.or([()=>et.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class DW{constructor(t){this.wt=t}M(t,e,i,r){const o=new UE("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$V,{unique:!0}),h.createObjectStore("documentMutations"),bB(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=et.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),bB(t)),u=u.next(()=>function(h){const _=h.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:gn.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,_){return _.store("mutations").K().next(w=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$V,{unique:!0});const M=_.store("mutations"),H=w.map(Ce=>M.put(Ce));return et.waitFor(H)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Bs(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(o)))),i<7&&r>=7&&(u=u.next(()=>this.Us(o))),i<8&&r>=8&&(u=u.next(()=>this.qs(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.Ks(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:Y6});_.createIndex("collectionPathOverlayIndex",Z6,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",K6,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:N6});_.createIndex("documentKeyIndex",V6),_.createIndex("collectionGroupIndex",B6)}(t)).next(()=>this.Gs(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.Qs(t,o))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:z6}).createIndex("sequenceNumberIndex",$6,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:W6}).createIndex("documentKeyIndex",q6,{unique:!1})}(t))),u}Ls(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=iA(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.K().next(r=>et.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",u).next(h=>et.forEach(h,_=>{vn(_.userId===o.userId);const w=Ip(this.wt,_);return lB(t,o.userId,w).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((u,h)=>{const _=new Un(u),w=[0,zs(_)];o.push(e.get(w).next(M=>M?et.resolve():e.put({targetId:0,path:zs(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>et.waitFor(o))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:G6});const i=e.store("collectionParents"),r=new vk,o=u=>{if(r.add(u)){const h=u.lastSegment(),_=u.popLast();return i.put({collectionId:h,parent:zs(_)})}};return e.store("remoteDocuments").J({H:!0},(u,h)=>{const _=new Un(u);return o(_.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([u,h,_],w)=>{const M=zc(h);return o(M.popLast())}))}Ks(t){const e=t.store("targets");return e.J((i,r)=>{const o=s0(r),u=XV(this.wt,o);return e.put(u)})}Gs(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((o,u)=>{const h=e.store("remoteDocumentsV14"),_=(w=u,w.document?new Lt(Un.fromString(w.document.name).popFirst(5)):w.noDocument?Lt.fromSegments(w.noDocument.path):w.unknownDocument?Lt.fromSegments(w.unknownDocument.path):qt()).path.toArray();var w;const M={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(M))}).next(()=>et.waitFor(r))}Qs(t,e){const i=e.store("mutations"),r=pB(this.wt),o=new vB(oA.Os,this.wt.ne);return i.K().next(u=>{const h=new Map;return u.forEach(_=>{var w;let M=null!==(w=h.get(_.userId))&&void 0!==w?w:Tn();Ip(this.wt,_).keys().forEach(H=>M=M.add(H)),h.set(_.userId,M)}),et.forEach(h,(_,w)=>{const M=new Or(w),H=eA.se(this.wt,M),Ce=o.getIndexManager(M),Me=rA.se(M,this.wt,Ce,o.referenceDelegate);return new yB(r,Me,H,Ce).recalculateAndSaveOverlaysForDocumentKeys(new fk(e,go.ot),_).next()})})}}function bB(n){n.createObjectStore("targetDocuments",{keyPath:H6}).createIndex("documentTargetsIndex",j6,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",U6,{unique:!0}),n.createObjectStore("targetGlobal")}const wk="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ck{constructor(t,e,i,r,o,u,h,_,w,M,H=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.js=o,this.window=u,this.document=h,this.Ws=w,this.zs=M,this.Hs=H,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=Ce=>Promise.resolve(),!Ck.V())throw new Ct(ot.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new hW(this,r),this.ei=e+"main",this.wt=new KV(_),this.ni=new Hl(this.ei,this.Hs,new DW(this.wt)),this.Vs=new lW(this.referenceDelegate,this.wt),this.remoteDocumentCache=pB(this.wt),this.Ds=new eW,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===M&&nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ct(ot.FAILED_PRECONDITION,wk);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new go(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var i=(0,ut.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,ut.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,ut.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>aA(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(hh(t))return St("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return St("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return d0(t).get("owner").next(e=>et.resolve(this.di(e)))}_i(t){return aA(t).delete(this.clientId)}wi(){var t=this;return(0,ut.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Nr(i,"clientMetadata");return r.K().next(o=>{const u=t.gi(o,18e5),h=o.filter(_=>-1===u.indexOf(_));return et.forEach(h,_=>r.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(t.si)for(const i of e)t.si.removeItem(t.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?et.resolve(!0):d0(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new Ct(ot.FAILED_PRECONDITION,wk);return!1}}return!(!this.networkEnabled||!this.inForeground)||aA(t).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&St("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ut.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new fk(e,go.ot);return t.li(i).next(()=>t._i(i))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(i=>this.mi(i.updateTimeMs,e)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>aA(t).K().next(e=>this.gi(e,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return rA.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new aW(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return eA.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,i){St("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(u=this.Hs)?X6:14===u?ZV:13===u?YV:12===u?Q6:11===u?qV:void qt();var u;let h;return this.ni.runTransaction(t,r,o,_=>(h=new fk(_,this.Ps?this.Ps.next():go.ot),"readwrite-primary"===e?this.ai(h).next(w=>!!w||this.hi(h)).next(w=>{if(!w)throw nr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Ct(ot.FAILED_PRECONDITION,VN);return i(h)}).next(w=>this.fi(h).next(()=>w)):this.bi(h).next(()=>i(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}bi(t){return d0(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ct(ot.FAILED_PRECONDITION,wk)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return d0(t).put("owner",e)}static V(){return Hl.V()}li(t){const e=d0(t);return e.get("owner").next(i=>this.di(i)?(St("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):et.resolve())}mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(nr(`Detected an update time that is in the future: ${t} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,In.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const i=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return St("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return nr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){nr("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function d0(n){return Nr(n,"owner")}function aA(n){return Nr(n,"clientMetadata")}function Dk(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Ek{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Pi=i,this.vi=r}static Vi(t,e){let i=Tn(),r=Tn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Ek(t,e.fromCache,i,r)}}class wB{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ci(t,e).next(o=>o||this.xi(t,e,r,i)).next(o=>o||this.Ni(t,e))}Ci(t,e){if(oV(e))return et.resolve(null);let i=mo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=WE(e,null,"F"),i=mo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Tn(...o);return this.Di.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(_=>{const w=this.ki(e,h);return this.Mi(e,w,u,_.readTime)?this.Ci(t,WE(e,null,"F")):this.Oi(t,w,e,_)}))})))}xi(t,e,i,r){return oV(e)||r.isEqual(gn.min())?this.Ni(t,e):this.Di.getDocuments(t,i).next(o=>{const u=this.ki(e,o);return this.Mi(e,u,i,r)?this.Ni(t,e):(ZI()<=ah.in.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ak(e)),this.Oi(t,u,e,LN(r,-1)))})}ki(t,e){let i=new hi(cV(t));return e.forEach((r,o)=>{lk(t,o)&&(i=i.add(o))}),i}Mi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ni(t,e){return ZI()<=ah.in.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",ak(e)),this.Di.getDocumentsMatchingQuery(t,e,ta.min())}Oi(t,e,i,r){return this.Di.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class EW{constructor(t,e,i,r){this.persistence=t,this.Fi=e,this.wt=r,this.$i=new Zi(An),this.Bi=new _h(o=>Ap(o),Wb),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(i)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yB(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function CB(n,t,e,i){return new EW(n,t,e,i)}function DB(n,t){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,ut.Z)(function*(n,t){const e=Vt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let _=Tn();for(const w of r){u.push(w.batchId);for(const M of w.mutations)_=_.add(M.key)}for(const w of o){h.push(w.batchId);for(const M of w.mutations)_=_.add(M.key)}return e.localDocuments.getDocuments(i,_).next(w=>({Ki:w,removedBatchIds:u,addedBatchIds:h}))})})}),Ak.apply(this,arguments)}function AW(n,t){const e=Vt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Ui.newChangeBuffer({trackRemovals:!0});return function(u,h,_,w){const M=_.batch,H=M.keys();let Ce=et.resolve();return H.forEach(Me=>{Ce=Ce.next(()=>w.getEntry(h,Me)).next(Le=>{const $e=_.docVersions.get(Me);vn(null!==$e),Le.version.compareTo($e)<0&&(M.applyToRemoteDocument(Le,_),Le.isValidDocument()&&(Le.setReadTime(_.commitVersion),w.addEntry(Le)))})}),Ce.next(()=>u.mutationQueue.removeMutationBatch(h,M))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Tn();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(h=h.add(u.batch.mutations[_].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function EB(n){const t=Vt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function SW(n,t){const e=Vt(n),i=t.snapshotVersion;let r=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Ui.newChangeBuffer({trackRemovals:!0});r=e.$i;const h=[];t.targetChanges.forEach((M,H)=>{const Ce=r.get(H);if(!Ce)return;h.push(e.Vs.removeMatchingKeys(o,M.removedDocuments,H).next(()=>e.Vs.addMatchingKeys(o,M.addedDocuments,H)));let Me=Ce.withSequenceNumber(o.currentSequenceNumber);var Le,$e,st;t.targetMismatches.has(H)?Me=Me.withResumeToken(_r.EMPTY_BYTE_STRING,gn.min()).withLastLimboFreeSnapshotVersion(gn.min()):M.resumeToken.approximateByteSize()>0&&(Me=Me.withResumeToken(M.resumeToken,i)),r=r.insert(H,Me),$e=Me,st=M,(0===(Le=Ce).resumeToken.approximateByteSize()||$e.snapshotVersion.toMicroseconds()-Le.snapshotVersion.toMicroseconds()>=3e8||st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0)&&h.push(e.Vs.updateTargetData(o,Me))});let _=_o(),w=Tn();if(t.documentUpdates.forEach(M=>{t.resolvedLimboDocuments.has(M)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,M))}),h.push(AB(o,u,t.documentUpdates).next(M=>{_=M.Gi,w=M.Qi})),!i.isEqual(gn.min())){const M=e.Vs.getLastRemoteSnapshotVersion(o).next(H=>e.Vs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(M)}return et.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,_,w)).next(()=>_)}).then(o=>(e.$i=r,o))}function AB(n,t,e){let i=Tn(),r=Tn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=_o();return e.forEach((h,_)=>{const w=o.get(h);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(h)),_.isNoDocument()&&_.version.isEqual(gn.min())?(t.removeEntry(h,_.readTime),u=u.insert(h,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(t.addEntry(_),u=u.insert(h,_)):St("LocalStore","Ignoring outdated watch update for ",h,". Current version:",w.version," Watch version:",_.version)}),{Gi:u,Qi:r}})}function TW(n,t){const e=Vt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function g_(n,t){const e=Vt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Vs.getTargetData(i,t).next(o=>o?(r=o,et.resolve(r)):e.Vs.allocateTargetId(i).next(u=>(r=new yh(t,u,0,i.currentSequenceNumber),e.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.$i=e.$i.insert(i.targetId,i),e.Bi.set(t,i.targetId)),i})}function m_(n,t,e){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,ut.Z)(function*(n,t,e){const i=Vt(n),r=i.$i.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!hh(u))throw u;St("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.$i=i.$i.remove(t),i.Bi.delete(r.target)}),Sk.apply(this,arguments)}function lA(n,t,e){const i=Vt(n);let r=gn.min(),o=Tn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,_,w){const M=Vt(h),H=M.Bi.get(w);return void 0!==H?et.resolve(M.$i.get(H)):M.Vs.getTargetData(_,w)}(i,u,mo(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(u,h.targetId).next(_=>{o=_})}).next(()=>i.Fi.getDocumentsMatchingQuery(u,t,e?r:gn.min(),e?o:Tn())).next(h=>(xB(i,lV(t),h),{documents:h,ji:o})))}function SB(n,t){const e=Vt(n),i=Vt(e.Vs),r=e.$i.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.te(o,t).next(u=>u?u.target:null))}function TB(n,t){const e=Vt(n),i=e.Li.get(t)||gn.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Ui.getAllFromCollectionGroup(r,t,LN(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(xB(e,t,r),r))}function xB(n,t,e){let i=gn.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Li.set(t,i)}function Tk(){return Tk=(0,ut.Z)(function*(n,t,e,i){const r=Vt(n);let o=Tn(),u=_o();for(const w of e){const M=t.Wi(w.metadata.name);w.document&&(o=o.add(M));const H=t.zi(w);H.setReadTime(t.Hi(w.metadata.readTime)),u=u.insert(M,H)}const h=r.Ui.newChangeBuffer({trackRemovals:!0}),_=yield g_(r,(w=i,mo(s_(Un.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>AB(w,h,u).next(M=>(h.apply(w),M)).next(M=>r.Vs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Vs.addMatchingKeys(w,o,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,M.Gi,M.Qi)).next(()=>M.Gi)))}),Tk.apply(this,arguments)}function MW(n,t){return xk.apply(this,arguments)}function xk(){return xk=(0,ut.Z)(function*(n,t,e=Tn()){const i=yield g_(n,mo(_k(t.bundledQuery))),r=Vt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=Lr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ds.saveNamedQuery(o,t);const h=i.withResumeToken(_r.EMPTY_BYTE_STRING,u);return r.$i=r.$i.insert(h.targetId,h),r.Vs.updateTargetData(o,h).next(()=>r.Vs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Vs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ds.saveNamedQuery(o,t))})}),xk.apply(this,arguments)}function MB(n,t){return`firestore_clients_${n}_${t}`}function IB(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function Mk(n,t){return`firestore_targets_${n}_${t}`}class cA{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Ct(r.error.code,r.error.message))),u?new cA(t,e,r.state,o):(nr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class h0{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ct(i.error.code,i.error.message))),o?new h0(t,i.state,r):(nr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class uA{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=KE();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=$N(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new uA(t,o):(nr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Ik{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Ik(e.clientId,e.onlineState):(nr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class kk{constructor(){this.activeTargetIds=KE()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Pk{constructor(t,e,i,r,o){this.window=t,this.js=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Zi(An),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=MB(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new kk),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ut.Z)(function*(){const e=yield t.syncEngine.Ri();for(const r of e){if(r===t.tr)continue;const o=t.getItem(MB(t.persistenceKey,r));if(o){const u=uA.Ji(r,o);u&&(t.sr=t.sr.insert(u.clientId,u))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(Mk(this.persistenceKey,t));if(i){const r=h0.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Mk(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return St("SharedClientState","READ",t,e),e}setItem(t,e){St("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){St("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(St("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,ut.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.ar.test(i.key)){if(null!==i.newValue){const r=e.vr(i.key,i.newValue);if(r)return e.Vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(o){let u=go.ot;if(null!=o)try{const h=JSON.parse(o);vn("number"==typeof h),u=h}catch(h){nr("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==go.ot&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Nr(o)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new cA(this.currentUser,t,e,i),o=IB(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Yi())}pr(t){const e=IB(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=Mk(this.persistenceKey,t),o=new h0(t,e,i);this.setItem(r,o.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return uA.Ji(i,e)}vr(t,e){const i=this.ar.exec(t),r=Number(i[1]);return cA.Ji(new Or(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return h0.Ji(r,e)}wr(t){return Ik.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,ut.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);St("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),o=this.gr(i),u=[],h=[];return o.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{o.has(_)||h.push(_)}),this.syncEngine.Or(u,h).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=KE();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class kB{constructor(){this.Fr=new kk,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new kk,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class IW{Br(t){}shutdown(){}}class PB{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class PW{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class RW extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,o){const u=this.oo(t,e);St("RestConnection","Sending: ",u,i);const h={};return this.uo(h,r,o),this.co(t,u,h,i).then(_=>(St("RestConnection","Received: ",_),_),_=>{throw yp("RestConnection",`${t} failed with error: `,_,"url: ",u,"request:",i),_})}ao(t,e,i,r,o,u){return this.ro(t,e,i,r,o)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+e_,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}oo(t,e){return`${this.so}/v1/${e}:${kW[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((o,u)=>{const h=new I$;h.listenOnce(T$.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case YI.NO_ERROR:const w=h.getResponseJson();St("Connection","XHR received:",JSON.stringify(w)),o(w);break;case YI.TIMEOUT:St("Connection",'RPC "'+t+'" timed out'),u(new Ct(ot.DEADLINE_EXCEEDED,"Request time out"));break;case YI.HTTP_ERROR:const M=h.getStatus();if(St("Connection",'RPC "'+t+'" failed with status:',M,"response text:",h.getResponseText()),M>0){const H=h.getResponseJson().error;if(H&&H.status&&H.message){const Ce=function(Me){const Le=Me.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(Le)>=0?Le:ot.UNKNOWN}(H.status);u(new Ct(Ce,H.message))}else u(new Ct(ot.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ct(ot.UNAVAILABLE,"Connection failed."));break;default:qt()}}finally{St("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(r);h.send(e,"POST",_,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=A$(),u=S$(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new M$({})),this.uo(h.initMessageHeaders,e,i),(0,In.uI)()||(0,In.b$)()||(0,In.d)()||(0,In.w1)()||(0,In.Mn)()||(0,In.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");St("Connection","Creating WebChannel: "+_,h);const w=o.createWebChannel(_,h);let M=!1,H=!1;const Ce=new PW({jr:Le=>{H?St("Connection","Not sending because WebChannel is closed:",Le):(M||(St("Connection","Opening WebChannel transport."),w.open(),M=!0),St("Connection","WebChannel sending:",Le),w.send(Le))},Wr:()=>w.close()}),Me=(Le,$e,st)=>{Le.listen($e,It=>{try{st(It)}catch(Bt){setTimeout(()=>{throw Bt},0)}})};return Me(w,NE.EventType.OPEN,()=>{H||St("Connection","WebChannel transport opened.")}),Me(w,NE.EventType.CLOSE,()=>{H||(H=!0,St("Connection","WebChannel transport closed"),Ce.eo())}),Me(w,NE.EventType.ERROR,Le=>{H||(H=!0,yp("Connection","WebChannel transport errored:",Le),Ce.eo(new Ct(ot.UNAVAILABLE,"The operation could not be completed")))}),Me(w,NE.EventType.MESSAGE,Le=>{var $e;if(!H){const st=Le.data[0];vn(!!st);const It=st,Bt=It.error||(null===($e=It[0])||void 0===$e?void 0:$e.error);if(Bt){St("Connection","WebChannel received error:",Bt);const Xt=Bt.status;let jt=function(mn){const Nn=dr[mn];if(void 0!==Nn)return EV(Nn)}(Xt),hn=Bt.message;void 0===jt&&(jt=ot.INTERNAL,hn="Unknown error status: "+Xt+" with message "+Bt.message),H=!0,Ce.eo(new Ct(jt,hn)),w.close()}else St("Connection","WebChannel received:",st),Ce.no(st)}}),Me(u,x$.STAT_EVENT,Le=>{Le.stat===IN.PROXY?St("Connection","Detected buffering proxy"):Le.stat===IN.NOPROXY&&St("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ce.Zr()},0),Ce}}function RB(){return typeof window<"u"?window:null}function dA(){return typeof document<"u"?document:null}function f0(n){return new E6(n,!0)}class Rk{constructor(t,e,i=1e3,r=1.5,o=6e4){this.js=t,this.timerId=e,this.lo=i,this.fo=r,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&St("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class OB{constructor(t,e,i,r,o,u,h,_){this.js=t,this.Ao=i,this.Ro=r,this.bo=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Rk(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,ut.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(t){this.Fo(),this.stream.send(t)}Mo(){var t=this;return(0,ut.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,ut.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===ot.RESOURCE_EXHAUSTED?(nr(e.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===ot.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new Ct(ot.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,ut.Z)(function*(){t.state=0,t.start()}))}qo(t){return St("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class OW extends OB{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.wt=o}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function T6(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:qt(),r=t.targetChange.targetIds||[],o=function(_,w){return _.dt?(vn(void 0===w||"string"==typeof w),_r.fromBase64String(w||"")):(vn(void 0===w||w instanceof Uint8Array),_r.fromUint8Array(w||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(_){const w=void 0===_.code?ot.UNKNOWN:EV(_.code);return new Ct(w,_.message||"")}(u);e=new MV(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Gc(n,i.document.name),o=Lr(i.document.updateTime),u=new ss({mapValue:{fields:i.document.fields}}),h=_i.newFoundDocument(r,o,u);e=new QE(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=Gc(n,i.document),o=i.readTime?Lr(i.readTime):gn.min(),u=_i.newNoDocument(r,o);e=new QE([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Gc(n,i.document);e=new QE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return qt();{const i=t.filter,o=new m6(i.count||0);e=new xV(i.targetId,o)}}var _;return e}(this.wt,t),i=function(r){if(!("targetChange"in r))return gn.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?gn.min():o.readTime?Lr(o.readTime):gn.min()}(t);return this.listener.Go(e,i)}Qo(t){const e={};e.database=n0(this.wt),e.addTarget=function(r,o){let u;const h=o.target;return u=zE(h)?{documents:BV(r,h)}:{query:UV(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=RV(r,o.resumeToken):o.snapshotVersion.compareTo(gn.min())>0&&(u.readTime=e0(r,o.snapshotVersion.toTimestamp())),u}(this.wt,t);const i=function M6(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Oo(e)}jo(t){const e={};e.database=n0(this.wt),e.removeTarget=t,this.Oo(e)}}class FW extends OB{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.wt=o,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(vn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function x6(n,t){return n&&n.length>0?(vn(void 0!==t),n.map(e=>function(i,r){let o=Lr(i.updateTime?i.updateTime:r);return o.isEqual(gn.min())&&(o=Lr(r)),new f6(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Lr(t.commitTime);return this.listener.Jo(i,e)}return vn(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=n0(this.wt),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>r0(this.wt,i))};this.Oo(e)}}class LW extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Ct(ot.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.ro(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ct(ot.UNKNOWN,r.toString())})}ao(t,e,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ao(t,e,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ct(ot.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class NW{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(nr(e),this.su=!1):St("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class VW{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(h=>{i.enqueueAndForget((0,ut.Z)(function*(){var _;wh(u)&&(St("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ut.Z)(function*(w){const M=Vt(w);M.lu.add(4),yield __(M),M._u.set("Unknown"),M.lu.delete(4),yield p0(M)}),function(w){return _.apply(this,arguments)})(u))}))}),this._u=new NW(i,r)}}function p0(n){return Ok.apply(this,arguments)}function Ok(){return Ok=(0,ut.Z)(function*(n){if(wh(n))for(const t of n.fu)yield t(!0)}),Ok.apply(this,arguments)}function __(n){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,ut.Z)(function*(n){for(const t of n.fu)yield t(!1)}),Fk.apply(this,arguments)}function hA(n,t){const e=Vt(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),Vk(e)?Nk(e):v_(e).Co()&&Lk(e,t))}function g0(n,t){const e=Vt(n),i=v_(e);e.hu.delete(t),i.Co()&&FB(e,t),0===e.hu.size&&(i.Co()?i.ko():wh(e)&&e._u.set("Unknown"))}function Lk(n,t){n.wu.Nt(t.targetId),v_(n).Qo(t)}function FB(n,t){n.wu.Nt(t),v_(n).jo(t)}function Nk(n){n.wu=new w6({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),v_(n).start(),n._u.iu()}function Vk(n){return wh(n)&&!v_(n).Do()&&n.hu.size>0}function wh(n){return 0===Vt(n).lu.size}function LB(n){n.wu=void 0}function BW(n){return Bk.apply(this,arguments)}function Bk(){return Bk=(0,ut.Z)(function*(n){n.hu.forEach((t,e)=>{Lk(n,t)})}),Bk.apply(this,arguments)}function UW(n,t){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,ut.Z)(function*(n,t){LB(n),Vk(n)?(n._u.uu(t),Nk(n)):n._u.set("Unknown")}),Uk.apply(this,arguments)}function HW(n,t,e){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,ut.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof MV&&2===t.state&&t.cause)try{yield(i=(0,ut.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.hu.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.hu.delete(h),r.wu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){St("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield fA(n,i)}else if(t instanceof QE?n.wu.Ut(t):t instanceof xV?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(gn.min()))try{const i=yield EB(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.wu.Yt(o);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const w=r.hu.get(_);w&&r.hu.set(_,w.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const _=r.hu.get(h);if(!_)return;r.hu.set(h,_.withResumeToken(_r.EMPTY_BYTE_STRING,_.snapshotVersion)),FB(r,h);const w=new yh(_.target,h,1,_.sequenceNumber);Lk(r,w)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){St("RemoteStore","Failed to raise snapshot:",i),yield fA(n,i)}var i}),Hk.apply(this,arguments)}function fA(n,t,e){return jk.apply(this,arguments)}function jk(){return jk=(0,ut.Z)(function*(n,t,e){if(!hh(t))throw t;n.lu.add(1),yield __(n),n._u.set("Offline"),e||(e=()=>EB(n.localStore)),n.asyncQueue.enqueueRetryable((0,ut.Z)(function*(){St("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield p0(n)}))}),jk.apply(this,arguments)}function NB(n,t){return t().catch(e=>fA(n,e,t))}function y_(n){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,ut.Z)(function*(n){const t=Vt(n),e=Ch(t);let i=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;jW(t);)try{const r=yield TW(t.localStore,i);if(null===r){0===t.au.length&&e.ko();break}i=r.batchId,GW(t,r)}catch(r){yield fA(t,r)}VB(t)&&BB(t)}),Gk.apply(this,arguments)}function jW(n){return wh(n)&&n.au.length<10}function GW(n,t){n.au.push(t);const e=Ch(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function VB(n){return wh(n)&&!Ch(n).Do()&&n.au.length>0}function BB(n){Ch(n).start()}function zW(n){return zk.apply(this,arguments)}function zk(){return zk=(0,ut.Z)(function*(n){Ch(n).Xo()}),zk.apply(this,arguments)}function $W(n){return $k.apply(this,arguments)}function $k(){return $k=(0,ut.Z)(function*(n){const t=Ch(n);for(const e of n.au)t.Ho(e.mutations)}),$k.apply(this,arguments)}function WW(n,t,e){return Wk.apply(this,arguments)}function Wk(){return Wk=(0,ut.Z)(function*(n,t,e){const i=n.au.shift(),r=gk.from(i,t,e);yield NB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield y_(n)}),Wk.apply(this,arguments)}function qW(n,t){return qk.apply(this,arguments)}function qk(){return qk=(0,ut.Z)(function*(n,t){var e;t&&Ch(n).zo&&(yield(e=(0,ut.Z)(function*(i,r){if(DV(o=r.code)&&o!==ot.ABORTED){const u=i.au.shift();Ch(i).No(),yield NB(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield y_(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),VB(n)&&BB(n)}),qk.apply(this,arguments)}function UB(n,t){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,ut.Z)(function*(n,t){const e=Vt(n);e.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const i=wh(e);e.lu.add(3),yield __(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield p0(e)}),Yk.apply(this,arguments)}function Zk(n,t){return Kk.apply(this,arguments)}function Kk(){return Kk=(0,ut.Z)(function*(n,t){const e=Vt(n);t?(e.lu.delete(2),yield p0(e)):t||(e.lu.add(2),yield __(e),e._u.set("Unknown"))}),Kk.apply(this,arguments)}function v_(n){return n.mu||(n.mu=function(t,e,i){const r=Vt(t);return r.tu(),new OW(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:BW.bind(null,n),Jr:UW.bind(null,n),Go:HW.bind(null,n)}),n.fu.push(function(){var t=(0,ut.Z)(function*(e){e?(n.mu.No(),Vk(n)?Nk(n):n._u.set("Unknown")):(yield n.mu.stop(),LB(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function Ch(n){return n.gu||(n.gu=function(t,e,i){const r=Vt(t);return r.tu(),new FW(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:zW.bind(null,n),Jr:qW.bind(null,n),Yo:$W.bind(null,n),Jo:WW.bind(null,n)}),n.fu.push(function(){var t=(0,ut.Z)(function*(e){e?(n.gu.No(),yield y_(n)):(yield n.gu.stop(),n.au.length>0&&(St("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class Qk{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new Qk(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function b_(n,t){if(nr("AsyncQueue",`${t}: ${n}`),hh(n))return new Ct(ot.UNAVAILABLE,`${t}: ${n}`);throw n}class w_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Lt.comparator(e.key,i.key):(e,i)=>Lt.comparator(e.key,i.key),this.keyedMap=Kb(),this.sortedSet=new Zi(this.comparator)}static emptySet(t){return new w_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof w_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new w_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class HB{constructor(){this.yu=new Zi(Lt.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):qt():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class C_{constructor(t,e,i,r,o,u,h,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new C_(t,e,w_.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&qb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class YW{constructor(){this.Iu=void 0,this.listeners=[]}}class ZW{constructor(){this.queries=new _h(t=>aV(t),qb),this.onlineState="Unknown",this.Tu=new Set}}function Xk(n,t){return Jk.apply(this,arguments)}function Jk(){return Jk=(0,ut.Z)(function*(n,t){const e=Vt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new YW),r)try{o.Iu=yield e.onListen(i)}catch(u){const h=b_(u,`Initialization of query '${ak(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Eu(e.onlineState),o.Iu&&t.Au(o.Iu)&&nP(e)}),Jk.apply(this,arguments)}function eP(n,t){return tP.apply(this,arguments)}function tP(){return tP=(0,ut.Z)(function*(n,t){const e=Vt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),tP.apply(this,arguments)}function KW(n,t){const e=Vt(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Au(r)&&(i=!0);u.Iu=r}}i&&nP(e)}function QW(n,t,e){const i=Vt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function nP(n){n.Tu.forEach(t=>{t.next()})}class iP{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new C_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=C_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class XW{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class jB{constructor(t){this.wt=t}Wi(t){return Gc(this.wt,t)}zi(t){return t.metadata.exists?VV(this.wt,t.document,!1):_i.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return Lr(t)}}class JW{constructor(t,e,i){this.xu=t,this.localStore=e,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=GB(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=Un.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new jB(this.wt);for(const r of t)if(r.metadata.queries){const o=i.Wi(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Tn()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,ut.Z)(function*(){const e=yield function xW(n,t,e,i){return Tk.apply(this,arguments)}(t.localStore,new jB(t.wt),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield MW(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Mu:t.collectionGroups,Ou:e}})()}}function GB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class zB{constructor(t){this.key=t}}class $B{constructor(t){this.key=t}}class WB{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=Tn(),this.mutatedKeys=Tn(),this.Lu=cV(t),this.Uu=new w_(this.Lu)}get qu(){return this.Fu}Ku(t,e){const i=e?e.Gu:new HB,r=e?e.Uu:this.Uu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((M,H)=>{const Ce=r.get(M),Me=lk(this.query,H)?H:null,Le=!!Ce&&this.mutatedKeys.has(Ce.key),$e=!!Me&&(Me.hasLocalMutations||this.mutatedKeys.has(Me.key)&&Me.hasCommittedMutations);let st=!1;Ce&&Me?Ce.data.isEqual(Me.data)?Le!==$e&&(i.track({type:3,doc:Me}),st=!0):this.Qu(Ce,Me)||(i.track({type:2,doc:Me}),st=!0,(_&&this.Lu(Me,_)>0||w&&this.Lu(Me,w)<0)&&(h=!0)):!Ce&&Me?(i.track({type:0,doc:Me}),st=!0):Ce&&!Me&&(i.track({type:1,doc:Ce}),st=!0,(_||w)&&(h=!0)),st&&(Me?(u=u.add(Me),o=$e?o.add(M):o.delete(M)):(u=u.delete(M),o=o.delete(M)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const M="F"===this.query.limitType?u.last():u.first();u=u.delete(M.key),o=o.delete(M.key),i.track({type:1,doc:M})}return{Uu:u,Gu:i,Mi:h,mutatedKeys:o}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const o=t.Gu.pu();o.sort((w,M)=>function(H,Ce){const Me=Le=>{switch(Le){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt()}};return Me(H)-Me(Ce)}(w.type,M.type)||this.Lu(w.doc,M.doc)),this.ju(i);const u=e?this.Wu():[],h=0===this.Bu.size&&this.current?1:0,_=h!==this.$u;return this.$u=h,0!==o.length||_?{snapshot:new C_(this.query,t.Uu,r,o,t.mutatedKeys,0===h,_,!1),zu:u}:{zu:u}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new HB,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Tn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new $B(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new zB(i))}),e}Ju(t){this.Fu=t.ji,this.Bu=Tn();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return C_.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class eq{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class tq{constructor(t){this.key=t,this.Xu=!1}}class nq{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Zu={},this.tc=new _h(h=>aV(h),qb),this.ec=new Map,this.nc=new Set,this.sc=new Zi(Lt.comparator),this.ic=new Map,this.rc=new bk,this.oc={},this.uc=new Map,this.cc=Op.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function iq(n,t){return rP.apply(this,arguments)}function rP(){return rP=(0,ut.Z)(function*(n,t){const e=TP(n);let i,r;const o=e.tc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Yu();else{const u=yield g_(e.localStore,mo(t));e.isPrimaryClient&&hA(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield sP(e,t,i,"current"===h)}return r}),rP.apply(this,arguments)}function sP(n,t,e,i){return oP.apply(this,arguments)}function oP(){return oP=(0,ut.Z)(function*(n,t,e,i){n.hc=(M,H,Ce)=>{return(Me=(0,ut.Z)(function*(Le,$e,st,It){let Bt=$e.view.Ku(st);Bt.Mi&&(Bt=yield lA(Le.localStore,$e.query,!1).then(({documents:hn})=>$e.view.Ku(hn,Bt)));const Xt=It&&It.targetChanges.get($e.targetId),jt=$e.view.applyChanges(Bt,Le.isPrimaryClient,Xt);return mP(Le,$e.targetId,jt.zu),jt.snapshot}),function(Le,$e,st,It){return Me.apply(this,arguments)})(n,M,H,Ce);var Me};const r=yield lA(n.localStore,t,!0),o=new WB(t,r.ji),u=o.Ku(r.documents),h=Jb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),_=o.applyChanges(u,n.isPrimaryClient,h);mP(n,e,_.zu);const w=new eq(t,e,o);return n.tc.set(t,w),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),_.snapshot}),oP.apply(this,arguments)}function rq(n,t){return aP.apply(this,arguments)}function aP(){return aP=(0,ut.Z)(function*(n,t){const e=Vt(n),i=e.tc.get(t),r=e.ec.get(i.targetId);if(r.length>1)return e.ec.set(i.targetId,r.filter(o=>!qb(o,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield m_(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),g0(e.remoteStore,i.targetId),D_(e,i.targetId)}).catch(dh))):(D_(e,i.targetId),yield m_(e.localStore,i.targetId,!0))}),aP.apply(this,arguments)}function lP(){return lP=(0,ut.Z)(function*(n,t,e){const i=xP(n);try{const r=yield function(o,u){const h=Vt(o),_=Ri.now(),w=u.reduce((Ce,Me)=>Ce.add(Me.key),Tn());let M,H;return h.persistence.runTransaction("Locally write mutations","readwrite",Ce=>{let Me=_o(),Le=Tn();return h.Ui.getEntries(Ce,w).next($e=>{Me=$e,Me.forEach((st,It)=>{It.isValidDocument()||(Le=Le.add(st))})}).next(()=>h.localDocuments.getOverlayedDocuments(Ce,Me)).next($e=>{M=$e;const st=[];for(const It of u){const Bt=g6(It,M.get(It.key).overlayedDocument);null!=Bt&&st.push(new nd(It.key,Bt,XN(Bt.value.mapValue),Ni.exists(!0)))}return h.mutationQueue.addMutationBatch(Ce,_,st,u)}).next($e=>{H=$e;const st=$e.applyToLocalDocumentSet(M,Le);return h.documentOverlayCache.saveOverlays(Ce,$e.batchId,st)})}).then(()=>({batchId:H.batchId,changes:SV(M)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let _=o.oc[o.currentUser.toKey()];_||(_=new Zi(An)),_=_.insert(u,h),o.oc[o.currentUser.toKey()]=_}(i,r.batchId,e),yield id(i,r.changes),yield y_(i.remoteStore)}catch(r){const o=b_(r,"Failed to persist write");e.reject(o)}}),lP.apply(this,arguments)}function qB(n,t){return cP.apply(this,arguments)}function cP(){return cP=(0,ut.Z)(function*(n,t){const e=Vt(n);try{const i=yield SW(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.ic.get(o);u&&(vn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Xu=!0:r.modifiedDocuments.size>0?vn(u.Xu):r.removedDocuments.size>0&&(vn(u.Xu),u.Xu=!1))}),yield id(e,i,t)}catch(i){yield dh(i)}}),cP.apply(this,arguments)}function YB(n,t,e){const i=Vt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.tc.forEach((o,u)=>{const h=u.view.Eu(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=Vt(o);h.onlineState=u;let _=!1;h.queries.forEach((w,M)=>{for(const H of M.listeners)H.Eu(u)&&(_=!0)}),_&&nP(h)}(i.eventManager,t),r.length&&i.Zu.Go(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function oq(n,t,e){return uP.apply(this,arguments)}function uP(){return uP=(0,ut.Z)(function*(n,t,e){const i=Vt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ic.get(t),o=r&&r.key;if(o){let u=new Zi(Lt.comparator);u=u.insert(o,_i.newNoDocument(o,gn.min()));const h=Tn().add(o),_=new Xb(gn.min(),new Map,new hi(An),u,h);yield qB(i,_),i.sc=i.sc.remove(o),i.ic.delete(t),_P(i)}else yield m_(i.localStore,t,!1).then(()=>D_(i,t,e)).catch(dh)}),uP.apply(this,arguments)}function aq(n,t){return dP.apply(this,arguments)}function dP(){return dP=(0,ut.Z)(function*(n,t){const e=Vt(n),i=t.batch.batchId;try{const r=yield AW(e.localStore,t);gP(e,i,null),pP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield id(e,r)}catch(r){yield dh(r)}}),dP.apply(this,arguments)}function lq(n,t,e){return hP.apply(this,arguments)}function hP(){return hP=(0,ut.Z)(function*(n,t,e){const i=Vt(n);try{const r=yield function(o,u){const h=Vt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return h.mutationQueue.lookupMutationBatch(_,u).next(M=>(vn(null!==M),w=M.keys(),h.mutationQueue.removeMutationBatch(_,M))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>h.localDocuments.getDocuments(_,w))})}(i.localStore,t);gP(i,t,e),pP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield id(i,r)}catch(r){yield dh(r)}}),hP.apply(this,arguments)}function fP(){return fP=(0,ut.Z)(function*(n,t){const e=Vt(n);wh(e.remoteStore)||St("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=Vt(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.uc.get(i)||[];r.push(t),e.uc.set(i,r)}catch(i){const r=b_(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),fP.apply(this,arguments)}function pP(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function gP(n,t,e){const i=Vt(n);let r=i.oc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.oc[i.currentUser.toKey()]=r}}function D_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ec.get(t))n.tc.delete(i),e&&n.Zu.lc(i,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(i=>{n.rc.containsKey(i)||ZB(n,i)})}function ZB(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(g0(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),_P(n))}function mP(n,t,e){for(const i of e)i instanceof zB?(n.rc.addReference(i.key,t),uq(n,i)):i instanceof $B?(St("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,t),n.rc.containsKey(i.key)||ZB(n,i.key)):qt()}function uq(n,t){const e=t.key,i=e.path.canonicalString();n.sc.get(e)||n.nc.has(i)||(St("SyncEngine","New document in limbo: "+e),n.nc.add(i),_P(n))}function _P(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new Lt(Un.fromString(t)),i=n.cc.next();n.ic.set(i,new tq(e)),n.sc=n.sc.insert(e,i),hA(n.remoteStore,new yh(mo(s_(e.path)),i,2,go.ot))}}function id(n,t,e){return yP.apply(this,arguments)}function yP(){return yP=(0,ut.Z)(function*(n,t,e){const i=Vt(n),r=[],o=[],u=[];var h;i.tc.isEmpty()||(i.tc.forEach((h,_)=>{u.push(i.hc(_,t,e).then(w=>{if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),r.push(w);const M=Ek.Vi(_.targetId,w);o.push(M)}}))}),yield Promise.all(u),i.Zu.Go(r),yield(h=(0,ut.Z)(function*(_,w){const M=Vt(_);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",H=>et.forEach(w,Ce=>et.forEach(Ce.Pi,Me=>M.persistence.referenceDelegate.addReference(H,Ce.targetId,Me)).next(()=>et.forEach(Ce.vi,Me=>M.persistence.referenceDelegate.removeReference(H,Ce.targetId,Me)))))}catch(H){if(!hh(H))throw H;St("LocalStore","Failed to update sequence numbers: "+H)}for(const H of w){const Ce=H.targetId;if(!H.fromCache){const Me=M.$i.get(Ce),$e=Me.withLastLimboFreeSnapshotVersion(Me.snapshotVersion);M.$i=M.$i.insert(Ce,$e)}}}),function(_,w){return h.apply(this,arguments)})(i.localStore,o))}),yP.apply(this,arguments)}function dq(n,t){return vP.apply(this,arguments)}function vP(){return vP=(0,ut.Z)(function*(n,t){const e=Vt(n);if(!e.currentUser.isEqual(t)){St("SyncEngine","User change. New user:",t.toKey());const i=yield DB(e.localStore,t);e.currentUser=t,(r=e).uc.forEach(u=>{u.forEach(h=>{h.reject(new Ct(ot.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield id(e,i.Ki)}var r}),vP.apply(this,arguments)}function hq(n,t){const e=Vt(n),i=e.ic.get(t);if(i&&i.Xu)return Tn().add(i.key);{let r=Tn();const o=e.ec.get(t);if(!o)return r;for(const u of o){const h=e.tc.get(u);r=r.unionWith(h.view.qu)}return r}}function fq(n,t){return bP.apply(this,arguments)}function bP(){return bP=(0,ut.Z)(function*(n,t){const e=Vt(n),i=yield lA(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&mP(e,t.targetId,r.zu),r}),bP.apply(this,arguments)}function pq(n,t){return wP.apply(this,arguments)}function wP(){return wP=(0,ut.Z)(function*(n,t){const e=Vt(n);return TB(e.localStore,t).then(i=>id(e,i))}),wP.apply(this,arguments)}function gq(n,t,e,i){return CP.apply(this,arguments)}function CP(){return CP=(0,ut.Z)(function*(n,t,e,i){const r=Vt(n),o=yield function(u,h){const _=Vt(u),w=Vt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",M=>w.yn(M,h).next(H=>H?_.localDocuments.getDocuments(M,H):et.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield y_(r.remoteStore):"acknowledged"===e||"rejected"===e?(gP(r,t,i||null),pP(r,t),h=t,Vt(Vt(r.localStore).mutationQueue).In(h)):qt(),yield id(r,o)):St("SyncEngine","Cannot apply mutation batch with id: "+t)}),CP.apply(this,arguments)}function DP(){return DP=(0,ut.Z)(function*(n,t){const e=Vt(n);if(TP(e),xP(e),!0===t&&!0!==e.ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield KB(e,i.toArray());e.ac=!0,yield Zk(e.remoteStore,!0);for(const o of r)hA(e.remoteStore,o)}else if(!1===t&&!1!==e.ac){const i=[];let r=Promise.resolve();e.ec.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(D_(e,u),m_(e.localStore,u,!0))),g0(e.remoteStore,u)}),yield r,yield KB(e,i),function(o){const u=Vt(o);u.ic.forEach((h,_)=>{g0(u.remoteStore,_)}),u.rc.cs(),u.ic=new Map,u.sc=new Zi(Lt.comparator)}(e),e.ac=!1,yield Zk(e.remoteStore,!1)}}),DP.apply(this,arguments)}function KB(n,t,e){return EP.apply(this,arguments)}function EP(){return EP=(0,ut.Z)(function*(n,t,e){const i=Vt(n),r=[],o=[];for(const u of t){let h;const _=i.ec.get(u);if(_&&0!==_.length){h=yield g_(i.localStore,mo(_[0]));for(const w of _){const M=i.tc.get(w),H=yield fq(i,M);H.snapshot&&o.push(H.snapshot)}}else{const w=yield SB(i.localStore,u);h=yield g_(i.localStore,w),yield sP(i,QB(w),u,!1)}r.push(h)}return i.Zu.Go(o),r}),EP.apply(this,arguments)}function QB(n){return sV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function _q(n){const t=Vt(n);return Vt(Vt(t.localStore).persistence).Ri()}function yq(n,t,e,i){return AP.apply(this,arguments)}function AP(){return AP=(0,ut.Z)(function*(n,t,e,i){const r=Vt(n);if(r.ac)return void St("SyncEngine","Ignoring unexpected query state notification.");const o=r.ec.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield TB(r.localStore,lV(o[0])),h=Xb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield id(r,u,h);break}case"rejected":yield m_(r.localStore,t,!0),D_(r,t,i);break;default:qt()}}),AP.apply(this,arguments)}function vq(n,t,e){return SP.apply(this,arguments)}function SP(){return SP=(0,ut.Z)(function*(n,t,e){const i=TP(n);if(i.ac){for(const r of t){if(i.ec.has(r)){St("SyncEngine","Adding an already active target "+r);continue}const o=yield SB(i.localStore,r),u=yield g_(i.localStore,o);yield sP(i,QB(o),u.targetId,!1),hA(i.remoteStore,u)}for(const r of e)i.ec.has(r)&&(yield m_(i.localStore,r,!1).then(()=>{g0(i.remoteStore,r),D_(i,r)}).catch(dh))}}),SP.apply(this,arguments)}function TP(n){const t=Vt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=qB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=hq.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=oq.bind(null,t),t.Zu.Go=KW.bind(null,t.eventManager),t.Zu.lc=QW.bind(null,t.eventManager),t}function xP(n){const t=Vt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=aq.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=lq.bind(null,t),t}class XB{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ut.Z)(function*(){e.wt=f0(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return CB(this.persistence,new wB,t.initialUser,this.wt)}_c(t){return new vB(oA.Os,this.wt)}dc(t){return new kB}terminate(){var t=this;return(0,ut.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class JB extends XB{constructor(t,e,i){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ut.Z)(function*(){yield e().call(i,t),yield i.yc.initialize(i,t),yield xP(i.yc.syncEngine),yield y_(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return CB(this.persistence,new wB,t.initialUser,this.wt)}mc(t,e){return new uW(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const i=new W$(e,this.persistence);return new $$(t.asyncQueue,i)}_c(t){const e=Dk(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?yo.withCacheSize(this.cacheSizeBytes):yo.DEFAULT;return new Ck(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,RB(),dA(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new kB}}class wq extends JB{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ut.Z)(function*(){yield e().call(i,t);const r=i.yc.syncEngine;i.sharedClientState instanceof Pk&&(i.sharedClientState.syncEngine={kr:gq.bind(null,r),Mr:yq.bind(null,r),Or:vq.bind(null,r),Ri:_q.bind(null,r),Nr:pq.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var o=(0,ut.Z)(function*(u){yield function mq(n,t){return DP.apply(this,arguments)}(i.yc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}dc(t){const e=RB();if(!Pk.V(e))throw new Ct(ot.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Dk(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Pk(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class MP{initialize(t,e){var i=this;return(0,ut.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>YB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=dq.bind(null,i.syncEngine),yield Zk(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new ZW}createDatastore(t){const e=f0(t.databaseInfo.databaseId),i=new RW(t.databaseInfo);return new LW(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>YB(this.syncEngine,h,0),u=PB.V()?new PB:new IW,new VW(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,_,w){const M=new nq(i,r,o,u,h,_);return w&&(M.ac=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ut.Z)(function*(e){const i=Vt(e);St("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield __(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function e2(n,t=10240){let e=0;return{read:()=>(0,ut.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ut.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class pA{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class Cq{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new Fr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,ut.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,ut.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,ut.Z)(function*(){const e=yield t.bc();if(null===e)return null;const i=t.Ac.decode(e),r=Number(i);isNaN(r)&&t.Pc(`length string (${i}) is not valid number`);const o=yield t.vc(r);return new XW(JSON.parse(o),e.length+r)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,ut.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}vc(t){var e=this;return(0,ut.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const i=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,ut.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class Dq{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ut.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ct(ot.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ut.Z)(function*(o,u){const h=Vt(o),_=n0(h.wt)+"/documents",w={documents:u.map(Me=>t0(h.wt,Me))},M=yield h.ao("BatchGetDocuments",_,w,u.length),H=new Map;M.forEach(Me=>{const Le=function S6(n,t){return"found"in t?function(e,i){vn(!!i.found);const r=Gc(e,i.found.name),o=Lr(i.found.updateTime),u=new ss({mapValue:{fields:i.found.fields}});return _i.newFoundDocument(r,o,u)}(n,t):"missing"in t?function(e,i){vn(!!i.missing),vn(!!i.readTime);const r=Gc(e,i.missing),o=Lr(i.readTime);return _i.newNoDocument(r,o)}(n,t):qt()}(h.wt,Me);H.set(Le.key.toString(),Le)});const Ce=[];return u.forEach(Me=>{const Le=H.get(Me.toString());vn(!!Le),Ce.push(Le)}),Ce}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new u_(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ut.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Lt.fromPath(r);t.mutations.push(new ck(o,t.precondition(o)))}),yield(i=(0,ut.Z)(function*(r,o){const u=Vt(r),h=n0(u.wt)+"/documents",_={writes:o.map(w=>r0(u.wt,w))};yield u.ro("Commit",h,_)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw qt();e=gn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ct(ot.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ni.updateTime(e):Ni.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(gn.min()))throw new Ct(ot.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ni.updateTime(e)}return Ni.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Eq{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Dc=i.maxAttempts,this.So=new Rk(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,ut.Z)(function*(){const e=new Dq(t.datastore),i=t.xc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Nc(o)}))}).catch(r=>{t.Nc(r)})}))}xc(t){try{const e=this.updateFunction(t);return!Hb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!DV(e)}return!1}}class Aq{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Or.UNAUTHENTICATED,this.clientId=ON.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ut.Z)(function*(h){St("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(St("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,ut.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ct(ot.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ut.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=b_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function t2(n,t){return IP.apply(this,arguments)}function IP(){return IP=(0,ut.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ut.Z)(function*(o){i.isEqual(o)||(yield DB(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),IP.apply(this,arguments)}function n2(n,t){return kP.apply(this,arguments)}function kP(){return kP=(0,ut.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield PP(n);St("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>UB(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>UB(t.remoteStore,o)),n.onlineComponents=t}),kP.apply(this,arguments)}function PP(n){return RP.apply(this,arguments)}function RP(){return RP=(0,ut.Z)(function*(n){return n.offlineComponents||(St("FirestoreClient","Using default OfflineComponentProvider"),yield t2(n,new XB)),n.offlineComponents}),RP.apply(this,arguments)}function gA(n){return OP.apply(this,arguments)}function OP(){return OP=(0,ut.Z)(function*(n){return n.onlineComponents||(St("FirestoreClient","Using default OnlineComponentProvider"),yield n2(n,new MP)),n.onlineComponents}),OP.apply(this,arguments)}function r2(n){return PP(n).then(t=>t.persistence)}function mA(n){return PP(n).then(t=>t.localStore)}function s2(n){return gA(n).then(t=>t.remoteStore)}function FP(n){return gA(n).then(t=>t.syncEngine)}function E_(n){return LP.apply(this,arguments)}function LP(){return LP=(0,ut.Z)(function*(n){const t=yield gA(n),e=t.eventManager;return e.onListen=iq.bind(null,t.syncEngine),e.onUnlisten=rq.bind(null,t.syncEngine),e}),LP.apply(this,arguments)}function o2(n,t,e={}){const i=new Fr;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function(r,o,u,h,_){const w=new pA({next:H=>{o.enqueueAndForget(()=>eP(r,M));const Ce=H.docs.has(u);!Ce&&H.fromCache?_.reject(new Ct(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):Ce&&H.fromCache&&h&&"server"===h.source?_.reject(new Ct(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(H)},error:H=>_.reject(H)}),M=new iP(s_(u.path),w,{includeMetadataChanges:!0,Du:!0});return Xk(r,M)}(yield E_(n),n.asyncQueue,t,e,i)})),i.promise}function a2(n,t,e={}){const i=new Fr;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function(r,o,u,h,_){const w=new pA({next:H=>{o.enqueueAndForget(()=>eP(r,M)),H.fromCache&&"server"===h.source?_.reject(new Ct(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(H)},error:H=>_.reject(H)}),M=new iP(u,w,{includeMetadataChanges:!0,Du:!0});return Xk(r,M)}(yield E_(n),n.asyncQueue,t,e,i)})),i.promise}const l2=new Map;function NP(n,t,e){if(!e)throw new Ct(ot.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function c2(n,t,e,i){if(!0===t&&!0===i)throw new Ct(ot.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function u2(n){if(!Lt.isDocumentKey(n))throw new Ct(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function d2(n){if(Lt.isDocumentKey(n))throw new Ct(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _A(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":qt()}function Ln(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ct(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=_A(n);throw new Ct(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function h2(n,t){if(t<=0)throw new Ct(ot.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class f2{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ct(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ct(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,c2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class m0{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f2({}),this._settingsFrozen=!1,t instanceof ed?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ct(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ed(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ct(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ct(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f2(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new R$;switch(e.type){case"gapi":const i=e.client;return vn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new N$(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ct(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=l2.get(t);e&&(St("ComponentProvider","Removing Datastore"),l2.delete(t),e.terminate())}(this),Promise.resolve()}}class Ei{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $c(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ei(this.firestore,t,this._key)}}class vs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new vs(this.firestore,t,this._query)}}class $c extends vs{constructor(t,e,i){super(t,e,s_(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ei(this.firestore,null,new Lt(t))}withConverter(t){return new $c(this.firestore,t,this._path)}}function p2(n,t,...e){if(n=(0,In.m9)(n),NP("collection","path",t),n instanceof m0){const i=Un.fromString(t,...e);return d2(i),new $c(n,null,i)}{if(!(n instanceof Ei||n instanceof $c))throw new Ct(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Un.fromString(t,...e));return d2(i),new $c(n.firestore,null,i)}}function yA(n,t,...e){if(n=(0,In.m9)(n),1===arguments.length&&(t=ON.I()),NP("doc","path",t),n instanceof m0){const i=Un.fromString(t,...e);return u2(i),new Ei(n,null,new Lt(i))}{if(!(n instanceof Ei||n instanceof $c))throw new Ct(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Un.fromString(t,...e));return u2(i),new Ei(n.firestore,n instanceof $c?n.converter:null,new Lt(i))}}function g2(n,t){return n=(0,In.m9)(n),t=(0,In.m9)(t),(n instanceof Ei||n instanceof $c)&&(t instanceof Ei||t instanceof $c)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function m2(n,t){return n=(0,In.m9)(n),t=(0,In.m9)(t),n instanceof vs&&t instanceof vs&&n.firestore===t.firestore&&qb(n._query,t._query)&&n.converter===t.converter}class Lq{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Rk(this,"async_queue_retry"),this.Kc=()=>{const e=dA();e&&St("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=dA();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=dA();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new Fr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Oc.push(t),this.jc()))}jc(){var t=this;return(0,ut.Z)(function*(){if(0!==t.Oc.length){try{yield t.Oc[0](),t.Oc.shift(),t.So.reset()}catch(e){if(!hh(e))throw e;St("AsyncQueue","Operation failed with retryable error: "+e)}t.Oc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Mc.then(()=>(this.Lc=!0,t().catch(i=>{throw this.Bc=i,this.Lc=!1,nr("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Mc=e,e}enqueueAfterDelay(t,e,i){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const r=Qk.createAndSchedule(this,t,e,i,o=>this.Wc(o));return this.$c.push(r),r}Gc(){this.Bc&&qt()}verifyOperationInProgress(){}zc(){var t=this;return(0,ut.Z)(function*(){let e;do{e=t.Mc,yield e}while(e!==t.Mc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function VP(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class Nq{constructor(){this._progressObserver={},this._taskCompletionResolver=new Fr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Oi extends m0{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new Lq,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||_2(this),this._firestoreClient.terminate()}}function hr(n){return n._firestoreClient||_2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function _2(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Z$(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new Aq(n._authCredentials,n._appCheckCredentials,n._queue,i)}function y2(n,t,e){const i=new Fr;return n.asyncQueue.enqueue((0,ut.Z)(function*(){try{yield t2(n,e),yield n2(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(u=o).name?u.code===ot.FAILED_PRECONDITION||u.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;yp("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var u})).then(()=>i.promise)}function v2(n){if(n._initialized||n._terminated)throw new Ct(ot.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class rd{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ct(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Wc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Wc(_r.fromBase64String(t))}catch(e){throw new Ct(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Wc(_r.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Lp{constructor(t){this._methodName=t}}class vA{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return An(this._lat,t._lat)||An(this._long,t._long)}}const qq=/^__.*__$/;class Yq{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new nd(t,this.data,this.fieldMask,e,this.fieldTransforms):new c_(t,this.data,e,this.fieldTransforms)}}class b2{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new nd(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function w2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt()}}class bA{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.wt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new bA(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.sa(t),r}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return DA(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(w2(this.Zc)&&qq.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class Zq{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=i||f0(t)}aa(t,e,i,r=!1){return new bA({Zc:t,methodName:e,ca:i,path:Yi.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Np(n){const t=n._freezeSettings(),e=f0(n._databaseId);return new Zq(n._databaseId,!!t.ignoreUndefinedProperties,e)}function wA(n,t,e,i,r,o={}){const u=n.aa(o.merge||o.mergeFields?2:0,t,e,r);jP("Data must be an object, but it was:",u,i);const h=E2(i,u);let _,w;if(o.merge)_=new na(u.fieldMask),w=u.fieldTransforms;else if(o.mergeFields){const M=[];for(const H of o.mergeFields){const Ce=GP(t,H,e);if(!u.contains(Ce))throw new Ct(ot.INVALID_ARGUMENT,`Field '${Ce}' is specified in your field mask but missing from your input data.`);S2(M,Ce)||M.push(Ce)}_=new na(M),w=u.fieldTransforms.filter(H=>_.covers(H.field))}else _=null,w=u.fieldTransforms;return new Yq(new ss(h),_,w)}class _0 extends Lp{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof _0}}function C2(n,t,e){return new bA({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class BP extends Lp{_toFieldTransform(t){return new Yb(t.path,new a_)}isEqual(t){return t instanceof BP}}class Kq extends Lp{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=C2(this,t,!0),i=this.ha.map(o=>Vp(o,e)),r=new Sp(i);return new Yb(t.path,r)}isEqual(t){return this===t}}class Qq extends Lp{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=C2(this,t,!0),i=this.ha.map(o=>Vp(o,e)),r=new Tp(i);return new Yb(t.path,r)}isEqual(t){return this===t}}class Xq extends Lp{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new l_(t.wt,hV(t.wt,this.la));return new Yb(t.path,e)}isEqual(t){return this===t}}function UP(n,t,e,i){const r=n.aa(1,t,e);jP("Data must be an object, but it was:",r,i);const o=[],u=ss.empty();wp(i,(_,w)=>{const M=CA(t,_,e);w=(0,In.m9)(w);const H=r.ia(M);if(w instanceof _0)o.push(M);else{const Ce=Vp(w,H);null!=Ce&&(o.push(M),u.set(M,Ce))}});const h=new na(o);return new b2(u,h,r.fieldTransforms)}function HP(n,t,e,i,r,o){const u=n.aa(1,t,e),h=[GP(t,i,e)],_=[r];if(o.length%2!=0)throw new Ct(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ce=0;Ce<o.length;Ce+=2)h.push(GP(t,o[Ce])),_.push(o[Ce+1]);const w=[],M=ss.empty();for(let Ce=h.length-1;Ce>=0;--Ce)if(!S2(w,h[Ce])){const Me=h[Ce];let Le=_[Ce];Le=(0,In.m9)(Le);const $e=u.ia(Me);if(Le instanceof _0)w.push(Me);else{const st=Vp(Le,$e);null!=st&&(w.push(Me),M.set(Me,st))}}const H=new na(w);return new b2(M,H,u.fieldTransforms)}function D2(n,t,e,i=!1){return Vp(e,n.aa(i?4:3,t))}function Vp(n,t){if(A2(n=(0,In.m9)(n)))return jP("Unsupported field value:",t,n),E2(n,t);if(n instanceof Lp)return function(e,i){if(!w2(i.Zc))throw i.oa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=Vp(u,i.ra(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,In.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hV(i.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Ri.fromDate(e);return{timestampValue:e0(i.wt,r)}}if(e instanceof Ri){const r=new Ri(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:e0(i.wt,r)}}if(e instanceof vA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Wc)return{bytesValue:RV(i.wt,e._byteString)};if(e instanceof Ei){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.oa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:uk(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.oa(`Unsupported field value: ${_A(e)}`)}(n,t)}function E2(n,t){const e={};return jN(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wp(n,(i,r)=>{const o=Vp(r,t.ea(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function A2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ri||n instanceof vA||n instanceof Wc||n instanceof Ei||n instanceof Lp)}function jP(n,t,e){if(!A2(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=_A(e);throw t.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function GP(n,t,e){if((t=(0,In.m9)(t))instanceof rd)return t._internalPath;if("string"==typeof t)return CA(n,t);throw DA("Field path arguments must be of type string or ",n,!1,void 0,e)}const Jq=new RegExp("[~\\*/\\[\\]]");function CA(n,t,e){if(t.search(Jq)>=0)throw DA(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new rd(...t.split("."))._internalPath}catch{throw DA(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function DA(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(o||u)&&(_+=" (found",o&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Ct(ot.INVALID_ARGUMENT,h+n+_)}function S2(n,t){return n.some(e=>e.isEqual(t))}class y0{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ei(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new e4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(EA("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class e4 extends y0{data(){return super.data()}}function EA(n,t){return"string"==typeof t?CA(n,t):t instanceof rd?t._internalPath:t._delegate._internalPath}class Bp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class sd extends y0{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new v0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(EA("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class v0 extends sd{data(t={}){return super.data(t)}}class Dh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Bp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new v0(this._firestore,this._userDataWriter,i.key,i,new Bp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new v0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Bp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new v0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Bp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),w=o.indexOf(u.doc.key)),{type:t4(u.type),doc:h,oldIndex:_,newIndex:w}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function t4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt()}}function T2(n,t){return n instanceof sd&&t instanceof sd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Dh&&t instanceof Dh&&n._firestore===t._firestore&&m2(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function x2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ct(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b0{}function Eh(n,...t){for(const e of t)n=e._apply(n);return n}class n4 extends b0{constructor(t,e,i){super(),this.fa=t,this.da=e,this._a=i,this.type="where"}_apply(t){const e=Np(t.firestore),i=function(r,o,u,h,_,w,M){let H;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ct(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){O2(M,w);const Me=[];for(const Le of M)Me.push(R2(h,r,Le));H={arrayValue:{values:Me}}}else H=R2(h,r,M)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||O2(M,w),H=D2(u,"where",M,"in"===w||"not-in"===w);const Ce=os.create(_,w,H);return function(Me,Le){if(Le.ht()){const st=sk(Me);if(null!==st&&!st.isEqual(Le.field))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${st.toString()}' and '${Le.field.toString()}'`);const It=rk(Me);null!==It&&F2(0,Le.field,It)}const $e=function(st,It){for(const Bt of st.filters)if(It.indexOf(Bt.op)>=0)return Bt.op;return null}(Me,function(st){switch(st){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Le.op));if(null!==$e)throw new Ct(ot.INVALID_ARGUMENT,$e===Le.op?`Invalid query. You cannot use more than one '${Le.op.toString()}' filter.`:`Invalid query. You cannot use '${Le.op.toString()}' filters with '${$e.toString()}' filters.`)}(r,Ce),Ce}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new vs(t.firestore,t.converter,function(r,o){const u=r.filters.concat([o]);return new td(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class s4 extends b0{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Ct(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ct(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new r_(r,o);return function(h,_){if(null===rk(h)){const w=sk(h);null!==w&&F2(0,w,_.field)}}(i,u),u}(t._query,this.fa,this.wa);return new vs(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new td(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class M2 extends b0{constructor(t,e,i){super(),this.type=t,this.ma=e,this.ga=i}_apply(t){return new vs(t.firestore,t.converter,WE(t._query,this.ma,this.ga))}}class I2 extends b0{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=P2(t,this.type,this.ya,this.pa);return new vs(t.firestore,t.converter,(r=e,new td((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class k2 extends b0{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=P2(t,this.type,this.ya,this.pa);return new vs(t.firestore,t.converter,(r=e,new td((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function P2(n,t,e,i){if(e[0]=(0,In.m9)(e[0]),e[0]instanceof y0)return function(r,o,u,h,_){if(!h)throw new Ct(ot.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const M of o_(r))if(M.field.isKeyField())w.push(Ep(o,h.key));else{const H=h.data.field(M.field);if(tk(H))throw new Ct(ot.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===H){const Ce=M.field.canonicalString();throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ce}' (used as the orderBy) does not exist.`)}w.push(H)}return new mh(w,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Np(n.firestore);return function(o,u,h,_,w,M){const H=o.explicitOrderBy;if(w.length>H.length)throw new Ct(ot.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ce=[];for(let Me=0;Me<w.length;Me++){const Le=w[Me];if(H[Me].field.isKeyField()){if("string"!=typeof Le)throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Le}`);if(!ok(o)&&-1!==Le.indexOf("/"))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Le}' contains a slash.`);const $e=o.path.child(Un.fromString(Le));if(!Lt.isDocumentKey($e))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${$e}' is not because it contains an odd number of segments.`);const st=new Lt($e);Ce.push(Ep(u,st))}else{const $e=D2(h,_,Le);Ce.push($e)}}return new mh(Ce,M)}(n._query,n.firestore._databaseId,r,t,e,i)}}function R2(n,t,e){if("string"==typeof(e=(0,In.m9)(e))){if(""===e)throw new Ct(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ok(t)&&-1!==e.indexOf("/"))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Un.fromString(e));if(!Lt.isDocumentKey(i))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ep(n,new Lt(i))}if(e instanceof Ei)return Ep(n,e._key);throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_A(e)}.`)}function O2(n,t){if(!Array.isArray(n)||0===n.length)throw new Ct(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ct(ot.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function F2(n,t,e){if(!e.isEqual(t))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const f4={maxAttempts:5};class zP{convertValue(t,e="none"){switch(Dp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ki(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Cp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw qt()}}convertObject(t,e){const i={};return wp(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new vA(Ki(t.latitude),Ki(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=zN(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Ub(t));default:return null}}convertTimestamp(t){const e=fh(t);return new Ri(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Un.fromString(t);vn(GV(i));const r=new ed(i.get(1),i.get(3)),o=new Lt(i.popFirst(5));return r.isEqual(e)||nr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function AA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class p4 extends zP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ei(this.firestore,null,e)}}class L2{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Np(t)}set(t,e,i){this._verifyNotCommitted();const r=Ah(t,this._firestore),o=AA(r.converter,e,i),u=wA(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Ni.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Ah(t,this._firestore);let u;return u="string"==typeof(e=(0,In.m9)(e))||e instanceof rd?HP(this._dataReader,"WriteBatch.update",o._key,e,i,r):UP(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,Ni.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ah(t,this._firestore);return this._mutations=this._mutations.concat(new u_(e._key,Ni.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ct(ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ah(n,t){if((n=(0,In.m9)(n)).firestore!==t)throw new Ct(ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Up extends zP{constructor(t){super(),this.firestore=t}convertBytes(t){return new Wc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ei(this.firestore,null,e)}}function N2(n,t,e){n=Ln(n,Ei);const i=Ln(n.firestore,Oi),r=AA(n.converter,t,e);return A_(i,[wA(Np(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ni.none())])}function V2(n,t,e,...i){n=Ln(n,Ei);const r=Ln(n.firestore,Oi),o=Np(r);let u;return u="string"==typeof(t=(0,In.m9)(t))||t instanceof rd?HP(o,"updateDoc",n._key,t,e,i):UP(o,"updateDoc",n._key,t),A_(r,[u.toMutation(n._key,Ni.exists(!0))])}function B2(n,...t){var e,i,r;n=(0,In.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||VP(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(VP(t[u])){const H=t[u];t[u]=null===(e=H.next)||void 0===e?void 0:e.bind(H),t[u+1]=null===(i=H.error)||void 0===i?void 0:i.bind(H),t[u+2]=null===(r=H.complete)||void 0===r?void 0:r.bind(H)}let _,w,M;if(n instanceof Ei)w=Ln(n.firestore,Oi),M=s_(n._key.path),_={next:H=>{t[u]&&t[u]($P(w,n,H))},error:t[u+1],complete:t[u+2]};else{const H=Ln(n,vs);w=Ln(H.firestore,Oi),M=H._query;const Ce=new Up(w);_={next:Me=>{t[u]&&t[u](new Dh(w,Ce,H,Me))},error:t[u+1],complete:t[u+2]},x2(n._query)}return function(H,Ce,Me,Le){const $e=new pA(Le),st=new iP(Ce,$e,Me);return H.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return Xk(yield E_(H),st)})),()=>{$e.Tc(),H.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return eP(yield E_(H),st)}))}}(hr(w),M,h,_)}function A_(n,t){return function(e,i){const r=new Fr;return e.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function sq(n,t,e){return lP.apply(this,arguments)}(yield FP(e),i,r)})),r.promise}(hr(n),t)}function $P(n,t,e){const i=e.docs.get(t._key),r=new Up(n);return new sd(n,r,t._key,i,new Bp(e.hasPendingWrites,e.fromCache),t.converter)}class E4 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Np(t)}get(t){const e=Ah(t,this._firestore),i=new p4(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return qt();const o=r[0];if(o.isFoundDocument())return new y0(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new y0(this._firestore,i,e._key,null,e.converter);throw qt()})}set(t,e,i){const r=Ah(t,this._firestore),o=AA(r.converter,e,i),u=wA(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=Ah(t,this._firestore);let u;return u="string"==typeof(e=(0,In.m9)(e))||e instanceof rd?HP(this._dataReader,"Transaction.update",o._key,e,i,r):UP(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Ah(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Ah(t,this._firestore),i=new Up(this._firestore);return super.get(t).then(r=>new sd(this._firestore,i,e._key,r._document,new Bp(!1,!1),e.converter))}}function WP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ct("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function H2(){if(typeof Uint8Array>"u")throw new Ct("unimplemented","Uint8Arrays are not available in this environment.")}function j2(){if(!function q$(){return typeof atob<"u"}())throw new Ct("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){e_=hp.SDK_VERSION,(0,hp._registerComponent)(new rE.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new Oi(r,new F$(e.getProvider("auth-internal")),new V$(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,hp.registerVersion)(kN,"3.4.14",n),(0,hp.registerVersion)(kN,"3.4.14","esm2017")}();class w0{constructor(t){this._delegate=t}static fromBase64String(t){return j2(),new w0(Wc.fromBase64String(t))}static fromUint8Array(t){return H2(),new w0(Wc.fromUint8Array(t))}toBase64(){return j2(),this._delegate.toBase64()}toUint8Array(){return H2(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function qP(n){return function R4(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class O4{enableIndexedDbPersistence(t,e){return function Bq(n,t){v2(n=Ln(n,Oi));const e=hr(n),i=n._freezeSettings(),r=new MP;return y2(e,r,new JB(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function Uq(n){v2(n=Ln(n,Oi));const t=hr(n),e=n._freezeSettings(),i=new MP;return y2(t,i,new wq(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function Hq(n){if(n._initialized&&!n._terminated)throw new Ct(ot.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Fr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ut.Z)(function*(){try{yield(e=(0,ut.Z)(function*(i){if(!Hl.V())return Promise.resolve();const r=i+"main";yield Hl.delete(r)}),function(i){return e.apply(this,arguments)})(Dk(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class G2{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof ed||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&yp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function Oq(n,t,e,i={}){var r;const o=(n=Ln(n,m0))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&yp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Or.MOCK_USER;else{u=(0,In.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ct(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Or(_)}n._authCredentials=new O$(new PN(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function Gq(n){return function Sq(n){return n.asyncQueue.enqueue((0,ut.Z)(function*(){const t=yield r2(n),e=yield s2(n);return t.setNetworkEnabled(!0),function(i){const r=Vt(i);return r.lu.delete(0),p0(r)}(e)}))}(hr(n=Ln(n,Oi)))}(this._delegate)}disableNetwork(){return function zq(n){return function Tq(n){return n.asyncQueue.enqueue((0,ut.Z)(function*(){const t=yield r2(n),e=yield s2(n);return t.setNetworkEnabled(!1),(i=(0,ut.Z)(function*(r){const o=Vt(r);o.lu.add(0),yield __(o),o._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(hr(n=Ln(n,Oi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,c2("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function jq(n){return function(t){const e=new Fr;return t.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function cq(n,t){return fP.apply(this,arguments)}(yield FP(t),e)})),e.promise}(hr(n=Ln(n,Oi)))}(this._delegate)}onSnapshotsInSync(t){return function D4(n,t){return function Iq(n,t){const e=new pA(t);return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return i=yield E_(n),r=e,Vt(i).Tu.add(r),void r.next();var i,r})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return i=yield E_(n),r=e,void Vt(i).Tu.delete(r);var i,r}))}}(hr(n=Ln(n,Oi)),VP(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ct("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new S_(this,p2(this._delegate,t))}catch(e){throw $s(e,"collection()","Firestore.collection()")}}doc(t){try{return new qa(this,yA(this._delegate,t))}catch(e){throw $s(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Ws(this,function Fq(n,t){if(n=Ln(n,m0),NP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ct(ot.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new vs(n,null,(e=t,new td(Un.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw $s(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function A4(n,t,e){n=Ln(n,Oi);const i=Object.assign(Object.assign({},f4),e);return function(r){if(r.maxAttempts<1)throw new Ct(ot.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function kq(n,t,e){const i=new Fr;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){const r=yield(o=n,gA(o).then(u=>u.datastore));var o;new Eq(n.asyncQueue,r,e,t,i).run()})),i.promise}(hr(n),r=>t(new E4(n,r)),i)}(this._delegate,e=>t(new z2(this,e)))}batch(){return hr(this._delegate),new $2(new L2(this._delegate,t=>A_(this._delegate,t)))}loadBundle(t){return function $q(n,t){const e=hr(n=Ln(n,Oi)),i=new Nq;return function Pq(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,_=function(_,w){if(_ instanceof Uint8Array)return e2(_,w);if(_ instanceof ArrayBuffer)return e2(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new Cq(_,u);var _}(e,f0(t));n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){!function bq(n,t,e){const i=Vt(n);var r;(r=(0,ut.Z)(function*(o,u,h){try{const _=yield u.getMetadata();if(yield function(Ce,Me){const Le=Vt(Ce),$e=Lr(Me.createTime);return Le.persistence.runTransaction("hasNewerBundle","readonly",st=>Le.Ds.getBundleMetadata(st,Me.id)).then(st=>!!st&&st.createTime.compareTo($e)>=0)}(o.localStore,_))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(Ce=_).totalDocuments,bytesLoaded:Ce.totalBytes,totalDocuments:Ce.totalDocuments,totalBytes:Ce.totalBytes}),Promise.resolve(new Set);h._updateProgress(GB(_));const w=new JW(_,o.localStore,u.wt);let M=yield u.fc();for(;M;){const Ce=yield w.Nu(M);Ce&&h._updateProgress(Ce),M=yield u.fc()}const H=yield w.complete();return yield id(o,H.Ou,void 0),yield function(Ce,Me){const Le=Vt(Ce);return Le.persistence.runTransaction("Save bundle","readwrite",$e=>Le.Ds.saveBundleMetadata($e,Me))}(o.localStore,_),h._completeWith(H.progress),Promise.resolve(H.Mu)}catch(_){return yp("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var Ce}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield FP(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Wq(n,t){return function Rq(n,t){return n.asyncQueue.enqueue((0,ut.Z)(function*(){return function(e,i){const r=Vt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ds.getNamedQuery(o,i))}(yield mA(n),t)}))}(hr(n=Ln(n,Oi)),t).then(e=>e?new vs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Ws(this,e):null)}}class SA extends zP{constructor(t){super(),this.firestore=t}convertBytes(t){return new w0(new Wc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return qa.forKey(e,this.firestore,null)}}class z2{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new SA(t)}get(t){const e=jp(t);return this._delegate.get(e).then(i=>new C0(this._firestore,new sd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=jp(t);return i?(WP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=jp(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=jp(t);return this._delegate.delete(e),this}}class $2{constructor(t){this._delegate=t}set(t,e,i){const r=jp(t);return i?(WP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=jp(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=jp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Hp{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new v0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new D0(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Hp.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new Hp(t,new SA(t),e),r.set(e,o)),o}}Hp.INSTANCES=new WeakMap;class qa{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new SA(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ct("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new qa(e,new Ei(e._delegate,i,new Lt(t)))}static forKey(t,e,i){return new qa(e,new Ei(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new S_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new S_(this.firestore,p2(this._delegate,t))}catch(e){throw $s(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,In.m9)(t))instanceof Ei&&g2(this._delegate,t)}set(t,e){e=WP("DocumentReference.set",e);try{return e?N2(this._delegate,t,e):N2(this._delegate,t)}catch(i){throw $s(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?V2(this._delegate,t):V2(this._delegate,t,e,...i)}catch(r){throw $s(r,"updateDoc()","DocumentReference.update()")}}delete(){return function w4(n){return A_(Ln(n.firestore,Oi),[new u_(n._key,Ni.none())])}(this._delegate)}onSnapshot(...t){const e=W2(t),i=q2(t,r=>new C0(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return B2(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function m4(n){n=Ln(n,Ei);const t=Ln(n.firestore,Oi),e=hr(t),i=new Up(t);return function xq(n,t){const e=new Fr;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return(i=(0,ut.Z)(function*(r,o,u){try{const h=yield function(_,w){const M=Vt(_);return M.persistence.runTransaction("read document","readonly",H=>M.localDocuments.getDocument(H,w))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Ct(ot.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=b_(h,`Failed to get document '${o} from cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield mA(n),t,e);var i})),e.promise}(e,n._key).then(r=>new sd(t,i,n._key,r,new Bp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function _4(n){n=Ln(n,Ei);const t=Ln(n.firestore,Oi);return o2(hr(t),n._key,{source:"server"}).then(e=>$P(t,n,e))}(this._delegate):function g4(n){n=Ln(n,Ei);const t=Ln(n.firestore,Oi);return o2(hr(t),n._key).then(e=>$P(t,n,e))}(this._delegate),e.then(i=>new C0(this.firestore,new sd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new qa(this.firestore,this._delegate.withConverter(t?Hp.getInstance(this.firestore,t):null))}}function $s(n,t,e){return n.message=n.message.replace(t,e),n}function W2(n){for(const t of n)if("object"==typeof t&&!qP(t))return t;return{}}function q2(n,t){var e,i;let r;return r=qP(n[0])?n[0]:qP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class C0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new qa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return T2(this._delegate,t._delegate)}}class D0 extends C0{data(t){const e=this._delegate.data(t);return function P$(n,t){n||qt()}(void 0!==e),e}}class Ws{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new SA(t)}where(t,e,i){try{return new Ws(this.firestore,Eh(this._delegate,function r4(n,t,e){const i=t,r=EA("where",n);return new n4(r,i,e)}(t,e,i)))}catch(r){throw $s(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Ws(this.firestore,Eh(this._delegate,function o4(n,t="asc"){const e=t,i=EA("orderBy",n);return new s4(i,e)}(t,e)))}catch(i){throw $s(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Ws(this.firestore,Eh(this._delegate,function a4(n){return h2("limit",n),new M2("limit",n,"F")}(t)))}catch(e){throw $s(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Ws(this.firestore,Eh(this._delegate,function l4(n){return h2("limitToLast",n),new M2("limitToLast",n,"L")}(t)))}catch(e){throw $s(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Ws(this.firestore,Eh(this._delegate,function c4(...n){return new I2("startAt",n,!0)}(...t)))}catch(e){throw $s(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Ws(this.firestore,Eh(this._delegate,function u4(...n){return new I2("startAfter",n,!1)}(...t)))}catch(e){throw $s(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Ws(this.firestore,Eh(this._delegate,function d4(...n){return new k2("endBefore",n,!1)}(...t)))}catch(e){throw $s(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Ws(this.firestore,Eh(this._delegate,function h4(...n){return new k2("endAt",n,!0)}(...t)))}catch(e){throw $s(e,"endAt()","Query.endAt()")}}isEqual(t){return m2(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function v4(n){n=Ln(n,vs);const t=Ln(n.firestore,Oi),e=hr(t),i=new Up(t);return function Mq(n,t){const e=new Fr;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return(i=(0,ut.Z)(function*(r,o,u){try{const h=yield lA(r,o,!0),_=new WB(o,h.ji),w=_.Ku(h.documents),M=_.applyChanges(w,!1);u.resolve(M.snapshot)}catch(h){const _=b_(h,`Failed to execute query '${o} against cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield mA(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Dh(t,i,n,r))}(this._delegate):"server"===t?.source?function b4(n){n=Ln(n,vs);const t=Ln(n.firestore,Oi),e=hr(t),i=new Up(t);return a2(e,n._query,{source:"server"}).then(r=>new Dh(t,i,n,r))}(this._delegate):function y4(n){n=Ln(n,vs);const t=Ln(n.firestore,Oi),e=hr(t),i=new Up(t);return x2(n._query),a2(e,n._query).then(r=>new Dh(t,i,n,r))}(this._delegate),e.then(i=>new YP(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=W2(t),i=q2(t,r=>new YP(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return B2(this._delegate,e,i)}withConverter(t){return new Ws(this.firestore,this._delegate.withConverter(t?Hp.getInstance(this.firestore,t):null))}}class L4{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new D0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class YP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Ws(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new D0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new L4(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new D0(this._firestore,i))})}isEqual(t){return T2(this._delegate,t._delegate)}}class S_ extends Ws{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new qa(this.firestore,t):null}doc(t){try{return new qa(this.firestore,void 0===t?yA(this._delegate):yA(this._delegate,t))}catch(e){throw $s(e,"doc()","CollectionReference.doc()")}}add(t){return function C4(n,t){const e=Ln(n.firestore,Oi),i=yA(n),r=AA(n.converter,t);return A_(e,[wA(Np(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ni.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new qa(this.firestore,e))}isEqual(t){return g2(this._delegate,t._delegate)}withConverter(t){return new S_(this.firestore,this._delegate.withConverter(t?Hp.getInstance(this.firestore,t):null))}}function jp(n){return Ln(n,Ei)}class ZP{constructor(...t){this._delegate=new rd(...t)}static documentId(){return new ZP(Yi.keyField().canonicalString())}isEqual(t){return(t=(0,In.m9)(t))instanceof rd&&this._delegate._internalPath.isEqual(t._internalPath)}}class Gp{constructor(t){this._delegate=t}static serverTimestamp(){const t=function T4(){return new BP("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Gp(t)}static delete(){const t=function S4(){return new _0("deleteField")}();return t._methodName="FieldValue.delete",new Gp(t)}static arrayUnion(...t){const e=function x4(...n){return new Kq("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Gp(e)}static arrayRemove(...t){const e=function M4(...n){return new Qq("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Gp(e)}static increment(t){const e=function I4(n){return new Xq("increment",n)}(t);return e._methodName="FieldValue.increment",new Gp(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const N4={Firestore:G2,GeoPoint:vA,Timestamp:Ri,Blob:w0,Transaction:z2,WriteBatch:$2,DocumentReference:qa,DocumentSnapshot:C0,Query:Ws,QueryDocumentSnapshot:D0,QuerySnapshot:YP,CollectionReference:S_,FieldPath:ZP,FieldValue:Gp,setLogLevel:function F4(n){!function k$(n){uh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Y2(n,t){return function U4(n,t=Os.z){return new Yn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function KP(n,t){return Y2(n,t).pipe((0,zt.U)(e=>({payload:e,type:"query"})))}function TA(n,t){return KP(n,t).pipe(Xn(void 0),iI(),(0,zt.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const _=r.find(M=>M.doc.ref.isEqual(u.ref)),w=e?.payload.docs.find(M=>M.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function Z2(n,t,e){return TA(n,e).pipe(Ea((i,r)=>function j4(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function G4(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return QP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return QP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return QP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Bg(),(0,zt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function QP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function K2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function B4(n){(function V4(n,t){n.INTERNAL.registerComponent(new rE.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},N4)))})(n,(t,e)=>new G2(t,e,new O4)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(Dz.Z);class Q2{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=TA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,zt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Xn(void 0),iI(),ti(([i,r])=>r.length>0||!i),(0,zt.U)(([i,r])=>r),es.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ea((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=K2(t);return Z2(this.query,e,this.afs.schedulers.outsideAngular).pipe(es.iC)}valueChanges(t={}){return KP(this.query,this.afs.schedulers.outsideAngular).pipe((0,zt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),es.iC)}get(t){return(0,Vn.D)(this.query.get(t)).pipe(es.iC)}add(t){return this.ref.add(t)}doc(t){return new X2(this.ref.doc(t),this.afs)}}class X2{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=tU(i,e);return new Q2(r,o,this.afs)}snapshotChanges(){return function H4(n,t){return Y2(n,t).pipe(Xn(void 0),iI(),(0,zt.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(es.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,zt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Vn.D)(this.ref.get(t)).pipe(es.iC)}}class z4{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?TA(this.query,this.afs.schedulers.outsideAngular).pipe((0,zt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),ti(e=>e.length>0),es.iC):TA(this.query,this.afs.schedulers.outsideAngular).pipe(es.iC)}auditTrail(t){return this.stateChanges(t).pipe(Ea((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=K2(t);return Z2(this.query,e,this.afs.schedulers.outsideAngular).pipe(es.iC)}valueChanges(t={}){return KP(this.query,this.afs.schedulers.outsideAngular).pipe((0,zt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),es.iC)}get(t){return(0,Vn.D)(this.query.get(t)).pipe(es.iC)}}const J2=new s.OlP("angularfire2.enableFirestorePersistence"),eU=new s.OlP("angularfire2.firestore.persistenceSettings"),$4=new s.OlP("angularfire2.firestore.settings"),W4=new s.OlP("angularfire2.firestore.use-emulator");function tU(n,t=(e=>e)){return{query:t(n),ref:n}}let nU=(()=>{class n{constructor(e,i,r,o,u,h,_,w,M,H,Ce,Me,Le,$e,st,It,Bt){this.schedulers=_;const Xt=(0,Bl.on)(e,h,i),jt=M;H&&gL(Xt,h,Ce,Le,$e,st,Me,It),[this.firestore,this.persistenceEnabled$]=(0,Bl.cc)(`${Xt.name}.firestore`,"AngularFirestore",Xt.name,()=>{const hn=h.runOutsideAngular(()=>Xt.firestore());if(o&&hn.settings(o),jt&&hn.useEmulator(...jt),r&&!rr(u)){const mn=()=>{try{return(0,Vn.D)(hn.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Nn){return typeof console<"u"&&console.warn(Nn),Nt(!1)}};return[hn,h.runOutsideAngular(mn)]}return[hn,Nt(!1)]},[o,jt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=tU(r,i),h=this.schedulers.ngZone.run(()=>o);return new Q2(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new z4(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new X2(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bl.Dh),s.LFG(Bl.xv,8),s.LFG(J2,8),s.LFG($4,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(es.HU),s.LFG(eU,8),s.LFG(W4,8),s.LFG(nI,8),s.LFG(cL,8),s.LFG(uL,8),s.LFG(dL,8),s.LFG(hL,8),s.LFG(fL,8),s.LFG(pL,8),s.LFG(eI,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),q4=(()=>{class n{constructor(){wz.Z.registerVersion("angularfire",es.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:J2,useValue:!0},{provide:eU,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[nU]}),n})(),XP=(()=>{class n{constructor(e,i){this.fireAuth=e,this.firestore=i,this.user$=this.fireAuth.authState.pipe(li(r=>r?this.firestore.doc(`users/${r.uid}`).valueChanges():Nt(null)))}emailSignIn(e,i){var r=this;return(0,ut.Z)(function*(){const o=yield r.fireAuth.signInWithEmailAndPassword(e,i);return r.updateUserData(o.user)})()}signOut(){var e=this;return(0,ut.Z)(function*(){yield e.fireAuth.signOut()})()}updateUserData(e){const i=this.firestore.doc(`users/${e.uid}`),r={uid:e.uid,...e.email&&{email:e.email},...e.displayName&&{displayName:e.displayName},...e.photoURL&&{photoURL:e.photoURL}};return i.set(r,{merge:!0})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(nI),s.LFG(nU))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Y4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"button",3),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.action())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.data.action)}}function Z4(n,t){}const iU=new s.OlP("MatSnackBarData");class xA{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const K4=Math.pow(2,31)-1;class JP{constructor(t,e){this._overlayRef=e,this._afterDismissed=new _t.x,this._afterOpened=new _t.x,this._onAction=new _t.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,K4))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let Q4=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(JP),s.Y36(iU))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0),s._uU(1),s.qZA(),s.YNc(2,Y4,3,1,"div",1)),2&e&&(s.xp6(1),s.Oqu(i.data.message),s.xp6(1),s.Q6J("ngIf",i.hasAction))},dependencies:[Zs,Rl],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const X4={snackBarState:Ua("state",[_s("void, hidden",Pn({transform:"scale(0.8)",opacity:0})),_s("visible",Pn({transform:"scale(1)",opacity:1})),Mr("* => visible",ki("150ms cubic-bezier(0, 0, 0.2, 1)")),Mr("* => void, * => hidden",ki("75ms cubic-bezier(0.4, 0.0, 1, 1)",Pn({opacity:0})))])};let J4=(()=>{class n extends Lm{constructor(e,i,r,o,u){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new _t.x,this._onExit=new _t.x,this._onEnter=new _t.x,this._animationState="void",this.attachDomPortal=h=>{this._assertNotAttached();const _=this._portalOutlet.attachDomPortal(h);return this._afterPortalAttached(),_},this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Qn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Ci),s.Y36(xA))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(za,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),eY=(()=>{class n extends J4{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&s.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&s.d8E("@state",i._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,Z4,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&e&&(s.xp6(2),s.uIk("aria-live",i._live)("role",i._role))},dependencies:[za],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[X4.snackBarState]}}),n})(),rU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Nc,qu,Xi,Nf,Bn,Bn]}),n})();const sU=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function tY(){return new xA}});let nY=(()=>{class n{constructor(e,i,r,o,u,h){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:xA,useValue:i}]}),u=new Lc(this.snackBarContainerComponent,i.viewContainerRef,o),h=e.attach(u);return h.instance.snackBarConfig=i,h.instance}_attach(e,i){const r={...new xA,...this._defaultConfig,...i},o=this._createOverlay(r),u=this._attachSnackBarContainer(o,r),h=new JP(u,o);if(e instanceof s.Rgc){const _=new Wu(e,null,{$implicit:r.data,snackBarRef:h});h.instance=u.attachTemplatePortal(_)}else{const _=this._createInjector(r,h),w=new Lc(e,void 0,_),M=u.attachComponentPortal(w);h.instance=M.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Kt(o.detachments())).subscribe(_=>{o.overlayElement.classList.toggle(this.handsetCssClass,_.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(h,r),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Yu;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,u="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,h=!u&&"center"!==e.horizontalPosition;return u?r.left("0"):h?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:JP,useValue:i},{provide:iU,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fo),s.LFG(XS),s.LFG(s.zs3),s.LFG(Tf),s.LFG(n,12),s.LFG(sU))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),iY=(()=>{class n extends nY{constructor(e,i,r,o,u,h){super(e,i,r,o,u,h),this.simpleSnackBarComponent=Q4,this.snackBarContainerComponent=eY,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fo),s.LFG(XS),s.LFG(s.zs3),s.LFG(Tf),s.LFG(n,12),s.LFG(sU))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:rU}),n})();const rY=["matErrorMessaging",""];let sY=(()=>{class n{constructor(e,i){this.injector=e,this.cdr=i,this.overrideMap={},this.name="",this.updateErrors=r=>{if("INVALID"===r){const o=this.input.ngControl?.errors||{},u=Object.keys(o)[0];this.error=this.errorMap[u]?this.errorMap[u](this.name):o[u],this.cdr.detectChanges()}}}ngAfterViewInit(){this.errorMap={required:r=>`${r} is required`,minlength:r=>`${r} should be longer`,maxlength:r=>`${r} should be shorter`,pattern:r=>`Invalid ${r} format`,min:r=>`${r} is too low`,max:r=>`${r} is too high`,matDatePickerMax:r=>`${r} cannot be in the future`,incorrectDescription:r=>`The ${r} doesn't match the content`,email:r=>`Invalid ${r} format`,...this.overrideMap};const e=this.injector.get(cm);this.input=e._control,this.name=this.input.ngControl.name.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),this.input.ngControl?.statusChanges?.pipe(Xn(this.input.ngControl.status)).subscribe(this.updateErrors)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.zs3),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","matErrorMessaging",""]],inputs:{overrideMap:"overrideMap"},attrs:rY,decls:1,vars:1,template:function(e,i){1&e&&s._uU(0),2&e&&s.Oqu(i.error)},encapsulation:2}),n})(),oU=(()=>{class n{constructor(e){this.matformfield=e,this.updateCompact=()=>{this.input.touched&&null!=this.input.errors?this.element.nativeElement.classList.remove("compact"):this.element.nativeElement.classList.add("compact")}}ngOnInit(){this.element=this.matformfield._elementRef,this.element.nativeElement.classList.add("compactable"),this.element.nativeElement.classList.add("compact")}ngAfterViewInit(){this.input=this.matformfield._control.ngControl,this.element.nativeElement.querySelector("input").addEventListener("blur",this.updateCompact),this.input.statusChanges?.subscribe(this.updateCompact)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(cm))},n.\u0275dir=s.lG2({type:n,selectors:[["","compact",""]]}),n})(),oY=(()=>{class n{constructor(e,i,r,o){this.dialogRef=e,this.fb=i,this.authService=r,this.snackBar=o,this.show=!1,this.loading=!1}ngOnInit(){this.loginGroup=this.fb.group({email:[null,[Qd.required,Qd.email]],password:[null,Qd.required]})}get passwordType(){return this.show?"text":"password"}get visibilityIcon(){return this.show?"visibility":"visibility_off"}login(){if(this.loginGroup.markAllAsTouched(),this.loginGroup.updateValueAndValidity(),this.loginGroup.valid){const{email:e,password:i}=this.loginGroup.value;this.loading=!0,this.authService.emailSignIn(e,i).then(()=>{this.loading=!1,this.dialogRef.close()}).catch(r=>{console.log(r),this.loading=!1,this.snackBar.open("Unable to login","Dismiss")})}else this.snackBar.open("Invalid login form","Dismiss")}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(PD),s.Y36(Lv),s.Y36(XP),s.Y36(iY))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:26,vars:5,consts:[["mat-card-avatar",""],["color","primary"],[1,"mat-display-1"],[3,"formGroup"],["appearance","outline","compact",""],["matInput","","type","email","formControlName","email"],["matErrorMessaging",""],["matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card")(1,"mat-card-header")(2,"div",0)(3,"mat-icon",1),s._uU(4,"person"),s.qZA()(),s.TgZ(5,"mat-card-title",2),s._uU(6,"Login"),s.qZA()(),s.TgZ(7,"mat-card-content")(8,"form",3)(9,"mat-form-field",4)(10,"mat-label"),s._uU(11,"Email"),s.qZA(),s._UZ(12,"input",5)(13,"mat-error",6),s.qZA(),s.TgZ(14,"mat-form-field",4)(15,"mat-label"),s._uU(16,"Password"),s.qZA(),s._UZ(17,"input",7),s.TgZ(18,"mat-icon",8),s.NdJ("click",function(){return i.show=!i.show}),s._uU(19),s.qZA(),s._UZ(20,"mat-error",6),s.qZA()()(),s.TgZ(21,"mat-card-actions",9)(22,"button",10),s._uU(23,"Cancel"),s.qZA(),s.TgZ(24,"button",11),s.NdJ("click",function(){return i.login()}),s._uU(25,"Login"),s.qZA()()()),2&e&&(s.xp6(8),s.Q6J("formGroup",i.loginGroup),s.xp6(9),s.Q6J("type",i.passwordType),s.xp6(2),s.Oqu(i.visibilityIcon),s.xp6(5),s.ekj("spinner",i.loading))},dependencies:[Rl,Vf,zw,nm,Hw,Yy,Gw,Kv,Xy,cm,lm,BT,SM,Pm,VC,Ha,Xd,DC,Tm,Tv,sY,oU],styles:["mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .mat-card-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#0c267826}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{margin-bottom:0}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#0009}"]}),n})(),aY=(()=>{class n{constructor(e,i){this.authService=e,this.dialog=i}openLogin(){this.dialog.open(oY,{width:"340px",panelClass:"login-dialog",autoFocus:!1})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(XP),s.Y36(jm))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:11,vars:0,consts:[["spacer",""],["mat-button","","routerLink","/modal","routerLinkActive","active"],["mat-button","","routerLink","/form","routerLinkActive","active"],["mat-button","","routerLink","/tabs","routerLinkActive","active"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-toolbar")(1,"span"),s._uU(2,"File Attachment"),s.qZA(),s._UZ(3,"span",0),s.TgZ(4,"button",1),s._uU(5,"Modal"),s.qZA(),s.TgZ(6,"button",2),s._uU(7,"Form"),s.qZA(),s.TgZ(8,"button",3),s._uU(9,"Tabs"),s.qZA()(),s._UZ(10,"router-outlet"))},dependencies:[vc,Ig,z0,Rl,xF,xM],styles:[".active[_ngcontent-%COMP%]{color:#0c2678}"]}),n})();function aU(n){return new s.vHH(3e3,!1)}function jY(){return typeof window<"u"&&typeof window.document<"u"}function eR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Sh(n){switch(n.length){case 0:return new Xr;case 1:return n[0];default:return new ho(n)}}function lU(n,t,e,i,r=new Map,o=new Map){const u=[],h=[];let _=-1,w=null;if(i.forEach(M=>{const H=M.get("offset"),Ce=H==_,Me=Ce&&w||new Map;M.forEach((Le,$e)=>{let st=$e,It=Le;if("offset"!==$e)switch(st=t.normalizePropertyName(st,u),It){case"!":It=r.get($e);break;case Ba:It=o.get($e);break;default:It=t.normalizeStyleValue($e,st,It,u)}Me.set(st,It)}),Ce||h.push(Me),w=Me,_=H}),u.length)throw function IY(n){return new s.vHH(3502,!1)}();return h}function tR(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&nR(e,"start",n)));break;case"done":n.onDone(()=>i(e&&nR(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&nR(e,"destroy",n)))}}function nR(n,t,e){const o=iR(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function iR(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function ia(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function cU(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let rR=(n,t)=>!1,uU=(n,t,e)=>[],dU=null;function sR(n){const t=n.parentNode||n.host;return t===dU?null:t}(eR()||typeof Element<"u")&&(jY()?(dU=(()=>document.documentElement)(),rR=(n,t)=>{for(;t;){if(t===n)return!0;t=sR(t)}return!1}):rR=(n,t)=>n.contains(t),uU=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let zp=null,hU=!1;const fU=rR,pU=uU;let gU=(()=>{class n{validateStyleProperty(e){return function zY(n){zp||(zp=function $Y(){return typeof document<"u"?document.body:null}()||{},hU=!!zp.style&&"WebkitAppearance"in zp.style);let t=!0;return zp.style&&!function GY(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in zp.style,!t&&hU&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in zp.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return fU(e,i)}getParentElement(e){return sR(e)}query(e,i,r){return pU(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],_){return new Xr(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),oR=(()=>{class n{}return n.NOOP=new gU,n})();const aR="ng-enter",MA="ng-leave",IA="ng-trigger",kA=".ng-trigger",_U="ng-animating",lR=".ng-animating";function Th(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:cR(parseFloat(t[1]),t[2])}function cR(n,t){return"s"===t?1e3*n:n}function PA(n,t,e){return n.hasOwnProperty("duration")?n:function YY(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(aU()),{duration:0,delay:0,easing:""};r=cR(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(o=cR(parseFloat(_),h[4]));const w=h[5];w&&(u=w)}else r=n;if(!e){let h=!1,_=t.length;r<0&&(t.push(function lY(){return new s.vHH(3100,!1)}()),h=!0),o<0&&(t.push(function cY(){return new s.vHH(3101,!1)}()),h=!0),h&&t.splice(_,0,aU())}return{duration:r,delay:o,easing:u}}(n,t,e)}function E0(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function yU(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function xh(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function bU(n,t,e){return e?t+":"+e+";":""}function wU(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=bU(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=bU(0,XY(e),n.style[e]));n.setAttribute("style",t)}function qc(n,t,e){n.style&&(t.forEach((i,r)=>{const o=dR(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),eR()&&wU(n))}function $p(n,t){n.style&&(t.forEach((e,i)=>{const r=dR(i);n.style[r]=""}),eR()&&wU(n))}function A0(n){return Array.isArray(n)?1==n.length?n[0]:Zw(n):n}const uR=new RegExp("{{\\s*(.+?)\\s*}}","g");function CU(n){let t=[];if("string"==typeof n){let e;for(;e=uR.exec(n);)t.push(e[1]);uR.lastIndex=0}return t}function RA(n,t,e){const i=n.toString(),r=i.replace(uR,(o,u)=>{let h=t[u];return null==h&&(e.push(function dY(n){return new s.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function OA(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const QY=/-+([a-z0-9])/g;function dR(n){return n.replace(QY,(...t)=>t[1].toUpperCase())}function XY(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ra(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function hY(n){return new s.vHH(3004,!1)}()}}function DU(n,t){return window.getComputedStyle(n)[t]}function s5(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function o5(n,t,e){if(":"==n[0]){const _=function a5(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function SY(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function AY(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],u=i[3];t.push(EU(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(EU(u,r))}(i,e,t)):e.push(n),e}const VA=new Set(["true","1"]),BA=new Set(["false","0"]);function EU(n,t){const e=VA.has(n)||BA.has(n),i=VA.has(t)||BA.has(t);return(r,o)=>{let u="*"==n||n==r,h="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?VA.has(n):BA.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?VA.has(t):BA.has(t)),u&&h}}const l5=new RegExp("s*:selfs*,?","g");function hR(n,t,e,i){return new c5(n).build(t,e,i)}class c5{constructor(t){this._driver=t}build(t,e,i){const r=new h5(e);return this._resetContextStyleTimingState(r),ra(this,A0(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function pY(){return new s.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const _=h,w=_.name;w.toString().split(/\s*,\s*/).forEach(M=>{_.name=M,o.push(this.visitState(_,e))}),_.name=w}else if(1==h.type){const _=this.visitTransition(h,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push(function gY(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(_=>{CU(_).forEach(w=>{u.hasOwnProperty(w)||o.add(w)})})}),o.size&&(OA(o.values()),e.errors.push(function mY(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=ra(this,A0(t.animation),e);return{type:1,matchers:s5(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Wp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>ra(this,i,e)),options:Wp(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=ra(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:Wp(t.options)}}visitAnimate(t,e){const i=function p5(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return fR(PA(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=fR(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=PA(e,t);return fR(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:Pn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const w={};i.easing&&(w.easing=i.easing),u=Pn(w)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=h,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===Ba?i.push(h):e.errors.push(new s.vHH(3002,!1)):i.push(yU(h));let o=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let _ of h.values())if(_.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,_)=>{const w=e.collectedStyles.get(e.currentQuerySelector),M=w.get(_);let H=!0;M&&(o!=r&&o>=M.startTime&&r<=M.endTime&&(e.errors.push(function yY(n,t,e,i,r){return new s.vHH(3010,!1)}()),H=!1),o=M.startTime),H&&w.set(_,{startTime:o,endTime:r}),e.options&&function KY(n,t,e){const i=t.params||{},r=CU(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function uY(n){return new s.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function vY(){return new s.vHH(3011,!1)}()),i;let o=0;const u=[];let h=!1,_=!1,w=0;const M=t.steps.map(It=>{const Bt=this._makeStyleAst(It,e);let Xt=null!=Bt.offset?Bt.offset:function f5(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Bt.styles),jt=0;return null!=Xt&&(o++,jt=Bt.offset=Xt),_=_||jt<0||jt>1,h=h||jt<w,w=jt,u.push(jt),Bt});_&&e.errors.push(function bY(){return new s.vHH(3012,!1)}()),h&&e.errors.push(function wY(){return new s.vHH(3200,!1)}());const H=t.steps.length;let Ce=0;o>0&&o<H?e.errors.push(function CY(){return new s.vHH(3202,!1)}()):0==o&&(Ce=1/(H-1));const Me=H-1,Le=e.currentTime,$e=e.currentAnimateTimings,st=$e.duration;return M.forEach((It,Bt)=>{const Xt=Ce>0?Bt==Me?1:Ce*Bt:u[Bt],jt=Xt*st;e.currentTime=Le+$e.delay+jt,$e.duration=jt,this._validateStyleAst(It,e),It.offset=Xt,i.styles.push(It)}),i}visitReference(t,e){return{type:8,animation:ra(this,A0(t.animation),e),options:Wp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Wp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Wp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function u5(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(l5,"")),n=n.replace(/@\*/g,kA).replace(/@\w+/g,e=>kA+"-"+e.slice(1)).replace(/:animating/g,lR),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,ia(e.collectedStyles,e.currentQuerySelector,new Map);const h=ra(this,A0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Wp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function DY(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:PA(t.timings,e.errors,!0);return{type:12,animation:ra(this,A0(t.animation),e),timings:i,options:null}}}class h5{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Wp(n){return n?(n=E0(n)).params&&(n.params=function d5(n){return n?E0(n):null}(n.params)):n={},n}function fR(n,t,e){return{duration:n,delay:t,easing:e}}function pR(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class UA{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const _5=new RegExp(":enter","g"),v5=new RegExp(":leave","g");function gR(n,t,e,i,r,o=new Map,u=new Map,h,_,w=[]){return(new b5).buildKeyframes(n,t,e,i,r,o,u,h,_,w)}class b5{buildKeyframes(t,e,i,r,o,u,h,_,w,M=[]){w=w||new UA;const H=new mR(t,e,w,r,o,M,[]);H.options=_;const Ce=_.delay?Th(_.delay):0;H.currentTimeline.delayNextStep(Ce),H.currentTimeline.setStyles([u],null,H.errors,_),ra(this,i,H);const Me=H.timelines.filter(Le=>Le.containsAnimation());if(Me.length&&h.size){let Le;for(let $e=Me.length-1;$e>=0;$e--){const st=Me[$e];if(st.element===e){Le=st;break}}Le&&!Le.allowOnlyTimelineStyles()&&Le.setStyles([h],null,H.errors,_)}return Me.length?Me.map(Le=>Le.buildKeyframes()):[pR(e,[],[],[],0,Ce,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?Th(i.duration):null,h=null!=i.delay?Th(i.delay):null;return 0!==u&&t.forEach(_=>{const w=e.appendInstructionToTimeline(_,u,h);o=Math.max(o,w.duration+w.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),ra(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=HA);const u=Th(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>ra(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Th(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),ra(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return PA(e.params?RA(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(_=>{h.forwardTime((_.offset||0)*o),h.setStyles(_.styles,_.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Th(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=HA);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let _=null;h.forEach((w,M)=>{e.currentQueryIndex=M;const H=e.createSubContext(t.options,w);o&&H.delayNextStep(o),w===e.element&&(_=H.currentTimeline),ra(this,t.animation,H),H.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,H.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":_=h-_;break;case"full":_=i.currentStaggerTime}const M=e.currentTimeline;_&&M.delayNextStep(_);const H=M.currentTime;ra(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-H+(r.startTime-i.currentTimeline.startTime)}}const HA={};class mR{constructor(t,e,i,r,o,u,h,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=HA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new jA(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Th(i.duration)),null!=i.delay&&(r.delay=Th(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=RA(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new mR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=HA,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new w5(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(_5,"."+this._enterClassName)).replace(v5,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),h.push(...w)}return!o&&0==h.length&&u.push(function EY(n){return new s.vHH(3014,!1)}()),h}}class jA{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new jA(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Ba),this._currentKeyframe.set(e,Ba);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},u=function C5(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Ba)}else xh(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,_]of u){const w=RA(_,o,i);this._pendingStyles.set(h,w),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Ba),this._updateStyle(h,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,_)=>{const w=xh(h,new Map,this._backFill);w.forEach((M,H)=>{"!"===M?t.add(H):M===Ba&&e.add(H)}),i||w.set("offset",_/this.duration),r.push(w)});const o=t.size?OA(t.values()):[],u=e.size?OA(e.values()):[];if(i){const h=r[0],_=new Map(h);h.set("offset",0),_.set("offset",1),r=[h,_]}return pR(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class w5 extends jA{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,_=xh(t[0]);_.set("offset",0),o.push(_);const w=xh(t[0]);w.set("offset",TU(h)),o.push(w);const M=t.length-1;for(let H=1;H<=M;H++){let Ce=xh(t[H]);const Me=Ce.get("offset");Ce.set("offset",TU((e+Me*i)/u)),o.push(Ce)}i=u,e=0,r="",t=o}return pR(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function TU(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class _R{}const D5=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class E5 extends _R{normalizePropertyName(t,e){return dR(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(D5.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function fY(n,t){return new s.vHH(3005,!1)}())}return u+o}}function xU(n,t,e,i,r,o,u,h,_,w,M,H,Ce){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:_,preStyleProps:w,postStyleProps:M,totalTime:H,errors:Ce}}const yR={};class MU{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function A5(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,u,h,_,w,M){const H=[],Ce=this.ast.options&&this.ast.options.params||yR,Le=this.buildStyles(i,h&&h.params||yR,H),$e=_&&_.params||yR,st=this.buildStyles(r,$e,H),It=new Set,Bt=new Map,Xt=new Map,jt="void"===r,hn={params:S5($e,Ce),delay:this.ast.options?.delay},mn=M?[]:gR(t,e,this.ast.animation,o,u,Le,st,hn,w,H);let Nn=0;if(mn.forEach(od=>{Nn=Math.max(od.duration+od.delay,Nn)}),H.length)return xU(e,this._triggerName,i,r,jt,Le,st,[],[],Bt,Xt,Nn,H);mn.forEach(od=>{const ad=od.element,WU=ia(Bt,ad,new Set);od.preStyleProps.forEach(qp=>WU.add(qp));const T0=ia(Xt,ad,new Set);od.postStyleProps.forEach(qp=>T0.add(qp)),ad!==e&&It.add(ad)});const qs=OA(It.values());return xU(e,this._triggerName,i,r,jt,Le,st,mn,qs,Bt,Xt,Nn)}}function S5(n,t){const e=E0(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class T5{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=E0(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=RA(u,r,e));const _=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,_,u,e),i.set(_,u)})}),i}}class M5{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new T5(r.style,r.options&&r.options.params||{},i))}),IU(this.states,"true","1"),IU(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new MU(t,r,this.states))}),this.fallbackTransition=function I5(n,t,e){return new MU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function IU(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const k5=new UA;class P5{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=hR(this._driver,e,i,[]);if(i.length)throw function kY(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=lU(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let u;const h=new Map;if(o?(u=gR(this._driver,e,o,aR,MA,new Map,new Map,i,k5,r),u.forEach(M=>{const H=ia(h,M.element,new Map);M.postStyleProps.forEach(Ce=>H.set(Ce,null))})):(r.push(function PY(){return new s.vHH(3300,!1)}()),u=[]),r.length)throw function RY(n){return new s.vHH(3504,!1)}();h.forEach((M,H)=>{M.forEach((Ce,Me)=>{M.set(Me,this._driver.computeStyle(H,Me,Ba))})});const w=Sh(u.map(M=>{const H=h.get(M.element);return this._buildPlayer(M,new Map,H)}));return this._playersById.set(t,w),w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function OY(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=iR(e,"","","");return tR(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const kU="ng-animate-queued",vR="ng-animate-disabled",N5=[],PU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},V5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ya="__ng_removed";class bR{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function j5(n){return n??null}(i?t.value:t),i){const o=E0(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const S0="void",wR=new bR(S0);class B5{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Za(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function FY(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function LY(n){return new s.vHH(3303,!1)}();if(!function G5(n){return"start"==n||"done"==n}(i))throw function NY(n,t){return new s.vHH(3400,!1)}();const o=ia(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=ia(this._engine.statesByElement,t,new Map);return h.has(e)||(Za(t,IA),Za(t,IA+"-"+e),h.set(e,wR)),()=>{this._engine.afterFlush(()=>{const _=o.indexOf(u);_>=0&&o.splice(_,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function VY(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new CR(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Za(t,IA),Za(t,IA+"-"+e),this._engine.statesByElement.set(t,h=new Map));let _=h.get(e);const w=new bR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),h.set(e,w),_||(_=wR),w.value!==S0&&_.value===w.value){if(!function W5(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(_.params,w.params)){const $e=[],st=o.matchStyles(_.value,_.params,$e),It=o.matchStyles(w.value,w.params,$e);$e.length?this._engine.reportError($e):this._engine.afterFlush(()=>{$p(t,st),qc(t,It)})}return}const Ce=ia(this._engine.playersByElement,t,[]);Ce.forEach($e=>{$e.namespaceId==this.id&&$e.triggerName==e&&$e.queued&&$e.destroy()});let Me=o.matchTransition(_.value,w.value,t,w.params),Le=!1;if(!Me){if(!r)return;Me=o.fallbackTransition,Le=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Me,fromState:_,toState:w,player:u,isFallbackTransition:Le}),Le||(Za(t,kU),u.onStart(()=>{T_(t,kU)})),u.onDone(()=>{let $e=this.players.indexOf(u);$e>=0&&this.players.splice($e,1);const st=this._engine.playersByElement.get(t);if(st){let It=st.indexOf(u);It>=0&&st.splice(It,1)}}),this.players.push(u),Ce.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,kA,!0);i.forEach(r=>{if(r[Ya])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(o.forEach((_,w)=>{if(u.set(w,_.value),this._triggers.has(w)){const M=this.trigger(t,w,S0,r);M&&h.push(M)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Sh(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,w=i.get(u)||wR,M=new bR(S0),H=new CR(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:w,toState:M,player:H,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Ya];(!o||o===PU)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Za(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const _=iR(o,i.triggerName,i.fromState.value,i.toState.value);_._data=t,tR(i.player,h.phase,_,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class U5{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new B5(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const _=r.get(h);if(_){const w=i.indexOf(_);i.splice(w+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(GA(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!GA(e))return;const o=e[Ya];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Za(t,vR)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),T_(t,vR))}removeNode(t,e,i,r){if(GA(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Ya]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return GA(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,kA,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,lR,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Sh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ya];if(e&&e.setForRemoval){if(t[Ya]=PU,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(vR)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Za(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Sh(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function BY(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new UA,r=[],o=new Map,u=[],h=new Map,_=new Map,w=new Map,M=new Set;this.disabledNodes.forEach(Jt=>{M.add(Jt);const un=this.driver.query(Jt,".ng-animate-queued",!0);for(let _n=0;_n<un.length;_n++)M.add(un[_n])});const H=this.bodyNode,Ce=Array.from(this.statesByElement.keys()),Me=FU(Ce,this.collectedEnterElements),Le=new Map;let $e=0;Me.forEach((Jt,un)=>{const _n=aR+$e++;Le.set(un,_n),Jt.forEach($n=>Za($n,_n))});const st=[],It=new Set,Bt=new Set;for(let Jt=0;Jt<this.collectedLeaveElements.length;Jt++){const un=this.collectedLeaveElements[Jt],_n=un[Ya];_n&&_n.setForRemoval&&(st.push(un),It.add(un),_n.hasAnimation?this.driver.query(un,".ng-star-inserted",!0).forEach($n=>It.add($n)):Bt.add(un))}const Xt=new Map,jt=FU(Ce,Array.from(It));jt.forEach((Jt,un)=>{const _n=MA+$e++;Xt.set(un,_n),Jt.forEach($n=>Za($n,_n))}),t.push(()=>{Me.forEach((Jt,un)=>{const _n=Le.get(un);Jt.forEach($n=>T_($n,_n))}),jt.forEach((Jt,un)=>{const _n=Xt.get(un);Jt.forEach($n=>T_($n,_n))}),st.forEach(Jt=>{this.processLeaveNode(Jt)})});const hn=[],mn=[];for(let Jt=this._namespaceList.length-1;Jt>=0;Jt--)this._namespaceList[Jt].drainQueuedTransitions(e).forEach(_n=>{const $n=_n.player,Br=_n.element;if(hn.push($n),this.collectedEnterElements.length){const bs=Br[Ya];if(bs&&bs.setForMove){if(bs.previousTriggersValues&&bs.previousTriggersValues.has(_n.triggerName)){const Yp=bs.previousTriggersValues.get(_n.triggerName),Ka=this.statesByElement.get(_n.element);if(Ka&&Ka.has(_n.triggerName)){const WA=Ka.get(_n.triggerName);WA.value=Yp,Ka.set(_n.triggerName,WA)}}return void $n.destroy()}}const Yc=!H||!this.driver.containsElement(H,Br),sa=Xt.get(Br),Mh=Le.get(Br),Vi=this._buildInstruction(_n,i,Mh,sa,Yc);if(Vi.errors&&Vi.errors.length)return void mn.push(Vi);if(Yc)return $n.onStart(()=>$p(Br,Vi.fromStyles)),$n.onDestroy(()=>qc(Br,Vi.toStyles)),void r.push($n);if(_n.isFallbackTransition)return $n.onStart(()=>$p(Br,Vi.fromStyles)),$n.onDestroy(()=>qc(Br,Vi.toStyles)),void r.push($n);const ZU=[];Vi.timelines.forEach(bs=>{bs.stretchStartingKeyframe=!0,this.disabledNodes.has(bs.element)||ZU.push(bs)}),Vi.timelines=ZU,i.append(Br,Vi.timelines),u.push({instruction:Vi,player:$n,element:Br}),Vi.queriedElements.forEach(bs=>ia(h,bs,[]).push($n)),Vi.preStyleProps.forEach((bs,Yp)=>{if(bs.size){let Ka=_.get(Yp);Ka||_.set(Yp,Ka=new Set),bs.forEach((WA,AR)=>Ka.add(AR))}}),Vi.postStyleProps.forEach((bs,Yp)=>{let Ka=w.get(Yp);Ka||w.set(Yp,Ka=new Set),bs.forEach((WA,AR)=>Ka.add(AR))})});if(mn.length){const Jt=[];mn.forEach(un=>{Jt.push(function UY(n,t){return new s.vHH(3505,!1)}())}),hn.forEach(un=>un.destroy()),this.reportError(Jt)}const Nn=new Map,qs=new Map;u.forEach(Jt=>{const un=Jt.element;i.has(un)&&(qs.set(un,un),this._beforeAnimationBuild(Jt.player.namespaceId,Jt.instruction,Nn))}),r.forEach(Jt=>{const un=Jt.element;this._getPreviousPlayers(un,!1,Jt.namespaceId,Jt.triggerName,null).forEach($n=>{ia(Nn,un,[]).push($n),$n.destroy()})});const od=st.filter(Jt=>NU(Jt,_,w)),ad=new Map;OU(ad,this.driver,Bt,w,Ba).forEach(Jt=>{NU(Jt,_,w)&&od.push(Jt)});const T0=new Map;Me.forEach((Jt,un)=>{OU(T0,this.driver,new Set(Jt),_,"!")}),od.forEach(Jt=>{const un=ad.get(Jt),_n=T0.get(Jt);ad.set(Jt,new Map([...Array.from(un?.entries()??[]),...Array.from(_n?.entries()??[])]))});const qp=[],qU=[],YU={};u.forEach(Jt=>{const{element:un,player:_n,instruction:$n}=Jt;if(i.has(un)){if(M.has(un))return _n.onDestroy(()=>qc(un,$n.toStyles)),_n.disabled=!0,_n.overrideTotalTime($n.totalTime),void r.push(_n);let Br=YU;if(qs.size>1){let sa=un;const Mh=[];for(;sa=sa.parentNode;){const Vi=qs.get(sa);if(Vi){Br=Vi;break}Mh.push(sa)}Mh.forEach(Vi=>qs.set(Vi,Br))}const Yc=this._buildAnimation(_n.namespaceId,$n,Nn,o,T0,ad);if(_n.setRealPlayer(Yc),Br===YU)qp.push(_n);else{const sa=this.playersByElement.get(Br);sa&&sa.length&&(_n.parentPlayer=Sh(sa)),r.push(_n)}}else $p(un,$n.fromStyles),_n.onDestroy(()=>qc(un,$n.toStyles)),qU.push(_n),M.has(un)&&r.push(_n)}),qU.forEach(Jt=>{const un=o.get(Jt.element);if(un&&un.length){const _n=Sh(un);Jt.setRealPlayer(_n)}}),r.forEach(Jt=>{Jt.parentPlayer?Jt.syncPlayerEvents(Jt.parentPlayer):Jt.destroy()});for(let Jt=0;Jt<st.length;Jt++){const un=st[Jt],_n=un[Ya];if(T_(un,MA),_n&&_n.hasAnimation)continue;let $n=[];if(h.size){let Yc=h.get(un);Yc&&Yc.length&&$n.push(...Yc);let sa=this.driver.query(un,lR,!0);for(let Mh=0;Mh<sa.length;Mh++){let Vi=h.get(sa[Mh]);Vi&&Vi.length&&$n.push(...Vi)}}const Br=$n.filter(Yc=>!Yc.destroyed);Br.length?z5(this,un,Br):this.processLeaveNode(un)}return st.length=0,qp.forEach(Jt=>{this.players.push(Jt),Jt.onDone(()=>{Jt.destroy();const un=this.players.indexOf(Jt);this.players.splice(un,1)}),Jt.play()}),qp}elementContainsData(t,e){let i=!1;const r=e[Ya];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const _=!o||o==S0;h.forEach(w=>{w.queued||!_&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const w=_.element,M=w!==o,H=ia(i,w,[]);this._getPreviousPlayers(w,M,u,h,e.toState).forEach(Me=>{const Le=Me.getRealPlayer();Le.beforeDestroy&&Le.beforeDestroy(),Me.destroy(),H.push(Me)})}$p(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,_=e.element,w=[],M=new Set,H=new Set,Ce=e.timelines.map(Le=>{const $e=Le.element;M.add($e);const st=$e[Ya];if(st&&st.removedBeforeQueried)return new Xr(Le.duration,Le.delay);const It=$e!==_,Bt=function $5(n){const t=[];return LU(n,t),t}((i.get($e)||N5).map(Nn=>Nn.getRealPlayer())).filter(Nn=>!!Nn.element&&Nn.element===$e),Xt=o.get($e),jt=u.get($e),hn=lU(0,this._normalizer,0,Le.keyframes,Xt,jt),mn=this._buildPlayer(Le,hn,Bt);if(Le.subTimeline&&r&&H.add($e),It){const Nn=new CR(t,h,$e);Nn.setRealPlayer(mn),w.push(Nn)}return mn});w.forEach(Le=>{ia(this.playersByQueriedElement,Le.element,[]).push(Le),Le.onDone(()=>function H5(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,Le.element,Le))}),M.forEach(Le=>Za(Le,_U));const Me=Sh(Ce);return Me.onDestroy(()=>{M.forEach(Le=>T_(Le,_U)),qc(_,e.toStyles)}),H.forEach(Le=>{ia(r,Le,[]).push(Me)}),Me}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Xr(t.duration,t.delay)}}class CR{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Xr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>tR(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){ia(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function GA(n){return n&&1===n.nodeType}function RU(n,t){const e=n.style.display;return n.style.display=t??"none",e}function OU(n,t,e,i,r){const o=[];e.forEach(_=>o.push(RU(_)));const u=[];i.forEach((_,w)=>{const M=new Map;_.forEach(H=>{const Ce=t.computeStyle(w,H,r);M.set(H,Ce),(!Ce||0==Ce.length)&&(w[Ya]=V5,u.push(w))}),n.set(w,M)});let h=0;return e.forEach(_=>RU(_,o[h++])),u}function FU(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(h){if(!h)return 1;let _=o.get(h);if(_)return _;const w=h.parentNode;return _=e.has(w)?w:r.has(w)?1:u(w),o.set(h,_),_}return t.forEach(h=>{const _=u(h);1!==_&&e.get(_).push(h)}),e}function Za(n,t){n.classList?.add(t)}function T_(n,t){n.classList?.remove(t)}function z5(n,t,e){Sh(e).onDone(()=>n.processLeaveNode(t))}function LU(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof ho?LU(i.players,t):t.push(i)}}function NU(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class zA{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new U5(t,e,i),this._timelineEngine=new P5(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const _=[],M=hR(this._driver,o,_,[]);if(_.length)throw function MY(n,t){return new s.vHH(3404,!1)}();h=function x5(n,t,e){return new M5(n,t,e)}(r,M,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=cU(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=cU(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Y5=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&qc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(qc(this._element,this._initialStyles),this._endStyles&&(qc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&($p(this._element,this._startStyles),this._endStyles=null),this._endStyles&&($p(this._element,this._endStyles),this._endStyles=null),qc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function DR(n){let t=null;return n.forEach((e,i)=>{(function Z5(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class VU{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:DU(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class K5{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return fU(t,e)}getParentElement(t){return sR(t)}query(t,e,i){return pU(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(_.easing=o);const w=new Map,M=u.filter(Me=>Me instanceof VU);(function JY(n,t){return 0===n||0===t})(i,r)&&M.forEach(Me=>{Me.currentSnapshot.forEach((Le,$e)=>w.set($e,Le))});let H=function ZY(n){return n.length?n[0]instanceof Map?n:n.map(t=>yU(t)):[]}(e).map(Me=>xh(Me));H=function e5(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<t.length;o++){let u=t[o];r.forEach(h=>u.set(h,DU(n,h)))}}return t}(t,H,w);const Ce=function q5(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=DR(t[0]),t.length>1&&(i=DR(t[t.length-1]))):t instanceof Map&&(e=DR(t)),e||i?new Y5(n,e,i):null}(t,H);return new VU(t,H,_,Ce)}}let Q5=(()=>{class n extends Zy{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Zw(e):e;return BU(this._renderer,null,i,"register",[r]),new X5(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class X5 extends class AT{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new J5(this._id,t,e||{},this._renderer)}}class J5{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return BU(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function BU(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const UU="@.disabled";let e8=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let M=this._rendererCache.get(o);return M||(M=new HU("",o,this.engine),this._rendererCache.set(o,M)),M}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const _=M=>{Array.isArray(M)?M.forEach(_):this.engine.registerTrigger(u,h,e,M.name,M)};return i.data.animation.forEach(_),new t8(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(zA),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class HU{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==UU?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class t8 extends HU{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==UU?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function n8(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function i8(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let r8=(()=>{class n extends zA{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(oR),s.LFG(_R),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const jU=[{provide:Zy,useClass:Q5},{provide:_R,useFactory:function s8(){return new E5}},{provide:zA,useClass:r8},{provide:s.FYo,useFactory:function o8(n,t,e){return new e8(n,t,e)},deps:[ol,zA,s.R0b]}],ER=[{provide:oR,useFactory:()=>new K5},{provide:s.QbO,useValue:"BrowserAnimations"},...jU],GU=[{provide:oR,useClass:gU},{provide:s.QbO,useValue:"NoopAnimations"},...jU];let a8=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?GU:ER}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:ER,imports:[xs]}),n})(),zU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Nf,$w,QH,Gm,H1,P3,ev,uj,wx,Tj,jj,Of,rU,CG,N3,e3]}),n})(),l8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[XP,oU],imports:[Xi,zU,wM,Im,Jf,yM]}),n})();const $U_firebase={apiKey:"AIzaSyBsy03qoAlCIgVWTIAgFpETXrCcIdNwK-4",authDomain:"file-attachment-57ac0.firebaseapp.com",projectId:"file-attachment-57ac0",storageBucket:"file-attachment-57ac0.appspot.com",messagingSenderId:"4632517516",appId:"1:4632517516:web:ec900dad10a07a55a614a9"};let c8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[aY]}),n.\u0275inj=s.cJS({imports:[xs,EG,a8,zU,wM,Bl.hO.initializeApp($U_firebase),q4,l8]}),n})();(0,s.G48)(),lu().bootstrapModule(c8).catch(n=>console.error(n))},5867:(Ie,x,R)=>{"use strict";R.d(x,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=R(9681);(0,s.registerVersion)("firebase","9.9.2","app")},127:(Ie,x,R)=>{"use strict";R.d(x,{Z:()=>s.Z});var s=R(3942);s.Z.registerVersion("firebase","9.9.2","app-compat")},1451:(Ie,x,R)=>{"use strict";R.r(x);var s=R(5861),te=R(3942),O=R(2090),pe=R(9681),ie=R(655),re=R(1877),B=R(4859);const q=function $(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},fe=function ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},z=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),E=new re.Yd("@firebase/auth");function A(y,...p){E.logLevel<=re.in.ERROR&&E.error(`Auth (${pe.SDK_VERSION}): ${y}`,...p)}function F(y,...p){throw j(y,...p)}function X(y,...p){return j(y,...p)}function N(y,p,m){const C=Object.assign(Object.assign({},fe()),{[p]:m});return new O.LL("auth","Firebase",C).create(p,{appName:y.name})}function J(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&F(y,"argument-error"),N(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function j(y,...p){if("string"!=typeof y){const m=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(m,...C)}return z.create(y,...p)}function S(y,p,...m){if(!y)throw j(p,...m)}function oe(y){const p="INTERNAL ASSERTION FAILED: "+y;throw A(p),new Error(p)}function W(y,p){y||oe(p)}const le=new Map;function ge(y){W(y instanceof Function,"Expected a class definition");let p=le.get(y);return p?(W(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,le.set(y,p),p)}function Ve(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Xe(){return"http:"===it()||"https:"===it()}function it(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class b{constructor(p,m){this.shortDelay=p,this.longDelay=m,W(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function ve(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xe()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function k(y,p){W(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class L{static initialize(p,m,C){this.fetchImpl=p,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ne=new b(3e4,6e4);function U(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function be(y,p,m,C){return He.apply(this,arguments)}function He(){return(He=(0,s.Z)(function*(y,p,m,C,K={}){return ke(y,K,(0,s.Z)(function*(){let _e={},Ge={};C&&("GET"===p?Ge=C:_e={body:JSON.stringify(C)});const tt=(0,O.xO)(Object.assign({key:y.config.apiKey},Ge)).slice(1),Mt=yield y._getAdditionalHeaders();return Mt["Content-Type"]="application/json",y.languageCode&&(Mt["X-Firebase-Locale"]=y.languageCode),L.fetch()(Qe(y,y.config.apiHost,m,tt),Object.assign({method:p,headers:Mt,referrerPolicy:"no-referrer"},_e))}))})).apply(this,arguments)}function ke(y,p,m){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,s.Z)(function*(y,p,m){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},Q),p);try{const K=new mt(y),_e=yield Promise.race([m(),K.promise]);K.clearNetworkTimeout();const Ge=yield _e.json();if("needConfirmation"in Ge)throw Tt(y,"account-exists-with-different-credential",Ge);if(_e.ok&&!("errorMessage"in Ge))return Ge;{const tt=_e.ok?Ge.errorMessage:Ge.error.message,[Mt,Ut]=tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Mt)throw Tt(y,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===Mt)throw Tt(y,"email-already-in-use",Ge);if("USER_DISABLED"===Mt)throw Tt(y,"user-disabled",Ge);const an=C[Mt]||Mt.toLowerCase().replace(/[_\s]+/g,"-");if(Ut)throw N(y,an,Ut);F(y,an)}}catch(K){if(K instanceof O.ZR)throw K;F(y,"network-request-failed")}})).apply(this,arguments)}function Be(y,p,m,C){return qe.apply(this,arguments)}function qe(){return(qe=(0,s.Z)(function*(y,p,m,C,K={}){const _e=yield be(y,p,m,C,K);return"mfaPendingCredential"in _e&&F(y,"multi-factor-auth-required",{_serverResponse:_e}),_e})).apply(this,arguments)}function Qe(y,p,m,C){const K=`${p}${m}?${C}`;return y.config.emulator?k(y.config,K):`${y.config.apiScheme}://${K}`}class mt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(X(this.auth,"network-request-failed")),ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tt(y,p,m){const C={appName:y.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const K=X(y,p,C);return K.customData._tokenResponse=m,K}function yt(){return(yt=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ct(y,p){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ot(y,p){return At.apply(this,arguments)}function At(){return(At=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function nt(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ke(){return(Ke=(0,s.Z)(function*(y,p=!1){const m=(0,O.m9)(y),C=yield m.getIdToken(p),K=xe(C);S(K&&K.exp&&K.auth_time&&K.iat,m.auth,"internal-error");const _e="object"==typeof K.firebase?K.firebase:void 0,Ge=_e?.sign_in_provider;return{claims:K,token:C,authTime:nt(me(K.auth_time)),issuedAtTime:nt(me(K.iat)),expirationTime:nt(me(K.exp)),signInProvider:Ge||null,signInSecondFactor:_e?.sign_in_second_factor||null}})).apply(this,arguments)}function me(y){return 1e3*Number(y)}function xe(y){var p;const[m,C,K]=y.split(".");if(void 0===m||void 0===C||void 0===K)return A("JWT malformed, contained fewer than 3 sections"),null;try{const _e=(0,O.tV)(C);return _e?JSON.parse(_e):(A("Failed to decode base64 JWT payload"),null)}catch(_e){return A("Caught error parsing JWT payload as JSON",null===(p=_e)||void 0===p?void 0:p.toString()),null}}function wt(y,p){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,s.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(C){throw C instanceof O.ZR&&we(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function we({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Fe{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const K=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield m.iteration()}),C)}iteration(){var p=this;return(0,s.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(m=C)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class rt{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=nt(this.lastLoginAt),this.creationTime=nt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function bt(y){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,s.Z)(function*(y){var p;const m=y.auth,C=yield y.getIdToken(),K=yield wt(y,Ot(m,{idToken:C}));S(K?.users.length,m,"internal-error");const _e=K.users[0];y._notifyReloadListener(_e);const Ge=null!==(p=_e.providerUserInfo)&&void 0!==p&&p.length?De(_e.providerUserInfo):[],tt=Te(y.providerData,Ge),an=!!y.isAnonymous&&!(y.email&&_e.passwordHash||tt?.length),tn={uid:_e.localId,displayName:_e.displayName||null,photoURL:_e.photoUrl||null,email:_e.email||null,emailVerified:_e.emailVerified||!1,phoneNumber:_e.phoneNumber||null,tenantId:_e.tenantId||null,providerData:tt,metadata:new rt(_e.createdAt,_e.lastLoginAt),isAnonymous:an};Object.assign(y,tn)})).apply(this,arguments)}function Ee(){return(Ee=(0,s.Z)(function*(y){const p=(0,O.m9)(y);yield bt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Te(y,p){return[...y.filter(C=>!p.some(K=>K.providerId===C.providerId)),...p]}function De(y){return y.map(p=>{var{providerId:m}=p,C=(0,ie._T)(p,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Pe(){return(Pe=(0,s.Z)(function*(y,p){const m=yield ke(y,{},(0,s.Z)(function*(){const C=(0,O.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:K,apiKey:_e}=y.config,Ge=Qe(y,K,"/v1/token",`key=${_e}`),tt=yield y._getAdditionalHeaders();return tt["Content-Type"]="application/x-www-form-urlencoded",L.fetch()(Ge,{method:"POST",headers:tt,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class We{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){S(p.idToken,"internal-error"),S(typeof p.idToken<"u","internal-error"),S(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ft(y){const p=xe(y);return S(p,"internal-error"),S(typeof p.exp<"u","internal-error"),S(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var C=this;return(0,s.Z)(function*(){return S(!C.accessToken||C.refreshToken,p,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var C=this;return(0,s.Z)(function*(){const{accessToken:K,refreshToken:_e,expiresIn:Ge}=yield function Ae(y,p){return Pe.apply(this,arguments)}(p,m);C.updateTokensAndExpiration(K,_e,Number(Ge))})()}updateTokensAndExpiration(p,m,C){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,m){const{refreshToken:C,accessToken:K,expirationTime:_e}=m,Ge=new We;return C&&(S("string"==typeof C,"internal-error",{appName:p}),Ge.refreshToken=C),K&&(S("string"==typeof K,"internal-error",{appName:p}),Ge.accessToken=K),_e&&(S("number"==typeof _e,"internal-error",{appName:p}),Ge.expirationTime=_e),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new We,this.toJSON())}_performRefresh(){return oe("not implemented")}}function at(y,p){S("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Dt{constructor(p){var{uid:m,auth:C,stsTokenManager:K}=p,_e=(0,ie._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=_e.displayName||null,this.email=_e.email||null,this.emailVerified=_e.emailVerified||!1,this.phoneNumber=_e.phoneNumber||null,this.photoURL=_e.photoURL||null,this.isAnonymous=_e.isAnonymous||!1,this.tenantId=_e.tenantId||null,this.providerData=_e.providerData?[..._e.providerData]:[],this.metadata=new rt(_e.createdAt||void 0,_e.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,s.Z)(function*(){const C=yield wt(m,m.stsTokenManager.getToken(m.auth,p));return S(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(p){return function kt(y){return Ke.apply(this,arguments)}(this,p)}reload(){return function Ze(y){return Ee.apply(this,arguments)}(this)}_assign(p){this!==p&&(S(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Dt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var C=this;return(0,s.Z)(function*(){let K=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),K=!0),m&&(yield bt(C)),yield C.auth._persistUserIfCurrent(C),K&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,s.Z)(function*(){const m=yield p.getIdToken();return yield wt(p,function lt(y,p){return yt.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var C,K,_e,Ge,tt,Mt,Ut,an;const tn=null!==(C=m.displayName)&&void 0!==C?C:void 0,xi=null!==(K=m.email)&&void 0!==K?K:void 0,Sr=null!==(_e=m.phoneNumber)&&void 0!==_e?_e:void 0,Ml=null!==(Ge=m.photoURL)&&void 0!==Ge?Ge:void 0,Ld=null!==(tt=m.tenantId)&&void 0!==tt?tt:void 0,Pa=null!==(Mt=m._redirectEventId)&&void 0!==Mt?Mt:void 0,Tu=null!==(Ut=m.createdAt)&&void 0!==Ut?Ut:void 0,Cg=null!==(an=m.lastLoginAt)&&void 0!==an?an:void 0,{uid:hf,emailVerified:Nd,isAnonymous:ey,providerData:Dg,stsTokenManager:Il}=m;S(hf&&Il,p,"internal-error");const P0=We.fromJSON(this.name,Il);S("string"==typeof hf,p,"internal-error"),at(tn,p.name),at(xi,p.name),S("boolean"==typeof Nd,p,"internal-error"),S("boolean"==typeof ey,p,"internal-error"),at(Sr,p.name),at(Ml,p.name),at(Ld,p.name),at(Pa,p.name),at(Tu,p.name),at(Cg,p.name);const Eg=new Dt({uid:hf,auth:p,email:xi,emailVerified:Nd,displayName:tn,isAnonymous:ey,photoURL:Ml,phoneNumber:Sr,tenantId:Ld,stsTokenManager:P0,createdAt:Tu,lastLoginAt:Cg});return Dg&&Array.isArray(Dg)&&(Eg.providerData=Dg.map(R0=>Object.assign({},R0))),Pa&&(Eg._redirectEventId=Pa),Eg}static _fromIdTokenResponse(p,m,C=!1){return(0,s.Z)(function*(){const K=new We;K.updateFromServerResponse(m);const _e=new Dt({uid:m.localId,auth:p,stsTokenManager:K,isAnonymous:C});return yield bt(_e),_e})()}}const rn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(m,C){var K=this;return(0,s.Z)(function*(){K.storage[m]=C})()}_get(m){var C=this;return(0,s.Z)(function*(){const K=C.storage[m];return void 0===K?null:K})()}_remove(m){var C=this;return(0,s.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return y.type="NONE",y})();function On(y,p,m){return`firebase:${y}:${p}:${m}`}class nn{constructor(p,m,C){this.persistence=p,this.auth=m,this.userKey=C;const{config:K,name:_e}=this.auth;this.fullUserKey=On(this.userKey,K.apiKey,_e),this.fullPersistenceKey=On("persistence",K.apiKey,_e),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Dt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,s.Z)(function*(){if(m.persistence===p)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,C="authUser"){return(0,s.Z)(function*(){if(!m.length)return new nn(ge(rn),p,C);const K=(yield Promise.all(m.map(function(){var Ut=(0,s.Z)(function*(an){if(yield an._isAvailable())return an});return function(an){return Ut.apply(this,arguments)}}()))).filter(Ut=>Ut);let _e=K[0]||ge(rn);const Ge=On(C,p.config.apiKey,p.name);let tt=null;for(const Ut of m)try{const an=yield Ut._get(Ge);if(an){const tn=Dt._fromJSON(p,an);Ut!==_e&&(tt=tn),_e=Ut;break}}catch{}const Mt=K.filter(Ut=>Ut._shouldAllowMigration);return _e._shouldAllowMigration&&Mt.length?(_e=Mt[0],tt&&(yield _e._set(Ge,tt.toJSON())),yield Promise.all(m.map(function(){var Ut=(0,s.Z)(function*(an){if(an!==_e)try{yield an._remove(Ge)}catch{}});return function(an){return Ut.apply(this,arguments)}}())),new nn(_e,p,C)):new nn(_e,p,C)})()}}function sn(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ri(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(wn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(on(p))return"Blackberry";if(kn(p))return"Webos";if(Sn(p))return"Safari";if((p.includes("chrome/")||Rn(p))&&!p.includes("edge/"))return"Chrome";if(xt(p))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function wn(y=(0,O.z$)()){return/firefox\//i.test(y)}function Sn(y=(0,O.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Rn(y=(0,O.z$)()){return/crios\//i.test(y)}function ri(y=(0,O.z$)()){return/iemobile/i.test(y)}function xt(y=(0,O.z$)()){return/android/i.test(y)}function on(y=(0,O.z$)()){return/blackberry/i.test(y)}function kn(y=(0,O.z$)()){return/webos/i.test(y)}function Ai(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function oi(y=(0,O.z$)()){return Ai(y)||xt(y)||kn(y)||on(y)||/windows phone/i.test(y)||ri(y)}function ws(y,p=[]){let m;switch(y){case"Browser":m=sn((0,O.z$)());break;case"Worker":m=`${sn((0,O.z$)())}-${y}`;break;default:m=y}const C=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${pe.SDK_VERSION}/${C}`}class bn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const C=_e=>new Promise((Ge,tt)=>{try{Ge(p(_e))}catch(Mt){tt(Mt)}});C.onAbort=m,this.queue.push(C);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,s.Z)(function*(){var C;if(m.auth.currentUser===p)return;const K=[];try{for(const _e of m.queue)yield _e(p),_e.onAbort&&K.push(_e.onAbort)}catch(_e){K.reverse();for(const Ge of K)try{Ge()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=_e)||void 0===C?void 0:C.message})}})()}}class jl{constructor(p,m,C){this.app=p,this.heartbeatServiceProvider=m,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gl(this),this.idTokenSubscription=new Gl(this),this.beforeStateQueue=new bn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,m){var C=this;return m&&(this._popupRedirectResolver=ge(m)),this._initializationPromise=this.queue((0,s.Z)(function*(){var K,_e;if(!C._deleted&&(C.persistenceManager=yield nn.create(C,p),!C._deleted)){if(null!==(K=C._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(_e=C.currentUser)||void 0===_e?void 0:_e.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,s.Z)(function*(){var C;const K=yield m.assertedPersistence.getCurrentUser();let _e=K,Ge=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const tt=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,Mt=_e?._redirectEventId,Ut=yield m.tryRedirectSignIn(p);(!tt||tt===Mt)&&Ut?.user&&(_e=Ut.user,Ge=!0)}if(!_e)return m.directlySetCurrentUser(null);if(!_e._redirectEventId){if(Ge)try{yield m.beforeStateQueue.runMiddleware(_e)}catch(tt){_e=K,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(tt))}return _e?m.reloadAndSetCurrentUserOrClear(_e):m.directlySetCurrentUser(null)}return S(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===_e._redirectEventId?m.directlySetCurrentUser(_e):m.reloadAndSetCurrentUserOrClear(_e)})()}tryRedirectSignIn(p){var m=this;return(0,s.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,s.Z)(function*(){var C;try{yield bt(p)}catch(K){if("auth/network-request-failed"!==(null===(C=K)||void 0===C?void 0:C.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function I(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,s.Z)(function*(){const C=p?(0,O.m9)(p):null;return C&&S(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(p,m=!1){var C=this;return(0,s.Z)(function*(){if(!C._deleted)return p&&S(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,s.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,s.Z)(function*(){yield m.assertedPersistence.setPersistence(ge(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new O.LL("auth","Firebase",p())}onAuthStateChanged(p,m,C){return this.registerStateListener(this.authStateSubscription,p,m,C)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,C){return this.registerStateListener(this.idTokenSubscription,p,m,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var C=this;return(0,s.Z)(function*(){const K=yield C.getOrInitRedirectPersistenceManager(m);return null===p?K.removeCurrentUser():K.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,s.Z)(function*(){if(!m.redirectPersistenceManager){const C=p&&ge(p)||m._popupRedirectResolver;S(C,m,"argument-error"),m.redirectPersistenceManager=yield nn.create(m,[ge(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,s.Z)(function*(){var C,K;return m._isInitialized&&(yield m.queue((0,s.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===p?m._currentUser:(null===(K=m.redirectUser)||void 0===K?void 0:K._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,s.Z)(function*(){if(p===m.currentUser)return m.queue((0,s.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,C,K){if(this._deleted)return()=>{};const _e="function"==typeof m?m:m.next.bind(m),Ge=this._isInitialized?Promise.resolve():this._initializationPromise;return S(Ge,this,"internal-error"),Ge.then(()=>_e(this.currentUser)),"function"==typeof m?p.addObserver(m,C,K):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,s.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ws(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var m;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const K=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return K&&(C["X-Firebase-Client"]=K),C})()}}function qn(y){return(0,O.m9)(y)}class Gl{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Cs(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Ur{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return oe("not implemented")}_getIdTokenResponse(p){return oe("not implemented")}_linkToIdToken(p,m){return oe("not implemented")}_getReauthenticationResolver(p){return oe("not implemented")}}function Qi(y,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:resetPassword",U(y,p))})).apply(this,arguments)}function aa(y,p){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function la(y,p){return ca.apply(this,arguments)}function ca(){return(ca=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",U(y,p))})).apply(this,arguments)}function Ds(){return(Ds=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithPassword",U(y,p))})).apply(this,arguments)}function Hr(y,p){return gi.apply(this,arguments)}function gi(){return(gi=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:sendOobCode",U(y,p))})).apply(this,arguments)}function Zs(y,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,s.Z)(function*(y,p){return Hr(y,p)})).apply(this,arguments)}function ir(y,p){return ua.apply(this,arguments)}function ua(){return(ua=(0,s.Z)(function*(y,p){return Hr(y,p)})).apply(this,arguments)}function Do(y,p){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,s.Z)(function*(y,p){return Hr(y,p)})).apply(this,arguments)}function as(y,p){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,s.Z)(function*(y,p){return Hr(y,p)})).apply(this,arguments)}function Kc(){return(Kc=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithEmailLink",U(y,p))})).apply(this,arguments)}function ld(){return(ld=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithEmailLink",U(y,p))})).apply(this,arguments)}class Qc extends Ur{constructor(p,m,C,K=null){super("password",C),this._email=p,this._password=m,this._tenantId=K}static _fromEmailAndPassword(p,m){return new Qc(p,m,"password")}static _fromEmailAndCode(p,m,C=null){return new Qc(p,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,s.Z)(function*(){switch(m.signInMethod){case"password":return function Co(y,p){return Ds.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Zp(y,p){return Kc.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:F(p,"internal-error")}})()}_linkToIdToken(p,m){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return aa(p,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Ih(y,p){return ld.apply(this,arguments)}(p,{idToken:m,email:C._email,oobCode:C._password});default:F(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Si(y,p){return cd.apply(this,arguments)}function cd(){return(cd=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithIdp",U(y,p))})).apply(this,arguments)}class Es extends Ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Es(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):F("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:K}=m,_e=(0,ie._T)(m,["providerId","signInMethod"]);if(!C||!K)return null;const Ge=new Es(C,K);return Ge.idToken=_e.idToken||void 0,Ge.accessToken=_e.accessToken||void 0,Ge.secret=_e.secret,Ge.nonce=_e.nonce,Ge.pendingToken=_e.pendingToken||null,Ge}_getIdTokenResponse(p){return Si(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,Si(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Si(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,O.xO)(m)}return p}}function Qp(y,p){return Xc.apply(this,arguments)}function Xc(){return(Xc=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:sendVerificationCode",U(y,p))})).apply(this,arguments)}function Ks(){return(Ks=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithPhoneNumber",U(y,p))})).apply(this,arguments)}function ud(){return(ud=(0,s.Z)(function*(y,p){const m=yield Be(y,"POST","/v1/accounts:signInWithPhoneNumber",U(y,p));if(m.temporaryProof)throw Tt(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Jp={USER_NOT_FOUND:"user-not-found"};function zl(){return(zl=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithPhoneNumber",U(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Jp)})).apply(this,arguments)}class As extends Ur{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new As({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new As({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Jc(y,p){return Ks.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Xp(y,p){return ud.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function kh(y,p){return zl.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:C,verificationCode:K}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:C,code:K}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:C,phoneNumber:K,temporaryProof:_e}=p;return C||m||K||_e?new As({verificationId:m,verificationCode:C,phoneNumber:K,temporaryProof:_e}):null}}class $l{constructor(p){var m,C,K,_e,Ge,tt;const Mt=(0,O.zd)((0,O.pd)(p)),Ut=null!==(m=Mt.apiKey)&&void 0!==m?m:null,an=null!==(C=Mt.oobCode)&&void 0!==C?C:null,tn=function x_(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=Mt.mode)&&void 0!==K?K:null);S(Ut&&an&&tn,"argument-error"),this.apiKey=Ut,this.operation=tn,this.code=an,this.continueUrl=null!==(_e=Mt.continueUrl)&&void 0!==_e?_e:null,this.languageCode=null!==(Ge=Mt.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(tt=Mt.tenantId)&&void 0!==tt?tt:null}static parseLink(p){const m=function dd(y){const p=(0,O.zd)((0,O.pd)(y)).link,m=p?(0,O.zd)((0,O.pd)(p)).deep_link_id:null,C=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(C?(0,O.zd)((0,O.pd)(C)).link:null)||C||m||p||y}(p);try{return new $l(m)}catch{return null}}}let Wl=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,C){return Qc._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const K=$l.parseLink(C);return S(K,"argument-error"),Qc._fromEmailAndCode(m,K.code,K.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class jr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Xs extends jr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class da extends Xs{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return S("providerId"in m&&"signInMethod"in m,"argument-error"),Es._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return S(p.idToken||p.accessToken,"argument-error"),Es._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return da.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return da.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:K,pendingToken:_e,nonce:Ge,providerId:tt}=p;if(!C&&!K&&!m&&!_e||!tt)return null;try{return new da(tt)._credential({idToken:m,accessToken:C,nonce:Ge,pendingToken:_e})}catch{return null}}}let Xa=(()=>{class y extends Xs{constructor(){super("facebook.com")}static credential(m){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ja=(()=>{class y extends Xs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:K}=m;if(!C&&!K)return null;try{return y.credential(C,K)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),eu=(()=>{class y extends Xs{constructor(){super("github.com")}static credential(m){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Xi extends Ur{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Si(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,Si(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Si(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:K,pendingToken:_e}=m;return C&&K&&_e&&C===K?new Xi(C,_e):null}static _create(p,m){return new Xi(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Jn extends jr{constructor(p){S(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Jn.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Jn.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Xi.fromJSON(p);return S(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:C}=p;if(!m||!C)return null;try{return Xi._create(C,m)}catch{return null}}}let ql=(()=>{class y extends Xs{constructor(){super("twitter.com")}static credential(m,C){return Es._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:K}=m;if(!C||!K)return null;try{return y.credential(C,K)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Yl(y,p){return el.apply(this,arguments)}function el(){return(el=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signUp",U(y,p))})).apply(this,arguments)}class rr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,C,K=!1){return(0,s.Z)(function*(){const _e=yield Dt._fromIdTokenResponse(p,C,K),Ge=tg(C);return new rr({user:_e,providerId:Ge,_tokenResponse:C,operationType:m})})()}static _forOperation(p,m,C){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const K=tg(C);return new rr({user:p,providerId:K,_tokenResponse:C,operationType:m})})()}}function tg(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function hd(){return(hd=(0,s.Z)(function*(y){var p;const m=qn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new rr({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield Yl(m,{returnSecureToken:!0}),K=yield rr._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(K.user),K})).apply(this,arguments)}class tu extends O.ZR{constructor(p,m,C,K){var _e;super(m.code,m.message),this.operationType=C,this.user=K,Object.setPrototypeOf(this,tu.prototype),this.customData={appName:p.name,tenantId:null!==(_e=p.tenantId)&&void 0!==_e?_e:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,m,C,K){return new tu(p,m,C,K)}}function tl(y,p,m,C){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(_e=>{throw"auth/multi-factor-auth-required"===_e.code?tu._fromErrorAndOperation(y,_e,p,C):_e})}function mi(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function ha(){return(ha=(0,s.Z)(function*(y,p){const m=(0,O.m9)(y);yield Ss(!0,m,p);const{providerUserInfo:C}=yield ct(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),K=mi(C||[]);return m.providerData=m.providerData.filter(_e=>K.has(_e.providerId)),K.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ls(y,p){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,s.Z)(function*(y,p,m=!1){const C=yield wt(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return rr._forOperation(y,"link",C)})).apply(this,arguments)}function Ss(y,p,m){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,s.Z)(function*(y,p,m){yield bt(p);const K=!1===y?"provider-already-linked":"no-such-provider";S(mi(p.providerData).has(m)===y,p.auth,K)})).apply(this,arguments)}function fd(y,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,s.Z)(function*(y,p,m=!1){var C;const{auth:K}=y,_e="reauthenticate";try{const Ge=yield wt(y,tl(K,_e,p,y),m);S(Ge.idToken,K,"internal-error");const tt=xe(Ge.idToken);S(tt,K,"internal-error");const{sub:Mt}=tt;return S(y.uid===Mt,K,"user-mismatch"),rr._forOperation(y,_e,Ge)}catch(Ge){throw"auth/user-not-found"===(null===(C=Ge)||void 0===C?void 0:C.code)&&F(K,"user-mismatch"),Ge}})).apply(this,arguments)}function nl(y,p){return fa.apply(this,arguments)}function fa(){return(fa=(0,s.Z)(function*(y,p,m=!1){const C="signIn",K=yield tl(y,C,p),_e=yield rr._fromIdTokenResponse(y,C,K);return m||(yield y._updateCurrentUser(_e.user)),_e})).apply(this,arguments)}function Ht(y,p){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,s.Z)(function*(y,p){return nl(qn(y),p)})).apply(this,arguments)}function iu(y,p){return ru.apply(this,arguments)}function ru(){return(ru=(0,s.Z)(function*(y,p){const m=(0,O.m9)(y);return yield Ss(!1,m,p.providerId),ls(m,p)})).apply(this,arguments)}function So(y,p){return To.apply(this,arguments)}function To(){return(To=(0,s.Z)(function*(y,p){return fd((0,O.m9)(y),p)})).apply(this,arguments)}function il(y,p){return pa.apply(this,arguments)}function pa(){return(pa=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithCustomToken",U(y,p))})).apply(this,arguments)}function gt(){return(gt=(0,s.Z)(function*(y,p){const m=qn(y),C=yield il(m,{token:p,returnSecureToken:!0}),K=yield rr._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(K.user),K})).apply(this,arguments)}class Cn{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?ga._fromServerResponse(p,m):F(p,"internal-error")}}class ga extends Cn{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new ga(m)}}function ma(y,p,m){var C;S((null===(C=m.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),S(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(S(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(S(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function rl(){return(rl=(0,s.Z)(function*(y,p,m){const C=(0,O.m9)(y),K={requestType:"PASSWORD_RESET",email:p};m&&ma(C,K,m),yield ir(C,K)})).apply(this,arguments)}function yr(){return(yr=(0,s.Z)(function*(y,p,m){yield Qi((0,O.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Ts(){return(Ts=(0,s.Z)(function*(y,p){yield la((0,O.m9)(y),{oobCode:p})})).apply(this,arguments)}function Kl(y,p){return pd.apply(this,arguments)}function pd(){return(pd=(0,s.Z)(function*(y,p){const m=(0,O.m9)(y),C=yield Qi(m,{oobCode:p}),K=C.requestType;switch(S(K,m,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":S(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":S(C.mfaInfo,m,"internal-error");default:S(C.email,m,"internal-error")}let _e=null;return C.mfaInfo&&(_e=Cn._fromServerResponse(qn(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:_e},operation:K}})).apply(this,arguments)}function Js(){return(Js=(0,s.Z)(function*(y,p){const{data:m}=yield Kl((0,O.m9)(y),p);return m.email})).apply(this,arguments)}function vr(){return(vr=(0,s.Z)(function*(y,p,m){const C=qn(y),K=yield Yl(C,{returnSecureToken:!0,email:p,password:m}),_e=yield rr._fromIdTokenResponse(C,"signIn",K);return yield C._updateCurrentUser(_e.user),_e})).apply(this,arguments)}function zr(){return(zr=(0,s.Z)(function*(y,p,m){const C=(0,O.m9)(y),K={requestType:"EMAIL_SIGNIN",email:p};S(m.handleCodeInApp,C,"argument-error"),m&&ma(C,K,m),yield Do(C,K)})).apply(this,arguments)}function al(){return(al=(0,s.Z)(function*(y,p,m){const C=(0,O.m9)(y),K=Wl.credentialWithLink(p,m||Ve());return S(K._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),Ht(C,K)})).apply(this,arguments)}function Ph(y,p){return Io.apply(this,arguments)}function Io(){return(Io=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:createAuthUri",U(y,p))})).apply(this,arguments)}function Ql(){return(Ql=(0,s.Z)(function*(y,p){const C={identifier:p,continueUri:Xe()?Ve():"http://localhost"},{signinMethods:K}=yield Ph((0,O.m9)(y),C);return K||[]})).apply(this,arguments)}function ul(){return(ul=(0,s.Z)(function*(y,p){const m=(0,O.m9)(y),K={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ma(m.auth,K,p);const{email:_e}=yield Zs(m.auth,K);_e!==y.email&&(yield y.reload())})).apply(this,arguments)}function dl(){return(dl=(0,s.Z)(function*(y,p,m){const C=(0,O.m9)(y),_e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&ma(C.auth,_e,m);const{email:Ge}=yield as(C.auth,_e);Ge!==y.email&&(yield y.reload())})).apply(this,arguments)}function Xl(y,p){return Jl.apply(this,arguments)}function Jl(){return(Jl=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function hl(){return(hl=(0,s.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const C=(0,O.m9)(y),_e={idToken:yield C.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Ge=yield wt(C,Xl(C.auth,_e));C.displayName=Ge.displayName||null,C.photoURL=Ge.photoUrl||null;const tt=C.providerData.find(({providerId:Mt})=>"password"===Mt);tt&&(tt.displayName=C.displayName,tt.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Ge)})).apply(this,arguments)}function nc(y,p,m){return vi.apply(this,arguments)}function vi(){return(vi=(0,s.Z)(function*(y,p,m){const{auth:C}=y,_e={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(_e.email=p),m&&(_e.password=m);const Ge=yield wt(y,aa(C,_e));yield y._updateTokensIfNecessary(Ge,!0)})).apply(this,arguments)}class Wn{constructor(p,m,C={}){this.isNewUser=p,this.providerId=m,this.profile=C}}class cu extends Wn{constructor(p,m,C,K){super(p,m,C),this.username=K}}class Rh extends Wn{constructor(p,m){super(p,"facebook.com",m)}}class ic extends cu{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class md extends Wn{constructor(p,m){super(p,"google.com",m)}}class uu extends cu{constructor(p,m,C){super(p,"twitter.com",m,C)}}function Oh(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function xs(y){var p,m;if(!y)return null;const{providerId:C}=y,K=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},_e=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&y?.idToken){const Ge=null===(m=null===(p=xe(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Ge)return new Wn(_e,"anonymous"!==Ge&&"custom"!==Ge?Ge:null)}if(!C)return null;switch(C){case"facebook.com":return new Rh(_e,K);case"github.com":return new ic(_e,K);case"google.com":return new md(_e,K);case"twitter.com":return new uu(_e,K,y.screenName||null);case"custom":case"anonymous":return new Wn(_e,null);default:return new Wn(_e,C,K)}}(m)}class va{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new va("enroll",p)}static _fromMfaPendingCredential(p){return new va("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,C;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return va._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return va._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ko{constructor(p,m,C){this.session=p,this.hints=m,this.signInResolver=C}static _fromError(p,m){const C=qn(p),K=m.customData._serverResponse,_e=(K.mfaInfo||[]).map(tt=>Cn._fromServerResponse(C,tt));S(K.mfaPendingCredential,C,"internal-error");const Ge=va._fromMfaPendingCredential(K.mfaPendingCredential);return new ko(Ge,_e,function(){var tt=(0,s.Z)(function*(Mt){const Ut=yield Mt._process(C,Ge);delete K.mfaInfo,delete K.mfaPendingCredential;const an=Object.assign(Object.assign({},K),{idToken:Ut.idToken,refreshToken:Ut.refreshToken});switch(m.operationType){case"signIn":const tn=yield rr._fromIdTokenResponse(C,m.operationType,an);return yield C._updateCurrentUser(tn.user),tn;case"reauthenticate":return S(m.user,C,"internal-error"),rr._forOperation(m.user,m.operationType,an);default:F(C,"internal-error")}});return function(Mt){return tt.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,s.Z)(function*(){return m.signInResolver(p)})()}}function Nh(y,p){return be(y,"POST","/v2/accounts/mfaEnrollment:start",U(y,p))}class Vh{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>Cn._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Vh(p)}getSession(){var p=this;return(0,s.Z)(function*(){return va._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var C=this;return(0,s.Z)(function*(){const K=p,_e=yield C.getSession(),Ge=yield wt(C.user,K._process(C.user.auth,_e,m));return yield C.user._updateTokensIfNecessary(Ge),C.user.reload()})()}unenroll(p){var m=this;return(0,s.Z)(function*(){var C;const K="string"==typeof p?p:p.uid,_e=yield m.user.getIdToken(),Ge=yield wt(m.user,function M_(y,p){return be(y,"POST","/v2/accounts/mfaEnrollment:withdraw",U(y,p))}(m.user.auth,{idToken:_e,mfaEnrollmentId:K}));m.enrolledFactors=m.enrolledFactors.filter(({uid:tt})=>tt!==K),yield m.user._updateTokensIfNecessary(Ge);try{yield m.user.reload()}catch(tt){if("auth/user-token-expired"!==(null===(C=tt)||void 0===C?void 0:C.code))throw tt}})()}}const Po=new WeakMap,ba="__sak";class rc{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ba,"1"),this.storage.removeItem(ba),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wr=(()=>{class y extends rc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bh(){const y=(0,O.z$)();return Sn(y)||Ai(y)}()&&function bo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=oi(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const K=this.storage.getItem(C),_e=this.localCache[C];K!==_e&&m(C,_e,K)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((tt,Mt,Ut)=>{this.notifyListeners(tt,Ut)});const K=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tt=this.storage.getItem(K);if(m.newValue!==tt)null!==m.newValue?this.storage.setItem(K,m.newValue):this.storage.removeItem(K);else if(this.localCache[K]===m.newValue&&!C)return}const _e=()=>{const tt=this.storage.getItem(K);!C&&this.localCache[K]===tt||this.notifyListeners(K,tt)},Ge=this.storage.getItem(K);!function vo(){return(0,O.w1)()&&10===document.documentMode}()||Ge===m.newValue||m.newValue===m.oldValue?_e():setTimeout(_e,10)}notifyListeners(m,C){this.localCache[m]=C;const K=this.listeners[m];if(K)for(const _e of Array.from(K))_e(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var K=()=>super._set,_e=this;return(0,s.Z)(function*(){yield K().call(_e,m,C),_e.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,K=this;return(0,s.Z)(function*(){const _e=yield C().call(K,m);return K.localCache[m]=JSON.stringify(_e),_e})()}_remove(m){var C=()=>super._remove,K=this;return(0,s.Z)(function*(){yield C().call(K,m),delete K.localCache[m]})()}}return y.type="LOCAL",y})(),br=(()=>{class y extends rc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return y.type="SESSION",y})();let Vn=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(_e=>_e.isListeningto(m));if(C)return C;const K=new y(m);return this.receivers.push(K),K}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,s.Z)(function*(){const K=m,{eventId:_e,eventType:Ge,data:tt}=K.data,Mt=C.handlersMap[Ge];if(!Mt?.size)return;K.ports[0].postMessage({status:"ack",eventId:_e,eventType:Ge});const Ut=Array.from(Mt).map(function(){var tn=(0,s.Z)(function*(xi){return xi(K.origin,tt)});return function(xi){return tn.apply(this,arguments)}}()),an=yield function rg(y){return Promise.all(y.map(function(){var p=(0,s.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return p.apply(this,arguments)}}()))}(Ut);K.ports[0].postMessage({status:"done",eventId:_e,eventType:Ge,response:an})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function qr(y="",p=10){let m="";for(let C=0;C<p;C++)m+=Math.floor(10*Math.random());return y+m}class Nt{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,C=50){var K=this;return(0,s.Z)(function*(){const _e=typeof MessageChannel<"u"?new MessageChannel:null;if(!_e)throw new Error("connection_unavailable");let Ge,tt;return new Promise((Mt,Ut)=>{const an=qr("",20);_e.port1.start();const tn=setTimeout(()=>{Ut(new Error("unsupported_event"))},C);tt={messageChannel:_e,onMessage(xi){const Sr=xi;if(Sr.data.eventId===an)switch(Sr.data.status){case"ack":clearTimeout(tn),Ge=setTimeout(()=>{Ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),Mt(Sr.data.response);break;default:clearTimeout(tn),clearTimeout(Ge),Ut(new Error("invalid_response"))}}},K.handlers.add(tt),_e.port1.addEventListener("message",tt.onMessage),K.target.postMessage({eventType:p,eventId:an,data:m},[_e.port2])}).finally(()=>{tt&&K.removeMessageHandler(tt)})})()}}function _t(){return window}function Yn(){return typeof _t().WorkerGlobalScope<"u"&&"function"==typeof _t().importScripts}function ml(){return(ml=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const _l="firebaseLocalStorageDb",Yr="firebaseLocalStorage",zt="fbase_key";class to{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function ac(y,p){return y.transaction([Yr],p?"readwrite":"readonly").objectStore(Yr)}function io(){const y=indexedDB.open(_l,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(Yr,{keyPath:zt})}catch(K){m(K)}}),y.addEventListener("success",(0,s.Z)(function*(){const C=y.result;C.objectStoreNames.contains(Yr)?p(C):(C.close(),yield function no(){const y=indexedDB.deleteDatabase(_l);return new to(y).toPromise()}(),p(yield io()))}))})}function Kn(y,p,m){return lc.apply(this,arguments)}function lc(){return(lc=(0,s.Z)(function*(y,p,m){const C=ac(y,!0).put({[zt]:p,value:m});return new to(C).toPromise()})).apply(this,arguments)}function cs(){return(cs=(0,s.Z)(function*(y,p){const m=ac(y,!1).get(p),C=yield new to(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function cc(y,p){const m=ac(y,!0).delete(p);return new to(m).toPromise()}const pr=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,s.Z)(function*(){return m.db||(m.db=yield io()),m.db})()}_withRetries(m){var C=this;return(0,s.Z)(function*(){let K=0;for(;;)try{const _e=yield C._openDb();return yield m(_e)}catch(_e){if(K++>3)throw _e;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,s.Z)(function*(){return Yn()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,s.Z)(function*(){m.receiver=Vn._getInstance(function oc(){return Yn()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,s.Z)(function*(K,_e){return{keyProcessed:(yield m._poll()).includes(_e.key)}});return function(K,_e){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,s.Z)(function*(K,_e){return["keyChanged"]});return function(K,_e){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,s.Z)(function*(){var C,K;if(m.activeServiceWorker=yield function gl(){return ml.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Nt(m.activeServiceWorker);const _e=yield m.sender._send("ping",{},800);!_e||(null===(C=_e[0])||void 0===C?void 0:C.fulfilled)&&(null===(K=_e[0])||void 0===K?void 0:K.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,s.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function sc(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const m=yield io();return yield Kn(m,ba,"1"),yield cc(m,ba),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,s.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var K=this;return(0,s.Z)(function*(){return K._withPendingWrite((0,s.Z)(function*(){return yield K._withRetries(_e=>Kn(_e,m,C)),K.localCache[m]=C,K.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,s.Z)(function*(){const K=yield C._withRetries(_e=>function wa(y,p){return cs.apply(this,arguments)}(_e,m));return C.localCache[m]=K,K})()}_remove(m){var C=this;return(0,s.Z)(function*(){return C._withPendingWrite((0,s.Z)(function*(){return yield C._withRetries(K=>cc(K,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,s.Z)(function*(){const C=yield m._withRetries(Ge=>{const tt=ac(Ge,!1).getAll();return new to(tt).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const K=[],_e=new Set;for(const{fbase_key:Ge,value:tt}of C)_e.add(Ge),JSON.stringify(m.localCache[Ge])!==JSON.stringify(tt)&&(m.notifyListeners(Ge,tt),K.push(Ge));for(const Ge of Object.keys(m.localCache))m.localCache[Ge]&&!_e.has(Ge)&&(m.notifyListeners(Ge,null),K.push(Ge));return K})()}notifyListeners(m,C){this.localCache[m]=C;const K=this.listeners[m];if(K)for(const _e of Array.from(K))_e(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function ro(y,p){return be(y,"POST","/v2/accounts/mfaSignIn:start",U(y,p))}function or(){return(or=(0,s.Z)(function*(y){return(yield be(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wr(y){return new Promise((p,m)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=p,C.onerror=K=>{const _e=X("internal-error");_e.customData=K,m(_e)},C.type="text/javascript",C.charset="UTF-8",function fu(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(C)})}function Hi(y){return`__${y}${Math.floor(1e6*Math.random())}`}const xn=1e12;class sg{constructor(p){this.auth=p,this.counter=xn,this._widgets=new Map}render(p,m){const C=this.counter;return this._widgets.set(C,new li(p,this.auth.name,m||{})),this.counter++,C}reset(p){var m;const C=p||xn;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(p){var m;return(null===(m=this._widgets.get(p||xn))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,s.Z)(function*(){var C;return null===(C=m._widgets.get(p||xn))||void 0===C||C.execute(),""})()}}class li{constructor(p,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof p?document.getElementById(p):p;S(K,"argument-error",{appName:m}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Qn(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xn=Hi("rcb"),ti=new b(3e4,6e4);class yl{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=_t().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return S(function vl(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(_t().grecaptcha):new Promise((C,K)=>{const _e=_t().setTimeout(()=>{K(X(p,"network-request-failed"))},ti.get());_t()[Xn]=()=>{_t().clearTimeout(_e),delete _t()[Xn];const tt=_t().grecaptcha;if(!tt)return void K(X(p,"internal-error"));const Mt=tt.render;tt.render=(Ut,an)=>{const tn=Mt(Ut,an);return this.counter++,tn},this.hostLanguage=m,C(tt)},wr(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Xn,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(_e),K(X(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=_t().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class I_{load(p){return(0,s.Z)(function*(){return new sg(p)})()}clearedOneInstance(){}}const so="recaptcha",Zn={theme:"light",type:"image"};class ci{constructor(p,m=Object.assign({},Zn),C){this.parameters=m,this.type=so,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=qn(C),this.isInvisible="invisible"===this.parameters.size,S(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof p?document.getElementById(p):p;S(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new I_:new yl,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(m)||new Promise(_e=>{const Ge=tt=>{!tt||(p.tokenChangeListeners.delete(Ge),_e(tt))};p.tokenChangeListeners.add(Ge),p.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){S(!this.parameters.sitekey,this.auth,"argument-error"),S(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),S(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof p)p(m);else if("string"==typeof p){const C=_t()[p];"function"==typeof C&&C(m)}}}assertNotDestroyed(){S(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){S(Xe()&&!Yn(),p.auth,"internal-error"),yield function gr(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function ei(y){return or.apply(this,arguments)}(p.auth);S(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return S(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hh{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=As._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Ti(){return(Ti=(0,s.Z)(function*(y,p,m){const C=qn(y),K=yield pn(C,p,(0,O.m9)(m));return new Hh(K,_e=>Ht(C,_e))})).apply(this,arguments)}function uc(){return(uc=(0,s.Z)(function*(y,p,m){const C=(0,O.m9)(y);yield Ss(!1,C,"phone");const K=yield pn(C.auth,p,(0,O.m9)(m));return new Hh(K,_e=>iu(C,_e))})).apply(this,arguments)}function ds(){return(ds=(0,s.Z)(function*(y,p,m){const C=(0,O.m9)(y),K=yield pn(C.auth,p,(0,O.m9)(m));return new Hh(K,_e=>So(C,_e))})).apply(this,arguments)}function pn(y,p,m){return pu.apply(this,arguments)}function pu(){return(pu=(0,s.Z)(function*(y,p,m){var C;const K=yield m.verify();try{let _e;if(S("string"==typeof K,y,"argument-error"),S(m.type===so,y,"argument-error"),_e="string"==typeof p?{phoneNumber:p}:p,"session"in _e){const Ge=_e.session;if("phoneNumber"in _e)return S("enroll"===Ge.type,y,"internal-error"),(yield Nh(y,{idToken:Ge.credential,phoneEnrollmentInfo:{phoneNumber:_e.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{S("signin"===Ge.type,y,"internal-error");const tt=(null===(C=_e.multiFactorHint)||void 0===C?void 0:C.uid)||_e.multiFactorUid;return S(tt,y,"missing-multi-factor-info"),(yield ro(y,{mfaPendingCredential:Ge.credential,mfaEnrollmentId:tt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ge}=yield Qp(y,{phoneNumber:_e.phoneNumber,recaptchaToken:K});return Ge}}finally{m._reset()}})).apply(this,arguments)}function wd(){return(wd=(0,s.Z)(function*(y,p){yield ls((0,O.m9)(y),p)})).apply(this,arguments)}let dc=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=qn(m)}verifyPhoneNumber(m,C){return pn(this.auth,m,(0,O.m9)(C))}static credential(m,C){return As._fromVerification(m,C)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:K}=m;return C&&K?As._fromTokenResponse(C,K):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Li(y,p){return p?ge(p):(S(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Gi extends Ur{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Si(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Si(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Si(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function hc(y){return nl(y.auth,new Gi(y),y.bypassAuthState)}function Is(y){const{auth:p,user:m}=y;return S(m,p,"internal-error"),fd(m,new Gi(y),y.bypassAuthState)}function jh(y){return ui.apply(this,arguments)}function ui(){return(ui=(0,s.Z)(function*(y){const{auth:p,user:m}=y;return S(m,p,"internal-error"),ls(m,new Gi(y),y.bypassAuthState)})).apply(this,arguments)}class Cr{constructor(p,m,C,K,_e=!1){this.auth=p,this.resolver=C,this.user=K,this.bypassAuthState=_e,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,s.Z)(function*(C,K){p.pendingPromise={resolve:C,reject:K};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(_e){p.reject(_e)}});return function(C,K){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,s.Z)(function*(){const{urlResponse:C,sessionId:K,postBody:_e,tenantId:Ge,error:tt,type:Mt}=p;if(tt)return void m.reject(tt);const Ut={auth:m.auth,requestUri:C,sessionId:K,tenantId:Ge||void 0,postBody:_e||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Mt)(Ut))}catch(an){m.reject(an)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return hc;case"linkViaPopup":case"linkViaRedirect":return jh;case"reauthViaPopup":case"reauthViaRedirect":return Is;default:F(this.auth,"internal-error")}}resolve(p){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cl=new b(2e3,1e4);function Dl(){return(Dl=(0,s.Z)(function*(y,p,m){const C=qn(y);J(y,p,jr);const K=Li(C,m);return new Dd(C,"signInViaPopup",p,K).executeNotNull()})).apply(this,arguments)}function mu(){return(mu=(0,s.Z)(function*(y,p,m){const C=(0,O.m9)(y);J(C.auth,p,jr);const K=Li(C.auth,m);return new Dd(C.auth,"reauthViaPopup",p,K,C).executeNotNull()})).apply(this,arguments)}function Oo(){return(Oo=(0,s.Z)(function*(y,p,m){const C=(0,O.m9)(y);J(C.auth,p,jr);const K=Li(C.auth,m);return new Dd(C.auth,"linkViaPopup",p,K,C).executeNotNull()})).apply(this,arguments)}let Dd=(()=>{class y extends Cr{constructor(m,C,K,_e,Ge){super(m,C,_e,Ge),this.provider=K,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,s.Z)(function*(){const C=yield m.execute();return S(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,s.Z)(function*(){W(1===m.filter.length,"Popup operations only handle one event");const C=qr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(K=>{m.reject(K)}),m.resolver._isIframeWebStorageSupported(m.auth,K=>{K||m.reject(X(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(X(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,K;this.pollId=null!==(K=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(X(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Cl.get())};m()}}return y.currentPopupAction=null,y})();const ks=new Map;class Fo extends Cr{constructor(p,m,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,s.Z)(function*(){let C=ks.get(m.auth._key());if(!C){try{const _e=(yield function Lo(y,p){return dn.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;C=()=>Promise.resolve(_e)}catch(K){C=()=>Promise.reject(K)}ks.set(m.auth._key(),C)}return m.bypassAuthState||ks.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,C=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(C,p);if("unknown"!==p.type){if(p.eventId){const K=yield C.auth._redirectUserForId(p.eventId);if(K)return C.user=K,m().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function dn(){return(dn=(0,s.Z)(function*(y,p){const m=di(p),C=fc(y);if(!(yield C._isAvailable()))return!1;const K="true"===(yield C._get(m));return yield C._remove(m),K})).apply(this,arguments)}function No(y,p){return hs.apply(this,arguments)}function hs(){return(hs=(0,s.Z)(function*(y,p){return fc(y)._set(di(p),"true")})).apply(this,arguments)}function Vo(y,p){ks.set(y._key(),p)}function fc(y){return ge(y._redirectPersistence)}function di(y){return On("pendingRedirect",y.config.apiKey,y.name)}function P(){return(P=(0,s.Z)(function*(y,p,m){const C=qn(y);J(y,p,jr);const K=Li(C,m);return yield No(K,C),K._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Oe(){return(Oe=(0,s.Z)(function*(y,p,m){const C=(0,O.m9)(y);J(C.auth,p,jr);const K=Li(C.auth,m);yield No(K,C.auth);const _e=yield Wt(C);return K._openRedirect(C.auth,p,"reauthViaRedirect",_e)})).apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(y,p,m){const C=(0,O.m9)(y);J(C.auth,p,jr);const K=Li(C.auth,m);yield Ss(!1,C,p.providerId),yield No(K,C.auth);const _e=yield Wt(C);return K._openRedirect(C.auth,p,"linkViaRedirect",_e)})).apply(this,arguments)}function Zt(){return(Zt=(0,s.Z)(function*(y,p){return yield qn(y)._initializationPromise,fn(y,p,!1)})).apply(this,arguments)}function fn(y,p){return yn.apply(this,arguments)}function yn(){return(yn=(0,s.Z)(function*(y,p,m=!1){const C=qn(y),K=Li(C,p),Ge=yield new Fo(C,K,m).execute();return Ge&&!m&&(delete Ge.user._redirectEventId,yield C._persistUserIfCurrent(Ge.user),yield C._setRedirectUser(null,p)),Ge})).apply(this,arguments)}function Wt(y){return pi.apply(this,arguments)}function pi(){return(pi=(0,s.Z)(function*(y){const p=qr(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class El{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(m=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Bo(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dr(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var C;if(p.error&&!Dr(p)){const K=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(X(this.auth,K))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const C=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Aa(p))}saveEventToCache(p){this.cachedEventUids.add(Aa(p)),this.lastProcessedEventTime=Date.now()}}function Aa(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Dr({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function Uo(y){return Sa.apply(this,arguments)}function Sa(){return(Sa=(0,s.Z)(function*(y,p={}){return be(y,"GET","/v1/projects",p)})).apply(this,arguments)}const lr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oo=/^https?/;function zh(){return(zh=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Uo(y);for(const m of p)try{if(k_(m))return}catch{}F(y,"unauthorized-domain")})).apply(this,arguments)}function k_(y){const p=Ve(),{protocol:m,hostname:C}=new URL(p);if(y.startsWith("chrome-extension://")){const Ge=new URL(y);return""===Ge.hostname&&""===C?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Ge.hostname===C}if(!oo.test(m))return!1;if(lr.test(y))return C===y;const K=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(C)}const P_=new b(3e4,6e4);function Ho(){const y=_t().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let jo=null;function $h(y){return jo=jo||function gc(y){return new Promise((p,m)=>{var C,K,_e;function Ge(){Ho(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Ho(),m(X(y,"network-request-failed"))},timeout:P_.get()})}if(null!==(K=null===(C=_t().gapi)||void 0===C?void 0:C.iframes)&&void 0!==K&&K.Iframe)p(gapi.iframes.getContext());else{if(null===(_e=_t().gapi)||void 0===_e||!_e.load){const tt=Hi("iframefcb");return _t()[tt]=()=>{gapi.load?Ge():m(X(y,"network-request-failed"))},wr(`https://apis.google.com/js/api.js?onload=${tt}`).catch(Mt=>m(Mt))}Ge()}}).catch(p=>{throw jo=null,p})}(y),jo}const R_=new b(5e3,15e3),qh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yh(y){const p=y.config;S(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?k(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:y.name,v:pe.SDK_VERSION},K=O_.get(y.config.apiHost);K&&(C.eid=K);const _e=y._getFrameworks();return _e.length&&(C.fw=_e.join(",")),`${m}?${(0,O.xO)(C).slice(1)}`}function Al(){return Al=(0,s.Z)(function*(y){const p=yield $h(y),m=_t().gapi;return S(m,y,"internal-error"),p.open({where:document.body,url:Yh(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qh,dontclear:!0},C=>new Promise(function(){var K=(0,s.Z)(function*(_e,Ge){yield C.restyle({setHideOnLeave:!1});const tt=X(y,"network-request-failed"),Mt=_t().setTimeout(()=>{Ge(tt)},R_.get());function Ut(){_t().clearTimeout(Mt),_e(C)}C.ping(Ut).then(Ut,()=>{Ge(tt)})});return function(_e,Ge){return K.apply(this,arguments)}}()))}),Al.apply(this,arguments)}const ao={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class vu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Td(y,p,m,C,K,_e){S(y.config.authDomain,y,"auth-domain-config-required"),S(y.config.apiKey,y,"invalid-api-key");const Ge={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:C,v:pe.SDK_VERSION,eventId:K};if(p instanceof jr){p.setDefaultLanguage(y.languageCode),Ge.providerId=p.providerId||"",(0,O.xb)(p.getCustomParameters())||(Ge.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Mt,Ut]of Object.entries(_e||{}))Ge[Mt]=Ut}if(p instanceof Xs){const Mt=p.getScopes().filter(Ut=>""!==Ut);Mt.length>0&&(Ge.scopes=Mt.join(","))}y.tenantId&&(Ge.tid=y.tenantId);const tt=Ge;for(const Mt of Object.keys(tt))void 0===tt[Mt]&&delete tt[Mt];return`${function L_({config:y}){return y.emulator?k(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,O.xO)(tt).slice(1)}`}const Kh="webStorageSupport";class xa extends class Go{constructor(p){this.factorId=p}_process(p,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,C);case"signin":return this._finalizeSignIn(p,m.credential);default:return oe("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new xa(p)}_finalizeEnroll(p,m,C){return function ig(y,p){return be(y,"POST","/v2/accounts/mfaEnrollment:finalize",U(y,p))}(p,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function Da(y,p){return be(y,"POST","/v2/accounts/mfaSignIn:finalize",U(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let V_=(()=>{class y{constructor(){}static assertion(m){return xa._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var lg="@firebase/auth";class B_{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,s.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(C=>{var K;p((null===(K=C)||void 0===K?void 0:K.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ma(){return window}function Ps(){return(Ps=(0,s.Z)(function*(y,p,m){var C;const{BuildInfo:K}=Ma();W(p.sessionId,"AuthEvent did not contain a session ID");const _e=yield hg(p.sessionId),Ge={};return Ai()?Ge.ibi=K.packageName:xt()?Ge.apn=K.packageName:F(y,"operation-not-supported-in-this-environment"),K.displayName&&(Ge.appDisplayName=K.displayName),Ge.sessionId=_e,Td(y,m,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,Ge)})).apply(this,arguments)}function xd(){return(xd=(0,s.Z)(function*(y){const{BuildInfo:p}=Ma(),m={};Ai()?m.iosBundleId=p.packageName:xt()?m.androidPackageName=p.packageName:F(y,"operation-not-supported-in-this-environment"),yield Uo(y,m)})).apply(this,arguments)}function er(){return(er=(0,s.Z)(function*(y,p,m){const{cordova:C}=Ma();let K=()=>{};try{yield new Promise((_e,Ge)=>{let tt=null;function Mt(){var tn;_e();const xi=null===(tn=C.plugins.browsertab)||void 0===tn?void 0:tn.close;"function"==typeof xi&&xi(),"function"==typeof m?.close&&m.close()}function Ut(){tt||(tt=window.setTimeout(()=>{Ge(X(y,"redirect-cancelled-by-user"))},2e3))}function an(){"visible"===document?.visibilityState&&Ut()}p.addPassiveListener(Mt),document.addEventListener("resume",Ut,!1),xt()&&document.addEventListener("visibilitychange",an,!1),K=()=>{p.removePassiveListener(Mt),document.removeEventListener("resume",Ut,!1),document.removeEventListener("visibilitychange",an,!1),tt&&window.clearTimeout(tt)}})}finally{K()}})).apply(this,arguments)}function hg(y){return Sl.apply(this,arguments)}function Sl(){return(Sl=(0,s.Z)(function*(y){const p=Jh(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(K=>K.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Jh(y){if(W(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let C=0;C<y.length;C++)m[C]=y.charCodeAt(C);return m}!function ug(y){(0,pe._registerComponent)(new B.wA("auth",(p,{options:m})=>{const C=p.getProvider("app").getImmediate(),K=p.getProvider("heartbeat"),{apiKey:_e,authDomain:Ge}=C.options;return((tt,Mt)=>{S(_e&&!_e.includes(":"),"invalid-api-key",{appName:tt.name}),S(!Ge?.includes(":"),"argument-error",{appName:tt.name});const Ut={apiKey:_e,authDomain:Ge,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ws(y)},an=new jl(tt,Mt,Ut);return function Re(y,p){const m=p?.persistence||[],C=(Array.isArray(m)?m:[m]).map(ge);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(C,p?.popupRedirectResolver)}(an,m),an})(C,K)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,C)=>{p.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new B.wA("auth-internal",p=>{const m=qn(p.getProvider("auth").getImmediate());return new B_(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(lg,"0.20.5",function U_(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,pe.registerVersion)(lg,"0.20.5","esm2017")}("Browser");class j_ extends El{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function Md(y){return zo.apply(this,arguments)}function zo(){return(zo=(0,s.Z)(function*(y){const p=yield yc()._get(Id(y));return p&&(yield yc()._remove(Id(y))),p})).apply(this,arguments)}function I0(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const C=Math.floor(Math.random()*p.length);y.push(p.charAt(C))}return y.join("")}function yc(){return ge(Wr)}function Id(y){return On("authEvent",y.config.apiKey,y.name)}function Cu(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,O.zd)(m.join("?"))}function vc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:X("no-auth-event")}}function bc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function $_(y=(0,O.z$)()){return!("file:"!==bc()&&"ionic:"!==bc()&&"capacitor:"!==bc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Y_(){try{const y=self.localStorage,p=qr();if(y)return y.setItem(p,"1"),y.removeItem(p),!function q_(y=(0,O.z$)()){return function ef(){return(0,O.w1)()&&11===document?.documentMode}()||function W_(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return kd()&&(0,O.hl)()}return!1}function kd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zi(){return(function z_(){return"http:"===bc()||"https:"===bc()}()||(0,O.ru)()||$_())&&!function k0(){return(0,O.b$)()||(0,O.UG)()}()&&Y_()&&!kd()}function Eu(){return $_()&&typeof document<"u"}function Pd(){return(Pd=(0,s.Z)(function*(){return!!Eu()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Er={LOCAL:"local",NONE:"none",SESSION:"session"},$o=S,nf="persistence";function Au(y){return Tl.apply(this,arguments)}function Tl(){return(Tl=(0,s.Z)(function*(y){yield y._initializationPromise;const p=af(),m=On(nf,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function af(){var y;try{return(null===(y=function bg(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const wc=S;class $i{constructor(){this.browserResolver=ge(class N_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=br,this._completeRedirectFn=fn,this._overrideRedirectResult=Vo}_openPopup(p,m,C,K){var _e=this;return(0,s.Z)(function*(){var Ge;W(null===(Ge=_e.eventManagers[p._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const tt=Td(p,m,C,Ve(),K);return function lo(y,p,m,C=500,K=600){const _e=Math.max((window.screen.availHeight-K)/2,0).toString(),Ge=Math.max((window.screen.availWidth-C)/2,0).toString();let tt="";const Mt=Object.assign(Object.assign({},ao),{width:C.toString(),height:K.toString(),top:_e,left:Ge}),Ut=(0,O.z$)().toLowerCase();m&&(tt=Rn(Ut)?"_blank":m),wn(Ut)&&(p=p||"http://localhost",Mt.scrollbars="yes");const an=Object.entries(Mt).reduce((xi,[Sr,Ml])=>`${xi}${Sr}=${Ml},`,"");if(function si(y=(0,O.z$)()){var p;return Ai(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ut)&&"_self"!==tt)return function Sd(y,p){const m=document.createElement("a");m.href=y,m.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(p||"",tt),new vu(null);const tn=window.open(p||"",tt,an);S(tn,y,"popup-blocked");try{tn.focus()}catch{}return new vu(tn)}(p,tt,qr())})()}_openRedirect(p,m,C,K){var _e=this;return(0,s.Z)(function*(){return yield _e._originValidation(p),function sr(y){_t().location.href=y}(Td(p,m,C,Ve(),K)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:K,promise:_e}=this.eventManagers[m];return K?Promise.resolve(K):(W(_e,"If manager is not set, promise should be"),_e)}const C=this.initAndGetManager(p);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(p){var m=this;return(0,s.Z)(function*(){const C=yield function Ad(y){return Al.apply(this,arguments)}(p),K=new El(p);return C.register("authEvent",_e=>(S(_e?.authEvent,p,"invalid-auth-event"),{status:K.onEvent(_e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:K},m.iframes[p._key()]=C,K})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Kh,{type:Kh},K=>{var _e;const Ge=null===(_e=K?.[0])||void 0===_e?void 0:_e[Kh];void 0!==Ge&&m(!!Ge),F(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function og(y){return zh.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return oi()||Sn()||Ai()}}),this.cordovaResolver=ge(class Ia{constructor(){this._redirectPersistence=br,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fn,this._overrideRedirectResult=Vo}_initialize(p){var m=this;return(0,s.Z)(function*(){const C=p._key();let K=m.eventManagers.get(C);return K||(K=new j_(p),m.eventManagers.set(C,K),m.attachCallbackListeners(p,K)),K})()}_openPopup(p){F(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,C,K){var _e=this;return(0,s.Z)(function*(){!function _c(y){var p,m,C,K,_e,Ge,tt,Mt,Ut,an;const tn=Ma();S("function"==typeof(null===(p=tn?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),S(typeof(null===(m=tn?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),S("function"==typeof(null===(_e=null===(K=null===(C=tn?.cordova)||void 0===C?void 0:C.plugins)||void 0===K?void 0:K.browsertab)||void 0===_e?void 0:_e.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),S("function"==typeof(null===(Mt=null===(tt=null===(Ge=tn?.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===Mt?void 0:Mt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),S("function"==typeof(null===(an=null===(Ut=tn?.cordova)||void 0===Ut?void 0:Ut.InAppBrowser)||void 0===an?void 0:an.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Ge=yield _e._initialize(p);yield Ge.initialized(),Ge.resetRedirect(),function fs(){ks.clear()}(),yield _e._originValidation(p);const tt=function pg(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:I0(),postBody:null,tenantId:y.tenantId,error:X(y,"no-auth-event")}}(p,C,K);yield function wu(y,p){return yc()._set(Id(y),p)}(p,tt);const Mt=yield function Xh(y,p,m){return Ps.apply(this,arguments)}(p,tt,m),Ut=yield function mc(y){const{cordova:p}=Ma();return new Promise(m=>{p.plugins.browsertab.isAvailable(C=>{let K=null;C?p.plugins.browsertab.openUrl(y):K=p.InAppBrowser.open(y,function oa(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(K)})})}(Mt);return function dg(y,p,m){return er.apply(this,arguments)}(p,Ge,Ut)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function bu(y){return xd.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:C,handleOpenURL:K,BuildInfo:_e}=Ma(),Ge=setTimeout((0,s.Z)(function*(){yield Md(p),m.onEvent(vc())}),500),tt=function(){var an=(0,s.Z)(function*(tn){clearTimeout(Ge);const xi=yield Md(p);let Sr=null;xi&&tn?.url&&(Sr=function M0(y,p){var m,C;const K=function mg(y){const p=Cu(y),m=p.link?decodeURIComponent(p.link):void 0,C=Cu(m).link,K=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Cu(K).link||K||C||m||y}(p);if(K.includes("/__/auth/callback")){const _e=Cu(K),Ge=_e.firebaseError?function gg(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(_e.firebaseError)):null,tt=null===(C=null===(m=Ge?.code)||void 0===m?void 0:m.split("auth/"))||void 0===C?void 0:C[1],Mt=tt?X(tt):null;return Mt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Mt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:K,postBody:null}}return null}(xi,tn.url)),m.onEvent(Sr||vc())});return function(xi){return an.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,tt);const Mt=K,Ut=`${_e.packageName.toLowerCase()}://`;Ma().handleOpenURL=function(){var an=(0,s.Z)(function*(tn){if(tn.toLowerCase().startsWith(Ut)&&tt({url:tn}),"function"==typeof Mt)try{Mt(tn)}catch(xi){console.error(xi)}});return function(tn){return an.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=br,this._completeRedirectFn=fn,this._overrideRedirectResult=Vo}_initialize(p){var m=this;return(0,s.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,C,K){var _e=this;return(0,s.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openPopup(p,m,C,K)})()}_openRedirect(p,m,C,K){var _e=this;return(0,s.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openRedirect(p,m,C,K)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return Eu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return wc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const m=yield function tf(){return Pd.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function wg(y){return y.unwrap()}function Rd(y){return Od(y)}function Od(y){const{_tokenResponse:p}=y instanceof O.ZR?y.customData:y;if(!p)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return dc.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let C;switch(m){case"google.com":C=Ja;break;case"facebook.com":C=Xa;break;case"github.com":C=eu;break;case"twitter.com":C=ql;break;default:const{oauthIdToken:K,oauthAccessToken:_e,oauthTokenSecret:Ge,pendingToken:tt,nonce:Mt}=p;return _e||Ge||K||tt?tt?m.startsWith("saml.")?Xi._create(m,tt):Es._fromParams({providerId:m,signInMethod:m,pendingToken:tt,idToken:K,accessToken:_e}):new da(m).credential({idToken:K,accessToken:_e,rawNonce:Mt}):null}return y instanceof O.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function tr(y,p){return p.catch(m=>{throw m instanceof O.ZR&&function Z_(y,p){var m,C;const K=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(C=p)||void 0===C?void 0:C.code))p.resolver=new Cc(y,function bi(y,p){var m;const C=(0,O.m9)(y),K=p;return S(p.customData.operationType,C,"argument-error"),S(null===(m=K.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),ko._fromError(C,K)}(y,p));else if(K){const _e=Od(p),Ge=p;_e&&(Ge.credential=_e,Ge.tenantId=K.tenantId||void 0,Ge.email=K.email||void 0,Ge.phoneNumber=K.phoneNumber||void 0)}}(y,m),m}).then(m=>{const K=m.user;return{operationType:m.operationType,credential:Rd(m),additionalUserInfo:Oh(m),user:Ar.getOrCreate(K)}})}function ka(y,p){return Fd.apply(this,arguments)}function Fd(){return(Fd=(0,s.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:C=>tr(y,m.confirm(C))}})).apply(this,arguments)}class Cc{constructor(p,m){this.resolver=m,this.auth=function lf(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return tr(wg(this.auth),this.resolver.resolveSignIn(p))}}class Ar{constructor(p){this._delegate=p,this.multiFactor=function yd(y){const p=(0,O.m9)(y);return Po.has(p)||Po.set(p,Vh._fromUser(p)),Po.get(p)}(p)}static getOrCreate(p){return Ar.USER_MAP.has(p)||Ar.USER_MAP.set(p,new Ar(p)),Ar.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,s.Z)(function*(){return tr(m.auth,iu(m._delegate,p))})()}linkWithPhoneNumber(p,m){var C=this;return(0,s.Z)(function*(){return ka(C.auth,function us(y,p,m){return uc.apply(this,arguments)}(C._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,s.Z)(function*(){return tr(m.auth,function Cd(y,p,m){return Oo.apply(this,arguments)}(m._delegate,p,$i))})()}linkWithRedirect(p){var m=this;return(0,s.Z)(function*(){return yield Au(qn(m.auth)),function ze(y,p,m){return function Je(y,p,m){return pt.apply(this,arguments)}(y,p,m)}(m._delegate,p,$i)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,s.Z)(function*(){return tr(m.auth,So(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return ka(this.auth,function bl(y,p,m){return ds.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return tr(this.auth,function Gh(y,p,m){return mu.apply(this,arguments)}(this._delegate,p,$i))}reauthenticateWithRedirect(p){var m=this;return(0,s.Z)(function*(){return yield Au(qn(m.auth)),function V(y,p,m){return function ue(y,p,m){return Oe.apply(this,arguments)}(y,p,m)}(m._delegate,p,$i)})()}sendEmailVerification(p){return function cl(y,p){return ul.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,s.Z)(function*(){return yield function nu(y,p){return ha.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function lu(y,p){return nc((0,O.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function tc(y,p){return nc((0,O.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function wl(y,p){return wd.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ec(y,p){return hl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function au(y,p,m){return dl.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Ar.USER_MAP=new WeakMap;const Su=S;let cf=(()=>{class y{constructor(m,C){if(this.app=m,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:K}=m.options;Su(K,"invalid-api-key",{appName:m.name}),Su(K,"invalid-api-key",{appName:m.name});const _e=typeof window<"u"?$i:void 0;this._delegate=C.initialize({options:{persistence:K_(K,m.name),popupRedirectResolver:_e}}),this._delegate._updateErrorMap(q),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ar.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,C){!function wo(y,p,m){const C=qn(y);S(C._canInitEmulator,C,"emulator-config-failed"),S(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const K=!!m?.disableWarnings,_e=yi(p),{host:Ge,port:tt}=function Ys(y){const p=yi(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(C);if(K){const _e=K[1];return{host:_e,port:Cs(C.substr(_e.length+1))}}{const[_e,Ge]=C.split(":");return{host:_e,port:Cs(Ge)}}}(p);C.config.emulator={url:`${_e}//${Ge}${null===tt?"":`:${tt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Ge,port:tt,protocol:_e.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function fr(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,C)}applyActionCode(m){return function sl(y,p){return Ts.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Kl(this._delegate,m)}confirmPasswordReset(m,C){return function Mo(y,p,m){return yr.apply(this,arguments)}(this._delegate,m,C)}createUserWithEmailAndPassword(m,C){var K=this;return(0,s.Z)(function*(){return tr(K._delegate,function Ui(y,p,m){return vr.apply(this,arguments)}(K._delegate,m,C))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function ll(y,p){return Ql.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function gd(y,p){return"EMAIL_SIGNIN"===$l.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,s.Z)(function*(){Su(zi(),m._delegate,"operation-not-supported-in-this-environment");const C=yield function Pt(y,p){return Zt.apply(this,arguments)}(m._delegate,$i);return C?tr(m._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function G_(y,p){qn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,C,K){const{next:_e,error:Ge,complete:tt}=xl(m,C,K);return this._delegate.onAuthStateChanged(_e,Ge,tt)}onIdTokenChanged(m,C,K){const{next:_e,error:Ge,complete:tt}=xl(m,C,K);return this._delegate.onIdTokenChanged(_e,Ge,tt)}sendSignInLinkToEmail(m,C){return function _a(y,p,m){return zr.apply(this,arguments)}(this._delegate,m,C)}sendPasswordResetEmail(m,C){return function ai(y,p,m){return rl.apply(this,arguments)}(this._delegate,m,C||void 0)}setPersistence(m){var C=this;return(0,s.Z)(function*(){let K;switch(function rf(y,p){$o(Object.values(Er).includes(p),y,"invalid-persistence-type"),(0,O.b$)()?$o(p!==Er.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?$o(p===Er.NONE,y,"unsupported-persistence-type"):kd()?$o(p===Er.NONE||p===Er.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):$o(p===Er.NONE||Y_(),y,"unsupported-persistence-type")}(C._delegate,m),m){case Er.SESSION:K=br;break;case Er.LOCAL:K=(yield ge(pr)._isAvailable())?pr:Wr;break;case Er.NONE:K=rn;break;default:return F("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(K)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return tr(this._delegate,function fi(y){return hd.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return tr(this._delegate,Ht(this._delegate,m))}signInWithCustomToken(m){return tr(this._delegate,function xo(y,p){return gt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,C){return tr(this._delegate,function su(y,p,m){return Ht((0,O.m9)(y),Wl.credential(p,m))}(this._delegate,m,C))}signInWithEmailLink(m,C){return tr(this._delegate,function ou(y,p,m){return al.apply(this,arguments)}(this._delegate,m,C))}signInWithPhoneNumber(m,C){return ka(this._delegate,function Ea(y,p,m){return Ti.apply(this,arguments)}(this._delegate,m,C))}signInWithPopup(m){var C=this;return(0,s.Z)(function*(){return Su(zi(),C._delegate,"operation-not-supported-in-this-environment"),tr(C._delegate,function gu(y,p,m){return Dl.apply(this,arguments)}(C._delegate,m,$i))})()}signInWithRedirect(m){var C=this;return(0,s.Z)(function*(){return Su(zi(),C._delegate,"operation-not-supported-in-this-environment"),yield Au(C._delegate),function Ed(y,p,m){return function pc(y,p,m){return P.apply(this,arguments)}(y,p,m)}(C._delegate,m,$i)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function ol(y,p){return Js.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Er,y})();function xl(y,p,m){let C=y;"function"!=typeof y&&({next:C,error:p,complete:m}=y);const K=C;return{next:Ge=>K(Ge&&Ar.getOrCreate(Ge)),error:p,complete:m}}function K_(y,p){const m=function sf(y,p){const m=af();if(!m)return[];const C=On(nf,y,p);switch(m.getItem(C)){case Er.NONE:return[rn];case Er.LOCAL:return[pr,br];case Er.SESSION:return[br];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(pr)&&m.push(pr),typeof window<"u")for(const C of[Wr,br])m.includes(C)||m.push(C);return m.includes(rn)||m.push(rn),m}class uf{constructor(){this.providerId="phone",this._delegate=new dc(wg(te.Z.auth()))}static credential(p,m){return dc.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}uf.PHONE_SIGN_IN_METHOD=dc.PHONE_SIGN_IN_METHOD,uf.PROVIDER_ID=dc.PROVIDER_ID;const Q_=S;class X_{constructor(p,m,C=te.Z.app()){var K;Q_(null===(K=C.options)||void 0===K?void 0:K.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new ci(p,m,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function J_(y){y.INTERNAL.registerComponent(new B.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new cf(m,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Wl,FacebookAuthProvider:Xa,GithubAuthProvider:eu,GoogleAuthProvider:Ja,OAuthProvider:da,SAMLAuthProvider:Jn,PhoneAuthProvider:uf,PhoneMultiFactorGenerator:V_,RecaptchaVerifier:X_,TwitterAuthProvider:ql,Auth:cf,AuthCredential:Ur,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(te.Z)},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(2306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,R;R=()=>(()=>{"use strict";var __webpack_modules__=[,(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.VerbosityLevel=x.Util=x.UnknownErrorException=x.UnexpectedResponseException=x.UNSUPPORTED_FEATURES=x.TextRenderingMode=x.StreamType=x.RenderingIntentFlag=x.PermissionFlag=x.PasswordResponses=x.PasswordException=x.PageActionEventType=x.OPS=x.MissingPDFException=x.InvalidPDFException=x.ImageKind=x.IDENTITY_MATRIX=x.FormatError=x.FontType=x.FeatureTest=x.FONT_IDENTITY_MATRIX=x.DocumentActionEventType=x.CMapCompressionType=x.BaseException=x.AnnotationType=x.AnnotationStateModelType=x.AnnotationReviewState=x.AnnotationReplyType=x.AnnotationMode=x.AnnotationMarkedState=x.AnnotationFlag=x.AnnotationFieldFlag=x.AnnotationBorderStyleType=x.AnnotationActionEventType=x.AbortException=void 0,x.arrayByteLength=ke,x.arraysToBytes=function Ue(Ne){const we=Ne.length;if(1===we&&Ne[0]instanceof Uint8Array)return Ne[0];let Fe=0;for(let Yt=0;Yt<we;Yt++)Fe+=ke(Ne[Yt]);let rt=0;const bt=new Uint8Array(Fe);for(let Yt=0;Yt<we;Yt++){let Ze=Ne[Yt];Ze instanceof Uint8Array||(Ze="string"==typeof Ze?He(Ze):new Uint8Array(Ze));const Ee=Ze.byteLength;bt.set(Ze,rt),rt+=Ee}return bt},x.assert=function Re(Ne,we){Ne||ye(we)},x.bytesToString=function be(Ne){("object"!=typeof Ne||null===Ne||void 0===Ne.length)&&ye("Invalid argument for bytesToString");const we=Ne.length;if(we<8192)return String.fromCharCode.apply(null,Ne);const rt=[];for(let bt=0;bt<we;bt+=8192){const Yt=Math.min(bt+8192,we),Ze=Ne.subarray(bt,Yt);rt.push(String.fromCharCode.apply(null,Ze))}return rt.join("")},x.createPromiseCapability=function wt(){const Ne=Object.create(null);let we=!1;return Object.defineProperty(Ne,"settled",{get:()=>we}),Ne.promise=new Promise(function(Fe,rt){Ne.resolve=function(bt){we=!0,Fe(bt)},Ne.reject=function(bt){we=!0,rt(bt)}}),Ne},x.createValidAbsoluteUrl=function Xe(Ne,we=null,Fe=null){if(!Ne)return null;try{if(Fe&&"string"==typeof Ne){if(Fe.addDefaultProtocol&&Ne.startsWith("www.")){const bt=Ne.match(/\./g);bt&&bt.length>=2&&(Ne=`http://${Ne}`)}if(Fe.tryConvertEncoding)try{Ne=kt(Ne)}catch{}}const rt=we?new URL(Ne,we):new URL(Ne);if(function Ve(Ne){if(!Ne)return!1;switch(Ne.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(rt))return rt}catch{}return null},x.escapeString=function At(Ne){return Ne.replace(/([()\\\n\r])/g,we=>"\n"===we?"\\n":"\r"===we?"\\r":`\\${we}`)},x.getModificationDate=function ft(Ne=new Date){return[Ne.getUTCFullYear().toString(),(Ne.getUTCMonth()+1).toString().padStart(2,"0"),Ne.getUTCDate().toString().padStart(2,"0"),Ne.getUTCHours().toString().padStart(2,"0"),Ne.getUTCMinutes().toString().padStart(2,"0"),Ne.getUTCSeconds().toString().padStart(2,"0")].join("")},x.getVerbosityLevel=function W(){return S},x.info=function le(Ne){S>=F.INFOS&&console.log(`Info: ${Ne}`)},x.isArrayBuffer=function me(Ne){return"object"==typeof Ne&&null!==Ne&&void 0!==Ne.byteLength},x.isArrayEqual=function xe(Ne,we){if(Ne.length!==we.length)return!1;for(let Fe=0,rt=Ne.length;Fe<rt;Fe++)if(Ne[Fe]!==we[Fe])return!1;return!0},x.isAscii=function nt(Ne){return/^[\x00-\x7F]*$/.test(Ne)},x.objectFromMap=function Qe(Ne){const we=Object.create(null);for(const[Fe,rt]of Ne)we[Fe]=rt;return we},x.objectSize=function qe(Ne){return Object.keys(Ne).length},x.setVerbosityLevel=function oe(Ne){Number.isInteger(Ne)&&(S=Ne)},x.shadow=it,x.string32=function Be(Ne){return String.fromCharCode(Ne>>24&255,Ne>>16&255,Ne>>8&255,255&Ne)},x.stringToBytes=He,x.stringToPDFString=function Ot(Ne){if(Ne[0]>="\xef"){let Fe;if("\xfe"===Ne[0]&&"\xff"===Ne[1]?Fe="utf-16be":"\xff"===Ne[0]&&"\xfe"===Ne[1]?Fe="utf-16le":"\xef"===Ne[0]&&"\xbb"===Ne[1]&&"\xbf"===Ne[2]&&(Fe="utf-8"),Fe)try{const rt=new TextDecoder(Fe,{fatal:!0}),bt=He(Ne);return rt.decode(bt)}catch(rt){ge(`stringToPDFString: "${rt}".`)}}const we=[];for(let Fe=0,rt=Ne.length;Fe<rt;Fe++){const bt=Rt[Ne.charCodeAt(Fe)];we.push(bt?String.fromCharCode(bt):Ne.charAt(Fe))}return we.join("")},x.stringToUTF16BEString=function dt(Ne){const we=["\xfe\xff"];for(let Fe=0,rt=Ne.length;Fe<rt;Fe++){const bt=Ne.charCodeAt(Fe);we.push(String.fromCharCode(bt>>8&255),String.fromCharCode(255&bt))}return we.join("")},x.stringToUTF8String=kt,x.unreachable=ye,x.utf8StringToString=function Ke(Ne){return unescape(encodeURIComponent(Ne))},x.warn=ge,R(2),x.IDENTITY_MATRIX=[1,0,0,1,0,0],x.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],x.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},x.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},x.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},x.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},x.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},x.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},x.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},x.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},x.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},x.AnnotationReplyType={GROUP:"Group",REPLY:"R"},x.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},x.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},x.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},x.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},x.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},x.PageActionEventType={O:"PageOpen",C:"PageClose"},x.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},x.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const F={ERRORS:0,WARNINGS:1,INFOS:5};x.VerbosityLevel=F,x.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},x.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},x.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},x.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let S=F.WARNINGS;function ge(Ne){S>=F.WARNINGS&&console.log(`Warning: ${Ne}`)}function ye(Ne){throw new Error(Ne)}function it(Ne,we,Fe){return Object.defineProperty(Ne,we,{value:Fe,enumerable:!0,configurable:!0,writable:!1}),Fe}const ve=function(){function we(Fe,rt){this.constructor===we&&ye("Cannot initialize BaseException."),this.message=Fe,this.name=rt}return we.prototype=new Error,we.constructor=we,we}();function He(Ne){"string"!=typeof Ne&&ye("Invalid argument for stringToBytes");const we=Ne.length,Fe=new Uint8Array(we);for(let rt=0;rt<we;++rt)Fe[rt]=255&Ne.charCodeAt(rt);return Fe}function ke(Ne){return void 0!==Ne.length?Ne.length:void 0!==Ne.byteLength?Ne.byteLength:void ye("Invalid argument for arrayByteLength")}x.BaseException=ve,x.PasswordException=class I extends ve{constructor(we,Fe){super(we,"PasswordException"),this.code=Fe}},x.UnknownErrorException=class b extends ve{constructor(we,Fe){super(we,"UnknownErrorException"),this.details=Fe}},x.InvalidPDFException=class k extends ve{constructor(we){super(we,"InvalidPDFException")}},x.MissingPDFException=class L extends ve{constructor(we){super(we,"MissingPDFException")}},x.UnexpectedResponseException=class Q extends ve{constructor(we,Fe){super(we,"UnexpectedResponseException"),this.status=Fe}},x.FormatError=class ne extends ve{constructor(we){super(we,"FormatError")}},x.AbortException=class U extends ve{constructor(we){super(we,"AbortException")}},x.FeatureTest=class lt{static get isLittleEndian(){return it(this,"isLittleEndian",function mt(){const Ne=new Uint8Array(4);return Ne[0]=1,1===new Uint32Array(Ne.buffer,0,1)[0]}())}static get isEvalSupported(){return it(this,"isEvalSupported",function Tt(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return it(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const yt=[...Array(256).keys()].map(Ne=>Ne.toString(16).padStart(2,"0"));class ct{static makeHexColor(we,Fe,rt){return`#${yt[we]}${yt[Fe]}${yt[rt]}`}static scaleMinMax(we,Fe){let rt;we[0]?(we[0]<0&&(rt=Fe[0],Fe[0]=Fe[1],Fe[1]=rt),Fe[0]*=we[0],Fe[1]*=we[0],we[3]<0&&(rt=Fe[2],Fe[2]=Fe[3],Fe[3]=rt),Fe[2]*=we[3],Fe[3]*=we[3]):(rt=Fe[0],Fe[0]=Fe[2],Fe[2]=rt,rt=Fe[1],Fe[1]=Fe[3],Fe[3]=rt,we[1]<0&&(rt=Fe[2],Fe[2]=Fe[3],Fe[3]=rt),Fe[2]*=we[1],Fe[3]*=we[1],we[2]<0&&(rt=Fe[0],Fe[0]=Fe[1],Fe[1]=rt),Fe[0]*=we[2],Fe[1]*=we[2]),Fe[0]+=we[4],Fe[1]+=we[4],Fe[2]+=we[5],Fe[3]+=we[5]}static transform(we,Fe){return[we[0]*Fe[0]+we[2]*Fe[1],we[1]*Fe[0]+we[3]*Fe[1],we[0]*Fe[2]+we[2]*Fe[3],we[1]*Fe[2]+we[3]*Fe[3],we[0]*Fe[4]+we[2]*Fe[5]+we[4],we[1]*Fe[4]+we[3]*Fe[5]+we[5]]}static applyTransform(we,Fe){return[we[0]*Fe[0]+we[1]*Fe[2]+Fe[4],we[0]*Fe[1]+we[1]*Fe[3]+Fe[5]]}static applyInverseTransform(we,Fe){const rt=Fe[0]*Fe[3]-Fe[1]*Fe[2];return[(we[0]*Fe[3]-we[1]*Fe[2]+Fe[2]*Fe[5]-Fe[4]*Fe[3])/rt,(-we[0]*Fe[1]+we[1]*Fe[0]+Fe[4]*Fe[1]-Fe[5]*Fe[0])/rt]}static getAxialAlignedBoundingBox(we,Fe){const rt=ct.applyTransform(we,Fe),bt=ct.applyTransform(we.slice(2,4),Fe),Yt=ct.applyTransform([we[0],we[3]],Fe),Ze=ct.applyTransform([we[2],we[1]],Fe);return[Math.min(rt[0],bt[0],Yt[0],Ze[0]),Math.min(rt[1],bt[1],Yt[1],Ze[1]),Math.max(rt[0],bt[0],Yt[0],Ze[0]),Math.max(rt[1],bt[1],Yt[1],Ze[1])]}static inverseTransform(we){const Fe=we[0]*we[3]-we[1]*we[2];return[we[3]/Fe,-we[1]/Fe,-we[2]/Fe,we[0]/Fe,(we[2]*we[5]-we[4]*we[3])/Fe,(we[4]*we[1]-we[5]*we[0])/Fe]}static apply3dTransform(we,Fe){return[we[0]*Fe[0]+we[1]*Fe[1]+we[2]*Fe[2],we[3]*Fe[0]+we[4]*Fe[1]+we[5]*Fe[2],we[6]*Fe[0]+we[7]*Fe[1]+we[8]*Fe[2]]}static singularValueDecompose2dScale(we){const Fe=[we[0],we[2],we[1],we[3]],rt=we[0]*Fe[0]+we[1]*Fe[2],Ze=we[2]*Fe[1]+we[3]*Fe[3],Ee=(rt+Ze)/2,Te=Math.sqrt((rt+Ze)**2-4*(rt*Ze-(we[2]*Fe[0]+we[3]*Fe[2])*(we[0]*Fe[1]+we[1]*Fe[3])))/2,Ae=Ee-Te||1;return[Math.sqrt(Ee+Te||1),Math.sqrt(Ae)]}static normalizeRect(we){const Fe=we.slice(0);return we[0]>we[2]&&(Fe[0]=we[2],Fe[2]=we[0]),we[1]>we[3]&&(Fe[1]=we[3],Fe[3]=we[1]),Fe}static intersect(we,Fe){const rt=Math.max(Math.min(we[0],we[2]),Math.min(Fe[0],Fe[2])),bt=Math.min(Math.max(we[0],we[2]),Math.max(Fe[0],Fe[2]));if(rt>bt)return null;const Yt=Math.max(Math.min(we[1],we[3]),Math.min(Fe[1],Fe[3])),Ze=Math.min(Math.max(we[1],we[3]),Math.max(Fe[1],Fe[3]));return Yt>Ze?null:[rt,Yt,bt,Ze]}static bezierBoundingBox(we,Fe,rt,bt,Yt,Ze,Ee,Te){const De=[],Ae=[[],[]];let Pe,We,at,Dt,en,rn,On,nn;for(let Rn=0;Rn<2;++Rn)if(0===Rn?(We=6*we-12*rt+6*Yt,Pe=-3*we+9*rt-9*Yt+3*Ee,at=3*rt-3*we):(We=6*Fe-12*bt+6*Ze,Pe=-3*Fe+9*bt-9*Ze+3*Te,at=3*bt-3*Fe),Math.abs(Pe)<1e-12){if(Math.abs(We)<1e-12)continue;Dt=-at/We,0<Dt&&Dt<1&&De.push(Dt)}else On=We*We-4*at*Pe,nn=Math.sqrt(On),!(On<0)&&(en=(-We+nn)/(2*Pe),0<en&&en<1&&De.push(en),rn=(-We-nn)/(2*Pe),0<rn&&rn<1&&De.push(rn));let wn,sn=De.length;const Sn=sn;for(;sn--;)Dt=De[sn],wn=1-Dt,Ae[0][sn]=wn*wn*wn*we+3*wn*wn*Dt*rt+3*wn*Dt*Dt*Yt+Dt*Dt*Dt*Ee,Ae[1][sn]=wn*wn*wn*Fe+3*wn*wn*Dt*bt+3*wn*Dt*Dt*Ze+Dt*Dt*Dt*Te;return Ae[0][Sn]=we,Ae[1][Sn]=Fe,Ae[0][Sn+1]=Ee,Ae[1][Sn+1]=Te,Ae[0].length=Ae[1].length=Sn+2,[Math.min(...Ae[0]),Math.min(...Ae[1]),Math.max(...Ae[0]),Math.max(...Ae[1])]}}x.Util=ct;const Rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function kt(Ne){return decodeURIComponent(escape(Ne))}},(Ie,x,R)=>{R(3)},(Ie,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.isNodeJS=void 0;const R=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);x.isNodeJS=R},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:Ie,NodeCMapReaderFactory:x,NodeStandardFontDataFactory:R}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=Ie,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=x,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=R}function setPDFNetworkStreamFactory(Ie){createPDFNetworkStream=Ie}function getDocument(Ie){const x=new PDFDocumentLoadingTask;let R;if("string"==typeof Ie||Ie instanceof URL)R={url:Ie};else if((0,_util.isArrayBuffer)(Ie))R={data:Ie};else if(Ie instanceof PDFDataRangeTransport)R={range:Ie};else{if("object"!=typeof Ie)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!Ie.url&&!Ie.data&&!Ie.range)throw new Error("Invalid parameter object: need either .data, .range or .url");R=Ie}const s=Object.create(null);let te=null,O=null;for(const ie in R){const re=R[ie];switch(ie){case"url":if(typeof window<"u")try{s[ie]=new URL(re,window.location).href;continue}catch(B){(0,_util.warn)(`Cannot create valid URL: "${B}".`)}else if("string"==typeof re||re instanceof URL){s[ie]=re.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":te=re;continue;case"worker":O=re;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&re instanceof Buffer)s[ie]=new Uint8Array(re);else{if(re instanceof Uint8Array)break;if("string"==typeof re)s[ie]=(0,_util.stringToBytes)(re);else if("object"!=typeof re||null===re||isNaN(re.length)){if(!(0,_util.isArrayBuffer)(re))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");s[ie]=new Uint8Array(re)}else s[ie]=new Uint8Array(re)}continue}s[ie]=re}if(s.CMapReaderFactory=s.CMapReaderFactory||DefaultCMapReaderFactory,s.StandardFontDataFactory=s.StandardFontDataFactory||DefaultStandardFontDataFactory,s.ignoreErrors=!0!==s.stopAtErrors,s.fontExtraProperties=!0===s.fontExtraProperties,s.pdfBug=!0===s.pdfBug,s.enableXfa=!0===s.enableXfa,(!Number.isInteger(s.rangeChunkSize)||s.rangeChunkSize<1)&&(s.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof s.docBaseUrl||(0,_display_utils.isDataScheme)(s.docBaseUrl))&&(s.docBaseUrl=null),(!Number.isInteger(s.maxImageSize)||s.maxImageSize<-1)&&(s.maxImageSize=-1),"string"!=typeof s.cMapUrl&&(s.cMapUrl=null),"string"!=typeof s.standardFontDataUrl&&(s.standardFontDataUrl=null),"boolean"!=typeof s.useWorkerFetch&&(s.useWorkerFetch=s.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&s.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof s.isEvalSupported&&(s.isEvalSupported=!0),"boolean"!=typeof s.disableFontFace&&(s.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof s.useSystemFonts&&(s.useSystemFonts=!_is_node.isNodeJS&&!s.disableFontFace),("object"!=typeof s.ownerDocument||null===s.ownerDocument)&&(s.ownerDocument=globalThis.document),"boolean"!=typeof s.disableRange&&(s.disableRange=!1),"boolean"!=typeof s.disableStream&&(s.disableStream=!1),"boolean"!=typeof s.disableAutoFetch&&(s.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(s.verbosity),!O){const ie={verbosity:s.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};O=ie.port?_PDFWorker.fromPort(ie):new _PDFWorker(ie),x._worker=O}const pe=x.docId;return O.promise.then(function(){if(x.destroyed)throw new Error("Loading aborted");const ie=_fetchDocument(O,s,te,pe),re=new Promise(function(B){let ce;te?ce=new _transport_stream.PDFDataTransportStream({length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,contentDispositionFilename:s.contentDispositionFilename,disableRange:s.disableRange,disableStream:s.disableStream},te):s.data||(ce=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream})),B(ce)});return Promise.all([ie,re]).then(function([B,ce]){if(x.destroyed)throw new Error("Loading aborted");const he=new _message_handler.MessageHandler(pe,B,O.port),ee=new WorkerTransport(he,x,ce,s);x._transport=ee,he.send("Ready",null)})}).catch(x._capability.reject),x}function _fetchDocument(Ie,x,R,s){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(Ie,x,R,s){if(Ie.destroyed)throw new Error("Worker was destroyed");R&&(x.length=R.length,x.initialData=R.initialData,x.progressiveDone=R.progressiveDone,x.contentDispositionFilename=R.contentDispositionFilename);const te=yield Ie.messageHandler.sendWithPromise("GetDocRequest",{docId:s,apiVersion:"2.14.305",source:{data:x.data,url:x.url,password:x.password,disableAutoFetch:x.disableAutoFetch,rangeChunkSize:x.rangeChunkSize,length:x.length},maxImageSize:x.maxImageSize,disableFontFace:x.disableFontFace,docBaseUrl:x.docBaseUrl,ignoreErrors:x.ignoreErrors,isEvalSupported:x.isEvalSupported,fontExtraProperties:x.fontExtraProperties,enableXfa:x.enableXfa,useSystemFonts:x.useSystemFonts,cMapUrl:x.useWorkerFetch?x.cMapUrl:null,standardFontDataUrl:x.useWorkerFetch?x.standardFontDataUrl:null});if(Ie.destroyed)throw new Error("Worker was destroyed");return te})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var x,R;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(x=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),R=x++,x)),R}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var x=this;return _asyncToGenerator(function*(){x.destroyed=!0,yield x._transport?.destroy(),x._transport=null,x._worker&&(x._worker.destroy(),x._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(x,R,s=!1,te=null){this.length=x,this.initialData=R,this.progressiveDone=s,this.contentDispositionFilename=te,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(x){this._rangeListeners.push(x)}addProgressListener(x){this._progressListeners.push(x)}addProgressiveReadListener(x){this._progressiveReadListeners.push(x)}addProgressiveDoneListener(x){this._progressiveDoneListeners.push(x)}onDataRange(x,R){for(const s of this._rangeListeners)s(x,R)}onDataProgress(x,R){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(x,R)})}onDataProgressiveRead(x){this._readyCapability.promise.then(()=>{for(const R of this._progressiveReadListeners)R(x)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const x of this._progressiveDoneListeners)x()})}transportReady(){this._readyCapability.resolve()}requestDataRange(x,R){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(x,R){var te,s=this;this._pdfInfo=x,this._transport=R,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(te=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),s.stats||{streamTypes:{},fontTypes:{}}}),function(){return te.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(x){return this._transport.getPage(x)}getPageIndex(x){return this._transport.getPageIndex(x)}getDestinations(){return this._transport.getDestinations()}getDestination(x){return this._transport.getDestination(x)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(x=!1){return this._transport.startCleanup(x||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(x,R,s,te,O=!1){this._pageIndex=x,this._pageInfo=R,this._ownerDocument=te,this._transport=s,this._stats=O?new _display_utils.StatTimer:null,this._pdfBug=O,this.commonObjs=s.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:x,rotation:R=this.rotate,offsetX:s=0,offsetY:te=0,dontFlip:O=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:x,rotation:R,offsetX:s,offsetY:te,dontFlip:O})}getAnnotations({intent:x="display"}={}){const R=this._transport.getRenderingIntent(x);let s=this._annotationPromises.get(R.cacheKey);return s||(s=this._transport.getAnnotations(this._pageIndex,R.renderingIntent),this._annotationPromises.set(R.cacheKey,s),s=s.then(te=>{for(const O of te)void 0!==O.titleObj&&Object.defineProperty(O,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),O.titleObj.str)}),void 0!==O.contentsObj&&Object.defineProperty(O,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),O.contentsObj.str)});return te})),s}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var x=this;return _asyncToGenerator(function*(){return x._transport._htmlForXfa?.children[x._pageIndex]||null})()}render({canvasContext:x,viewport:R,intent:s="display",annotationMode:te=_util.AnnotationMode.ENABLE,transform:O=null,imageLayer:pe=null,canvasFactory:ie=null,background:re=null,optionalContentConfigPromise:B=null,annotationCanvasMap:ce=null,pageColors:he=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&te===_util.AnnotationMode.ENABLE&&(te=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&te===_util.AnnotationMode.ENABLE&&(te=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const ee=this._transport.getRenderingIntent(s,te);this.pendingCleanup=!1,B||(B=this._transport.getOptionalContentConfig());let Y=this._intentStates.get(ee.cacheKey);Y||(Y=Object.create(null),this._intentStates.set(ee.cacheKey,Y)),Y.streamReaderCancelTimeout&&(clearTimeout(Y.streamReaderCancelTimeout),Y.streamReaderCancelTimeout=null);const se=ie||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),$=!!(ee.renderingIntent&_util.RenderingIntentFlag.PRINT);Y.displayReadyCapability||(Y.displayReadyCapability=(0,_util.createPromiseCapability)(),Y.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(ee));const ae=z=>{Y.renderTasks.delete(q),(this.cleanupAfterRender||$)&&(this.pendingCleanup=!0),this._tryCleanup(),z?(q.capability.reject(z),this._abortOperatorList({intentState:Y,reason:z instanceof Error?z:new Error(z)})):q.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},q=new InternalRenderTask({callback:ae,params:{canvasContext:x,viewport:R,transform:O,imageLayer:pe,background:re},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ce,operatorList:Y.operatorList,pageIndex:this._pageIndex,canvasFactory:se,useRequestAnimationFrame:!$,pdfBug:this._pdfBug,pageColors:he});(Y.renderTasks||(Y.renderTasks=new Set)).add(q);const fe=q.task;return Promise.all([Y.displayReadyCapability.promise,B]).then(([z,Z])=>{this.pendingCleanup?ae():(this._stats&&this._stats.time("Rendering"),q.initializeGraphics({transparency:z,optionalContentConfig:Z}),q.operatorListChanged())}).catch(ae),fe}getOperatorList({intent:x="display",annotationMode:R=_util.AnnotationMode.ENABLE}={}){const te=this._transport.getRenderingIntent(x,R,!0);let pe,O=this._intentStates.get(te.cacheKey);return O||(O=Object.create(null),this._intentStates.set(te.cacheKey,O)),O.opListReadCapability||(pe=Object.create(null),pe.operatorListChanged=function s(){O.operatorList.lastChunk&&(O.opListReadCapability.resolve(O.operatorList),O.renderTasks.delete(pe))},O.opListReadCapability=(0,_util.createPromiseCapability)(),(O.renderTasks||(O.renderTasks=new Set)).add(pe),O.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(te)),O.opListReadCapability.promise}streamTextContent({disableCombineTextItems:x=!1,includeMarkedContent:R=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==x,includeMarkedContent:!0===R},{highWaterMark:100,size:te=>te.items.length})}getTextContent(x={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>_xfa_text.XfaText.textContent(s));const R=this.streamTextContent(x);return new Promise(function(s,te){const pe=R.getReader(),ie={items:[],styles:Object.create(null)};!function O(){pe.read().then(function({value:re,done:B}){B?s(ie):(Object.assign(ie.styles,re.styles),ie.items.push(...re.items),O())},te)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const x=[];for(const R of this._intentStates.values())if(this._abortOperatorList({intentState:R,reason:new Error("Page was destroyed."),force:!0}),!R.opListReadCapability)for(const s of R.renderTasks)x.push(s.completed),s.cancel();this.objs.clear();for(const R of this._bitmaps)R.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(x)}cleanup(x=!1){return this.pendingCleanup=!0,this._tryCleanup(x)}_tryCleanup(x=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:R,operatorList:s}of this._intentStates.values())if(R.size>0||!s.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,x&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const R of this._bitmaps)R.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(x,R){const s=this._intentStates.get(R);!s||(this._stats&&this._stats.timeEnd("Page Request"),s.displayReadyCapability&&s.displayReadyCapability.resolve(x))}_renderPageChunk(x,R){for(let s=0,te=x.length;s<te;s++)R.operatorList.fnArray.push(x.fnArray[s]),R.operatorList.argsArray.push(x.argsArray[s]);R.operatorList.lastChunk=x.lastChunk;for(const s of R.renderTasks)s.operatorListChanged();x.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:x,cacheKey:R}){const te=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:x,cacheKey:R,annotationStorage:x&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),O=this._intentStates.get(R);O.streamReader=te;const pe=()=>{te.read().then(({value:ie,done:re})=>{re?O.streamReader=null:this._transport.destroyed||(this._renderPageChunk(ie,O),pe())},ie=>{if(O.streamReader=null,!this._transport.destroyed){if(O.operatorList){O.operatorList.lastChunk=!0;for(const re of O.renderTasks)re.operatorListChanged();this._tryCleanup()}if(O.displayReadyCapability)O.displayReadyCapability.reject(ie);else{if(!O.opListReadCapability)throw ie;O.opListReadCapability.reject(ie)}}})};pe()}_abortOperatorList({intentState:x,reason:R,force:s=!1}){if(x.streamReader){if(!s){if(x.renderTasks.size>0)return;if(R instanceof _display_utils.RenderingCancelledException)return void(x.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:x,reason:R,force:!0}),x.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(x.streamReader.cancel(new _util.AbortException(R.message)).catch(()=>{}),x.streamReader=null,!this._transport.destroyed){for(const[te,O]of this._intentStates)if(O===x){this._intentStates.delete(te);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(x,R){const s={data:structuredClone(x,R)};this._deferred.then(()=>{for(const te of this._listeners)te.call(this,s)})}addEventListener(x,R){this._listeners.push(R)}removeEventListener(x,R){const s=this._listeners.indexOf(R);this._listeners.splice(s,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const Ie=document?.currentScript?.src;Ie&&(PDFWorkerUtil.fallbackWorkerSrc=Ie.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Ie,x){let R;try{if(R=new URL(Ie),!R.origin||"null"===R.origin)return!1}catch{return!1}const s=new URL(x,R);return R.origin===s.origin},PDFWorkerUtil.createCDNWrapper=function(Ie){return URL.createObjectURL(new Blob([`importScripts("${Ie}");`]))};class _PDFWorker{constructor({name:Ie=null,port:x=null,verbosity:R=(0,_util.getVerbosityLevel)()}={}){if(x&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(x))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Ie,this.destroyed=!1,this.verbosity=R,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,x)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(x,this),void this._initializeFromPort(x);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Ie){this._port=Ie,this._messageHandler=new _message_handler.MessageHandler("main","worker",Ie),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let Ie=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,Ie)||(Ie=PDFWorkerUtil.createCDNWrapper(new URL(Ie,window.location).href));const x=new Worker(Ie),R=new _message_handler.MessageHandler("main","worker",x),s=()=>{x.removeEventListener("error",te),R.destroy(),x.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},te=()=>{this._webWorker||s()};x.addEventListener("error",te),R.on("test",pe=>{x.removeEventListener("error",te),this.destroyed?s():pe?(this._messageHandler=R,this._port=x,this._webWorker=x,this._readyCapability.resolve(),R.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),R.destroy(),x.terminate())}),R.on("ready",pe=>{if(x.removeEventListener("error",te),this.destroyed)s();else try{O()}catch{this._setupFakeWorker()}});const O=()=>{const pe=new Uint8Array;R.send("test",pe,[pe.buffer])};return void O()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Ie=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const x=new LoopbackPort;this._port=x;const R="fake"+PDFWorkerUtil.fakeWorkerId++,s=new _message_handler.MessageHandler(R+"_worker",R,x);Ie.setup(s,x);const te=new _message_handler.MessageHandler(R,R+"_worker",x);this._messageHandler=te,this._readyCapability.resolve(),te.send("configure",{verbosity:this.verbosity})}).catch(Ie=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Ie.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Ie){if(!Ie?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(Ie.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(Ie.port):new _PDFWorker(Ie)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function Ie(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(x,R,s,te){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=x,this.loadingTask=R,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:R.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:te.ownerDocument,styleElement:te.styleElement}),this._params=te,te.useWorkerFetch||(this.CMapReaderFactory=new te.CMapReaderFactory({baseUrl:te.cMapUrl,isCompressed:te.cMapPacked}),this.StandardFontDataFactory=new te.StandardFontDataFactory({baseUrl:te.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(x,R=_util.AnnotationMode.ENABLE,s=!1){let te=_util.RenderingIntentFlag.DISPLAY,O="";switch(x){case"any":te=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":te=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${x}`)}switch(R){case _util.AnnotationMode.DISABLE:te+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:te+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:te+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,O=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${R}`)}return s&&(te+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:te,cacheKey:`${te}_${O}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const x=[];for(const s of _classPrivateFieldGet(this,_pageCache).values())x.push(s._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const R=this.messageHandler.sendWithPromise("Terminate",null);return x.push(R),Promise.all(x).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:x,loadingTask:R}=this;x.on("GetReader",(s,te)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=O=>{this._lastProgress={loaded:O.loaded,total:O.total}},te.onPull=()=>{this._fullReader.read().then(function({value:O,done:pe}){pe?te.close():((0,_util.assert)((0,_util.isArrayBuffer)(O),"GetReader - expected an ArrayBuffer."),te.enqueue(new Uint8Array(O),1,[O]))}).catch(O=>{te.error(O)})},te.onCancel=O=>{this._fullReader.cancel(O),te.ready.catch(pe=>{if(!this.destroyed)throw pe})}}),x.on("ReaderHeadersReady",s=>{const te=(0,_util.createPromiseCapability)(),O=this._fullReader;return O.headersReady.then(()=>{(!O.isStreamingSupported||!O.isRangeSupported)&&(this._lastProgress&&R.onProgress?.(this._lastProgress),O.onProgress=pe=>{R.onProgress?.({loaded:pe.loaded,total:pe.total})}),te.resolve({isStreamingSupported:O.isStreamingSupported,isRangeSupported:O.isRangeSupported,contentLength:O.contentLength})},te.reject),te.promise}),x.on("GetRangeReader",(s,te)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const O=this._networkStream.getRangeReader(s.begin,s.end);O?(te.onPull=()=>{O.read().then(function({value:pe,done:ie}){ie?te.close():((0,_util.assert)((0,_util.isArrayBuffer)(pe),"GetRangeReader - expected an ArrayBuffer."),te.enqueue(new Uint8Array(pe),1,[pe]))}).catch(pe=>{te.error(pe)})},te.onCancel=pe=>{O.cancel(pe),te.ready.catch(ie=>{if(!this.destroyed)throw ie})}):te.close()}),x.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,R._capability.resolve(new PDFDocumentProxy(s,this))}),x.on("DocException",function(s){let te;switch(s.name){case"PasswordException":te=new _util.PasswordException(s.message,s.code);break;case"InvalidPDFException":te=new _util.InvalidPDFException(s.message);break;case"MissingPDFException":te=new _util.MissingPDFException(s.message);break;case"UnexpectedResponseException":te=new _util.UnexpectedResponseException(s.message,s.status);break;case"UnknownErrorException":te=new _util.UnknownErrorException(s.message,s.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}R._capability.reject(te)}),x.on("PasswordRequest",s=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),R.onPassword){const te=O=>{O instanceof Error?this._passwordCapability.reject(O):this._passwordCapability.resolve({password:O})};try{R.onPassword(te,s.code)}catch(O){this._passwordCapability.reject(O)}}else this._passwordCapability.reject(new _util.PasswordException(s.message,s.code));return this._passwordCapability.promise}),x.on("DataLoaded",s=>{R.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),x.on("StartRenderPage",s=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),x.on("commonobj",([s,te,O])=>{if(!this.destroyed&&!this.commonObjs.has(s))switch(te){case"Font":const pe=this._params;if("error"in O){const B=O.error;(0,_util.warn)(`Error during font loading: ${B}`),this.commonObjs.resolve(s,B);break}let ie=null;pe.pdfBug&&globalThis.FontInspector?.enabled&&(ie={registerFont(B,ce){globalThis.FontInspector.fontAdded(B,ce)}});const re=new _font_loader.FontFaceObject(O,{isEvalSupported:pe.isEvalSupported,disableFontFace:pe.disableFontFace,ignoreErrors:pe.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:ie});this.fontLoader.bind(re).catch(B=>x.sendWithPromise("FontFallback",{id:s})).finally(()=>{!pe.fontExtraProperties&&re.data&&(re.data=null),this.commonObjs.resolve(s,re)});break;case"FontPath":case"Image":this.commonObjs.resolve(s,O);break;default:throw new Error(`Got unknown common object type ${te}`)}}),x.on("obj",([s,te,O,pe])=>{if(this.destroyed)return;const ie=_classPrivateFieldGet(this,_pageCache).get(te);if(!ie.objs.has(s))switch(O){case"Image":ie.objs.resolve(s,pe);const re=8e6;if(pe){let B;if(pe.bitmap){const{bitmap:ce,width:he,height:ee}=pe;B=he*ee*4,ie._bitmaps.add(ce)}else B=pe.data?.length||0;B>re&&(ie.cleanupAfterRender=!0)}break;case"Pattern":ie.objs.resolve(s,pe);break;default:throw new Error(`Got unknown object type ${O}`)}}),x.on("DocProgress",s=>{this.destroyed||R.onProgress?.({loaded:s.loaded,total:s.total})}),x.on("DocStats",s=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(s.streamTypes),fontTypes:Object.freeze(s.fontTypes)}))}),x.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),x.on("FetchBuiltInCMap",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(s):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),x.on("FetchStandardFontData",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(s):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:x}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(x)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(x){if(!Number.isInteger(x)||x<=0||x>this._numPages)return Promise.reject(new Error("Invalid page request."));const R=x-1,s=_classPrivateFieldGet(this,_pagePromises).get(R);if(s)return s;const te=this.messageHandler.sendWithPromise("GetPage",{pageIndex:R}).then(O=>{if(this.destroyed)throw new Error("Transport destroyed");const pe=new PDFPageProxy(R,O,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(R,pe),pe});return _classPrivateFieldGet(this,_pagePromises).set(R,te),te}getPageIndex(x){return"object"!=typeof x||null===x||!Number.isInteger(x.num)||x.num<0||!Number.isInteger(x.gen)||x.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:x.num,gen:x.gen})}getAnnotations(x,R){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:x,intent:R})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(x){return"string"!=typeof x?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:x})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(x){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:x})}getStructTree(x){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:x})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(x=>new _optional_content_config.OptionalContentConfig(x))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(x=>({info:x[0],metadata:x[1]?new _metadata.Metadata(x[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(x=!1){var R=this;return _asyncToGenerator(function*(){if(yield R.messageHandler.sendWithPromise("Cleanup",null),!R.destroyed){for(const s of _classPrivateFieldGet(R,_pageCache).values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);R.commonObjs.clear(),x||R.fontLoader.clear(),_classPrivateFieldSet(R,_metadataPromise,null),R._getFieldObjectsPromise=null,R._hasJSActionsPromise=null}})()}get loadingParams(){const x=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:x.disableAutoFetch,enableXfa:x.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(x,R=null){if(R){const te=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,x);return te.capability.promise.then(()=>R(te.data)),null}const s=_classPrivateFieldGet(this,_objs)[x];if(!s?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${x}.`);return s.data}has(x){return _classPrivateFieldGet(this,_objs)[x]?.capability.settled||!1}resolve(x,R=null){const s=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,x);s.data=R,s.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(Ie){return _classPrivateFieldGet(this,_objs)[Ie]||(_classPrivateFieldGet(this,_objs)[Ie]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(x){this._internalRenderTask=x,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:x,params:R,objs:s,commonObjs:te,annotationCanvasMap:O,operatorList:pe,pageIndex:ie,canvasFactory:re,useRequestAnimationFrame:B=!1,pdfBug:ce=!1,pageColors:he=null}){this.callback=x,this.params=R,this.objs=s,this.commonObjs=te,this.annotationCanvasMap=O,this.operatorListIdx=null,this.operatorList=pe,this._pageIndex=ie,this.canvasFactory=re,this._pdfBug=ce,this.pageColors=he,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===B&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=R.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:x=!1,optionalContentConfig:R}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:te,transform:O,imageLayer:pe,background:ie}=this.params;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,pe,R,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:O,viewport:te,transparency:x,background:ie}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(x=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(x||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var x=this;return _asyncToGenerator(function*(){x.cancelled||(x.operatorListIdx=x.gfx.executeOperatorList(x.operatorList,x.operatorListIdx,x._continueBound,x.stepper),x.operatorListIdx===x.operatorList.argsArray.length&&(x.running=!1,x.operatorList.lastChunk&&(x.gfx.endDrawing(),x._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(x._canvas),x.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.StatTimer=x.RenderingCancelledException=x.PixelsPerInch=x.PageViewport=x.PDFDateString=x.DOMStandardFontDataFactory=x.DOMSVGFactory=x.DOMCanvasFactory=x.DOMCMapReaderFactory=void 0,x.deprecated=function A(J){console.log("Deprecated API usage: "+J)},x.getFilenameFromUrl=function q(J){const j=J.indexOf("#"),S=J.indexOf("?"),oe=Math.min(j>0?j:J.length,S>0?S:J.length);return J.substring(J.lastIndexOf("/",oe)+1,oe)},x.getPdfFilenameFromUrl=function fe(J,j="document.pdf"){if("string"!=typeof J)return j;if($(J))return(0,te.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),j;const oe=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,W=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(J);let le=oe.exec(W[1])||oe.exec(W[2])||oe.exec(W[3]);if(le&&(le=le[0],le.includes("%")))try{le=oe.exec(decodeURIComponent(le))[0]}catch{}return le||j},x.getXfaPageViewport=function N(J,{scale:j=1,rotation:S=0}){const{width:oe,height:W}=J.attributes.style,le=[0,0,parseInt(oe),parseInt(W)];return new Y({viewBox:le,scale:j,rotation:S})},x.isDataScheme=$,x.isPdfFile=function ae(J){return"string"==typeof J&&/\.pdf$/i.test(J)},x.isValidFetchUrl=Z,x.loadScript=function E(J,j=!1){return new Promise((S,oe)=>{const W=document.createElement("script");W.src=J,W.onload=function(le){j&&W.remove(),S(le)},W.onerror=function(){oe(new Error(`Cannot load script at: ${W.src}`))},(document.head||document.documentElement).appendChild(W)})};var s=R(6),te=R(1);class pe{}function re(J){return B.apply(this,arguments)}function B(){return(B=_asyncToGenerator(function*(J,j=!1){if(Z(J,document.baseURI)){const S=yield fetch(J);if(!S.ok)throw new Error(S.statusText);return j?new Uint8Array(yield S.arrayBuffer()):(0,te.stringToBytes)(yield S.text())}return new Promise((S,oe)=>{const W=new XMLHttpRequest;W.open("GET",J,!0),j&&(W.responseType="arraybuffer"),W.onreadystatechange=()=>{if(W.readyState===XMLHttpRequest.DONE){if(200===W.status||0===W.status){let le;if(j&&W.response?le=new Uint8Array(W.response):!j&&W.responseText&&(le=(0,te.stringToBytes)(W.responseText)),le)return void S(le)}oe(new Error(W.statusText))}},W.send(null)})})).apply(this,arguments)}_defineProperty(pe,"CSS",96),_defineProperty(pe,"PDF",72),_defineProperty(pe,"PDF_TO_CSS_UNITS",pe.CSS/pe.PDF),x.PixelsPerInch=pe,x.DOMCanvasFactory=class ie extends s.BaseCanvasFactory{constructor({ownerDocument:j=globalThis.document}={}){super(),this._document=j}_createCanvas(j,S){const oe=this._document.createElement("canvas");return oe.width=j,oe.height=S,oe}},x.DOMCMapReaderFactory=class ce extends s.BaseCMapReaderFactory{_fetchData(j,S){return re(j,this.isCompressed).then(oe=>({cMapData:oe,compressionType:S}))}},x.DOMStandardFontDataFactory=class he extends s.BaseStandardFontDataFactory{_fetchData(j){return re(j,!0)}},x.DOMSVGFactory=class ee extends s.BaseSVGFactory{_createSVG(j){return document.createElementNS("http://www.w3.org/2000/svg",j)}};class Y{constructor({viewBox:j,scale:S,rotation:oe,offsetX:W=0,offsetY:le=0,dontFlip:ge=!1}){this.viewBox=j,this.scale=S,this.rotation=oe,this.offsetX=W,this.offsetY=le;const ye=(j[2]+j[0])/2,Re=(j[3]+j[1])/2;let Ve,Xe,it,ve,I,b,k,L;switch((oe%=360)<0&&(oe+=360),oe){case 180:Ve=-1,Xe=0,it=0,ve=1;break;case 90:Ve=0,Xe=1,it=1,ve=0;break;case 270:Ve=0,Xe=-1,it=-1,ve=0;break;case 0:Ve=1,Xe=0,it=0,ve=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ge&&(it=-it,ve=-ve),0===Ve?(I=Math.abs(Re-j[1])*S+W,b=Math.abs(ye-j[0])*S+le,k=Math.abs(j[3]-j[1])*S,L=Math.abs(j[2]-j[0])*S):(I=Math.abs(ye-j[0])*S+W,b=Math.abs(Re-j[1])*S+le,k=Math.abs(j[2]-j[0])*S,L=Math.abs(j[3]-j[1])*S),this.transform=[Ve*S,Xe*S,it*S,ve*S,I-Ve*S*ye-it*S*Re,b-Xe*S*ye-ve*S*Re],this.width=k,this.height=L}clone({scale:j=this.scale,rotation:S=this.rotation,offsetX:oe=this.offsetX,offsetY:W=this.offsetY,dontFlip:le=!1}={}){return new Y({viewBox:this.viewBox.slice(),scale:j,rotation:S,offsetX:oe,offsetY:W,dontFlip:le})}convertToViewportPoint(j,S){return te.Util.applyTransform([j,S],this.transform)}convertToViewportRectangle(j){const S=te.Util.applyTransform([j[0],j[1]],this.transform),oe=te.Util.applyTransform([j[2],j[3]],this.transform);return[S[0],S[1],oe[0],oe[1]]}convertToPdfPoint(j,S){return te.Util.applyInverseTransform([j,S],this.transform)}}function $(J){const j=J.length;let S=0;for(;S<j&&""===J[S].trim();)S++;return"data:"===J.substring(S,S+5).toLowerCase()}function Z(J,j){try{const{protocol:S}=j?new URL(J,j):new URL(J);return"http:"===S||"https:"===S}catch{return!1}}let F;x.PageViewport=Y,x.RenderingCancelledException=class se extends te.BaseException{constructor(j,S){super(j,"RenderingCancelledException"),this.type=S}},x.StatTimer=class z{constructor(){this.started=Object.create(null),this.times=[]}time(j){j in this.started&&(0,te.warn)(`Timer is already running for ${j}`),this.started[j]=Date.now()}timeEnd(j){j in this.started||(0,te.warn)(`Timer has not been started for ${j}`),this.times.push({name:j,start:this.started[j],end:Date.now()}),delete this.started[j]}toString(){const j=[];let S=0;for(const oe of this.times){const W=oe.name;W.length>S&&(S=W.length)}for(const oe of this.times){const W=oe.end-oe.start;j.push(`${oe.name.padEnd(S)} ${W}ms\n`)}return j.join("")}},x.PDFDateString=class X{static toDateObject(j){if(!j||"string"!=typeof j)return null;F||(F=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const S=F.exec(j);if(!S)return null;const oe=parseInt(S[1],10);let W=parseInt(S[2],10);W=W>=1&&W<=12?W-1:0;let le=parseInt(S[3],10);le=le>=1&&le<=31?le:1;let ge=parseInt(S[4],10);ge=ge>=0&&ge<=23?ge:0;let ye=parseInt(S[5],10);ye=ye>=0&&ye<=59?ye:0;let Re=parseInt(S[6],10);Re=Re>=0&&Re<=59?Re:0;const Ve=S[7]||"Z";let Xe=parseInt(S[8],10);Xe=Xe>=0&&Xe<=23?Xe:0;let it=parseInt(S[9],10)||0;return it=it>=0&&it<=59?it:0,"-"===Ve?(ge+=Xe,ye+=it):"+"===Ve&&(ge-=Xe,ye-=it),new Date(Date.UTC(oe,W,le,ge,ye,Re))}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.BaseStandardFontDataFactory=x.BaseSVGFactory=x.BaseCanvasFactory=x.BaseCMapReaderFactory=void 0;var s=R(1);class te{constructor(){this.constructor===te&&(0,s.unreachable)("Cannot initialize BaseCanvasFactory.")}create(B,ce){if(B<=0||ce<=0)throw new Error("Invalid canvas size");const he=this._createCanvas(B,ce);return{canvas:he,context:he.getContext("2d")}}reset(B,ce,he){if(!B.canvas)throw new Error("Canvas is not specified");if(ce<=0||he<=0)throw new Error("Invalid canvas size");B.canvas.width=ce,B.canvas.height=he}destroy(B){if(!B.canvas)throw new Error("Canvas is not specified");B.canvas.width=0,B.canvas.height=0,B.canvas=null,B.context=null}_createCanvas(B,ce){(0,s.unreachable)("Abstract method `_createCanvas` called.")}}x.BaseCanvasFactory=te;class O{constructor({baseUrl:B=null,isCompressed:ce=!1}){this.constructor===O&&(0,s.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=B,this.isCompressed=ce}fetch({name:B}){var ce=this;return _asyncToGenerator(function*(){if(!ce.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!B)throw new Error("CMap name must be specified.");const he=ce.baseUrl+B+(ce.isCompressed?".bcmap":"");return ce._fetchData(he,ce.isCompressed?s.CMapCompressionType.BINARY:s.CMapCompressionType.NONE).catch(Y=>{throw new Error(`Unable to load ${ce.isCompressed?"binary ":""}CMap at: ${he}`)})})()}_fetchData(B,ce){(0,s.unreachable)("Abstract method `_fetchData` called.")}}x.BaseCMapReaderFactory=O;class pe{constructor({baseUrl:B=null}){this.constructor===pe&&(0,s.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=B}fetch({filename:B}){var ce=this;return _asyncToGenerator(function*(){if(!ce.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!B)throw new Error("Font filename must be specified.");const he=`${ce.baseUrl}${B}`;return ce._fetchData(he).catch(ee=>{throw new Error(`Unable to load font data at: ${he}`)})})()}_fetchData(B){(0,s.unreachable)("Abstract method `_fetchData` called.")}}x.BaseStandardFontDataFactory=pe;class ie{constructor(){this.constructor===ie&&(0,s.unreachable)("Cannot initialize BaseSVGFactory.")}create(B,ce){if(B<=0||ce<=0)throw new Error("Invalid SVG dimensions");const he=this._createSVG("svg:svg");return he.setAttribute("version","1.1"),he.setAttribute("width",`${B}px`),he.setAttribute("height",`${ce}px`),he.setAttribute("preserveAspectRatio","none"),he.setAttribute("viewBox",`0 0 ${B} ${ce}`),he}createElement(B){if("string"!=typeof B)throw new Error("Invalid SVG element type");return this._createSVG(B)}_createSVG(B){(0,s.unreachable)("Abstract method `_createSVG` called.")}}x.BaseSVGFactory=ie},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.FontLoader=x.FontFaceObject=void 0;var s=R(1);class te{constructor({docId:re,onUnsupportedFeature:B,ownerDocument:ce=globalThis.document,styleElement:he=null}){this.constructor===te&&(0,s.unreachable)("Cannot initialize BaseFontLoader."),this.docId=re,this._onUnsupportedFeature=B,this._document=ce,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(re){this.nativeFontFaces.push(re),this._document.fonts.add(re)}insertRule(re){let B=this.styleElement;B||(B=this.styleElement=this._document.createElement("style"),B.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(B));const ce=B.sheet;ce.insertRule(re,ce.cssRules.length)}clear(){for(const re of this.nativeFontFaces)this._document.fonts.delete(re);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(re){var B=this;return _asyncToGenerator(function*(){if(re.attached||re.missingFile)return;if(re.attached=!0,B.isFontLoadingAPISupported){const he=re.createNativeFontFace();if(he){B.addNativeFontFace(he);try{yield he.loaded}catch(ee){throw B._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,s.warn)(`Failed to load font '${he.family}': '${ee}'.`),re.disableFontFace=!0,ee}}return}const ce=re.createFontFaceRule();if(ce){if(B.insertRule(ce),B.isSyncFontLoadingSupported)return;yield new Promise(he=>{const ee=B._queueLoadingCallback(he);B._prepareFontLoadEvent([ce],[re],ee)})}})()}_queueLoadingCallback(re){(0,s.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,s.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,s.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,s.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(re,B,ce){(0,s.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let O;x.FontLoader=O,x.FontLoader=O=class extends te{constructor(re){super(re),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let re=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(re=!0),(0,s.shadow)(this,"isSyncFontLoadingSupported",re)}_queueLoadingCallback(re){const ce=this.loadingContext,he={id:"pdfjs-font-loading-"+ce.nextRequestId++,done:!1,complete:function B(){for((0,s.assert)(!he.done,"completeRequest() cannot be called twice."),he.done=!0;ce.requests.length>0&&ce.requests[0].done;){const ee=ce.requests.shift();setTimeout(ee.callback,0)}},callback:re};return ce.requests.push(he),he}get _loadTestFont(){return(0,s.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(re,B,ce){function he(oe,W){return oe.charCodeAt(W)<<24|oe.charCodeAt(W+1)<<16|oe.charCodeAt(W+2)<<8|255&oe.charCodeAt(W+3)}function ee(oe,W,le,ge){return oe.substring(0,W)+ge+oe.substring(W+le)}let Y,se;const $=this._document.createElement("canvas");$.width=1,$.height=1;const ae=$.getContext("2d");let q=0;const z=`lt${Date.now()}${this.loadTestFontId++}`;let Z=this._loadTestFont;Z=ee(Z,976,z.length,z);const F=1482184792;let X=he(Z,16);for(Y=0,se=z.length-3;Y<se;Y+=4)X=X-F+he(z,Y)|0;Y<z.length&&(X=X-F+he(z+"XXX",Y)|0),Z=ee(Z,16,4,(0,s.string32)(X));const N=`url(data:font/opentype;base64,${btoa(Z)});`;this.insertRule(`@font-face {font-family:"${z}";src:${N}}`);const j=[];for(const oe of B)j.push(oe.loadedName);j.push(z);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const oe of j){const W=this._document.createElement("span");W.textContent="Hi",W.style.fontFamily=oe,S.appendChild(W)}this._document.body.appendChild(S),function fe(oe,W){if(q++,q>30)return(0,s.warn)("Load test font never loaded."),void W();ae.font="30px "+oe,ae.fillText(".",0,20),ae.getImageData(0,0,1,1).data[3]>0?W():setTimeout(fe.bind(null,oe,W))}(z,()=>{S.remove(),ce.complete()})}},x.FontFaceObject=class pe{constructor(re,{isEvalSupported:B=!0,disableFontFace:ce=!1,ignoreErrors:he=!1,onUnsupportedFeature:ee,fontRegistry:Y=null}){this.compiledGlyphs=Object.create(null);for(const se in re)this[se]=re[se];this.isEvalSupported=!1!==B,this.disableFontFace=!0===ce,this.ignoreErrors=!0===he,this._onUnsupportedFeature=ee,this.fontRegistry=Y}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let re;if(this.cssFontInfo){const B={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(B.style=`oblique ${this.cssFontInfo.italicAngle}deg`),re=new FontFace(this.cssFontInfo.fontFamily,this.data,B)}else re=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),re}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const re=(0,s.bytesToString)(this.data),B=`url(data:${this.mimetype};base64,${btoa(re)});`;let ce;if(this.cssFontInfo){let he=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(he+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ce=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${he}src:${B}}`}else ce=`@font-face {font-family:"${this.loadedName}";src:${B}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,B),ce}getPathGenerator(re,B){if(void 0!==this.compiledGlyphs[B])return this.compiledGlyphs[B];let ce;try{ce=re.get(this.loadedName+"_path_"+B)}catch(he){if(!this.ignoreErrors)throw he;return this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,s.warn)(`getPathGenerator - ignoring character: "${he}".`),this.compiledGlyphs[B]=function(ee,Y){}}if(this.isEvalSupported&&s.FeatureTest.isEvalSupported){const he=[];for(const ee of ce){const Y=void 0!==ee.args?ee.args.join(","):"";he.push("c.",ee.cmd,"(",Y,");\n")}return this.compiledGlyphs[B]=new Function("c","size",he.join(""))}return this.compiledGlyphs[B]=function(he,ee){for(const Y of ce)"scale"===Y.cmd&&(Y.args=[ee,-ee]),he[Y.cmd].apply(he,Y.args)}}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.AnnotationStorage=void 0;var s=R(9),te=R(1);x.AnnotationStorage=class O{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ie,re){const B=this._storage.get(ie);return void 0===B?re:Object.assign(re,B)}getRawValue(ie){return this._storage.get(ie)}setValue(ie,re){const B=this._storage.get(ie);let ce=!1;if(void 0!==B)for(const[he,ee]of Object.entries(re))B[he]!==ee&&(ce=!0,B[he]=ee);else ce=!0,this._storage.set(ie,re);ce&&this._setModified()}getAll(){return this._storage.size>0?(0,te.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const ie=new s.MurmurHash3_64;for(const[re,B]of this._storage)ie.update(`${re}:${JSON.stringify(B)}`);return ie.hexdigest()}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.MurmurHash3_64=void 0;var s=R(1);const te=3285377520,O=4294901760,pe=65535;x.MurmurHash3_64=class ie{constructor(B){this.h1=B?4294967295&B:te,this.h2=B?4294967295&B:te}update(B){let ce,he;if("string"==typeof B){ce=new Uint8Array(2*B.length),he=0;for(let F=0,X=B.length;F<X;F++){const N=B.charCodeAt(F);N<=255?ce[he++]=N:(ce[he++]=N>>>8,ce[he++]=255&N)}}else{if(!(0,s.isArrayBuffer)(B))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");ce=B.slice(),he=ce.byteLength}const ee=he>>2,Y=he-4*ee,se=new Uint32Array(ce.buffer,0,ee);let $=0,ae=0,q=this.h1,fe=this.h2;const z=3432918353,Z=461845907,E=z&pe,A=Z&pe;for(let F=0;F<ee;F++)1&F?($=se[F],$=$*z&O|$*E&pe,$=$<<15|$>>>17,$=$*Z&O|$*A&pe,q^=$,q=q<<13|q>>>19,q=5*q+3864292196):(ae=se[F],ae=ae*z&O|ae*E&pe,ae=ae<<15|ae>>>17,ae=ae*Z&O|ae*A&pe,fe^=ae,fe=fe<<13|fe>>>19,fe=5*fe+3864292196);switch($=0,Y){case 3:$^=ce[4*ee+2]<<16;case 2:$^=ce[4*ee+1]<<8;case 1:$^=ce[4*ee],$=$*z&O|$*E&pe,$=$<<15|$>>>17,$=$*Z&O|$*A&pe,1&ee?q^=$:fe^=$}this.h1=q,this.h2=fe}hexdigest(){let B=this.h1,ce=this.h2;B^=ce>>>1,B=3981806797*B&O|36045*B&pe,ce=4283543511*ce&O|(2950163797*(ce<<16|B>>>16)&O)>>>16,B^=ce>>>1,B=444984403*B&O|60499*B&pe,ce=3301882366*ce&O|(3120437893*(ce<<16|B>>>16)&O)>>>16,B^=ce>>>1;const he=(B>>>0).toString(16),ee=(ce>>>0).toString(16);return he.padStart(8,"0")+ee.padStart(8,"0")}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.CanvasGraphics=void 0;var s=R(1),te=R(11),O=R(12),pe=R(3),ie=R(5);const ce=4096,$=16;function fe(ve){if(ve._transformStack&&(ve._transformStack=[]),!ve.mozCurrentTransform){ve._originalSave=ve.save,ve._originalRestore=ve.restore,ve._originalRotate=ve.rotate,ve._originalScale=ve.scale,ve._originalTranslate=ve.translate,ve._originalTransform=ve.transform,ve._originalSetTransform=ve.setTransform,ve._originalResetTransform=ve.resetTransform,ve._transformMatrix=ve._transformMatrix||[1,0,0,1,0,0],ve._transformStack=[];try{const I=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ve),"lineWidth");ve._setLineWidth=I.set,ve._getLineWidth=I.get,Object.defineProperty(ve,"lineWidth",{set:function(k){this._setLineWidth(1.000001*k)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(ve,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(ve,"mozCurrentTransformInverse",{get:function(){const[b,k,L,Q,ne,U]=this._transformMatrix,be=b*Q-k*L,He=k*L-b*Q;return[Q/be,k/He,L/He,b/be,(Q*ne-L*U)/He,(k*ne-b*U)/be]}}),ve.save=function(){const b=this._transformMatrix;this._transformStack.push(b),this._transformMatrix=b.slice(0,6),this._originalSave()},ve.restore=function(){0===this._transformStack.length&&(0,s.warn)("Tried to restore a ctx when the stack was already empty.");const b=this._transformStack.pop();b&&(this._transformMatrix=b,this._originalRestore())},ve.translate=function(b,k){const L=this._transformMatrix;L[4]=L[0]*b+L[2]*k+L[4],L[5]=L[1]*b+L[3]*k+L[5],this._originalTranslate(b,k)},ve.scale=function(b,k){const L=this._transformMatrix;L[0]*=b,L[1]*=b,L[2]*=k,L[3]*=k,this._originalScale(b,k)},ve.transform=function(b,k,L,Q,ne,U){const be=this._transformMatrix;this._transformMatrix=[be[0]*b+be[2]*k,be[1]*b+be[3]*k,be[0]*L+be[2]*Q,be[1]*L+be[3]*Q,be[0]*ne+be[2]*U+be[4],be[1]*ne+be[3]*U+be[5]],ve._originalTransform(b,k,L,Q,ne,U)},ve.setTransform=function(b,k,L,Q,ne,U){this._transformMatrix=[b,k,L,Q,ne,U],ve._originalSetTransform(b,k,L,Q,ne,U)},ve.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],ve._originalResetTransform()},ve.rotate=function(b){const k=Math.cos(b),L=Math.sin(b),Q=this._transformMatrix;this._transformMatrix=[Q[0]*k+Q[2]*L,Q[1]*k+Q[3]*L,Q[0]*-L+Q[2]*k,Q[1]*-L+Q[3]*k,Q[4],Q[5]],this._originalRotate(b)}}}class z{constructor(I){this.canvasFactory=I,this.cache=Object.create(null)}getCanvas(I,b,k,L){let Q;return void 0!==this.cache[I]?(Q=this.cache[I],this.canvasFactory.reset(Q,b,k),Q.context.setTransform(1,0,0,1,0,0)):(Q=this.canvasFactory.create(b,k),this.cache[I]=Q),L&&fe(Q.context),Q}delete(I){delete this.cache[I]}clear(){for(const I in this.cache)this.canvasFactory.destroy(this.cache[I]),delete this.cache[I]}}function Z(ve,I,b,k,L,Q,ne,U,be,He){const[ke,Ue,Be,qe,Qe,mt]=ve.mozCurrentTransform;if(0===Ue&&0===Be){const ct=Math.round(ne*ke+Qe),Ot=Math.round(U*qe+mt),nt=Math.abs(Math.round((ne+be)*ke+Qe)-ct)||1,kt=Math.abs(Math.round((U+He)*qe+mt)-Ot)||1;return ve.setTransform(Math.sign(ke),0,0,Math.sign(qe),ct,Ot),ve.drawImage(I,b,k,L,Q,0,0,nt,kt),ve.setTransform(ke,Ue,Be,qe,Qe,mt),[nt,kt]}if(0===ke&&0===qe){const ct=Math.round(U*Be+Qe),Ot=Math.round(ne*Ue+mt),nt=Math.abs(Math.round((U+He)*Be+Qe)-ct)||1,kt=Math.abs(Math.round((ne+be)*Ue+mt)-Ot)||1;return ve.setTransform(0,Math.sign(Ue),Math.sign(Be),0,ct,Ot),ve.drawImage(I,b,k,L,Q,0,0,kt,nt),ve.setTransform(ke,Ue,Be,qe,Qe,mt),[kt,nt]}return ve.drawImage(I,b,k,L,Q,ne,U,be,He),[Math.hypot(ke,Ue)*be,Math.hypot(Be,qe)*He]}class A{constructor(I,b){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=s.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,I,b])}clone(){const I=Object.create(this);return I.clipBox=this.clipBox.slice(),I}setCurrentPoint(I,b){this.x=I,this.y=b}updatePathMinMax(I,b,k){[b,k]=s.Util.applyTransform([b,k],I),this.minX=Math.min(this.minX,b),this.minY=Math.min(this.minY,k),this.maxX=Math.max(this.maxX,b),this.maxY=Math.max(this.maxY,k)}updateRectMinMax(I,b){const k=s.Util.applyTransform(b,I),L=s.Util.applyTransform(b.slice(2),I);this.minX=Math.min(this.minX,k[0],L[0]),this.minY=Math.min(this.minY,k[1],L[1]),this.maxX=Math.max(this.maxX,k[0],L[0]),this.maxY=Math.max(this.maxY,k[1],L[1])}updateScalingPathMinMax(I,b){s.Util.scaleMinMax(I,b),this.minX=Math.min(this.minX,b[0]),this.maxX=Math.max(this.maxX,b[1]),this.minY=Math.min(this.minY,b[2]),this.maxY=Math.max(this.maxY,b[3])}updateCurvePathMinMax(I,b,k,L,Q,ne,U,be,He,ke){const Ue=s.Util.bezierBoundingBox(b,k,L,Q,ne,U,be,He);if(ke)return ke[0]=Math.min(ke[0],Ue[0],Ue[2]),ke[1]=Math.max(ke[1],Ue[0],Ue[2]),ke[2]=Math.min(ke[2],Ue[1],Ue[3]),void(ke[3]=Math.max(ke[3],Ue[1],Ue[3]));this.updateRectMinMax(I,Ue)}getPathBoundingBox(I=te.PathType.FILL,b=null){const k=[this.minX,this.minY,this.maxX,this.maxY];if(I===te.PathType.STROKE){b||(0,s.unreachable)("Stroke bounding box must include transform.");const L=s.Util.singularValueDecompose2dScale(b),Q=L[0]*this.lineWidth/2,ne=L[1]*this.lineWidth/2;k[0]-=Q,k[1]-=ne,k[2]+=Q,k[3]+=ne}return k}updateClipFromPath(){const I=s.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(I||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(I){this.clipBox=I,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(I=te.PathType.FILL,b=null){return s.Util.intersect(this.clipBox,this.getPathBoundingBox(I,b))}}function F(ve,I,b=null){if(typeof ImageData<"u"&&I instanceof ImageData)return void ve.putImageData(I,0,0);const k=I.height,L=I.width,Q=k%$,ne=(k-Q)/$,U=0===Q?ne:ne+1,be=ve.createImageData(L,$);let ke,He=0;const Ue=I.data,Be=be.data;let qe,Qe,mt,Tt,lt,yt,ct,Rt;if(b)switch(b.length){case 1:lt=b[0],yt=b[0],ct=b[0],Rt=b[0];break;case 4:lt=b[0],yt=b[1],ct=b[2],Rt=b[3]}if(I.kind===s.ImageKind.GRAYSCALE_1BPP){const Ot=Ue.byteLength,At=new Uint32Array(Be.buffer,0,Be.byteLength>>2),nt=At.length,dt=L+7>>3;let kt=4294967295,Ke=s.FeatureTest.isLittleEndian?4278190080:255;for(Rt&&255===Rt[0]&&0===Rt[255]&&([kt,Ke]=[Ke,kt]),qe=0;qe<U;qe++){for(mt=qe<ne?$:Q,ke=0,Qe=0;Qe<mt;Qe++){const me=Ot-He;let xe=0;const ft=me>dt?L:8*me-7,wt=-8&ft;let Ne=0,we=0;for(;xe<wt;xe+=8)we=Ue[He++],At[ke++]=128&we?kt:Ke,At[ke++]=64&we?kt:Ke,At[ke++]=32&we?kt:Ke,At[ke++]=16&we?kt:Ke,At[ke++]=8&we?kt:Ke,At[ke++]=4&we?kt:Ke,At[ke++]=2&we?kt:Ke,At[ke++]=1&we?kt:Ke;for(;xe<ft;xe++)0===Ne&&(we=Ue[He++],Ne=128),At[ke++]=we&Ne?kt:Ke,Ne>>=1}for(;ke<nt;)At[ke++]=0;ve.putImageData(be,0,qe*$)}}else if(I.kind===s.ImageKind.RGBA_32BPP){const Ot=!!(lt||yt||ct);for(Qe=0,Tt=L*$*4,qe=0;qe<ne;qe++){if(Be.set(Ue.subarray(He,He+Tt)),He+=Tt,Ot)for(let At=0;At<Tt;At+=4)lt&&(Be[At+0]=lt[Be[At+0]]),yt&&(Be[At+1]=yt[Be[At+1]]),ct&&(Be[At+2]=ct[Be[At+2]]);ve.putImageData(be,0,Qe),Qe+=$}if(qe<U){if(Tt=L*Q*4,Be.set(Ue.subarray(He,He+Tt)),Ot)for(let At=0;At<Tt;At+=4)lt&&(Be[At+0]=lt[Be[At+0]]),yt&&(Be[At+1]=yt[Be[At+1]]),ct&&(Be[At+2]=ct[Be[At+2]]);ve.putImageData(be,0,Qe)}}else{if(I.kind!==s.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${I.kind}`);{const Ot=!!(lt||yt||ct);for(mt=$,Tt=L*mt,qe=0;qe<U;qe++){for(qe>=ne&&(mt=Q,Tt=L*mt),ke=0,Qe=Tt;Qe--;)Be[ke++]=Ue[He++],Be[ke++]=Ue[He++],Be[ke++]=Ue[He++],Be[ke++]=255;if(Ot)for(let At=0;At<ke;At+=4)lt&&(Be[At+0]=lt[Be[At+0]]),yt&&(Be[At+1]=yt[Be[At+1]]),ct&&(Be[At+2]=ct[Be[At+2]]);ve.putImageData(be,0,qe*$)}}}}function X(ve,I){if(I.bitmap)return void ve.drawImage(I.bitmap,0,0);const b=I.height,k=I.width,L=b%$,Q=(b-L)/$,ne=0===L?Q:Q+1,U=ve.createImageData(k,$);let be=0;const He=I.data,ke=U.data;for(let Ue=0;Ue<ne;Ue++){const Be=Ue<Q?$:L;({srcPos:be}=(0,O.applyMaskImageData)({src:He,srcPos:be,dest:ke,width:k,height:Be})),ve.putImageData(U,0,Ue*$)}}function N(ve,I){const b=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let k=0,L=b.length;k<L;k++){const Q=b[k];void 0!==ve[Q]&&(I[Q]=ve[Q])}void 0!==ve.setLineDash&&(I.setLineDash(ve.getLineDash()),I.lineDashOffset=ve.lineDashOffset)}function J(ve,I){ve.strokeStyle=ve.fillStyle=I||"#000000",ve.fillRule="nonzero",ve.globalAlpha=1,ve.lineWidth=1,ve.lineCap="butt",ve.lineJoin="miter",ve.miterLimit=10,ve.globalCompositeOperation="source-over",ve.font="10px sans-serif",void 0!==ve.setLineDash&&(ve.setLineDash([]),ve.lineDashOffset=0)}function j(ve,I,b,k){const L=ve.length;for(let Q=3;Q<L;Q+=4){const ne=ve[Q];if(0===ne)ve[Q-3]=I,ve[Q-2]=b,ve[Q-1]=k;else if(ne<255){const U=255-ne;ve[Q-3]=ve[Q-3]*ne+I*U>>8,ve[Q-2]=ve[Q-2]*ne+b*U>>8,ve[Q-1]=ve[Q-1]*ne+k*U>>8}}}function S(ve,I,b){const k=ve.length;for(let Q=3;Q<k;Q+=4)I[Q]=I[Q]*(b?b[ve[Q]]:ve[Q])*.00392156862745098|0}function oe(ve,I,b){const k=ve.length;for(let L=3;L<k;L+=4){const Q=77*ve[L-3]+152*ve[L-2]+28*ve[L-1];I[L]=b?I[L]*b[Q>>8]>>8:I[L]*Q>>16}}function ge(ve,I){const b=s.Util.singularValueDecompose2dScale(ve);b[0]=Math.fround(b[0]),b[1]=Math.fround(b[1]);const k=Math.fround((globalThis.devicePixelRatio||1)*ie.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==I?I:b[0]<=k||b[1]<=k}const ye=["butt","round","square"],Re=["miter","round","bevel"],Ve={},Xe={};class it{constructor(I,b,k,L,Q,ne,U,be){this.ctx=I,this.current=new A(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=b,this.objs=k,this.canvasFactory=L,this.imageLayer=Q,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=ne,this.cachedCanvases=new z(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=U,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=be?.background||null,this.foregroundColor=be?.foreground||null,I&&fe(I),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(I,b=null){return"string"==typeof I?I.startsWith("g_")?this.commonObjs.get(I):this.objs.get(I):b}beginDrawing({transform:I,viewport:b,transparency:k=!1,background:L=null}){const Q=this.ctx.canvas.width,ne=this.ctx.canvas.height,U=L||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const be=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const He=this.backgroundColor=this.ctx.fillStyle;let ke=!0,Ue=U;if(this.ctx.fillStyle=U,Ue=this.ctx.fillStyle,ke="string"==typeof Ue&&/^#[0-9A-Fa-f]{6}$/.test(Ue),"#000000"===be&&"#ffffff"===He||be===He||!ke)this.foregroundColor=this.backgroundColor=null;else{const Be=parseInt(Ue.slice(1),16),Qe=(Be&&65280)>>8,mt=Be&&255,Tt=yt=>(yt/=255)<=.03928?yt/12.92:((yt+.055)/1.055)**2.4,lt=Math.round(.2126*Tt((Be&&16711680)>>16)+.7152*Tt(Qe)+.0722*Tt(mt));this.selectColor=(yt,ct,Rt)=>{const Ot=.2126*Tt(yt)+.7152*Tt(ct)+.0722*Tt(Rt);return Math.round(Ot)===lt?He:be}}}if(this.ctx.fillStyle=this.backgroundColor||U,this.ctx.fillRect(0,0,Q,ne),this.ctx.restore(),k){const be=this.cachedCanvases.getCanvas("transparent",Q,ne,!0);this.compositeCtx=this.ctx,this.transparentCanvas=be.canvas,this.ctx=be.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),J(this.ctx,this.foregroundColor),I&&(this.ctx.transform.apply(this.ctx,I),this.outputScaleX=I[0],this.outputScaleY=I[0]),this.ctx.transform.apply(this.ctx,b.transform),this.viewportScale=b.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(I,b,k,L){const Q=I.argsArray,ne=I.fnArray;let U=b||0;const be=Q.length;if(be===U)return U;const He=be-U>10&&"function"==typeof k,ke=He?Date.now()+15:0;let Ue=0;const Be=this.commonObjs,qe=this.objs;let Qe;for(;;){if(void 0!==L&&U===L.nextBreakPoint)return L.breakIt(U,k),U;if(Qe=ne[U],Qe!==s.OPS.dependency)this[Qe].apply(this,Q[U]);else for(const mt of Q[U]){const Tt=mt.startsWith("g_")?Be:qe;if(!Tt.has(mt))return Tt.get(mt,k),U}if(U++,U===be)return U;if(He&&++Ue>10){if(Date.now()>ke)return k(),U;Ue=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const I of this._cachedBitmapsMap.values()){for(const b of I.values())typeof HTMLCanvasElement<"u"&&b instanceof HTMLCanvasElement&&(b.width=b.height=0);I.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(I,b){const k=I.width,L=I.height;let ke,Ue,Q=Math.max(Math.hypot(b[0],b[1]),1),ne=Math.max(Math.hypot(b[2],b[3]),1),U=k,be=L,He="prescale1";for(;Q>2&&U>1||ne>2&&be>1;){let Be=U,qe=be;Q>2&&U>1&&(Be=Math.ceil(U/2),Q/=U/Be),ne>2&&be>1&&(qe=Math.ceil(be/2),ne/=be/qe),ke=this.cachedCanvases.getCanvas(He,Be,qe,!1),Ue=ke.context,Ue.clearRect(0,0,Be,qe),Ue.drawImage(I,0,0,U,be,0,0,Be,qe),I=ke.canvas,U=Be,be=qe,He="prescale1"===He?"prescale2":"prescale1"}return{img:I,paintWidth:U,paintHeight:be}}_createMaskCanvas(I){const b=this.ctx,{width:k,height:L}=I,Q=this.current.fillColor,ne=this.current.patternFill,U=b.mozCurrentTransform;let be,He,ke,Ue;if((I.bitmap||I.data)&&I.count>1){const nt=I.bitmap||I.data.buffer,dt=U.slice(0,4);He=JSON.stringify(ne?dt:[dt,Q]),be=this._cachedBitmapsMap.get(nt),be||(be=new Map,this._cachedBitmapsMap.set(nt,be));const kt=be.get(He);if(kt&&!ne)return{canvas:kt,offsetX:Math.round(Math.min(U[0],U[2])+U[4]),offsetY:Math.round(Math.min(U[1],U[3])+U[5])};ke=kt}ke||(Ue=this.cachedCanvases.getCanvas("maskCanvas",k,L,!1),X(Ue.context,I));let Be=s.Util.transform(U,[1/k,0,0,-1/L,0,0]);Be=s.Util.transform(Be,[1,0,0,1,0,-L]);const qe=s.Util.applyTransform([0,0],Be),Qe=s.Util.applyTransform([k,L],Be),mt=s.Util.normalizeRect([qe[0],qe[1],Qe[0],Qe[1]]),Tt=Math.round(mt[2]-mt[0])||1,lt=Math.round(mt[3]-mt[1])||1,yt=this.cachedCanvases.getCanvas("fillCanvas",Tt,lt,!0),ct=yt.context,Rt=Math.min(qe[0],Qe[0]),Ot=Math.min(qe[1],Qe[1]);ct.translate(-Rt,-Ot),ct.transform.apply(ct,Be),ke||(ke=this._scaleImage(Ue.canvas,ct.mozCurrentTransformInverse),ke=ke.img,be&&ne&&be.set(He,ke)),ct.imageSmoothingEnabled=ge(ct.mozCurrentTransform,I.interpolate),Z(ct,ke,0,0,ke.width,ke.height,0,0,k,L),ct.globalCompositeOperation="source-in";const At=s.Util.transform(ct.mozCurrentTransformInverse,[1,0,0,1,-Rt,-Ot]);return ct.fillStyle=ne?Q.getPattern(b,this,At,te.PathType.FILL):Q,ct.fillRect(0,0,k,L),be&&!ne&&(this.cachedCanvases.delete("fillCanvas"),be.set(He,yt.canvas)),{canvas:yt.canvas,offsetX:Math.round(Rt),offsetY:Math.round(Ot)}}setLineWidth(I){I!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=I,this.ctx.lineWidth=I}setLineCap(I){this.ctx.lineCap=ye[I]}setLineJoin(I){this.ctx.lineJoin=Re[I]}setMiterLimit(I){this.ctx.miterLimit=I}setDash(I,b){const k=this.ctx;void 0!==k.setLineDash&&(k.setLineDash(I),k.lineDashOffset=b)}setRenderingIntent(I){}setFlatness(I){}setGState(I){for(let b=0,k=I.length;b<k;b++){const L=I[b],ne=L[1];switch(L[0]){case"LW":this.setLineWidth(ne);break;case"LC":this.setLineCap(ne);break;case"LJ":this.setLineJoin(ne);break;case"ML":this.setMiterLimit(ne);break;case"D":this.setDash(ne[0],ne[1]);break;case"RI":this.setRenderingIntent(ne);break;case"FL":this.setFlatness(ne);break;case"Font":this.setFont(ne[0],ne[1]);break;case"CA":this.current.strokeAlpha=L[1];break;case"ca":this.current.fillAlpha=L[1],this.ctx.globalAlpha=L[1];break;case"BM":this.ctx.globalCompositeOperation=ne;break;case"SMask":this.current.activeSMask=ne?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=ne}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const I=this.inSMaskMode;this.current.activeSMask&&!I?this.beginSMaskMode():!this.current.activeSMask&&I&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const L=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=L.context;const Q=this.ctx;Q.setTransform.apply(Q,this.suspendedCtx.mozCurrentTransform),N(this.suspendedCtx,Q),function q(ve,I){if(ve._removeMirroring)throw new Error("Context is already forwarding operations.");ve.__originalSave=ve.save,ve.__originalRestore=ve.restore,ve.__originalRotate=ve.rotate,ve.__originalScale=ve.scale,ve.__originalTranslate=ve.translate,ve.__originalTransform=ve.transform,ve.__originalSetTransform=ve.setTransform,ve.__originalResetTransform=ve.resetTransform,ve.__originalClip=ve.clip,ve.__originalMoveTo=ve.moveTo,ve.__originalLineTo=ve.lineTo,ve.__originalBezierCurveTo=ve.bezierCurveTo,ve.__originalRect=ve.rect,ve.__originalClosePath=ve.closePath,ve.__originalBeginPath=ve.beginPath,ve._removeMirroring=()=>{ve.save=ve.__originalSave,ve.restore=ve.__originalRestore,ve.rotate=ve.__originalRotate,ve.scale=ve.__originalScale,ve.translate=ve.__originalTranslate,ve.transform=ve.__originalTransform,ve.setTransform=ve.__originalSetTransform,ve.resetTransform=ve.__originalResetTransform,ve.clip=ve.__originalClip,ve.moveTo=ve.__originalMoveTo,ve.lineTo=ve.__originalLineTo,ve.bezierCurveTo=ve.__originalBezierCurveTo,ve.rect=ve.__originalRect,ve.closePath=ve.__originalClosePath,ve.beginPath=ve.__originalBeginPath,delete ve._removeMirroring},ve.save=function(){I.save(),this.__originalSave()},ve.restore=function(){I.restore(),this.__originalRestore()},ve.translate=function(k,L){I.translate(k,L),this.__originalTranslate(k,L)},ve.scale=function(k,L){I.scale(k,L),this.__originalScale(k,L)},ve.transform=function(k,L,Q,ne,U,be){I.transform(k,L,Q,ne,U,be),this.__originalTransform(k,L,Q,ne,U,be)},ve.setTransform=function(k,L,Q,ne,U,be){I.setTransform(k,L,Q,ne,U,be),this.__originalSetTransform(k,L,Q,ne,U,be)},ve.resetTransform=function(){I.resetTransform(),this.__originalResetTransform()},ve.rotate=function(k){I.rotate(k),this.__originalRotate(k)},ve.clip=function(k){I.clip(k),this.__originalClip(k)},ve.moveTo=function(b,k){I.moveTo(b,k),this.__originalMoveTo(b,k)},ve.lineTo=function(b,k){I.lineTo(b,k),this.__originalLineTo(b,k)},ve.bezierCurveTo=function(b,k,L,Q,ne,U){I.bezierCurveTo(b,k,L,Q,ne,U),this.__originalBezierCurveTo(b,k,L,Q,ne,U)},ve.rect=function(b,k,L,Q){I.rect(b,k,L,Q),this.__originalRect(b,k,L,Q)},ve.closePath=function(){I.closePath(),this.__originalClosePath()},ve.beginPath=function(){I.beginPath(),this.__originalBeginPath()}}(Q,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),N(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(I){this.current.activeSMask&&(I?(I[0]=Math.floor(I[0]),I[1]=Math.floor(I[1]),I[2]=Math.ceil(I[2]),I[3]=Math.ceil(I[3])):I=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function le(ve,I,b,k){const L=k[0],Q=k[1],ne=k[2]-L,U=k[3]-Q;0===ne||0===U||(function W(ve,I,b,k,L,Q,ne,U,be,He,ke){const Ue=!!Q,Be=Ue?Q[0]:0,qe=Ue?Q[1]:0,Qe=Ue?Q[2]:0;let mt;mt="Luminosity"===L?oe:S;const lt=Math.min(k,Math.ceil(1048576/b));for(let yt=0;yt<k;yt+=lt){const ct=Math.min(lt,k-yt),Rt=ve.getImageData(U-He,yt+(be-ke),b,ct),Ot=I.getImageData(U,yt+be,b,ct);Ue&&j(Rt.data,Be,qe,Qe),mt(Rt.data,Ot.data,ne),I.putImageData(Ot,U,yt+be)}}(I.context,b,ne,U,I.subtype,I.backdrop,I.transferMap,L,Q,I.offsetX,I.offsetY),ve.save(),ve.globalAlpha=1,ve.globalCompositeOperation="source-over",ve.setTransform(1,0,0,1,0,0),ve.drawImage(b.canvas,0,0),ve.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,I),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(N(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const I=this.current;this.stateStack.push(I),this.current=I.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),N(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(I,b,k,L,Q,ne){this.ctx.transform(I,b,k,L,Q,ne),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(I,b,k){const L=this.ctx,Q=this.current;let be,He,ne=Q.x,U=Q.y;const ke=L.mozCurrentTransform,Ue=0===ke[0]&&0===ke[3]||0===ke[1]&&0===ke[2],Be=Ue?k.slice(0):null;for(let qe=0,Qe=0,mt=I.length;qe<mt;qe++)switch(0|I[qe]){case s.OPS.rectangle:ne=b[Qe++],U=b[Qe++];const Tt=b[Qe++],lt=b[Qe++],yt=ne+Tt,ct=U+lt;L.moveTo(ne,U),0===Tt||0===lt?L.lineTo(yt,ct):(L.lineTo(yt,U),L.lineTo(yt,ct),L.lineTo(ne,ct)),Ue||Q.updateRectMinMax(ke,[ne,U,yt,ct]),L.closePath();break;case s.OPS.moveTo:ne=b[Qe++],U=b[Qe++],L.moveTo(ne,U),Ue||Q.updatePathMinMax(ke,ne,U);break;case s.OPS.lineTo:ne=b[Qe++],U=b[Qe++],L.lineTo(ne,U),Ue||Q.updatePathMinMax(ke,ne,U);break;case s.OPS.curveTo:be=ne,He=U,ne=b[Qe+4],U=b[Qe+5],L.bezierCurveTo(b[Qe],b[Qe+1],b[Qe+2],b[Qe+3],ne,U),Q.updateCurvePathMinMax(ke,be,He,b[Qe],b[Qe+1],b[Qe+2],b[Qe+3],ne,U,Be),Qe+=6;break;case s.OPS.curveTo2:be=ne,He=U,L.bezierCurveTo(ne,U,b[Qe],b[Qe+1],b[Qe+2],b[Qe+3]),Q.updateCurvePathMinMax(ke,be,He,ne,U,b[Qe],b[Qe+1],b[Qe+2],b[Qe+3],Be),ne=b[Qe+2],U=b[Qe+3],Qe+=4;break;case s.OPS.curveTo3:be=ne,He=U,ne=b[Qe+2],U=b[Qe+3],L.bezierCurveTo(b[Qe],b[Qe+1],ne,U,ne,U),Q.updateCurvePathMinMax(ke,be,He,b[Qe],b[Qe+1],ne,U,ne,U,Be),Qe+=4;break;case s.OPS.closePath:L.closePath()}Ue&&Q.updateScalingPathMinMax(ke,Be),Q.setCurrentPoint(ne,U)}closePath(){this.ctx.closePath()}stroke(I){I=!(typeof I<"u")||I;const b=this.ctx,k=this.current.strokeColor;b.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof k&&k?.getPattern?(b.save(),b.strokeStyle=k.getPattern(b,this,b.mozCurrentTransformInverse,te.PathType.STROKE),this.rescaleAndStroke(!1),b.restore()):this.rescaleAndStroke(!0)),I&&this.consumePath(this.current.getClippedPathBoundingBox()),b.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(I){I=!(typeof I<"u")||I;const b=this.ctx,k=this.current.fillColor;let Q=!1;this.current.patternFill&&(b.save(),b.fillStyle=k.getPattern(b,this,b.mozCurrentTransformInverse,te.PathType.FILL),Q=!0);const ne=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==ne&&(this.pendingEOFill?(b.fill("evenodd"),this.pendingEOFill=!1):b.fill()),Q&&b.restore(),I&&this.consumePath(ne)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ve}eoClip(){this.pendingClip=Xe}beginText(){this.current.textMatrix=s.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const I=this.pendingTextPaths,b=this.ctx;if(void 0!==I){b.save(),b.beginPath();for(let k=0;k<I.length;k++){const L=I[k];b.setTransform.apply(b,L.transform),b.translate(L.x,L.y),L.addToPath(b,L.fontSize)}b.restore(),b.clip(),b.beginPath(),delete this.pendingTextPaths}else b.beginPath()}setCharSpacing(I){this.current.charSpacing=I}setWordSpacing(I){this.current.wordSpacing=I}setHScale(I){this.current.textHScale=I/100}setLeading(I){this.current.leading=-I}setFont(I,b){const k=this.commonObjs.get(I),L=this.current;if(!k)throw new Error(`Can't find font for ${I}`);if(L.fontMatrix=k.fontMatrix||s.FONT_IDENTITY_MATRIX,(0===L.fontMatrix[0]||0===L.fontMatrix[3])&&(0,s.warn)("Invalid font matrix for font "+I),b<0?(b=-b,L.fontDirection=-1):L.fontDirection=1,this.current.font=k,this.current.fontSize=b,k.isType3Font)return;let ne="normal";k.black?ne="900":k.bold&&(ne="bold");const U=k.italic?"italic":"normal",be=`"${k.loadedName||"sans-serif"}", ${k.fallbackName}`;let He=b;b<16?He=16:b>100&&(He=100),this.current.fontSizeScale=b/He,this.ctx.font=`${U} ${ne} ${He}px ${be}`}setTextRenderingMode(I){this.current.textRenderingMode=I}setTextRise(I){this.current.textRise=I}moveText(I,b){this.current.x=this.current.lineX+=I,this.current.y=this.current.lineY+=b}setLeadingMoveText(I,b){this.setLeading(-b),this.moveText(I,b)}setTextMatrix(I,b,k,L,Q,ne){this.current.textMatrix=[I,b,k,L,Q,ne],this.current.textMatrixScale=Math.hypot(I,b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(I,b,k,L){const Q=this.ctx,ne=this.current,U=ne.font,be=ne.textRenderingMode,He=ne.fontSize/ne.fontSizeScale,ke=be&s.TextRenderingMode.FILL_STROKE_MASK,Ue=!!(be&s.TextRenderingMode.ADD_TO_PATH_FLAG),Be=ne.patternFill&&!U.missingFile;let qe;(U.disableFontFace||Ue||Be)&&(qe=U.getPathGenerator(this.commonObjs,I)),U.disableFontFace||Be?(Q.save(),Q.translate(b,k),Q.beginPath(),qe(Q,He),L&&Q.setTransform.apply(Q,L),(ke===s.TextRenderingMode.FILL||ke===s.TextRenderingMode.FILL_STROKE)&&Q.fill(),(ke===s.TextRenderingMode.STROKE||ke===s.TextRenderingMode.FILL_STROKE)&&Q.stroke(),Q.restore()):((ke===s.TextRenderingMode.FILL||ke===s.TextRenderingMode.FILL_STROKE)&&Q.fillText(I,b,k),(ke===s.TextRenderingMode.STROKE||ke===s.TextRenderingMode.FILL_STROKE)&&Q.strokeText(I,b,k)),Ue&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Q.mozCurrentTransform,x:b,y:k,fontSize:He,addToPath:qe})}get isFontSubpixelAAEnabled(){const{context:I}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);I.scale(1.5,1),I.fillText("I",0,10);const b=I.getImageData(0,0,10,10).data;let k=!1;for(let L=3;L<b.length;L+=4)if(b[L]>0&&b[L]<255){k=!0;break}return(0,s.shadow)(this,"isFontSubpixelAAEnabled",k)}showText(I){const b=this.current,k=b.font;if(k.isType3Font)return this.showType3Text(I);const L=b.fontSize;if(0===L)return;const Q=this.ctx,ne=b.fontSizeScale,U=b.charSpacing,be=b.wordSpacing,He=b.fontDirection,ke=b.textHScale*He,Ue=I.length,Be=k.vertical,qe=Be?1:-1,Qe=k.defaultVMetrics,mt=L*b.fontMatrix[0],Tt=b.textRenderingMode===s.TextRenderingMode.FILL&&!k.disableFontFace&&!b.patternFill;let lt;if(Q.save(),Q.transform.apply(Q,b.textMatrix),Q.translate(b.x,b.y+b.textRise),Q.scale(ke,He>0?-1:1),b.patternFill){Q.save();const At=b.fillColor.getPattern(Q,this,Q.mozCurrentTransformInverse,te.PathType.FILL);lt=Q.mozCurrentTransform,Q.restore(),Q.fillStyle=At}let yt=b.lineWidth;const ct=b.textMatrixScale;if(0===ct||0===yt){const At=b.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;(At===s.TextRenderingMode.STROKE||At===s.TextRenderingMode.FILL_STROKE)&&(yt=this.getSinglePixelWidth())}else yt/=ct;1!==ne&&(Q.scale(ne,ne),yt/=ne),Q.lineWidth=yt;let Ot,Rt=0;for(Ot=0;Ot<Ue;++Ot){const At=I[Ot];if("number"==typeof At){Rt+=qe*At*L/1e3;continue}let nt=!1;const dt=(At.isSpace?be:0)+U,kt=At.fontChar,Ke=At.accent;let me,xe,wt,ft=At.width;if(Be){const Ne=At.vmetric||Qe,we=-(At.vmetric?Ne[1]:.5*ft)*mt;ft=Ne?-Ne[0]:ft,me=we/ne,xe=(Rt+Ne[2]*mt)/ne}else me=Rt/ne,xe=0;if(k.remeasure&&ft>0){const Ne=1e3*Q.measureText(kt).width/L*ne;if(ft<Ne&&this.isFontSubpixelAAEnabled){const we=ft/Ne;nt=!0,Q.save(),Q.scale(we,1),me/=we}else ft!==Ne&&(me+=(ft-Ne)/2e3*L/ne)}this.contentVisible&&(At.isInFont||k.missingFile)&&(Tt&&!Ke?Q.fillText(kt,me,xe):(this.paintChar(kt,me,xe,lt),Ke&&this.paintChar(Ke.fontChar,me+L*Ke.offset.x/ne,xe-L*Ke.offset.y/ne,lt))),wt=Be?ft*mt-dt*He:ft*mt+dt*He,Rt+=wt,nt&&Q.restore()}Be?b.y-=Rt:b.x+=Rt*ke,Q.restore(),this.compose()}showType3Text(I){const b=this.ctx,k=this.current,L=k.font,Q=k.fontSize,ne=k.fontDirection,U=L.vertical?1:-1,be=k.charSpacing,He=k.wordSpacing,ke=k.textHScale*ne,Ue=k.fontMatrix||s.FONT_IDENTITY_MATRIX,Be=I.length;let Qe,mt,Tt,lt;if(k.textRenderingMode!==s.TextRenderingMode.INVISIBLE&&0!==Q){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,b.save(),b.transform.apply(b,k.textMatrix),b.translate(k.x,k.y),b.scale(ke,ne),Qe=0;Qe<Be;++Qe){if(mt=I[Qe],"number"==typeof mt){lt=U*mt*Q/1e3,this.ctx.translate(lt,0),k.x+=lt*ke;continue}const yt=(mt.isSpace?He:0)+be,ct=L.charProcOperatorList[mt.operatorListId];ct?(this.contentVisible&&(this.processingType3=mt,this.save(),b.scale(Q,Q),b.transform.apply(b,Ue),this.executeOperatorList(ct),this.restore()),Tt=s.Util.applyTransform([mt.width,0],Ue)[0]*Q+yt,b.translate(Tt,0),k.x+=Tt*ke):(0,s.warn)(`Type3 character "${mt.operatorListId}" is not available.`)}b.restore(),this.processingType3=null}}setCharWidth(I,b){}setCharWidthAndBounds(I,b,k,L,Q,ne){this.ctx.rect(k,L,Q-k,ne-L),this.ctx.clip(),this.endPath()}getColorN_Pattern(I){let b;if("TilingPattern"===I[0]){const k=I[1],L=this.baseTransform||this.ctx.mozCurrentTransform.slice();b=new te.TilingPattern(I,k,this.ctx,{createCanvasGraphics:ne=>new it(ne,this.commonObjs,this.objs,this.canvasFactory)},L)}else b=this._getPattern(I[1],I[2]);return b}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(I,b,k){const L=this.selectColor?.(I,b,k)||s.Util.makeHexColor(I,b,k);this.ctx.strokeStyle=L,this.current.strokeColor=L}setFillRGBColor(I,b,k){const L=this.selectColor?.(I,b,k)||s.Util.makeHexColor(I,b,k);this.ctx.fillStyle=L,this.current.fillColor=L,this.current.patternFill=!1}_getPattern(I,b=null){let k;return this.cachedPatterns.has(I)?k=this.cachedPatterns.get(I):(k=(0,te.getShadingPattern)(this.objs.get(I)),this.cachedPatterns.set(I,k)),b&&(k.matrix=b),k}shadingFill(I){if(!this.contentVisible)return;const b=this.ctx;this.save();const k=this._getPattern(I);b.fillStyle=k.getPattern(b,this,b.mozCurrentTransformInverse,te.PathType.SHADING);const L=b.mozCurrentTransformInverse;if(L){const Q=b.canvas,ne=Q.width,U=Q.height,be=s.Util.applyTransform([0,0],L),He=s.Util.applyTransform([0,U],L),ke=s.Util.applyTransform([ne,0],L),Ue=s.Util.applyTransform([ne,U],L),Be=Math.min(be[0],He[0],ke[0],Ue[0]),qe=Math.min(be[1],He[1],ke[1],Ue[1]),Qe=Math.max(be[0],He[0],ke[0],Ue[0]),mt=Math.max(be[1],He[1],ke[1],Ue[1]);this.ctx.fillRect(Be,qe,Qe-Be,mt-qe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,s.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,s.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(I,b){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(I)&&6===I.length&&this.transform.apply(this,I),this.baseTransform=this.ctx.mozCurrentTransform,b)&&(this.ctx.rect(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,b),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(I){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const b=this.ctx;I.isolated||(0,s.info)("TODO: Support non-isolated groups."),I.knockout&&(0,s.warn)("Knockout groups not supported.");const k=b.mozCurrentTransform;if(I.matrix&&b.transform.apply(b,I.matrix),!I.bbox)throw new Error("Bounding box is required.");let L=s.Util.getAxialAlignedBoundingBox(I.bbox,b.mozCurrentTransform);L=s.Util.intersect(L,[0,0,b.canvas.width,b.canvas.height])||[0,0,0,0];const ne=Math.floor(L[0]),U=Math.floor(L[1]);let be=Math.max(Math.ceil(L[2])-ne,1),He=Math.max(Math.ceil(L[3])-U,1),ke=1,Ue=1;be>ce&&(ke=be/ce,be=ce),He>ce&&(Ue=He/ce,He=ce),this.current.startNewPathAndClipBox([0,0,be,He]);let Be="groupAt"+this.groupLevel;I.smask&&(Be+="_smask_"+this.smaskCounter++%2);const qe=this.cachedCanvases.getCanvas(Be,be,He,!0),Qe=qe.context;Qe.scale(1/ke,1/Ue),Qe.translate(-ne,-U),Qe.transform.apply(Qe,k),I.smask?this.smaskStack.push({canvas:qe.canvas,context:Qe,offsetX:ne,offsetY:U,scaleX:ke,scaleY:Ue,subtype:I.smask.subtype,backdrop:I.smask.backdrop,transferMap:I.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(ne,U),b.scale(ke,Ue),b.save()),N(b,Qe),this.ctx=Qe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(b),this.groupLevel++}endGroup(I){if(!this.contentVisible)return;this.groupLevel--;const b=this.ctx,k=this.groupStack.pop();if(this.ctx=k,this.ctx.imageSmoothingEnabled=!1,I.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const L=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,L);const Q=s.Util.getAxialAlignedBoundingBox([0,0,b.canvas.width,b.canvas.height],L);this.ctx.drawImage(b.canvas,0,0),this.ctx.restore(),this.compose(Q)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(I,b,k,L,Q){if(this.save(),Array.isArray(b)&&4===b.length){const ne=b[2]-b[0],U=b[3]-b[1];if(Q&&this.annotationCanvasMap){(k=k.slice())[4]-=b[0],k[5]-=b[1],(b=b.slice())[0]=b[1]=0,b[2]=ne,b[3]=U;const[be,He]=s.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:ke}=this,Ue=Math.ceil(ne*this.outputScaleX*ke),Be=Math.ceil(U*this.outputScaleY*ke);this.annotationCanvas=this.canvasFactory.create(Ue,Be);const{canvas:qe,context:Qe}=this.annotationCanvas,mt=`var(--zoom-factor) * ${ie.PixelsPerInch.PDF_TO_CSS_UNITS}`;qe.style.width=`calc(${ne}px * ${mt})`,qe.style.height=`calc(${U}px * ${mt})`,this.annotationCanvasMap.set(I,qe),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Qe,this.ctx.setTransform(be,0,0,-He,0,U*He),fe(this.ctx),J(this.ctx,this.foregroundColor)}else J(this.ctx,this.foregroundColor),this.ctx.rect(b[0],b[1],ne,U),this.ctx.clip(),this.endPath()}this.current=new A(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,k),this.transform.apply(this,L)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(I){if(!this.contentVisible)return;const b=I.count;(I=this.getObject(I.data,I)).count=b;const k=this.ctx,L=this.processingType3;if(L&&(void 0===L.compiled&&(L.compiled=function E(ve){const{width:I,height:b}=ve;if(I>1e3||b>1e3)return null;const L=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Q=I+1;let U,be,He,ne=new Uint8Array(Q*(b+1));const ke=I+7&-8;let Ue=new Uint8Array(ke*b),Be=0;for(const ct of ve.data){let Rt=128;for(;Rt>0;)Ue[Be++]=ct&Rt?0:255,Rt>>=1}let qe=0;for(Be=0,0!==Ue[Be]&&(ne[0]=1,++qe),be=1;be<I;be++)Ue[Be]!==Ue[Be+1]&&(ne[be]=Ue[Be]?2:1,++qe),Be++;for(0!==Ue[Be]&&(ne[be]=2,++qe),U=1;U<b;U++){Be=U*ke,He=U*Q,Ue[Be-ke]!==Ue[Be]&&(ne[He]=Ue[Be]?1:8,++qe);let ct=(Ue[Be]?4:0)+(Ue[Be-ke]?8:0);for(be=1;be<I;be++)ct=(ct>>2)+(Ue[Be+1]?4:0)+(Ue[Be-ke+1]?8:0),L[ct]&&(ne[He+be]=L[ct],++qe),Be++;if(Ue[Be-ke]!==Ue[Be]&&(ne[He+be]=Ue[Be]?2:4,++qe),qe>1e3)return null}for(Be=ke*(b-1),He=U*Q,0!==Ue[Be]&&(ne[He]=8,++qe),be=1;be<I;be++)Ue[Be]!==Ue[Be+1]&&(ne[He+be]=Ue[Be]?4:8,++qe),Be++;if(0!==Ue[Be]&&(ne[He+be]=4,++qe),qe>1e3)return null;const Qe=new Int32Array([0,Q,-1,0,-Q,0,0,0,1]);let mt,Tt,lt;for(pe.isNodeJS?Tt=[]:mt=new Path2D,U=0;qe&&U<=b;U++){let ct=U*Q;const Rt=ct+I;for(;ct<Rt&&!ne[ct];)ct++;if(ct===Rt)continue;mt?mt.moveTo(ct%Q,U):lt=[ct%Q,U];const Ot=ct;let At=ne[ct];do{const nt=Qe[At];do{ct+=nt}while(!ne[ct]);const dt=ne[ct];5!==dt&&10!==dt?(At=dt,ne[ct]=0):(At=dt&51*At>>4,ne[ct]&=At>>2|At<<2),mt?mt.lineTo(ct%Q,ct/Q|0):lt.push(ct%Q,ct/Q|0),ne[ct]||--qe}while(Ot!==ct);mt||Tt.push(lt),--U}return Ue=null,ne=null,function(ct){if(ct.save(),ct.scale(1/I,-1/b),ct.translate(0,-b),mt)ct.fill(mt);else{ct.beginPath();for(const Rt of Tt){ct.moveTo(Rt[0],Rt[1]);for(let Ot=2,At=Rt.length;Ot<At;Ot+=2)ct.lineTo(Rt[Ot],Rt[Ot+1])}ct.fill()}ct.beginPath(),ct.restore()}}(I)),L.compiled))return void L.compiled(k);const Q=this._createMaskCanvas(I),ne=Q.canvas;k.save(),k.setTransform(1,0,0,1,0,0),k.drawImage(ne,Q.offsetX,Q.offsetY),k.restore(),this.compose()}paintImageMaskXObjectRepeat(I,b,k=0,L=0,Q,ne){if(!this.contentVisible)return;I=this.getObject(I.data,I);const U=this.ctx;U.save();const be=U.mozCurrentTransform;U.transform(b,k,L,Q,0,0);const He=this._createMaskCanvas(I);U.setTransform(1,0,0,1,0,0);for(let ke=0,Ue=ne.length;ke<Ue;ke+=2){const Be=s.Util.transform(be,[b,k,L,Q,ne[ke],ne[ke+1]]),[qe,Qe]=s.Util.applyTransform([0,0],Be);U.drawImage(He.canvas,qe,Qe)}U.restore(),this.compose()}paintImageMaskXObjectGroup(I){if(!this.contentVisible)return;const b=this.ctx,k=this.current.fillColor,L=this.current.patternFill;for(let Q=0,ne=I.length;Q<ne;Q++){const U=I[Q],be=U.width,He=U.height,ke=this.cachedCanvases.getCanvas("maskCanvas",be,He,!1),Ue=ke.context;Ue.save(),X(Ue,U),Ue.globalCompositeOperation="source-in",Ue.fillStyle=L?k.getPattern(Ue,this,b.mozCurrentTransformInverse,te.PathType.FILL):k,Ue.fillRect(0,0,be,He),Ue.restore(),b.save(),b.transform.apply(b,U.transform),b.scale(1,-1),Z(b,ke.canvas,0,0,be,He,0,-1,1,1),b.restore()}this.compose()}paintImageXObject(I){if(!this.contentVisible)return;const b=this.getObject(I);b?this.paintInlineImageXObject(b):(0,s.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(I,b,k,L){if(!this.contentVisible)return;const Q=this.getObject(I);if(!Q)return void(0,s.warn)("Dependent image isn't ready yet");const ne=Q.width,U=Q.height,be=[];for(let He=0,ke=L.length;He<ke;He+=2)be.push({transform:[b,0,0,k,L[He],L[He+1]],x:0,y:0,w:ne,h:U});this.paintInlineImageXObjectGroup(Q,be)}paintInlineImageXObject(I){if(!this.contentVisible)return;const b=I.width,k=I.height,L=this.ctx;let Q;if(this.save(),L.scale(1/b,-1/k),"function"==typeof HTMLElement&&I instanceof HTMLElement||!I.data)Q=I;else{const He=this.cachedCanvases.getCanvas("inlineImage",b,k,!1);F(He.context,I,this.current.transferMaps),Q=He.canvas}const ne=this._scaleImage(Q,L.mozCurrentTransformInverse);L.imageSmoothingEnabled=ge(L.mozCurrentTransform,I.interpolate);const[U,be]=Z(L,ne.img,0,0,ne.paintWidth,ne.paintHeight,0,-k,b,k);if(this.imageLayer){const He=this.getCanvasPosition(0,-k);this.imageLayer.appendImage({imgData:I,left:He[0],top:He[1],width:U,height:be})}this.compose(),this.restore()}paintInlineImageXObjectGroup(I,b){if(!this.contentVisible)return;const k=this.ctx,L=I.width,Q=I.height,ne=this.cachedCanvases.getCanvas("inlineImage",L,Q,!1);F(ne.context,I,this.current.transferMaps);for(let be=0,He=b.length;be<He;be++){const ke=b[be];if(k.save(),k.transform.apply(k,ke.transform),k.scale(1,-1),Z(k,ne.canvas,ke.x,ke.y,ke.w,ke.h,0,-1,1,1),this.imageLayer){const Ue=this.getCanvasPosition(ke.x,ke.y);this.imageLayer.appendImage({imgData:I,left:Ue[0],top:Ue[1],width:L,height:Q})}k.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(I){}markPointProps(I,b){}beginMarkedContent(I){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(I,b){this.markedContentStack.push("OC"===I?{visible:this.optionalContentConfig.isVisible(b)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(I){const b=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(I);const k=this.ctx;this.pendingClip&&(b||(this.pendingClip===Xe?k.clip("evenodd"):k.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),k.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const I=this.ctx.mozCurrentTransform;if(0===I[1]&&0===I[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(I[0]),Math.abs(I[3]));else{const b=Math.abs(I[0]*I[3]-I[2]*I[1]),k=Math.hypot(I[0],I[2]),L=Math.hypot(I[1],I[3]);this._cachedGetSinglePixelWidth=Math.max(k,L)/b}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:I}=this.current,b=this.ctx.mozCurrentTransform;let k,L;if(0===b[1]&&0===b[2]){const Q=Math.abs(b[0]),ne=Math.abs(b[3]);if(0===I)k=1/Q,L=1/ne;else{const U=Q*I,be=ne*I;k=U<1?1/U:1,L=be<1?1/be:1}}else{const Q=Math.abs(b[0]*b[3]-b[2]*b[1]),ne=Math.hypot(b[0],b[1]),U=Math.hypot(b[2],b[3]);if(0===I)k=U/Q,L=ne/Q;else{const be=I*Q;k=U>be?U/be:1,L=ne>be?ne/be:1}}this._cachedScaleForStroking=[k,L]}return this._cachedScaleForStroking}rescaleAndStroke(I){const{ctx:b}=this,{lineWidth:k}=this.current,[L,Q]=this.getScaleForStroking();if(b.lineWidth=k||1,1===L&&1===Q)return void b.stroke();let ne,U,be;I&&(ne=b.mozCurrentTransform.slice(),U=b.getLineDash().slice(),be=b.lineDashOffset),b.scale(L,Q);const He=Math.max(L,Q);b.setLineDash(b.getLineDash().map(ke=>ke/He)),b.lineDashOffset/=He,b.stroke(),I&&(b.setTransform(...ne),b.setLineDash(U),b.lineDashOffset=be)}getCanvasPosition(I,b){const k=this.ctx.mozCurrentTransform;return[k[0]*I+k[2]*b+k[4],k[1]*I+k[3]*b+k[5]]}isContentVisible(){for(let I=this.markedContentStack.length-1;I>=0;I--)if(!this.markedContentStack[I].visible)return!1;return!0}}x.CanvasGraphics=it;for(const ve in s.OPS)void 0!==it.prototype[ve]&&(it.prototype[s.OPS[ve]]=it.prototype[ve])},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TilingPattern=x.PathType=void 0,x.getShadingPattern=function Y(ae){switch(ae[0]){case"RadialAxial":return new re(ae);case"Mesh":return new he(ae);case"Dummy":return new ee}throw new Error(`Unknown IR type: ${ae[0]}`)};var s=R(1),te=R(3);const O={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function pe(ae,q){if(!q||te.isNodeJS)return;const fe=q[2]-q[0],z=q[3]-q[1],Z=new Path2D;Z.rect(q[0],q[1],fe,z),ae.clip(Z)}x.PathType=O;class ie{constructor(){this.constructor===ie&&(0,s.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,s.unreachable)("Abstract method `getPattern` called.")}}class re extends ie{constructor(q){super(),this._type=q[1],this._bbox=q[2],this._colorStops=q[3],this._p0=q[4],this._p1=q[5],this._r0=q[6],this._r1=q[7],this.matrix=null}_createGradient(q){let fe;"axial"===this._type?fe=q.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(fe=q.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const z of this._colorStops)fe.addColorStop(z[0],z[1]);return fe}getPattern(q,fe,z,Z){let E;if(Z===O.STROKE||Z===O.FILL){const A=fe.current.getClippedPathBoundingBox(Z,q.mozCurrentTransform)||[0,0,0,0],F=Math.ceil(A[2]-A[0])||1,X=Math.ceil(A[3]-A[1])||1,N=fe.cachedCanvases.getCanvas("pattern",F,X,!0),J=N.context;J.clearRect(0,0,J.canvas.width,J.canvas.height),J.beginPath(),J.rect(0,0,J.canvas.width,J.canvas.height),J.translate(-A[0],-A[1]),z=s.Util.transform(z,[1,0,0,1,A[0],A[1]]),J.transform.apply(J,fe.baseTransform),this.matrix&&J.transform.apply(J,this.matrix),pe(J,this._bbox),J.fillStyle=this._createGradient(J),J.fill(),E=q.createPattern(N.canvas,"no-repeat");const j=new DOMMatrix(z);try{E.setTransform(j)}catch(S){(0,s.warn)(`RadialAxialShadingPattern.getPattern: "${S?.message}".`)}}else pe(q,this._bbox),E=this._createGradient(q);return E}}function B(ae,q,fe,z,Z,E,A,F){const X=q.coords,N=q.colors,J=ae.data,j=4*ae.width;let S;X[fe+1]>X[z+1]&&(S=fe,fe=z,z=S,S=E,E=A,A=S),X[z+1]>X[Z+1]&&(S=z,z=Z,Z=S,S=A,A=F,F=S),X[fe+1]>X[z+1]&&(S=fe,fe=z,z=S,S=E,E=A,A=S);const oe=(X[fe]+q.offsetX)*q.scaleX,W=(X[fe+1]+q.offsetY)*q.scaleY,le=(X[z]+q.offsetX)*q.scaleX,ge=(X[z+1]+q.offsetY)*q.scaleY,ye=(X[Z]+q.offsetX)*q.scaleX,Re=(X[Z+1]+q.offsetY)*q.scaleY;if(W>=Re)return;const Ve=N[E],Xe=N[E+1],it=N[E+2],ve=N[A],I=N[A+1],b=N[A+2],k=N[F],L=N[F+1],Q=N[F+2],ne=Math.round(W),U=Math.round(Re);let be,He,ke,Ue,Be,qe,Qe,mt;for(let Tt=ne;Tt<=U;Tt++){if(Tt<ge){let Ot;Ot=Tt<W?0:(W-Tt)/(W-ge),be=oe-(oe-le)*Ot,He=Ve-(Ve-ve)*Ot,ke=Xe-(Xe-I)*Ot,Ue=it-(it-b)*Ot}else{let Ot;Ot=Tt>Re?1:ge===Re?0:(ge-Tt)/(ge-Re),be=le-(le-ye)*Ot,He=ve-(ve-k)*Ot,ke=I-(I-L)*Ot,Ue=b-(b-Q)*Ot}let lt;lt=Tt<W?0:Tt>Re?1:(W-Tt)/(W-Re),Be=oe-(oe-ye)*lt,qe=Ve-(Ve-k)*lt,Qe=Xe-(Xe-L)*lt,mt=it-(it-Q)*lt;const yt=Math.round(Math.min(be,Be)),ct=Math.round(Math.max(be,Be));let Rt=j*Tt+4*yt;for(let Ot=yt;Ot<=ct;Ot++)lt=(be-Ot)/(be-Be),lt<0?lt=0:lt>1&&(lt=1),J[Rt++]=He-(He-qe)*lt|0,J[Rt++]=ke-(ke-Qe)*lt|0,J[Rt++]=Ue-(Ue-mt)*lt|0,J[Rt++]=255}}function ce(ae,q,fe){const z=q.coords,Z=q.colors;let E,A;switch(q.type){case"lattice":const F=q.verticesPerRow,X=Math.floor(z.length/F)-1,N=F-1;for(E=0;E<X;E++){let J=E*F;for(let j=0;j<N;j++,J++)B(ae,fe,z[J],z[J+1],z[J+F],Z[J],Z[J+1],Z[J+F]),B(ae,fe,z[J+F+1],z[J+1],z[J+F],Z[J+F+1],Z[J+1],Z[J+F])}break;case"triangles":for(E=0,A=z.length;E<A;E+=3)B(ae,fe,z[E],z[E+1],z[E+2],Z[E],Z[E+1],Z[E+2]);break;default:throw new Error("illegal figure")}}class he extends ie{constructor(q){super(),this._coords=q[2],this._colors=q[3],this._figures=q[4],this._bounds=q[5],this._bbox=q[7],this._background=q[8],this.matrix=null}_createMeshCanvas(q,fe,z){const F=Math.floor(this._bounds[0]),X=Math.floor(this._bounds[1]),N=Math.ceil(this._bounds[2])-F,J=Math.ceil(this._bounds[3])-X,j=Math.min(Math.ceil(Math.abs(N*q[0]*1.1)),3e3),S=Math.min(Math.ceil(Math.abs(J*q[1]*1.1)),3e3),oe=N/j,W=J/S,le={coords:this._coords,colors:this._colors,offsetX:-F,offsetY:-X,scaleX:1/oe,scaleY:1/W},Re=z.getCanvas("mesh",j+4,S+4,!1),Ve=Re.context,Xe=Ve.createImageData(j,S);if(fe){const ve=Xe.data;for(let I=0,b=ve.length;I<b;I+=4)ve[I]=fe[0],ve[I+1]=fe[1],ve[I+2]=fe[2],ve[I+3]=255}for(const ve of this._figures)ce(Xe,ve,le);return Ve.putImageData(Xe,2,2),{canvas:Re.canvas,offsetX:F-2*oe,offsetY:X-2*W,scaleX:oe,scaleY:W}}getPattern(q,fe,z,Z){let E;if(pe(q,this._bbox),Z===O.SHADING)E=s.Util.singularValueDecompose2dScale(q.mozCurrentTransform);else if(E=s.Util.singularValueDecompose2dScale(fe.baseTransform),this.matrix){const F=s.Util.singularValueDecompose2dScale(this.matrix);E=[E[0]*F[0],E[1]*F[1]]}const A=this._createMeshCanvas(E,Z===O.SHADING?null:this._background,fe.cachedCanvases);return Z!==O.SHADING&&(q.setTransform.apply(q,fe.baseTransform),this.matrix&&q.transform.apply(q,this.matrix)),q.translate(A.offsetX,A.offsetY),q.scale(A.scaleX,A.scaleY),q.createPattern(A.canvas,"no-repeat")}}class ee extends ie{getPattern(){return"hotpink"}}class ${static get MAX_PATTERN_SIZE(){return(0,s.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(q,fe,z,Z,E){this.operatorList=q[2],this.matrix=q[3]||[1,0,0,1,0,0],this.bbox=q[4],this.xstep=q[5],this.ystep=q[6],this.paintType=q[7],this.tilingType=q[8],this.color=fe,this.ctx=z,this.canvasGraphicsFactory=Z,this.baseTransform=E}createPatternCanvas(q){const fe=this.operatorList,z=this.bbox,Z=this.xstep,E=this.ystep,A=this.paintType,X=this.color,N=this.canvasGraphicsFactory;(0,s.info)("TilingType: "+this.tilingType);const J=z[0],j=z[1],S=z[2],oe=z[3],W=s.Util.singularValueDecompose2dScale(this.matrix),le=s.Util.singularValueDecompose2dScale(this.baseTransform),ge=[W[0]*le[0],W[1]*le[1]],ye=this.getSizeAndScale(Z,this.ctx.canvas.width,ge[0]),Re=this.getSizeAndScale(E,this.ctx.canvas.height,ge[1]),Ve=q.cachedCanvases.getCanvas("pattern",ye.size,Re.size,!0),Xe=Ve.context,it=N.createCanvasGraphics(Xe);it.groupLevel=q.groupLevel,this.setFillAndStrokeStyleToContext(it,A,X);let ve=J,I=j,b=S,k=oe;return J<0&&(ve=0,b+=Math.abs(J)),j<0&&(I=0,k+=Math.abs(j)),Xe.translate(-ye.scale*ve,-Re.scale*I),it.transform(ye.scale,0,0,Re.scale,0,0),Xe.save(),this.clipBbox(it,ve,I,b,k),it.baseTransform=it.ctx.mozCurrentTransform.slice(),it.executeOperatorList(fe),it.endDrawing(),{canvas:Ve.canvas,scaleX:ye.scale,scaleY:Re.scale,offsetX:ve,offsetY:I}}getSizeAndScale(q,fe,z){q=Math.abs(q);const Z=Math.max($.MAX_PATTERN_SIZE,fe);let E=Math.ceil(q*z);return E>=Z?E=Z:z=E/q,{scale:z,size:E}}clipBbox(q,fe,z,Z,E){q.ctx.rect(fe,z,Z-fe,E-z),q.current.updateRectMinMax(q.ctx.mozCurrentTransform,[fe,z,Z,E]),q.clip(),q.endPath()}setFillAndStrokeStyleToContext(q,fe,z){const Z=q.ctx,E=q.current;switch(fe){case 1:const A=this.ctx;Z.fillStyle=A.fillStyle,Z.strokeStyle=A.strokeStyle,E.fillColor=A.fillStyle,E.strokeColor=A.strokeStyle;break;case 2:const F=s.Util.makeHexColor(z[0],z[1],z[2]);Z.fillStyle=F,Z.strokeStyle=F,E.fillColor=F,E.strokeColor=F;break;default:throw new s.FormatError(`Unsupported paint type: ${fe}`)}}getPattern(q,fe,z,Z){let E=z;Z!==O.SHADING&&(E=s.Util.transform(E,fe.baseTransform),this.matrix&&(E=s.Util.transform(E,this.matrix)));const A=this.createPatternCanvas(fe);let F=new DOMMatrix(E);F=F.translate(A.offsetX,A.offsetY),F=F.scale(1/A.scaleX,1/A.scaleY);const X=q.createPattern(A.canvas,"repeat");try{X.setTransform(F)}catch(N){(0,s.warn)(`TilingPattern.getPattern: "${N?.message}".`)}return X}}x.TilingPattern=$},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.applyMaskImageData=function te({src:O,srcPos:pe=0,dest:ie,destPos:re=0,width:B,height:ce,inverseDecode:he=!1}){const ee=s.FeatureTest.isLittleEndian?4278190080:255,[Y,se]=he?[0,ee]:[ee,0],$=B>>3,ae=7&B,q=O.length;ie=new Uint32Array(ie.buffer);for(let fe=0;fe<ce;fe++){for(const Z=pe+$;pe<Z;pe++){const E=pe<q?O[pe]:255;ie[re++]=128&E?se:Y,ie[re++]=64&E?se:Y,ie[re++]=32&E?se:Y,ie[re++]=16&E?se:Y,ie[re++]=8&E?se:Y,ie[re++]=4&E?se:Y,ie[re++]=2&E?se:Y,ie[re++]=1&E?se:Y}if(0===ae)continue;const z=pe<q?O[pe++]:255;for(let Z=0;Z<ae;Z++)ie[re++]=z&1<<7-Z?se:Y}return{srcPos:pe,destPos:re}};var s=R(1)},(Ie,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.GlobalWorkerOptions=void 0;const R=Object.create(null);x.GlobalWorkerOptions=R,R.workerPort=void 0===R.workerPort?null:R.workerPort,R.workerSrc=void 0===R.workerSrc?"":R.workerSrc},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.MessageHandler=void 0;var s=R(1);function pe(re){switch(re instanceof Error||"object"==typeof re&&null!==re||(0,s.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),re.name){case"AbortException":return new s.AbortException(re.message);case"MissingPDFException":return new s.MissingPDFException(re.message);case"PasswordException":return new s.PasswordException(re.message,re.code);case"UnexpectedResponseException":return new s.UnexpectedResponseException(re.message,re.status);case"UnknownErrorException":return new s.UnknownErrorException(re.message,re.details);default:return new s.UnknownErrorException(re.message,re.toString())}}x.MessageHandler=class ie{constructor(B,ce,he){this.sourceName=B,this.targetName=ce,this.comObj=he,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ee=>{const Y=ee.data;if(Y.targetName!==this.sourceName)return;if(Y.stream)return void this._processStreamMessage(Y);if(Y.callback){const $=Y.callbackId,ae=this.callbackCapabilities[$];if(!ae)throw new Error(`Cannot resolve callback ${$}`);if(delete this.callbackCapabilities[$],1===Y.callback)ae.resolve(Y.data);else{if(2!==Y.callback)throw new Error("Unexpected callback case");ae.reject(pe(Y.reason))}return}const se=this.actionHandler[Y.action];if(!se)throw new Error(`Unknown action from worker: ${Y.action}`);if(Y.callbackId){const $=this.sourceName,ae=Y.sourceName;new Promise(function(q){q(se(Y.data))}).then(function(q){he.postMessage({sourceName:$,targetName:ae,callback:1,callbackId:Y.callbackId,data:q})},function(q){he.postMessage({sourceName:$,targetName:ae,callback:2,callbackId:Y.callbackId,reason:pe(q)})})}else Y.streamId?this._createStreamSink(Y):se(Y.data)},he.addEventListener("message",this._onComObjOnMessage)}on(B,ce){const he=this.actionHandler;if(he[B])throw new Error(`There is already an actionName called "${B}"`);he[B]=ce}send(B,ce,he){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:B,data:ce},he)}sendWithPromise(B,ce,he){const ee=this.callbackId++,Y=(0,s.createPromiseCapability)();this.callbackCapabilities[ee]=Y;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:B,callbackId:ee,data:ce},he)}catch(se){Y.reject(se)}return Y.promise}sendWithStream(B,ce,he,ee){const Y=this.streamId++,se=this.sourceName,$=this.targetName,ae=this.comObj;return new ReadableStream({start:q=>{const fe=(0,s.createPromiseCapability)();return this.streamControllers[Y]={controller:q,startCall:fe,pullCall:null,cancelCall:null,isClosed:!1},ae.postMessage({sourceName:se,targetName:$,action:B,streamId:Y,data:ce,desiredSize:q.desiredSize},ee),fe.promise},pull:q=>{const fe=(0,s.createPromiseCapability)();return this.streamControllers[Y].pullCall=fe,ae.postMessage({sourceName:se,targetName:$,stream:6,streamId:Y,desiredSize:q.desiredSize}),fe.promise},cancel:q=>{(0,s.assert)(q instanceof Error,"cancel must have a valid reason");const fe=(0,s.createPromiseCapability)();return this.streamControllers[Y].cancelCall=fe,this.streamControllers[Y].isClosed=!0,ae.postMessage({sourceName:se,targetName:$,stream:1,streamId:Y,reason:pe(q)}),fe.promise}},he)}_createStreamSink(B){const ce=B.streamId,he=this.sourceName,ee=B.sourceName,Y=this.comObj,se=this,$=this.actionHandler[B.action],ae={enqueue(q,fe=1,z){if(this.isCancelled)return;const Z=this.desiredSize;this.desiredSize-=fe,Z>0&&this.desiredSize<=0&&(this.sinkCapability=(0,s.createPromiseCapability)(),this.ready=this.sinkCapability.promise),Y.postMessage({sourceName:he,targetName:ee,stream:4,streamId:ce,chunk:q},z)},close(){this.isCancelled||(this.isCancelled=!0,Y.postMessage({sourceName:he,targetName:ee,stream:3,streamId:ce}),delete se.streamSinks[ce])},error(q){(0,s.assert)(q instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Y.postMessage({sourceName:he,targetName:ee,stream:5,streamId:ce,reason:pe(q)}))},sinkCapability:(0,s.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:B.desiredSize,ready:null};ae.sinkCapability.resolve(),ae.ready=ae.sinkCapability.promise,this.streamSinks[ce]=ae,new Promise(function(q){q($(B.data,ae))}).then(function(){Y.postMessage({sourceName:he,targetName:ee,stream:8,streamId:ce,success:!0})},function(q){Y.postMessage({sourceName:he,targetName:ee,stream:8,streamId:ce,reason:pe(q)})})}_processStreamMessage(B){const ce=B.streamId,he=this.sourceName,ee=B.sourceName,Y=this.comObj,se=this.streamControllers[ce],$=this.streamSinks[ce];switch(B.stream){case 8:B.success?se.startCall.resolve():se.startCall.reject(pe(B.reason));break;case 7:B.success?se.pullCall.resolve():se.pullCall.reject(pe(B.reason));break;case 6:if(!$){Y.postMessage({sourceName:he,targetName:ee,stream:7,streamId:ce,success:!0});break}$.desiredSize<=0&&B.desiredSize>0&&$.sinkCapability.resolve(),$.desiredSize=B.desiredSize,new Promise(function(ae){ae($.onPull&&$.onPull())}).then(function(){Y.postMessage({sourceName:he,targetName:ee,stream:7,streamId:ce,success:!0})},function(ae){Y.postMessage({sourceName:he,targetName:ee,stream:7,streamId:ce,reason:pe(ae)})});break;case 4:if((0,s.assert)(se,"enqueue should have stream controller"),se.isClosed)break;se.controller.enqueue(B.chunk);break;case 3:if((0,s.assert)(se,"close should have stream controller"),se.isClosed)break;se.isClosed=!0,se.controller.close(),this._deleteStreamController(se,ce);break;case 5:(0,s.assert)(se,"error should have stream controller"),se.controller.error(pe(B.reason)),this._deleteStreamController(se,ce);break;case 2:B.success?se.cancelCall.resolve():se.cancelCall.reject(pe(B.reason)),this._deleteStreamController(se,ce);break;case 1:if(!$)break;new Promise(function(ae){ae($.onCancel&&$.onCancel(pe(B.reason)))}).then(function(){Y.postMessage({sourceName:he,targetName:ee,stream:2,streamId:ce,success:!0})},function(ae){Y.postMessage({sourceName:he,targetName:ee,stream:2,streamId:ce,reason:pe(ae)})}),$.sinkCapability.reject(pe(B.reason)),$.isCancelled=!0,delete this.streamSinks[ce];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(B,ce){var he=this;return _asyncToGenerator(function*(){yield Promise.allSettled([B.startCall&&B.startCall.promise,B.pullCall&&B.pullCall.promise,B.cancelCall&&B.cancelCall.promise]),delete he.streamControllers[ce]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Metadata=void 0;var s=R(1),te=new WeakMap,O=new WeakMap;x.Metadata=class pe{constructor({parsedData:re,rawData:B}){_classPrivateFieldInitSpec(this,te,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:void 0}),_classPrivateFieldSet(this,te,re),_classPrivateFieldSet(this,O,B)}getRaw(){return _classPrivateFieldGet(this,O)}get(re){return _classPrivateFieldGet(this,te).get(re)??null}getAll(){return(0,s.objectFromMap)(_classPrivateFieldGet(this,te))}has(re){return _classPrivateFieldGet(this,te).has(re)}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.OptionalContentConfig=void 0;var s=R(1);class te{constructor(ie,re){this.visible=!0,this.name=ie,this.intent=re}}x.OptionalContentConfig=class O{constructor(ie){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==ie){this.name=ie.name,this.creator=ie.creator,this._order=ie.order;for(const re of ie.groups)this._groups.set(re.id,new te(re.name,re.intent));if("OFF"===ie.baseState)for(const re of this._groups)re.visible=!1;for(const re of ie.on)this._groups.get(re).visible=!0;for(const re of ie.off)this._groups.get(re).visible=!1}}_evaluateVisibilityExpression(ie){const re=ie.length;if(re<2)return!0;const B=ie[0];for(let ce=1;ce<re;ce++){const he=ie[ce];let ee;if(Array.isArray(he))ee=this._evaluateVisibilityExpression(he);else{if(!this._groups.has(he))return(0,s.warn)(`Optional content group not found: ${he}`),!0;ee=this._groups.get(he).visible}switch(B){case"And":if(!ee)return!1;break;case"Or":if(ee)return!0;break;case"Not":return!ee;default:return!0}}return"And"===B}isVisible(ie){if(0===this._groups.size)return!0;if(!ie)return(0,s.warn)("Optional content group not defined."),!0;if("OCG"===ie.type)return this._groups.has(ie.id)?this._groups.get(ie.id).visible:((0,s.warn)(`Optional content group not found: ${ie.id}`),!0);if("OCMD"===ie.type){if(ie.expression)return this._evaluateVisibilityExpression(ie.expression);if(!ie.policy||"AnyOn"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,s.warn)(`Optional content group not found: ${re}`),!0;if(this._groups.get(re).visible)return!0}return!1}if("AllOn"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,s.warn)(`Optional content group not found: ${re}`),!0;if(!this._groups.get(re).visible)return!1}return!0}if("AnyOff"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,s.warn)(`Optional content group not found: ${re}`),!0;if(!this._groups.get(re).visible)return!0}return!1}if("AllOff"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,s.warn)(`Optional content group not found: ${re}`),!0;if(this._groups.get(re).visible)return!1}return!0}return(0,s.warn)(`Unknown optional content policy ${ie.policy}.`),!0}return(0,s.warn)(`Unknown group type ${ie.type}.`),!0}setVisibility(ie,re=!0){this._groups.has(ie)?this._groups.get(ie).visible=!!re:(0,s.warn)(`Optional content group not found: ${ie}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,s.objectFromMap)(this._groups):null}getGroup(ie){return this._groups.get(ie)||null}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFDataTransportStream=void 0;var s=R(1),te=R(5);x.PDFDataTransportStream=class O{constructor(B,ce){(0,s.assert)(ce,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=B.progressiveDone||!1,this._contentDispositionFilename=B.contentDispositionFilename||null;const he=B.initialData;if(he?.length>0){const ee=new Uint8Array(he).buffer;this._queuedChunks.push(ee)}this._pdfDataRangeTransport=ce,this._isStreamingSupported=!B.disableStream,this._isRangeSupported=!B.disableRange,this._contentLength=B.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ee,Y)=>{this._onReceiveData({begin:ee,chunk:Y})}),this._pdfDataRangeTransport.addProgressListener((ee,Y)=>{this._onProgress({loaded:ee,total:Y})}),this._pdfDataRangeTransport.addProgressiveReadListener(ee=>{this._onReceiveData({chunk:ee})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(B){const ce=new Uint8Array(B.chunk).buffer;if(void 0===B.begin)this._fullRequestReader?this._fullRequestReader._enqueue(ce):this._queuedChunks.push(ce);else{const he=this._rangeReaders.some(function(ee){return ee._begin===B.begin&&(ee._enqueue(ce),!0)});(0,s.assert)(he,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(B){if(void 0===B.total){const ce=this._rangeReaders[0];ce?.onProgress&&ce.onProgress({loaded:B.loaded})}else{const ce=this._fullRequestReader;ce?.onProgress&&ce.onProgress({loaded:B.loaded,total:B.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(B){const ce=this._rangeReaders.indexOf(B);ce>=0&&this._rangeReaders.splice(ce,1)}getFullReader(){(0,s.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const B=this._queuedChunks;return this._queuedChunks=null,new pe(this,B,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(B,ce){if(ce<=this._progressiveDataLength)return null;const he=new ie(this,B,ce);return this._pdfDataRangeTransport.requestDataRange(B,ce),this._rangeReaders.push(he),he}cancelAllRequests(B){this._fullRequestReader&&this._fullRequestReader.cancel(B);for(const ce of this._rangeReaders.slice(0))ce.cancel(B);this._pdfDataRangeTransport.abort()}};class pe{constructor(B,ce,he=!1,ee=null){this._stream=B,this._done=he||!1,this._filename=(0,te.isPdfFile)(ee)?ee:null,this._queuedChunks=ce||[],this._loaded=0;for(const Y of this._queuedChunks)this._loaded+=Y.byteLength;this._requests=[],this._headersReady=Promise.resolve(),B._fullRequestReader=this,this.onProgress=null}_enqueue(B){this._done||(this._requests.length>0?this._requests.shift().resolve({value:B,done:!1}):this._queuedChunks.push(B),this._loaded+=B.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var B=this;return _asyncToGenerator(function*(){if(B._queuedChunks.length>0)return{value:B._queuedChunks.shift(),done:!1};if(B._done)return{value:void 0,done:!0};const ce=(0,s.createPromiseCapability)();return B._requests.push(ce),ce.promise})()}cancel(B){this._done=!0;for(const ce of this._requests)ce.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ie{constructor(B,ce,he){this._stream=B,this._begin=ce,this._end=he,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(B){if(!this._done){if(0===this._requests.length)this._queuedChunk=B;else{this._requests.shift().resolve({value:B,done:!1});for(const he of this._requests)he.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var B=this;return _asyncToGenerator(function*(){if(B._queuedChunk){const he=B._queuedChunk;return B._queuedChunk=null,{value:he,done:!1}}if(B._done)return{value:void 0,done:!0};const ce=(0,s.createPromiseCapability)();return B._requests.push(ce),ce.promise})()}cancel(B){this._done=!0;for(const ce of this._requests)ce.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Ie,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XfaText=void 0;class R{static textContent(te){const O=[],pe={items:O,styles:Object.create(null)};return function ie(re){if(!re)return;let B=null;const ce=re.name;if("#text"===ce)B=re.value;else{if(!R.shouldBuildText(ce))return;re?.attributes?.textContent?B=re.attributes.textContent:re.value&&(B=re.value)}if(null!==B&&O.push({str:B}),re.children)for(const he of re.children)ie(he)}(te),pe}static shouldBuildText(te){return!("textarea"===te||"input"===te||"option"===te||"select"===te)}}x.XfaText=R},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.NodeStandardFontDataFactory=x.NodeCanvasFactory=x.NodeCMapReaderFactory=void 0;var s=R(6);const te=function(re){return new Promise((B,ce)=>{__webpack_require__(172).readFile(re,(ee,Y)=>{!ee&&Y?B(new Uint8Array(Y)):ce(new Error(ee))})})};x.NodeCanvasFactory=class O extends s.BaseCanvasFactory{_createCanvas(B,ce){return __webpack_require__(3414).createCanvas(B,ce)}},x.NodeCMapReaderFactory=class pe extends s.BaseCMapReaderFactory{_fetchData(B,ce){return te(B).then(he=>({cMapData:he,compressionType:ce}))}},x.NodeStandardFontDataFactory=class ie extends s.BaseStandardFontDataFactory{_fetchData(B){return te(B)}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.AnnotationLayer=void 0;var s=R(1),te=R(5),O=R(8),pe=R(21),ie=R(22);const B=new WeakSet;function ce(I){return{width:I[2]-I[0],height:I[3]-I[1]}}class he{static create(b){switch(b.data.annotationType){case s.AnnotationType.LINK:return new Y(b);case s.AnnotationType.TEXT:return new se(b);case s.AnnotationType.WIDGET:switch(b.data.fieldType){case"Tx":return new ae(b);case"Btn":return b.data.radioButton?new fe(b):b.data.checkBox?new q(b):new z(b);case"Ch":return new Z(b)}return new $(b);case s.AnnotationType.POPUP:return new E(b);case s.AnnotationType.FREETEXT:return new F(b);case s.AnnotationType.LINE:return new X(b);case s.AnnotationType.SQUARE:return new N(b);case s.AnnotationType.CIRCLE:return new J(b);case s.AnnotationType.POLYLINE:return new j(b);case s.AnnotationType.CARET:return new oe(b);case s.AnnotationType.INK:return new W(b);case s.AnnotationType.POLYGON:return new S(b);case s.AnnotationType.HIGHLIGHT:return new le(b);case s.AnnotationType.UNDERLINE:return new ge(b);case s.AnnotationType.SQUIGGLY:return new ye(b);case s.AnnotationType.STRIKEOUT:return new Re(b);case s.AnnotationType.STAMP:return new Ve(b);case s.AnnotationType.FILEATTACHMENT:return new Xe(b);default:return new ee(b)}}}class ee{constructor(b,{isRenderable:k=!1,ignoreBorder:L=!1,createQuadrilaterals:Q=!1}={}){this.isRenderable=k,this.data=b.data,this.layer=b.layer,this.page=b.page,this.viewport=b.viewport,this.linkService=b.linkService,this.downloadManager=b.downloadManager,this.imageResourcesPath=b.imageResourcesPath,this.renderForms=b.renderForms,this.svgFactory=b.svgFactory,this.annotationStorage=b.annotationStorage,this.enableScripting=b.enableScripting,this.hasJSActions=b.hasJSActions,this._fieldObjects=b.fieldObjects,this._mouseState=b.mouseState,k&&(this.container=this._createContainer(L)),Q&&(this.quadrilaterals=this._createQuadrilaterals(L))}_createContainer(b=!1){const k=this.data,L=this.page,Q=this.viewport,ne=document.createElement("section");let{width:U,height:be}=ce(k.rect);ne.setAttribute("data-annotation-id",k.id);const He=s.Util.normalizeRect([k.rect[0],L.view[3]-k.rect[1]+L.view[1],k.rect[2],L.view[3]-k.rect[3]+L.view[1]]);if(k.hasOwnCanvas){const ke=Q.transform.slice(),[Ue,Be]=s.Util.singularValueDecompose2dScale(ke);U=Math.ceil(U*Ue),be=Math.ceil(be*Be),He[0]*=Ue,He[1]*=Be;for(let qe=0;qe<4;qe++)ke[qe]=Math.sign(ke[qe]);ne.style.transform=`matrix(${ke.join(",")})`}else ne.style.transform=`matrix(${Q.transform.join(",")})`;if(ne.style.transformOrigin=`${-He[0]}px ${-He[1]}px`,!b&&k.borderStyle.width>0){ne.style.borderWidth=`${k.borderStyle.width}px`,k.borderStyle.style!==s.AnnotationBorderStyleType.UNDERLINE&&(U-=2*k.borderStyle.width,be-=2*k.borderStyle.width);const ke=k.borderStyle.horizontalCornerRadius,Ue=k.borderStyle.verticalCornerRadius;switch((ke>0||Ue>0)&&(ne.style.borderRadius=`${ke}px / ${Ue}px`),k.borderStyle.style){case s.AnnotationBorderStyleType.SOLID:ne.style.borderStyle="solid";break;case s.AnnotationBorderStyleType.DASHED:ne.style.borderStyle="dashed";break;case s.AnnotationBorderStyleType.BEVELED:(0,s.warn)("Unimplemented border style: beveled");break;case s.AnnotationBorderStyleType.INSET:(0,s.warn)("Unimplemented border style: inset");break;case s.AnnotationBorderStyleType.UNDERLINE:ne.style.borderBottomStyle="solid"}k.borderColor||k.color?ne.style.borderColor=s.Util.makeHexColor(0|k.color[0],0|k.color[1],0|k.color[2]):ne.style.borderWidth=0}return ne.style.left=`${He[0]}px`,ne.style.top=`${He[1]}px`,k.hasOwnCanvas?ne.style.width=ne.style.height="auto":(ne.style.width=`${U}px`,ne.style.height=`${be}px`),ne}get _commonActions(){const b=(k,L,Q)=>{const ne=Q.detail[k];Q.target.style[L]=pe.ColorConverters[`${ne[0]}_HTML`](ne.slice(1))};return(0,s.shadow)(this,"_commonActions",{display:k=>{const L=k.detail.display%2==1;k.target.style.visibility=L?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:L,print:0===k.detail.display||3===k.detail.display})},print:k=>{this.annotationStorage.setValue(this.data.id,{print:k.detail.print})},hidden:k=>{k.target.style.visibility=k.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:k.detail.hidden})},focus:k=>{setTimeout(()=>k.target.focus({preventScroll:!1}),0)},userName:k=>{k.target.title=k.detail.userName},readonly:k=>{k.detail.readonly?k.target.setAttribute("readonly",""):k.target.removeAttribute("readonly")},required:k=>{k.detail.required?k.target.setAttribute("required",""):k.target.removeAttribute("required")},bgColor:k=>{b("bgColor","backgroundColor",k)},fillColor:k=>{b("fillColor","backgroundColor",k)},fgColor:k=>{b("fgColor","color",k)},textColor:k=>{b("textColor","color",k)},borderColor:k=>{b("borderColor","borderColor",k)},strokeColor:k=>{b("strokeColor","borderColor",k)}})}_dispatchEventFromSandbox(b,k){const L=this._commonActions;for(const Q of Object.keys(k.detail)){const ne=b[Q]||L[Q];ne&&ne(k)}}_setDefaultPropertiesFromJS(b){if(!this.enableScripting)return;const k=this.annotationStorage.getRawValue(this.data.id);if(!k)return;const L=this._commonActions;for(const[Q,ne]of Object.entries(k)){const U=L[Q];U&&(U({detail:ne,target:b}),delete k[Q])}}_createQuadrilaterals(b=!1){if(!this.data.quadPoints)return null;const k=[],L=this.data.rect;for(const Q of this.data.quadPoints)this.data.rect=[Q[2].x,Q[2].y,Q[1].x,Q[1].y],k.push(this._createContainer(b));return this.data.rect=L,k}_createPopup(b,k){let L=this.container;this.quadrilaterals&&(b=b||this.quadrilaterals,L=this.quadrilaterals[0]),b||((b=document.createElement("div")).style.height=L.style.height,b.style.width=L.style.width,L.appendChild(b));const ne=new A({container:L,trigger:b,color:k.color,titleObj:k.titleObj,modificationDate:k.modificationDate,contentsObj:k.contentsObj,richText:k.richText,hideWrapper:!0}).render();ne.style.left=L.style.width,L.appendChild(ne)}_renderQuadrilaterals(b){for(const k of this.quadrilaterals)k.className=b;return this.quadrilaterals}render(){(0,s.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(b,k=null){const L=[];if(this._fieldObjects){const Q=this._fieldObjects[b];if(Q)for(const{page:ne,id:U,exportValues:be}of Q){if(-1===ne||U===k)continue;const He="string"==typeof be?be:null,ke=document.getElementById(U);!ke||B.has(ke)?L.push({id:U,exportValue:He,domElement:ke}):(0,s.warn)(`_getElementsByName - element not allowed: ${U}`)}return L}for(const Q of document.getElementsByName(b)){const{id:ne,exportValue:U}=Q;ne!==k&&(!B.has(Q)||L.push({id:ne,exportValue:U,domElement:Q}))}return L}static get platform(){const b=typeof navigator<"u"?navigator.platform:"";return(0,s.shadow)(this,"platform",{isWin:b.includes("Win"),isMac:b.includes("Mac")})}}class Y extends ee{constructor(b,k=null){super(b,{isRenderable:!!(b.data.url||b.data.dest||b.data.action||b.data.isTooltipOnly||b.data.resetForm||b.data.actions&&(b.data.actions.Action||b.data.actions["Mouse Up"]||b.data.actions["Mouse Down"])),ignoreBorder:!!k?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:b,linkService:k}=this,L=document.createElement("a");if(b.url)k.addLinkAttributes(L,b.url,b.newWindow);else if(b.action)this._bindNamedAction(L,b.action);else if(b.dest)this._bindLink(L,b.dest);else{let Q=!1;b.actions&&(b.actions.Action||b.actions["Mouse Up"]||b.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(Q=!0,this._bindJSAction(L,b)),b.resetForm?this._bindResetFormAction(L,b.resetForm):Q||this._bindLink(L,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Q,ne)=>{const U=0===ne?L:L.cloneNode();return Q.appendChild(U),Q}):(this.container.className="linkAnnotation",this.container.appendChild(L),this.container)}_bindLink(b,k){b.href=this.linkService.getDestinationHash(k),b.onclick=()=>(k&&this.linkService.goToDestination(k),!1),(k||""===k)&&(b.className="internalLink")}_bindNamedAction(b,k){b.href=this.linkService.getAnchorUrl(""),b.onclick=()=>(this.linkService.executeNamedAction(k),!1),b.className="internalLink"}_bindJSAction(b,k){b.href=this.linkService.getAnchorUrl("");const L=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Q of Object.keys(k.actions)){const ne=L.get(Q);!ne||(b[ne]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k.id,name:Q}}),!1))}b.onclick||(b.onclick=()=>!1),b.className="internalLink"}_bindResetFormAction(b,k){const L=b.onclick;if(L||(b.href=this.linkService.getAnchorUrl("")),b.className="internalLink",!this._fieldObjects)return(0,s.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(L||(b.onclick=()=>!1));b.onclick=()=>{L&&L();const{fields:Q,refs:ne,include:U}=k,be=[];if(0!==Q.length||0!==ne.length){const Ue=new Set(ne);for(const Be of Q){const qe=this._fieldObjects[Be]||[];for(const{id:Qe}of qe)Ue.add(Qe)}for(const Be of Object.values(this._fieldObjects))for(const qe of Be)Ue.has(qe.id)===U&&be.push(qe)}else for(const Ue of Object.values(this._fieldObjects))be.push(...Ue);const He=this.annotationStorage,ke=[];for(const Ue of be){const{id:Be}=Ue;switch(ke.push(Be),Ue.type){case"text":case"combobox":case"listbox":He.setValue(Be,{value:Ue.defaultValue||""});break;case"checkbox":case"radiobutton":He.setValue(Be,{value:Ue.defaultValue===Ue.exportValues});break;default:continue}const qe=document.getElementById(Be);!qe||!B.has(qe)||qe.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ke,name:"ResetForm"}}),!1}}}class se extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str)})}render(){this.container.className="textAnnotation";const b=document.createElement("img");return b.style.height=this.container.style.height,b.style.width=this.container.style.width,b.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",b.alt="[{{type}} Annotation]",b.dataset.l10nId="text_annotation_type",b.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(b,this.data),this.container.appendChild(b),this.container}}class $ extends ee{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(b){const{isWin:k,isMac:L}=ee.platform;return k&&b.ctrlKey||L&&b.metaKey}_setEventListener(b,k,L,Q){k.includes("mouse")?b.addEventListener(k,ne=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:Q(ne),shift:ne.shiftKey,modifier:this._getKeyModifier(ne)}})}):b.addEventListener(k,ne=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:Q(ne)}})})}_setEventListeners(b,k,L){for(const[Q,ne]of k)("Action"===ne||this.data.actions?.[ne])&&this._setEventListener(b,Q,ne,L)}_setBackgroundColor(b){const k=this.data.backgroundColor||null;b.style.backgroundColor=null===k?"transparent":s.Util.makeHexColor(k[0],k[1],k[2])}}class ae extends ${constructor(b){super(b,{isRenderable:b.renderForms||!b.data.hasAppearance&&!!b.data.fieldValue})}setPropertyOnSiblings(b,k,L,Q){const ne=this.annotationStorage;for(const U of this._getElementsByName(b.name,b.id))U.domElement&&(U.domElement[k]=L),ne.setValue(U.id,{[Q]:L})}render(){const b=this.annotationStorage,k=this.data.id;this.container.className="textWidgetAnnotation";let L=null;if(this.renderForms){const Q=b.getValue(k,{value:this.data.fieldValue}),ne=Q.formattedValue||Q.value||"",U={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(L=document.createElement("textarea"),L.textContent=ne):(L=document.createElement("input"),L.type="text",L.setAttribute("value",ne)),B.add(L),L.disabled=this.data.readOnly,L.name=this.data.fieldName,L.tabIndex=1e3,U.userValue=ne,L.setAttribute("id",k),L.addEventListener("input",He=>{b.setValue(k,{value:He.target.value}),this.setPropertyOnSiblings(L,"value",He.target.value,"value")}),L.addEventListener("resetform",He=>{L.value=U.userValue=this.data.defaultFieldValue??"",U.formattedValue=null});let be=He=>{const{formattedValue:ke}=U;null!=ke&&(He.target.value=ke),He.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){L.addEventListener("focus",ke=>{U.userValue&&(ke.target.value=U.userValue),U.valueOnFocus=ke.target.value}),L.addEventListener("updatefromsandbox",ke=>{this._dispatchEventFromSandbox({value(Be){U.userValue=Be.detail.value??"",b.setValue(k,{value:U.userValue.toString()}),Be.target.value=U.userValue},formattedValue(Be){const{formattedValue:qe}=Be.detail;U.formattedValue=qe,null!=qe&&Be.target!==document.activeElement&&(Be.target.value=qe),b.setValue(k,{formattedValue:qe})},selRange(Be){Be.target.setSelectionRange(...Be.detail.selRange)}},ke)}),L.addEventListener("keydown",ke=>{let Ue=-1;if("Escape"===ke.key?Ue=0:"Enter"===ke.key?Ue=2:"Tab"===ke.key&&(Ue=3),-1===Ue)return;const{value:Be}=ke.target;U.valueOnFocus!==Be&&(U.userValue=Be,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k,name:"Keystroke",value:Be,willCommit:!0,commitKey:Ue,selStart:ke.target.selectionStart,selEnd:ke.target.selectionEnd}}))});const He=be;be=null,L.addEventListener("blur",ke=>{const{value:Ue}=ke.target;U.userValue=Ue,this._mouseState.isDown&&U.valueOnFocus!==Ue&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k,name:"Keystroke",value:Ue,willCommit:!0,commitKey:1,selStart:ke.target.selectionStart,selEnd:ke.target.selectionEnd}}),He(ke)}),this.data.actions?.Keystroke&&L.addEventListener("beforeinput",ke=>{const{data:Ue,target:Be}=ke,{value:qe,selectionStart:Qe,selectionEnd:mt}=Be;let Tt=Qe,lt=mt;switch(ke.inputType){case"deleteWordBackward":{const yt=qe.substring(0,Qe).match(/\w*[^\w]*$/);yt&&(Tt-=yt[0].length);break}case"deleteWordForward":{const yt=qe.substring(Qe).match(/^[^\w]*\w*/);yt&&(lt+=yt[0].length);break}case"deleteContentBackward":Qe===mt&&(Tt-=1);break;case"deleteContentForward":Qe===mt&&(lt+=1)}ke.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k,name:"Keystroke",value:qe,change:Ue||"",willCommit:!1,selStart:Tt,selEnd:lt}})}),this._setEventListeners(L,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ke=>ke.target.value)}if(be&&L.addEventListener("blur",be),null!==this.data.maxLen&&(L.maxLength=this.data.maxLen),this.data.comb){const ke=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;L.classList.add("comb"),L.style.letterSpacing=`calc(${ke}px - 1ch)`}}else L=document.createElement("div"),L.textContent=this.data.fieldValue,L.style.verticalAlign="middle",L.style.display="table-cell";return this._setTextStyle(L),this._setBackgroundColor(L),this._setDefaultPropertiesFromJS(L),this.container.appendChild(L),this.container}_setTextStyle(b){const{fontSize:L,fontColor:Q}=this.data.defaultAppearanceData,ne=b.style;L&&(ne.fontSize=`${L}px`),ne.color=s.Util.makeHexColor(Q[0],Q[1],Q[2]),null!==this.data.textAlignment&&(ne.textAlign=["left","center","right"][this.data.textAlignment])}}class q extends ${constructor(b){super(b,{isRenderable:b.renderForms})}render(){const b=this.annotationStorage,k=this.data,L=k.id;let Q=b.getValue(L,{value:k.exportValue===k.fieldValue}).value;"string"==typeof Q&&(Q="Off"!==Q,b.setValue(L,{value:Q})),this.container.className="buttonWidgetAnnotation checkBox";const ne=document.createElement("input");return B.add(ne),ne.disabled=k.readOnly,ne.type="checkbox",ne.name=k.fieldName,Q&&ne.setAttribute("checked",!0),ne.setAttribute("id",L),ne.setAttribute("exportValue",k.exportValue),ne.tabIndex=1e3,ne.addEventListener("change",U=>{const{name:be,checked:He}=U.target;for(const ke of this._getElementsByName(be,L)){const Ue=He&&ke.exportValue===k.exportValue;ke.domElement&&(ke.domElement.checked=Ue),b.setValue(ke.id,{value:Ue})}b.setValue(L,{value:He})}),ne.addEventListener("resetform",U=>{U.target.checked=(k.defaultFieldValue||"Off")===k.exportValue}),this.enableScripting&&this.hasJSActions&&(ne.addEventListener("updatefromsandbox",U=>{this._dispatchEventFromSandbox({value(He){He.target.checked="Off"!==He.detail.value,b.setValue(L,{value:He.target.checked})}},U)}),this._setEventListeners(ne,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],U=>U.target.checked)),this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.appendChild(ne),this.container}}class fe extends ${constructor(b){super(b,{isRenderable:b.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const b=this.annotationStorage,k=this.data,L=k.id;let Q=b.getValue(L,{value:k.fieldValue===k.buttonValue}).value;"string"==typeof Q&&(Q=Q!==k.buttonValue,b.setValue(L,{value:Q}));const ne=document.createElement("input");if(B.add(ne),ne.disabled=k.readOnly,ne.type="radio",ne.name=k.fieldName,Q&&ne.setAttribute("checked",!0),ne.setAttribute("id",L),ne.tabIndex=1e3,ne.addEventListener("change",U=>{const{name:be,checked:He}=U.target;for(const ke of this._getElementsByName(be,L))b.setValue(ke.id,{value:!1});b.setValue(L,{value:He})}),ne.addEventListener("resetform",U=>{const be=k.defaultFieldValue;U.target.checked=null!=be&&be===k.buttonValue}),this.enableScripting&&this.hasJSActions){const U=k.buttonValue;ne.addEventListener("updatefromsandbox",be=>{this._dispatchEventFromSandbox({value:ke=>{const Ue=U===ke.detail.value;for(const Be of this._getElementsByName(ke.target.name)){const qe=Ue&&Be.id===L;Be.domElement&&(Be.domElement.checked=qe),b.setValue(Be.id,{value:qe})}}},be)}),this._setEventListeners(ne,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],be=>be.target.checked)}return this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.appendChild(ne),this.container}}class z extends Y{constructor(b){super(b,{ignoreBorder:b.data.hasAppearance})}render(){const b=super.render();return b.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(b.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(b),b}}class Z extends ${constructor(b){super(b,{isRenderable:b.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const b=this.annotationStorage,k=this.data.id,L=b.getValue(k,{value:this.data.fieldValue});let{fontSize:Q}=this.data.defaultAppearanceData;Q||(Q=9);const ne=`calc(${Q}px * var(--zoom-factor))`,U=document.createElement("select");B.add(U),U.disabled=this.data.readOnly,U.name=this.data.fieldName,U.setAttribute("id",k),U.tabIndex=1e3,U.style.fontSize=`${Q}px`,this.data.combo||(U.size=this.data.options.length,this.data.multiSelect&&(U.multiple=!0)),U.addEventListener("resetform",ke=>{const Ue=this.data.defaultFieldValue;for(const Be of U.options)Be.selected=Be.value===Ue});for(const ke of this.data.options){const Ue=document.createElement("option");Ue.textContent=ke.displayValue,Ue.value=ke.exportValue,this.data.combo&&(Ue.style.fontSize=ne),L.value.includes(ke.exportValue)&&Ue.setAttribute("selected",!0),U.appendChild(Ue)}const be=(ke,Ue)=>{const Be=Ue?"value":"textContent",qe=ke.target.options;return ke.target.multiple?Array.prototype.filter.call(qe,Qe=>Qe.selected).map(Qe=>Qe[Be]):-1===qe.selectedIndex?null:qe[qe.selectedIndex][Be]},He=ke=>Array.prototype.map.call(ke.target.options,Be=>({displayValue:Be.textContent,exportValue:Be.value}));return this.enableScripting&&this.hasJSActions?(U.addEventListener("updatefromsandbox",ke=>{this._dispatchEventFromSandbox({value(Be){const qe=Be.detail.value,Qe=new Set(Array.isArray(qe)?qe:[qe]);for(const mt of U.options)mt.selected=Qe.has(mt.value);b.setValue(k,{value:be(Be,!0)})},multipleSelection(Be){U.multiple=!0},remove(Be){const qe=U.options,Qe=Be.detail.remove;qe[Qe].selected=!1,U.remove(Qe),qe.length>0&&-1===Array.prototype.findIndex.call(qe,Tt=>Tt.selected)&&(qe[0].selected=!0),b.setValue(k,{value:be(Be,!0),items:He(Be)})},clear(Be){for(;0!==U.length;)U.remove(0);b.setValue(k,{value:null,items:[]})},insert(Be){const{index:qe,displayValue:Qe,exportValue:mt}=Be.detail.insert,Tt=document.createElement("option");Tt.textContent=Qe,Tt.value=mt,U.insertBefore(Tt,U.children[qe]),b.setValue(k,{value:be(Be,!0),items:He(Be)})},items(Be){const{items:qe}=Be.detail;for(;0!==U.length;)U.remove(0);for(const Qe of qe){const{displayValue:mt,exportValue:Tt}=Qe,lt=document.createElement("option");lt.textContent=mt,lt.value=Tt,U.appendChild(lt)}U.options.length>0&&(U.options[0].selected=!0),b.setValue(k,{value:be(Be,!0),items:He(Be)})},indices(Be){const qe=new Set(Be.detail.indices);for(const Qe of Be.target.options)Qe.selected=qe.has(Qe.index);b.setValue(k,{value:be(Be,!0)})},editable(Be){Be.target.disabled=!Be.detail.editable}},ke)}),U.addEventListener("input",ke=>{const Ue=be(ke,!0),Be=be(ke,!1);b.setValue(k,{value:Ue}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k,name:"Keystroke",value:Be,changeEx:Ue,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(U,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],ke=>ke.target.checked)):U.addEventListener("input",function(ke){b.setValue(k,{value:be(ke,!0)})}),this._setBackgroundColor(U),this._setDefaultPropertiesFromJS(U),this.container.appendChild(U),this.container}}class E extends ee{constructor(b){super(b,{isRenderable:!!(b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const L=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===L.length)return this.container;const Q=new A({container:this.container,trigger:Array.from(L),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ne=this.page,U=s.Util.normalizeRect([this.data.parentRect[0],ne.view[3]-this.data.parentRect[1]+ne.view[1],this.data.parentRect[2],ne.view[3]-this.data.parentRect[3]+ne.view[1]]),be=U[0]+this.data.parentRect[2]-this.data.parentRect[0],He=U[1];return this.container.style.transformOrigin=`${-be}px ${-He}px`,this.container.style.left=`${be}px`,this.container.style.top=`${He}px`,this.container.appendChild(Q.render()),this.container}}class A{constructor(b){this.container=b.container,this.trigger=b.trigger,this.color=b.color,this.titleObj=b.titleObj,this.modificationDate=b.modificationDate,this.contentsObj=b.contentsObj,this.richText=b.richText,this.hideWrapper=b.hideWrapper||!1,this.pinned=!1}render(){const k=document.createElement("div");k.className="popupWrapper",this.hideElement=this.hideWrapper?k:this.container,this.hideElement.hidden=!0;const L=document.createElement("div");L.className="popup";const Q=this.color;Q&&(L.style.backgroundColor=s.Util.makeHexColor(0|.7*(255-Q[0])+Q[0],0|.7*(255-Q[1])+Q[1],0|.7*(255-Q[2])+Q[2]));const ne=document.createElement("h1");ne.dir=this.titleObj.dir,ne.textContent=this.titleObj.str,L.appendChild(ne);const U=te.PDFDateString.toDateObject(this.modificationDate);if(U){const be=document.createElement("span");be.className="popupDate",be.textContent="{{date}}, {{time}}",be.dataset.l10nId="annotation_date_string",be.dataset.l10nArgs=JSON.stringify({date:U.toLocaleDateString(),time:U.toLocaleTimeString()}),L.appendChild(be)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const be=this._formatContents(this.contentsObj);L.appendChild(be)}else ie.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:L}),L.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const be of this.trigger)be.addEventListener("click",this._toggle.bind(this)),be.addEventListener("mouseover",this._show.bind(this,!1)),be.addEventListener("mouseout",this._hide.bind(this,!1));return L.addEventListener("click",this._hide.bind(this,!0)),k.appendChild(L),k}_formatContents({str:b,dir:k}){const L=document.createElement("p");L.className="popupContent",L.dir=k;const Q=b.split(/(?:\r\n?|\n)/);for(let ne=0,U=Q.length;ne<U;++ne)L.appendChild(document.createTextNode(Q[ne])),ne<U-1&&L.appendChild(document.createElement("br"));return L}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(b=!1){b&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(b=!0){b&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class F extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class X extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const b=this.data,{width:k,height:L}=ce(b.rect),Q=this.svgFactory.create(k,L),ne=this.svgFactory.createElement("svg:line");return ne.setAttribute("x1",b.rect[2]-b.lineCoordinates[0]),ne.setAttribute("y1",b.rect[3]-b.lineCoordinates[1]),ne.setAttribute("x2",b.rect[2]-b.lineCoordinates[2]),ne.setAttribute("y2",b.rect[3]-b.lineCoordinates[3]),ne.setAttribute("stroke-width",b.borderStyle.width||1),ne.setAttribute("stroke","transparent"),ne.setAttribute("fill","transparent"),Q.appendChild(ne),this.container.append(Q),this._createPopup(ne,b),this.container}}class N extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const b=this.data,{width:k,height:L}=ce(b.rect),Q=this.svgFactory.create(k,L),ne=b.borderStyle.width,U=this.svgFactory.createElement("svg:rect");return U.setAttribute("x",ne/2),U.setAttribute("y",ne/2),U.setAttribute("width",k-ne),U.setAttribute("height",L-ne),U.setAttribute("stroke-width",ne||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),Q.appendChild(U),this.container.append(Q),this._createPopup(U,b),this.container}}class J extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const b=this.data,{width:k,height:L}=ce(b.rect),Q=this.svgFactory.create(k,L),ne=b.borderStyle.width,U=this.svgFactory.createElement("svg:ellipse");return U.setAttribute("cx",k/2),U.setAttribute("cy",L/2),U.setAttribute("rx",k/2-ne/2),U.setAttribute("ry",L/2-ne/2),U.setAttribute("stroke-width",ne||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),Q.appendChild(U),this.container.append(Q),this._createPopup(U,b),this.container}}class j extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const b=this.data,{width:k,height:L}=ce(b.rect),Q=this.svgFactory.create(k,L);let ne=[];for(const be of b.vertices)ne.push(be.x-b.rect[0]+","+(b.rect[3]-be.y));ne=ne.join(" ");const U=this.svgFactory.createElement(this.svgElementName);return U.setAttribute("points",ne),U.setAttribute("stroke-width",b.borderStyle.width||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),Q.appendChild(U),this.container.append(Q),this._createPopup(U,b),this.container}}class S extends j{constructor(b){super(b),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class oe extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class W extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const b=this.data,{width:k,height:L}=ce(b.rect),Q=this.svgFactory.create(k,L);for(const ne of b.inkLists){let U=[];for(const He of ne)U.push(`${He.x-b.rect[0]},${b.rect[3]-He.y}`);U=U.join(" ");const be=this.svgFactory.createElement(this.svgElementName);be.setAttribute("points",U),be.setAttribute("stroke-width",b.borderStyle.width||1),be.setAttribute("stroke","transparent"),be.setAttribute("fill","transparent"),this._createPopup(be,b),Q.appendChild(be)}return this.container.append(Q),this.container}}class le extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class ge extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ye extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Re extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Ve extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Xe extends ee{constructor(b){super(b,{isRenderable:!0});const{filename:k,content:L}=this.data.file;this.filename=(0,te.getFilenameFromUrl)(k),this.content=L,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:k,content:L})}render(){this.container.className="fileAttachmentAnnotation";const b=document.createElement("div");return b.style.height=this.container.style.height,b.style.width=this.container.style.width,b.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(b,this.data),this.container.appendChild(b),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class it{static render(b){const k=[],L=[];for(const ne of b.annotations){if(!ne)continue;const{width:U,height:be}=ce(ne.rect);if(!(U<=0||be<=0)){if(ne.annotationType===s.AnnotationType.POPUP){L.push(ne);continue}k.push(ne)}}L.length&&k.push(...L);const Q=b.div;for(const ne of k){const U=he.create({data:ne,layer:Q,page:b.page,viewport:b.viewport,linkService:b.linkService,downloadManager:b.downloadManager,imageResourcesPath:b.imageResourcesPath||"",renderForms:!1!==b.renderForms,svgFactory:new te.DOMSVGFactory,annotationStorage:b.annotationStorage||new O.AnnotationStorage,enableScripting:b.enableScripting,hasJSActions:b.hasJSActions,fieldObjects:b.fieldObjects,mouseState:b.mouseState||{isDown:!1}});if(U.isRenderable){const be=U.render();if(ne.hidden&&(be.style.visibility="hidden"),Array.isArray(be))for(const He of be)Q.appendChild(He);else U instanceof E?Q.prepend(be):Q.appendChild(be)}}_classStaticPrivateMethodGet(this,it,ve).call(this,Q,b.annotationCanvasMap)}static update(b){const{page:k,viewport:L,annotations:Q,annotationCanvasMap:ne,div:U}=b,be=L.transform,He=`matrix(${be.join(",")})`;let ke,Ue;for(const Be of Q){const qe=U.querySelectorAll(`[data-annotation-id="${Be.id}"]`);if(qe)for(const Qe of qe)if(Be.hasOwnCanvas){const mt=s.Util.normalizeRect([Be.rect[0],k.view[3]-Be.rect[1]+k.view[1],Be.rect[2],k.view[3]-Be.rect[3]+k.view[1]]);if(!Ue){ke=Math.abs(be[0]||be[1]);const yt=be.slice();for(let ct=0;ct<4;ct++)yt[ct]=Math.sign(yt[ct]);Ue=`matrix(${yt.join(",")})`}const Tt=mt[0]*ke,lt=mt[1]*ke;Qe.style.left=`${Tt}px`,Qe.style.top=`${lt}px`,Qe.style.transformOrigin=`${-Tt}px ${-lt}px`,Qe.style.transform=Ue}else Qe.style.transform=He}_classStaticPrivateMethodGet(this,it,ve).call(this,U,ne),U.hidden=!1}}function ve(I,b){if(b){for(const[k,L]of b){const Q=I.querySelector(`[data-annotation-id="${k}"]`);if(!Q)continue;const{firstChild:ne}=Q;"CANVAS"===ne.nodeName?Q.replaceChild(L,ne):Q.insertBefore(L,ne)}b.clear()}}x.AnnotationLayer=it},(Ie,x)=>{function R(te){return Math.floor(255*Math.max(0,Math.min(1,te))).toString(16).padStart(2,"0")}Object.defineProperty(x,"__esModule",{value:!0}),x.ColorConverters=void 0,x.ColorConverters=class s{static CMYK_G([O,pe,ie,re]){return["G",1-Math.min(1,.3*O+.59*ie+.11*pe+re)]}static G_CMYK([O]){return["CMYK",0,0,0,1-O]}static G_RGB([O]){return["RGB",O,O,O]}static G_HTML([O]){const pe=R(O);return`#${pe}${pe}${pe}`}static RGB_G([O,pe,ie]){return["G",.3*O+.59*pe+.11*ie]}static RGB_HTML([O,pe,ie]){return`#${R(O)}${R(pe)}${R(ie)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([O,pe,ie,re]){return["RGB",1-Math.min(1,O+re),1-Math.min(1,ie+re),1-Math.min(1,pe+re)]}static CMYK_HTML(O){return this.RGB_HTML(this.CMYK_RGB(O))}static RGB_CMYK([O,pe,ie]){const re=1-O,B=1-pe,ce=1-ie;return["CMYK",re,B,ce,Math.min(re,B,ce)]}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XfaLayer=void 0;var s=R(18);x.XfaLayer=class te{static setupStorage(pe,ie,re,B,ce){const he=B.getValue(ie,{value:null});switch(re.name){case"textarea":if(null!==he.value&&(pe.textContent=he.value),"print"===ce)break;pe.addEventListener("input",ee=>{B.setValue(ie,{value:ee.target.value})});break;case"input":if("radio"===re.attributes.type||"checkbox"===re.attributes.type){if(he.value===re.attributes.xfaOn?pe.setAttribute("checked",!0):he.value===re.attributes.xfaOff&&pe.removeAttribute("checked"),"print"===ce)break;pe.addEventListener("change",ee=>{B.setValue(ie,{value:ee.target.getAttribute(ee.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==he.value&&pe.setAttribute("value",he.value),"print"===ce)break;pe.addEventListener("input",ee=>{B.setValue(ie,{value:ee.target.value})})}break;case"select":if(null!==he.value)for(const ee of re.children)ee.attributes.value===he.value&&(ee.attributes.selected=!0);pe.addEventListener("input",ee=>{const Y=ee.target.options;B.setValue(ie,{value:-1===Y.selectedIndex?"":Y[Y.selectedIndex].value})})}}static setAttributes({html:pe,element:ie,storage:re=null,intent:B,linkService:ce}){const{attributes:he}=ie,ee=pe instanceof HTMLAnchorElement;"radio"===he.type&&(he.name=`${he.name}-${B}`);for(const[Y,se]of Object.entries(he))if(null!=se&&"dataId"!==Y)if("style"!==Y)if("textContent"===Y)pe.textContent=se;else if("class"===Y)se.length&&pe.setAttribute(Y,se.join(" "));else{if(ee&&("href"===Y||"newWindow"===Y))continue;pe.setAttribute(Y,se)}else Object.assign(pe.style,se);ee&&ce.addLinkAttributes(pe,he.href,he.newWindow),re&&he.dataId&&this.setupStorage(pe,he.dataId,ie,re)}static render(pe){const ie=pe.annotationStorage,re=pe.linkService,B=pe.xfaHtml,ce=pe.intent||"display",he=document.createElement(B.name);B.attributes&&this.setAttributes({html:he,element:B,intent:ce,linkService:re});const ee=[[B,-1,he]],Y=pe.div;if(Y.appendChild(he),pe.viewport){const $=`matrix(${pe.viewport.transform.join(",")})`;Y.style.transform=$}"richText"!==ce&&Y.setAttribute("class","xfaLayer xfaFont");const se=[];for(;ee.length>0;){const[$,ae,q]=ee[ee.length-1];if(ae+1===$.children.length){ee.pop();continue}const fe=$.children[++ee[ee.length-1][1]];if(null===fe)continue;const{name:z}=fe;if("#text"===z){const E=document.createTextNode(fe.value);se.push(E),q.appendChild(E);continue}let Z;if(Z=fe?.attributes?.xmlns?document.createElementNS(fe.attributes.xmlns,z):document.createElement(z),q.appendChild(Z),fe.attributes&&this.setAttributes({html:Z,element:fe,storage:ie,intent:ce,linkService:re}),fe.children&&fe.children.length>0)ee.push([fe,-1,Z]);else if(fe.value){const E=document.createTextNode(fe.value);s.XfaText.shouldBuildText(z)&&se.push(E),Z.appendChild(E)}}for(const $ of Y.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))$.setAttribute("readOnly",!0);return{textDivs:se}}static update(pe){const ie=`matrix(${pe.viewport.transform.join(",")})`;pe.div.style.transform=ie,pe.div.hidden=!1}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.renderTextLayer=function q(fe){const z=new ae({textContent:fe.textContent,textContentStream:fe.textContentStream,container:fe.container,viewport:fe.viewport,textDivs:fe.textDivs,textContentItemsStr:fe.textContentItemsStr,enhanceTextSelection:fe.enhanceTextSelection});return z._render(fe.timeout),z};var s=R(1);const O=30,ie=new Map,re=/^\s+$/g;function ce(fe,z,Z,E){const A=document.createElement("span"),F=fe._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==z.str,hasEOL:z.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==z.str,hasEOL:z.hasEOL};fe._textDivs.push(A);const X=s.Util.transform(fe._viewport.transform,z.transform);let N=Math.atan2(X[1],X[0]);const J=Z[z.fontName];J.vertical&&(N+=Math.PI/2);const j=Math.hypot(X[2],X[3]),S=j*function B(fe,z){const Z=ie.get(fe);if(Z)return Z;z.save(),z.font=`30px ${fe}`;const E=z.measureText("");let A=E.fontBoundingBoxAscent,F=Math.abs(E.fontBoundingBoxDescent);if(A){z.restore();const N=A/(A+F);return ie.set(fe,N),N}z.strokeStyle="red",z.clearRect(0,0,O,O),z.strokeText("g",0,0);let X=z.getImageData(0,0,O,O).data;F=0;for(let N=X.length-1-3;N>=0;N-=4)if(X[N]>0){F=Math.ceil(N/4/O);break}z.clearRect(0,0,O,O),z.strokeText("A",0,O),X=z.getImageData(0,0,O,O).data,A=0;for(let N=0,J=X.length;N<J;N+=4)if(X[N]>0){A=O-Math.floor(N/4/O);break}if(z.restore(),A){const N=A/(A+F);return ie.set(fe,N),N}return ie.set(fe,.8),.8}(J.fontFamily,E);let oe,W;0===N?(oe=X[4],W=X[5]-S):(oe=X[4]+S*Math.sin(N),W=X[5]-S*Math.cos(N)),A.style.left=`${oe}px`,A.style.top=`${W}px`,A.style.fontSize=`${j}px`,A.style.fontFamily=J.fontFamily,A.setAttribute("role","presentation"),A.textContent=z.str,A.dir=z.dir,fe._fontInspectorEnabled&&(A.dataset.fontName=z.fontName),0!==N&&(F.angle=N*(180/Math.PI));let le=!1;if(z.str.length>1||fe._enhanceTextSelection&&re.test(z.str))le=!0;else if(" "!==z.str&&z.transform[0]!==z.transform[3]){const ge=Math.abs(z.transform[0]),ye=Math.abs(z.transform[3]);ge!==ye&&Math.max(ge,ye)/Math.min(ge,ye)>1.5&&(le=!0)}if(le&&(F.canvasWidth=J.vertical?z.height*fe._viewport.scale:z.width*fe._viewport.scale),fe._textDivProperties.set(A,F),fe._textContentStream&&fe._layoutText(A),fe._enhanceTextSelection&&F.hasText){let ge=1,ye=0;0!==N&&(ge=Math.cos(N),ye=Math.sin(N));const Re=(J.vertical?z.height:z.width)*fe._viewport.scale,Ve=j;let Xe,it;0!==N?(Xe=[ge,ye,-ye,ge,oe,W],it=s.Util.getAxialAlignedBoundingBox([0,0,Re,Ve],Xe)):it=[oe,W,oe+Re,W+Ve],fe._bounds.push({left:it[0],top:it[1],right:it[2],bottom:it[3],div:A,size:[Re,Ve],m:Xe})}}function he(fe){if(fe._canceled)return;const z=fe._textDivs,Z=fe._capability,E=z.length;if(E>1e5)return fe._renderingDone=!0,void Z.resolve();if(!fe._textContentStream)for(let A=0;A<E;A++)fe._layoutText(z[A]);fe._renderingDone=!0,Z.resolve()}function ee(fe,z,Z){let E=0;for(let A=0;A<Z;A++){const F=fe[z++];F>0&&(E=E?Math.min(F,E):F)}return E}function $(fe,z){z.sort(function(A,F){return A.x1-F.x1||A.index-F.index});const E=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const A of z){let F=0;for(;F<E.length&&E[F].end<=A.y1;)F++;let X=E.length-1;for(;X>=0&&E[X].start>=A.y2;)X--;let N,J,j,S,oe=-1/0;for(j=F;j<=X;j++){let ge;N=E[j],J=N.boundary,ge=J.x2>A.x1?J.index>A.index?J.x1New:A.x1:void 0===J.x2New?(J.x2+A.x1)/2:J.x2New,ge>oe&&(oe=ge)}for(A.x1New=oe,j=F;j<=X;j++)N=E[j],J=N.boundary,void 0===J.x2New?J.x2>A.x1?J.index>A.index&&(J.x2New=J.x2):J.x2New=oe:J.x2New>oe&&(J.x2New=Math.max(oe,J.x2));const W=[];let le=null;for(j=F;j<=X;j++){N=E[j],J=N.boundary;const ge=J.x2>A.x2?J:A;le===ge?W[W.length-1].end=N.end:(W.push({start:N.start,end:N.end,boundary:ge}),le=ge)}for(E[F].start<A.y1&&(W[0].start=A.y1,W.unshift({start:E[F].start,end:A.y1,boundary:E[F].boundary})),A.y2<E[X].end&&(W[W.length-1].end=A.y2,W.push({start:A.y2,end:E[X].end,boundary:E[X].boundary})),j=F;j<=X;j++){if(N=E[j],J=N.boundary,void 0!==J.x2New)continue;let ge=!1;for(S=F-1;!ge&&S>=0&&E[S].start>=J.y1;S--)ge=E[S].boundary===J;for(S=X+1;!ge&&S<E.length&&E[S].end<=J.y2;S++)ge=E[S].boundary===J;for(S=0;!ge&&S<W.length;S++)ge=W[S].boundary===J;ge||(J.x2New=oe)}Array.prototype.splice.apply(E,[F,X-F+1].concat(W))}for(const A of E){const F=A.boundary;void 0===F.x2New&&(F.x2New=Math.max(fe,F.x2))}}class ae{constructor({textContent:z,textContentStream:Z,container:E,viewport:A,textDivs:F,textContentItemsStr:X,enhanceTextSelection:N}){this._textContent=z,this._textContentStream=Z,this._container=E,this._document=E.ownerDocument,this._viewport=A,this._textDivs=F||[],this._textContentItemsStr=X||[],this._enhanceTextSelection=!!N,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,s.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new s.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(z,Z){for(let E=0,A=z.length;E<A;E++)if(void 0!==z[E].str)this._textContentItemsStr.push(z[E].str),ce(this,z[E],Z,this._layoutTextCtx);else if("beginMarkedContentProps"===z[E].type||"beginMarkedContent"===z[E].type){const F=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==z[E].id&&this._container.setAttribute("id",`${z[E].id}`),F.appendChild(this._container)}else"endMarkedContent"===z[E].type&&(this._container=this._container.parentNode)}_layoutText(z){const Z=this._textDivProperties.get(z);let E="";if(0!==Z.canvasWidth&&Z.hasText){const{fontSize:A,fontFamily:F}=z.style;(A!==this._layoutTextLastFontSize||F!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${A} ${F}`,this._layoutTextLastFontSize=A,this._layoutTextLastFontFamily=F);const{width:X}=this._layoutTextCtx.measureText(z.textContent);if(X>0){const N=Z.canvasWidth/X;this._enhanceTextSelection&&(Z.scale=N),E=`scaleX(${N})`}}if(0!==Z.angle&&(E=`rotate(${Z.angle}deg) ${E}`),E.length>0&&(this._enhanceTextSelection&&(Z.originalTransform=E),z.style.transform=E),Z.hasText&&this._container.appendChild(z),Z.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this._container.appendChild(A)}}_render(z=0){const Z=(0,s.createPromiseCapability)();let E=Object.create(null);const A=this._document.createElement("canvas");if(A.height=A.width=O,this._layoutTextCtx=A.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),Z.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const F=()=>{this._reader.read().then(({value:X,done:N})=>{N?Z.resolve():(Object.assign(E,X.styles),this._processItems(X.items,E),F())},Z.reject)};this._reader=this._textContentStream.getReader(),F()}}Z.promise.then(()=>{E=null,z?this._renderTimer=setTimeout(()=>{he(this),this._renderTimer=null},z):he(this)},this._capability.reject)}expandTextDivs(z=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function Y(fe){const z=fe._bounds,Z=fe._viewport,E=function se(fe,z,Z){const E=Z.map(function(F,X){return{x1:F.left,y1:F.top,x2:F.right,y2:F.bottom,index:X,x1New:void 0,x2New:void 0}});$(fe,E);const A=new Array(Z.length);for(const F of E)A[F.index]={left:F.x1New,top:0,right:F.x2New,bottom:0};Z.map(function(F,X){const N=A[X],J=E[X];J.x1=F.top,J.y1=fe-N.right,J.x2=F.bottom,J.y2=fe-N.left,J.index=X,J.x1New=void 0,J.x2New=void 0}),$(z,E);for(const F of E){const X=F.index;A[X].top=F.x1New,A[X].bottom=F.x2New}return A}(Z.width,Z.height,z);for(let A=0;A<E.length;A++){const F=z[A].div,X=fe._textDivProperties.get(F);if(0===X.angle){X.paddingLeft=z[A].left-E[A].left,X.paddingTop=z[A].top-E[A].top,X.paddingRight=E[A].right-z[A].right,X.paddingBottom=E[A].bottom-z[A].bottom,fe._textDivProperties.set(F,X);continue}const N=E[A],J=z[A],j=J.m,S=j[0],oe=j[1],W=[[0,0],[0,J.size[1]],[J.size[0],0],J.size],le=new Float64Array(64);for(let ye=0,Re=W.length;ye<Re;ye++){const Ve=s.Util.applyTransform(W[ye],j);le[ye+0]=S&&(N.left-Ve[0])/S,le[ye+4]=oe&&(N.top-Ve[1])/oe,le[ye+8]=S&&(N.right-Ve[0])/S,le[ye+12]=oe&&(N.bottom-Ve[1])/oe,le[ye+16]=oe&&(N.left-Ve[0])/-oe,le[ye+20]=S&&(N.top-Ve[1])/S,le[ye+24]=oe&&(N.right-Ve[0])/-oe,le[ye+28]=S&&(N.bottom-Ve[1])/S,le[ye+32]=S&&(N.left-Ve[0])/-S,le[ye+36]=oe&&(N.top-Ve[1])/-oe,le[ye+40]=S&&(N.right-Ve[0])/-S,le[ye+44]=oe&&(N.bottom-Ve[1])/-oe,le[ye+48]=oe&&(N.left-Ve[0])/oe,le[ye+52]=S&&(N.top-Ve[1])/-S,le[ye+56]=oe&&(N.right-Ve[0])/oe,le[ye+60]=S&&(N.bottom-Ve[1])/-S}const ge=1+Math.min(Math.abs(S),Math.abs(oe));X.paddingLeft=ee(le,32,16)/ge,X.paddingTop=ee(le,48,16)/ge,X.paddingRight=ee(le,0,16)/ge,X.paddingBottom=ee(le,16,16)/ge,fe._textDivProperties.set(F,X)}}(this),this._bounds=null);const Z=[],E=[];for(let A=0,F=this._textDivs.length;A<F;A++){const X=this._textDivs[A],N=this._textDivProperties.get(X);!N.hasText||(z?(Z.length=0,E.length=0,N.originalTransform&&Z.push(N.originalTransform),N.paddingTop>0?(E.push(`${N.paddingTop}px`),Z.push(`translateY(${-N.paddingTop}px)`)):E.push(0),E.push(N.paddingRight>0?N.paddingRight/N.scale+"px":0),E.push(N.paddingBottom>0?`${N.paddingBottom}px`:0),N.paddingLeft>0?(E.push(N.paddingLeft/N.scale+"px"),Z.push(`translateX(${-N.paddingLeft/N.scale}px)`)):E.push(0),X.style.padding=E.join(" "),Z.length&&(X.style.transform=Z.join(" "))):(X.style.padding=null,X.style.transform=N.originalTransform))}}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.SVGGraphics=void 0;var s=R(1),te=R(5),O=R(3);let pe=class{constructor(){(0,s.unreachable)("Not implemented: SVGGraphics")}};x.SVGGraphics=pe;{let $=function(E){let A=[];const F=[];for(const X of E)"save"!==X.fn?"restore"===X.fn?A=F.pop():A.push(X):(A.push({fnId:92,fn:"group",items:[]}),F.push(A),A=A[A.length-1].items);return A},ae=function(E){if(Number.isInteger(E))return E.toString();const A=E.toFixed(10);let F=A.length-1;if("0"!==A[F])return A;do{F--}while("0"===A[F]);return A.substring(0,"."===A[F]?F:F+1)},q=function(E){if(0===E[4]&&0===E[5]){if(0===E[1]&&0===E[2])return 1===E[0]&&1===E[3]?"":`scale(${ae(E[0])} ${ae(E[3])})`;if(E[0]===E[3]&&E[1]===-E[2]){const A=180*Math.acos(E[0])/Math.PI;return`rotate(${ae(A)})`}}else if(1===E[0]&&0===E[1]&&0===E[2]&&1===E[3])return`translate(${ae(E[4])} ${ae(E[5])})`;return`matrix(${ae(E[0])} ${ae(E[1])} ${ae(E[2])} ${ae(E[3])} ${ae(E[4])} ${ae(E[5])})`};const ie={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},re="http://www.w3.org/XML/1998/namespace",B="http://www.w3.org/1999/xlink",ce=["butt","round","square"],he=["miter","round","bevel"],ee=function(E,A="",F=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!F)return URL.createObjectURL(new Blob([E],{type:A}));const X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let N=`data:${A};base64,`;for(let J=0,j=E.length;J<j;J+=3){const S=255&E[J],oe=255&E[J+1],W=255&E[J+2];N+=X[S>>2]+X[(3&S)<<4|oe>>4]+X[J+1<j?(15&oe)<<2|W>>6:64]+X[J+2<j?63&W:64]}return N},Y=function(){const E=new Uint8Array([137,80,78,71,13,10,26,10]),F=new Int32Array(256);for(let W=0;W<256;W++){let le=W;for(let ge=0;ge<8;ge++)le=1&le?3988292384^le>>1&2147483647:le>>1&2147483647;F[W]=le}function N(W,le,ge,ye){let Re=ye;const Ve=le.length;ge[Re]=Ve>>24&255,ge[Re+1]=Ve>>16&255,ge[Re+2]=Ve>>8&255,ge[Re+3]=255&Ve,Re+=4,ge[Re]=255&W.charCodeAt(0),ge[Re+1]=255&W.charCodeAt(1),ge[Re+2]=255&W.charCodeAt(2),ge[Re+3]=255&W.charCodeAt(3),Re+=4,ge.set(le,Re),Re+=le.length;const Xe=function X(W,le,ge){let ye=-1;for(let Re=le;Re<ge;Re++)ye=ye>>>8^F[255&(ye^W[Re])];return-1^ye}(ge,ye+4,Re);ge[Re]=Xe>>24&255,ge[Re+1]=Xe>>16&255,ge[Re+2]=Xe>>8&255,ge[Re+3]=255&Xe}function S(W){let le=W.length;const ge=65535,ye=Math.ceil(le/ge),Re=new Uint8Array(2+le+5*ye+4);let Ve=0;Re[Ve++]=120,Re[Ve++]=156;let Xe=0;for(;le>ge;)Re[Ve++]=0,Re[Ve++]=255,Re[Ve++]=255,Re[Ve++]=0,Re[Ve++]=0,Re.set(W.subarray(Xe,Xe+ge),Ve),Ve+=ge,Xe+=ge,le-=ge;Re[Ve++]=1,Re[Ve++]=255&le,Re[Ve++]=le>>8&255,Re[Ve++]=255&~le,Re[Ve++]=(65535&~le)>>8&255,Re.set(W.subarray(Xe),Ve),Ve+=W.length-Xe;const it=function J(W,le,ge){let ye=1,Re=0;for(let Ve=le;Ve<ge;++Ve)ye=(ye+(255&W[Ve]))%65521,Re=(Re+ye)%65521;return Re<<16|ye}(W,0,W.length);return Re[Ve++]=it>>24&255,Re[Ve++]=it>>16&255,Re[Ve++]=it>>8&255,Re[Ve++]=255&it,Re}return function(le,ge,ye){return function oe(W,le,ge,ye){const Re=W.width,Ve=W.height;let Xe,it,ve;const I=W.data;switch(le){case s.ImageKind.GRAYSCALE_1BPP:it=0,Xe=1,ve=Re+7>>3;break;case s.ImageKind.RGB_24BPP:it=2,Xe=8,ve=3*Re;break;case s.ImageKind.RGBA_32BPP:it=6,Xe=8,ve=4*Re;break;default:throw new Error("invalid format")}const b=new Uint8Array((1+ve)*Ve);let k=0,L=0;for(let ke=0;ke<Ve;++ke)b[k++]=0,b.set(I.subarray(L,L+ve),k),L+=ve,k+=ve;if(le===s.ImageKind.GRAYSCALE_1BPP&&ye){k=0;for(let ke=0;ke<Ve;ke++){k++;for(let Ue=0;Ue<ve;Ue++)b[k++]^=255}}const Q=new Uint8Array([Re>>24&255,Re>>16&255,Re>>8&255,255&Re,Ve>>24&255,Ve>>16&255,Ve>>8&255,255&Ve,Xe,it,0,0,0]),ne=function j(W){if(!O.isNodeJS)return S(W);try{let le;le=parseInt(process.versions.node)>=8?W:Buffer.from(W);const ge=__webpack_require__(2258).deflateSync(le,{level:9});return ge instanceof Uint8Array?ge:new Uint8Array(ge)}catch(le){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+le)}return S(W)}(b),be=new Uint8Array(E.length+36+Q.length+ne.length);let He=0;return be.set(E,He),He+=E.length,N("IHDR",Q,be,He),He+=12+Q.length,N("IDATA",ne,be,He),He+=12+ne.length,N("IEND",new Uint8Array(0),be,He),ee(be,"image/png",ge)}(le,void 0===le.kind?s.ImageKind.GRAYSCALE_1BPP:le.kind,ge,ye)}}();class se{constructor(){this.fontSizeScale=1,this.fontWeight=ie.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ie.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(A,F){this.x=A,this.y=F}}let fe=0,z=0,Z=0;x.SVGGraphics=pe=class{constructor(E,A,F=!1){this.svgFactory=new te.DOMSVGFactory,this.current=new se,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=E,this.objs=A,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!F,this._operatorIdMapping=[];for(const X in s.OPS)this._operatorIdMapping[s.OPS[X]]=X}save(){this.transformStack.push(this.transformMatrix);const E=this.current;this.extraStack.push(E),this.current=E.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(E){this.save(),this.executeOpTree(E),this.restore()}loadDependencies(E){const A=E.fnArray,F=E.argsArray;for(let X=0,N=A.length;X<N;X++)if(A[X]===s.OPS.dependency)for(const J of F[X]){const j=J.startsWith("g_")?this.commonObjs:this.objs,S=new Promise(oe=>{j.get(J,oe)});this.current.dependencies.push(S)}return Promise.all(this.current.dependencies)}transform(E,A,F,X,N,J){this.transformMatrix=s.Util.transform(this.transformMatrix,[E,A,F,X,N,J]),this.tgrp=null}getSVG(E,A){this.viewport=A;const F=this._initialize(A);return this.loadDependencies(E).then(()=>(this.transformMatrix=s.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(E)),F))}convertOpList(E){const A=this._operatorIdMapping,F=E.argsArray,X=E.fnArray,N=[];for(let J=0,j=X.length;J<j;J++){const S=X[J];N.push({fnId:S,fn:A[S],args:F[J]})}return $(N)}executeOpTree(E){for(const A of E){const F=A.fn,N=A.args;switch(0|A.fnId){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(N);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(N[0],N[1]);break;case s.OPS.setFont:this.setFont(N);break;case s.OPS.showText:case s.OPS.showSpacedText:this.showText(N[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(N[0],N[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(N[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(N[0]);break;case s.OPS.setHScale:this.setHScale(N[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(N[0],N[1],N[2],N[3],N[4],N[5]);break;case s.OPS.setTextRise:this.setTextRise(N[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(N[0]);break;case s.OPS.setLineWidth:this.setLineWidth(N[0]);break;case s.OPS.setLineJoin:this.setLineJoin(N[0]);break;case s.OPS.setLineCap:this.setLineCap(N[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(N[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(N[0],N[1],N[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(N[0],N[1],N[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(N);break;case s.OPS.setFillColorN:this.setFillColorN(N);break;case s.OPS.shadingFill:this.shadingFill(N[0]);break;case s.OPS.setDash:this.setDash(N[0],N[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(N[0]);break;case s.OPS.setFlatness:this.setFlatness(N[0]);break;case s.OPS.setGState:this.setGState(N[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(N[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(N[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(N[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(N[0],N[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(N[0],N[1],N[2],N[3],N[4],N[5]);break;case s.OPS.constructPath:this.constructPath(N[0],N[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(A.items);break;default:(0,s.warn)(`Unimplemented operator ${F}`)}}}setWordSpacing(E){this.current.wordSpacing=E}setCharSpacing(E){this.current.charSpacing=E}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(E,A,F,X,N,J){const j=this.current;j.textMatrix=j.lineMatrix=[E,A,F,X,N,J],j.textMatrixScale=Math.hypot(E,A),j.x=j.lineX=0,j.y=j.lineY=0,j.xcoords=[],j.ycoords=[],j.tspan=this.svgFactory.createElement("svg:tspan"),j.tspan.setAttributeNS(null,"font-family",j.fontFamily),j.tspan.setAttributeNS(null,"font-size",`${ae(j.fontSize)}px`),j.tspan.setAttributeNS(null,"y",ae(-j.y)),j.txtElement=this.svgFactory.createElement("svg:text"),j.txtElement.appendChild(j.tspan)}beginText(){const E=this.current;E.x=E.lineX=0,E.y=E.lineY=0,E.textMatrix=s.IDENTITY_MATRIX,E.lineMatrix=s.IDENTITY_MATRIX,E.textMatrixScale=1,E.tspan=this.svgFactory.createElement("svg:tspan"),E.txtElement=this.svgFactory.createElement("svg:text"),E.txtgrp=this.svgFactory.createElement("svg:g"),E.xcoords=[],E.ycoords=[]}moveText(E,A){const F=this.current;F.x=F.lineX+=E,F.y=F.lineY+=A,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${ae(F.fontSize)}px`),F.tspan.setAttributeNS(null,"y",ae(-F.y))}showText(E){const A=this.current,F=A.font,X=A.fontSize;if(0===X)return;const N=A.fontSizeScale,J=A.charSpacing,j=A.wordSpacing,S=A.fontDirection,oe=A.textHScale*S,W=F.vertical,le=W?1:-1,ge=F.defaultVMetrics,ye=X*A.fontMatrix[0];let Re=0;for(const it of E){if(null===it){Re+=S*j;continue}if("number"==typeof it){Re+=le*it*X/1e3;continue}const ve=(it.isSpace?j:0)+J,I=it.fontChar;let b,k,Q,L=it.width;if(W){let ne;const U=it.vmetric||ge;ne=it.vmetric?U[1]:.5*L,ne=-ne*ye,L=U?-U[0]:L,b=ne/N,k=(Re+U[2]*ye)/N}else b=Re/N,k=0;(it.isInFont||F.missingFile)&&(A.xcoords.push(A.x+b),W&&A.ycoords.push(-A.y+k),A.tspan.textContent+=I),Q=W?L*ye-ve*S:L*ye+ve*S,Re+=Q}A.tspan.setAttributeNS(null,"x",A.xcoords.map(ae).join(" ")),A.tspan.setAttributeNS(null,"y",W?A.ycoords.map(ae).join(" "):ae(-A.y)),W?A.y-=Re:A.x+=Re*oe,A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${ae(A.fontSize)}px`),A.fontStyle!==ie.fontStyle&&A.tspan.setAttributeNS(null,"font-style",A.fontStyle),A.fontWeight!==ie.fontWeight&&A.tspan.setAttributeNS(null,"font-weight",A.fontWeight);const Ve=A.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;Ve===s.TextRenderingMode.FILL||Ve===s.TextRenderingMode.FILL_STROKE?(A.fillColor!==ie.fillColor&&A.tspan.setAttributeNS(null,"fill",A.fillColor),A.fillAlpha<1&&A.tspan.setAttributeNS(null,"fill-opacity",A.fillAlpha)):A.tspan.setAttributeNS(null,"fill",A.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(Ve===s.TextRenderingMode.STROKE||Ve===s.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(A.tspan,1/(A.textMatrixScale||1));let Xe=A.textMatrix;0!==A.textRise&&(Xe=Xe.slice(),Xe[5]+=A.textRise),A.txtElement.setAttributeNS(null,"transform",`${q(Xe)} scale(${ae(oe)}, -1)`),A.txtElement.setAttributeNS(re,"xml:space","preserve"),A.txtElement.appendChild(A.tspan),A.txtgrp.appendChild(A.txtElement),this._ensureTransformGroup().appendChild(A.txtElement)}setLeadingMoveText(E,A){this.setLeading(-A),this.moveText(E,A)}addFontStyle(E){if(!E.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const A=ee(E.data,E.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${E.loadedName}"; src: url(${A}); }\n`}setFont(E){const A=this.current,F=this.commonObjs.get(E[0]);let X=E[1];A.font=F,this.embedFonts&&!F.missingFile&&!this.embeddedFonts[F.loadedName]&&(this.addFontStyle(F),this.embeddedFonts[F.loadedName]=F),A.fontMatrix=F.fontMatrix||s.FONT_IDENTITY_MATRIX;let N="normal";F.black?N="900":F.bold&&(N="bold");const J=F.italic?"italic":"normal";X<0?(X=-X,A.fontDirection=-1):A.fontDirection=1,A.fontSize=X,A.fontFamily=F.loadedName,A.fontWeight=N,A.fontStyle=J,A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"y",ae(-A.y)),A.xcoords=[],A.ycoords=[]}endText(){const E=this.current;E.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&E.txtElement?.hasChildNodes()&&(E.element=E.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(E){E>0&&(this.current.lineWidth=E)}setLineCap(E){this.current.lineCap=ce[E]}setLineJoin(E){this.current.lineJoin=he[E]}setMiterLimit(E){this.current.miterLimit=E}setStrokeAlpha(E){this.current.strokeAlpha=E}setStrokeRGBColor(E,A,F){this.current.strokeColor=s.Util.makeHexColor(E,A,F)}setFillAlpha(E){this.current.fillAlpha=E}setFillRGBColor(E,A,F){this.current.fillColor=s.Util.makeHexColor(E,A,F),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(E){this.current.strokeColor=this._makeColorN_Pattern(E)}setFillColorN(E){this.current.fillColor=this._makeColorN_Pattern(E)}shadingFill(E){const A=this.viewport.width,F=this.viewport.height,X=s.Util.inverseTransform(this.transformMatrix),N=s.Util.applyTransform([0,0],X),J=s.Util.applyTransform([0,F],X),j=s.Util.applyTransform([A,0],X),S=s.Util.applyTransform([A,F],X),oe=Math.min(N[0],J[0],j[0],S[0]),W=Math.min(N[1],J[1],j[1],S[1]),le=Math.max(N[0],J[0],j[0],S[0]),ge=Math.max(N[1],J[1],j[1],S[1]),ye=this.svgFactory.createElement("svg:rect");ye.setAttributeNS(null,"x",oe),ye.setAttributeNS(null,"y",W),ye.setAttributeNS(null,"width",le-oe),ye.setAttributeNS(null,"height",ge-W),ye.setAttributeNS(null,"fill",this._makeShadingPattern(E)),this.current.fillAlpha<1&&ye.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(ye)}_makeColorN_Pattern(E){return"TilingPattern"===E[0]?this._makeTilingPattern(E):this._makeShadingPattern(E)}_makeTilingPattern(E){const A=E[1],F=E[2],X=E[3]||s.IDENTITY_MATRIX,[N,J,j,S]=E[4],oe=E[5],W=E[6],le=E[7],ge="shading"+Z++,[ye,Re,Ve,Xe]=s.Util.normalizeRect([...s.Util.applyTransform([N,J],X),...s.Util.applyTransform([j,S],X)]),[it,ve]=s.Util.singularValueDecompose2dScale(X),I=oe*it,b=W*ve,k=this.svgFactory.createElement("svg:pattern");k.setAttributeNS(null,"id",ge),k.setAttributeNS(null,"patternUnits","userSpaceOnUse"),k.setAttributeNS(null,"width",I),k.setAttributeNS(null,"height",b),k.setAttributeNS(null,"x",`${ye}`),k.setAttributeNS(null,"y",`${Re}`);const L=this.svg,Q=this.transformMatrix,ne=this.current.fillColor,U=this.current.strokeColor,be=this.svgFactory.create(Ve-ye,Xe-Re);if(this.svg=be,this.transformMatrix=X,2===le){const He=s.Util.makeHexColor(...A);this.current.fillColor=He,this.current.strokeColor=He}return this.executeOpTree(this.convertOpList(F)),this.svg=L,this.transformMatrix=Q,this.current.fillColor=ne,this.current.strokeColor=U,k.appendChild(be.childNodes[0]),this.defs.appendChild(k),`url(#${ge})`}_makeShadingPattern(E){switch("string"==typeof E&&(E=this.objs.get(E)),E[0]){case"RadialAxial":const A="shading"+Z++,F=E[3];let X;switch(E[1]){case"axial":const N=E[4],J=E[5];X=this.svgFactory.createElement("svg:linearGradient"),X.setAttributeNS(null,"id",A),X.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),X.setAttributeNS(null,"x1",N[0]),X.setAttributeNS(null,"y1",N[1]),X.setAttributeNS(null,"x2",J[0]),X.setAttributeNS(null,"y2",J[1]);break;case"radial":const j=E[4],S=E[5],oe=E[6],W=E[7];X=this.svgFactory.createElement("svg:radialGradient"),X.setAttributeNS(null,"id",A),X.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),X.setAttributeNS(null,"cx",S[0]),X.setAttributeNS(null,"cy",S[1]),X.setAttributeNS(null,"r",W),X.setAttributeNS(null,"fx",j[0]),X.setAttributeNS(null,"fy",j[1]),X.setAttributeNS(null,"fr",oe);break;default:throw new Error(`Unknown RadialAxial type: ${E[1]}`)}for(const N of F){const J=this.svgFactory.createElement("svg:stop");J.setAttributeNS(null,"offset",N[0]),J.setAttributeNS(null,"stop-color",N[1]),X.appendChild(J)}return this.defs.appendChild(X),`url(#${A})`;case"Mesh":return(0,s.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${E[0]}`)}}setDash(E,A){this.current.dashArray=E,this.current.dashPhase=A}constructPath(E,A){const F=this.current;let X=F.x,N=F.y,J=[],j=0;for(const S of E)switch(0|S){case s.OPS.rectangle:X=A[j++],N=A[j++];const le=X+A[j++],ge=N+A[j++];J.push("M",ae(X),ae(N),"L",ae(le),ae(N),"L",ae(le),ae(ge),"L",ae(X),ae(ge),"Z");break;case s.OPS.moveTo:X=A[j++],N=A[j++],J.push("M",ae(X),ae(N));break;case s.OPS.lineTo:X=A[j++],N=A[j++],J.push("L",ae(X),ae(N));break;case s.OPS.curveTo:X=A[j+4],N=A[j+5],J.push("C",ae(A[j]),ae(A[j+1]),ae(A[j+2]),ae(A[j+3]),ae(X),ae(N)),j+=6;break;case s.OPS.curveTo2:J.push("C",ae(X),ae(N),ae(A[j]),ae(A[j+1]),ae(A[j+2]),ae(A[j+3])),X=A[j+2],N=A[j+3],j+=4;break;case s.OPS.curveTo3:X=A[j+2],N=A[j+3],J.push("C",ae(A[j]),ae(A[j+1]),ae(X),ae(N),ae(X),ae(N)),j+=4;break;case s.OPS.closePath:J.push("Z")}J=J.join(" "),F.path&&E.length>0&&E[0]!==s.OPS.rectangle&&E[0]!==s.OPS.moveTo?J=F.path.getAttributeNS(null,"d")+J:(F.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(F.path)),F.path.setAttributeNS(null,"d",J),F.path.setAttributeNS(null,"fill","none"),F.element=F.path,F.setCurrentPoint(X,N)}endPath(){const E=this.current;if(E.path=null,!this.pendingClip)return;if(!E.element)return void(this.pendingClip=null);const A="clippath"+fe++,F=this.svgFactory.createElement("svg:clipPath");F.setAttributeNS(null,"id",A),F.setAttributeNS(null,"transform",q(this.transformMatrix));const X=E.element.cloneNode(!0);if(X.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,F.appendChild(X),this.defs.appendChild(F),E.activeClipUrl){E.clipGroup=null;for(const N of this.extraStack)N.clipGroup=null;F.setAttributeNS(null,"clip-path",E.activeClipUrl)}E.activeClipUrl=`url(#${A})`,this.tgrp=null}clip(E){this.pendingClip=E}closePath(){const E=this.current;if(E.path){const A=`${E.path.getAttributeNS(null,"d")}Z`;E.path.setAttributeNS(null,"d",A)}}setLeading(E){this.current.leading=-E}setTextRise(E){this.current.textRise=E}setTextRenderingMode(E){this.current.textRenderingMode=E}setHScale(E){this.current.textHScale=E/100}setRenderingIntent(E){}setFlatness(E){}setGState(E){for(const[A,F]of E)switch(A){case"LW":this.setLineWidth(F);break;case"LC":this.setLineCap(F);break;case"LJ":this.setLineJoin(F);break;case"ML":this.setMiterLimit(F);break;case"D":this.setDash(F[0],F[1]);break;case"RI":this.setRenderingIntent(F);break;case"FL":this.setFlatness(F);break;case"Font":this.setFont(F);break;case"CA":this.setStrokeAlpha(F);break;case"ca":this.setFillAlpha(F);break;default:(0,s.warn)(`Unimplemented graphic state operator ${A}`)}}fill(){const E=this.current;E.element&&(E.element.setAttributeNS(null,"fill",E.fillColor),E.element.setAttributeNS(null,"fill-opacity",E.fillAlpha),this.endPath())}stroke(){const E=this.current;E.element&&(this._setStrokeAttributes(E.element),E.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(E,A=1){const F=this.current;let X=F.dashArray;1!==A&&X.length>0&&(X=X.map(function(N){return A*N})),E.setAttributeNS(null,"stroke",F.strokeColor),E.setAttributeNS(null,"stroke-opacity",F.strokeAlpha),E.setAttributeNS(null,"stroke-miterlimit",ae(F.miterLimit)),E.setAttributeNS(null,"stroke-linecap",F.lineCap),E.setAttributeNS(null,"stroke-linejoin",F.lineJoin),E.setAttributeNS(null,"stroke-width",ae(A*F.lineWidth)+"px"),E.setAttributeNS(null,"stroke-dasharray",X.map(ae).join(" ")),E.setAttributeNS(null,"stroke-dashoffset",ae(A*F.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x","0"),E.setAttributeNS(null,"y","0"),E.setAttributeNS(null,"width","1px"),E.setAttributeNS(null,"height","1px"),E.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(E)}paintImageXObject(E){const A=E.startsWith("g_")?this.commonObjs.get(E):this.objs.get(E);A?this.paintInlineImageXObject(A):(0,s.warn)(`Dependent image with object ID ${E} is not ready yet`)}paintInlineImageXObject(E,A){const F=E.width,X=E.height,N=Y(E,this.forceDataSchema,!!A),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y","0"),J.setAttributeNS(null,"width",ae(F)),J.setAttributeNS(null,"height",ae(X)),this.current.element=J,this.clip("nonzero");const j=this.svgFactory.createElement("svg:image");j.setAttributeNS(B,"xlink:href",N),j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y",ae(-X)),j.setAttributeNS(null,"width",ae(F)+"px"),j.setAttributeNS(null,"height",ae(X)+"px"),j.setAttributeNS(null,"transform",`scale(${ae(1/F)} ${ae(-1/X)})`),A?A.appendChild(j):this._ensureTransformGroup().appendChild(j)}paintImageMaskXObject(E){const A=this.current,F=E.width,X=E.height,N=A.fillColor;A.maskId="mask"+z++;const J=this.svgFactory.createElement("svg:mask");J.setAttributeNS(null,"id",A.maskId);const j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y","0"),j.setAttributeNS(null,"width",ae(F)),j.setAttributeNS(null,"height",ae(X)),j.setAttributeNS(null,"fill",N),j.setAttributeNS(null,"mask",`url(#${A.maskId})`),this.defs.appendChild(J),this._ensureTransformGroup().appendChild(j),this.paintInlineImageXObject(E,J)}paintFormXObjectBegin(E,A){if(Array.isArray(E)&&6===E.length&&this.transform(E[0],E[1],E[2],E[3],E[4],E[5]),A){const F=A[2]-A[0],X=A[3]-A[1],N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x",A[0]),N.setAttributeNS(null,"y",A[1]),N.setAttributeNS(null,"width",ae(F)),N.setAttributeNS(null,"height",ae(X)),this.current.element=N,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(E){const A=this.svgFactory.create(E.width,E.height),F=this.svgFactory.createElement("svg:defs");A.appendChild(F),this.defs=F;const X=this.svgFactory.createElement("svg:g");return X.setAttributeNS(null,"transform",q(E.transform)),A.appendChild(X),this.svg=X,A}_ensureClipGroup(){if(!this.current.clipGroup){const E=this.svgFactory.createElement("svg:g");E.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(E),this.current.clipGroup=E}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",q(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFNodeStream=void 0;var s=R(1),te=R(26);const O=__webpack_require__(172),pe=__webpack_require__(2001),ie=__webpack_require__(3779),re=__webpack_require__(6558),B=/^file:\/\/\/[a-zA-Z]:\//;x.PDFNodeStream=class he{constructor(Z){this.source=Z,this.url=function ce(z){const Z=re.parse(z);return"file:"===Z.protocol||Z.host?Z:/^[a-z]:[/\\]/i.test(z)?re.parse(`file:///${z}`):(Z.host||(Z.protocol="file:"),Z)}(Z.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&Z.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new q(this):new $(this),this._fullRequestReader}getRangeReader(Z,E){if(E<=this._progressiveDataLength)return null;const A=this.isFsUrl?new fe(this,Z,E):new ae(this,Z,E);return this._rangeRequestReaders.push(A),A}cancelAllRequests(Z){this._fullRequestReader&&this._fullRequestReader.cancel(Z);for(const E of this._rangeRequestReaders.slice(0))E.cancel(Z)}};class ee{constructor(Z){this._url=Z.url,this._done=!1,this._storedError=null,this.onProgress=null;const E=Z.source;this._contentLength=E.length,this._loaded=0,this._filename=null,this._disableRange=E.disableRange||!1,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!E.disableStream,this._isRangeSupported=!E.disableRange,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._headersCapability=(0,s.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var Z=this;return _asyncToGenerator(function*(){if(yield Z._readCapability.promise,Z._done)return{value:void 0,done:!0};if(Z._storedError)throw Z._storedError;const E=Z._readableStream.read();return null===E?(Z._readCapability=(0,s.createPromiseCapability)(),Z.read()):(Z._loaded+=E.length,Z.onProgress&&Z.onProgress({loaded:Z._loaded,total:Z._contentLength}),{value:new Uint8Array(E).buffer,done:!1})})()}cancel(Z){this._readableStream?this._readableStream.destroy(Z):this._error(Z)}_error(Z){this._storedError=Z,this._readCapability.resolve()}_setReadableStream(Z){this._readableStream=Z,Z.on("readable",()=>{this._readCapability.resolve()}),Z.on("end",()=>{Z.destroy(),this._done=!0,this._readCapability.resolve()}),Z.on("error",E=>{this._error(E)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Y{constructor(Z){this._url=Z.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!Z.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var Z=this;return _asyncToGenerator(function*(){if(yield Z._readCapability.promise,Z._done)return{value:void 0,done:!0};if(Z._storedError)throw Z._storedError;const E=Z._readableStream.read();return null===E?(Z._readCapability=(0,s.createPromiseCapability)(),Z.read()):(Z._loaded+=E.length,Z.onProgress&&Z.onProgress({loaded:Z._loaded}),{value:new Uint8Array(E).buffer,done:!1})})()}cancel(Z){this._readableStream?this._readableStream.destroy(Z):this._error(Z)}_error(Z){this._storedError=Z,this._readCapability.resolve()}_setReadableStream(Z){this._readableStream=Z,Z.on("readable",()=>{this._readCapability.resolve()}),Z.on("end",()=>{Z.destroy(),this._done=!0,this._readCapability.resolve()}),Z.on("error",E=>{this._error(E)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function se(z,Z){return{protocol:z.protocol,auth:z.auth,host:z.hostname,port:z.port,path:z.path,method:"GET",headers:Z}}class $ extends ee{constructor(Z){super(Z);const E=A=>{if(404===A.statusCode){const J=new s.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=J,void this._headersCapability.reject(J)}this._headersCapability.resolve(),this._setReadableStream(A);const F=J=>this._readableStream.headers[J.toLowerCase()],{allowRangeRequests:X,suggestedLength:N}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:F,isHttp:Z.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=X,this._contentLength=N||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)(F)};this._request=null,this._request="http:"===this._url.protocol?pe.request(se(this._url,Z.httpHeaders),E):ie.request(se(this._url,Z.httpHeaders),E),this._request.on("error",A=>{this._storedError=A,this._headersCapability.reject(A)}),this._request.end()}}class ae extends Y{constructor(Z,E,A){super(Z),this._httpHeaders={};for(const X in Z.httpHeaders){const N=Z.httpHeaders[X];typeof N>"u"||(this._httpHeaders[X]=N)}this._httpHeaders.Range=`bytes=${E}-${A-1}`;const F=X=>{if(404!==X.statusCode)this._setReadableStream(X);else{const N=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=N}};this._request=null,this._request="http:"===this._url.protocol?pe.request(se(this._url,this._httpHeaders),F):ie.request(se(this._url,this._httpHeaders),F),this._request.on("error",X=>{this._storedError=X}),this._request.end()}}class q extends ee{constructor(Z){super(Z);let E=decodeURIComponent(this._url.path);B.test(this._url.href)&&(E=E.replace(/^\//,"")),O.lstat(E,(A,F)=>{if(A)return"ENOENT"===A.code&&(A=new s.MissingPDFException(`Missing PDF "${E}".`)),this._storedError=A,void this._headersCapability.reject(A);this._contentLength=F.size,this._setReadableStream(O.createReadStream(E)),this._headersCapability.resolve()})}}class fe extends Y{constructor(Z,E,A){super(Z);let F=decodeURIComponent(this._url.path);B.test(this._url.href)&&(F=F.replace(/^\//,"")),this._setReadableStream(O.createReadStream(F,{start:E,end:A-1}))}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.createResponseStatusError=function re(ce,he){return 404===ce||0===ce&&he.startsWith("file:")?new s.MissingPDFException('Missing PDF "'+he+'".'):new s.UnexpectedResponseException(`Unexpected server response (${ce}) while retrieving PDF "${he}".`,ce)},x.extractFilenameFromHeader=function ie(ce){const he=ce("Content-Disposition");if(he){let ee=(0,te.getFilenameFromContentDispositionHeader)(he);if(ee.includes("%"))try{ee=decodeURIComponent(ee)}catch{}if((0,O.isPdfFile)(ee))return ee}return null},x.validateRangeRequestCapabilities=function pe({getResponseHeader:ce,isHttp:he,rangeChunkSize:ee,disableRange:Y}){const se={allowRangeRequests:!1,suggestedLength:void 0},$=parseInt(ce("Content-Length"),10);return!Number.isInteger($)||(se.suggestedLength=$,$<=2*ee)||Y||!he||"bytes"!==ce("Accept-Ranges")||"identity"!==(ce("Content-Encoding")||"identity")||(se.allowRangeRequests=!0),se},x.validateResponseStatus=function B(ce){return 200===ce||206===ce};var s=R(1),te=R(27),O=R(5)},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.getFilenameFromContentDispositionHeader=function te(O){let pe=!0,ie=re("filename\\*","i").exec(O);if(ie){ie=ie[1];let $=ee(ie);return $=unescape($),$=Y($),$=se($),ce($)}if(ie=function he($){const ae=[];let q;const fe=re("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(q=fe.exec($));){let[,Z,E,A]=q;if(Z=parseInt(Z,10),Z in ae){if(0===Z)break}else ae[Z]=[E,A]}const z=[];for(let Z=0;Z<ae.length&&Z in ae;++Z){let[E,A]=ae[Z];A=ee(A),E&&(A=unescape(A),0===Z&&(A=Y(A))),z.push(A)}return z.join("")}(O),ie)return ce(se(ie));if(ie=re("filename","i").exec(O),ie){ie=ie[1];let $=ee(ie);return $=se($),ce($)}function re($,ae){return new RegExp("(?:^|;)\\s*"+$+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',ae)}function B($,ae){if($){if(!/^[\x00-\xFF]+$/.test(ae))return ae;try{const q=new TextDecoder($,{fatal:!0}),fe=(0,s.stringToBytes)(ae);ae=q.decode(fe),pe=!1}catch{}}return ae}function ce($){return pe&&/[\x80-\xff]/.test($)&&($=B("utf-8",$),pe&&($=B("iso-8859-1",$))),$}function ee($){if($.startsWith('"')){const ae=$.slice(1).split('\\"');for(let q=0;q<ae.length;++q){const fe=ae[q].indexOf('"');-1!==fe&&(ae[q]=ae[q].slice(0,fe),ae.length=q+1),ae[q]=ae[q].replace(/\\(.)/g,"$1")}$=ae.join('"')}return $}function Y($){const ae=$.indexOf("'");return-1===ae?$:B($.slice(0,ae),$.slice(ae+1).replace(/^[^']*'/,""))}function se($){return!$.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test($)?$:$.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(ae,q,fe,z){if("q"===fe||"Q"===fe)return B(q,z=(z=z.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(Z,E){return String.fromCharCode(parseInt(E,16))}));try{z=atob(z)}catch{}return B(q,z)})}return""};var s=R(1)},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFNetworkStream=void 0;var s=R(1),te=R(26);class re{constructor(Y,se={}){this.url=Y,this.isHttp=/^https?:/i.test(Y),this.httpHeaders=this.isHttp&&se.httpHeaders||Object.create(null),this.withCredentials=se.withCredentials||!1,this.getXhr=se.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Y,se,$){const ae={begin:Y,end:se};for(const q in $)ae[q]=$[q];return this.request(ae)}requestFull(Y){return this.request(Y)}request(Y){const se=this.getXhr(),$=this.currXhrId++,ae=this.pendingRequests[$]={xhr:se};se.open("GET",this.url),se.withCredentials=this.withCredentials;for(const q in this.httpHeaders){const fe=this.httpHeaders[q];typeof fe>"u"||se.setRequestHeader(q,fe)}return this.isHttp&&"begin"in Y&&"end"in Y?(se.setRequestHeader("Range",`bytes=${Y.begin}-${Y.end-1}`),ae.expectedStatus=206):ae.expectedStatus=200,se.responseType="arraybuffer",Y.onError&&(se.onerror=function(q){Y.onError(se.status)}),se.onreadystatechange=this.onStateChange.bind(this,$),se.onprogress=this.onProgress.bind(this,$),ae.onHeadersReceived=Y.onHeadersReceived,ae.onDone=Y.onDone,ae.onError=Y.onError,ae.onProgress=Y.onProgress,se.send(null),$}onProgress(Y,se){const $=this.pendingRequests[Y];!$||$.onProgress?.(se)}onStateChange(Y,se){const $=this.pendingRequests[Y];if(!$)return;const ae=$.xhr;if(ae.readyState>=2&&$.onHeadersReceived&&($.onHeadersReceived(),delete $.onHeadersReceived),4!==ae.readyState||!(Y in this.pendingRequests))return;if(delete this.pendingRequests[Y],0===ae.status&&this.isHttp)return void $.onError?.(ae.status);const q=ae.status||200;if((200!==q||206!==$.expectedStatus)&&q!==$.expectedStatus)return void $.onError?.(ae.status);const z=function ie(ee){const Y=ee.response;return"string"!=typeof Y?Y:(0,s.stringToBytes)(Y).buffer}(ae);if(206===q){const Z=ae.getResponseHeader("Content-Range"),E=/bytes (\d+)-(\d+)\/(\d+)/.exec(Z);$.onDone({begin:parseInt(E[1],10),chunk:z})}else z?$.onDone({begin:0,chunk:z}):$.onError?.(ae.status)}getRequestXhr(Y){return this.pendingRequests[Y].xhr}isPendingRequest(Y){return Y in this.pendingRequests}abortRequest(Y){const se=this.pendingRequests[Y].xhr;delete this.pendingRequests[Y],se.abort()}}x.PDFNetworkStream=class B{constructor(Y){this._source=Y,this._manager=new re(Y.url,{httpHeaders:Y.httpHeaders,withCredentials:Y.withCredentials}),this._rangeChunkSize=Y.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Y){const se=this._rangeRequestReaders.indexOf(Y);se>=0&&this._rangeRequestReaders.splice(se,1)}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ce(this._manager,this._source),this._fullRequestReader}getRangeReader(Y,se){const $=new he(this._manager,Y,se);return $.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push($),$}cancelAllRequests(Y){this._fullRequestReader?.cancel(Y);for(const se of this._rangeRequestReaders.slice(0))se.cancel(Y)}};class ce{constructor(Y,se){this._manager=Y;const $={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=se.url,this._fullRequestId=Y.requestFull($),this._headersReceivedCapability=(0,s.createPromiseCapability)(),this._disableRange=se.disableRange||!1,this._contentLength=se.length,this._rangeChunkSize=se.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Y=this._fullRequestId,se=this._manager.getRequestXhr(Y),$=fe=>se.getResponseHeader(fe),{allowRangeRequests:ae,suggestedLength:q}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:$,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});ae&&(this._isRangeSupported=!0),this._contentLength=q||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)($),this._isRangeSupported&&this._manager.abortRequest(Y),this._headersReceivedCapability.resolve()}_onDone(Y){if(Y&&(this._requests.length>0?this._requests.shift().resolve({value:Y.chunk,done:!1}):this._cachedChunks.push(Y.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Y){this._storedError=(0,te.createResponseStatusError)(Y,this._url),this._headersReceivedCapability.reject(this._storedError);for(const se of this._requests)se.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Y){this.onProgress?.({loaded:Y.loaded,total:Y.lengthComputable?Y.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var Y=this;return _asyncToGenerator(function*(){if(Y._storedError)throw Y._storedError;if(Y._cachedChunks.length>0)return{value:Y._cachedChunks.shift(),done:!1};if(Y._done)return{value:void 0,done:!0};const se=(0,s.createPromiseCapability)();return Y._requests.push(se),se.promise})()}cancel(Y){this._done=!0,this._headersReceivedCapability.reject(Y);for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class he{constructor(Y,se,$){this._manager=Y;const ae={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Y.url,this._requestId=Y.requestRange(se,$,ae),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(Y){const se=Y.chunk;this._requests.length>0?this._requests.shift().resolve({value:se,done:!1}):this._queuedChunk=se,this._done=!0;for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Y){this._storedError=(0,te.createResponseStatusError)(Y,this._url);for(const se of this._requests)se.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Y){this.isStreamingSupported||this.onProgress?.({loaded:Y.loaded})}get isStreamingSupported(){return!1}read(){var Y=this;return _asyncToGenerator(function*(){if(Y._storedError)throw Y._storedError;if(null!==Y._queuedChunk){const $=Y._queuedChunk;return Y._queuedChunk=null,{value:$,done:!1}}if(Y._done)return{value:void 0,done:!0};const se=(0,s.createPromiseCapability)();return Y._requests.push(se),se.promise})()}cancel(Y){this._done=!0;for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFFetchStream=void 0;var s=R(1),te=R(26);function O(ce,he,ee){return{method:"GET",headers:ce,signal:ee?.signal,mode:"cors",credentials:he?"include":"same-origin",redirect:"follow"}}function pe(ce){const he=new Headers;for(const ee in ce){const Y=ce[ee];typeof Y>"u"||he.append(ee,Y)}return he}x.PDFFetchStream=class ie{constructor(he){this.source=he,this.isHttp=/^https?:/i.test(he.url),this.httpHeaders=this.isHttp&&he.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new re(this),this._fullRequestReader}getRangeReader(he,ee){if(ee<=this._progressiveDataLength)return null;const Y=new B(this,he,ee);return this._rangeRequestReaders.push(Y),Y}cancelAllRequests(he){this._fullRequestReader&&this._fullRequestReader.cancel(he);for(const ee of this._rangeRequestReaders.slice(0))ee.cancel(he)}};class re{constructor(he){this._stream=he,this._reader=null,this._loaded=0,this._filename=null;const ee=he.source;this._withCredentials=ee.withCredentials||!1,this._contentLength=ee.length,this._headersCapability=(0,s.createPromiseCapability)(),this._disableRange=ee.disableRange||!1,this._rangeChunkSize=ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!ee.disableStream,this._isRangeSupported=!ee.disableRange,this._headers=pe(this._stream.httpHeaders);const Y=ee.url;fetch(Y,O(this._headers,this._withCredentials,this._abortController)).then(se=>{if(!(0,te.validateResponseStatus)(se.status))throw(0,te.createResponseStatusError)(se.status,Y);this._reader=se.body.getReader(),this._headersCapability.resolve();const $=fe=>se.headers.get(fe),{allowRangeRequests:ae,suggestedLength:q}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:$,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ae,this._contentLength=q||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)($),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new s.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var he=this;return _asyncToGenerator(function*(){yield he._headersCapability.promise;const{value:ee,done:Y}=yield he._reader.read();return Y?{value:ee,done:Y}:(he._loaded+=ee.byteLength,he.onProgress&&he.onProgress({loaded:he._loaded,total:he._contentLength}),{value:new Uint8Array(ee).buffer,done:!1})})()}cancel(he){this._reader&&this._reader.cancel(he),this._abortController&&this._abortController.abort()}}class B{constructor(he,ee,Y){this._stream=he,this._reader=null,this._loaded=0;const se=he.source;this._withCredentials=se.withCredentials||!1,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!se.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=pe(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ee}-${Y-1}`);const $=se.url;fetch($,O(this._headers,this._withCredentials,this._abortController)).then(ae=>{if(!(0,te.validateResponseStatus)(ae.status))throw(0,te.createResponseStatusError)(ae.status,$);this._readCapability.resolve(),this._reader=ae.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var he=this;return _asyncToGenerator(function*(){yield he._readCapability.promise;const{value:ee,done:Y}=yield he._reader.read();return Y?{value:ee,done:Y}:(he._loaded+=ee.byteLength,he.onProgress&&he.onProgress({loaded:he._loaded}),{value:new Uint8Array(ee).buffer,done:!1})})()}cancel(he){this._reader&&this._reader.cancel(he),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(Ie){var x=__webpack_module_cache__[Ie];if(void 0!==x)return x.exports;var R=__webpack_module_cache__[Ie]={exports:{}};return __webpack_modules__[Ie](R,R.exports,__w_pdfjs_require__),R.exports}var __webpack_exports__={};return(()=>{var Ie=__webpack_exports__;Object.defineProperty(Ie,"__esModule",{value:!0}),Object.defineProperty(Ie,"AnnotationLayer",{enumerable:!0,get:function(){return te.AnnotationLayer}}),Object.defineProperty(Ie,"AnnotationMode",{enumerable:!0,get:function(){return x.AnnotationMode}}),Object.defineProperty(Ie,"CMapCompressionType",{enumerable:!0,get:function(){return x.CMapCompressionType}}),Object.defineProperty(Ie,"GlobalWorkerOptions",{enumerable:!0,get:function(){return O.GlobalWorkerOptions}}),Object.defineProperty(Ie,"InvalidPDFException",{enumerable:!0,get:function(){return x.InvalidPDFException}}),Object.defineProperty(Ie,"LoopbackPort",{enumerable:!0,get:function(){return R.LoopbackPort}}),Object.defineProperty(Ie,"MissingPDFException",{enumerable:!0,get:function(){return x.MissingPDFException}}),Object.defineProperty(Ie,"OPS",{enumerable:!0,get:function(){return x.OPS}}),Object.defineProperty(Ie,"PDFDataRangeTransport",{enumerable:!0,get:function(){return R.PDFDataRangeTransport}}),Object.defineProperty(Ie,"PDFDateString",{enumerable:!0,get:function(){return s.PDFDateString}}),Object.defineProperty(Ie,"PDFWorker",{enumerable:!0,get:function(){return R.PDFWorker}}),Object.defineProperty(Ie,"PasswordResponses",{enumerable:!0,get:function(){return x.PasswordResponses}}),Object.defineProperty(Ie,"PermissionFlag",{enumerable:!0,get:function(){return x.PermissionFlag}}),Object.defineProperty(Ie,"PixelsPerInch",{enumerable:!0,get:function(){return s.PixelsPerInch}}),Object.defineProperty(Ie,"RenderingCancelledException",{enumerable:!0,get:function(){return s.RenderingCancelledException}}),Object.defineProperty(Ie,"SVGGraphics",{enumerable:!0,get:function(){return re.SVGGraphics}}),Object.defineProperty(Ie,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return x.UNSUPPORTED_FEATURES}}),Object.defineProperty(Ie,"UnexpectedResponseException",{enumerable:!0,get:function(){return x.UnexpectedResponseException}}),Object.defineProperty(Ie,"Util",{enumerable:!0,get:function(){return x.Util}}),Object.defineProperty(Ie,"VerbosityLevel",{enumerable:!0,get:function(){return x.VerbosityLevel}}),Object.defineProperty(Ie,"XfaLayer",{enumerable:!0,get:function(){return B.XfaLayer}}),Object.defineProperty(Ie,"build",{enumerable:!0,get:function(){return R.build}}),Object.defineProperty(Ie,"createPromiseCapability",{enumerable:!0,get:function(){return x.createPromiseCapability}}),Object.defineProperty(Ie,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return x.createValidAbsoluteUrl}}),Object.defineProperty(Ie,"getDocument",{enumerable:!0,get:function(){return R.getDocument}}),Object.defineProperty(Ie,"getFilenameFromUrl",{enumerable:!0,get:function(){return s.getFilenameFromUrl}}),Object.defineProperty(Ie,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return s.getPdfFilenameFromUrl}}),Object.defineProperty(Ie,"getXfaPageViewport",{enumerable:!0,get:function(){return s.getXfaPageViewport}}),Object.defineProperty(Ie,"isPdfFile",{enumerable:!0,get:function(){return s.isPdfFile}}),Object.defineProperty(Ie,"loadScript",{enumerable:!0,get:function(){return s.loadScript}}),Object.defineProperty(Ie,"renderTextLayer",{enumerable:!0,get:function(){return ie.renderTextLayer}}),Object.defineProperty(Ie,"shadow",{enumerable:!0,get:function(){return x.shadow}}),Object.defineProperty(Ie,"version",{enumerable:!0,get:function(){return R.version}});var x=__w_pdfjs_require__(1),R=__w_pdfjs_require__(4),s=__w_pdfjs_require__(5),te=__w_pdfjs_require__(20),O=__w_pdfjs_require__(13),pe=__w_pdfjs_require__(3),ie=__w_pdfjs_require__(23),re=__w_pdfjs_require__(24),B=__w_pdfjs_require__(22);if(pe.isNodeJS){const{PDFNodeStream:ee}=__w_pdfjs_require__(25);(0,R.setPDFNetworkStreamFactory)(Y=>new ee(Y))}else{const{PDFNetworkStream:ee}=__w_pdfjs_require__(28),{PDFFetchStream:Y}=__w_pdfjs_require__(29);(0,R.setPDFNetworkStreamFactory)(se=>(0,s.isValidFetchUrl)(se.url)?new Y(se):new ee(se))}})(),__webpack_exports__})(),module.exports=R()},2813:function(Ie,x,R){var ee,s=R(5661).default,te=R(1860).default,O=R(9159).default,pe=R(5764).default,ie=R(4467).default,re=R(468).default,B=R(7156).default;ee=()=>(()=>{"use strict";var ce=[,(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.DefaultXfaLayerFactory=$.DefaultTextLayerFactory=$.DefaultStructTreeLayerFactory=$.DefaultAnnotationLayerFactory=void 0;var q=ae(2),fe=ae(4),z=ae(5),Z=ae(7),E=ae(8),A=ae(9);$.DefaultAnnotationLayerFactory=class F{createAnnotationLayerBuilder(S,oe,W=null,le="",ge=!0,ye=fe.NullL10n,Re=!1,Ve=null,Xe=null,it=null,ve=null){return new q.AnnotationLayerBuilder({pageDiv:S,pdfPage:oe,imageResourcesPath:le,renderForms:ge,linkService:new z.SimpleLinkService,l10n:ye,annotationStorage:W,enableScripting:Re,hasJSActionsPromise:Ve,fieldObjectsPromise:it,mouseState:Xe,annotationCanvasMap:ve})}},$.DefaultStructTreeLayerFactory=class X{createStructTreeLayerBuilder(S){return new Z.StructTreeLayerBuilder({pdfPage:S})}},$.DefaultTextLayerFactory=class N{createTextLayerBuilder(S,oe,W,le=!1,ge,ye){return new E.TextLayerBuilder({textLayerDiv:S,pageIndex:oe,viewport:W,enhanceTextSelection:le,eventBus:ge,highlighter:ye})}},$.DefaultXfaLayerFactory=class J{createXfaLayerBuilder(S,oe,W=null,le=null){return new A.XfaLayerBuilder({pageDiv:S,pdfPage:oe,annotationStorage:W,linkService:new z.SimpleLinkService,xfaHtml:le})}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationLayerBuilder=void 0;var q=ae(3),fe=ae(4);$.AnnotationLayerBuilder=class z{constructor({pageDiv:E,pdfPage:A,linkService:F,downloadManager:X,annotationStorage:N=null,imageResourcesPath:J="",renderForms:j=!0,l10n:S=fe.NullL10n,enableScripting:oe=!1,hasJSActionsPromise:W=null,fieldObjectsPromise:le=null,mouseState:ge=null,annotationCanvasMap:ye=null}){this.pageDiv=E,this.pdfPage=A,this.linkService=F,this.downloadManager=X,this.imageResourcesPath=J,this.renderForms=j,this.l10n=S,this.annotationStorage=N,this.enableScripting=oe,this._hasJSActionsPromise=W,this._fieldObjectsPromise=le,this._mouseState=ge,this._annotationCanvasMap=ye,this.div=null,this._cancelled=!1}render(E,A="display"){var F=this;return B(function*(){const[X,N=!1,J=null]=yield Promise.all([F.pdfPage.getAnnotations({intent:A}),F._hasJSActionsPromise,F._fieldObjectsPromise]);if(F._cancelled||0===X.length)return;const j={viewport:E.clone({dontFlip:!0}),div:F.div,annotations:X,page:F.pdfPage,imageResourcesPath:F.imageResourcesPath,renderForms:F.renderForms,linkService:F.linkService,downloadManager:F.downloadManager,annotationStorage:F.annotationStorage,enableScripting:F.enableScripting,hasJSActions:N,fieldObjects:J,mouseState:F._mouseState,annotationCanvasMap:F._annotationCanvasMap};F.div?q.AnnotationLayer.update(j):(F.div=document.createElement("div"),F.div.className="annotationLayer",F.pageDiv.appendChild(F.div),j.div=F.div,q.AnnotationLayer.render(j),F.l10n.translate(F.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},se=>{let $;$=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:R(6036),se.exports=$},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.fixupLangCode=function z(A){return fe[A?.toLowerCase()]||A},$.getL10nFallback=q;const ae={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function q(A,F){switch(A){case"find_match_count":A=`find_match_count[${1===F.total?"one":"other"}]`;break;case"find_match_count_limit":A=`find_match_count_limit[${1===F.limit?"one":"other"}]`}return ae[A]||""}const fe={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};$.NullL10n={getLanguage:()=>B(function*(){return"en-us"})(),getDirection:()=>B(function*(){return"ltr"})(),get:(A,F=null,X=q(A,F))=>B(function*(){return function Z(A,F){return F?A.replace(/\{\{\s*(\w+)\s*\}\}/g,(X,N)=>N in F?F[N]:"{{"+N+"}}"):A}(X,F)})(),translate:A=>B(function*(){})()}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SimpleLinkService=$.PDFLinkService=$.LinkTarget=void 0;var q=ae(6);const z={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function Z(j,{url:S,target:oe,rel:W,enabled:le=!0}={}){if(!S||"string"!=typeof S)throw new Error('A valid "url" parameter must provided.');const ge=(0,q.removeNullCharacters)(S);le?j.href=j.title=ge:(j.href="",j.title=`Disabled: ${ge}`,j.onclick=()=>!1);let ye="";switch(oe){case z.NONE:break;case z.SELF:ye="_self";break;case z.BLANK:ye="_blank";break;case z.PARENT:ye="_parent";break;case z.TOP:ye="_top"}j.target=ye,j.rel="string"==typeof W?W:"noopener noreferrer nofollow"}$.LinkTarget=z;var E=new WeakMap,A=new WeakSet;class F{constructor({eventBus:S,externalLinkTarget:oe=null,externalLinkRel:W=null,ignoreDestinationZoom:le=!1}={}){te(this,A),O(this,E,{writable:!0,value:new Map}),this.eventBus=S,this.externalLinkTarget=oe,this.externalLinkRel=W,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=le,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(S,oe=null){this.baseUrl=oe,this.pdfDocument=S,re(this,E).clear()}setViewer(S){this.pdfViewer=S}setHistory(S){this.pdfHistory=S}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(S){this.pdfViewer.currentPageNumber=S}get rotation(){return this.pdfViewer.pagesRotation}set rotation(S){this.pdfViewer.pagesRotation=S}goToDestination(S){var oe=this;return B(function*(){if(!oe.pdfDocument)return;let W,le;"string"==typeof S?(W=S,le=yield oe.pdfDocument.getDestination(S)):(W=null,le=yield S),Array.isArray(le)?ie(oe,A,X).call(oe,S,W,le):console.error(`PDFLinkService.goToDestination: "${le}" is not a valid destination array, for dest="${S}".`)})()}goToPage(S){if(!this.pdfDocument)return;const oe="string"==typeof S&&this.pdfViewer.pageLabelToPageNumber(S)||0|S;Number.isInteger(oe)&&oe>0&&oe<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(oe)),this.pdfViewer.scrollPageIntoView({pageNumber:oe})):console.error(`PDFLinkService.goToPage: "${S}" is not a valid page.`)}addLinkAttributes(S,oe,W=!1){Z(S,{url:oe,target:W?z.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(S){if("string"==typeof S){if(S.length>0)return this.getAnchorUrl("#"+escape(S))}else if(Array.isArray(S)){const oe=JSON.stringify(S);if(oe.length>0)return this.getAnchorUrl("#"+escape(oe))}return this.getAnchorUrl("")}getAnchorUrl(S){return(this.baseUrl||"")+S}setHash(S){if(!this.pdfDocument)return;let oe,W;if(S.includes("=")){const le=(0,q.parseQueryString)(S);if(le.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:le.get("search").replace(/"/g,""),phraseSearch:"true"===le.get("phrase")}),le.has("page")&&(oe=0|le.get("page")||1),le.has("zoom")){const ge=le.get("zoom").split(","),ye=ge[0],Re=parseFloat(ye);ye.includes("Fit")?"Fit"===ye||"FitB"===ye?W=[null,{name:ye}]:"FitH"===ye||"FitBH"===ye||"FitV"===ye||"FitBV"===ye?W=[null,{name:ye},ge.length>1?0|ge[1]:null]:"FitR"===ye?5!==ge.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):W=[null,{name:ye},0|ge[1],0|ge[2],0|ge[3],0|ge[4]]:console.error(`PDFLinkService.setHash: "${ye}" is not a valid zoom value.`):W=[null,{name:"XYZ"},ge.length>1?0|ge[1]:null,ge.length>2?0|ge[2]:null,Re?Re/100:ye]}W?this.pdfViewer.scrollPageIntoView({pageNumber:oe||this.page,destArray:W,allowNegativeOffset:!0}):oe&&(this.page=oe),le.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:le.get("pagemode")}),le.has("nameddest")&&this.goToDestination(le.get("nameddest"))}else{W=unescape(S);try{W=JSON.parse(W),Array.isArray(W)||(W=W.toString())}catch{}if("string"==typeof W||pe(F,F,N).call(F,W))return void this.goToDestination(W);console.error(`PDFLinkService.setHash: "${unescape(S)}" is not a valid destination.`)}}executeNamedAction(S){switch(S){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:S})}cachePageRef(S,oe){if(!oe)return;const W=0===oe.gen?`${oe.num}R`:`${oe.num}R${oe.gen}`;re(this,E).set(W,S)}_cachedPageNumber(S){if(!S)return null;const oe=0===S.gen?`${S.num}R`:`${S.num}R${S.gen}`;return re(this,E).get(oe)||null}isPageVisible(S){return this.pdfViewer.isPageVisible(S)}isPageCached(S){return this.pdfViewer.isPageCached(S)}}function X(j,S=null,oe){const W=oe[0];let le;if("object"==typeof W&&null!==W){if(le=this._cachedPageNumber(W),!le)return void this.pdfDocument.getPageIndex(W).then(ge=>{this.cachePageRef(ge+1,W),ie(this,A,X).call(this,j,S,oe)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${W}" is not a valid page reference, for dest="${j}".`)})}else{if(!Number.isInteger(W))return void console.error(`PDFLinkService.#goToDestinationHelper: "${W}" is not a valid destination reference, for dest="${j}".`);le=W+1}!le||le<1||le>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${le}" is not a valid page number, for dest="${j}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:S,explicitDest:oe,pageNumber:le})),this.pdfViewer.scrollPageIntoView({pageNumber:le,destArray:oe,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function N(j){if(!Array.isArray(j))return!1;const S=j.length;if(S<2)return!1;const oe=j[0];if(!("object"==typeof oe&&Number.isInteger(oe.num)&&Number.isInteger(oe.gen)||Number.isInteger(oe)&&oe>=0))return!1;const W=j[1];if("object"!=typeof W||"string"!=typeof W.name)return!1;let le=!0;switch(W.name){case"XYZ":if(5!==S)return!1;break;case"Fit":case"FitB":return 2===S;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==S)return!1;break;case"FitR":if(6!==S)return!1;le=!1;break;default:return!1}for(let ge=2;ge<S;ge++){const ye=j[ge];if(!("number"==typeof ye||le&&null===ye))return!1}return!0}$.PDFLinkService=F,$.SimpleLinkService=class J{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(S){}get rotation(){return 0}set rotation(S){}goToDestination(S){return B(function*(){})()}goToPage(S){}addLinkAttributes(S,oe,W=!1){Z(S,{url:oe,enabled:this.externalLinkEnabled})}getDestinationHash(S){return"#"}getAnchorUrl(S){return"#"}setHash(S){}executeNamedAction(S){}cachePageRef(S,oe){}isPageVisible(S){return!0}isPageCached(S){return!0}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.animationStarted=$.VERTICAL_PADDING=$.UNKNOWN_SCALE=$.TextLayerMode=$.SpreadMode=$.SidebarView=$.ScrollMode=$.SCROLLBAR_PADDING=$.RenderingStates=$.RendererType=$.ProgressBar=$.PresentationModeState=$.OutputScale=$.MIN_SCALE=$.MAX_SCALE=$.MAX_AUTO_SCALE=$.DEFAULT_SCALE_VALUE=$.DEFAULT_SCALE_DELTA=$.DEFAULT_SCALE=$.AutoPrintRegExp=void 0,$.apiPageLayoutToViewerModes=function Ot(nt){let dt=W.VERTICAL,kt=le.NONE;switch(nt){case"SinglePage":dt=W.PAGE;break;case"OneColumn":break;case"TwoPageLeft":dt=W.PAGE;case"TwoColumnLeft":kt=le.ODD;break;case"TwoPageRight":dt=W.PAGE;case"TwoColumnRight":kt=le.EVEN}return{scrollMode:dt,spreadMode:kt}},$.apiPageModeToSidebarView=function At(nt){switch(nt){case"UseNone":return j.NONE;case"UseThumbs":return j.THUMBS;case"UseOutlines":return j.OUTLINE;case"UseAttachments":return j.ATTACHMENTS;case"UseOC":return j.LAYERS}return j.NONE},$.approximateFraction=function k(nt){if(Math.floor(nt)===nt)return[nt,1];const dt=1/nt;if(dt>8)return[1,8];if(Math.floor(dt)===dt)return[1,dt];const Ke=nt>1?dt:nt;let Ne,me=0,xe=1,ft=1,wt=1;for(;;){const we=me+ft,Fe=xe+wt;if(Fe>8)break;Ke<=we/Fe?(ft=we,wt=Fe):(me=we,xe=Fe)}return Ne=Ke-me/xe<ft/wt-Ke?Ke===nt?[me,xe]:[xe,me]:Ke===nt?[ft,wt]:[wt,ft],Ne},$.backtrackBeforeAllVisibleElements=ne,$.binarySearchFirstItem=b,$.getActiveOrFocusedElement=function Rt(){let nt=document,dt=nt.activeElement||nt.querySelector(":focus");for(;dt?.shadowRoot;)nt=dt.shadowRoot,dt=nt.activeElement||nt.querySelector(":focus");return dt},$.getPageSizeInches=function Q({view:nt,userUnit:dt,rotate:kt}){const[Ke,me,xe,ft]=nt,wt=kt%180!=0,Ne=(xe-Ke)/72*dt,we=(ft-me)/72*dt;return{width:wt?we:Ne,height:wt?Ne:we}},$.getVisibleElements=function U({scrollEl:nt,views:dt,sortByVisibility:kt=!1,horizontal:Ke=!1,rtl:me=!1}){const xe=nt.scrollTop,ft=xe+nt.clientHeight,wt=nt.scrollLeft,Ne=wt+nt.clientWidth,rt=[],bt=new Set,Yt=dt.length;let Ze=b(dt,Ke?function Fe(Ae){const Pe=Ae.div,We=Pe.offsetLeft+Pe.clientLeft;return me?We<Ne:We+Pe.clientWidth>wt}:function we(Ae){const Pe=Ae.div;return Pe.offsetTop+Pe.clientTop+Pe.clientHeight>xe});Ze>0&&Ze<Yt&&!Ke&&(Ze=ne(Ze,dt,xe));let Ee=Ke?Ne:-1;for(let Ae=Ze;Ae<Yt;Ae++){const Pe=dt[Ae],We=Pe.div,at=We.offsetLeft+We.clientLeft,Dt=We.offsetTop+We.clientTop,en=We.clientWidth,rn=We.clientHeight,On=at+en,nn=Dt+rn;if(-1===Ee)nn>=ft&&(Ee=nn);else if((Ke?at:Dt)>Ee)break;if(nn<=xe||Dt>=ft||On<=wt||at>=Ne)continue;const sn=Math.max(0,xe-Dt)+Math.max(0,nn-ft),Rn=(en-(Math.max(0,wt-at)+Math.max(0,On-Ne)))/en;rt.push({id:Pe.id,x:at,y:Dt,view:Pe,percent:(rn-sn)/rn*Rn*100|0,widthPercent:100*Rn|0}),bt.add(Pe.id)}const Te=rt[0],De=rt[rt.length-1];return kt&&rt.sort(function(Ae,Pe){const We=Ae.percent-Pe.percent;return Math.abs(We)>.001?-We:Ae.id-Pe.id}),{first:Te,last:De,views:rt,ids:bt}},$.isPortraitOrientation=function Qe(nt){return nt.width<=nt.height},$.isValidRotation=function Ue(nt){return Number.isInteger(nt)&&nt%90==0},$.isValidScrollMode=function Be(nt){return Number.isInteger(nt)&&Object.values(W).includes(nt)&&nt!==W.UNKNOWN},$.isValidSpreadMode=function qe(nt){return Number.isInteger(nt)&&Object.values(le).includes(nt)&&nt!==le.UNKNOWN},$.noContextMenuHandler=function be(nt){nt.preventDefault()},$.normalizeWheelEventDelta=function ke(nt){let dt=He(nt);return 0===nt.deltaMode?dt/=900:1===nt.deltaMode&&(dt/=30),dt},$.normalizeWheelEventDirection=He,$.parseQueryString=function Xe(nt){const dt=new Map;for(const[kt,Ke]of new URLSearchParams(nt))dt.set(kt.toLowerCase(),Ke);return dt},$.removeNullCharacters=function I(nt,dt=!1){return"string"!=typeof nt?(console.error("The argument must be a string."),nt):(dt&&(nt=nt.replace(ve," ")),nt.replace(it,""))},$.roundToDivide=function L(nt,dt){const kt=nt%dt;return 0===kt?nt:Math.round(nt-kt+dt)},$.scrollIntoView=function Re(nt,dt,kt=!1){let Ke=nt.offsetParent;if(!Ke)return void console.error("offsetParent is not set -- cannot scroll");let me=nt.offsetTop+nt.clientTop,xe=nt.offsetLeft+nt.clientLeft;for(;Ke.clientHeight===Ke.scrollHeight&&Ke.clientWidth===Ke.scrollWidth||kt&&(Ke.classList.contains("markedContent")||"hidden"===getComputedStyle(Ke).overflow);)if(me+=Ke.offsetTop,xe+=Ke.offsetLeft,Ke=Ke.offsetParent,!Ke)return;dt&&(void 0!==dt.top&&(me+=dt.top),void 0!==dt.left&&(xe+=dt.left,Ke.scrollLeft=xe)),Ke.scrollTop=me},$.watchScroll=function Ve(nt,dt){const kt=function(xe){me||(me=window.requestAnimationFrame(function(){me=null;const wt=nt.scrollLeft,Ne=Ke.lastX;wt!==Ne&&(Ke.right=wt>Ne),Ke.lastX=wt;const we=nt.scrollTop,Fe=Ke.lastY;we!==Fe&&(Ke.down=we>Fe),Ke.lastY=we,dt(Ke)}))},Ke={right:!0,down:!0,lastX:nt.scrollLeft,lastY:nt.scrollTop,_eventHandler:kt};let me=null;return nt.addEventListener("scroll",kt,!0),Ke},$.DEFAULT_SCALE_VALUE="auto",$.DEFAULT_SCALE=1,$.DEFAULT_SCALE_DELTA=1.1,$.MIN_SCALE=.1,$.MAX_SCALE=10,$.UNKNOWN_SCALE=0,$.MAX_AUTO_SCALE=1.25,$.SCROLLBAR_PADDING=40,$.VERTICAL_PADDING=5,$.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},$.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const j={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};$.SidebarView=j,$.RendererType={CANVAS:"canvas",SVG:"svg"},$.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const W={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};$.ScrollMode=W;const le={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};$.SpreadMode=le,$.AutoPrintRegExp=/\bprint\s*\(/,$.OutputScale=class ye{constructor(){const dt=window.devicePixelRatio||1;this.sx=dt,this.sy=dt}get scaled(){return 1!==this.sx||1!==this.sy}};const it=/\x00/g,ve=/[\x01-\x1F]/g;function b(nt,dt,kt=0){let Ke=kt,me=nt.length-1;if(me<0||!dt(nt[me]))return nt.length;if(dt(nt[Ke]))return Ke;for(;Ke<me;){const xe=Ke+me>>1;dt(nt[xe])?me=xe:Ke=xe+1}return Ke}function ne(nt,dt,kt){if(nt<2)return nt;let Ke=dt[nt].div,me=Ke.offsetTop+Ke.clientTop;me>=kt&&(Ke=dt[nt-1].div,me=Ke.offsetTop+Ke.clientTop);for(let xe=nt-2;xe>=0&&(Ke=dt[xe].div,!(Ke.offsetTop+Ke.clientTop+Ke.clientHeight<=me));--xe)nt=xe;return nt}function He(nt){let dt=Math.hypot(nt.deltaX,nt.deltaY);const kt=Math.atan2(nt.deltaY,nt.deltaX);return-.25*Math.PI<kt&&kt<.75*Math.PI&&(dt=-dt),dt}const mt=new Promise(function(nt){window.requestAnimationFrame(nt)});$.animationStarted=mt;var lt=new WeakSet;function ct(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}$.ProgressBar=class yt{constructor(dt){if(te(this,lt),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(dt+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(dt){this._indeterminate=isNaN(dt),this._percent=function Tt(nt,dt,kt){return Math.min(Math.max(nt,dt),kt)}(dt,0,100),ie(this,lt,ct).call(this)}setWidth(dt){if(!dt)return;const Ke=dt.parentNode.offsetWidth-dt.offsetWidth;Ke>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${Ke}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StructTreeLayerBuilder=void 0;const ae={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},q=/^H(\d+)$/;$.StructTreeLayerBuilder=class fe{constructor({pdfPage:Z}){this.pdfPage=Z}render(Z){return this._walk(Z)}_setAttributes(Z,E){void 0!==Z.alt&&E.setAttribute("aria-label",Z.alt),void 0!==Z.id&&E.setAttribute("aria-owns",Z.id),void 0!==Z.lang&&E.setAttribute("lang",Z.lang)}_walk(Z){if(!Z)return null;const E=document.createElement("span");if("role"in Z){const{role:A}=Z,F=A.match(q);F?(E.setAttribute("role","heading"),E.setAttribute("aria-level",F[1])):ae[A]&&E.setAttribute("role",ae[A])}if(this._setAttributes(Z,E),Z.children)if(1===Z.children.length&&"id"in Z.children[0])this._setAttributes(Z.children[0],E);else for(const A of Z.children)E.appendChild(this._walk(A));return E}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerBuilder=void 0;var q=ae(3);$.TextLayerBuilder=class z{constructor({textLayerDiv:E,eventBus:A,pageIndex:F,viewport:X,highlighter:N=null,enhanceTextSelection:J=!1}){this.textLayerDiv=E,this.eventBus=A,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=F+1,this.viewport=X,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=N,this.enhanceTextSelection=J,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const E=document.createElement("div");E.className="endOfContent",this.textLayerDiv.appendChild(E)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(E=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const A=document.createDocumentFragment();this.textLayerRenderTask=(0,q.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:A,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:E,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(A),this._finishRendering(),this.highlighter?.enable()},function(F){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(E){this.cancel(),this.textContentStream=E}setTextContent(E){this.cancel(),this.textContent=E}_bindMouse(){const E=this.textLayerDiv;let A=null;E.addEventListener("mousedown",F=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(A&&(clearTimeout(A),A=null));const X=E.querySelector(".endOfContent");if(!X)return;let N=F.target!==E;if(N=N&&"none"!==window.getComputedStyle(X).getPropertyValue("-moz-user-select"),N){const J=E.getBoundingClientRect(),j=Math.max(0,(F.pageY-J.top)/J.height);X.style.top=(100*j).toFixed(2)+"%"}X.classList.add("active")}),E.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(A=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),A=null},300));const F=E.querySelector(".endOfContent");!F||(F.style.top="",F.classList.remove("active"))})}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayerBuilder=void 0;var q=ae(3);$.XfaLayerBuilder=class fe{constructor({pageDiv:Z,pdfPage:E,annotationStorage:A=null,linkService:F,xfaHtml:X=null}){this.pageDiv=Z,this.pdfPage=E,this.annotationStorage=A,this.linkService=F,this.xfaHtml=X,this.div=null,this._cancelled=!1}render(Z,E="display"){if("print"===E){const A={viewport:Z.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:E},F=document.createElement("div");this.pageDiv.appendChild(F),A.div=F;const X=q.XfaLayer.render(A);return Promise.resolve(X)}return this.pdfPage.getXfa().then(A=>{if(this._cancelled||!A)return{textDivs:[]};const F={viewport:Z.clone({dontFlip:!0}),div:this.div,xfaHtml:A,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:E};return this.div?q.XfaLayer.update(F):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),F.div=this.div,q.XfaLayer.render(F))}).catch(A=>{console.error(A)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFViewer=$.PDFSinglePageViewer=void 0;var q=ae(6),fe=ae(11);$.PDFViewer=class z extends fe.BaseViewer{},$.PDFSinglePageViewer=class Z extends fe.BaseViewer{_resetView(){super._resetView(),this._scrollMode=q.ScrollMode.PAGE,this._spreadMode=q.SpreadMode.NONE}set scrollMode(A){}_updateScrollMode(){}set spreadMode(A){}_updateSpreadMode(){}}},(se,$,ae)=>{let q;Object.defineProperty($,"__esModule",{value:!0}),$.PagesCountLimit=$.PDFPageViewBuffer=$.BaseViewer=void 0;var fe=ae(3),z=ae(6),Z=ae(2),E=ae(4),A=ae(12),F=ae(14),X=ae(5),N=ae(7),J=ae(15),j=ae(8),S=ae(9);const W="enablePermissions",le={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};$.PagesCountLimit=le;var ge=new WeakMap,ye=new WeakMap,Re=new WeakSet;q=Symbol.iterator;class Ve{constructor(me){te(this,Re),O(this,ge,{writable:!0,value:new Set}),O(this,ye,{writable:!0,value:0}),s(this,ye,me)}push(me){const xe=re(this,ge);xe.has(me)&&xe.delete(me),xe.add(me),xe.size>re(this,ye)&&ie(this,Re,Xe).call(this)}resize(me,xe=null){s(this,ye,me);const ft=re(this,ge);if(xe){const wt=ft.size;let Ne=1;for(const we of ft)if(xe.has(we.id)&&(ft.delete(we),ft.add(we)),++Ne>wt)break}for(;ft.size>re(this,ye);)ie(this,Re,Xe).call(this)}has(me){return re(this,ge).has(me)}[q](){return re(this,ge).keys()}}function Xe(){const Ke=re(this,ge).keys().next().value;Ke?.destroy(),re(this,ge).delete(Ke)}$.PDFPageViewBuffer=Ve;var it=new WeakMap,ve=new WeakMap,I=new WeakMap,b=new WeakMap,k=new WeakMap,L=new WeakMap,Q=new WeakMap,ne=new WeakSet,U=new WeakSet,be=new WeakSet,He=new WeakSet,ke=new WeakSet,Ue=new WeakSet,Be=new WeakSet,qe=new WeakSet,Qe=new WeakSet;class mt{constructor(me){if(te(this,Qe),te(this,qe),te(this,Be),te(this,Ue),te(this,ke),te(this,He),te(this,be),te(this,U),te(this,ne),O(this,it,{writable:!0,value:null}),O(this,ve,{writable:!0,value:fe.AnnotationMode.ENABLE_FORMS}),O(this,I,{writable:!0,value:null}),O(this,b,{writable:!0,value:!1}),O(this,k,{writable:!0,value:0}),O(this,L,{writable:!0,value:null}),O(this,Q,{writable:!0,value:null}),this.constructor===mt)throw new Error("Cannot initialize BaseViewer.");const xe="2.14.305";if(fe.version!==xe)throw new Error(`The API version "${fe.version}" does not match the Viewer version "${xe}".`);if(this.container=me.container,this.viewer=me.viewer||me.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=me.eventBus,this.linkService=me.linkService||new X.SimpleLinkService,this.downloadManager=me.downloadManager||null,this.findController=me.findController||null,this._scriptingManager=me.scriptingManager||null,this.removePageBorders=me.removePageBorders||!1,this.textLayerMode=me.textLayerMode??z.TextLayerMode.ENABLE,s(this,ve,me.annotationMode??fe.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=me.imageResourcesPath||"",this.enablePrintAutoRotate=me.enablePrintAutoRotate||!1,this.renderer=me.renderer||z.RendererType.CANVAS,this.useOnlyCssZoom=me.useOnlyCssZoom||!1,this.maxCanvasPixels=me.maxCanvasPixels,this.l10n=me.l10n||E.NullL10n,s(this,b,me.enablePermissions||!1),this.pageColors=me.pageColors||null,me.pageColors&&(!CSS.supports("color",me.pageColors.background)||!CSS.supports("color",me.pageColors.foreground))&&((me.pageColors.background||me.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!me.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new F.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=me.renderingQueue,this._doc=document.documentElement,this.scroll=(0,z.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=z.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(me){return this._pages[me]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(me){return me?.pdfPage})}get renderForms(){return re(this,ve)===fe.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(me){if(!Number.isInteger(me))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(me,!0)||console.error(`currentPageNumber: "${me}" is not a valid page.`)}_setCurrentPageNumber(me,xe=!1){if(this._currentPageNumber===me)return xe&&ie(this,Ue,Ot).call(this),!0;if(!(0<me&&me<=this.pagesCount))return!1;const ft=this._currentPageNumber;return this._currentPageNumber=me,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:me,pageLabel:this._pageLabels?.[me-1]??null,previous:ft}),xe&&ie(this,Ue,Ot).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(me){if(!this.pdfDocument)return;let xe=0|me;if(this._pageLabels){const ft=this._pageLabels.indexOf(me);ft>=0&&(xe=ft+1)}this._setCurrentPageNumber(xe,!0)||console.error(`currentPageLabel: "${me}" is not a valid page.`)}get currentScale(){return this._currentScale!==z.UNKNOWN_SCALE?this._currentScale:z.DEFAULT_SCALE}set currentScale(me){if(isNaN(me))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(me,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(me){!this.pdfDocument||this._setScale(me,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(me){if(!(0,z.isValidRotation)(me))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((me%=360)<0&&(me+=360),this._pagesRotation===me))return;this._pagesRotation=me;const xe=this._currentPageNumber,ft={rotation:me};for(const wt of this._pages)wt.update(ft);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:me,pageNumber:xe}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(me){var xe=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=me,!me)return;const ft=me.isPureXfa,wt=me.numPages,Ne=me.getPage(1),we=me.getOptionalContentConfig(),Fe=re(this,b)?me.getPermissions():Promise.resolve();if(wt>le.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const rt=this._scrollMode=z.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:rt})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:wt})},()=>{}),this._onBeforeDraw=rt=>{const bt=this._pages[rt.pageNumber-1];!bt||re(this,it).push(bt)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=rt=>{rt.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:rt.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,re(this,Q)&&(document.removeEventListener("visibilitychange",re(this,Q)),s(this,Q,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Ne,Fe]).then(([rt,bt])=>{if(me!==this.pdfDocument)return;this._firstPageCapability.resolve(rt),this._optionalContentConfigPromise=we,ie(this,ne,Tt).call(this,bt);const Yt=this._scrollMode===z.ScrollMode.PAGE?null:this.viewer,Ze=this.currentScale,Ee=rt.getViewport({scale:Ze*fe.PixelsPerInch.PDF_TO_CSS_UNITS}),Te=this.textLayerMode===z.TextLayerMode.DISABLE||ft?null:this,De=re(this,ve)!==fe.AnnotationMode.DISABLE?this:null,Ae=ft?this:null;for(let We=1;We<=wt;++We){const at=new A.PDFPageView({container:Yt,eventBus:this.eventBus,id:We,scale:Ze,defaultViewport:Ee.clone(),optionalContentConfigPromise:we,renderingQueue:this.renderingQueue,textLayerFactory:Te,textLayerMode:this.textLayerMode,annotationLayerFactory:De,annotationMode:re(this,ve),xfaLayerFactory:Ae,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(at)}const Pe=this._pages[0];Pe&&(Pe.setPdfPage(rt),this.linkService.cachePageRef(1,rt.ref)),this._scrollMode===z.ScrollMode.PAGE?ie(this,be,yt).call(this):this._spreadMode!==z.SpreadMode.NONE&&this._updateSpreadMode(),ie(this,U,lt).call(this).then(B(function*(){if(xe.findController&&xe.findController.setDocument(me),xe._scriptingManager&&xe._scriptingManager.setDocument(me),me.loadingParams.disableAutoFetch||wt>le.FORCE_LAZY_PAGE_INIT)return void xe._pagesCapability.resolve();let We=wt-1;if(We<=0)xe._pagesCapability.resolve();else for(let at=2;at<=wt;++at){const Dt=me.getPage(at).then(en=>{const rn=xe._pages[at-1];rn.pdfPage||rn.setPdfPage(en),xe.linkService.cachePageRef(at,en.ref),0==--We&&xe._pagesCapability.resolve()},en=>{console.error(`Unable to get page ${at} to initialize viewer`,en),0==--We&&xe._pagesCapability.resolve()});at%le.PAUSE_EAGER_PAGE_INIT==0&&(yield Dt)}})),this.eventBus.dispatch("pagesinit",{source:this}),me.getMetadata().then(({info:We})=>{me===this.pdfDocument&&We.Language&&(this.viewer.lang=We.Language)}),this.defaultRenderingQueue&&this.update()}).catch(rt=>{console.error("Unable to initialize viewer",rt),this._pagesCapability.reject(rt)})}setPageLabels(me){if(this.pdfDocument){me?Array.isArray(me)&&this.pdfDocument.numPages===me.length?this._pageLabels=me:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let xe=0,ft=this._pages.length;xe<ft;xe++)this._pages[xe].setPageLabel(this._pageLabels?.[xe]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=z.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,s(this,it,new Ve(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,fe.createPromiseCapability)(),this._onePageRenderedCapability=(0,fe.createPromiseCapability)(),this._pagesCapability=(0,fe.createPromiseCapability)(),this._scrollMode=z.ScrollMode.VERTICAL,this._previousScrollMode=z.ScrollMode.UNKNOWN,this._spreadMode=z.SpreadMode.NONE,s(this,L,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),re(this,Q)&&(document.removeEventListener("visibilitychange",re(this,Q)),s(this,Q,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(W),null!==re(this,I)&&(s(this,ve,re(this,I)),s(this,I,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(me,xe,ft=!1,wt=!1){if(this._currentScaleValue=xe.toString(),ie(this,ke,Rt).call(this,me))return void(wt&&this.eventBus.dispatch("scalechanging",{source:this,scale:me,presetValue:xe}));this._doc.style.setProperty("--zoom-factor",me);const Ne={scale:me};for(const we of this._pages)we.update(Ne);if(this._currentScale=me,!ft){let Fe,we=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(we=this._location.pageNumber,Fe=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:we,destArray:Fe,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:me,presetValue:wt?xe:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==z.SpreadMode.NONE&&this._scrollMode!==z.ScrollMode.HORIZONTAL?2:1}_setScale(me,xe=!1){let ft=parseFloat(me);if(ft>0)this._setScaleUpdatePages(ft,me,xe,!1);else{const wt=this._pages[this._currentPageNumber-1];if(!wt)return;let Ne=z.SCROLLBAR_PADDING,we=z.VERTICAL_PADDING;this.isInPresentationMode?Ne=we=4:this.removePageBorders?Ne=we=0:this._scrollMode===z.ScrollMode.HORIZONTAL&&([Ne,we]=[we,Ne]);const Fe=(this.container.clientWidth-Ne)/wt.width*wt.scale/this._pageWidthScaleFactor,rt=(this.container.clientHeight-we)/wt.height*wt.scale;switch(me){case"page-actual":ft=1;break;case"page-width":ft=Fe;break;case"page-height":ft=rt;break;case"page-fit":ft=Math.min(Fe,rt);break;case"auto":const bt=(0,z.isPortraitOrientation)(wt)?Fe:Math.min(rt,Fe);ft=Math.min(z.MAX_AUTO_SCALE,bt);break;default:return void console.error(`_setScale: "${me}" is an unknown zoom value.`)}this._setScaleUpdatePages(ft,me,xe,!0)}}pageLabelToPageNumber(me){if(!this._pageLabels)return null;const xe=this._pageLabels.indexOf(me);return xe<0?null:xe+1}scrollPageIntoView({pageNumber:me,destArray:xe=null,allowNegativeOffset:ft=!1,ignoreDestinationZoom:wt=!1}){if(!this.pdfDocument)return;const Ne=Number.isInteger(me)&&this._pages[me-1];if(!Ne)return void console.error(`scrollPageIntoView: "${me}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!xe)return void this._setCurrentPageNumber(me,!0);let Yt,Ze,we=0,Fe=0,rt=0,bt=0;const Ee=Ne.rotation%180!=0,Te=(Ee?Ne.height:Ne.width)/Ne.scale/fe.PixelsPerInch.PDF_TO_CSS_UNITS,De=(Ee?Ne.width:Ne.height)/Ne.scale/fe.PixelsPerInch.PDF_TO_CSS_UNITS;let Ae=0;switch(xe[1].name){case"XYZ":we=xe[2],Fe=xe[3],Ae=xe[4],we=null!==we?we:0,Fe=null!==Fe?Fe:De;break;case"Fit":case"FitB":Ae="page-fit";break;case"FitH":case"FitBH":Fe=xe[2],Ae="page-width",null===Fe&&this._location?(we=this._location.left,Fe=this._location.top):("number"!=typeof Fe||Fe<0)&&(Fe=De);break;case"FitV":case"FitBV":we=xe[2],rt=Te,bt=De,Ae="page-height";break;case"FitR":we=xe[2],Fe=xe[3],rt=xe[4]-we,bt=xe[5]-Fe,Yt=(this.container.clientWidth-(this.removePageBorders?0:z.SCROLLBAR_PADDING))/rt/fe.PixelsPerInch.PDF_TO_CSS_UNITS,Ze=(this.container.clientHeight-(this.removePageBorders?0:z.VERTICAL_PADDING))/bt/fe.PixelsPerInch.PDF_TO_CSS_UNITS,Ae=Math.min(Math.abs(Yt),Math.abs(Ze));break;default:return void console.error(`scrollPageIntoView: "${xe[1].name}" is not a valid destination type.`)}if(wt||(Ae&&Ae!==this._currentScale?this.currentScaleValue=Ae:this._currentScale===z.UNKNOWN_SCALE&&(this.currentScaleValue=z.DEFAULT_SCALE_VALUE)),"page-fit"===Ae&&!xe[4])return void ie(this,He,ct).call(this,Ne);const Pe=[Ne.viewport.convertToViewportPoint(we,Fe),Ne.viewport.convertToViewportPoint(we+rt,Fe+bt)];let We=Math.min(Pe[0][0],Pe[1][0]),at=Math.min(Pe[0][1],Pe[1][1]);ft||(We=Math.max(We,0),at=Math.max(at,0)),ie(this,He,ct).call(this,Ne,{left:We,top:at})}_updateLocation(me){const xe=this._currentScale,ft=this._currentScaleValue,wt=parseFloat(ft)===xe?Math.round(1e4*xe)/100:ft,Ne=me.id,Fe=this.container,rt=this._pages[Ne-1].getPagePoint(Fe.scrollLeft-me.x,Fe.scrollTop-me.y),bt=Math.round(rt[0]),Yt=Math.round(rt[1]);let Ze=`#page=${Ne}`;this.isInPresentationMode||(Ze+=`&zoom=${wt},${bt},${Yt}`),this._location={pageNumber:Ne,scale:wt,top:Yt,left:bt,rotation:this._pagesRotation,pdfOpenParams:Ze}}update(){const me=this._getVisiblePages(),xe=me.views,ft=xe.length;if(0===ft)return;const wt=Math.max(10,2*ft+1);re(this,it).resize(wt,me.ids),this.renderingQueue.renderHighestPriority(me);const Ne=this._spreadMode===z.SpreadMode.NONE&&(this._scrollMode===z.ScrollMode.PAGE||this._scrollMode===z.ScrollMode.VERTICAL),we=this._currentPageNumber;let Fe=!1;for(const rt of xe){if(rt.percent<100)break;if(rt.id===we&&Ne){Fe=!0;break}}this._setCurrentPageNumber(Fe?we:xe[0].id),this._updateLocation(me.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(me){return this.container.contains(me)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===z.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===z.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const me=this._scrollMode===z.ScrollMode.PAGE?re(this,L).pages:this._pages,xe=this._scrollMode===z.ScrollMode.HORIZONTAL;return(0,z.getVisibleElements)({scrollEl:this.container,views:me,sortByVisibility:!0,horizontal:xe,rtl:xe&&this._isContainerRtl})}isPageVisible(me){return!!this.pdfDocument&&(Number.isInteger(me)&&me>0&&me<=this.pagesCount?this._getVisiblePages().ids.has(me):(console.error(`isPageVisible: "${me}" is not a valid page.`),!1))}isPageCached(me){if(!this.pdfDocument)return!1;if(!(Number.isInteger(me)&&me>0&&me<=this.pagesCount))return console.error(`isPageCached: "${me}" is not a valid page.`),!1;const xe=this._pages[me-1];return re(this,it).has(xe)}cleanup(){for(const me of this._pages)me.renderingState!==z.RenderingStates.FINISHED&&me.reset()}_cancelRendering(){for(const me of this._pages)me.cancelRendering()}forceRendering(me){const xe=me||this._getVisiblePages(),ft=ie(this,qe,dt).call(this,xe),Ne=this.renderingQueue.getHighestPriority(xe,this._pages,ft,this._spreadMode!==z.SpreadMode.NONE&&this._scrollMode!==z.ScrollMode.HORIZONTAL);return ie(this,Qe,kt).call(this,xe.ids),!!Ne&&(ie(this,Be,At).call(this,Ne).then(()=>{this.renderingQueue.renderView(Ne)}),!0)}createTextLayerBuilder(me,xe,ft,wt=!1,Ne,we){return new j.TextLayerBuilder({textLayerDiv:me,eventBus:Ne,pageIndex:xe,viewport:ft,enhanceTextSelection:!this.isInPresentationMode&&wt,highlighter:we})}createTextHighlighter(me,xe){return new J.TextHighlighter({eventBus:xe,pageIndex:me,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(me,xe,ft=null,wt="",Ne=!0,we=E.NullL10n,Fe=null,rt=null,bt=null,Yt=null,Ze=null){return new Z.AnnotationLayerBuilder({pageDiv:me,pdfPage:xe,annotationStorage:ft||this.pdfDocument?.annotationStorage,imageResourcesPath:wt,renderForms:Ne,linkService:this.linkService,downloadManager:this.downloadManager,l10n:we,enableScripting:Fe??this.enableScripting,hasJSActionsPromise:rt||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Yt||this.pdfDocument?.getFieldObjects(),mouseState:bt||this._scriptingManager?.mouseState,annotationCanvasMap:Ze})}createXfaLayerBuilder(me,xe,ft=null){return new S.XfaLayerBuilder({pageDiv:me,pdfPage:xe,annotationStorage:ft||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(me){return new N.StructTreeLayerBuilder({pdfPage:me})}get hasEqualPageSizes(){const me=this._pages[0];for(let xe=1,ft=this._pages.length;xe<ft;++xe){const wt=this._pages[xe];if(wt.width!==me.width||wt.height!==me.height)return!1}return!0}getPagesOverview(){return this._pages.map(me=>{const xe=me.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,z.isPortraitOrientation)(xe)?{width:xe.width,height:xe.height,rotation:xe.rotation}:{width:xe.height,height:xe.width,rotation:(xe.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(me){if(!(me instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${me}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=me;const xe={optionalContentConfigPromise:me};for(const ft of this._pages)ft.update(xe);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:me})}get scrollMode(){return this._scrollMode}set scrollMode(me){if(this._scrollMode!==me){if(!(0,z.isValidScrollMode)(me))throw new Error(`Invalid scroll mode: ${me}`);this.pagesCount>le.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=me,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:me}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(me=null){const xe=this._scrollMode,ft=this.viewer;ft.classList.toggle("scrollHorizontal",xe===z.ScrollMode.HORIZONTAL),ft.classList.toggle("scrollWrapped",xe===z.ScrollMode.WRAPPED),this.pdfDocument&&me&&(xe===z.ScrollMode.PAGE?ie(this,be,yt).call(this):this._previousScrollMode===z.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(me,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(me){if(this._spreadMode!==me){if(!(0,z.isValidSpreadMode)(me))throw new Error(`Invalid spread mode: ${me}`);this._spreadMode=me,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:me}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(me=null){if(!this.pdfDocument)return;const xe=this.viewer,ft=this._pages;if(this._scrollMode===z.ScrollMode.PAGE)ie(this,be,yt).call(this);else if(xe.textContent="",this._spreadMode===z.SpreadMode.NONE)for(const wt of this._pages)xe.appendChild(wt.div);else{const wt=this._spreadMode-1;let Ne=null;for(let we=0,Fe=ft.length;we<Fe;++we)null===Ne?(Ne=document.createElement("div"),Ne.className="spread",xe.appendChild(Ne)):we%2===wt&&(Ne=Ne.cloneNode(!1),xe.appendChild(Ne)),Ne.appendChild(ft[we].div)}!me||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(me,!0),this.update())}_getPageAdvance(me,xe=!1){switch(this._scrollMode){case z.ScrollMode.WRAPPED:{const{views:ft}=this._getVisiblePages(),wt=new Map;for(const{id:Ne,y:we,percent:Fe,widthPercent:rt}of ft){if(0===Fe||rt<100)continue;let bt=wt.get(we);bt||wt.set(we,bt||(bt=[])),bt.push(Ne)}for(const Ne of wt.values()){const we=Ne.indexOf(me);if(-1===we)continue;const Fe=Ne.length;if(1===Fe)break;if(xe)for(let rt=we-1,bt=0;rt>=bt;rt--){const Ze=Ne[rt+1]-1;if(Ne[rt]<Ze)return me-Ze}else for(let rt=we+1,bt=Fe;rt<bt;rt++){const Ze=Ne[rt-1]+1;if(Ne[rt]>Ze)return Ze-me}if(xe){const rt=Ne[0];if(rt<me)return me-rt+1}else{const rt=Ne[Fe-1];if(rt>me)return rt-me+1}break}break}case z.ScrollMode.HORIZONTAL:break;case z.ScrollMode.PAGE:case z.ScrollMode.VERTICAL:{if(this._spreadMode===z.SpreadMode.NONE)break;const ft=this._spreadMode-1;if(xe&&me%2!==ft)break;if(!xe&&me%2===ft)break;const{views:wt}=this._getVisiblePages(),Ne=xe?me-1:me+1;for(const{id:we,percent:Fe,widthPercent:rt}of wt)if(we===Ne){if(Fe>0&&100===rt)return 2;break}break}}return 1}nextPage(){const me=this._currentPageNumber,xe=this.pagesCount;if(me>=xe)return!1;const ft=this._getPageAdvance(me,!1)||1;return this.currentPageNumber=Math.min(me+ft,xe),!0}previousPage(){const me=this._currentPageNumber;if(me<=1)return!1;const xe=this._getPageAdvance(me,!0)||1;return this.currentPageNumber=Math.max(me-xe,1),!0}increaseScale(me=1){let xe=this._currentScale;do{xe=(xe*z.DEFAULT_SCALE_DELTA).toFixed(2),xe=Math.ceil(10*xe)/10,xe=Math.min(z.MAX_SCALE,xe)}while(--me>0&&xe<z.MAX_SCALE);this.currentScaleValue=xe}decreaseScale(me=1){let xe=this._currentScale;do{xe=(xe/z.DEFAULT_SCALE_DELTA).toFixed(2),xe=Math.floor(10*xe)/10,xe=Math.max(z.MIN_SCALE,xe)}while(--me>0&&xe>z.MIN_SCALE);this.currentScaleValue=xe}updateContainerHeightCss(){const me=this.container.clientHeight;me!==re(this,k)&&(s(this,k,me),this._doc.style.setProperty("--viewer-container-height",`${me}px`))}}function Tt(Ke){!Ke||(Ke.includes(fe.PermissionFlag.COPY)||this.viewer.classList.add(W),!Ke.includes(fe.PermissionFlag.MODIFY_ANNOTATIONS)&&!Ke.includes(fe.PermissionFlag.FILL_INTERACTIVE_FORMS)&&re(this,ve)===fe.AnnotationMode.ENABLE_FORMS&&(s(this,I,re(this,ve)),s(this,ve,fe.AnnotationMode.ENABLE)))}function lt(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const Ke=new Promise(me=>{s(this,Q,()=>{"hidden"===document.visibilityState&&(me(),document.removeEventListener("visibilitychange",re(this,Q)),s(this,Q,null))}),document.addEventListener("visibilitychange",re(this,Q))});return Promise.race([this._onePageRenderedCapability.promise,Ke])}function yt(){if(this._scrollMode!==z.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const Ke=this._currentPageNumber,me=re(this,L),xe=this.viewer;if(xe.textContent="",me.pages.length=0,this._spreadMode!==z.SpreadMode.NONE||this.isInPresentationMode){const ft=new Set,wt=this._spreadMode-1;-1===wt?ft.add(Ke-1):Ke%2!==wt?(ft.add(Ke-1),ft.add(Ke)):(ft.add(Ke-2),ft.add(Ke-1));const Ne=document.createElement("div");if(Ne.className="spread",this.isInPresentationMode){const we=document.createElement("div");we.className="dummyPage",Ne.appendChild(we)}for(const we of ft){const Fe=this._pages[we];!Fe||(Ne.appendChild(Fe.div),me.pages.push(Fe))}xe.appendChild(Ne)}else{const ft=this._pages[Ke-1];xe.appendChild(ft.div),me.pages.push(ft)}me.scrollDown=Ke>=me.previousPageNumber,me.previousPageNumber=Ke}function ct(Ke,me=null){const{div:xe,id:ft}=Ke;if(this._scrollMode===z.ScrollMode.PAGE&&(this._setCurrentPageNumber(ft),ie(this,be,yt).call(this),this.update()),!me&&!this.isInPresentationMode){const wt=xe.offsetLeft+xe.clientLeft,Ne=wt+xe.clientWidth,{scrollLeft:we,clientWidth:Fe}=this.container;(this._scrollMode===z.ScrollMode.HORIZONTAL||wt<we||Ne>we+Fe)&&(me={left:0,top:0})}(0,z.scrollIntoView)(xe,me)}function Rt(Ke){return Ke===this._currentScale||Math.abs(Ke-this._currentScale)<1e-15}function Ot(){const Ke=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),ie(this,He,ct).call(this,Ke)}function At(Ke){return nt.apply(this,arguments)}function nt(){return(nt=B(function*(Ke){if(Ke.pdfPage)return Ke.pdfPage;try{const me=yield this.pdfDocument.getPage(Ke.id);return Ke.pdfPage||Ke.setPdfPage(me),this.linkService._cachedPageNumber?.(me.ref)||this.linkService.cachePageRef(Ke.id,me.ref),me}catch(me){return console.error("Unable to get page for page view",me),null}})).apply(this,arguments)}function dt(Ke){if(1===Ke.first?.id)return!0;if(Ke.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case z.ScrollMode.PAGE:return re(this,L).scrollDown;case z.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function kt(Ke){for(const me of Ke)this._pages[me-1]?.toggleLoadingIconSpinner(!0);for(const me of re(this,it))Ke.has(me.id)||me.toggleLoadingIconSpinner(!1)}$.BaseViewer=mt},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFPageView=void 0;var q=ae(3),fe=ae(6),z=ae(13),Z=ae(4);const E=z.compatibilityParams.maxCanvasPixels||16777216;var A=new WeakMap;$.PDFPageView=class F{constructor(N){O(this,A,{writable:!0,value:q.AnnotationMode.ENABLE_FORMS});const J=N.container,j=N.defaultViewport;this.id=N.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=N.scale||fe.DEFAULT_SCALE,this.viewport=j,this.pdfPageRotate=j.rotation,this._optionalContentConfigPromise=N.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=N.textLayerMode??fe.TextLayerMode.ENABLE,s(this,A,N.annotationMode??q.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=N.imageResourcesPath||"",this.useOnlyCssZoom=N.useOnlyCssZoom||!1,this.maxCanvasPixels=N.maxCanvasPixels||E,this.pageColors=N.pageColors||null,this.eventBus=N.eventBus,this.renderingQueue=N.renderingQueue,this.textLayerFactory=N.textLayerFactory,this.annotationLayerFactory=N.annotationLayerFactory,this.xfaLayerFactory=N.xfaLayerFactory,this.textHighlighter=N.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=N.structTreeLayerFactory,this.renderer=N.renderer||fe.RendererType.CANVAS,this.l10n=N.l10n||Z.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=fe.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const S=document.createElement("div");S.className="page",S.style.width=Math.floor(this.viewport.width)+"px",S.style.height=Math.floor(this.viewport.height)+"px",S.setAttribute("data-page-number",this.id),S.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(oe=>{S.setAttribute("aria-label",oe)}),this.div=S,J?.appendChild(S)}setPdfPage(N){this.pdfPage=N,this.pdfPageRotate=N.rotate,this.viewport=N.getViewport({scale:this.scale*q.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var N=this;return B(function*(){let J=null;try{yield N.annotationLayer.render(N.viewport,"display")}catch(j){J=j}finally{N.eventBus.dispatch("annotationlayerrendered",{source:N,pageNumber:N.id,error:J})}})()}_renderXfaLayer(){var N=this;return B(function*(){let J=null;try{const j=yield N.xfaLayer.render(N.viewport,"display");N.textHighlighter&&N._buildXfaTextContentItems(j.textDivs)}catch(j){J=j}finally{N.eventBus.dispatch("xfalayerrendered",{source:N,pageNumber:N.id,error:J})}})()}_buildXfaTextContentItems(N){var J=this;return B(function*(){const j=yield J.pdfPage.getTextContent(),S=[];for(const oe of j.items)S.push(oe.str);J.textHighlighter.setTextMapping(N,S),J.textHighlighter.enable()})()}_resetZoomLayer(N=!1){if(!this.zoomLayer)return;const J=this.zoomLayer.firstChild;this.paintedViewportMap.delete(J),J.width=0,J.height=0,N&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:N=!1,keepAnnotationLayer:J=!1,keepXfaLayer:j=!1}={}){this.cancelRendering({keepAnnotationLayer:J,keepXfaLayer:j}),this.renderingState=fe.RenderingStates.INITIAL;const S=this.div;S.style.width=Math.floor(this.viewport.width)+"px",S.style.height=Math.floor(this.viewport.height)+"px";const oe=S.childNodes,W=N&&this.zoomLayer||null,le=J&&this.annotationLayer?.div||null,ge=j&&this.xfaLayer?.div||null;for(let ye=oe.length-1;ye>=0;ye--){const Re=oe[ye];switch(Re){case W:case le:case ge:continue}Re.remove()}S.removeAttribute("data-loaded"),le&&this.annotationLayer.hide(),ge&&this.xfaLayer.hide(),W||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(ye=>{this.loadingIconDiv?.setAttribute("aria-label",ye)}),S.appendChild(this.loadingIconDiv)}update({scale:N=0,rotation:J=null,optionalContentConfigPromise:j=null}){if(this.scale=N||this.scale,"number"==typeof J&&(this.rotation=J),j instanceof Promise&&(this._optionalContentConfigPromise=j),this.viewport=this.viewport.clone({scale:this.scale*q.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:W}=document.documentElement;W.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let oe=!1;if(this.canvas&&this.maxCanvasPixels>0){const W=this.outputScale;(Math.floor(this.viewport.width)*W.sx|0)*(Math.floor(this.viewport.height)*W.sy|0)>this.maxCanvasPixels&&(oe=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&oe)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:N=!1,keepXfaLayer:J=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!N||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!J||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:N,redrawAnnotationLayer:J=!1,redrawXfaLayer:j=!1}){const S=this.viewport.width,oe=this.viewport.height,W=this.div;N.style.width=N.parentNode.style.width=W.style.width=Math.floor(S)+"px",N.style.height=N.parentNode.style.height=W.style.height=Math.floor(oe)+"px";const le=this.viewport.rotation-this.paintedViewportMap.get(N).rotation,ge=Math.abs(le);let ye=1,Re=1;if((90===ge||270===ge)&&(ye=oe/S,Re=S/oe),N.style.transform=`rotate(${le}deg) scale(${ye}, ${Re})`,this.textLayer){const Ve=this.textLayer.viewport,it=Math.abs(this.viewport.rotation-Ve.rotation);let ve=S/Ve.width;(90===it||270===it)&&(ve=S/Ve.height);const I=this.textLayer.textLayerDiv;let b,k;switch(it){case 0:b=k=0;break;case 90:b=0,k="-"+I.style.height;break;case 180:b="-"+I.style.width,k="-"+I.style.height;break;case 270:b="-"+I.style.width,k=0;break;default:console.error("Bad rotation value.")}I.style.transform=`rotate(${it}deg) scale(${ve}) translate(${b}, ${k})`,I.style.transformOrigin="0% 0%"}J&&this.annotationLayer&&this._renderAnnotationLayer(),j&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(N,J){return this.viewport.convertToPdfPoint(N,J)}toggleLoadingIconSpinner(N=!1){this.loadingIconDiv?.classList.toggle("notVisible",!N)}draw(){var N=this;this.renderingState!==fe.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:J,pdfPage:j}=this;if(!j)return this.renderingState=fe.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=fe.RenderingStates.RUNNING;const S=document.createElement("div");S.style.width=J.style.width,S.style.height=J.style.height,S.classList.add("canvasWrapper"),this.annotationLayer?.div?J.insertBefore(S,this.annotationLayer.div):J.appendChild(S);let oe=null;if(this.textLayerMode!==fe.TextLayerMode.DISABLE&&this.textLayerFactory){const Re=document.createElement("div");Re.className="textLayer",Re.style.width=S.style.width,Re.style.height=S.style.height,this.annotationLayer?.div?J.insertBefore(Re,this.annotationLayer.div):J.appendChild(Re),oe=this.textLayerFactory.createTextLayerBuilder(Re,this.id-1,this.viewport,this.textLayerMode===fe.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=oe,re(this,A)!==q.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(J,j,null,this.imageResourcesPath,re(this,A)===q.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&J.appendChild(this.xfaLayer.div);let W=null;this.renderingQueue&&(W=Re=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=fe.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=fe.RenderingStates.RUNNING,Re()});Re()});const le=function(){var Re=B(function*(Ve=null){if(ge===N.paintTask&&(N.paintTask=null),Ve instanceof q.RenderingCancelledException)N._renderError=null;else if(N._renderError=Ve,N.renderingState=fe.RenderingStates.FINISHED,N.loadingIconDiv&&(N.loadingIconDiv.remove(),delete N.loadingIconDiv),N._resetZoomLayer(!0),N.eventBus.dispatch("pagerendered",{source:N,pageNumber:N.id,cssTransform:!1,timestamp:performance.now(),error:N._renderError}),Ve)throw Ve});return function(){return Re.apply(this,arguments)}}(),ge=this.renderer===fe.RendererType.SVG?this.paintOnSvg(S):this.paintOnCanvas(S);ge.onRenderContinue=W,this.paintTask=ge;const ye=ge.promise.then(()=>le(null).then(()=>{if(oe){const Re=j.streamTextContent({includeMarkedContent:!0});oe.setTextContentStream(Re),oe.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(Re){return le(Re)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(J,j,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=Re=>{Re.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(Ve=>{if(!Ve||!this.canvas)return;const Xe=this.structTreeLayer.render(Ve);Xe.classList.add("structTree"),this.canvas.appendChild(Xe)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(j)),J.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),ye}paintOnCanvas(N){const J=(0,q.createPromiseCapability)(),j={promise:J.promise,onRenderContinue(I){I()},cancel(){ve.cancel()}},S=this.viewport,oe=document.createElement("canvas");oe.hidden=!0;let W=!0;const le=function(){W&&(oe.hidden=!1,W=!1)};N.appendChild(oe),this.canvas=oe;const ge=oe.getContext("2d",{alpha:!1}),ye=this.outputScale=new fe.OutputScale;if(this.useOnlyCssZoom){const I=S.clone({scale:q.PixelsPerInch.PDF_TO_CSS_UNITS});ye.sx*=I.width/S.width,ye.sy*=I.height/S.height}if(this.maxCanvasPixels>0){const b=Math.sqrt(this.maxCanvasPixels/(S.width*S.height));ye.sx>b||ye.sy>b?(ye.sx=b,ye.sy=b,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const Re=(0,fe.approximateFraction)(ye.sx),Ve=(0,fe.approximateFraction)(ye.sy);oe.width=(0,fe.roundToDivide)(S.width*ye.sx,Re[0]),oe.height=(0,fe.roundToDivide)(S.height*ye.sy,Ve[0]),oe.style.width=(0,fe.roundToDivide)(S.width,Re[1])+"px",oe.style.height=(0,fe.roundToDivide)(S.height,Ve[1])+"px",this.paintedViewportMap.set(oe,S);const it={canvasContext:ge,transform:ye.scaled?[ye.sx,0,0,ye.sy,0,0]:null,viewport:this.viewport,annotationMode:re(this,A),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},ve=this.pdfPage.render(it);return ve.onContinue=function(I){le(),j.onRenderContinue?j.onRenderContinue(I):I()},ve.promise.then(function(){le(),J.resolve()},function(I){le(),J.reject(I)}),j}paintOnSvg(N){let J=!1;const j=()=>{if(J)throw new q.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},S=this.pdfPage,oe=this.viewport.clone({scale:q.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:S.getOperatorList({annotationMode:re(this,A)}).then(le=>(j(),new q.SVGGraphics(S.commonObjs,S.objs).getSVG(le,oe).then(ye=>{j(),this.svg=ye,this.paintedViewportMap.set(ye,oe),ye.style.width=N.style.width,ye.style.height=N.style.height,this.renderingState=fe.RenderingStates.FINISHED,N.appendChild(ye)}))),onRenderContinue(le){le()},cancel(){J=!0}}}setPageLabel(N){this.pageLabel="string"==typeof N?N:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.compatibilityParams=$.OptionKind=$.AppOptions=void 0;const ae=Object.create(null);$.compatibilityParams=ae;{const E=navigator.userAgent||"",A=navigator.platform||"",F=navigator.maxTouchPoints||1,X=/Android/.test(E);(/\b(iPad|iPhone|iPod)(?=;)/.test(E)||"MacIntel"===A&&F>1||X)&&(ae.maxCanvasPixels=5242880)}const q={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};$.OptionKind=q;const fe={annotationMode:{value:2,kind:q.VIEWER+q.PREFERENCE},cursorToolOnLoad:{value:0,kind:q.VIEWER+q.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:q.VIEWER},defaultZoomValue:{value:"",kind:q.VIEWER+q.PREFERENCE},disableHistory:{value:!1,kind:q.VIEWER},disablePageLabels:{value:!1,kind:q.VIEWER+q.PREFERENCE},enablePermissions:{value:!1,kind:q.VIEWER+q.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:q.VIEWER+q.PREFERENCE},enableScripting:{value:!0,kind:q.VIEWER+q.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:q.VIEWER},externalLinkTarget:{value:0,kind:q.VIEWER+q.PREFERENCE},historyUpdateUrl:{value:!1,kind:q.VIEWER+q.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:q.VIEWER+q.PREFERENCE},imageResourcesPath:{value:"./images/",kind:q.VIEWER},maxCanvasPixels:{value:16777216,compatibility:ae.maxCanvasPixels,kind:q.VIEWER},pageColorsBackground:{value:"Canvas",kind:q.VIEWER+q.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:q.VIEWER+q.PREFERENCE},pdfBugEnabled:{value:!1,kind:q.VIEWER+q.PREFERENCE},printResolution:{value:150,kind:q.VIEWER},renderer:{value:"canvas",kind:q.VIEWER},sidebarViewOnLoad:{value:-1,kind:q.VIEWER+q.PREFERENCE},scrollModeOnLoad:{value:-1,kind:q.VIEWER+q.PREFERENCE},spreadModeOnLoad:{value:-1,kind:q.VIEWER+q.PREFERENCE},textLayerMode:{value:1,kind:q.VIEWER+q.PREFERENCE},useOnlyCssZoom:{value:!1,kind:q.VIEWER+q.PREFERENCE},viewerCssTheme:{value:0,kind:q.VIEWER+q.PREFERENCE},viewOnLoad:{value:0,kind:q.VIEWER+q.PREFERENCE},cMapPacked:{value:!0,kind:q.API},cMapUrl:{value:"../web/cmaps/",kind:q.API},disableAutoFetch:{value:!1,kind:q.API+q.PREFERENCE},disableFontFace:{value:!1,kind:q.API+q.PREFERENCE},disableRange:{value:!1,kind:q.API+q.PREFERENCE},disableStream:{value:!1,kind:q.API+q.PREFERENCE},docBaseUrl:{value:"",kind:q.API},enableXfa:{value:!0,kind:q.API+q.PREFERENCE},fontExtraProperties:{value:!1,kind:q.API},isEvalSupported:{value:!0,kind:q.API},maxImageSize:{value:-1,kind:q.API},pdfBug:{value:!1,kind:q.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:q.API},verbosity:{value:1,kind:q.API},workerPort:{value:null,kind:q.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:q.WORKER}};fe.disablePreferences={value:!1,kind:q.VIEWER},fe.locale={value:navigator.language||"en-US",kind:q.VIEWER},fe.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:q.VIEWER},fe.renderer.kind+=q.PREFERENCE;const z=Object.create(null);$.AppOptions=class Z{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(A){const F=z[A];if(void 0!==F)return F;const X=fe[A];return void 0!==X?X.compatibility??X.value:void 0}static getAll(A=null){const F=Object.create(null);for(const X in fe){const N=fe[X];if(A){if(0==(A&N.kind))continue;if(A===q.PREFERENCE){const j=N.value,S=typeof j;if("boolean"===S||"string"===S||"number"===S&&Number.isInteger(j)){F[X]=j;continue}throw new Error(`Invalid type for preference: ${X}`)}}const J=z[X];F[X]=void 0!==J?J:N.compatibility??N.value}return F}static set(A,F){z[A]=F}static setAll(A){for(const F in A)z[F]=A[F]}static remove(A){delete z[A]}static _hasUserOptions(){return Object.keys(z).length>0}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFRenderingQueue=void 0;var q=ae(3),fe=ae(6);$.PDFRenderingQueue=class Z{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(A){this.pdfViewer=A}setThumbnailViewer(A){this.pdfThumbnailViewer=A}isHighestPriority(A){return this.highestPriorityPage===A.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(A){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(A)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(A,F,X,N=!1){const J=A.views,j=J.length;if(0===j)return null;for(let ge=0;ge<j;ge++){const ye=J[ge].view;if(!this.isViewFinished(ye))return ye}const S=A.first.id,oe=A.last.id;if(oe-S+1>j){const ge=A.ids;for(let ye=1,Re=oe-S;ye<Re;ye++){const Ve=X?S+ye:oe-ye;if(ge.has(Ve))continue;const Xe=F[Ve-1];if(!this.isViewFinished(Xe))return Xe}}let W=X?oe:S-2,le=F[W];return le&&!this.isViewFinished(le)||N&&(W+=X?1:-1,le=F[W],le&&!this.isViewFinished(le))?le:null}isViewFinished(A){return A.renderingState===fe.RenderingStates.FINISHED}renderView(A){switch(A.renderingState){case fe.RenderingStates.FINISHED:return!1;case fe.RenderingStates.PAUSED:this.highestPriorityPage=A.renderingId,A.resume();break;case fe.RenderingStates.RUNNING:this.highestPriorityPage=A.renderingId;break;case fe.RenderingStates.INITIAL:this.highestPriorityPage=A.renderingId,A.draw().finally(()=>{this.renderHighestPriority()}).catch(F=>{F instanceof q.RenderingCancelledException||console.error(`renderView: "${F}"`)})}return!0}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextHighlighter=void 0,$.TextHighlighter=class ae{constructor({findController:fe,eventBus:z,pageIndex:Z}){this.findController=fe,this.matches=[],this.eventBus=z,this.pageIdx=Z,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(fe,z){this.textDivs=fe,this.textContentItemsStr=z}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=fe=>{(fe.pageIndex===this.pageIdx||-1===fe.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(fe,z){if(!fe)return[];const{textContentItemsStr:Z}=this;let E=0,A=0;const F=Z.length-1,X=[];for(let N=0,J=fe.length;N<J;N++){let j=fe[N];for(;E!==F&&j>=A+Z[E].length;)A+=Z[E].length,E++;E===Z.length&&console.error("Could not find a matching mapping");const S={begin:{divIdx:E,offset:j-A}};for(j+=z[N];E!==F&&j>A+Z[E].length;)A+=Z[E].length,E++;S.end={divIdx:E,offset:j-A},X.push(S)}return X}_renderMatches(fe){if(0===fe.length)return;const{findController:z,pageIdx:Z}=this,{textContentItemsStr:E,textDivs:A}=this,F=Z===z.selected.pageIdx,X=z.selected.matchIdx;let J=null;function S(ge,ye){const Re=ge.divIdx;return A[Re].textContent="",oe(Re,0,ge.offset,ye)}function oe(ge,ye,Re,Ve){let Xe=A[ge];if(Xe.nodeType===Node.TEXT_NODE){const I=document.createElement("span");Xe.parentNode.insertBefore(I,Xe),I.appendChild(Xe),A[ge]=I,Xe=I}const it=E[ge].substring(ye,Re),ve=document.createTextNode(it);if(Ve){const I=document.createElement("span");return I.className=`${Ve} appended`,I.appendChild(ve),Xe.appendChild(I),Ve.includes("selected")?I.offsetLeft:0}return Xe.appendChild(ve),0}let W=X,le=W+1;if(z.state.highlightAll)W=0,le=fe.length;else if(!F)return;for(let ge=W;ge<le;ge++){const ye=fe[ge],Re=ye.begin,Ve=ye.end,Xe=F&&ge===X,it=Xe?" selected":"";let ve=0;if(J&&Re.divIdx===J.divIdx?oe(J.divIdx,J.offset,Re.offset):(null!==J&&oe(J.divIdx,J.offset,undefined),S(Re)),Re.divIdx===Ve.divIdx)ve=oe(Re.divIdx,Re.offset,Ve.offset,"highlight"+it);else{ve=oe(Re.divIdx,Re.offset,undefined,"highlight begin"+it);for(let I=Re.divIdx+1,b=Ve.divIdx;I<b;I++)A[I].className="highlight middle"+it;S(Ve,"highlight end"+it)}J=Ve,Xe&&z.scrollMatchIntoView({element:A[Re.divIdx],selectedLeft:ve,pageIndex:Z,matchIndex:X})}J&&oe(J.divIdx,J.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:fe,matches:z,pageIdx:Z}=this,{textContentItemsStr:E,textDivs:A}=this;let F=-1;for(let J=0,j=z.length;J<j;J++){const S=z[J];for(let W=Math.max(F,S.begin.divIdx),le=S.end.divIdx;W<=le;W++){const ge=A[W];ge.textContent=E[W],ge.className=""}F=S.end.divIdx+1}fe?.highlightMatches&&(this.matches=this._convertMatches(fe.pageMatches[Z]||null,fe.pageMatchesLength[Z]||null),this._renderMatches(this.matches))}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.DownloadManager=void 0;var q=ae(3);function fe(Z,E){const A=document.createElement("a");if(!A.click)throw new Error('DownloadManager: "a.click()" is not supported.');A.href=Z,A.target="_parent","download"in A&&(A.download=E),(document.body||document.documentElement).appendChild(A),A.click(),A.remove()}$.DownloadManager=class z{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(E,A){(0,q.createValidAbsoluteUrl)(E,"http://example.com")?fe(E+"#pdfjs.action=download",A):console.error(`downloadUrl - not a valid URL: ${E}`)}downloadData(E,A,F){fe(URL.createObjectURL(new Blob([E],{type:F})),A)}openOrDownloadData(E,A,F){const X=(0,q.isPdfFile)(F),N=X?"application/pdf":"";if(X){let j,J=this._openBlobUrls.get(E);J||(J=URL.createObjectURL(new Blob([A],{type:N})),this._openBlobUrls.set(E,J)),j="?file="+encodeURIComponent(J+"#"+F);try{return window.open(j),!0}catch(S){console.error(`openOrDownloadData: ${S}`),URL.revokeObjectURL(J),this._openBlobUrls.delete(E)}}return this.downloadData(A,F,N),!1}download(E,A,F,X="download"){fe(URL.createObjectURL(E),F)}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.WaitOnType=$.EventBus=$.AutomationEventBus=void 0,$.waitOnEventOrTimeout=function q({target:Z,name:E,delay:A=0}){return new Promise(function(F,X){if("object"!=typeof Z||!E||"string"!=typeof E||!(Number.isInteger(A)&&A>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function N(oe){Z instanceof fe?Z._off(E,J):Z.removeEventListener(E,J),S&&clearTimeout(S),F(oe)}const J=N.bind(null,ae.EVENT);Z instanceof fe?Z._on(E,J):Z.addEventListener(E,J);const j=N.bind(null,ae.TIMEOUT),S=setTimeout(j,A)})};const ae={EVENT:"event",TIMEOUT:"timeout"};$.WaitOnType=ae;class fe{constructor(){this._listeners=Object.create(null)}on(E,A,F=null){this._on(E,A,{external:!0,once:F?.once})}off(E,A,F=null){this._off(E,A,{external:!0,once:F?.once})}dispatch(E,A){const F=this._listeners[E];if(!F||0===F.length)return;let X;for(const{listener:N,external:J,once:j}of F.slice(0))j&&this._off(E,N),J?(X||(X=[])).push(N):N(A);if(X){for(const N of X)N(A);X=null}}_on(E,A,F=null){var N;((N=this._listeners)[E]||(N[E]=[])).push({listener:A,external:!0===F?.external,once:!0===F?.once})}_off(E,A,F=null){const X=this._listeners[E];if(X)for(let N=0,J=X.length;N<J;N++)if(X[N].listener===A)return void X.splice(N,1)}}$.EventBus=fe,$.AutomationEventBus=class z extends fe{dispatch(E,A){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GenericL10n=void 0,ae(19);var q=ae(4);const fe=document.webL10n;$.GenericL10n=class z{constructor(E){this._lang=E,this._ready=new Promise((A,F)=>{fe.setLanguage((0,q.fixupLangCode)(E),()=>{A(fe)})})}getLanguage(){var E=this;return B(function*(){return(yield E._ready).getLanguage()})()}getDirection(){var E=this;return B(function*(){return(yield E._ready).getDirection()})()}get(E,A=null,F=(0,q.getL10nFallback)(E,A)){var X=this;return B(function*(){return(yield X._ready).get(E,A,F)})()}translate(E){var A=this;return B(function*(){return(yield A._ready).translate(E)})()}}},()=>{document.webL10n=function(se,$,ae){var q={},fe="",z="textContent",Z="",E={},A="loading";function S(I,b,k){b=b||function(ne){},k=k||function(){};var L=new XMLHttpRequest;L.open("GET",I,!0),L.overrideMimeType&&L.overrideMimeType("text/plain; charset=utf-8"),L.onreadystatechange=function(){4==L.readyState&&(200==L.status||0===L.status?b(L.responseText):k())},L.onerror=k,L.ontimeout=k;try{L.send(null)}catch{k()}}function W(I,b){I&&(I=I.toLowerCase()),b=b||function(){},function le(){q={},fe="",Z=""}(),Z=I;var k=function X(){return $.querySelectorAll('link[type="application/l10n"]')}(),L=k.length;if(0!==L){var be,He=0;be=function(){++He>=L&&(b(),A="complete")};for(var Ue=0;Ue<L;Ue++)new ke(k[Ue]).load(I,be)}else{var Q=function N(){var I=$.querySelector('script[type="application/l10n"]');return I?JSON.parse(I.innerHTML):null}();if(Q&&Q.locales&&Q.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(q=Q.locales[I])){var ne=Q.default_locale.toLowerCase();for(var U in Q.locales){if((U=U.toLowerCase())===I){q=Q.locales[I];break}U===ne&&(q=Q.locales[ne])}}b()}else console.log("no resource to load, early way out");A="complete"}function ke(qe){var Qe=qe.href;this.load=function(mt,Tt){!function oe(I,b,k,L){var Q=I.replace(/[^\/]*$/,"")||"./";function ne(be){return be.lastIndexOf("\\")<0?be:be.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}S(I,function(be){fe+=be,function U(be,He){var ke={},Ue=/^\s*|\s*$/,Be=/^\s*#|^\s*$/,qe=/^\s*\[(.*)\]\s*$/,Qe=/^\s*@import\s+url\((.*)\)\s*$/i,mt=/^([^=\s]*)\s*=\s*(.+)$/;function Tt(yt,ct,Rt){var Ot=yt.replace(Ue,"").split(/[\r\n]+/),At="*",nt=b.split("-",1)[0],dt=!1,kt="";!function Ke(){for(;;){if(!Ot.length)return void Rt();var me=Ot.shift();if(!Be.test(me)){if(ct){if(kt=qe.exec(me)){At=kt[1].toLowerCase(),dt="*"!==At&&At!==b&&At!==nt;continue}if(dt)continue;if(kt=Qe.exec(me))return void lt(Q+kt[1],Ke)}var xe=me.match(mt);xe&&3==xe.length&&(ke[xe[1]]=ne(xe[2]))}}}()}function lt(yt,ct){S(yt,function(Rt){Tt(Rt,!1,ct)},function(){console.warn(yt+" not found."),ct()})}Tt(be,!0,function(){He(ke)})}(be,function(He){for(var ke in He){var Ue,Be,qe=ke.lastIndexOf(".");qe>0?(Ue=ke.substring(0,qe),Be=ke.substring(qe+1)):(Ue=ke,Be=z),q[Ue]||(q[Ue]={}),q[Ue][Be]=He[ke]}k&&k()})},L)}(Qe,mt,Tt,function(){console.warn(Qe+" not found."),console.warn('"'+mt+'" resource not found'),Z="",Tt()})}}}function ye(I,b,k){var L=q[I];if(!L){if(console.warn("#"+I+" is undefined."),!k)return null;L=k}var Q={};for(var ne in L){var U=L[ne];U=Ve(U=Re(U,b,I,ne),b,I),Q[ne]=U}return Q}function Re(I,b,k,L){var ne=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(I);if(!ne||!ne.length)return I;var He,U=ne[1],be=ne[2];return b&&be in b?He=b[be]:be in q&&(He=q[be]),U in E&&(I=(0,E[U])(I,He,k,L)),I}function Ve(I,b,k){return I.replace(/\{\{\s*(.+?)\s*\}\}/g,function(Q,ne){return b&&ne in b?b[ne]:ne in q?q[ne]:(console.log("argument {{"+ne+"}} for #"+k+" is undefined."),Q)})}function Xe(I){var b=function j(I){if(!I)return{};var b=I.getAttribute("data-l10n-id"),k=I.getAttribute("data-l10n-args"),L={};if(k)try{L=JSON.parse(k)}catch{console.warn("could not parse arguments for #"+b)}return{id:b,args:L}}(I);if(b.id){var k=ye(b.id,b.args);if(!k)return void console.warn("#"+b.id+" is undefined.");if(k[z]){if(0===function it(I){if(I.children)return I.children.length;if(typeof I.childElementCount<"u")return I.childElementCount;for(var b=0,k=0;k<I.childNodes.length;k++)b+=1===I.nodeType?1:0;return b}(I))I[z]=k[z];else{for(var L=I.childNodes,Q=!1,ne=0,U=L.length;ne<U;ne++)3===L[ne].nodeType&&/\S/.test(L[ne].nodeValue)&&(Q?L[ne].nodeValue="":(L[ne].nodeValue=k[z],Q=!0));if(!Q){var be=$.createTextNode(k[z]);I.insertBefore(be,I.firstChild)}}delete k[z]}for(var He in k)I[He]=k[He]}}return E.plural=function(I,b,k,L){var Q=parseFloat(b);if(isNaN(Q)||L!=z)return I;E._pluralRules||(E._pluralRules=function ge(I){function k(U,be){return-1!==be.indexOf(U)}function L(U,be,He){return be<=U&&U<=He}var Q={0:function(U){return"other"},1:function(U){return L(U%100,3,10)?"few":0===U?"zero":L(U%100,11,99)?"many":2==U?"two":1==U?"one":"other"},2:function(U){return 0!==U&&U%10==0?"many":2==U?"two":1==U?"one":"other"},3:function(U){return 1==U?"one":"other"},4:function(U){return L(U,0,1)?"one":"other"},5:function(U){return L(U,0,2)&&2!=U?"one":"other"},6:function(U){return 0===U?"zero":U%10==1&&U%100!=11?"one":"other"},7:function(U){return 2==U?"two":1==U?"one":"other"},8:function(U){return L(U,3,6)?"few":L(U,7,10)?"many":2==U?"two":1==U?"one":"other"},9:function(U){return 0===U||1!=U&&L(U%100,1,19)?"few":1==U?"one":"other"},10:function(U){return L(U%10,2,9)&&!L(U%100,11,19)?"few":U%10!=1||L(U%100,11,19)?"other":"one"},11:function(U){return L(U%10,2,4)&&!L(U%100,12,14)?"few":U%10==0||L(U%10,5,9)||L(U%100,11,14)?"many":U%10==1&&U%100!=11?"one":"other"},12:function(U){return L(U,2,4)?"few":1==U?"one":"other"},13:function(U){return L(U%10,2,4)&&!L(U%100,12,14)?"few":1!=U&&L(U%10,0,1)||L(U%10,5,9)||L(U%100,12,14)?"many":1==U?"one":"other"},14:function(U){return L(U%100,3,4)?"few":U%100==2?"two":U%100==1?"one":"other"},15:function(U){return 0===U||L(U%100,2,10)?"few":L(U%100,11,19)?"many":1==U?"one":"other"},16:function(U){return U%10==1&&11!=U?"one":"other"},17:function(U){return 3==U?"few":0===U?"zero":6==U?"many":2==U?"two":1==U?"one":"other"},18:function(U){return 0===U?"zero":L(U,0,2)&&0!==U&&2!=U?"one":"other"},19:function(U){return L(U,2,10)?"few":L(U,0,1)?"one":"other"},20:function(U){return!L(U%10,3,4)&&U%10!=9||L(U%100,10,19)||L(U%100,70,79)||L(U%100,90,99)?U%1e6==0&&0!==U?"many":U%10!=2||k(U%100,[12,72,92])?U%10!=1||k(U%100,[11,71,91])?"other":"one":"two":"few"},21:function(U){return 0===U?"zero":1==U?"one":"other"},22:function(U){return L(U,0,1)||L(U,11,99)?"one":"other"},23:function(U){return L(U%10,1,2)||U%20==0?"one":"other"},24:function(U){return L(U,3,10)||L(U,13,19)?"few":k(U,[2,12])?"two":k(U,[1,11])?"one":"other"}},ne={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[I.replace(/-.*$/,"")];return ne in Q?Q[ne]:(console.warn("plural form unknown for ["+I+"]"),function(){return"other"})}(Z));var ne="["+E._pluralRules(Q)+"]";return 0===Q&&k+"[zero]"in q?I=q[k+"[zero]"][L]:1==Q&&k+"[one]"in q?I=q[k+"[one]"][L]:2==Q&&k+"[two]"in q?I=q[k+"[two]"][L]:k+ne in q?I=q[k+ne][L]:k+"[other]"in q&&(I=q[k+"[other]"][L]),I},{get:function(I,b,k){var ne,L=I.lastIndexOf("."),Q=z;L>0&&(Q=I.substring(L+1),I=I.substring(0,L)),k&&((ne={})[Q]=k);var U=ye(I,b,ne);return U&&Q in U?U[Q]:"{{"+I+"}}"},getData:function(){return q},getText:function(){return fe},getLanguage:function(){return Z},setLanguage:function(I,b){W(I,function(){b&&b()})},getDirection:function(){var b=Z.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(b)>=0?"rtl":"ltr"},translate:function ve(I){for(var b=function J(I){return I?I.querySelectorAll("*[data-l10n-id]"):[]}(I=I||$.documentElement),k=b.length,L=0;L<k;L++)Xe(b[L]);Xe(I)},getReadyState:function(){return A},ready:function(I){I&&("complete"==A||"interactive"==A?se.setTimeout(function(){I()}):$.addEventListener&&$.addEventListener("localized",function b(){$.removeEventListener("localized",b),I()}))}}}(window,document)},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFindController=$.FindState=void 0;var q=ae(6),fe=ae(3),z=ae(21);const Z={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};$.FindState=Z;const X={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},N=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),J=[...N.values()].map(Ze=>String.fromCharCode(Ze)).join(""),j=/\p{M}+/gu,S=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,oe=/([^\p{M}])\p{M}*$/u,W=/^\p{M}*([^\p{M}])/u;let le=null;function ge(Ze){if(!le){const rn=Object.keys(X).join("");le=new RegExp(`([${rn}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const Ee=[];let Te;for(;null!==(Te=j.exec(Ze));)Ee.push([Te[0].length,Te.index]);let De=Ze.normalize("NFD");const Ae=[[0,0]];let Pe=0,We=0,at=0,Dt=0,en=!1;return De=De.replace(le,(rn,On,nn,sn,wn,Sn)=>{if(Sn-=at,On){const Rn=X[rn],ri=Rn.length;for(let xt=1;xt<ri;xt++)Ae.push([Sn-We+xt,We-xt]);return We-=ri-1,Rn}if(nn){const Rn=nn.endsWith("\n"),ri=Rn?nn.length-2:nn.length;en=!0;let xt=ri;Sn+Dt===Ee[Pe]?.[1]&&(xt-=Ee[Pe][0],++Pe);for(let on=1;on<xt+1;on++)Ae.push([Sn-1-We+on,We-on]);return We-=xt,at+=xt,Rn?(Ae.push([(Sn+=ri-1)-We+1,1+We]),We+=1,at+=1,Dt+=1,nn.slice(0,ri)):nn}return sn?(Ae.push([Sn-We+1,1+We]),We+=1,at+=1,Dt+=1,sn.charAt(0)):(Ae.push([Sn-We+1,We-1]),We-=1,at+=1,Dt+=1," ")}),Ae.push([De.length,We]),[De,Ae,en]}function ye(Ze,Ee,Te){if(!Ze)return[Ee,Te];const De=Ee,Ae=Ee+Te;let Pe=(0,q.binarySearchFirstItem)(Ze,at=>at[0]>=De);Ze[Pe][0]>De&&--Pe;let We=(0,q.binarySearchFirstItem)(Ze,at=>at[0]>=Ae,Pe);return Ze[We][0]>Ae&&--We,[De+Ze[Pe][1],Te+Ze[We][1]-Ze[Pe][1]]}var Re=new WeakSet,Ve=new WeakSet,Xe=new WeakMap,it=new WeakSet,ve=new WeakSet,I=new WeakSet,b=new WeakSet,k=new WeakSet,L=new WeakSet,Q=new WeakSet,ne=new WeakSet,U=new WeakSet,be=new WeakSet,He=new WeakSet,ke=new WeakSet,Ue=new WeakSet,Be=new WeakSet,qe=new WeakSet,Qe=new WeakSet,mt=new WeakSet;function lt(Ze){if(!Ze)return;const Ee=this._pdfDocument,{type:Te}=Ze;(null===this._state||ie(this,it,Rt).call(this,Ze))&&(this._dirtyMatch=!0),this._state=Ze,"highlightallchange"!==Te&&ie(this,mt,Yt).call(this,Z.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Ee&&this._pdfDocument!==Ee)return;ie(this,L,kt).call(this);const De=!this._highlightMatches,Ae=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Te?this._dirtyMatch?ie(this,U,xe).call(this):"again"===Te?(ie(this,U,xe).call(this),De&&this._state.highlightAll&&ie(this,ne,me).call(this)):"highlightallchange"===Te?(Ae?ie(this,U,xe).call(this):this._highlightMatches=!0,ie(this,ne,me).call(this)):ie(this,U,xe).call(this):this._findTimeout=setTimeout(()=>{ie(this,U,xe).call(this),this._findTimeout=null},250)})}function yt(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,fe.createPromiseCapability)()}function ct(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=ge(this._state.query)),this._normalizedQuery}function Rt(Ze){if(Ze.query!==this._state.query)return!0;switch(Ze.type){case"again":const Ee=this._selected.pageIdx+1,Te=this._linkService;return Ee>=1&&Ee<=Te.pagesCount&&Ee!==Te.page&&!Te.isPageVisible(Ee);case"highlightallchange":return!1}return!0}function Ot(Ze,Ee,Te){let De=Ze.slice(0,Ee).match(oe);if(De){const Ae=Ze.charCodeAt(Ee),Pe=De[1].charCodeAt(0);if((0,z.getCharacterType)(Ae)===(0,z.getCharacterType)(Pe))return!1}if(De=Ze.slice(Ee+Te).match(W),De){const Ae=Ze.charCodeAt(Ee+Te-1),Pe=De[1].charCodeAt(0);if((0,z.getCharacterType)(Ae)===(0,z.getCharacterType)(Pe))return!1}return!0}function At(Ze,Ee,Te,De){const Ae=[],Pe=[],We=this._pageDiffs[Te];let at;for(;null!==(at=Ze.exec(De));){if(Ee&&!ie(this,ve,Ot).call(this,De,at.index,at[0].length))continue;const[Dt,en]=ye(We,at.index,at[0].length);en&&(Ae.push(Dt),Pe.push(en))}this._pageMatches[Te]=Ae,this._pageMatchesLength[Te]=Pe}function nt(Ze,Ee){const{matchDiacritics:Te}=this._state;let De=!1;return(Ze=Ze.replace(S,(Pe,We,at,Dt,en,rn)=>We?`[ ]*\\${We}[ ]*`:at?`[ ]*${at}[ ]*`:Dt?"[ ]+":Te?en||rn:en?N.has(en.charCodeAt(0))?en:"":Ee?(De=!0,`${rn}\\p{M}*`):rn)).endsWith("[ ]*")&&(Ze=Ze.slice(0,Ze.length-"[ ]*".length)),Te&&Ee&&(De=!0,Ze=`${Ze}(?=[${J}]|[^\\p{M}]|$)`),[De,Ze]}function dt(Ze){let Ee=re(this,Xe);if(0===Ee.length)return;const{caseSensitive:Te,entireWord:De,phraseSearch:Ae}=this._state,Pe=this._pageContents[Ze],We=this._hasDiacritics[Ze];let at=!1;if(Ae)[at,Ee]=ie(this,b,nt).call(this,Ee,We);else{const rn=Ee.match(/\S+/g);rn&&(Ee=rn.sort().reverse().map(On=>{const[nn,sn]=ie(this,b,nt).call(this,On,We);return at||(at=nn),`(${sn})`}).join("|"))}Ee=new RegExp(Ee,`g${at?"u":""}${Te?"":"i"}`),ie(this,I,At).call(this,Ee,De,Ze,Pe),this._state.highlightAll&&ie(this,Q,Ke).call(this,Ze),this._resumePageIdx===Ze&&(this._resumePageIdx=null,ie(this,He,wt).call(this));const en=this._pageMatches[Ze].length;en>0&&(this._matchesCountTotal+=en,ie(this,Qe,bt).call(this))}function kt(){if(this._extractTextPromises.length>0)return;let Ze=Promise.resolve();for(let Ee=0,Te=this._linkService.pagesCount;Ee<Te;Ee++){const De=(0,fe.createPromiseCapability)();this._extractTextPromises[Ee]=De.promise,Ze=Ze.then(()=>this._pdfDocument.getPage(Ee+1).then(Ae=>Ae.getTextContent()).then(Ae=>{const Pe=[];for(const We of Ae.items)Pe.push(We.str),We.hasEOL&&Pe.push("\n");[this._pageContents[Ee],this._pageDiffs[Ee],this._hasDiacritics[Ee]]=ge(Pe.join("")),De.resolve()},Ae=>{console.error(`Unable to get text content for page ${Ee+1}`,Ae),this._pageContents[Ee]="",this._pageDiffs[Ee]=null,this._hasDiacritics[Ee]=!1,De.resolve()}))}}function Ke(Ze){this._scrollMatches&&this._selected.pageIdx===Ze&&(this._linkService.page=Ze+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Ze})}function me(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function xe(){const Ze=this._state.findPrevious,Ee=this._linkService.page-1,Te=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Ee,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,ie(this,ne,me).call(this);for(let Ae=0;Ae<Te;Ae++)this._pendingFindMatches.has(Ae)||(this._pendingFindMatches.add(Ae),this._extractTextPromises[Ae].then(()=>{this._pendingFindMatches.delete(Ae),ie(this,k,dt).call(this,Ae)}))}if(""===re(this,Xe))return void ie(this,mt,Yt).call(this,Z.FOUND);if(this._resumePageIdx)return;const De=this._offset;if(this._pagesToSearch=Te,null!==De.matchIdx){const Ae=this._pageMatches[De.pageIdx].length;if(!Ze&&De.matchIdx+1<Ae||Ze&&De.matchIdx>0)return De.matchIdx=Ze?De.matchIdx-1:De.matchIdx+1,void ie(this,Ue,we).call(this,!0);ie(this,ke,Ne).call(this,Ze)}ie(this,He,wt).call(this)}function ft(Ze){const Ee=this._offset,Te=Ze.length,De=this._state.findPrevious;return Te?(Ee.matchIdx=De?Te-1:0,ie(this,Ue,we).call(this,!0),!0):(ie(this,ke,Ne).call(this,De),!!(Ee.wrapped&&(Ee.matchIdx=null,this._pagesToSearch<0))&&(ie(this,Ue,we).call(this,!1),!0))}function wt(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let Ze=null;do{const Ee=this._offset.pageIdx;if(Ze=this._pageMatches[Ee],!Ze){this._resumePageIdx=Ee;break}}while(!ie(this,be,ft).call(this,Ze))}function Ne(Ze){const Ee=this._offset,Te=this._linkService.pagesCount;Ee.pageIdx=Ze?Ee.pageIdx-1:Ee.pageIdx+1,Ee.matchIdx=null,this._pagesToSearch--,(Ee.pageIdx>=Te||Ee.pageIdx<0)&&(Ee.pageIdx=Ze?Te-1:0,Ee.wrapped=!0)}function we(Ze=!1){let Ee=Z.NOT_FOUND;const Te=this._offset.wrapped;if(this._offset.wrapped=!1,Ze){const De=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Ee=Te?Z.WRAPPED:Z.FOUND,-1!==De&&De!==this._selected.pageIdx&&ie(this,Q,Ke).call(this,De)}ie(this,mt,Yt).call(this,Ee,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,ie(this,Q,Ke).call(this,this._selected.pageIdx))}function Fe(Ze){const Ee=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Ee&&this._pdfDocument!==Ee||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),ie(this,mt,Yt).call(this,Z.FOUND),this._highlightMatches=!1,ie(this,ne,me).call(this))})}function rt(){const{pageIdx:Ze,matchIdx:Ee}=this._selected;let Te=0,De=this._matchesCountTotal;if(-1!==Ee){for(let Ae=0;Ae<Ze;Ae++)Te+=this._pageMatches[Ae]?.length||0;Te+=Ee+1}return(Te<1||Te>De)&&(Te=De=0),{current:Te,total:De}}function bt(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:ie(this,qe,rt).call(this)})}function Yt(Ze,Ee=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Ze,previous:Ee,matchesCount:ie(this,qe,rt).call(this),rawQuery:this._state?.query??null})}$.PDFFindController=class Tt{constructor({linkService:Ee,eventBus:Te}){te(this,mt),te(this,Qe),te(this,qe),te(this,Be),te(this,Ue),te(this,ke),te(this,He),te(this,be),te(this,U),te(this,ne),te(this,Q),te(this,L),te(this,k),te(this,b),te(this,I),te(this,ve),te(this,it),O(this,Xe,{get:ct,set:void 0}),te(this,Ve),te(this,Re),this._linkService=Ee,this._eventBus=Te,ie(this,Ve,yt).call(this),Te._on("find",ie(this,Re,lt).bind(this)),Te._on("findbarclose",ie(this,Be,Fe).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(Ee){this._pdfDocument&&ie(this,Ve,yt).call(this),Ee&&(this._pdfDocument=Ee,this._firstPageCapability.resolve())}scrollMatchIntoView({element:Ee=null,selectedLeft:Te=0,pageIndex:De=-1,matchIndex:Ae=-1}){this._scrollMatches&&Ee&&-1!==Ae&&Ae===this._selected.matchIdx&&-1!==De&&De===this._selected.pageIdx&&(this._scrollMatches=!1,(0,q.scrollIntoView)(Ee,{top:-50,left:Te+-400},!0))}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.CharacterType=void 0,$.getCharacterType=function j(S){return function q(S){return S<11904}(S)?function fe(S){return 0==(65408&S)}(S)?function E(S){return 32===S||9===S||13===S||10===S}(S)?ae.SPACE:function z(S){return S>=97&&S<=122||S>=65&&S<=90}(S)||function Z(S){return S>=48&&S<=57}(S)||95===S?ae.ALPHA_LETTER:ae.PUNCT:function J(S){return 3584==(65408&S)}(S)?ae.THAI_LETTER:160===S?ae.SPACE:ae.ALPHA_LETTER:function A(S){return S>=13312&&S<=40959||S>=63744&&S<=64255}(S)?ae.HAN_LETTER:function F(S){return S>=12448&&S<=12543}(S)?ae.KATAKANA_LETTER:function X(S){return S>=12352&&S<=12447}(S)?ae.HIRAGANA_LETTER:function N(S){return S>=65376&&S<=65439}(S)?ae.HALFWIDTH_KATAKANA_LETTER:ae.ALPHA_LETTER};const ae={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};$.CharacterType=ae},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFHistory=void 0,$.isDestArraysEqual=N,$.isDestHashesEqual=X;var q=ae(6),fe=ae(17);function A(){return document.location.hash}function X(J,j){return"string"==typeof J&&"string"==typeof j&&(J===j||(0,q.parseQueryString)(J).get("nameddest")===j)}function N(J,j){function S(oe,W){if(typeof oe!=typeof W||Array.isArray(oe)||Array.isArray(W))return!1;if(null!==oe&&"object"==typeof oe&&null!==W){if(Object.keys(oe).length!==Object.keys(W).length)return!1;for(const le in oe)if(!S(oe[le],W[le]))return!1;return!0}return oe===W||Number.isNaN(oe)&&Number.isNaN(W)}if(!Array.isArray(J)||!Array.isArray(j)||J.length!==j.length)return!1;for(let oe=0,W=J.length;oe<W;oe++)if(!S(J[oe],j[oe]))return!1;return!0}$.PDFHistory=class F{constructor({linkService:j,eventBus:S}){this.linkService=j,this.eventBus=S,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",oe=>{this._isPagesLoaded=!!oe.pagesCount},{once:!0})})}initialize({fingerprint:j,resetHistory:S=!1,updateUrl:oe=!1}){if(!j||"string"!=typeof j)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const W=""!==this._fingerprint&&this._fingerprint!==j;this._fingerprint=j,this._updateUrl=!0===oe,this._initialized=!0,this._bindEvents();const le=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=A(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(le,!0)||S){const{hash:ye,page:Re,rotation:Ve}=this._parseCurrentHash(!0);return!ye||W||S?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:ye,page:Re,rotation:Ve},!0)}const ge=le.destination;this._updateInternalState(ge,le.uid,!0),void 0!==ge.rotation&&(this._initialRotation=ge.rotation),ge.dest?(this._initialBookmark=JSON.stringify(ge.dest),this._destination.page=null):ge.hash?this._initialBookmark=ge.hash:ge.page&&(this._initialBookmark=`page=${ge.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:j=null,explicitDest:S,pageNumber:oe}){if(!this._initialized)return;if(j&&"string"!=typeof j)return void console.error(`PDFHistory.push: "${j}" is not a valid namedDest parameter.`);if(!Array.isArray(S))return void console.error(`PDFHistory.push: "${S}" is not a valid explicitDest parameter.`);if(!this._isValidPage(oe)&&(null!==oe||this._destination))return void console.error(`PDFHistory.push: "${oe}" is not a valid pageNumber parameter.`);const W=j||JSON.stringify(S);if(!W)return;let le=!1;if(this._destination&&(X(this._destination.hash,W)||N(this._destination.dest,S))){if(this._destination.page)return;le=!0}this._popStateInProgress&&!le||(this._pushOrReplaceState({dest:S,hash:W,page:oe,rotation:this.linkService.rotation},le),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(j){if(this._initialized){if(!this._isValidPage(j))return void console.error(`PDFHistory.pushPage: "${j}" is not a valid page number.`);this._destination?.page!==j&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${j}`,page:j,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const j=window.history.state;this._isValidState(j)&&j.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const j=window.history.state;this._isValidState(j)&&j.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(j,S=!1){const oe=S||!this._destination,W={fingerprint:this._fingerprint,uid:oe?this._uid:this._uid+1,destination:j};let le;if(this._updateInternalState(j,W.uid),this._updateUrl&&j?.hash){const ge=document.location.href.split("#")[0];ge.startsWith("file://")||(le=`${ge}#${j.hash}`)}oe?window.history.replaceState(W,"",le):window.history.pushState(W,"",le)}_tryPushCurrentPosition(j=!1){if(!this._position)return;let S=this._position;if(j&&(S=Object.assign(Object.create(null),this._position),S.temporary=!0),!this._destination)return void this._pushOrReplaceState(S);if(this._destination.temporary)return void this._pushOrReplaceState(S,!0);if(this._destination.hash===S.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let oe=!1;if(this._destination.page>=S.first&&this._destination.page<=S.page){if(void 0!==this._destination.dest||!this._destination.first)return;oe=!0}this._pushOrReplaceState(S,oe)}_isValidPage(j){return Number.isInteger(j)&&j>0&&j<=this.linkService.pagesCount}_isValidState(j,S=!1){if(!j)return!1;if(j.fingerprint!==this._fingerprint){if(!S)return!1;{if("string"!=typeof j.fingerprint||j.fingerprint.length!==this._fingerprint.length)return!1;const[oe]=performance.getEntriesByType("navigation");if("reload"!==oe?.type)return!1}}return!(!Number.isInteger(j.uid)||j.uid<0||null===j.destination||"object"!=typeof j.destination)}_updateInternalState(j,S,oe=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),oe&&j?.temporary&&delete j.temporary,this._destination=j,this._uid=S,this._maxUid=Math.max(this._maxUid,S),this._numPositionUpdates=0}_parseCurrentHash(j=!1){const S=unescape(A()).substring(1),oe=(0,q.parseQueryString)(S),W=oe.get("nameddest")||"";let le=0|oe.get("page");return(!this._isValidPage(le)||j&&W.length>0)&&(le=null),{hash:S,page:le,rotation:this.linkService.rotation}}_updateViewarea({location:j}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:j.pdfOpenParams.substring(1),page:this.linkService.page,first:j.pageNumber,rotation:j.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:j}){const S=A(),oe=this._currentHash!==S;if(this._currentHash=S,!j){this._uid++;const{hash:le,page:ge,rotation:ye}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:le,page:ge,rotation:ye},!0)}if(!this._isValidState(j))return;this._popStateInProgress=!0,oe&&(this._blockHashChange++,(0,fe.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const W=j.destination;this._updateInternalState(W,j.uid,!0),(0,q.isValidRotation)(W.rotation)&&(this.linkService.rotation=W.rotation),W.dest?this.linkService.goToDestination(W.dest):W.hash?this.linkService.setHash(W.hash):W.page&&(this.linkService.page=W.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFScriptingManager=void 0;var q=ae(6),fe=ae(3);$.PDFScriptingManager=class z{constructor({eventBus:E,sandboxBundleSrc:A=null,scriptingFactory:F=null,docPropertiesLookup:X=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=E,this._sandboxBundleSrc=A,this._scriptingFactory=F,this._docPropertiesLookup=X,this._scriptingFactory||window.addEventListener("updatefromsandbox",N=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:N.detail})})}setViewer(E){this._pdfViewer=E}setDocument(E){var A=this;return B(function*(){if(A._pdfDocument&&(yield A._destroyScripting()),A._pdfDocument=E,!E)return;const[F,X,N]=yield Promise.all([E.getFieldObjects(),E.getCalculationOrderIds(),E.getJSActions()]);if(F||N){if(E===A._pdfDocument){try{A._scripting=A._createScripting()}catch(J){return console.error(`PDFScriptingManager.setDocument: "${J?.message}".`),void(yield A._destroyScripting())}A._internalEvents.set("updatefromsandbox",J=>{J?.source===window&&A._updateFromSandbox(J.detail)}),A._internalEvents.set("dispatcheventinsandbox",J=>{A._scripting?.dispatchEventInSandbox(J.detail)}),A._internalEvents.set("pagechanging",({pageNumber:J,previous:j})=>{J!==j&&(A._dispatchPageClose(j),A._dispatchPageOpen(J))}),A._internalEvents.set("pagerendered",({pageNumber:J})=>{!A._pageOpenPending.has(J)||J===A._pdfViewer.currentPageNumber&&A._dispatchPageOpen(J)}),A._internalEvents.set("pagesdestroy",function(){var J=B(function*(j){yield A._dispatchPageClose(A._pdfViewer.currentPageNumber),yield A._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),A._closeCapability?.resolve()});return function(j){return J.apply(this,arguments)}}()),A._domEvents.set("mousedown",J=>{A._mouseState.isDown=!0}),A._domEvents.set("mouseup",J=>{A._mouseState.isDown=!1});for(const[J,j]of A._internalEvents)A._eventBus._on(J,j);for(const[J,j]of A._domEvents)window.addEventListener(J,j,!0);try{const J=yield A._getDocProperties();if(E!==A._pdfDocument)return;yield A._scripting.createSandbox({objects:F,calculationOrder:X,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...J,actions:N}}),A._eventBus.dispatch("sandboxcreated",{source:A})}catch(J){return console.error(`PDFScriptingManager.setDocument: "${J?.message}".`),void(yield A._destroyScripting())}yield A._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield A._dispatchPageOpen(A._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{E===A._pdfDocument&&(A._ready=!0)})}}else yield A._destroyScripting()})()}dispatchWillSave(E){var A=this;return B(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(E){var A=this;return B(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(E){var A=this;return B(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(E){var A=this;return B(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,fe.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,fe.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,fe.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,fe.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(E){var A=this;return B(function*(){const F=A._pdfViewer.isInPresentationMode||A._pdfViewer.isChangingPresentationMode,{id:X,siblings:N,command:J,value:j}=E;if(!X){switch(J){case"clear":console.clear();break;case"error":console.error(j);break;case"layout":if(F)return;const oe=(0,q.apiPageLayoutToViewerModes)(j);A._pdfViewer.spreadMode=oe.spreadMode;break;case"page-num":A._pdfViewer.currentPageNumber=j+1;break;case"print":yield A._pdfViewer.pagesPromise,A._eventBus.dispatch("print",{source:A});break;case"println":console.log(j);break;case"zoom":if(F)return;A._pdfViewer.currentScaleValue=j;break;case"SaveAs":A._eventBus.dispatch("save",{source:A});break;case"FirstPage":A._pdfViewer.currentPageNumber=1;break;case"LastPage":A._pdfViewer.currentPageNumber=A._pdfViewer.pagesCount;break;case"NextPage":A._pdfViewer.nextPage();break;case"PrevPage":A._pdfViewer.previousPage();break;case"ZoomViewIn":if(F)return;A._pdfViewer.increaseScale();break;case"ZoomViewOut":if(F)return;A._pdfViewer.decreaseScale()}return}if(F&&E.focus)return;delete E.id,delete E.siblings;const S=N?[X,...N]:[X];for(const oe of S){const W=document.getElementById(oe);W?W.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:E})):A._pdfDocument?.annotationStorage.setValue(oe,E)}})()}_dispatchPageOpen(E,A=!1){var F=this;return B(function*(){const X=F._pdfDocument,N=F._visitedPages;if(A&&(F._closeCapability=(0,fe.createPromiseCapability)()),!F._closeCapability)return;const J=F._pdfViewer.getPageView(E-1);if(J?.renderingState!==q.RenderingStates.FINISHED)return void F._pageOpenPending.add(E);F._pageOpenPending.delete(E);const j=B(function*(){const S=yield N.has(E)?null:J.pdfPage?.getJSActions();X===F._pdfDocument&&(yield F._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:E,actions:S}))})();N.set(E,j)})()}_dispatchPageClose(E){var A=this;return B(function*(){const F=A._pdfDocument,X=A._visitedPages;if(!A._closeCapability||A._pageOpenPending.has(E))return;const N=X.get(E);!N||(X.set(E,null),yield N,F===A._pdfDocument&&(yield A._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:E})))})()}_getDocProperties(){var E=this;return B(function*(){if(E._docPropertiesLookup)return E._docPropertiesLookup(E._pdfDocument);const{docPropertiesLookup:A}=ae(24);return A(E._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,fe.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:E}=ae(24);return new E(this._sandboxBundleSrc)}_destroyScripting(){var E=this;return B(function*(){if(!E._scripting)return E._pdfDocument=null,void E._destroyCapability?.resolve();E._closeCapability&&(yield Promise.race([E._closeCapability.promise,new Promise(A=>{setTimeout(A,1e3)})]).catch(A=>{}),E._closeCapability=null),E._pdfDocument=null;try{yield E._scripting.destroySandbox()}catch{}for(const[A,F]of E._internalEvents)E._eventBus._off(A,F);E._internalEvents.clear();for(const[A,F]of E._domEvents)window.removeEventListener(A,F,!0);E._domEvents.clear(),E._pageOpenPending.clear(),E._visitedPages.clear(),E._scripting=null,delete E._mouseState.isDown,E._ready=!1,E._destroyCapability?.resolve()})()}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GenericScripting=void 0,$.docPropertiesLookup=function fe(E){return z.apply(this,arguments)};var q=ae(3);function z(){return(z=B(function*(E){const F="".split("#")[0];let{info:X,metadata:N,contentDispositionFilename:J,contentLength:j}=yield E.getMetadata();if(!j){const{length:S}=yield E.getDownloadInfo();j=S}return{...X,baseURL:F,filesize:j,filename:J||(0,q.getPdfFilenameFromUrl)(""),metadata:N?.getRaw(),authors:N?.get("dc:creator"),numPages:E.numPages,URL:""}})).apply(this,arguments)}$.GenericScripting=class Z{constructor(A){this._ready=(0,q.loadScript)(A,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(A){var F=this;return B(function*(){(yield F._ready).create(A)})()}dispatchEventInSandbox(A){var F=this;return B(function*(){const X=yield F._ready;setTimeout(()=>X.dispatchEvent(A),0)})()}destroySandbox(){var A=this;return B(function*(){(yield A._ready).nukeSandbox()})()}}}],he={};function ee(se){var $=he[se];if(void 0!==$)return $.exports;var ae=he[se]={exports:{}};return ce[se](ae,ae.exports,ee),ae.exports}var Y={};return(()=>{var se=Y;Object.defineProperty(se,"__esModule",{value:!0}),Object.defineProperty(se,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return z.AnnotationLayerBuilder}}),Object.defineProperty(se,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return $.DefaultAnnotationLayerFactory}}),Object.defineProperty(se,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return $.DefaultStructTreeLayerFactory}}),Object.defineProperty(se,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return $.DefaultTextLayerFactory}}),Object.defineProperty(se,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return $.DefaultXfaLayerFactory}}),Object.defineProperty(se,"DownloadManager",{enumerable:!0,get:function(){return Z.DownloadManager}}),Object.defineProperty(se,"EventBus",{enumerable:!0,get:function(){return E.EventBus}}),Object.defineProperty(se,"GenericL10n",{enumerable:!0,get:function(){return A.GenericL10n}}),Object.defineProperty(se,"LinkTarget",{enumerable:!0,get:function(){return ae.LinkTarget}}),Object.defineProperty(se,"NullL10n",{enumerable:!0,get:function(){return F.NullL10n}}),Object.defineProperty(se,"PDFFindController",{enumerable:!0,get:function(){return X.PDFFindController}}),Object.defineProperty(se,"PDFHistory",{enumerable:!0,get:function(){return N.PDFHistory}}),Object.defineProperty(se,"PDFLinkService",{enumerable:!0,get:function(){return ae.PDFLinkService}}),Object.defineProperty(se,"PDFPageView",{enumerable:!0,get:function(){return J.PDFPageView}}),Object.defineProperty(se,"PDFScriptingManager",{enumerable:!0,get:function(){return j.PDFScriptingManager}}),Object.defineProperty(se,"PDFSinglePageViewer",{enumerable:!0,get:function(){return fe.PDFSinglePageViewer}}),Object.defineProperty(se,"PDFViewer",{enumerable:!0,get:function(){return fe.PDFViewer}}),Object.defineProperty(se,"ProgressBar",{enumerable:!0,get:function(){return q.ProgressBar}}),Object.defineProperty(se,"SimpleLinkService",{enumerable:!0,get:function(){return ae.SimpleLinkService}}),Object.defineProperty(se,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return S.StructTreeLayerBuilder}}),Object.defineProperty(se,"TextLayerBuilder",{enumerable:!0,get:function(){return oe.TextLayerBuilder}}),Object.defineProperty(se,"XfaLayerBuilder",{enumerable:!0,get:function(){return W.XfaLayerBuilder}}),Object.defineProperty(se,"parseQueryString",{enumerable:!0,get:function(){return q.parseQueryString}});var $=ee(1),ae=ee(5),q=ee(6),fe=ee(10),z=ee(2),Z=ee(16),E=ee(17),A=ee(18),F=ee(4),X=ee(20),N=ee(22),J=ee(12),j=ee(23),S=ee(7),oe=ee(8),W=ee(9)})(),Y})(),Ie.exports=ee()},9751:(Ie,x,R)=>{"use strict";R.d(x,{y:()=>ce});var s=R(930),te=R(727),O=R(8822),pe=R(9635),ie=R(2416),re=R(576),B=R(2806);let ce=(()=>{class se{constructor(ae){ae&&(this._subscribe=ae)}lift(ae){const q=new se;return q.source=this,q.operator=ae,q}subscribe(ae,q,fe){const z=function Y(se){return se&&se instanceof s.Lv||function ee(se){return se&&(0,re.m)(se.next)&&(0,re.m)(se.error)&&(0,re.m)(se.complete)}(se)&&(0,te.Nn)(se)}(ae)?ae:new s.Hp(ae,q,fe);return(0,B.x)(()=>{const{operator:Z,source:E}=this;z.add(Z?Z.call(z,E):E?this._subscribe(z):this._trySubscribe(z))}),z}_trySubscribe(ae){try{return this._subscribe(ae)}catch(q){ae.error(q)}}forEach(ae,q){return new(q=he(q))((fe,z)=>{const Z=new s.Hp({next:E=>{try{ae(E)}catch(A){z(A),Z.unsubscribe()}},error:z,complete:fe});this.subscribe(Z)})}_subscribe(ae){var q;return null===(q=this.source)||void 0===q?void 0:q.subscribe(ae)}[O.L](){return this}pipe(...ae){return(0,pe.U)(ae)(this)}toPromise(ae){return new(ae=he(ae))((q,fe)=>{let z;this.subscribe(Z=>z=Z,Z=>fe(Z),()=>q(z))})}}return se.create=$=>new se($),se})();function he(se){var $;return null!==($=se??ie.v.Promise)&&void 0!==$?$:Promise}},7579:(Ie,x,R)=>{"use strict";R.d(x,{x:()=>B});var s=R(9751),te=R(727);const pe=(0,R(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=R(8737),re=R(2806);let B=(()=>{class he extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const se=new ce(this,this);return se.operator=Y,se}_throwIfClosed(){if(this.closed)throw new pe}next(Y){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(Y)}})}error(Y){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:se}=this;for(;se.length;)se.shift().error(Y)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:se,isStopped:$,observers:ae}=this;return se||$?te.Lc:(this.currentObservers=null,ae.push(Y),new te.w0(()=>{this.currentObservers=null,(0,ie.P)(ae,Y)}))}_checkFinalizedStatuses(Y){const{hasError:se,thrownError:$,isStopped:ae}=this;se?Y.error($):ae&&Y.complete()}asObservable(){const Y=new s.y;return Y.source=this,Y}}return he.create=(ee,Y)=>new ce(ee,Y),he})();class ce extends B{constructor(ee,Y){super(),this.destination=ee,this.source=Y}next(ee){var Y,se;null===(se=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===se||se.call(Y,ee)}error(ee){var Y,se;null===(se=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===se||se.call(Y,ee)}complete(){var ee,Y;null===(Y=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===Y||Y.call(ee)}_subscribe(ee){var Y,se;return null!==(se=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(ee))&&void 0!==se?se:te.Lc}}},930:(Ie,x,R)=>{"use strict";R.d(x,{Hp:()=>fe,Lv:()=>se});var s=R(576),te=R(727),O=R(2416),pe=R(7849),ie=R(5032);const re=he("C",void 0,void 0);function he(F,X,N){return{kind:F,value:X,error:N}}var ee=R(3410),Y=R(2806);class se extends te.w0{constructor(X){super(),this.isStopped=!1,X?(this.destination=X,(0,te.Nn)(X)&&X.add(this)):this.destination=A}static create(X,N,J){return new fe(X,N,J)}next(X){this.isStopped?E(function ce(F){return he("N",F,void 0)}(X),this):this._next(X)}error(X){this.isStopped?E(function B(F){return he("E",void 0,F)}(X),this):(this.isStopped=!0,this._error(X))}complete(){this.isStopped?E(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(X){this.destination.next(X)}_error(X){try{this.destination.error(X)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $=Function.prototype.bind;function ae(F,X){return $.call(F,X)}class q{constructor(X){this.partialObserver=X}next(X){const{partialObserver:N}=this;if(N.next)try{N.next(X)}catch(J){z(J)}}error(X){const{partialObserver:N}=this;if(N.error)try{N.error(X)}catch(J){z(J)}else z(X)}complete(){const{partialObserver:X}=this;if(X.complete)try{X.complete()}catch(N){z(N)}}}class fe extends se{constructor(X,N,J){let j;if(super(),(0,s.m)(X)||!X)j={next:X??void 0,error:N??void 0,complete:J??void 0};else{let S;this&&O.v.useDeprecatedNextContext?(S=Object.create(X),S.unsubscribe=()=>this.unsubscribe(),j={next:X.next&&ae(X.next,S),error:X.error&&ae(X.error,S),complete:X.complete&&ae(X.complete,S)}):j=X}this.destination=new q(j)}}function z(F){O.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(F):(0,pe.h)(F)}function E(F,X){const{onStoppedNotification:N}=O.v;N&&ee.z.setTimeout(()=>N(F,X))}const A={closed:!0,next:ie.Z,error:function Z(F){throw F},complete:ie.Z}},727:(Ie,x,R)=>{"use strict";R.d(x,{Lc:()=>re,w0:()=>ie,Nn:()=>B});var s=R(576);const O=(0,R(3888).d)(he=>function(Y){he(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((se,$)=>`${$+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var pe=R(8737);class ie{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const ae of Y)ae.remove(this);else Y.remove(this);const{initialTeardown:se}=this;if((0,s.m)(se))try{se()}catch(ae){ee=ae instanceof O?ae.errors:[ae]}const{_finalizers:$}=this;if($){this._finalizers=null;for(const ae of $)try{ce(ae)}catch(q){ee=ee??[],q instanceof O?ee=[...ee,...q.errors]:ee.push(q)}}if(ee)throw new O(ee)}}add(ee){var Y;if(ee&&ee!==this)if(this.closed)ce(ee);else{if(ee instanceof ie){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(ee)}}_hasParent(ee){const{_parentage:Y}=this;return Y===ee||Array.isArray(Y)&&Y.includes(ee)}_addParent(ee){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(ee),Y):Y?[Y,ee]:ee}_removeParent(ee){const{_parentage:Y}=this;Y===ee?this._parentage=null:Array.isArray(Y)&&(0,pe.P)(Y,ee)}remove(ee){const{_finalizers:Y}=this;Y&&(0,pe.P)(Y,ee),ee instanceof ie&&ee._removeParent(this)}}ie.EMPTY=(()=>{const he=new ie;return he.closed=!0,he})();const re=ie.EMPTY;function B(he){return he instanceof ie||he&&"closed"in he&&(0,s.m)(he.remove)&&(0,s.m)(he.add)&&(0,s.m)(he.unsubscribe)}function ce(he){(0,s.m)(he)?he():he.unsubscribe()}},2416:(Ie,x,R)=>{"use strict";R.d(x,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ie,x,R)=>{"use strict";R.d(x,{E:()=>te});const te=new(R(9751).y)(ie=>ie.complete())},8996:(Ie,x,R)=>{"use strict";R.d(x,{D:()=>X});var s=R(8421),te=R(5363),O=R(9468),re=R(9751),ce=R(2202),he=R(576),ee=R(9672);function se(N,J){if(!N)throw new Error("Iterable cannot be null");return new re.y(j=>{(0,ee.f)(j,J,()=>{const S=N[Symbol.asyncIterator]();(0,ee.f)(j,J,()=>{S.next().then(oe=>{oe.done?j.complete():j.next(oe.value)})},0,!0)})})}var $=R(3670),ae=R(8239),q=R(1144),fe=R(6495),z=R(2206),Z=R(4532),E=R(3260);function X(N,J){return J?function F(N,J){if(null!=N){if((0,$.c)(N))return function pe(N,J){return(0,s.Xf)(N).pipe((0,O.R)(J),(0,te.Q)(J))}(N,J);if((0,q.z)(N))return function B(N,J){return new re.y(j=>{let S=0;return J.schedule(function(){S===N.length?j.complete():(j.next(N[S++]),j.closed||this.schedule())})})}(N,J);if((0,ae.t)(N))return function ie(N,J){return(0,s.Xf)(N).pipe((0,O.R)(J),(0,te.Q)(J))}(N,J);if((0,z.D)(N))return se(N,J);if((0,fe.T)(N))return function Y(N,J){return new re.y(j=>{let S;return(0,ee.f)(j,J,()=>{S=N[ce.h](),(0,ee.f)(j,J,()=>{let oe,W;try{({value:oe,done:W}=S.next())}catch(le){return void j.error(le)}W?j.complete():j.next(oe)},0,!0)}),()=>(0,he.m)(S?.return)&&S.return()})}(N,J);if((0,E.L)(N))return function A(N,J){return se((0,E.Q)(N),J)}(N,J)}throw(0,Z.z)(N)}(N,J):(0,s.Xf)(N)}},8421:(Ie,x,R)=>{"use strict";R.d(x,{Xf:()=>$});var s=R(655),te=R(1144),O=R(8239),pe=R(9751),ie=R(3670),re=R(2206),B=R(4532),ce=R(6495),he=R(3260),ee=R(576),Y=R(7849),se=R(8822);function $(F){if(F instanceof pe.y)return F;if(null!=F){if((0,ie.c)(F))return function ae(F){return new pe.y(X=>{const N=F[se.L]();if((0,ee.m)(N.subscribe))return N.subscribe(X);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(F);if((0,te.z)(F))return function q(F){return new pe.y(X=>{for(let N=0;N<F.length&&!X.closed;N++)X.next(F[N]);X.complete()})}(F);if((0,O.t)(F))return function fe(F){return new pe.y(X=>{F.then(N=>{X.closed||(X.next(N),X.complete())},N=>X.error(N)).then(null,Y.h)})}(F);if((0,re.D)(F))return Z(F);if((0,ce.T)(F))return function z(F){return new pe.y(X=>{for(const N of F)if(X.next(N),X.closed)return;X.complete()})}(F);if((0,he.L)(F))return function E(F){return Z((0,he.Q)(F))}(F)}throw(0,B.z)(F)}function Z(F){return new pe.y(X=>{(function A(F,X){var N,J,j,S;return(0,s.mG)(this,void 0,void 0,function*(){try{for(N=(0,s.KL)(F);!(J=yield N.next()).done;)if(X.next(J.value),X.closed)return}catch(oe){j={error:oe}}finally{try{J&&!J.done&&(S=N.return)&&(yield S.call(N))}finally{if(j)throw j.error}}X.complete()})})(F,X).catch(N=>X.error(N))})}},6451:(Ie,x,R)=>{"use strict";R.d(x,{T:()=>re});var s=R(8189),te=R(8421),O=R(515),pe=R(3269),ie=R(8996);function re(...B){const ce=(0,pe.yG)(B),he=(0,pe._6)(B,1/0),ee=B;return ee.length?1===ee.length?(0,te.Xf)(ee[0]):(0,s.J)(he)((0,ie.D)(ee,ce)):O.E}},5403:(Ie,x,R)=>{"use strict";R.d(x,{x:()=>te});var s=R(930);function te(pe,ie,re,B,ce){return new O(pe,ie,re,B,ce)}class O extends s.Lv{constructor(ie,re,B,ce,he,ee){super(ie),this.onFinalize=he,this.shouldUnsubscribe=ee,this._next=re?function(Y){try{re(Y)}catch(se){ie.error(se)}}:super._next,this._error=ce?function(Y){try{ce(Y)}catch(se){ie.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=B?function(){try{B()}catch(Y){ie.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(Ie,x,R)=>{"use strict";R.d(x,{U:()=>O});var s=R(4482),te=R(5403);function O(pe,ie){return(0,s.e)((re,B)=>{let ce=0;re.subscribe((0,te.x)(B,he=>{B.next(pe.call(ie,he,ce++))}))})}},8189:(Ie,x,R)=>{"use strict";R.d(x,{J:()=>O});var s=R(5577),te=R(4671);function O(pe=1/0){return(0,s.z)(te.y,pe)}},5577:(Ie,x,R)=>{"use strict";R.d(x,{z:()=>ce});var s=R(4004),te=R(8421),O=R(4482),pe=R(9672),ie=R(5403),B=R(576);function ce(he,ee,Y=1/0){return(0,B.m)(ee)?ce((se,$)=>(0,s.U)((ae,q)=>ee(se,ae,$,q))((0,te.Xf)(he(se,$))),Y):("number"==typeof ee&&(Y=ee),(0,O.e)((se,$)=>function re(he,ee,Y,se,$,ae,q,fe){const z=[];let Z=0,E=0,A=!1;const F=()=>{A&&!z.length&&!Z&&ee.complete()},X=J=>Z<se?N(J):z.push(J),N=J=>{ae&&ee.next(J),Z++;let j=!1;(0,te.Xf)(Y(J,E++)).subscribe((0,ie.x)(ee,S=>{$?.(S),ae?X(S):ee.next(S)},()=>{j=!0},void 0,()=>{if(j)try{for(Z--;z.length&&Z<se;){const S=z.shift();q?(0,pe.f)(ee,q,()=>N(S)):N(S)}F()}catch(S){ee.error(S)}}))};return he.subscribe((0,ie.x)(ee,X,()=>{A=!0,F()})),()=>{fe?.()}}(se,$,he,Y)))}},5363:(Ie,x,R)=>{"use strict";R.d(x,{Q:()=>pe});var s=R(9672),te=R(4482),O=R(5403);function pe(ie,re=0){return(0,te.e)((B,ce)=>{B.subscribe((0,O.x)(ce,he=>(0,s.f)(ce,ie,()=>ce.next(he),re),()=>(0,s.f)(ce,ie,()=>ce.complete(),re),he=>(0,s.f)(ce,ie,()=>ce.error(he),re)))})}},3099:(Ie,x,R)=>{"use strict";R.d(x,{B:()=>ie});var s=R(8421),te=R(7579),O=R(930),pe=R(4482);function ie(B={}){const{connector:ce=(()=>new te.x),resetOnError:he=!0,resetOnComplete:ee=!0,resetOnRefCountZero:Y=!0}=B;return se=>{let $,ae,q,fe=0,z=!1,Z=!1;const E=()=>{ae?.unsubscribe(),ae=void 0},A=()=>{E(),$=q=void 0,z=Z=!1},F=()=>{const X=$;A(),X?.unsubscribe()};return(0,pe.e)((X,N)=>{fe++,!Z&&!z&&E();const J=q=q??ce();N.add(()=>{fe--,0===fe&&!Z&&!z&&(ae=re(F,Y))}),J.subscribe(N),!$&&fe>0&&($=new O.Hp({next:j=>J.next(j),error:j=>{Z=!0,E(),ae=re(A,he,j),J.error(j)},complete:()=>{z=!0,E(),ae=re(A,ee),J.complete()}}),(0,s.Xf)(X).subscribe($))})(se)}}function re(B,ce,...he){if(!0===ce)return void B();if(!1===ce)return;const ee=new O.Hp({next:()=>{ee.unsubscribe(),B()}});return ce(...he).subscribe(ee)}},9468:(Ie,x,R)=>{"use strict";R.d(x,{R:()=>te});var s=R(4482);function te(O,pe=0){return(0,s.e)((ie,re)=>{re.add(O.schedule(()=>ie.subscribe(re),pe))})}},8505:(Ie,x,R)=>{"use strict";R.d(x,{b:()=>ie});var s=R(576),te=R(4482),O=R(5403),pe=R(4671);function ie(re,B,ce){const he=(0,s.m)(re)||B||ce?{next:re,error:B,complete:ce}:re;return he?(0,te.e)((ee,Y)=>{var se;null===(se=he.subscribe)||void 0===se||se.call(he);let $=!0;ee.subscribe((0,O.x)(Y,ae=>{var q;null===(q=he.next)||void 0===q||q.call(he,ae),Y.next(ae)},()=>{var ae;$=!1,null===(ae=he.complete)||void 0===ae||ae.call(he),Y.complete()},ae=>{var q;$=!1,null===(q=he.error)||void 0===q||q.call(he,ae),Y.error(ae)},()=>{var ae,q;$&&(null===(ae=he.unsubscribe)||void 0===ae||ae.call(he)),null===(q=he.finalize)||void 0===q||q.call(he)}))}):pe.y}},4408:(Ie,x,R)=>{"use strict";R.d(x,{o:()=>ie});var s=R(727);class te extends s.w0{constructor(B,ce){super()}schedule(B,ce=0){return this}}const O={setInterval(re,B,...ce){const{delegate:he}=O;return he?.setInterval?he.setInterval(re,B,...ce):setInterval(re,B,...ce)},clearInterval(re){const{delegate:B}=O;return(B?.clearInterval||clearInterval)(re)},delegate:void 0};var pe=R(8737);class ie extends te{constructor(B,ce){super(B,ce),this.scheduler=B,this.work=ce,this.pending=!1}schedule(B,ce=0){if(this.closed)return this;this.state=B;const he=this.id,ee=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(ee,he,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(ee,this.id,ce),this}requestAsyncId(B,ce,he=0){return O.setInterval(B.flush.bind(B,this),he)}recycleAsyncId(B,ce,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ce;O.clearInterval(ce)}execute(B,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(B,ce);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(B,ce){let ee,he=!1;try{this.work(B)}catch(Y){he=!0,ee=Y||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:B,scheduler:ce}=this,{actions:he}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(he,this),null!=B&&(this.id=this.recycleAsyncId(ce,B,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ie,x,R)=>{"use strict";R.d(x,{v:()=>O});var s=R(6063);class te{constructor(ie,re=te.now){this.schedulerActionCtor=ie,this.now=re}schedule(ie,re=0,B){return new this.schedulerActionCtor(this,ie).schedule(B,re)}}te.now=s.l.now;class O extends te{constructor(ie,re=te.now){super(ie,re),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:re}=this;if(this._active)return void re.push(ie);let B;this._active=!0;do{if(B=ie.execute(ie.state,ie.delay))break}while(ie=re.shift());if(this._active=!1,B){for(;ie=re.shift();)ie.unsubscribe();throw B}}}},4986:(Ie,x,R)=>{"use strict";R.d(x,{P:()=>pe,z:()=>O});var s=R(4408);const O=new(R(7565).v)(s.o),pe=O},6063:(Ie,x,R)=>{"use strict";R.d(x,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(Ie,x,R)=>{"use strict";R.d(x,{z:()=>s});const s={setTimeout(te,O,...pe){const{delegate:ie}=s;return ie?.setTimeout?ie.setTimeout(te,O,...pe):setTimeout(te,O,...pe)},clearTimeout(te){const{delegate:O}=s;return(O?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(Ie,x,R)=>{"use strict";R.d(x,{h:()=>te});const te=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ie,x,R)=>{"use strict";R.d(x,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ie,x,R)=>{"use strict";R.d(x,{_6:()=>re,jO:()=>pe,yG:()=>ie});var s=R(576),te=R(3532);function O(B){return B[B.length-1]}function pe(B){return(0,s.m)(O(B))?B.pop():void 0}function ie(B){return(0,te.K)(O(B))?B.pop():void 0}function re(B,ce){return"number"==typeof O(B)?B.pop():ce}},8737:(Ie,x,R)=>{"use strict";function s(te,O){if(te){const pe=te.indexOf(O);0<=pe&&te.splice(pe,1)}}R.d(x,{P:()=>s})},3888:(Ie,x,R)=>{"use strict";function s(te){const pe=te(ie=>{Error.call(ie),ie.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}R.d(x,{d:()=>s})},2806:(Ie,x,R)=>{"use strict";R.d(x,{O:()=>pe,x:()=>O});var s=R(2416);let te=null;function O(ie){if(s.v.useDeprecatedSynchronousErrorHandling){const re=!te;if(re&&(te={errorThrown:!1,error:null}),ie(),re){const{errorThrown:B,error:ce}=te;if(te=null,B)throw ce}}else ie()}function pe(ie){s.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ie)}},9672:(Ie,x,R)=>{"use strict";function s(te,O,pe,ie=0,re=!1){const B=O.schedule(function(){pe(),re?te.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(te.add(B),!re)return B}R.d(x,{f:()=>s})},4671:(Ie,x,R)=>{"use strict";function s(te){return te}R.d(x,{y:()=>s})},1144:(Ie,x,R)=>{"use strict";R.d(x,{z:()=>s});const s=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(Ie,x,R)=>{"use strict";R.d(x,{D:()=>te});var s=R(576);function te(O){return Symbol.asyncIterator&&(0,s.m)(O?.[Symbol.asyncIterator])}},576:(Ie,x,R)=>{"use strict";function s(te){return"function"==typeof te}R.d(x,{m:()=>s})},3670:(Ie,x,R)=>{"use strict";R.d(x,{c:()=>O});var s=R(8822),te=R(576);function O(pe){return(0,te.m)(pe[s.L])}},6495:(Ie,x,R)=>{"use strict";R.d(x,{T:()=>O});var s=R(2202),te=R(576);function O(pe){return(0,te.m)(pe?.[s.h])}},8239:(Ie,x,R)=>{"use strict";R.d(x,{t:()=>te});var s=R(576);function te(O){return(0,s.m)(O?.then)}},3260:(Ie,x,R)=>{"use strict";R.d(x,{L:()=>pe,Q:()=>O});var s=R(655),te=R(576);function O(ie){return(0,s.FC)(this,arguments,function*(){const B=ie.getReader();try{for(;;){const{value:ce,done:he}=yield(0,s.qq)(B.read());if(he)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(ce)}}finally{B.releaseLock()}})}function pe(ie){return(0,te.m)(ie?.getReader)}},3532:(Ie,x,R)=>{"use strict";R.d(x,{K:()=>te});var s=R(576);function te(O){return O&&(0,s.m)(O.schedule)}},4482:(Ie,x,R)=>{"use strict";R.d(x,{A:()=>te,e:()=>O});var s=R(576);function te(pe){return(0,s.m)(pe?.lift)}function O(pe){return ie=>{if(te(ie))return ie.lift(function(re){try{return pe(re,this)}catch(B){this.error(B)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ie,x,R)=>{"use strict";function s(){}R.d(x,{Z:()=>s})},9635:(Ie,x,R)=>{"use strict";R.d(x,{U:()=>O,z:()=>te});var s=R(4671);function te(...pe){return O(pe)}function O(pe){return 0===pe.length?s.y:1===pe.length?pe[0]:function(re){return pe.reduce((B,ce)=>ce(B),re)}}},7849:(Ie,x,R)=>{"use strict";R.d(x,{h:()=>O});var s=R(2416),te=R(3410);function O(pe){te.z.setTimeout(()=>{const{onUnhandledError:ie}=s.v;if(!ie)throw pe;ie(pe)})}},4532:(Ie,x,R)=>{"use strict";function s(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(x,{z:()=>s})},655:(Ie,x,R)=>{"use strict";function pe(W,le){var ge={};for(var ye in W)Object.prototype.hasOwnProperty.call(W,ye)&&le.indexOf(ye)<0&&(ge[ye]=W[ye]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(ye=Object.getOwnPropertySymbols(W);Re<ye.length;Re++)le.indexOf(ye[Re])<0&&Object.prototype.propertyIsEnumerable.call(W,ye[Re])&&(ge[ye[Re]]=W[ye[Re]])}return ge}function ce(W,le,ge,ye){return new(ge||(ge=Promise))(function(Ve,Xe){function it(b){try{I(ye.next(b))}catch(k){Xe(k)}}function ve(b){try{I(ye.throw(b))}catch(k){Xe(k)}}function I(b){b.done?Ve(b.value):function Re(Ve){return Ve instanceof ge?Ve:new ge(function(Xe){Xe(Ve)})}(b.value).then(it,ve)}I((ye=ye.apply(W,le||[])).next())})}function z(W){return this instanceof z?(this.v=W,this):new z(W)}function Z(W,le,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ye=ge.apply(W,le||[]),Ve=[];return Re={},Xe("next"),Xe("throw"),Xe("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function Xe(L){ye[L]&&(Re[L]=function(Q){return new Promise(function(ne,U){Ve.push([L,Q,ne,U])>1||it(L,Q)})})}function it(L,Q){try{!function ve(L){L.value instanceof z?Promise.resolve(L.value.v).then(I,b):k(Ve[0][2],L)}(ye[L](Q))}catch(ne){k(Ve[0][3],ne)}}function I(L){it("next",L)}function b(L){it("throw",L)}function k(L,Q){L(Q),Ve.shift(),Ve.length&&it(Ve[0][0],Ve[0][1])}}function A(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,le=W[Symbol.asyncIterator];return le?le.call(W):(W=function se(W){var le="function"==typeof Symbol&&Symbol.iterator,ge=le&&W[le],ye=0;if(ge)return ge.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ye>=W.length&&(W=void 0),{value:W&&W[ye++],done:!W}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),ge={},ye("next"),ye("throw"),ye("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function ye(Ve){ge[Ve]=W[Ve]&&function(Xe){return new Promise(function(it,ve){!function Re(Ve,Xe,it,ve){Promise.resolve(ve).then(function(I){Ve({value:I,done:it})},Xe)}(it,ve,(Xe=W[Ve](Xe)).done,Xe.value)})}}}R.d(x,{FC:()=>Z,KL:()=>A,_T:()=>pe,mG:()=>ce,qq:()=>z})},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:Ie=>{function x(s,te,O,pe,ie,re,B){try{var ce=s[re](B),he=ce.value}catch(ee){return void O(ee)}ce.done?te(he):Promise.resolve(he).then(pe,ie)}Ie.exports=function R(s){return function(){var te=this,O=arguments;return new Promise(function(pe,ie){var re=s.apply(te,O);function B(he){x(re,pe,ie,B,ce,"next",he)}function ce(he){x(re,pe,ie,B,ce,"throw",he)}B(void 0)})}},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},6521:Ie=>{Ie.exports=function x(R,s){if(s.has(R))throw new TypeError("Cannot initialize the same private elements twice on an object")},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},8912:Ie=>{Ie.exports=function x(R,s){return s.get?s.get.call(R):s.value},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},3448:Ie=>{Ie.exports=function x(R,s,te){if(s.set)s.set.call(R,te);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=te}},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},2625:Ie=>{Ie.exports=function x(R,s){if(R!==s)throw new TypeError("Private static access of wrong provenance")},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},2506:Ie=>{Ie.exports=function x(R,s){if(void 0===R)throw new TypeError("attempted to "+s+" private static field before its declaration")},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},4069:Ie=>{Ie.exports=function x(R,s,te){if(!s.has(R))throw new TypeError("attempted to "+te+" private field on non-instance");return s.get(R)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},468:(Ie,x,R)=>{var s=R(8912),te=R(4069);Ie.exports=function O(pe,ie){var re=te(pe,ie,"get");return s(pe,re)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},9159:(Ie,x,R)=>{var s=R(6521);Ie.exports=function te(O,pe,ie){s(O,pe),pe.set(O,ie)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},5661:(Ie,x,R)=>{var s=R(3448),te=R(4069);Ie.exports=function O(pe,ie,re){var B=te(pe,ie,"set");return s(pe,B,re),re},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},4467:Ie=>{Ie.exports=function x(R,s,te){if(!s.has(R))throw new TypeError("attempted to get private field on non-instance");return te},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},1860:(Ie,x,R)=>{var s=R(6521);Ie.exports=function te(O,pe){s(O,pe),pe.add(O)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},1280:(Ie,x,R)=>{var s=R(8912),te=R(2625),O=R(2506);Ie.exports=function pe(ie,re,B){return te(ie,re),O(B,"get"),s(ie,B)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},2306:(Ie,x,R)=>{var s=R(3448),te=R(2625),O=R(2506);Ie.exports=function pe(ie,re,B,ce){return te(ie,re),O(B,"set"),s(ie,B,ce),ce},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},5764:(Ie,x,R)=>{var s=R(2625);Ie.exports=function te(O,pe,ie){return s(O,pe),ie},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},8416:Ie=>{Ie.exports=function x(R,s,te){return s in R?Object.defineProperty(R,s,{value:te,enumerable:!0,configurable:!0,writable:!0}):R[s]=te,R},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},4650:(Ie,x,R)=>{"use strict";R.d(x,{$8M:()=>ro,$Z:()=>kS,AFp:()=>Hx,ALo:()=>QC,AaK:()=>ce,AsE:()=>Xy,BQk:()=>tm,CHM:()=>ga,CRH:()=>Rm,CZH:()=>Nm,CqO:()=>Uw,D6c:()=>po,EJc:()=>CD,EiD:()=>Du,EpF:()=>hT,F$t:()=>gT,F4k:()=>Bw,FYo:()=>tn,FiY:()=>pt,G48:()=>cM,Gf:()=>Dx,GfV:()=>Ld,Gpc:()=>Y,Hsn:()=>mT,Ikx:()=>sv,JOm:()=>Wo,JVY:()=>lg,KtG:()=>ma,L6k:()=>cg,LAX:()=>U_,LFG:()=>di,LSH:()=>bc,Lbi:()=>Vm,Lck:()=>NC,MAs:()=>uT,MMx:()=>Cv,NdJ:()=>Wy,O4$:()=>cu,OlP:()=>xn,Oqu:()=>Qy,PXZ:()=>Zv,Q6J:()=>Lw,QGY:()=>Nf,QP$:()=>tp,QbO:()=>$x,Qsj:()=>xi,R0b:()=>Vs,RDi:()=>O_,Rgc:()=>Mm,SBq:()=>Mt,Sil:()=>Zx,Suo:()=>aD,TTD:()=>jr,TgZ:()=>Xg,Udp:()=>Kw,VKq:()=>xv,W1O:()=>uD,WFA:()=>qy,WLB:()=>YC,X6Q:()=>lM,XFs:()=>lt,Xpm:()=>De,Xts:()=>Eu,Y36:()=>Ef,YKP:()=>LC,YNc:()=>cT,Yjl:()=>nn,Yz7:()=>Q,ZZ4:()=>ap,_Bn:()=>ax,_UZ:()=>Vw,_Vd:()=>_e,_c5:()=>Ku,_uU:()=>iC,aQg:()=>zD,c2e:()=>Wx,cJS:()=>U,cg1:()=>ja,d8E:()=>ov,dDg:()=>ID,dqk:()=>xe,eBb:()=>B_,eFA:()=>FD,ekj:()=>rm,eoX:()=>Hm,f3M:()=>pc,g9A:()=>wD,h0i:()=>Zf,hGG:()=>lp,hij:()=>Uf,iGM:()=>Hv,ifc:()=>me,ip1:()=>Ux,kL8:()=>Qd,kcU:()=>ic,lG2:()=>On,lcZ:()=>JC,lqb:()=>ka,lri:()=>xD,mCW:()=>mc,n5z:()=>Ro,n_E:()=>Xf,oAB:()=>Dt,oxw:()=>pT,pB0:()=>ug,q3G:()=>wi,q4F:()=>Pa,qLn:()=>ff,qOj:()=>Pw,qZA:()=>Jg,qzn:()=>xa,rWj:()=>MD,sBO:()=>zm,sIi:()=>Zo,s_b:()=>Jf,soG:()=>rp,tb:()=>ih,tp0:()=>Zt,uIk:()=>Lu,vHH:()=>q,vpe:()=>Qo,wAp:()=>ln,xi3:()=>xm,xp6:()=>_S,ynx:()=>em,z2F:()=>Gm,z3N:()=>Go,zSh:()=>lf,zs3:()=>Gd});var s=R(7579),te=R(727),O=R(9751),pe=R(6451),ie=R(3099);function re(a){for(let l in a)if(a[l]===re)return l;throw Error("Could not find renamed property on target object.")}function B(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function ce(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ce).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function he(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const ee=re({__forward_ref__:re});function Y(a){return a.__forward_ref__=Y,a.toString=function(){return ce(this())},a}function se(a){return $(a)?a():a}function $(a){return"function"==typeof a&&a.hasOwnProperty(ee)&&a.__forward_ref__===Y}class q extends Error{constructor(l,c){super(function fe(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function z(a){return"string"==typeof a?a:null==a?"":String(a)}function X(a,l){throw new q(-201,!1)}function ve(a,l){null==a&&function I(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function Q(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function U(a){return{providers:a.providers||[],imports:a.imports||[]}}function be(a){return He(a,qe)||He(a,mt)}function He(a,l){return a.hasOwnProperty(l)?a[l]:null}function Be(a){return a&&(a.hasOwnProperty(Qe)||a.hasOwnProperty(Tt))?a[Qe]:null}const qe=re({\u0275prov:re}),Qe=re({\u0275inj:re}),mt=re({ngInjectableDef:re}),Tt=re({ngInjectorDef:re});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let yt;function Rt(a){const l=yt;return yt=a,l}function Ot(a,l,c){const d=be(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&lt.Optional?null:void 0!==l?l:void X(ce(a))}function nt(a){return{toString:a}.toString()}var dt=(()=>((dt=dt||{})[dt.OnPush=0]="OnPush",dt[dt.Default=1]="Default",dt))(),me=(()=>{return(a=me||(me={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",me;var a})();const xe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ne={},we=[],Fe=re({\u0275cmp:re}),rt=re({\u0275dir:re}),bt=re({\u0275pipe:re}),Yt=re({\u0275mod:re}),Ze=re({\u0275fac:re}),Ee=re({__NG_ELEMENT_ID__:re});let Te=0;function De(a){return nt(()=>{const c=!0===a.standalone,d={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||we,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||me.Emulated,id:"c"+Te++,styles:a.styles||we,_:null,setInput:null,schemas:a.schemas||null,tView:null},g=a.dependencies,v=a.features;return f.inputs=rn(a.inputs,d),f.outputs=rn(a.outputs),v&&v.forEach(D=>D(f)),f.directiveDefs=g?()=>("function"==typeof g?g():g).map(Pe).filter(We):null,f.pipeDefs=g?()=>("function"==typeof g?g():g).map(Sn).filter(We):null,f})}function Pe(a){return sn(a)||wn(a)}function We(a){return null!==a}const at={};function Dt(a){return nt(()=>{const l={type:a.type,bootstrap:a.bootstrap||we,declarations:a.declarations||we,imports:a.imports||we,exports:a.exports||we,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(at[a.id]=a.type),l})}function rn(a,l){if(null==a)return Ne;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],g=f;Array.isArray(f)&&(g=f[1],f=f[0]),c[f]=d,l&&(l[f]=g)}return c}const On=De;function nn(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function sn(a){return a[Fe]||null}function wn(a){return a[rt]||null}function Sn(a){return a[bt]||null}function Rn(a,l){const c=a[Yt]||null;if(!c&&!0===l)throw new Error(`Type ${ce(a)} does not have '\u0275mod' property.`);return c}function Bi(a){return Array.isArray(a)&&"object"==typeof a[1]}function ir(a){return Array.isArray(a)&&!0===a[1]}function ua(a){return 0!=(8&a.flags)}function Do(a){return 2==(2&a.flags)}function Eo(a){return 1==(1&a.flags)}function as(a){return null!==a.template}function Qa(a){return 0!=(256&a[2])}function Qs(a,l){return a.hasOwnProperty(Ze)?a[Ze]:null}class Wl{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function jr(){return Xs}function Xs(a){return a.type.prototype.ngOnChanges&&(a.setInput=Xa),da}function da(){const a=eu(this),l=a?.current;if(l){const c=a.previous;if(c===Ne)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Xa(a,l,c,d){const f=eu(a)||function eg(a,l){return a[Ja]=l}(a,{previous:Ne,current:null}),g=f.current||(f.current={}),v=f.previous,D=this.declaredInputs[c],T=v[D];g[D]=new Wl(T&&T.currentValue,l,v===Ne),a[d]=l}jr.ngInherit=!0;const Ja="__ngSimpleChanges__";function eu(a){return a[Ja]||null}function fi(a){for(;Array.isArray(a);)a=a[0];return a}function tl(a,l){return fi(l[a])}function mi(a,l){return fi(l[a.index])}function ha(a,l){return a.data[l]}function ls(a,l){return a[l]}function Fi(a,l){const c=l[a];return Bi(c)?c:c[0]}function Ss(a){return 4==(4&a[2])}function Gr(a){return 64==(64&a[2])}function Ji(a,l){return null==l?null:a[l]}function nl(a){a[18]=0}function fa(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const Ht={lFrame:Jl(null),bindingsEnabled:!0};function il(){return Ht.bindingsEnabled}function gt(){return Ht.lFrame.lView}function Cn(){return Ht.lFrame.tView}function ga(a){return Ht.lFrame.contextLView=a,a[8]}function ma(a){return Ht.lFrame.contextLView=null,a}function ai(){let a=rl();for(;null!==a&&64===a.type;)a=a.parent;return a}function rl(){return Ht.lFrame.currentTNode}function yr(a,l){const c=Ht.lFrame;c.currentTNode=a,c.isParent=l}function sl(){return Ht.lFrame.isParent}function Ts(){Ht.lFrame.isParent=!1}function Ui(){const a=Ht.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function _a(){return Ht.lFrame.bindingIndex++}function zr(a){const l=Ht.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function al(a,l){const c=Ht.lFrame;c.bindingIndex=c.bindingRootIndex=a,Io(l)}function Io(a){Ht.lFrame.currentDirectiveIndex=a}function ll(a){const l=Ht.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Ql(){return Ht.lFrame.currentQueryIndex}function cl(a){Ht.lFrame.currentQueryIndex=a}function ul(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function au(a,l,c){if(c&lt.SkipSelf){let f=l,g=a;for(;!(f=f.parent,null!==f||c&lt.Host||(f=ul(g),null===f||(g=g[15],10&f.type))););if(null===f)return!1;l=f,a=g}const d=Ht.lFrame=Xl();return d.currentTNode=l,d.lView=a,!0}function dl(a){const l=Xl(),c=a[1];Ht.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function Xl(){const a=Ht.lFrame,l=null===a?null:a.child;return null===l?Jl(a):l}function Jl(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function ec(){const a=Ht.lFrame;return Ht.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const hl=ec;function lu(){const a=ec();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function vi(){return Ht.lFrame.selectedIndex}function xs(a){Ht.lFrame.selectedIndex=a}function Wn(){const a=Ht.lFrame;return ha(a.tView,a.selectedIndex)}function cu(){Ht.lFrame.currentNamespace="svg"}function ic(){!function md(){Ht.lFrame.currentNamespace=null}()}function Fh(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const g=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:G,ngOnDestroy:de}=g;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),D&&((a.contentHooks||(a.contentHooks=[])).push(c,D),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,D)),T&&(a.viewHooks||(a.viewHooks=[])).push(-c,T),G&&((a.viewHooks||(a.viewHooks=[])).push(c,G),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,G)),null!=de&&(a.destroyHooks||(a.destroyHooks=[])).push(c,de)}}function Lh(a,l,c){ng(a,l,3,c)}function ya(a,l,c,d){(3&a[2])===c&&ng(a,l,c,d)}function eo(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function ng(a,l,c,d){const g=d??-1,v=l.length-1;let D=0;for(let T=void 0!==d?65535&a[18]:0;T<v;T++)if("number"==typeof l[T+1]){if(D=l[T],null!=d&&D>=d)break}else l[T]<0&&(a[18]+=65536),(D<g||-1==g)&&(du(a,c,l,T),a[18]=(4294901760&a[18])+T+2),T++}function du(a,l,c,d){const f=c[d]<0,g=c[d+1],D=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{g.call(D)}finally{}}}else try{g.call(D)}finally{}}class fl{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Po(a,l,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const g=c[d++],v=c[d++],D=c[d++];a.setAttribute(l,v,D,g)}else{const g=f,v=c[++d];ba(g)?a.setProperty(l,g,v):a.setAttribute(l,g,v),d++}}return d}function yd(a){return 3===a||4===a||6===a}function ba(a){return 64===a.charCodeAt(0)}function rc(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||Bh(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function Bh(a,l,c,d,f){let g=0,v=a.length;if(-1===l)v=-1;else for(;g<a.length;){const D=a[g++];if("number"==typeof D){if(D===l){v=-1;break}if(D>l){v=g-1;break}}}for(;g<a.length;){const D=a[g];if("number"==typeof D)break;if(D===c){if(null===d)return void(null!==f&&(a[g+1]=f));if(d===a[g+1])return void(a[g+2]=f)}g++,null!==d&&g++,null!==f&&g++}-1!==v&&(a.splice(v,0,l),g=v+1),a.splice(g++,0,c),null!==d&&a.splice(g++,0,d),null!==f&&a.splice(g++,0,f)}function Uh(a){return-1!==a}function pl(a){return 32767&a}function Wr(a,l){let c=function $r(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let vd=!0;function br(a){const l=vd;return vd=a,l}let Nt=0;const _t={};function Yn(a,l){const c=ml(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,gl(d.data,a),gl(l,null),gl(d.blueprint,null));const f=sc(a,l),g=a.injectorIndex;if(Uh(f)){const v=pl(f),D=Wr(f,l),T=D[1].data;for(let G=0;G<8;G++)l[g+G]=D[v+G]|T[v+G]}return l[g+8]=f,g}function gl(a,l){a.push(0,0,0,0,0,0,0,0,l)}function ml(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function sc(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){if(d=pr(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function oc(a,l,c){!function sr(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Ee)&&(d=c[Ee]),null==d&&(d=c[Ee]=Nt++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function bd(a,l,c){if(c&lt.Optional)return a;X()}function Yr(a,l,c,d){if(c&lt.Optional&&void 0===d&&(d=null),0==(c&(lt.Self|lt.Host))){const f=a[9],g=Rt(void 0);try{return f?f.get(l,d,c&lt.Optional):Ot(l,d,c&lt.Optional)}finally{Rt(g)}}return bd(d,0,c)}function zt(a,l,c,d=lt.Default,f){if(null!==a){if(1024&l[2]){const v=function Ca(a,l,c,d,f){let g=a,v=l;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const D=to(g,v,c,d|lt.Self,_t);if(D!==_t)return D;let T=g.parent;if(!T){const G=v[21];if(G){const de=G.get(c,_t,d);if(de!==_t)return de}T=pr(v),v=v[15]}g=T}return f}(a,l,c,d,_t);if(v!==_t)return v}const g=to(a,l,c,d,_t);if(g!==_t)return g}return Yr(l,c,d,f)}function to(a,l,c,d,f){const g=function Kn(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Ee)?a[Ee]:void 0;return"number"==typeof l?l>=0?255&l:cc:l}(c);if("function"==typeof g){if(!au(l,a,d))return d&lt.Host?bd(f,0,d):Yr(l,c,d,f);try{const v=g(d);if(null!=v||d&lt.Optional)return v;X()}finally{hl()}}else if("number"==typeof g){let v=null,D=ml(a,l),T=-1,G=d&lt.Host?l[16][6]:null;for((-1===D||d&lt.SkipSelf)&&(T=-1===D?sc(a,l):l[D+8],-1!==T&&wa(d,!1)?(v=l[1],D=pl(T),l=Wr(T,l)):D=-1);-1!==D;){const de=l[1];if(lc(g,D,de.data)){const Se=ac(D,l,c,v,d,G);if(Se!==_t)return Se}T=l[D+8],-1!==T&&wa(d,l[1].data[D+8]===G)&&lc(g,D,l)?(v=de,D=pl(T),l=Wr(T,l)):D=-1}}return f}function ac(a,l,c,d,f,g){const v=l[1],D=v.data[a+8],de=no(D,v,c,null==d?Do(D)&&vd:d!=v&&0!=(3&D.type),f&lt.Host&&g===D);return null!==de?io(l,v,de,D):_t}function no(a,l,c,d,f){const g=a.providerIndexes,v=l.data,D=1048575&g,T=a.directiveStart,de=g>>20,je=f?D+de:a.directiveEnd;for(let Ye=d?D:D+de;Ye<je;Ye++){const ht=v[Ye];if(Ye<T&&c===ht||Ye>=T&&ht.type===c)return Ye}if(f){const Ye=v[T];if(Ye&&as(Ye)&&Ye.type===c)return T}return null}function io(a,l,c,d){let f=a[c];const g=l.data;if(function _d(a){return a instanceof fl}(f)){const v=f;v.resolving&&function E(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new q(-200,`Circular dependency in DI detected for ${a}${c}`)}(function Z(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():z(a)}(g[c]));const D=br(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?Rt(v.injectImpl):null;au(a,d,lt.Default);try{f=a[c]=v.factory(void 0,g,a,d),l.firstCreatePass&&c>=d.directiveStart&&function Oh(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:g}=l.type.prototype;if(d){const v=Xs(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,g))}(c,g[c],l)}finally{null!==T&&Rt(T),br(D),v.resolving=!1,hl()}}return f}function lc(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function wa(a,l){return!(a&lt.Self||a&lt.Host&&l)}class cs{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return zt(this._tNode,this._lView,l,d,c)}}function cc(){return new cs(ai(),gt())}function Ro(a){return nt(()=>{const l=a.prototype.constructor,c=l[Ze]||hu(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const g=f[Ze]||hu(f);if(g&&g!==c)return g;f=Object.getPrototypeOf(f)}return g=>new g})}function hu(a){return $(a)?()=>{const l=hu(se(a));return l&&l()}:Qs(a)}function pr(a){const l=a[1],c=l.type;return 2===c?l.declTNode:1===c?a[6]:null}function ro(a){return function _l(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const g=c[f];if(yd(g))break;if(0===g)f+=2;else if("number"==typeof g)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(g===l)return c[f+1];f+=2}}}return null}(ai(),a)}const ei="__parameters__";function Hi(a,l,c){return nt(()=>{const d=function wr(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...g){if(this instanceof f)return d.apply(this,g),this;const v=new f(...g);return D.annotation=v,D;function D(T,G,de){const Se=T.hasOwnProperty(ei)?T[ei]:Object.defineProperty(T,ei,{value:[]})[ei];for(;Se.length<=de;)Se.push(null);return(Se[de]=Se[de]||[]).push(v),T}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class xn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Q({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ti(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),Ti(d,l)):l!==a&&l.push(d)}return l}function us(a,l){a.forEach(c=>Array.isArray(c)?us(c,l):l(c))}function uc(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function bl(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function ds(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function Gi(a,l,c){let d=Is(a,l);return d>=0?a[1|d]=c:(d=~d,function wl(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function hc(a,l){const c=Is(a,l);if(c>=0)return a[1|c]}function Is(a,l){return function ui(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const g=d+(f-d>>1),v=a[g<<c];if(l===v)return g<<c;v>l?f=g:d=g+1}return~(f<<c)}(a,l,1)}const Zr={},ks="__NG_DI_FLAG__",Fo="ngTempTokenPath",dn=/\n/gm,hs="__source";let fs;function Vo(a){const l=fs;return fs=a,l}function fc(a,l=lt.Default){if(void 0===fs)throw new q(-203,!1);return null===fs?Ot(a,void 0,l):fs.get(a,l&lt.Optional?null:void 0,l)}function di(a,l=lt.Default){return(function ct(){return yt}()||fc)(se(a),l)}function pc(a,l=lt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),di(a,l)}function P(a){const l=[];for(let c=0;c<a.length;c++){const d=se(a[c]);if(Array.isArray(d)){if(0===d.length)throw new q(900,!1);let f,g=lt.Default;for(let v=0;v<d.length;v++){const D=d[v],T=ue(D);"number"==typeof T?-1===T?f=D.token:g|=T:f=D}l.push(di(f,g))}else l.push(di(d))}return l}function V(a,l){return a[ks]=l,a.prototype[ks]=l,a}function ue(a){return a[ks]}const pt=V(Hi("Optional"),8),Zt=V(Hi("SkipSelf"),4);let qh,Ad;function O_(a){qh=a}function ao(a){return function Al(){if(void 0===Ad&&(Ad=null,xe.trustedTypes))try{Ad=xe.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Ad}()?.createHTML(a)||a}class co{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Td extends co{getTypeName(){return"HTML"}}class L_ extends co{getTypeName(){return"Style"}}class Kh extends co{getTypeName(){return"Script"}}class N_ extends co{getTypeName(){return"URL"}}class ag extends co{getTypeName(){return"ResourceURL"}}function Go(a){return a instanceof co?a.changingThisBreaksApplicationSecurity:a}function xa(a,l){const c=function V_(a){return a instanceof co&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function lg(a){return new Td(a)}function cg(a){return new L_(a)}function B_(a){return new Kh(a)}function U_(a){return new N_(a)}function ug(a){return new ag(a)}class Ma{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(ao(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class Qh{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=ao(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=ao(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Ps=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,xd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function mc(a){return(a=String(a)).match(Ps)||a.match(xd)?a:"unsafe:"+a}function er(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function _c(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const hg=er("area,br,col,hr,img,wbr"),Sl=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jh=er("rp,rt"),wu=_c(hg,_c(Sl,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),_c(Jh,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),_c(Jh,Sl)),Md=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),zo=er("srcset"),yc=_c(Md,zo,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Id=er("script,style,template");class gg{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!wu.hasOwnProperty(c))return this.sanitizedSomething=!0,!Id.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const g=d.item(f),v=g.name,D=v.toLowerCase();if(!yc.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let T=g.value;Md[D]&&(T=mc(T)),zo[D]&&(a=T,T=(a=String(a)).split(",").map(l=>mc(l.trim())).join(", ")),this.buf.push(" ",v,'="',_g(T),'"')}var a;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();wu.hasOwnProperty(c)&&!hg.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(_g(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const mg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Cu=/([^\#-~ |!])/g;function _g(a){return a.replace(/&/g,"&amp;").replace(mg,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(Cu,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ia;function Du(a,l){let c=null;try{Ia=Ia||function H_(a){const l=new Qh(a);return function Xh(){try{return!!(new window.DOMParser).parseFromString(ao(""),"text/html")}catch{return!1}}()?new Ma(l):l}(a);let d=l?String(l):"";c=Ia.getInertBodyElement(d);let f=5,g=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=g,g=c.innerHTML,c=Ia.getInertBodyElement(d)}while(d!==g);return ao((new gg).sanitizeChildren(vc(c)||c))}finally{if(c){const d=vc(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function vc(a){return"content"in a&&function G_(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var wi=(()=>((wi=wi||{})[wi.NONE=0]="NONE",wi[wi.HTML=1]="HTML",wi[wi.STYLE=2]="STYLE",wi[wi.SCRIPT=3]="SCRIPT",wi[wi.URL=4]="URL",wi[wi.RESOURCE_URL=5]="RESOURCE_URL",wi))();function bc(a){const l=function zi(){const a=gt();return a&&a[12]}();return l?l.sanitize(wi.URL,a)||"":xa(a,"URL")?Go(a):mc(z(a))}const Eu=new xn("ENVIRONMENT_INITIALIZER"),tf=new xn("INJECTOR",-1),Pd=new xn("INJECTOR_DEF_TYPES");class bg{get(l,c=Zr){if(c===Zr){const d=new Error(`NullInjectorError: No provider for ${ce(l)}!`);throw d.name="NullInjectorError",d}return c}}function Er(...a){return{\u0275providers:$o(0,a)}}function $o(a,...l){const c=[],d=new Set;let f;return us(l,g=>{const v=g;rf(v,c,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&nf(f,c),c}function nf(a,l){for(let c=0;c<a.length;c++){const{providers:f}=a[c];us(f,g=>{l.push(g)})}}function rf(a,l,c,d){if(!(a=se(a)))return!1;let f=null,g=Be(a);const v=!g&&sn(a);if(g||v){if(v&&!v.standalone)return!1;f=a}else{const T=a.ngModule;if(g=Be(T),!g)return!1;f=T}const D=d.has(f);if(v){if(D)return!1;if(d.add(f),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const G of T)rf(G,l,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!D){let G;d.add(f);try{us(g.imports,de=>{rf(de,l,c,d)&&(G||(G=[]),G.push(de))})}finally{}void 0!==G&&nf(G,l)}if(!D){const G=Qs(f)||(()=>new f);l.push({provide:f,useFactory:G,deps:we},{provide:Pd,useValue:f,multi:!0},{provide:Eu,useValue:()=>di(f),multi:!0})}const T=g.providers;null==T||D||us(T,de=>{l.push(de)})}}return f!==a&&void 0!==a.providers}const Tl=re({provide:String,useValue:re});function sf(a){return null!==a&&"object"==typeof a&&Tl in a}function $i(a){return"function"==typeof a}const lf=new xn("Set Injector scope."),Rd={},Z_={};let Od;function tr(){return void 0===Od&&(Od=new bg),Od}class ka{}class Fd extends ka{constructor(l,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,df(l,v=>this.processProvider(v)),this.records.set(tf,xl(void 0,this)),f.has("environment")&&this.records.set(ka,xl(void 0,this));const g=this.records.get(lf);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Pd.multi,we,lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=Vo(this),d=Rt(void 0);try{return l()}finally{Vo(c),Rt(d)}}get(l,c=Zr,d=lt.Default){this.assertNotDestroyed();const f=Vo(this),g=Rt(void 0);try{if(!(d&lt.SkipSelf)){let D=this.records.get(l);if(void 0===D){const T=function Q_(a){return"function"==typeof a||"object"==typeof a&&a instanceof xn}(l)&&be(l);D=T&&this.injectableDefInScope(T)?xl(Cc(l),Rd):null,this.records.set(l,D)}if(null!=D)return this.hydrate(l,D)}return(d&lt.Self?tr():this.parent).get(l,c=d&lt.Optional&&c===Zr?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Fo]=v[Fo]||[]).unshift(ce(l)),f)throw v;return function Oe(a,l,c,d){const f=a[Fo];throw l[hs]&&f.unshift(l[hs]),a.message=function ze(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=ce(l);if(Array.isArray(l))f=l.map(ce).join(" -> ");else if("object"==typeof l){let g=[];for(let v in l)if(l.hasOwnProperty(v)){let D=l[v];g.push(v+":"+("string"==typeof D?JSON.stringify(D):ce(D)))}f=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(dn,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[Fo]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{Rt(g),Vo(f)}}resolveInjectorInitializers(){const l=Vo(this),c=Rt(void 0);try{const d=this.get(Eu.multi,we,lt.Self);for(const f of d)f()}finally{Vo(l),Rt(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(ce(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(l){let c=$i(l=se(l))?l:se(l&&l.provide);const d=function Su(a){return sf(a)?xl(void 0,a.useValue):xl(cf(a),Rd)}(l);if($i(l)||!0!==l.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=xl(void 0,Rd,!0),f.factory=()=>P(f.multi),this.records.set(c,f)),c=l,f.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===Rd&&(c.value=Z_,c.value=c.factory()),"object"==typeof c.value&&c.value&&function uf(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=se(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function Cc(a){const l=be(a),c=null!==l?l.factory:Qs(a);if(null!==c)return c;if(a instanceof xn)throw new q(204,!1);if(a instanceof Function)return function Ar(a){const l=a.length;if(l>0)throw ds(l,"?"),new q(204,!1);const c=function ke(a){const l=a&&(a[qe]||a[mt]);if(l){const c=function Ue(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new q(204,!1)}function cf(a,l,c){let d;if($i(a)){const f=se(a);return Qs(f)||Cc(f)}if(sf(a))d=()=>se(a.useValue);else if(function wc(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...P(a.deps||[]));else if(function af(a){return!(!a||!a.useExisting)}(a))d=()=>di(se(a.useExisting));else{const f=se(a&&(a.useClass||a.provide));if(!function K_(a){return!!a.deps}(a))return Qs(f)||Cc(f);d=()=>new f(...P(a.deps))}return d}function xl(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function X_(a){return!!a.\u0275providers}function df(a,l){for(const c of a)Array.isArray(c)?df(c,l):X_(c)?df(c.\u0275providers,l):l(c)}class y{}class K{resolveComponentFactory(l){throw function p(a){const l=Error(`No component factory found for ${ce(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let _e=(()=>{class a{}return a.NULL=new K,a})();function Ge(){return tt(ai(),gt())}function tt(a,l){return new Mt(mi(a,l))}let Mt=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=Ge,a})();function Ut(a){return a instanceof Mt?a.nativeElement:a}class tn{}let xi=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function Sr(){const a=gt(),c=Fi(ai().index,a);return(Bi(c)?c:a)[11]}(),a})(),Ml=(()=>{class a{}return a.\u0275prov=Q({token:a,providedIn:"root",factory:()=>null}),a})();class Ld{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Pa=new Ld("14.1.1"),Tu={};function Tg(a){return a.ngOriginalError}class ff{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&Tg(l);for(;c&&Tg(c);)c=Tg(c);return c||null}}const xg=new Map;let B0=0;const oy="__ngContext__";function xr(a,l){Bi(l)?(a[oy]=l[20],function JA(a){xg.set(a[20],a)}(l)):a[oy]=l}function Dc(a){const l=a[oy];return"number"==typeof l?function U0(a){return xg.get(a)||null}(l):l||null}function ay(a){const l=Dc(a);return l?Bi(l)?l:l.lView:null}const cy=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(xe))();function Ec(a){return a instanceof Function?a():a}var Wo=(()=>((Wo=Wo||{})[Wo.Important=1]="Important",Wo[Wo.DashCase=2]="DashCase",Wo))();function dy(a,l){return undefined(a,l)}function mf(a){const l=a[3];return ir(l)?l[3]:l}function kg(a){return py(a[13])}function fy(a){return py(a[4])}function py(a){for(;null!==a&&!ir(a);)a=a[4];return a}function Vd(a,l,c,d,f){if(null!=d){let g,v=!1;ir(d)?g=d:Bi(d)&&(v=!0,d=d[0]);const D=fi(d);0===a&&null!==c?null==f?Yo(l,c,D):Mu(l,c,D,f||null,!0):1===a&&null!==c?Mu(l,c,D,f||null,!0):2===a?function Ra(a,l,c){const d=vy(a,l);d&&function Iu(a,l,c,d){a.removeChild(l,c,d)}(a,d,l,c)}(l,D,v):3===a&&l.destroyNode(D),null!=g&&function PR(a,l,c,d,f){const g=c[7];g!==fi(c)&&Vd(l,a,d,g,f);for(let D=10;D<c.length;D++){const T=c[D];vf(T[1],T,a,l,d,g)}}(l,a,g,c,f)}}function my(a,l,c){return a.createElement(l,c)}function _y(a,l){const c=a[9],d=c.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,fa(f,-1)),c.splice(d,1)}function _f(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&_y(f,d),l>0&&(a[c-1][4]=d[4]);const g=bl(a,10+l);!function uS(a,l){vf(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function Ci(a,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&vf(a,l,c,3,null,null),function qo(a){let l=a[13];if(!l)return K0(a[1],a);for(;l;){let c=null;if(Bi(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)Bi(l)&&K0(l[1],l),l=l[3];null===l&&(l=a),Bi(l)&&K0(l[1],l),c=l&&l[4]}l=c}}(l)}}function K0(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function Q0(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof fl)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const D=f[g[v]],T=g[v+1];try{T.call(D)}finally{}}else try{g.call(f)}finally{}}}}(a,l),function Bd(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],D="function"==typeof v?v(l):fi(l[v]),T=d[f=c[g+2]],G=c[g+3];"boolean"==typeof G?D.removeEventListener(c[g],T,G):G>=0?d[f=G]():d[f=-G].unsubscribe(),g+=2}else{const v=d[f=c[g+1]];c[g].call(v)}if(null!==d){for(let g=f+1;g<d.length;g++)(0,d[g])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&ir(l[3])){c!==l[3]&&_y(c,l);const d=l[19];null!==d&&d.detachView(a)}!function eS(a){xg.delete(a[20])}(l)}}function yy(a,l,c){return function Ud(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===me.None||f===me.Emulated)return null}return mi(d,c)}(a,l.parent,c)}function Mu(a,l,c,d,f){a.insertBefore(l,c,d,f)}function Yo(a,l,c){a.appendChild(l,c)}function yf(a,l,c,d,f){null!==d?Mu(a,l,c,d,f):Yo(a,l,c)}function vy(a,l){return a.parentNode(l)}function X0(a,l,c){return Lg(a,l,c)}let Lg=function Fg(a,l,c){return 40&a.type?mi(a,c):null};function wy(a,l,c,d){const f=yy(a,d,l),g=l[11],D=X0(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let T=0;T<c.length;T++)yf(g,f,c[T],D,!1);else yf(g,f,c,D,!1)}function Cy(a,l){if(null!==l){const c=l.type;if(3&c)return mi(l,a);if(4&c)return ew(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return Cy(a,d);{const f=a[l.index];return ir(f)?ew(-1,f):fi(f)}}if(32&c)return dy(l,a)()||fi(a[l.index]);{const d=J0(a,l);return null!==d?Array.isArray(d)?d[0]:Cy(mf(a[16]),d):Cy(a,l.next)}}return null}function J0(a,l){return null!==l?a[16][6].projection[l.projection]:null}function ew(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return Cy(d,f)}return l[7]}function Dy(a,l,c,d,f,g,v){for(;null!=c;){const D=d[c.index],T=c.type;if(v&&0===l&&(D&&xr(fi(D),d),c.flags|=4),64!=(64&c.flags))if(8&T)Dy(a,l,c.child,d,f,g,!1),Vd(l,a,f,D,g);else if(32&T){const G=dy(c,d);let de;for(;de=G();)Vd(l,a,f,de,g);Vd(l,a,f,D,g)}else 16&T?fS(a,l,d,c,f,g):Vd(l,a,f,D,g);c=v?c.projectionNext:c.next}}function vf(a,l,c,d,f,g){Dy(c,d,a.firstChild,l,f,g,!1)}function fS(a,l,c,d,f,g){const v=c[16],T=v[6].projection[d.projection];if(Array.isArray(T))for(let G=0;G<T.length;G++)Vd(l,a,f,T[G],g);else Dy(a,l,T,v[3],f,g,!0)}function Oa(a,l,c){a.setAttribute(l,"style",c)}function wf(a,l,c){""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c)}function Vg(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const g=l.length;if(f+g===d||a.charCodeAt(f+g)<=32)return f}c=f+1}}const Cf="ng-template";function Hd(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==Vg(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function ku(a){return 4===a.type&&a.value!==Cf}function jd(a,l,c){return l===(4!==a.type||c?a.value:Cf)}function Pu(a,l,c){let d=4;const f=a.attrs||[],g=function gS(a){for(let l=0;l<a.length;l++)if(yd(a[l]))return l;return a.length}(f);let v=!1;for(let D=0;D<l.length;D++){const T=l[D];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!jd(a,T,c)||""===T&&1===l.length){if(Fa(d))return!1;v=!0}}else{const G=8&d?T:l[++D];if(8&d&&null!==a.attrs){if(!Hd(a.attrs,G,c)){if(Fa(d))return!1;v=!0}continue}const Se=RR(8&d?"class":T,f,ku(a),c);if(-1===Se){if(Fa(d))return!1;v=!0;continue}if(""!==G){let je;je=Se>g?"":f[Se+1].toLowerCase();const Ye=8&d?je:null;if(Ye&&-1!==Vg(Ye,G,0)||2&d&&G!==je){if(Fa(d))return!1;v=!0}}}}else{if(!v&&!Fa(d)&&!Fa(T))return!1;if(v&&Fa(T))continue;v=!1,d=T|1&d}}return Fa(d)||v}function Fa(a){return 0==(1&a)}function RR(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let g=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)g=!0;else{if(1===v||2===v){let D=l[++f];for(;"string"==typeof D;)D=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=g?1:2}return-1}return function FR(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function pS(a,l,c=!1){for(let d=0;d<l.length;d++)if(Pu(a,l[d],c))return!0;return!1}function LR(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function mS(a,l){return a?":not("+l.trim()+")":l}function NR(a){let l=a[0],c=1,d=2,f="",g=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const D=a[++c];f+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Fa(v)&&(l+=mS(g,f),f=""),d=v,g=g||!Fa(d);c++}return""!==f&&(l+=mS(g,f)),l}const Dn={};function _S(a){tw(Cn(),gt(),vi()+a,!1)}function tw(a,l,c,d){if(!d)if(3==(3&l[2])){const g=a.preOrderCheckHooks;null!==g&&Lh(l,g,c)}else{const g=a.preOrderHooks;null!==g&&ya(l,g,0,c)}xs(c)}function wS(a,l=null,c=null,d){const f=CS(a,l,c,d);return f.resolveInjectorInitializers(),f}function CS(a,l=null,c=null,d,f=new Set){const g=[c||we,Er(a)];return d=d||("object"==typeof a?void 0:ce(a)),new Fd(g,l||tr(),d||null,f)}let Gd=(()=>{class a{static create(c,d){if(Array.isArray(c))return wS({name:""},d,c,"");{const f=c.name??"";return wS({name:f},c.parent,c.providers,f)}}}return a.THROW_IF_NOT_FOUND=Zr,a.NULL=new bg,a.\u0275prov=Q({token:a,providedIn:"any",factory:()=>di(tf)}),a.__NG_ELEMENT_ID__=-1,a})();function Ef(a,l=lt.Default){const c=gt();return null===c?di(a,l):zt(ai(),c,se(a),l)}function kS(){throw new Error("invalid")}function Sy(a,l){return a<<17|l<<2}function La(a){return a>>17&32767}function aw(a){return 2|a}function Ac(a){return(131068&a)>>2}function lw(a,l){return-131069&a|l<<2}function cw(a){return 1|a}function BS(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],g=c[d+1];if(-1!==g){const v=a.data[g];cl(f),v.contentQueries(2,l[g],g)}}}function Af(a,l,c,d,f,g,v,D,T,G,de){const Se=l.blueprint.slice();return Se[0]=f,Se[2]=76|d,(null!==de||a&&1024&a[2])&&(Se[2]|=1024),nl(Se),Se[3]=Se[15]=a,Se[8]=c,Se[10]=v||a&&a[10],Se[11]=D||a&&a[11],Se[12]=T||a&&a[12]||null,Se[9]=G||a&&a[9]||null,Se[6]=g,Se[20]=function XA(){return B0++}(),Se[21]=de,Se[16]=2==l.type?a[16]:Se,Se}function Tc(a,l,c,d,f){let g=a.data[l];if(null===g)g=function mw(a,l,c,d,f){const g=rl(),v=sl(),T=a.data[l]=function Gg(a,l,c,d,f,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}(a,l,c,d,f),function gd(){return Ht.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=f;const v=function Mo(){const a=Ht.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return yr(g,!0),g}function Ru(a,l,c,d){if(0===c)return-1;const f=l.length;for(let g=0;g<c;g++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function kl(a,l,c){dl(l);try{const d=a.viewQuery;null!==d&&Vy(1,d,c);const f=a.template;null!==f&&_w(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&BS(a,l),a.staticViewQueries&&Vy(2,a.viewQuery,c);const g=a.components;null!==g&&function US(a,l){for(let c=0;c<l.length;c++)ZS(a,l[c])}(l,g)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,lu()}}function Sf(a,l,c,d){const f=l[2];if(128!=(128&f)){dl(l);try{nl(l),function su(a){return Ht.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&_w(a,l,c,2,d);const v=3==(3&f);if(v){const G=a.preOrderCheckHooks;null!==G&&Lh(l,G,null)}else{const G=a.preOrderHooks;null!==G&&ya(l,G,0,null),eo(l,0)}if(function gO(a){for(let l=kg(a);null!==l;l=fy(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],g=f[3];0==(512&f[2])&&fa(g,1),f[2]|=512}}}(l),function pO(a){for(let l=kg(a);null!==l;l=fy(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];Gr(d)&&Sf(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&BS(a,l),v){const G=a.contentCheckHooks;null!==G&&Lh(l,G)}else{const G=a.contentHooks;null!==G&&ya(l,G,1),eo(l,1)}!function Ii(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)xs(~f);else{const g=f,v=c[++d],D=c[++d];al(v,g),D(2,l[g])}}}finally{xs(-1)}}(a,l);const D=a.components;null!==D&&function gw(a,l){for(let c=0;c<l.length;c++)$g(a,l[c])}(l,D);const T=a.viewQuery;if(null!==T&&Vy(2,T,d),v){const G=a.viewCheckHooks;null!==G&&Lh(l,G)}else{const G=a.viewHooks;null!==G&&ya(l,G,2),eo(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,fa(l[3],-1))}finally{lu()}}}function HS(a,l,c,d){const f=l[10],v=Ss(l);try{!v&&f.begin&&f.begin(),v&&kl(a,l,d),Sf(a,l,c,d)}finally{!v&&f.end&&f.end()}}function _w(a,l,c,d,f){const g=vi(),v=2&d;try{xs(-1),v&&l.length>22&&tw(a,l,22,!1),c(d,f)}finally{xs(g)}}function Tf(a,l,c){if(ua(l)){const f=l.directiveEnd;for(let g=l.directiveStart;g<f;g++){const v=a.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function Hg(a,l,c){!il()||(function zS(a,l,c,d){const f=c.directiveStart,g=c.directiveEnd;a.firstCreatePass||Yn(c,l),xr(d,l);const v=c.initialInputs;for(let D=f;D<g;D++){const T=a.data[D],G=as(T);G&&qS(l,c,T);const de=io(l,a,D,c);xr(de,l),null!==v&&hO(0,D-f,de,T,0,v),G&&(Fi(c.index,l)[8]=de)}}(a,l,c,mi(c,l)),128==(128&c.flags)&&function $S(a,l,c){const d=c.directiveStart,f=c.directiveEnd,g=c.index,v=function Ph(){return Ht.lFrame.currentDirectiveIndex}();try{xs(g);for(let D=d;D<f;D++){const T=a.data[D],G=l[D];Io(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&Cw(T,G)}}finally{xs(-1),Io(v)}}(a,l,c))}function jg(a,l,c=mi){const d=l.localNames;if(null!==d){let f=l.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],D=-1===v?c(l,a):a[v];a[f++]=D}}}function Py(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=Ry(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function Ry(a,l,c,d,f,g,v,D,T,G){const de=22+d,Se=de+f,je=function jS(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Dn);return c}(de,Se),Ye="function"==typeof G?G():G;return je[1]={type:a,blueprint:je,template:c,queries:null,viewQuery:D,declTNode:l,data:je.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:Se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:Ye,incompleteFirstPass:!1}}function Fy(a,l,c,d){const f=Uy(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&Hy(a).push(d,f.length-1))}function zg(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function yw(a,l){const d=l.directiveEnd,f=a.data,g=l.attrs,v=[];let D=null,T=null;for(let G=l.directiveStart;G<d;G++){const de=f[G],Se=de.inputs,je=null===g||ku(l)?null:fO(Se,g);v.push(je),D=zg(Se,G,D),T=zg(de.outputs,G,T)}null!==D&&(D.hasOwnProperty("class")&&(l.flags|=16),D.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=D,l.outputs=T}function gs(a,l,c,d,f,g,v,D){const T=mi(l,c);let de,G=l.inputs;!D&&null!=G&&(de=G[d])?(qg(a,c,de,d,f),Do(l)&&vw(c,l.index)):3&l.type&&(d=function Ly(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,l.value||"",d):f,g.setProperty(T,d,f))}function vw(a,l){const c=Fi(l,a);16&c[2]||(c[2]|=32)}function $d(a,l,c,d){let f=!1;if(il()){const g=function WS(a,l,c){const d=a.directiveRegistry;let f=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];pS(c,v.selectors,!1)&&(f||(f=[]),oc(Yn(c,l),a,v.type),as(v)?(Dw(a,c),f.unshift(v)):f.push(v))}return f}(a,l,c),v=null===d?null:{"":-1};if(null!==g){f=!0,Sw(c,a.data.length,g.length);for(let de=0;de<g.length;de++){const Se=g[de];Se.providersResolver&&Se.providersResolver(Se)}let D=!1,T=!1,G=Ru(a,l,g.length,null);for(let de=0;de<g.length;de++){const Se=g[de];c.mergedAttrs=rc(c.mergedAttrs,Se.hostAttrs),Tw(a,c,l,G,Se),Aw(G,Se,v),null!==Se.contentQueries&&(c.flags|=8),(null!==Se.hostBindings||null!==Se.hostAttrs||0!==Se.hostVars)&&(c.flags|=128);const je=Se.type.prototype;!D&&(je.ngOnChanges||je.ngOnInit||je.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),D=!0),!T&&(je.ngOnChanges||je.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),T=!0),G++}yw(a,c)}v&&function Ew(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const g=c[l[f+1]];if(null==g)throw new q(-301,!1);d.push(l[f],g)}}}(c,d,v)}return c.mergedAttrs=rc(c.mergedAttrs,c.attrs),f}function ww(a,l,c,d,f,g){const v=g.hostBindings;if(v){let D=a.hostBindingOpCodes;null===D&&(D=a.hostBindingOpCodes=[]);const T=~l.index;(function GS(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(D)!=T&&D.push(T),D.push(d,f,v)}}function Cw(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function Dw(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function Aw(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;as(l)&&(c[""]=a)}}function Sw(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function Tw(a,l,c,d,f){a.data[d]=f;const g=f.factory||(f.factory=Qs(f.type)),v=new fl(g,as(f),Ef);a.blueprint[d]=v,c[d]=v,ww(a,l,0,d,Ru(a,c,f.hostVars,Dn),f)}function qS(a,l,c){const d=mi(l,a),f=Py(c),g=a[10],v=Mf(a,Af(a,f,null,c.onPush?32:16,d,l,g,g.createRenderer(d,c),null,null,null));a[l.index]=v}function Na(a,l,c,d,f,g){const v=mi(a,l);!function xf(a,l,c,d,f,g,v){if(null==g)a.removeAttribute(l,f,c);else{const D=null==v?z(g):v(g,d||"",f);a.setAttribute(l,f,D,c)}}(l[11],v,g,a.value,c,d,f)}function hO(a,l,c,d,f,g){const v=g[l];if(null!==v){const D=d.setInput;for(let T=0;T<v.length;){const G=v[T++],de=v[T++],Se=v[T++];null!==D?d.setInput(c,Se,G,de):c[de]=Se}}}function fO(a,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function YS(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function $g(a,l){const c=Fi(l,a);if(Gr(c)){const d=c[1];48&c[2]?Sf(d,c,d.template,c[8]):c[5]>0&&Wd(c)}}function Wd(a){for(let d=kg(a);null!==d;d=fy(d))for(let f=10;f<d.length;f++){const g=d[f];if(512&g[2]){const v=g[1];Sf(v,g,v.template,g[8])}else g[5]>0&&Wd(g)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Fi(c[d],a);Gr(f)&&f[5]>0&&Wd(f)}}function ZS(a,l){const c=Fi(l,a),d=c[1];(function KS(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),kl(d,c,c[8])}function Mf(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function xc(a){for(;a;){a[2]|=32;const l=mf(a);if(Qa(a)&&!l)return a;a=l}return null}function Mw(a){!function xw(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=ay(c);if(null!==d){const f=d[1];HS(f,d,f.template,c)}}}(a[8])}function Vy(a,l,c){cl(0),l(a,c)}const Pl=(()=>Promise.resolve(null))();function Uy(a){return a[7]||(a[7]=[])}function Hy(a){return a.cleanup||(a.cleanup=[])}function jy(a,l,c){return(null===a||as(a))&&(c=function hd(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function Wg(a,l){const c=a[9],d=c?c.get(ff,null):null;d&&d.handleError(l)}function qg(a,l,c,d,f){for(let g=0;g<c.length;){const v=c[g++],D=c[g++],T=l[v],G=a.data[v];null!==G.setInput?G.setInput(T,f,d,D):T[D]=f}}function uo(a,l,c){const d=tl(l,a);!function Z0(a,l,c){a.setValue(l,c)}(a[11],d,c)}function Yg(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,g=0;if(null!==l)for(let v=0;v<l.length;v++){const D=l[v];"number"==typeof D?g=D:1==g?f=he(f,D):2==g&&(d=he(d,D+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}function Zg(a,l,c,d,f=!1){for(;null!==c;){const g=l[c.index];if(null!==g&&d.push(fi(g)),ir(g))for(let D=10;D<g.length;D++){const T=g[D],G=T[1].firstChild;null!==G&&Zg(T[1],T,G,d)}const v=c.type;if(8&v)Zg(a,l,c.child,d);else if(32&v){const D=dy(c,l);let T;for(;T=D();)d.push(T)}else if(16&v){const D=J0(l,c);if(Array.isArray(D))d.push(...D);else{const T=mf(l[16]);Zg(T[1],T,D,d,!0)}}c=f?c.projectionNext:c.next}return d}class If{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Zg(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(ir(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(_f(l,d),bl(c,d))}this._attachedToViewContainer=!1}Ci(this._lView[1],this._lView)}onDestroy(l){Fy(this._lView[1],this._lView,null,l)}markForCheck(){xc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Ny(a,l,c){const d=l[10];d.begin&&d.begin();try{Sf(a,l,a.template,c)}catch(f){throw Wg(l,f),f}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function IR(a,l){vf(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=l}}class JS extends If{constructor(l){super(l),this._view=l}detectChanges(){Mw(this._view)}checkNoChanges(){}get context(){return null}}class mr extends _e{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=sn(l);return new Kg(c,this.ngModule)}}function eT(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class Iw{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){const f=this.injector.get(l,Tu,d);return f!==Tu||c===Tu?f:this.parentInjector.get(l,c,d)}}class Kg extends y{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function VR(a){return a.map(NR).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return eT(this.componentDef.inputs)}get outputs(){return eT(this.componentDef.outputs)}create(l,c,d,f){let g=(f=f||this.ngModule)instanceof ka?f:f?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new Iw(l,g):l,D=v.get(tn,null);if(null===D)throw new q(407,!1);const T=v.get(Ml,null),G=D.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",Se=d?function cO(a,l,c){return a.selectRootElement(l,c===me.ShadowDom)}(G,d,this.componentDef.encapsulation):my(D.createRenderer(null,this.componentDef),de,function kf(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(de)),je=this.componentDef.onPush?288:272,Ye=function vO(a,l){return{components:[],scheduler:a||cy,clean:Pl,playerHandler:l||null,flags:0}}(),ht=Ry(0,null,null,1,0,null,null,null,null,null),Et=Af(null,ht,Ye,je,null,null,D,G,T,v,null);let Ft,Gt;dl(Et);try{const cn=function kw(a,l,c,d,f,g){const v=c[1];c[22]=a;const T=Tc(v,22,2,"#host",null),G=T.mergedAttrs=l.hostAttrs;null!==G&&(Yg(T,G,!0),null!==a&&(Po(f,a,G),null!==T.classes&&wf(f,a,T.classes),null!==T.styles&&Oa(f,a,T.styles)));const de=d.createRenderer(a,l),Se=Af(c,Py(l),null,l.onPush?32:16,c[22],T,d,de,g||null,null,null);return v.firstCreatePass&&(oc(Yn(T,c),v,l.type),Dw(v,T),Sw(T,c.length,1)),Mf(c,Se),c[22]=Se}(Se,this.componentDef,Et,D,G);if(Se)if(d)Po(G,Se,["ng-version",Pa.full]);else{const{attrs:vt,classes:Qt}=function BR(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let g=a[d];if("string"==typeof g)2===f?""!==g&&l.push(g,a[++d]):8===f&&c.push(g);else{if(!Fa(f))break;f=g}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);vt&&Po(G,Se,vt),Qt&&Qt.length>0&&wf(G,Se,Qt.join(" "))}if(Gt=ha(ht,22),void 0!==c){const vt=Gt.projection=[];for(let Qt=0;Qt<this.ngContentSelectors.length;Qt++){const Mn=c[Qt];vt.push(null!=Mn?Array.from(Mn):null)}}Ft=function yO(a,l,c,d,f){const g=c[1],v=function dO(a,l,c){const d=ai();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),Tw(a,d,l,Ru(a,l,1,null),c),yw(a,d));const f=io(l,a,d.directiveStart,d);xr(f,l);const g=mi(d,l);return g&&xr(g,l),f}(g,c,l);if(d.components.push(v),a[8]=v,null!==f)for(const T of f)T(v,l);if(l.contentQueries){const T=ai();l.contentQueries(1,v,T.directiveStart)}const D=ai();return!g.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(xs(D.index),ww(c[1],D,0,D.directiveStart,D.directiveEnd,l),Cw(l,v)),v}(cn,this.componentDef,Et,Ye,[tT]),kl(ht,Et,null)}finally{lu()}return new _O(this.componentType,Ft,tt(Gt,Et),Et,Gt)}}class _O extends class J_{}{constructor(l,c,d,f,g){super(),this.location=d,this._rootLView=f,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new JS(f),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const g=this._rootLView;qg(g[1],g,f,l,c),vw(g,this._tNode.index)}}get injector(){return new cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function tT(){const a=ai();Fh(gt()[1],a)}function Pw(a){let l=function Bn(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(as(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new q(903,!1);f=l.\u0275dir}if(f){if(c){d.push(f);const v=a;v.inputs=Rw(a.inputs),v.declaredInputs=Rw(a.declaredInputs),v.outputs=Rw(a.outputs);const D=f.hostBindings;D&&Ou(a,D);const T=f.viewQuery,G=f.contentQueries;if(T&&Pf(a,T),G&&Rf(a,G),B(a.inputs,f.inputs),B(a.declaredInputs,f.declaredInputs),B(a.outputs,f.outputs),as(f)&&f.data.animation){const de=a.data;de.animation=(de.animation||[]).concat(f.data.animation)}}const g=f.features;if(g)for(let v=0;v<g.length;v++){const D=g[v];D&&D.ngInherit&&D(a),D===Pw&&(c=!1)}}l=Object.getPrototypeOf(l)}!function wO(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=rc(f.hostAttrs,c=rc(c,f.hostAttrs))}}(d)}function Rw(a){return a===Ne?{}:a===we?[]:a}function Pf(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function Rf(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,g)=>{l(d,f,g),c(d,f,g)}:l}function Ou(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let Qg=null;function Fu(){if(!Qg){const a=xe.Symbol;if(a&&a.iterator)Qg=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Qg=d)}}}return Qg}function Zo(a){return!!zy(a)&&(Array.isArray(a)||!(a instanceof Map)&&Fu()in a)}function zy(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Va(a,l,c){return a[l]=c}function Qr(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function Mc(a,l,c,d){const f=Qr(a,l,c);return Qr(a,l+1,d)||f}function Lu(a,l,c,d){const f=gt();return Qr(f,_a(),l)&&(Cn(),Na(Wn(),f,a,l,c,d)),Lu}function Vu(a,l,c,d,f,g){const D=Mc(a,function vr(){return Ht.lFrame.bindingIndex}(),c,f);return zr(2),D?l+z(c)+d+z(f)+g:Dn}function cT(a,l,c,d,f,g,v,D){const T=gt(),G=Cn(),de=a+22,Se=G.firstCreatePass?function SO(a,l,c,d,f,g,v,D,T){const G=l.consts,de=Tc(l,a,4,v||null,Ji(G,D));$d(l,c,de,Ji(G,T)),Fh(l,de);const Se=de.tViews=Ry(2,de,d,f,g,l.directiveRegistry,l.pipeRegistry,null,l.schemas,G);return null!==l.queries&&(l.queries.template(l,de),Se.queries=l.queries.embeddedTView(de)),de}(de,G,T,l,c,d,f,g,v):G.data[de];yr(Se,!1);const je=T[11].createComment("");wy(G,T,je,Se),xr(je,T),Mf(T,T[de]=YS(je,T,je,Se)),Eo(Se)&&Hg(G,T,Se),null!=v&&jg(T,Se,D)}function uT(a){return ls(function pd(){return Ht.lFrame.contextLView}(),22+a)}function Lw(a,l,c){const d=gt();return Qr(d,_a(),l)&&gs(Cn(),Wn(),d,a,l,d[11],c,!1),Lw}function Nw(a,l,c,d,f){const v=f?"class":"style";qg(a,c,l.inputs[v],v,d)}function Xg(a,l,c,d){const f=gt(),g=Cn(),v=22+a,D=f[11],T=f[v]=my(D,l,function uu(){return Ht.lFrame.currentNamespace}()),G=g.firstCreatePass?function xO(a,l,c,d,f,g,v){const D=l.consts,G=Tc(l,a,2,f,Ji(D,g));return $d(l,c,G,Ji(D,v)),null!==G.attrs&&Yg(G,G.attrs,!1),null!==G.mergedAttrs&&Yg(G,G.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,G),G}(v,g,f,0,l,c,d):g.data[v];yr(G,!0);const de=G.mergedAttrs;null!==de&&Po(D,T,de);const Se=G.classes;null!==Se&&wf(D,T,Se);const je=G.styles;return null!==je&&Oa(D,T,je),64!=(64&G.flags)&&wy(g,f,T,G),0===function ru(){return Ht.lFrame.elementDepthCount}()&&xr(T,f),function So(){Ht.lFrame.elementDepthCount++}(),Eo(G)&&(Hg(g,f,G),Tf(g,G,f)),null!==d&&jg(f,G),Xg}function Jg(){let a=ai();sl()?Ts():(a=a.parent,yr(a,!1));const l=a;!function To(){Ht.lFrame.elementDepthCount--}();const c=Cn();return c.firstCreatePass&&(Fh(c,a),ua(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Nh(a){return 0!=(16&a.flags)}(l)&&Nw(c,l,gt(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function ig(a){return 0!=(32&a.flags)}(l)&&Nw(c,l,gt(),l.stylesWithoutHost,!1),Jg}function Vw(a,l,c,d){return Xg(a,l,c,d),Jg(),Vw}function em(a,l,c){const d=gt(),f=Cn(),g=a+22,v=f.firstCreatePass?function dT(a,l,c,d,f){const g=l.consts,v=Ji(g,d),D=Tc(l,a,8,"ng-container",v);return null!==v&&Yg(D,v,!0),$d(l,c,D,Ji(g,f)),null!==l.queries&&l.queries.elementStart(l,D),D}(g,f,d,l,c):f.data[g];yr(v,!0);const D=d[g]=d[11].createComment("");return wy(f,d,D,v),xr(D,d),Eo(v)&&(Hg(f,d,v),Tf(f,v,d)),null!=c&&jg(d,v),em}function tm(){let a=ai();const l=Cn();return sl()?Ts():(a=a.parent,yr(a,!1)),l.firstCreatePass&&(Fh(l,a),ua(a)&&l.queries.elementEnd(a)),tm}function hT(){return gt()}function Nf(a){return!!a&&"function"==typeof a.then}function Bw(a){return!!a&&"function"==typeof a.subscribe}const Uw=Bw;function Wy(a,l,c,d){const f=gt(),g=Cn(),v=ai();return fT(g,f,f[11],v,a,l,0,d),Wy}function qy(a,l){const c=ai(),d=gt(),f=Cn();return fT(f,d,jy(ll(f.data),c,d),c,a,l),qy}function fT(a,l,c,d,f,g,v,D){const T=Eo(d),de=a.firstCreatePass&&Hy(a),Se=l[8],je=Uy(l);let Ye=!0;if(3&d.type||D){const Ft=mi(d,l),Gt=D?D(Ft):Ft,cn=je.length,vt=D?Mn=>D(fi(Mn[d.index])):d.index;let Qt=null;if(!D&&T&&(Qt=function MO(a,l,c,d){const f=a.cleanup;if(null!=f)for(let g=0;g<f.length-1;g+=2){const v=f[g];if(v===c&&f[g+1]===d){const D=l[7],T=f[g+2];return D.length>T?D[T]:null}"string"==typeof v&&(g+=2)}return null}(a,l,f,d.index)),null!==Qt)(Qt.__ngLastListenerFn__||Qt).__ngNextListenerFn__=g,Qt.__ngLastListenerFn__=g,Ye=!1;else{g=Hw(d,l,Se,g,!1);const Mn=c.listen(Gt,f,g);je.push(g,Mn),de&&de.push(f,vt,cn,cn+1)}}else g=Hw(d,l,Se,g,!1);const ht=d.outputs;let Et;if(Ye&&null!==ht&&(Et=ht[f])){const Ft=Et.length;if(Ft)for(let Gt=0;Gt<Ft;Gt+=2){const ii=l[Et[Gt]][Et[Gt+1]].subscribe(g),Vl=je.length;je.push(g,ii),de&&de.push(f,d.index,Vl,-(Vl+1))}}}function nm(a,l,c,d){try{return!1!==c(d)}catch(f){return Wg(a,f),!1}}function Hw(a,l,c,d,f){return function g(v){if(v===Function)return d;xc(2&a.flags?Fi(a.index,l):l);let T=nm(l,0,d,v),G=g.__ngNextListenerFn__;for(;G;)T=nm(l,0,G,v)&&T,G=G.__ngNextListenerFn__;return f&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function pT(a=1){return function tc(a){return(Ht.lFrame.contextLView=function nc(a,l){for(;a>0;)l=l[15],a--;return l}(a,Ht.lFrame.contextLView))[8]}(a)}function Yy(a,l){let c=null;const d=function OR(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const g=l[f];if("*"!==g){if(null===d?pS(a,g,!0):LR(d,g))return f}else c=f}return c}function gT(a){const l=gt()[16][6];if(!l.projection){const d=l.projection=ds(a?a.length:1,null),f=d.slice();let g=l.child;for(;null!==g;){const v=a?Yy(g,a):0;null!==v&&(f[v]?f[v].projectionNext=g:d[v]=g,f[v]=g),g=g.next}}}function mT(a,l=0,c){const d=gt(),f=Cn(),g=Tc(f,22+a,16,null,c||null);null===g.projection&&(g.projection=l),Ts(),64!=(64&g.flags)&&function hS(a,l,c){fS(l[11],0,l,c,yy(a,c,l),X0(c.parent||l[6],c,l))}(f,d,g)}function Ww(a,l,c,d,f){const g=a[c+1],v=null===l;let D=d?La(g):Ac(g),T=!1;for(;0!==D&&(!1===T||v);){const de=a[D+1];zn(a[D],l)&&(T=!0,a[D+1]=d?cw(de):aw(de)),D=d?La(de):Ac(de)}T&&(a[c+1]=d?aw(g):cw(g))}function zn(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Is(a,l)>=0}function Kw(a,l,c){return Xr(a,l,c,!1),Kw}function rm(a,l){return Xr(a,l,null,!0),rm}function Xr(a,l,c,d){const f=gt(),g=Cn(),v=zr(2);g.firstUpdatePass&&function Xw(a,l,c,d){const f=a.data;if(null===f[c+1]){const g=f[vi()],v=function sm(a,l){return l>=a.expandoStartIndex}(a,c);(function nC(a,l){return 0!=(a.flags&(l?16:32))})(g,d)&&null===l&&!v&&(l=!1),l=function ST(a,l,c,d){const f=ll(a);let g=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=Bf(c=Ky(null,a,l,c,d),l.attrs,d),g=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(c=Ky(f,a,l,c,d),null===g){let T=function TT(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==Ac(d))return a[La(d)]}(a,l,d);void 0!==T&&Array.isArray(T)&&(T=Ky(null,a,l,T[1],d),T=Bf(T,l.attrs,d),function xT(a,l,c,d){a[La(c?l.classBindings:l.styleBindings)]=d}(a,l,d,T))}else g=function MT(a,l,c){let d;const f=l.directiveEnd;for(let g=1+l.directiveStylingLast;g<f;g++)d=Bf(d,a[g].hostAttrs,c);return Bf(d,l.attrs,c)}(a,l,d)}return void 0!==g&&(d?l.residualClasses=g:l.residualStyles=g),c}(f,g,l,d),function wT(a,l,c,d,f,g){let v=g?l.classBindings:l.styleBindings,D=La(v),T=Ac(v);a[d]=c;let de,G=!1;if(Array.isArray(c)){const Se=c;de=Se[1],(null===de||Is(Se,de)>0)&&(G=!0)}else de=c;if(f)if(0!==T){const je=La(a[D+1]);a[d+1]=Sy(je,D),0!==je&&(a[je+1]=lw(a[je+1],d)),a[D+1]=function tO(a,l){return 131071&a|l<<17}(a[D+1],d)}else a[d+1]=Sy(D,0),0!==D&&(a[D+1]=lw(a[D+1],d)),D=d;else a[d+1]=Sy(T,0),0===D?D=d:a[T+1]=lw(a[T+1],d),T=d;G&&(a[d+1]=aw(a[d+1])),Ww(a,de,d,!0),Ww(a,de,d,!1),function CT(a,l,c,d,f){const g=f?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof l&&Is(g,l)>=0&&(c[d+1]=cw(c[d+1]))}(l,de,a,d,g),v=Sy(D,T),g?l.classBindings=v:l.styleBindings=v}(f,g,l,c,v,d)}}(g,a,v,d),l!==Dn&&Qr(f,v,l)&&function eC(a,l,c,d,f,g,v,D){if(!(3&l.type))return;const T=a.data,G=T[D+1];om(function OS(a){return 1==(1&a)}(G)?tC(T,l,c,f,Ac(G),v):void 0)||(om(g)||function RS(a){return 2==(2&a)}(G)&&(g=tC(T,null,c,f,D,v)),function bf(a,l,c,d,f){if(l)f?a.addClass(c,d):a.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Wo.DashCase;null==f?a.removeStyle(c,d,g):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),g|=Wo.Important),a.setStyle(c,d,f,g))}}(d,v,tl(vi(),c),f,g))}(g,g.data[vi()],f,f[11],a,f[v+1]=function PT(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=ce(Go(a)))),a}(l,c),d,v)}function Ky(a,l,c,d,f){let g=null;const v=c.directiveEnd;let D=c.directiveStylingLast;for(-1===D?D=c.directiveStart:D++;D<v&&(g=l[D],d=Bf(d,g.hostAttrs,f),g!==a);)D++;return null!==a&&(c.directiveStylingLast=D),d}function Bf(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let g=0;g<l.length;g++){const v=l[g];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Gi(a,v,!!c||l[++g]))}return void 0===a?null:a}function tC(a,l,c,d,f,g){const v=null===l;let D;for(;f>0;){const T=a[f],G=Array.isArray(T),de=G?T[1]:T,Se=null===de;let je=c[f+1];je===Dn&&(je=Se?we:void 0);let Ye=Se?hc(je,d):de===d?je:void 0;if(G&&!om(Ye)&&(Ye=hc(T,d)),om(Ye)&&(D=Ye,v))return D;const ht=a[f+1];f=v?La(ht):Ac(ht)}if(null!==l){let T=g?l.residualClasses:l.residualStyles;null!=T&&(D=hc(T,d))}return D}function om(a){return void 0!==a}function iC(a,l=""){const c=gt(),d=Cn(),f=a+22,g=d.firstCreatePass?Tc(d,f,1,l,null):d.data[f],v=c[f]=function Pg(a,l){return a.createText(l)}(c[11],l);wy(d,c,v,g),yr(g,!1)}function Qy(a){return Uf("",a,""),Qy}function Uf(a,l,c){const d=gt(),f=function qd(a,l,c,d){return Qr(a,_a(),c)?l+z(c)+d:Dn}(d,a,l,c);return f!==Dn&&uo(d,vi(),f),Uf}function Xy(a,l,c,d,f){const g=gt(),v=Vu(g,a,l,c,d,f);return v!==Dn&&uo(g,vi(),v),Xy}function sv(a,l,c){const d=gt();return Qr(d,_a(),l)&&gs(Cn(),Wn(),d,a,l,d[11],c,!0),sv}function ov(a,l,c){const d=gt();if(Qr(d,_a(),l)){const g=Cn(),v=Wn();gs(g,v,d,a,l,jy(ll(g.data),v,d),c,!0)}return ov}const Ha=void 0;var Rc=["en",[["a","p"],["AM","PM"],Ha],[["AM","PM"],Ha,Ha],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ha,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ha,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ha,"{1} 'at' {0}",Ha],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $T(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Hu={};function ja(a){const l=function hC(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=av(l);if(c)return c;const d=l.split("-")[0];if(c=av(d),c)return c;if("en"===d)return Rc;throw new q(701,!1)}function Qd(a){return ja(a)[ln.PluralCase]}function av(a){return a in Hu||(Hu[a]=xe.ng&&xe.ng.common&&xe.ng.common.locales&&xe.ng.common.locales[a]),Hu[a]}var ln=(()=>((ln=ln||{})[ln.LocaleId=0]="LocaleId",ln[ln.DayPeriodsFormat=1]="DayPeriodsFormat",ln[ln.DayPeriodsStandalone=2]="DayPeriodsStandalone",ln[ln.DaysFormat=3]="DaysFormat",ln[ln.DaysStandalone=4]="DaysStandalone",ln[ln.MonthsFormat=5]="MonthsFormat",ln[ln.MonthsStandalone=6]="MonthsStandalone",ln[ln.Eras=7]="Eras",ln[ln.FirstDayOfWeek=8]="FirstDayOfWeek",ln[ln.WeekendRange=9]="WeekendRange",ln[ln.DateFormat=10]="DateFormat",ln[ln.TimeFormat=11]="TimeFormat",ln[ln.DateTimeFormat=12]="DateTimeFormat",ln[ln.NumberSymbols=13]="NumberSymbols",ln[ln.NumberFormats=14]="NumberFormats",ln[ln.CurrencyCode=15]="CurrencyCode",ln[ln.CurrencySymbol=16]="CurrencySymbol",ln[ln.CurrencyName=17]="CurrencyName",ln[ln.Currencies=18]="Currencies",ln[ln.Directionality=19]="Directionality",ln[ln.PluralCase=20]="PluralCase",ln[ln.ExtraData=21]="ExtraData",ln))();const ju="en-US";let lv=ju;function Em(a,l,c,d,f){if(a=se(a),Array.isArray(a))for(let g=0;g<a.length;g++)Em(a[g],l,c,d,f);else{const g=Cn(),v=gt();let D=$i(a)?a:se(a.provide),T=cf(a);const G=ai(),de=1048575&G.providerIndexes,Se=G.directiveStart,je=G.providerIndexes>>20;if($i(a)||!a.multi){const Ye=new fl(T,f,Ef),ht=RC(D,l,f?de:de+je,Se);-1===ht?(oc(Yn(G,v),g,D),Am(g,a,l.length),l.push(D),G.directiveStart++,G.directiveEnd++,f&&(G.providerIndexes+=1048576),c.push(Ye),v.push(Ye)):(c[ht]=Ye,v[ht]=Ye)}else{const Ye=RC(D,l,de+je,Se),ht=RC(D,l,de,de+je),Et=Ye>=0&&c[Ye],Ft=ht>=0&&c[ht];if(f&&!Ft||!f&&!Et){oc(Yn(G,v),g,D);const Gt=function $O(a,l,c,d,f){const g=new fl(a,c,Ef);return g.multi=[],g.index=l,g.componentProviders=0,th(g,f,d&&!c),g}(f?OC:ox,c.length,f,d,T);!f&&Ft&&(c[ht].providerFactory=Gt),Am(g,a,l.length,0),l.push(D),G.directiveStart++,G.directiveEnd++,f&&(G.providerIndexes+=1048576),c.push(Gt),v.push(Gt)}else Am(g,a,Ye>-1?Ye:ht,th(c[f?ht:Ye],T,!f&&d));!f&&d&&Ft&&c[ht].componentProviders++}}}function Am(a,l,c,d){const f=$i(l),g=function wg(a){return!!a.useClass}(l);if(f||g){const T=(g?se(l.useClass):l).prototype.ngOnDestroy;if(T){const G=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const de=G.indexOf(c);-1===de?G.push(c,[d,T]):G[de+1].push(d,T)}else G.push(c,T)}}}function th(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function RC(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function ox(a,l,c,d){return FC(this.multi,[])}function OC(a,l,c,d){const f=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=io(c,c[1],this.providerFactory.index,d);g=D.slice(0,v),FC(f,g);for(let T=v;T<D.length;T++)g.push(D[T])}else g=[],FC(f,g);return g}function FC(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function ax(a,l=[]){return c=>{c.providersResolver=(d,f)=>function Dm(a,l,c){const d=Cn();if(d.firstCreatePass){const f=as(a);Em(c,d.data,d.blueprint,f,!0),Em(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class Zf{}class LC{}function NC(a,l){return new wv(a,l??null)}class wv extends Zf{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new mr(this);const d=Rn(l);this._bootstrapComponents=Ec(d.bootstrap),this._r3Injector=CS(l,c,[{provide:Zf,useValue:this},{provide:_e,useValue:this.componentFactoryResolver}],ce(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class Sm extends LC{constructor(l){super(),this.moduleType=l}create(l){return new wv(this.moduleType,l)}}class VC extends Zf{constructor(l,c,d){super(),this.componentFactoryResolver=new mr(this),this.instance=null;const f=new Fd([...l,{provide:Zf,useValue:this},{provide:_e,useValue:this.componentFactoryResolver}],c||tr(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function Cv(a,l,c=null){return new VC(a,l,c).injector}function xv(a,l,c,d){return kv(gt(),Ui(),a,l,c,d)}function YC(a,l,c,d,f){return Pv(gt(),Ui(),a,l,c,d,f)}function Kf(a,l){const c=a[l];return c===Dn?void 0:c}function kv(a,l,c,d,f,g){const v=l+c;return Qr(a,v,f)?Va(a,v+1,g?d.call(g,f):d(f)):Kf(a,v+1)}function Pv(a,l,c,d,f,g,v){const D=l+c;return Mc(a,D,f,g)?Va(a,D+2,v?d.call(v,f,g):d(f,g)):Kf(a,D+2)}function QC(a,l){const c=Cn();let d;const f=a+22;c.firstCreatePass?(d=function XC(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const g=d.factory||(d.factory=Qs(d.type)),v=Rt(Ef);try{const D=br(!1),T=g();return br(D),function TO(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,gt(),f,T),T}finally{Rt(v)}}function JC(a,l,c){const d=a+22,f=gt(),g=ls(f,d);return Qf(f,d)?kv(f,Ui(),l,g.transform,c,g):g.transform(c)}function xm(a,l,c,d){const f=a+22,g=gt(),v=ls(g,f);return Qf(g,f)?Pv(g,Ui(),l,v.transform,c,d,v):v.transform(c,d)}function Qf(a,l){return a[1].data[l].pure}function Ov(a){return l=>{setTimeout(a,void 0,l)}}const Qo=class nD extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let f=l,g=c||(()=>null),v=d;if(l&&"object"==typeof l){const T=l;f=T.next?.bind(T),g=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(g=Ov(g),f&&(f=Ov(f)),v&&(v=Ov(v)));const D=super.subscribe({next:f,error:g,complete:v});return l instanceof te.w0&&l.add(D),D}};function yx(){return this._results[Fu()]()}class Xf{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Fu(),d=Xf.prototype;d[c]||(d[c]=yx)}get changes(){return this._changes||(this._changes=new Qo)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=Ti(l);(this._changesDetected=!function Ea(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],g=l[d];if(c&&(f=c(f),g=c(g)),g!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Mm=(()=>{class a{}return a.__NG_ELEMENT_ID__=iD,a})();const ZO=Mm,KO=class extends ZO{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tViews,f=Af(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),kl(d,f,l),new If(f)}};function iD(){return Im(ai(),gt())}function Im(a,l){return 4&a.type?new KO(l,a,tt(a,l)):null}let Jf=(()=>{class a{}return a.__NG_ELEMENT_ID__=rD,a})();function rD(){return bx(ai(),gt())}const QO=Jf,vx=class extends QO{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return tt(this._hostTNode,this._hostLView)}get injector(){return new cs(this._hostTNode,this._hostLView)}get parentInjector(){const l=sc(this._hostTNode,this._hostLView);if(Uh(l)){const c=Wr(l,this._hostLView),d=pl(l);return new cs(c[1].data[d+8],c)}return new cs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=Fv(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){let f,g;"number"==typeof d?f=d:null!=d&&(f=d.index,g=d.injector);const v=l.createEmbeddedView(c||{},g);return this.insert(v,f),v}createComponent(l,c,d,f,g){const v=l&&!function gr(a){return"function"==typeof a}(l);let D;if(v)D=c;else{const Se=c||{};D=Se.index,d=Se.injector,f=Se.projectableNodes,g=Se.environmentInjector||Se.ngModuleRef}const T=v?l:new Kg(sn(l)),G=d||this.parentInjector;if(!g&&null==T.ngModule){const je=(v?G:this.parentInjector).get(ka,null);je&&(g=je)}const de=T.create(G,f,void 0,g);return this.insert(de.hostView,D),de}insert(l,c){const d=l._lView,f=d[1];if(function fd(a){return ir(a[3])}(d)){const de=this.indexOf(l);if(-1!==de)this.detach(de);else{const Se=d[3],je=new vx(Se,Se[6],Se[3]);je.detach(je.indexOf(l))}}const g=this._adjustIndex(c),v=this._lContainer;!function Rg(a,l,c,d){const f=10+d,g=c.length;d>0&&(c[f-1][4]=l),d<g-10?(l[4]=c[f],uc(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function Og(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(v,l);const D=l[19];null!==D&&D.insertView(a),l[2]|=64}(f,d,v,g);const D=ew(g,v),T=d[11],G=vy(T,v[7]);return null!==G&&function dS(a,l,c,d,f,g){d[0]=f,d[6]=l,vf(a,d,c,1,f,g)}(f,v[6],T,d,G,D),l.attachToViewContainerRef(),uc(Lv(v),g,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=Fv(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=_f(this._lContainer,c);d&&(bl(Lv(this._lContainer),c),Ci(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=_f(this._lContainer,c);return d&&null!=bl(Lv(this._lContainer),c)?new If(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function Fv(a){return a[8]}function Lv(a){return a[8]||(a[8]=[])}function bx(a,l){let c;const d=l[a.index];if(ir(d))c=d;else{let f;if(8&a.type)f=fi(d);else{const g=l[11];f=g.createComment("");const v=mi(a,l);Mu(g,vy(g,v),f,function by(a,l){return a.nextSibling(l)}(g,v),!1)}l[a.index]=c=YS(d,l,f,a),Mf(l,c)}return new vx(c,a,l)}class km{constructor(l){this.queryList=l,this.matches=null}clone(){return new km(this.queryList)}setDirty(){this.queryList.setDirty()}}class Nv{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);f.push(this.queries[v.indexInDeclarationView].clone())}return new Nv(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==cD(l,c).matches&&this.queries[c].setDirty()}}class sD{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class Vv{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(l,f);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new Vv(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Pm{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Pm(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const g=d[f];this.matchTNodeWithReadOption(l,c,wx(c,g)),this.matchTNodeWithReadOption(l,c,no(c,l,g,!1,!1))}else d===Mm?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,no(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Mt||f===Jf||f===Mm&&4&c.type)this.addMatch(c.index,-2);else{const g=no(c,l,f,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function wx(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function ep(a,l,c,d){return-1===c?function oD(a,l){return 11&a.type?tt(a,l):4&a.type?Im(a,l):null}(l,a):-2===c?function Cx(a,l,c){return c===Mt?tt(l,a):c===Mm?Im(l,a):c===Jf?bx(l,a):void 0}(a,l,d):io(a,a[1],c,l)}function Bv(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const g=a.data,v=c.matches,D=[];for(let T=0;T<v.length;T+=2){const G=v[T];D.push(G<0?null:ep(l,g[G],v[T+1],c.metadata.read))}f.matches=D}return f.matches}function Uv(a,l,c,d){const f=a.queries.getByIndex(c),g=f.matches;if(null!==g){const v=Bv(a,l,f,c);for(let D=0;D<g.length;D+=2){const T=g[D];if(T>0)d.push(v[D/2]);else{const G=g[D+1],de=l[-T];for(let Se=10;Se<de.length;Se++){const je=de[Se];je[17]===je[3]&&Uv(je[1],je,G,d)}if(null!==de[9]){const Se=de[9];for(let je=0;je<Se.length;je++){const Ye=Se[je];Uv(Ye[1],Ye,G,d)}}}}}return d}function Hv(a){const l=gt(),c=Cn(),d=Ql();cl(d+1);const f=cD(c,d);if(a.dirty&&Ss(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const g=f.crossesNgTemplate?Uv(c,l,d,[]):Bv(c,l,f,d);a.reset(g,Ut),a.notifyOnChanges()}return!0}return!1}function Dx(a,l,c){const d=Cn();d.firstCreatePass&&(lD(d,new sD(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),jv(d,gt(),l)}function aD(a,l,c,d){const f=Cn();if(f.firstCreatePass){const g=ai();lD(f,new sD(l,c,d),g.index),function e1(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}jv(f,gt(),c)}function Rm(){return function Om(a,l){return a[19].queries[l].queryList}(gt(),Ql())}function jv(a,l,c){const d=new Xf(4==(4&c));Fy(a,l,d,d.destroy),null===l[19]&&(l[19]=new Nv),l[19].queries.push(new km(d))}function lD(a,l,c){null===a.queries&&(a.queries=new Vv),a.queries.track(new Pm(l,c))}function cD(a,l){return a.queries.getByIndex(l)}function uD(a,l){return Im(a,l)}function tp(a){const l=sn(a)||wn(a)||Sn(a);return null!==l&&l.standalone}function Yu(...a){}const Ux=new xn("Application Initializer");let Nm=(()=>{class a{constructor(c){this.appInits=c,this.resolve=Yu,this.reject=Yu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const g=this.appInits[f]();if(Nf(g))c.push(g);else if(Uw(g)){const v=new Promise((D,T)=>{g.subscribe({complete:D,error:T})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(di(Ux,8))},a.\u0275prov=Q({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Hx=new xn("AppId",{providedIn:"root",factory:function jx(){return`${Wv()}${Wv()}${Wv()}`}});function Wv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const wD=new xn("Platform Initializer"),Vm=new xn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ih=new xn("appBootstrapListener"),$x=new xn("AnimationModuleType");let Wx=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Q({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const rp=new xn("LocaleId",{providedIn:"root",factory:()=>pc(rp,lt.Optional|lt.SkipSelf)||function Zu(){return typeof $localize<"u"&&$localize.locale||ju}()}),CD=new xn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Yx{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let Zx=(()=>{class a{compileModuleSync(c){return new Sm(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=Ec(Rn(c).declarations).reduce((v,D)=>{const T=sn(D);return T&&v.push(new Kg(T)),v},[]);return new Yx(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Q({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Xx=(()=>Promise.resolve(0))();function Nc(a){typeof Zone>"u"?Xx.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Vs{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Qo(!1),this.onMicrotaskEmpty=new Qo(!1),this.onStable=new Qo(!1),this.onError=new Qo(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function _1(){let a=xe.requestAnimationFrame,l=xe.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function qv(a){const l=()=>{!function AD(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(xe,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Um(a),a.isCheckStableRunning=!0,ED(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Um(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,g,v,D)=>{try{return SD(a),c.invokeTask(f,g,v,D)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&l(),TD(a)}},onInvoke:(c,d,f,g,v,D,T)=>{try{return SD(a),c.invoke(f,g,v,D,T)}finally{a.shouldCoalesceRunChangeDetection&&l(),TD(a)}},onHasTask:(c,d,f,g)=>{c.hasTask(f,g),d===f&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,Um(a),ED(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,f,g)=>(c.handleError(f,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Vs.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(Vs.isInAngularZone())throw new q(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+f,l,Bm,Yu,Yu);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const Bm={};function ED(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Um(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function SD(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function TD(a){a._nesting--,ED(a)}class Jx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Qo,this.onMicrotaskEmpty=new Qo,this.onStable=new Qo,this.onError=new Qo}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}const xD=new xn(""),MD=new xn("");let Yv,ID=(()=>{class a{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Yv||(function eM(a){Yv=a}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Vs.assertNotInAngularZone(),Nc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Nc(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(di(Vs),di(Hm),di(MD))},a.\u0275prov=Q({token:a,factory:a.\u0275fac}),a})(),Hm=(()=>{class a{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Yv?.findTestabilityInTree(this,c,d)??null}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Q({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Bs=null;const kD=new xn("AllowMultipleToken"),rh=new xn("PlatformDestroyListeners");class Zv{constructor(l,c){this.name=l,this.token=c}}function FD(a,l,c=[]){const d=`Platform: ${l}`,f=new xn(d);return(g=[])=>{let v=ND();if(!v||v.injector.get(kD,!1)){const D=[...c,...g,{provide:f,useValue:!0}];a?a(D):function nM(a){if(Bs&&!Bs.get(kD,!1))throw new q(400,!1);Bs=a;const l=a.get(Kv);(function iM(a){const l=a.get(wD,null);l&&l.forEach(c=>c())})(a)}(function LD(a=[],l){return Gd.create({name:l,providers:[{provide:lf,useValue:"platform"},{provide:rh,useValue:new Set([()=>Bs=null])},...a]})}(D,d))}return function rM(a){const l=ND();if(!l)throw new q(401,!1);return l}()}}function ND(){return Bs?.get(Kv)??null}let Kv=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function v1(a,l){let c;return c="noop"===a?new Jx:("zone.js"===a?void 0:a)||new Vs(l),c}(d?.ngZone,function sM(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:Vs,useValue:f}];return f.run(()=>{const v=Gd.create({providers:g,parent:this.injector,name:c.moduleType.name}),D=c.create(v),T=D.injector.get(ff,null);if(!T)throw new q(402,!1);return f.runOutsideAngular(()=>{const G=f.onError.subscribe({next:de=>{T.handleError(de)}});D.onDestroy(()=>{sp(this._modules,D),G.unsubscribe()})}),function oM(a,l,c){try{const d=c();return Nf(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(T,f,()=>{const G=D.injector.get(Nm);return G.runInitializers(),G.donePromise.then(()=>(function mC(a){ve(a,"Expected localeId to be defined"),"string"==typeof a&&(lv=a.toLowerCase().replace(/_/g,"-"))}(D.injector.get(rp,ju)||ju),this._moduleDoBootstrap(D),D))})})}bootstrapModule(c,d=[]){const f=VD({},d);return function tM(a,l,c){const d=new Sm(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,f))}_moduleDoBootstrap(c){const d=c.injector.get(Gm);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new q(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(rh,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(di(Gd))},a.\u0275prov=Q({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function VD(a,l){return Array.isArray(l)?l.reduce(VD,a):{...a,...l}}let Gm=(()=>{class a{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new O.y(D=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Vs.assertNotInAngularZone(),Nc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{Vs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{T.unsubscribe(),G.unsubscribe()}});this.isStable=(0,pe.T)(g,v.pipe((0,ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof y;if(!this._injector.get(Nm).done)throw!f&&tp(c),new q(405,false);let v;v=f?c:this._injector.get(_e).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const D=function RD(a){return a.isBoundToModule}(v)?void 0:this._injector.get(Zf),G=v.create(Gd.NULL,[],d||v.selector,D),de=G.location.nativeElement,Se=G.injector.get(xD,null);return Se?.registerApplication(de),G.onDestroy(()=>{this.detachView(G.hostView),sp(this.components,G),Se?.unregisterApplication(de)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;sp(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(ih,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>sp(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new q(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(c){return new(c||a)(di(Vs),di(ka),di(ff))},a.\u0275prov=Q({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function sp(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let $a=!0,aM=!1;function lM(){return aM=!0,$a}function cM(){if(aM)throw new Error("Cannot enable prod mode after platform setup.");$a=!1}let zm=(()=>{class a{}return a.__NG_ELEMENT_ID__=Vc,a})();function Vc(a){return function C1(a,l,c){if(Do(a)&&!c){const d=Fi(a.index,l);return new If(d,d)}return 47&a.type?new If(l[16],l):null}(ai(),gt(),16==(16&a))}class pM{constructor(){}supports(l){return Zo(l)}create(l){return new S1(l)}}const A1=(a,l)=>l;class S1{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||A1}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<ib(d,f,g)?c:d,D=ib(v,f,g),T=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{g||(g=[]);const G=D-f,de=T-f;if(G!=de){for(let je=0;je<G;je++){const Ye=je<g.length?g[je]:g[je]=0,ht=Ye+je;de<=ht&&ht<G&&(g[je]=Ye+1)}g[v.previousIndex]=de-G}}D!==T&&l(v,D,T)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Zo(l))throw new q(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,g,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let D=0;D<this.length;D++)g=l[D],v=this._trackByFn(D,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,D)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,D),d=!0),c=c._next}else f=0,function Gy(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[Fu()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,D=>{v=this._trackByFn(f,D),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,D,v,f)),Object.is(c.item,D)||this._addIdentityChange(c,D)):(c=this._mismatch(c,D,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let g;return null===l?g=this._itTail:(g=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,g,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,g,f)):l=this._addAfter(new T1(c,d),g,f),l}_verifyReinsertion(l,c,d,f){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?l=this._reinsertAfter(g,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,g=l._nextRemoved;return null===f?this._removalsHead=g:f._nextRemoved=g,null===g?this._removalsTail=f:g._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new HD),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new HD),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class T1{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class gM{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class HD{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new gM,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ib(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class qm{constructor(){}supports(l){return l instanceof Map||zy(l)}create(){return new rb}}class rb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||zy(l)))throw new q(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const g=f._prev,v=f._next;return g&&(g._next=v),v&&(v._prev=g),f._next=null,f._prev=null,f}const d=new jD(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class jD{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function GD(){return new ap([new pM])}let ap=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||GD()),deps:[[a,new Zt,new pt]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new q(901,!1)}}return a.\u0275prov=Q({token:a,providedIn:"root",factory:GD}),a})();function mM(){return new zD([new qm])}let zD=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||mM()),deps:[[a,new Zt,new pt]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new q(901,!1)}}return a.\u0275prov=Q({token:a,providedIn:"root",factory:mM}),a})();const Ku=FD(null,"core",[]);let lp=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(di(Gm))},a.\u0275mod=Dt({type:a}),a.\u0275inj=U({}),a})();function po(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(Ie,x,R)=>{"use strict";R.d(x,{Z:()=>q});var s=R(2090),te=R(4859),O=R(9681),pe=R(1877);class ie{constructor(z,Z){this._delegate=z,this.firebase=Z,(0,O._addComponent)(z,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this._delegate.automaticDataCollectionEnabled=z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(z=>{this._delegate.checkDestroyed(),z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(z,Z=O._DEFAULT_ENTRY_NAME){var E;this._delegate.checkDestroyed();const A=this._delegate.container.getProvider(z);return!A.isInitialized()&&"EXPLICIT"===(null===(E=A.getComponent())||void 0===E?void 0:E.instantiationMode)&&A.initialize(),A.getImmediate({identifier:Z})}_removeServiceInstance(z,Z=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(z).clearInstance(Z)}_addComponent(z){(0,O._addComponent)(this._delegate,z)}_addOrOverwriteComponent(z){(0,O._addOrOverwriteComponent)(this._delegate,z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const B=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function he(){const fe=function ce(fe){const z={},Z={__esModule:!0,initializeApp:function F(j,S={}){const oe=O.initializeApp(j,S);if((0,s.r3)(z,oe.name))return z[oe.name];const W=new fe(oe,Z);return z[oe.name]=W,W},app:A,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function N(j){const S=j.name,oe=S.replace("-compat","");if(O._registerComponent(j)&&"PUBLIC"===j.type){const W=(le=A())=>{if("function"!=typeof le[oe])throw B.create("invalid-app-argument",{appName:S});return le[oe]()};void 0!==j.serviceProps&&(0,s.ZB)(W,j.serviceProps),Z[oe]=W,fe.prototype[oe]=function(...le){return this._getService.bind(this,S).apply(this,j.multipleInstances?le:[])}}return"PUBLIC"===j.type?Z[oe]:null},removeApp:function E(j){delete z[j]},useAsService:function J(j,S){return"serverAuth"===S?null:S},modularAPIs:O}};function A(j){if(!(0,s.r3)(z,j=j||O._DEFAULT_ENTRY_NAME))throw B.create("no-app",{appName:j});return z[j]}return Z.default=Z,Object.defineProperty(Z,"apps",{get:function X(){return Object.keys(z).map(j=>z[j])}}),A.App=fe,Z}(ie);return fe.INTERNAL=Object.assign(Object.assign({},fe.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function z(Z){(0,s.ZB)(fe,Z)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),fe}(),Y=new pe.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const fe=self.firebase.SDK_VERSION;fe&&fe.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const q=ee;!function ae(fe){(0,O.registerVersion)("@firebase/app-compat","0.1.31",fe)}()},9681:(Ie,x,R)=>{"use strict";R.r(x),R.d(x,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>qe,_DEFAULT_ENTRY_NAME:()=>ve,_addComponent:()=>L,_addOrOverwriteComponent:()=>Q,_apps:()=>b,_clearComponents:()=>He,_components:()=>k,_getProvider:()=>U,_registerComponent:()=>ne,_removeServiceInstance:()=>be,deleteApp:()=>lt,getApp:()=>mt,getApps:()=>Tt,initializeApp:()=>Qe,onLog:()=>Rt,registerVersion:()=>ct,setLogLevel:()=>Ot});var s=R(5861),te=R(4859),O=R(1877),pe=R(2090),ie=R(8766);class re{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(Pe=>{if(function B(De){return"VERSION"===De.getComponent()?.type}(Pe)){const We=Pe.getImmediate();return`${We.library}/${We.version}`}return null}).filter(Pe=>Pe).join(" ")}}const ce="@firebase/app",ee=new O.Yd("@firebase/app"),ve="[DEFAULT]",I={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},b=new Map,k=new Map;function L(De,Ae){try{De.container.addComponent(Ae)}catch(Pe){ee.debug(`Component ${Ae.name} failed to register with FirebaseApp ${De.name}`,Pe)}}function Q(De,Ae){De.container.addOrOverwriteComponent(Ae)}function ne(De){const Ae=De.name;if(k.has(Ae))return ee.debug(`There were multiple attempts to register component ${Ae}.`),!1;k.set(Ae,De);for(const Pe of b.values())L(Pe,De);return!0}function U(De,Ae){const Pe=De.container.getProvider("heartbeat").getImmediate({optional:!0});return Pe&&Pe.triggerHeartbeat(),De.container.getProvider(Ae)}function be(De,Ae,Pe=ve){U(De,Ae).clearInstance(Pe)}function He(){k.clear()}const Ue=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Be{constructor(Ae,Pe,We){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},Pe),this._name=Pe.name,this._automaticDataCollectionEnabled=Pe.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw Ue.create("app-deleted",{appName:this._name})}}const qe="9.9.2";function Qe(De,Ae={}){"object"!=typeof Ae&&(Ae={name:Ae});const Pe=Object.assign({name:ve,automaticDataCollectionEnabled:!1},Ae),We=Pe.name;if("string"!=typeof We||!We)throw Ue.create("bad-app-name",{appName:String(We)});const at=b.get(We);if(at){if((0,pe.vZ)(De,at.options)&&(0,pe.vZ)(Pe,at.config))return at;throw Ue.create("duplicate-app",{appName:We})}const Dt=new te.H0(We);for(const rn of k.values())Dt.addComponent(rn);const en=new Be(De,Pe,Dt);return b.set(We,en),en}function mt(De=ve){const Ae=b.get(De);if(!Ae)throw Ue.create("no-app",{appName:De});return Ae}function Tt(){return Array.from(b.values())}function lt(De){return yt.apply(this,arguments)}function yt(){return(yt=(0,s.Z)(function*(De){const Ae=De.name;b.has(Ae)&&(b.delete(Ae),yield Promise.all(De.container.getProviders().map(Pe=>Pe.delete())),De.isDeleted=!0)})).apply(this,arguments)}function ct(De,Ae,Pe){var We;let at=null!==(We=I[De])&&void 0!==We?We:De;Pe&&(at+=`-${Pe}`);const Dt=at.match(/\s|\//),en=Ae.match(/\s|\//);if(Dt||en){const rn=[`Unable to register library "${at}" with version "${Ae}":`];return Dt&&rn.push(`library name "${at}" contains illegal characters (whitespace or "/")`),Dt&&en&&rn.push("and"),en&&rn.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void ee.warn(rn.join(" "))}ne(new te.wA(`${at}-version`,()=>({library:at,version:Ae}),"VERSION"))}function Rt(De,Ae){if(null!==De&&"function"!=typeof De)throw Ue.create("invalid-log-argument");(0,O.Am)(De,Ae)}function Ot(De){(0,O.Ub)(De)}const dt="firebase-heartbeat-store";let kt=null;function Ke(){return kt||(kt=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(De,Ae)=>{0===Ae&&De.createObjectStore(dt)}}).catch(De=>{throw Ue.create("idb-open",{originalErrorMessage:De.message})})),kt}function xe(){return(xe=(0,s.Z)(function*(De){var Ae;try{return(yield Ke()).transaction(dt).objectStore(dt).get(Ne(De))}catch(Pe){if(Pe instanceof pe.ZR)ee.warn(Pe.message);else{const We=Ue.create("idb-get",{originalErrorMessage:null===(Ae=Pe)||void 0===Ae?void 0:Ae.message});ee.warn(We.message)}}})).apply(this,arguments)}function ft(De,Ae){return wt.apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(De,Ae){var Pe;try{const at=(yield Ke()).transaction(dt,"readwrite");return yield at.objectStore(dt).put(Ae,Ne(De)),at.done}catch(We){if(We instanceof pe.ZR)ee.warn(We.message);else{const at=Ue.create("idb-set",{originalErrorMessage:null===(Pe=We)||void 0===Pe?void 0:Pe.message});ee.warn(at.message)}}})).apply(this,arguments)}function Ne(De){return`${De.name}!${De.options.appId}`}class rt{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const Pe=this.container.getProvider("app").getImmediate();this._storage=new Ze(Pe),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var Ae=this;return(0,s.Z)(function*(){const We=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=bt();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==at&&!Ae._heartbeatsCache.heartbeats.some(Dt=>Dt.date===at))return Ae._heartbeatsCache.heartbeats.push({date:at,agent:We}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(Dt=>{const en=new Date(Dt.date).valueOf();return Date.now()-en<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,s.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const Pe=bt(),{heartbeatsToSend:We,unsentEntries:at}=function Yt(De,Ae=1024){const Pe=[];let We=De.slice();for(const at of De){const Dt=Pe.find(en=>en.agent===at.agent);if(Dt){if(Dt.dates.push(at.date),Ee(Pe)>Ae){Dt.dates.pop();break}}else if(Pe.push({agent:at.agent,dates:[at.date]}),Ee(Pe)>Ae){Pe.pop();break}We=We.slice(1)}return{heartbeatsToSend:Pe,unsentEntries:We}}(Ae._heartbeatsCache.heartbeats),Dt=(0,pe.L)(JSON.stringify({version:2,heartbeats:We}));return Ae._heartbeatsCache.lastSentHeartbeatDate=Pe,at.length>0?(Ae._heartbeatsCache.heartbeats=at,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Dt})()}}function bt(){return(new Date).toISOString().substring(0,10)}class Ze{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,s.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function me(De){return xe.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var Pe=this;return(0,s.Z)(function*(){var We;if(yield Pe._canUseIndexedDBPromise){const Dt=yield Pe.read();return ft(Pe.app,{lastSentHeartbeatDate:null!==(We=Ae.lastSentHeartbeatDate)&&void 0!==We?We:Dt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var Pe=this;return(0,s.Z)(function*(){var We;if(yield Pe._canUseIndexedDBPromise){const Dt=yield Pe.read();return ft(Pe.app,{lastSentHeartbeatDate:null!==(We=Ae.lastSentHeartbeatDate)&&void 0!==We?We:Dt.lastSentHeartbeatDate,heartbeats:[...Dt.heartbeats,...Ae.heartbeats]})}})()}}function Ee(De){return(0,pe.L)(JSON.stringify({version:2,heartbeats:De})).length}!function Te(De){ne(new te.wA("platform-logger",Ae=>new re(Ae),"PRIVATE")),ne(new te.wA("heartbeat",Ae=>new rt(Ae),"PRIVATE")),ct(ce,"0.7.30",De),ct(ce,"0.7.30","esm2017"),ct("fire-js","")}("")},4859:(Ie,x,R)=>{"use strict";R.d(x,{H0:()=>ce,wA:()=>O});var s=R(5861),te=R(2090);class O{constructor(ee,Y,se){this.name=ee,this.instanceFactory=Y,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const pe="[DEFAULT]";class ie{constructor(ee,Y){this.name=ee,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const Y=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(Y)){const se=new te.BH;if(this.instancesDeferred.set(Y,se),this.isInitialized(Y)||this.shouldAutoInitialize())try{const $=this.getOrInitializeService({instanceIdentifier:Y});$&&se.resolve($)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(ee){var Y;const se=this.normalizeInstanceIdentifier(ee?.identifier),$=null!==(Y=ee?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if($)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(ae){if($)return null;throw ae}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function B(he){return"EAGER"===he.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[Y,se]of this.instancesDeferred.entries()){const $=this.normalizeInstanceIdentifier(Y);try{const ae=this.getOrInitializeService({instanceIdentifier:$});se.resolve(ae)}catch{}}}}clearInstance(ee=pe){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,s.Z)(function*(){const Y=Array.from(ee.instances.values());yield Promise.all([...Y.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...Y.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=pe){return this.instances.has(ee)}getOptions(ee=pe){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:Y={}}=ee,se=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $=this.getOrInitializeService({instanceIdentifier:se,options:Y});for(const[ae,q]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(ae)&&q.resolve($);return $}onInit(ee,Y){var se;const $=this.normalizeInstanceIdentifier(Y),ae=null!==(se=this.onInitCallbacks.get($))&&void 0!==se?se:new Set;ae.add(ee),this.onInitCallbacks.set($,ae);const q=this.instances.get($);return q&&ee(q,$),()=>{ae.delete(ee)}}invokeOnInitCallbacks(ee,Y){const se=this.onInitCallbacks.get(Y);if(se)for(const $ of se)try{$(ee,Y)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:Y={}}){let se=this.instances.get(ee);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(he=ee,he===pe?void 0:he),options:Y}),this.instances.set(ee,se),this.instancesOptions.set(ee,Y),this.invokeOnInitCallbacks(se,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,se)}catch{}var he;return se||null}normalizeInstanceIdentifier(ee=pe){return this.component?this.component.multipleInstances?ee:pe:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const Y=this.getProvider(ee.name);if(Y.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);Y.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const Y=new ie(ee,this);return this.providers.set(ee,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(Ie,x,R)=>{"use strict";R.d(x,{Am:()=>he,Ub:()=>ce,Yd:()=>B,in:()=>te});const s=[];var te=(()=>{return(ee=te||(te={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",te;var ee})();const O={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},pe=te.INFO,ie={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},re=(ee,Y,...se)=>{if(Y<ee.logLevel)return;const $=(new Date).toISOString(),ae=ie[Y];if(!ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[ae](`[${$}]  ${ee.name}:`,...se)};class B{constructor(Y){this.name=Y,this._logLevel=pe,this._logHandler=re,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in te))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?O[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...Y),this._logHandler(this,te.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...Y),this._logHandler(this,te.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,te.INFO,...Y),this._logHandler(this,te.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,te.WARN,...Y),this._logHandler(this,te.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...Y),this._logHandler(this,te.ERROR,...Y)}}function ce(ee){s.forEach(Y=>{Y.setLogLevel(ee)})}function he(ee,Y){for(const se of s){let $=null;Y&&Y.level&&($=O[Y.level]),se.userLogHandler=null===ee?null:(ae,q,...fe)=>{const z=fe.map(Z=>{if(null==Z)return null;if("string"==typeof Z)return Z;if("number"==typeof Z||"boolean"==typeof Z)return Z.toString();if(Z instanceof Error)return Z.message;try{return JSON.stringify(Z)}catch{return null}}).filter(Z=>Z).join(" ");q>=($??ae.logLevel)&&ee({level:te[q].toLowerCase(),message:z,args:fe,type:ae.name})}}}},8766:(Ie,x,R)=>{"use strict";R.d(x,{Lj:()=>F,X3:()=>A});var s=R(5861);let O,pe;const B=new WeakMap,ce=new WeakMap,he=new WeakMap,ee=new WeakMap,Y=new WeakMap;let ae={get(S,oe,W){if(S instanceof IDBTransaction){if("done"===oe)return ce.get(S);if("objectStoreNames"===oe)return S.objectStoreNames||he.get(S);if("store"===oe)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return Z(S[oe])},set:(S,oe,W)=>(S[oe]=W,!0),has:(S,oe)=>S instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in S};function z(S){return"function"==typeof S?function fe(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...oe){return S.apply(E(this),oe),Z(B.get(this))}:function(...oe){return Z(S.apply(E(this),oe))}:function(oe,...W){const le=S.call(E(this),oe,...W);return he.set(le,oe.sort?oe.sort():[oe]),Z(le)}}(S):(S instanceof IDBTransaction&&function $(S){if(ce.has(S))return;const oe=new Promise((W,le)=>{const ge=()=>{S.removeEventListener("complete",ye),S.removeEventListener("error",Re),S.removeEventListener("abort",Re)},ye=()=>{W(),ge()},Re=()=>{le(S.error||new DOMException("AbortError","AbortError")),ge()};S.addEventListener("complete",ye),S.addEventListener("error",Re),S.addEventListener("abort",Re)});ce.set(S,oe)}(S),((S,oe)=>oe.some(W=>S instanceof W))(S,function ie(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,ae):S)}function Z(S){if(S instanceof IDBRequest)return function se(S){const oe=new Promise((W,le)=>{const ge=()=>{S.removeEventListener("success",ye),S.removeEventListener("error",Re)},ye=()=>{W(Z(S.result)),ge()},Re=()=>{le(S.error),ge()};S.addEventListener("success",ye),S.addEventListener("error",Re)});return oe.then(W=>{W instanceof IDBCursor&&B.set(W,S)}).catch(()=>{}),Y.set(oe,S),oe}(S);if(ee.has(S))return ee.get(S);const oe=z(S);return oe!==S&&(ee.set(S,oe),Y.set(oe,S)),oe}const E=S=>Y.get(S);function A(S,oe,{blocked:W,upgrade:le,blocking:ge,terminated:ye}={}){const Re=indexedDB.open(S,oe),Ve=Z(Re);return le&&Re.addEventListener("upgradeneeded",Xe=>{le(Z(Re.result),Xe.oldVersion,Xe.newVersion,Z(Re.transaction))}),W&&Re.addEventListener("blocked",()=>W()),Ve.then(Xe=>{ye&&Xe.addEventListener("close",()=>ye()),ge&&Xe.addEventListener("versionchange",()=>ge())}).catch(()=>{}),Ve}function F(S,{blocked:oe}={}){const W=indexedDB.deleteDatabase(S);return oe&&W.addEventListener("blocked",()=>oe()),Z(W).then(()=>{})}const X=["get","getKey","getAll","getAllKeys","count"],N=["put","add","delete","clear"],J=new Map;function j(S,oe){if(!(S instanceof IDBDatabase)||oe in S||"string"!=typeof oe)return;if(J.get(oe))return J.get(oe);const W=oe.replace(/FromIndex$/,""),le=oe!==W,ge=N.includes(W);if(!(W in(le?IDBIndex:IDBObjectStore).prototype)||!ge&&!X.includes(W))return;const ye=function(){var Re=(0,s.Z)(function*(Ve,...Xe){const it=this.transaction(Ve,ge?"readwrite":"readonly");let ve=it.store;return le&&(ve=ve.index(Xe.shift())),(yield Promise.all([ve[W](...Xe),ge&&it.done]))[0]});return function(Xe){return Re.apply(this,arguments)}}();return J.set(oe,ye),ye}!function q(S){ae=S(ae)}(S=>({...S,get:(oe,W,le)=>j(oe,W)||S.get(oe,W,le),has:(oe,W)=>!!j(oe,W)||S.has(oe,W)}))},5861:(Ie,x,R)=>{"use strict";function s(O,pe,ie,re,B,ce,he){try{var ee=O[ce](he),Y=ee.value}catch(se){return void ie(se)}ee.done?pe(Y):Promise.resolve(Y).then(re,B)}function te(O){return function(){var pe=this,ie=arguments;return new Promise(function(re,B){var ce=O.apply(pe,ie);function he(Y){s(ce,re,B,he,ee,"next",Y)}function ee(Y){s(ce,re,B,he,ee,"throw",Y)}he(void 0)})}}R.d(x,{Z:()=>te})}},Ie=>{Ie(Ie.s=6023)}]);