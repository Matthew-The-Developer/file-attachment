(self.webpackChunkfile_attachment=self.webpackChunkfile_attachment||[]).push([[179],{2011:(xe,I,R)=>{"use strict";R.d(I,{Dh:()=>ce,GT:()=>re,cc:()=>ae,hO:()=>z,on:()=>ee,pX:()=>ie,xv:()=>he});var l=R(4650),te=R(127),O=R(5813);xe=R.hmd(xe);const pe=["ngOnDestroy"],ie=(Y,A,S,F={})=>new Proxy(Y,{get:(Q,N)=>S.runOutsideAngular(()=>{var J;if(Y[N])return!(null===(J=F?.spy)||void 0===J)&&J.get&&F.spy.get(N,Y[N]),Y[N];if(pe.indexOf(N)>-1)return()=>{};const j=A.toPromise().then(D=>{const oe=D&&D[N];return"function"==typeof oe?oe.bind(D):oe&&oe.then?oe.then($=>S.run(()=>$)):S.run(()=>oe)});return new Proxy(()=>{},{get:(D,oe)=>j[oe],apply:(D,oe,$)=>j.then(le=>{var ge;const ye=le&&le(...$);return!(null===(ge=F?.spy)||void 0===ge)&&ge.apply&&F.spy.apply(N,$,ye),ye})})})}),re=(Y,A)=>{A.forEach(S=>{Object.getOwnPropertyNames(S.prototype||S).forEach(F=>{Object.defineProperty(Y.prototype,F,Object.getOwnPropertyDescriptor(S.prototype||S,F))})})};class U{constructor(A){return A}}const ce=new l.OlP("angularfire2.app.options"),he=new l.OlP("angularfire2.app.name");function ee(Y,A,S){const Q="object"==typeof S&&S||{};Q.name=Q.name||"string"==typeof S&&S||"[DEFAULT]";const J=te.Z.apps.filter(j=>j&&j.name===Q.name)[0]||A.runOutsideAngular(()=>te.Z.initializeApp(Y,Q));try{JSON.stringify(Y)!==JSON.stringify(J.options)&&K("error",`${J.name} Firebase App already initialized with different options${xe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new U(J)}const K=(Y,...A)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Y](...A)},se={provide:U,useFactory:ee,deps:[ce,l.R0b,[new l.FiY,he]]};let z=(()=>{class Y{constructor(S){te.Z.registerVersion("angularfire",O.q4.full,"core"),te.Z.registerVersion("angularfire",O.q4.full,"app-compat"),te.Z.registerVersion("angular",l.q4F.full,S.toString())}static initializeApp(S,F){return{ngModule:Y,providers:[{provide:ce,useValue:S},{provide:he,useValue:F}]}}}return Y.\u0275fac=function(S){return new(S||Y)(l.LFG(l.Lbi))},Y.\u0275mod=l.oAB({type:Y}),Y.\u0275inj=l.cJS({providers:[se]}),Y})();function ae(Y,A,S,F,Q){const[,N,J]=globalThis.\u0275AngularfireInstanceCache.find(j=>j[0]===Y)||[];if(N)return function W(Y,A){try{return Y.toString()===A.toString()}catch{return Y===A}}(Q,J)||(G("error",`${A} was already initialized on the ${S} Firebase App with different settings.${fe?" You may need to reload as Firebase is not HMR aware.":""}`),G("warn",{is:Q,was:J})),N;{const j=F();return globalThis.\u0275AngularfireInstanceCache.push([Y,j,Q]),j}}const fe=!!xe.hot,G=(Y,...A)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Y](...A)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(xe,I,R)=>{"use strict";R.d(I,{q4:()=>Xl,iC:()=>Ql,HU:()=>Ao,vb:()=>Od,JM:()=>Co});var l=R(4650),te=R(5867),O=R(5861),pe=R(9681),ie=R(2090),re=R(4859),U=R(1877),ce=R(8766);const he="@firebase/installations",ee="0.5.12",se=`w:${ee}`,z="FIS_v2",A=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function S(P){return P instanceof ie.ZR&&P.code.includes("request-failed")}function F({projectId:P}){return`https://firebaseinstallations.googleapis.com/v1/projects/${P}/installations`}function Q(P){return{token:P.token,requestStatus:2,expiresIn:le(P.expiresIn),creationTime:Date.now()}}function N(P,V){return J.apply(this,arguments)}function J(){return(J=(0,O.Z)(function*(P,V){const Re=(yield V.json()).error;return A.create("request-failed",{requestName:P,serverCode:Re.code,serverMessage:Re.message,serverStatus:Re.status})})).apply(this,arguments)}function j({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function D(P,{refreshToken:V}){const ue=j(P);return ue.append("Authorization",function ge(P){return`${z} ${P}`}(V)),ue}function oe(P){return $.apply(this,arguments)}function $(){return($=(0,O.Z)(function*(P){const V=yield P();return V.status>=500&&V.status<600?P():V})).apply(this,arguments)}function le(P){return Number(P.replace("s","000"))}function ye(P,V){return ke.apply(this,arguments)}function ke(){return(ke=(0,O.Z)(function*({appConfig:P,heartbeatServiceProvider:V},{fid:ue}){const Re=F(P),ze=j(P),Je=V.getImmediate({optional:!0});if(Je){const fn=yield Je.getHeartbeatsHeader();fn&&ze.append("x-firebase-client",fn)}const Pt={method:"POST",headers:ze,body:JSON.stringify({fid:ue,authVersion:z,appId:P.appId,sdkVersion:se})},Yt=yield oe(()=>fetch(Re,Pt));if(Yt.ok){const fn=yield Yt.json();return{fid:fn.fid||ue,registrationStatus:2,refreshToken:fn.refreshToken,authToken:Q(fn.authToken)}}throw yield N("Create Installation",Yt)})).apply(this,arguments)}function Ne(P){return new Promise(V=>{setTimeout(V,P)})}const it=/^[cdef][\w-]{21}$/;function x(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const ue=function b(P){return function Qe(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return it.test(ue)?ue:""}catch{return""}}function M(P){return`${P.appName}!${P.appId}`}const L=new Map;function X(P,V){const ue=M(P);be(ue,V),function je(P,V){const ue=function Ue(){return!Me&&"BroadcastChannel"in self&&(Me=new BroadcastChannel("[Firebase] FID Change"),Me.onmessage=P=>{be(P.data.key,P.data.fid)}),Me}();ue&&ue.postMessage({key:P,fid:V}),function Be(){0===L.size&&Me&&(Me.close(),Me=null)}()}(ue,V)}function be(P,V){const ue=L.get(P);if(ue)for(const Re of ue)Re(V)}let Me=null;const mt="firebase-installations-store";let Dt=null;function at(){return Dt||(Dt=(0,ce.X3)("firebase-installations-database",1,{upgrade:(P,V)=>{0===V&&P.createObjectStore(mt)}})),Dt}function _t(P,V){return ct.apply(this,arguments)}function ct(){return(ct=(0,O.Z)(function*(P,V){const ue=M(P),ze=(yield at()).transaction(mt,"readwrite"),Je=ze.objectStore(mt),pt=yield Je.get(ue);return yield Je.put(V,ue),yield ze.done,(!pt||pt.fid!==V.fid)&&X(P,V.fid),V})).apply(this,arguments)}function Rt(P){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,O.Z)(function*(P){const V=M(P),Re=(yield at()).transaction(mt,"readwrite");yield Re.objectStore(mt).delete(V),yield Re.done})).apply(this,arguments)}function St(P,V){return nt.apply(this,arguments)}function nt(){return(nt=(0,O.Z)(function*(P,V){const ue=M(P),ze=(yield at()).transaction(mt,"readwrite"),Je=ze.objectStore(mt),pt=yield Je.get(ue),Pt=V(pt);return void 0===Pt?yield Je.delete(ue):yield Je.put(Pt,ue),yield ze.done,Pt&&(!pt||pt.fid!==Pt.fid)&&X(P,Pt.fid),Pt})).apply(this,arguments)}function dt(P){return xt.apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(P){let V;const ue=yield St(P.appConfig,Re=>{const ze=Ze(Re),Je=me(P,ze);return V=Je.registrationPromise,Je.installationEntry});return""===ue.fid?{installationEntry:yield V}:{installationEntry:ue,registrationPromise:V}})).apply(this,arguments)}function Ze(P){return Oe(P||{fid:x(),registrationStatus:0})}function me(P,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(A.create("app-offline"))};const ue={fid:V.fid,registrationStatus:1,registrationTime:Date.now()},Re=function Ie(P,V){return ft.apply(this,arguments)}(P,ue);return{installationEntry:ue,registrationPromise:Re}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:wt(P)}:{installationEntry:V}}function ft(){return(ft=(0,O.Z)(function*(P,V){try{const ue=yield ye(P,V);return _t(P.appConfig,ue)}catch(ue){throw S(ue)&&409===ue.customData.serverCode?yield Rt(P.appConfig):yield _t(P.appConfig,{fid:V.fid,registrationStatus:0}),ue}})).apply(this,arguments)}function wt(P){return Le.apply(this,arguments)}function Le(){return(Le=(0,O.Z)(function*(P){let V=yield we(P.appConfig);for(;1===V.registrationStatus;)yield Ne(100),V=yield we(P.appConfig);if(0===V.registrationStatus){const{installationEntry:ue,registrationPromise:Re}=yield dt(P);return Re||ue}return V})).apply(this,arguments)}function we(P){return St(P,V=>{if(!V)throw A.create("installation-not-found");return Oe(V)})}function Oe(P){return function rt(P){return 1===P.registrationStatus&&P.registrationTime+1e4<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function yt(P,V){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,O.Z)(function*({appConfig:P,heartbeatServiceProvider:V},ue){const Re=Ye(P,ue),ze=D(P,ue),Je=V.getImmediate({optional:!0});if(Je){const fn=yield Je.getHeartbeatsHeader();fn&&ze.append("x-firebase-client",fn)}const Pt={method:"POST",headers:ze,body:JSON.stringify({installation:{sdkVersion:se,appId:P.appId}})},Yt=yield oe(()=>fetch(Re,Pt));if(Yt.ok)return Q(yield Yt.json());throw yield N("Generate Auth Token",Yt)})).apply(this,arguments)}function Ye(P,{fid:V}){return`${F(P)}/${V}/authTokens:generate`}function Ee(P){return Te.apply(this,arguments)}function Te(){return(Te=(0,O.Z)(function*(P,V=!1){let ue;const Re=yield St(P.appConfig,Je=>{if(!Ct(Je))throw A.create("not-registered");const pt=Je.authToken;if(!V&&Xt(pt))return Je;if(1===pt.requestStatus)return ue=Ce(P,V),Je;{if(!navigator.onLine)throw A.create("app-offline");const Pt=Fn(Je);return ue=$e(P,Pt),Pt}});return ue?yield ue:Re.authToken})).apply(this,arguments)}function Ce(P,V){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,O.Z)(function*(P,V){let ue=yield Pe(P.appConfig);for(;1===ue.authToken.requestStatus;)yield Ne(100),ue=yield Pe(P.appConfig);const Re=ue.authToken;return 0===Re.requestStatus?Ee(P,V):Re})).apply(this,arguments)}function Pe(P){return St(P,V=>{if(!Ct(V))throw A.create("not-registered");return function Jt(P){return 1===P.requestStatus&&P.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function $e(P,V){return ot.apply(this,arguments)}function ot(){return(ot=(0,O.Z)(function*(P,V){try{const ue=yield yt(P,V),Re=Object.assign(Object.assign({},V),{authToken:ue});return yield _t(P.appConfig,Re),ue}catch(ue){if(!S(ue)||401!==ue.customData.serverCode&&404!==ue.customData.serverCode){const Re=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield _t(P.appConfig,Re)}else yield Rt(P.appConfig);throw ue}})).apply(this,arguments)}function Ct(P){return void 0!==P&&2===P.registrationStatus}function Xt(P){return 2===P.requestStatus&&!function en(P){const V=Date.now();return V<P.creationTime||P.creationTime+P.expiresIn<V+36e5}(P)}function Fn(P){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:V})}function Sn(){return(Sn=(0,O.Z)(function*(P){const V=P,{installationEntry:ue,registrationPromise:Re}=yield dt(V);return Re?Re.catch(console.error):Ee(V).catch(console.error),ue.fid})).apply(this,arguments)}function On(){return(On=(0,O.Z)(function*(P,V=!1){const ue=P;return yield Zn(ue),(yield Ee(ue,V)).token})).apply(this,arguments)}function Zn(P){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,O.Z)(function*(P){const{registrationPromise:V}=yield dt(P);V&&(yield V)})).apply(this,arguments)}function bs(P){return A.create("missing-app-config-values",{valueName:P})}const Cn="installations",Gn=P=>{const V=P.getProvider("app").getImmediate(),ue=function co(P){if(!P||!P.options)throw bs("App Configuration");if(!P.name)throw bs("App Name");const V=["projectId","apiKey","appId"];for(const ue of V)if(!P.options[ue])throw bs(ue);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(V);return{app:V,appConfig:ue,heartbeatServiceProvider:(0,pe._getProvider)(V,"heartbeat"),_delete:()=>Promise.resolve()}},Il=P=>{const V=P.getProvider("app").getImmediate(),ue=(0,pe._getProvider)(V,Cn).getImmediate();return{getId:()=>function tn(P){return Sn.apply(this,arguments)}(ue),getToken:ze=>function In(P){return On.apply(this,arguments)}(ue,ze)}};(function uo(){(0,pe._registerComponent)(new re.wA(Cn,Gn,"PUBLIC")),(0,pe._registerComponent)(new re.wA("installations-internal",Il,"PRIVATE"))})(),(0,pe.registerVersion)(he,ee),(0,pe.registerVersion)(he,ee,"esm2017");const _i="@firebase/remote-config",Wi=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Hh{constructor(V,ue,Re,ze){this.client=V,this.storage=ue,this.storageCache=Re,this.logger=ze}isCachedDataFresh(V,ue){if(!ue)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Re=Date.now()-ue,ze=Re<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Re}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${ze}.`),ze}fetch(V){var ue=this;return(0,O.Z)(function*(){const[Re,ze]=yield Promise.all([ue.storage.getLastSuccessfulFetchTimestampMillis(),ue.storage.getLastSuccessfulFetchResponse()]);if(ze&&ue.isCachedDataFresh(V.cacheMaxAgeMillis,Re))return ze;V.eTag=ze&&ze.eTag;const Je=yield ue.client.fetch(V),pt=[ue.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Je.status&&pt.push(ue.storage.setLastSuccessfulFetchResponse(Je)),yield Promise.all(pt),Je})()}}function vd(P=navigator){return P.languages&&P.languages[0]||P.language}class Wc{constructor(V,ue,Re,ze,Je,pt){this.firebaseInstallations=V,this.sdkVersion=ue,this.namespace=Re,this.projectId=ze,this.apiKey=Je,this.appId=pt}fetch(V){var ue=this;return(0,O.Z)(function*(){var Re,ze,Je;const[pt,Pt]=yield Promise.all([ue.firebaseInstallations.getId(),ue.firebaseInstallations.getToken()]),fn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ue.projectId}/namespaces/${ue.namespace}:fetch?key=${ue.apiKey}`,bn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},Wt={sdk_version:ue.sdkVersion,app_instance_id:pt,app_instance_id_token:Pt,app_id:ue.appId,language_code:vd()},li={method:"POST",headers:bn,body:JSON.stringify(Wt)},ir=fetch(fn,li),dl=new Promise((rr,Zs)=>{V.signal.addEventListener(()=>{const Lg=new Error("The operation was aborted.");Lg.name="AbortError",Zs(Lg)})});let ma;try{yield Promise.race([ir,dl]),ma=yield ir}catch(rr){let Zs="fetch-client-network";throw"AbortError"===(null===(Re=rr)||void 0===Re?void 0:Re.name)&&(Zs="fetch-timeout"),Wi.create(Zs,{originalErrorMessage:null===(ze=rr)||void 0===ze?void 0:ze.message})}let Ir=ma.status;const To=ma.headers.get("ETag")||void 0;let Io,_a;if(200===ma.status){let rr;try{rr=yield ma.json()}catch(Zs){throw Wi.create("fetch-client-parse",{originalErrorMessage:null===(Je=Zs)||void 0===Je?void 0:Je.message})}Io=rr.entries,_a=rr.state}if("INSTANCE_STATE_UNSPECIFIED"===_a?Ir=500:"NO_CHANGE"===_a?Ir=304:("NO_TEMPLATE"===_a||"EMPTY_CONFIG"===_a)&&(Io={}),304!==Ir&&200!==Ir)throw Wi.create("fetch-status",{httpStatus:Ir});return{status:Ir,eTag:To,config:Io}})()}}class Sg{constructor(V,ue){this.client=V,this.storage=ue}fetch(V){var ue=this;return(0,O.Z)(function*(){const Re=(yield ue.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ue.attemptFetch(V,Re)})()}attemptFetch(V,{throttleEndTimeMillis:ue,backoffCount:Re}){var ze=this;return(0,O.Z)(function*(){yield function Ti(P,V){return new Promise((ue,Re)=>{const ze=Math.max(V-Date.now(),0),Je=setTimeout(ue,ze);P.addEventListener(()=>{clearTimeout(Je),Re(Wi.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,ue);try{const Je=yield ze.client.fetch(V);return yield ze.storage.deleteThrottleMetadata(),Je}catch(Je){if(!function bd(P){if(!(P instanceof ie.ZR&&P.customData))return!1;const V=Number(P.customData.httpStatus);return 429===V||500===V||503===V||504===V}(Je))throw Je;const pt={throttleEndTimeMillis:Date.now()+(0,ie.$s)(Re),backoffCount:Re+1};return yield ze.storage.setThrottleMetadata(pt),ze.attemptFetch(V,pt)}})()}}class qc{constructor(V,ue,Re,ze,Je){this.app=V,this._client=ue,this._storageCache=Re,this._storage=ze,this._logger=Je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Kc(P,V){var ue;const Re=P.target.error||void 0;return Wi.create(V,{originalErrorMessage:Re&&(null===(ue=Re)||void 0===ue?void 0:ue.message)})}const Us="app_namespace_store";class xg{constructor(V,ue,Re,ze=function Ig(){return new Promise((P,V)=>{var ue;try{const Re=indexedDB.open("firebase_remote_config",1);Re.onerror=ze=>{V(Kc(ze,"storage-open"))},Re.onsuccess=ze=>{P(ze.target.result)},Re.onupgradeneeded=ze=>{0===ze.oldVersion&&ze.target.result.createObjectStore(Us,{keyPath:"compositeKey"})}}catch(Re){V(Wi.create("storage-open",{originalErrorMessage:null===(ue=Re)||void 0===ue?void 0:ue.message}))}})}()){this.appId=V,this.appName=ue,this.namespace=Re,this.openDbPromise=ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var ue=this;return(0,O.Z)(function*(){const Re=yield ue.openDbPromise;return new Promise((ze,Je)=>{var pt;const Yt=Re.transaction([Us],"readonly").objectStore(Us),fn=ue.createCompositeKey(V);try{const bn=Yt.get(fn);bn.onerror=Wt=>{Je(Kc(Wt,"storage-get"))},bn.onsuccess=Wt=>{const li=Wt.target.result;ze(li?li.value:void 0)}}catch(bn){Je(Wi.create("storage-get",{originalErrorMessage:null===(pt=bn)||void 0===pt?void 0:pt.message}))}})})()}set(V,ue){var Re=this;return(0,O.Z)(function*(){const ze=yield Re.openDbPromise;return new Promise((Je,pt)=>{var Pt;const fn=ze.transaction([Us],"readwrite").objectStore(Us),bn=Re.createCompositeKey(V);try{const Wt=fn.put({compositeKey:bn,value:ue});Wt.onerror=li=>{pt(Kc(li,"storage-set"))},Wt.onsuccess=()=>{Je()}}catch(Wt){pt(Wi.create("storage-set",{originalErrorMessage:null===(Pt=Wt)||void 0===Pt?void 0:Pt.message}))}})})()}delete(V){var ue=this;return(0,O.Z)(function*(){const Re=yield ue.openDbPromise;return new Promise((ze,Je)=>{var pt;const Yt=Re.transaction([Us],"readwrite").objectStore(Us),fn=ue.createCompositeKey(V);try{const bn=Yt.delete(fn);bn.onerror=Wt=>{Je(Kc(Wt,"storage-delete"))},bn.onsuccess=()=>{ze()}}catch(bn){Je(Wi.create("storage-delete",{originalErrorMessage:null===(pt=bn)||void 0===pt?void 0:pt.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class Ml{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,O.Z)(function*(){const ue=V.storage.getLastFetchStatus(),Re=V.storage.getLastSuccessfulFetchTimestampMillis(),ze=V.storage.getActiveConfig(),Je=yield ue;Je&&(V.lastFetchStatus=Je);const pt=yield Re;pt&&(V.lastSuccessfulFetchTimestampMillis=pt);const Pt=yield ze;Pt&&(V.activeConfig=Pt)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function Pl(){return js.apply(this,arguments)}function js(){return(js=(0,O.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Es(){(0,pe._registerComponent)(new re.wA("remote-config",function P(V,{instanceIdentifier:ue}){const Re=V.getProvider("app").getImmediate(),ze=V.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Wi.create("registration-window");if(!(0,ie.hl)())throw Wi.create("indexed-db-unavailable");const{projectId:Je,apiKey:pt,appId:Pt}=Re.options;if(!Je)throw Wi.create("registration-project-id");if(!pt)throw Wi.create("registration-api-key");if(!Pt)throw Wi.create("registration-app-id");const Yt=new xg(Pt,Re.name,ue=ue||"firebase"),fn=new Ml(Yt),bn=new U.Yd(_i);bn.logLevel=U.in.ERROR;const Wt=new Wc(ze,pe.SDK_VERSION,ue,Je,pt,Pt),li=new Sg(Wt,Yt),ir=new Hh(li,Yt,fn,bn),dl=new qc(Re,ir,fn,Yt,bn);return function Qo(P){const V=(0,ie.m9)(P);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(dl),dl},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(_i,"0.3.11"),(0,pe.registerVersion)(_i,"0.3.11","esm2017")}();const kl="/firebase-messaging-sw.js",qr="/firebase-cloud-messaging-push-scope",Hs="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ba="google.c.a.c_id",Ua="google.c.a.c_l",Yc="google.c.a.ts",Mg="google.c.a.e";var fo=(()=>{return(P=fo||(fo={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",fo;var P})();function Wn(P){const V=new Uint8Array(P);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Rl(P){const ue=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Re=atob(ue),ze=new Uint8Array(Re.length);for(let Je=0;Je<Re.length;++Je)ze[Je]=Re.charCodeAt(Je);return ze}const Ol="fcm_token_details_db",er="fcm_token_object_Store";function Pg(P){return si.apply(this,arguments)}function si(){return si=(0,O.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Je=>Je.name).includes(Ol))return null;let V=null;return(yield(0,ce.X3)(Ol,5,{upgrade:(Re=(0,O.Z)(function*(ze,Je,pt,Pt){var Yt;if(Je<2||!ze.objectStoreNames.contains(er))return;const fn=Pt.objectStore(er),bn=yield fn.index("fcmSenderId").get(P);if(yield fn.clear(),bn)if(2===Je){const Wt=bn;if(!Wt.auth||!Wt.p256dh||!Wt.endpoint)return;V={token:Wt.fcmToken,createTime:null!==(Yt=Wt.createTime)&&void 0!==Yt?Yt:Date.now(),subscriptionOptions:{auth:Wt.auth,p256dh:Wt.p256dh,endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:"string"==typeof Wt.vapidKey?Wt.vapidKey:Wn(Wt.vapidKey)}}}else if(3===Je){const Wt=bn;V={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:Wn(Wt.auth),p256dh:Wn(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:Wn(Wt.vapidKey)}}}else if(4===Je){const Wt=bn;V={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:Wn(Wt.auth),p256dh:Wn(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:Wn(Wt.vapidKey)}}}}),function(Je,pt,Pt,Yt){return Re.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Ol),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),Ed(V)?V:null;var Re}),si.apply(this,arguments)}function Ed(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:V}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const ui="firebase-messaging-store";let Xc=null;function ia(){return Xc||(Xc=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(P,V)=>{0===V&&P.createObjectStore(ui)}})),Xc}function As(P){return ki.apply(this,arguments)}function ki(){return(ki=(0,O.Z)(function*(P){const V=Ga(P),Re=yield(yield ia()).transaction(ui).objectStore(ui).get(V);if(Re)return Re;{const ze=yield Pg(P.appConfig.senderId);if(ze)return yield Ss(P,ze),ze}})).apply(this,arguments)}function Ss(P,V){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,O.Z)(function*(P,V){const ue=Ga(P),ze=(yield ia()).transaction(ui,"readwrite");return yield ze.objectStore(ui).put(V,ue),yield ze.done,V})).apply(this,arguments)}function Ad(P){return qi.apply(this,arguments)}function qi(){return(qi=(0,O.Z)(function*(P){const V=Ga(P),Re=(yield ia()).transaction(ui,"readwrite");yield Re.objectStore(ui).delete(V),yield Re.done})).apply(this,arguments)}function Ga({appConfig:P}){return P.appId}const jt=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Fl(P,V){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,O.Z)(function*(P,V){var ue;const Re=yield mo(P),ze=Dn(V),Je={method:"POST",headers:Re,body:JSON.stringify(ze)};let pt;try{pt=yield(yield fetch(sa(P.appConfig),Je)).json()}catch(Pt){throw jt.create("token-subscribe-failed",{errorInfo:null===(ue=Pt)||void 0===ue?void 0:ue.toString()})}if(pt.error)throw jt.create("token-subscribe-failed",{errorInfo:pt.error.message});if(!pt.token)throw jt.create("token-subscribe-no-token");return pt.token})).apply(this,arguments)}function Jc(P,V){return po.apply(this,arguments)}function po(){return(po=(0,O.Z)(function*(P,V){var ue;const Re=yield mo(P),ze=Dn(V.subscriptionOptions),Je={method:"PATCH",headers:Re,body:JSON.stringify(ze)};let pt;try{pt=yield(yield fetch(`${sa(P.appConfig)}/${V.token}`,Je)).json()}catch(Pt){throw jt.create("token-update-failed",{errorInfo:null===(ue=Pt)||void 0===ue?void 0:ue.toString()})}if(pt.error)throw jt.create("token-update-failed",{errorInfo:pt.error.message});if(!pt.token)throw jt.create("token-update-no-token");return pt.token})).apply(this,arguments)}function go(P,V){return za.apply(this,arguments)}function za(){return(za=(0,O.Z)(function*(P,V){var ue;const ze={method:"DELETE",headers:yield mo(P)};try{const pt=yield(yield fetch(`${sa(P.appConfig)}/${V}`,ze)).json();if(pt.error)throw jt.create("token-unsubscribe-failed",{errorInfo:pt.error.message})}catch(Je){throw jt.create("token-unsubscribe-failed",{errorInfo:null===(ue=Je)||void 0===ue?void 0:ue.toString()})}})).apply(this,arguments)}function sa({projectId:P}){return`https://fcmregistrations.googleapis.com/v1/projects/${P}/registrations`}function mo(P){return gt.apply(this,arguments)}function gt(){return(gt=(0,O.Z)(function*({appConfig:P,installations:V}){const ue=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${ue}`})})).apply(this,arguments)}function Dn({p256dh:P,auth:V,endpoint:ue,vapidKey:Re}){const ze={web:{endpoint:ue,auth:V,p256dh:P}};return Re!==Hs&&(ze.web.applicationPubKey=Re),ze}const oa=6048e5;function aa(P){return Jn.apply(this,arguments)}function Jn(){return(Jn=(0,O.Z)(function*(P){const V=yield Sd(P.swRegistration,P.vapidKey),ue={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:V.endpoint,auth:Wn(V.getKey("auth")),p256dh:Wn(V.getKey("p256dh"))},Re=yield As(P.firebaseDependencies);if(Re){if(Gs(Re.subscriptionOptions,ue))return Date.now()>=Re.createTime+oa?Er(P,{token:Re.token,createTime:Date.now(),subscriptionOptions:ue}):Re.token;try{yield go(P.firebaseDependencies,Re.token)}catch(ze){console.warn(ze)}return Ds(P.firebaseDependencies,ue)}return Ds(P.firebaseDependencies,ue)})).apply(this,arguments)}function $a(P){return _o.apply(this,arguments)}function _o(){return(_o=(0,O.Z)(function*(P){const V=yield As(P.firebaseDependencies);V&&(yield go(P.firebaseDependencies,V.token),yield Ad(P.firebaseDependencies));const ue=yield P.swRegistration.pushManager.getSubscription();return!ue||ue.unsubscribe()})).apply(this,arguments)}function Er(P,V){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,O.Z)(function*(P,V){try{const ue=yield Jc(P.firebaseDependencies,V),Re=Object.assign(Object.assign({},V),{token:ue,createTime:Date.now()});return yield Ss(P.firebaseDependencies,Re),ue}catch(ue){throw yield $a(P),ue}})).apply(this,arguments)}function Ds(P,V){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,O.Z)(function*(P,V){const Re={token:yield Fl(P,V),createTime:Date.now(),subscriptionOptions:V};return yield Ss(P,Re),Re.token})).apply(this,arguments)}function Sd(P,V){return qa.apply(this,arguments)}function qa(){return(qa=(0,O.Z)(function*(P,V){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Rl(V)})})).apply(this,arguments)}function Gs(P,V){return V.vapidKey===P.vapidKey&&V.endpoint===P.endpoint&&V.auth===P.auth&&V.p256dh===P.p256dh}function Ni(P){const V={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function Ar(P,V){if(!V.notification)return;P.notification={};const ue=V.notification.title;ue&&(P.notification.title=ue);const Re=V.notification.body;Re&&(P.notification.body=Re);const ze=V.notification.image;ze&&(P.notification.image=ze)}(V,P),function eu(P,V){!V.data||(P.data=V.data)}(V,P),function la(P,V){var ue,Re,ze,Je,pt;if(!(V.fcmOptions||null!==(ue=V.notification)&&void 0!==ue&&ue.click_action))return;P.fcmOptions={};const Pt=null!==(ze=null===(Re=V.fcmOptions)||void 0===Re?void 0:Re.link)&&void 0!==ze?ze:null===(Je=V.notification)||void 0===Je?void 0:Je.click_action;Pt&&(P.fcmOptions.link=Pt);const Yt=null===(pt=V.fcmOptions)||void 0===pt?void 0:pt.analytics_label;Yt&&(P.fcmOptions.analyticsLabel=Yt)}(V,P),V}function Yr(P){return"object"==typeof P&&!!P&&Ba in P}function Dd(P,V){const ue=[];for(let Re=0;Re<P.length;Re++)ue.push(P.charAt(Re)),Re<V.length&&ue.push(V.charAt(Re));return ue.join("")}function Ka(P){return jt.create("missing-app-config-values",{valueName:P})}Dd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Dd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gh{constructor(V,ue,Re){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ze=function tu(P){if(!P||!P.options)throw Ka("App Configuration Object");if(!P.name)throw Ka("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:ue}=P;for(const Re of V)if(!ue[Re])throw Ka(Re);return{appName:P.name,projectId:ue.projectId,apiKey:ue.apiKey,appId:ue.appId,senderId:ue.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:ze,installations:ue,analyticsProvider:Re}}_delete(){return Promise.resolve()}}function yo(P){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,O.Z)(function*(P){var V;try{P.swRegistration=yield navigator.serviceWorker.register(kl,{scope:qr}),P.swRegistration.update().catch(()=>{})}catch(ue){throw jt.create("failed-service-worker-registration",{browserErrorMessage:null===(V=ue)||void 0===V?void 0:V.message})}})).apply(this,arguments)}function Nl(P,V){return Za.apply(this,arguments)}function Za(){return(Za=(0,O.Z)(function*(P,V){if(!V&&!P.swRegistration&&(yield yo(P)),V||!P.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw jt.create("invalid-sw-registration");P.swRegistration=V}})).apply(this,arguments)}function Xa(P,V){return nu.apply(this,arguments)}function nu(){return(nu=(0,O.Z)(function*(P,V){V?P.vapidKey=V:P.vapidKey||(P.vapidKey=Hs)})).apply(this,arguments)}function Vl(){return(Vl=(0,O.Z)(function*(P,V){if(!navigator)throw jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jt.create("permission-blocked");return yield Xa(P,V?.vapidKey),yield Nl(P,V?.serviceWorkerRegistration),aa(P)})).apply(this,arguments)}function Bl(P,V,ue){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,O.Z)(function*(P,V,ue){const Re=Ja(V);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(Re,{message_id:ue[Ba],message_name:ue[Ua],message_time:ue[Yc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ja(P){switch(P){case fo.NOTIFICATION_CLICKED:return"notification_open";case fo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function jl(){return(jl=(0,O.Z)(function*(P,V){const ue=V.data;if(!ue.isFirebaseMessaging)return;P.onMessageHandler&&ue.messageType===fo.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(Ni(ue)):P.onMessageHandler.next(Ni(ue)));const Re=ue.data;Yr(Re)&&"1"===Re[Mg]&&(yield Bl(P,ue.messageType,Re))})).apply(this,arguments)}const Hl="@firebase/messaging",Ts=P=>{const V=new Gh(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ue=>function iu(P,V){return jl.apply(this,arguments)}(V,ue)),V},Hn=P=>{const V=P.getProvider("messaging").getImmediate();return{getToken:Re=>function Qa(P,V){return Vl.apply(this,arguments)}(V,Re)}};function zh(){return su.apply(this,arguments)}function su(){return(su=(0,O.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ru(){(0,pe._registerComponent)(new re.wA("messaging",Ts,"PUBLIC")),(0,pe._registerComponent)(new re.wA("messaging-internal",Hn,"PRIVATE")),(0,pe.registerVersion)(Hl,"0.9.16"),(0,pe.registerVersion)(Hl,"0.9.16","esm2017")}();const au="analytics",Is="firebase_id",ua="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",vo="https://www.googletagmanager.com/gtag/js",vi=new U.Yd("@firebase/analytics");function Kh(P){return Promise.all(P.map(V=>V.catch(ue=>ue)))}function Rg(P,V){const ue=document.createElement("script");ue.src=`${vo}?l=${P}&id=${V}`,ue.async=!0,document.head.appendChild(ue)}function Yh(P,V,ue,Re,ze,Je){return bo.apply(this,arguments)}function bo(){return(bo=(0,O.Z)(function*(P,V,ue,Re,ze,Je){const pt=Re[ze];try{if(pt)yield V[pt];else{const Yt=(yield Kh(ue)).find(fn=>fn.measurementId===ze);Yt&&(yield V[Yt.appId])}}catch(Pt){vi.error(Pt)}P("config",ze,Je)})).apply(this,arguments)}function xd(P,V,ue,Re,ze){return da.apply(this,arguments)}function da(){return(da=(0,O.Z)(function*(P,V,ue,Re,ze){try{let Je=[];if(ze&&ze.send_to){let pt=ze.send_to;Array.isArray(pt)||(pt=[pt]);const Pt=yield Kh(ue);for(const Yt of pt){const fn=Pt.find(Wt=>Wt.measurementId===Yt),bn=fn&&V[fn.appId];if(!bn){Je=[];break}Je.push(bn)}}0===Je.length&&(Je=Object.values(V)),yield Promise.all(Je),P("event",Re,ze||{})}catch(Je){vi.error(Je)}})).apply(this,arguments)}function Xh(){const P=window.document.getElementsByTagName("script");for(const V of Object.values(P))if(V.src&&V.src.includes(vo))return V;return null}const Zr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Og=new class Sr{constructor(V={},ue=1e3){this.throttleMetadata=V,this.intervalMillis=ue}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,ue){this.throttleMetadata[V]=ue}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function Bn(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function Qr(P){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,O.Z)(function*(P){var V;const{appId:ue,apiKey:Re}=P,ze={method:"GET",headers:Bn(Re)},Je=ua.replace("{app-id}",ue),pt=yield fetch(Je,ze);if(200!==pt.status&&304!==pt.status){let Pt="";try{const Yt=yield pt.json();null!==(V=Yt.error)&&void 0!==V&&V.message&&(Pt=Yt.error.message)}catch{}throw Zr.create("config-fetch-failed",{httpStatus:pt.status,responseMessage:Pt})}return pt.json()})).apply(this,arguments)}function Mt(P){return tr.apply(this,arguments)}function tr(){return(tr=(0,O.Z)(function*(P,V=Og,ue){const{appId:Re,apiKey:ze,measurementId:Je}=P.options;if(!Re)throw Zr.create("no-app-id");if(!ze){if(Je)return{measurementId:Je,appId:Re};throw Zr.create("no-api-key")}const pt=V.getThrottleMetadata(Re)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pt=new $l;return setTimeout((0,O.Z)(function*(){Pt.abort()}),void 0!==ue?ue:6e4),oi({appId:Re,apiKey:ze,measurementId:Je},pt,Pt,V)})).apply(this,arguments)}function oi(P,V,ue){return nl.apply(this,arguments)}function nl(){return(nl=(0,O.Z)(function*(P,{throttleEndTimeMillis:V,backoffCount:ue},Re,ze=Og){var Je,pt;const{appId:Pt,measurementId:Yt}=P;try{yield il(Re,V)}catch(fn){if(Yt)return vi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yt} provided in the "measurementId" field in the local Firebase config. [${null===(Je=fn)||void 0===Je?void 0:Je.message}]`),{appId:Pt,measurementId:Yt};throw fn}try{const fn=yield Qr(P);return ze.deleteThrottleMetadata(Pt),fn}catch(fn){const bn=fn;if(!zl(bn)){if(ze.deleteThrottleMetadata(Pt),Yt)return vi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Yt} provided in the "measurementId" field in the local Firebase config. [${bn?.message}]`),{appId:Pt,measurementId:Yt};throw fn}const Wt=503===Number(null===(pt=bn?.customData)||void 0===pt?void 0:pt.httpStatus)?(0,ie.$s)(ue,ze.intervalMillis,30):(0,ie.$s)(ue,ze.intervalMillis),li={throttleEndTimeMillis:Date.now()+Wt,backoffCount:ue+1};return ze.setThrottleMetadata(Pt,li),vi.debug(`Calling attemptFetch again in ${Wt} millis`),oi(P,li,Re,ze)}})).apply(this,arguments)}function il(P,V){return new Promise((ue,Re)=>{const ze=Math.max(V-Date.now(),0),Je=setTimeout(ue,ze);P.addEventListener(()=>{clearTimeout(Je),Re(Zr.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function zl(P){if(!(P instanceof ie.ZR&&P.customData))return!1;const V=Number(P.customData.httpStatus);return 429===V||500===V||503===V||504===V}class $l{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}let rl,ds;function Jr(){return(Jr=(0,O.Z)(function*(P,V,ue,Re,ze){if(ze&&ze.global)P("event",ue,Re);else{const Je=yield V;P("event",ue,Object.assign(Object.assign({},Re),{send_to:Je}))}})).apply(this,arguments)}function Kl(P){ds=P}function wo(P){rl=P}function lu(){return fa.apply(this,arguments)}function fa(){return(fa=(0,O.Z)(function*(){var P;if(!(0,ie.hl)())return vi.warn(Zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(V){return vi.warn(Zr.create("indexeddb-unavailable",{errorInfo:null===(P=V)||void 0===P?void 0:P.toString()}).message),!1}return!0})).apply(this,arguments)}function Ks(){return(Ks=(0,O.Z)(function*(P,V,ue,Re,ze,Je,pt){var Pt;const Yt=Mt(P);Yt.then(ir=>{ue[ir.measurementId]=ir.appId,P.options.measurementId&&ir.measurementId!==P.options.measurementId&&vi.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${ir.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ir=>vi.error(ir)),V.push(Yt);const fn=lu().then(ir=>{if(ir)return Re.getId()}),[bn,Wt]=yield Promise.all([Yt,fn]);Xh()||Rg(Je,bn.measurementId),ds&&(ze("consent","default",ds),Kl(void 0)),ze("js",new Date);const li=null!==(Pt=pt?.config)&&void 0!==Pt?Pt:{};return li.origin="firebase",li.update=!0,null!=Wt&&(li[Is]=Wt),ze("config",bn.measurementId,li),rl&&(ze("set",rl),wo(void 0)),bn.measurementId})).apply(this,arguments)}class pa{constructor(V){this.app=V}_delete(){return delete qn[this.app.options.appId],Promise.resolve()}}let qn={},nr=[];const cu={};let es,Un,Dr="dataLayer",xn=!1;function bi(P,V,ue){!function di(){const P=[];if((0,ie.ru)()&&P.push("This is a browser extension environment."),(0,ie.zI)()||P.push("Cookies are not available."),P.length>0){const V=P.map((Re,ze)=>`(${ze+1}) ${Re}`).join(" "),ue=Zr.create("invalid-analytics-context",{errorInfo:V});vi.warn(ue.message)}}();const Re=P.options.appId;if(!Re)throw Zr.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw Zr.create("no-api-key");vi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=qn[Re])throw Zr.create("already-exists",{id:Re});if(!xn){!function wy(P){let V=[];Array.isArray(window[P])?V=window[P]:window[P]=V}(Dr);const{wrappedGtag:Je,gtagCore:pt}=function Zh(P,V,ue,Re,ze){let Je=function(...pt){window[Re].push(arguments)};return window[ze]&&"function"==typeof window[ze]&&(Je=window[ze]),window[ze]=function Gl(P,V,ue,Re){function Je(){return(Je=(0,O.Z)(function*(pt,Pt,Yt){try{"event"===pt?yield xd(P,V,ue,Pt,Yt):"config"===pt?yield Yh(P,V,ue,Re,Pt,Yt):"consent"===pt?P("consent","update",Yt):P("set",Pt)}catch(fn){vi.error(fn)}})).apply(this,arguments)}return function ze(pt,Pt,Yt){return Je.apply(this,arguments)}}(Je,P,V,ue),{gtagCore:Je,wrappedGtag:window[ze]}}(qn,nr,cu,Dr,"gtag");Un=Je,es=pt,xn=!0}return qn[Re]=function gr(P,V,ue,Re,ze,Je,pt){return Ks.apply(this,arguments)}(P,nr,cu,V,es,Dr,ue),new pa(P)}function Bi(){return sl.apply(this,arguments)}function sl(){return(sl=(0,O.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const ga="@firebase/analytics";!function hs(){(0,pe._registerComponent)(new re.wA(au,(V,{options:ue})=>bi(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),ue),"PUBLIC")),(0,pe._registerComponent)(new re.wA("analytics-internal",function P(V){try{const ue=V.getProvider(au).getImmediate();return{logEvent:(Re,ze,Je)=>function mr(P,V,ue,Re){P=(0,ie.m9)(P),function Pd(P,V,ue,Re,ze){return Jr.apply(this,arguments)}(Un,qn[P.app.options.appId],V,ue,Re).catch(ze=>vi.error(ze))}(ue,Re,ze,Je)}}catch(ue){throw Zr.create("interop-component-reg-failed",{reason:ue})}},"PRIVATE")),(0,pe.registerVersion)(ga,"0.8.0"),(0,pe.registerVersion)(ga,"0.8.0","esm2017")}();var Yl=R(4408),fs=R(7565);const uu=new class gn extends fs.v{}(class al extends Yl.o{constructor(V,ue){super(V,ue),this.scheduler=V,this.work=ue}schedule(V,ue=0){return ue>0?super.schedule(V,ue):(this.delay=ue,this.state=V,this.scheduler.flush(this),this)}execute(V,ue){return ue>0||this.closed?super.execute(V,ue):this._execute(V,ue)}requestAsyncId(V,ue,Re=0){return null!=Re&&Re>0||null==Re&&this.delay>0?super.requestAsyncId(V,ue,Re):V.flush(this)}});var kd=R(4986),Zl=R(8505),Ri=R(9468),Ui=R(5363);const Xl=new l.GfV("7.4.1"),xs="__angularfire_symbol__analyticsIsSupportedValue",Jh="__angularfire_symbol__analyticsIsSupported",ei="__angularfire_symbol__remoteConfigIsSupportedValue",Tr="__angularfire_symbol__remoteConfigIsSupported",cl="__angularfire_symbol__messagingIsSupportedValue",du="__angularfire_symbol__messagingIsSupported";function Co(P,V,ue){if(V){if(1===V.length)return V[0];const Je=V.filter(pt=>pt.app===ue);if(1===Je.length)return Je[0]}return ue.container.getProvider(P).getImmediate({optional:!0})}globalThis[Jh]||(globalThis[Jh]=Bi().then(P=>globalThis[xs]=P).catch(()=>globalThis[xs]=!1)),globalThis[du]||(globalThis[du]=zh().then(P=>globalThis[cl]=P).catch(()=>globalThis[cl]=!1)),globalThis[Tr]||(globalThis[Tr]=Pl().then(P=>globalThis[ei]=P).catch(()=>globalThis[ei]=!1));const Od=(P,V)=>{const ue=V?[V]:(0,te.C6)(),Re=[];return ue.forEach(ze=>{ze.container.getProvider(P).instances.forEach(pt=>{Re.includes(pt)||Re.push(pt)})}),Re};function ts(){}class Ms{constructor(V,ue=uu){this.zone=V,this.delegate=ue}now(){return this.delegate.now()}schedule(V,ue,Re){const ze=this.zone;return this.delegate.schedule(function(pt){ze.runGuarded(()=>{V.apply(this,[pt])})},ue,Re)}}class Eo{constructor(V){this.zone=V,this.task=null}call(V,ue){const Re=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ts,{},ts,ts)),ue.pipe((0,Zl.b)({next:Re,complete:Re,error:Re})).subscribe(V).add(Re)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ao=(()=>{class P{constructor(ue){this.ngZone=ue,this.outsideAngular=ue.runOutsideAngular(()=>new Ms(Zone.current)),this.insideAngular=ue.run(()=>new Ms(Zone.current,kd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(ue){return new(ue||P)(l.LFG(l.R0b))},P.\u0275prov=l.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function dn(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function Ql(P){return dn(),function ti(P){return function(ue){return(ue=ue.lift(new Eo(P.ngZone))).pipe((0,Ri.R)(P.outsideAngular),(0,Ui.Q)(P.insideAngular))}}(dn())(P)}},2090:(xe,I,R)=>{"use strict";R.d(I,{$s:()=>rt,BH:()=>z,G6:()=>j,L:()=>ce,LL:()=>ke,Mn:()=>N,Sg:()=>ae,UG:()=>G,US:()=>re,ZB:()=>K,ZR:()=>ye,b$:()=>S,d:()=>F,eu:()=>oe,hl:()=>D,jU:()=>Y,m9:()=>Ye,ne:()=>at,pd:()=>mt,r3:()=>ne,ru:()=>A,tV:()=>he,uI:()=>fe,vZ:()=>Me,w1:()=>Q,xO:()=>Ke,xb:()=>be,z$:()=>W,zI:()=>$,zd:()=>Xe});const pe=function(Ee){const Te=[];let Ce=0;for(let Ae=0;Ae<Ee.length;Ae++){let Pe=Ee.charCodeAt(Ae);Pe<128?Te[Ce++]=Pe:Pe<2048?(Te[Ce++]=Pe>>6|192,Te[Ce++]=63&Pe|128):55296==(64512&Pe)&&Ae+1<Ee.length&&56320==(64512&Ee.charCodeAt(Ae+1))?(Pe=65536+((1023&Pe)<<10)+(1023&Ee.charCodeAt(++Ae)),Te[Ce++]=Pe>>18|240,Te[Ce++]=Pe>>12&63|128,Te[Ce++]=Pe>>6&63|128,Te[Ce++]=63&Pe|128):(Te[Ce++]=Pe>>12|224,Te[Ce++]=Pe>>6&63|128,Te[Ce++]=63&Pe|128)}return Te},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ee,Te){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=Te?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let Pe=0;Pe<Ee.length;Pe+=3){const $e=Ee[Pe],ot=Pe+1<Ee.length,Ct=ot?Ee[Pe+1]:0,Xt=Pe+2<Ee.length,en=Xt?Ee[Pe+2]:0;let tn=(15&Ct)<<2|en>>6,Sn=63&en;Xt||(Sn=64,ot||(tn=64)),Ae.push(Ce[$e>>2],Ce[(3&$e)<<4|Ct>>4],Ce[tn],Ce[Sn])}return Ae.join("")},encodeString(Ee,Te){return this.HAS_NATIVE_SUPPORT&&!Te?btoa(Ee):this.encodeByteArray(pe(Ee),Te)},decodeString(Ee,Te){return this.HAS_NATIVE_SUPPORT&&!Te?atob(Ee):function(Ee){const Te=[];let Ce=0,Ae=0;for(;Ce<Ee.length;){const Pe=Ee[Ce++];if(Pe<128)Te[Ae++]=String.fromCharCode(Pe);else if(Pe>191&&Pe<224){const $e=Ee[Ce++];Te[Ae++]=String.fromCharCode((31&Pe)<<6|63&$e)}else if(Pe>239&&Pe<365){const Xt=((7&Pe)<<18|(63&Ee[Ce++])<<12|(63&Ee[Ce++])<<6|63&Ee[Ce++])-65536;Te[Ae++]=String.fromCharCode(55296+(Xt>>10)),Te[Ae++]=String.fromCharCode(56320+(1023&Xt))}else{const $e=Ee[Ce++],ot=Ee[Ce++];Te[Ae++]=String.fromCharCode((15&Pe)<<12|(63&$e)<<6|63&ot)}}return Te.join("")}(this.decodeStringToByteArray(Ee,Te))},decodeStringToByteArray(Ee,Te){this.init_();const Ce=Te?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let Pe=0;Pe<Ee.length;){const $e=Ce[Ee.charAt(Pe++)],Ct=Pe<Ee.length?Ce[Ee.charAt(Pe)]:0;++Pe;const en=Pe<Ee.length?Ce[Ee.charAt(Pe)]:64;++Pe;const Jt=Pe<Ee.length?Ce[Ee.charAt(Pe)]:64;if(++Pe,null==$e||null==Ct||null==en||null==Jt)throw Error();Ae.push($e<<2|Ct>>4),64!==en&&(Ae.push(Ct<<4&240|en>>2),64!==Jt&&Ae.push(en<<6&192|Jt))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}},ce=function(Ee){return function(Ee){const Te=pe(Ee);return re.encodeByteArray(Te,!0)}(Ee).replace(/\./g,"")},he=function(Ee){try{return re.decodeString(Ee,!0)}catch(Te){console.error("base64Decode failed: ",Te)}return null};function K(Ee,Te){if(!(Te instanceof Object))return Te;switch(Te.constructor){case Date:return new Date(Te.getTime());case Object:void 0===Ee&&(Ee={});break;case Array:Ee=[];break;default:return Te}for(const Ce in Te)!Te.hasOwnProperty(Ce)||!se(Ce)||(Ee[Ce]=K(Ee[Ce],Te[Ce]));return Ee}function se(Ee){return"__proto__"!==Ee}class z{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Te,Ce)=>{this.resolve=Te,this.reject=Ce})}wrapCallback(Te){return(Ce,Ae)=>{Ce?this.reject(Ce):this.resolve(Ae),"function"==typeof Te&&(this.promise.catch(()=>{}),1===Te.length?Te(Ce):Te(Ce,Ae))}}}function ae(Ee,Te){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=Te||"demo-project",Pe=Ee.iat||0,$e=Ee.sub||Ee.user_id;if(!$e)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const ot=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:Pe,exp:Pe+3600,auth_time:Pe,sub:$e,user_id:$e,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(ot)),""].join(".")}function W(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(W())}function G(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Y(){return"object"==typeof self&&self.self===self}function A(){const Ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ee&&void 0!==Ee.id}function S(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function F(){return W().indexOf("Electron/")>=0}function Q(){const Ee=W();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function N(){return W().indexOf("MSAppHost/")>=0}function j(){return!G()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function D(){return"object"==typeof indexedDB}function oe(){return new Promise((Ee,Te)=>{try{let Ce=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",Pe=self.indexedDB.open(Ae);Pe.onsuccess=()=>{Pe.result.close(),Ce||self.indexedDB.deleteDatabase(Ae),Ee(!0)},Pe.onupgradeneeded=()=>{Ce=!1},Pe.onerror=()=>{var $e;Te((null===($e=Pe.error)||void 0===$e?void 0:$e.message)||"")}}catch(Ce){Te(Ce)}})}function $(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ye extends Error{constructor(Te,Ce,Ae){super(Ce),this.code=Te,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ke.prototype.create)}}class ke{constructor(Te,Ce,Ae){this.service=Te,this.serviceName=Ce,this.errors=Ae}create(Te,...Ce){const Ae=Ce[0]||{},Pe=`${this.service}/${Te}`,$e=this.errors[Te],ot=$e?function Ne(Ee,Te){return Ee.replace(Qe,(Ce,Ae)=>{const Pe=Te[Ae];return null!=Pe?String(Pe):`<${Ae}?>`})}($e,Ae):"Error";return new ye(Pe,`${this.serviceName}: ${ot} (${Pe}).`,Ae)}}const Qe=/\{\$([^}]+)}/g;function ne(Ee,Te){return Object.prototype.hasOwnProperty.call(Ee,Te)}function be(Ee){for(const Te in Ee)if(Object.prototype.hasOwnProperty.call(Ee,Te))return!1;return!0}function Me(Ee,Te){if(Ee===Te)return!0;const Ce=Object.keys(Ee),Ae=Object.keys(Te);for(const Pe of Ce){if(!Ae.includes(Pe))return!1;const $e=Ee[Pe],ot=Te[Pe];if(Ue($e)&&Ue(ot)){if(!Me($e,ot))return!1}else if($e!==ot)return!1}for(const Pe of Ae)if(!Ce.includes(Pe))return!1;return!0}function Ue(Ee){return null!==Ee&&"object"==typeof Ee}function Ke(Ee){const Te=[];for(const[Ce,Ae]of Object.entries(Ee))Array.isArray(Ae)?Ae.forEach(Pe=>{Te.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Pe))}):Te.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Ae));return Te.length?"&"+Te.join("&"):""}function Xe(Ee){const Te={};return Ee.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[Pe,$e]=Ae.split("=");Te[decodeURIComponent(Pe)]=decodeURIComponent($e)}}),Te}function mt(Ee){const Te=Ee.indexOf("?");if(!Te)return"";const Ce=Ee.indexOf("#",Te);return Ee.substring(Te,Ce>0?Ce:void 0)}function at(Ee,Te){const Ce=new _t(Ee,Te);return Ce.subscribe.bind(Ce)}class _t{constructor(Te,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{Te(this)}).catch(Ae=>{this.error(Ae)})}next(Te){this.forEachObserver(Ce=>{Ce.next(Te)})}error(Te){this.forEachObserver(Ce=>{Ce.error(Te)}),this.close(Te)}complete(){this.forEachObserver(Te=>{Te.complete()}),this.close()}subscribe(Te,Ce,Ae){let Pe;if(void 0===Te&&void 0===Ce&&void 0===Ae)throw new Error("Missing Observer.");Pe=function Rt(Ee,Te){if("object"!=typeof Ee||null===Ee)return!1;for(const Ce of Te)if(Ce in Ee&&"function"==typeof Ee[Ce])return!0;return!1}(Te,["next","error","complete"])?Te:{next:Te,error:Ce,complete:Ae},void 0===Pe.next&&(Pe.next=Ot),void 0===Pe.error&&(Pe.error=Ot),void 0===Pe.complete&&(Pe.complete=Ot);const $e=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Pe.error(this.finalError):Pe.complete()}catch{}}),this.observers.push(Pe),$e}unsubscribeOne(Te){void 0===this.observers||void 0===this.observers[Te]||(delete this.observers[Te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Te){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,Te)}sendOne(Te,Ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Te])try{Ce(this.observers[Te])}catch(Ae){typeof console<"u"&&console.error&&console.error(Ae)}})}close(Te){this.finalized||(this.finalized=!0,void 0!==Te&&(this.finalError=Te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ot(){}function rt(Ee,Te=1e3,Ce=2){const Ae=Te*Math.pow(Ce,Ee),Pe=Math.round(.5*Ae*(Math.random()-.5)*2);return Math.min(144e5,Ae+Pe)}function Ye(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}},8737:(xe,I,R)=>{"use strict";var l=R(4650);let te=null;function O(){return te}const U=new l.OlP("DocumentToken");let ce=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function he(){return(0,l.LFG)(K)}()},providedIn:"platform"}),n})();const ee=new l.OlP("Location Initialized");let K=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,i,r){se()?this._history.pushState(t,i,r):this.location.hash=r}replaceState(t,i,r){se()?this._history.replaceState(t,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function z(){return new K((0,l.LFG)(U))}()},providedIn:"platform"}),n})();function se(){return!!window.history.pushState}function ae(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function W(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function fe(n){return n&&"?"!==n[0]?"?"+n:n}let G=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(A)},providedIn:"root"}),n})();const Y=new l.OlP("appBaseHref");let A=(()=>{class n extends G{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(U).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ae(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+fe(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,a){const u=this.prepareExternalUrl(r+fe(a));this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){const u=this.prepareExternalUrl(r+fe(a));this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce),l.LFG(Y,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),S=(()=>{class n extends G{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=ae(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,a){let u=this.prepareExternalUrl(r+fe(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,i,u)}replaceState(t,i,r,a){let u=this.prepareExternalUrl(r+fe(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ce),l.LFG(Y,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),F=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._baseHref=W(J(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+fe(i))}normalize(t){return n.stripTrailingSlash(function N(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,J(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fe(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+fe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}}return n.normalizeQueryParams=fe,n.joinWithSlash=ae,n.stripTrailingSlash=W,n.\u0275fac=function(t){return new(t||n)(l.LFG(G))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Q(){return new F((0,l.LFG)(G))}()},providedIn:"root"}),n})();function J(n){return n.replace(/\/index.html$/,"")}let xl=(()=>{class n{constructor(t,i,r,a){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&((0,l.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){const t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}_applyKeyValueChanges(t){t.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),t.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(t){t.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,l.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),t.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!0)):Object.keys(t).forEach(i=>this._toggleClass(i,!!t[i])))}_removeClasses(t){t&&(Array.isArray(t)||t instanceof Set?t.forEach(i=>this._toggleClass(i,!1)):Object.keys(t).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(t,i){(t=t.trim())&&t.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.ZZ4),l.Y36(l.aQg),l.Y36(l.SBq),l.Y36(l.Qsj))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class ho{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xo=(()=>{class n{constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new ho(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const f=i.get(a);i.move(f,u),Wr(f,r)}});for(let r=0,a=i.length;r<a;r++){const f=i.get(r).context;f.index=r,f.count=a,f.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Wr(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Wr(n,e){n.context.$implicit=e.item}let Qo=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Li,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ji("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ji("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Li{constructor(){this.$implicit=null,this.ngIf=null}}function Ji(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}class Jo{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let ea=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(t)}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ta=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new Jo(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(ea,9))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();class bd{createSubscription(e,t){return e.subscribe({next:t,error:i=>{throw i}})}dispose(e){e.unsubscribe()}}class Sg{createSubscription(e,t){return e.then(t,i=>{throw i})}dispose(e){}}const Cs=new Sg,Dg=new bd;let qc=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,i=>this._updateLatestValue(t,i))}_selectStrategy(t){if((0,l.QGY)(t))return Cs;if((0,l.F4k)(t))return Dg;throw function Ti(n,e){return new l.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,i){t===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),pr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const fo="browser";function er(n){return"server"===n}let Zc=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new Ha((0,l.LFG)(U),window)}),n})();class Ha{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Xc(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=ui(this.window.history)||ui(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function ui(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Ss extends class ki extends class re{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){te||(te=n)}(new Ss)}onAndCancel(e,t,i){return e.addEventListener(t,i,!1),()=>{e.removeEventListener(t,i,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Ad(){return Kr=Kr||document.querySelector("base"),Kr?Kr.getAttribute("href"):null}();return null==t?null:function Ga(n){qi=qi||document.createElement("a"),qi.setAttribute("href",n);const e=qi.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Kr=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Vn(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,a]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let qi,Kr=null;const ra=new l.OlP("TRANSITION_ID"),Fl=[{provide:l.ip1,useFactory:function jt(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const i=O(),r=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[ra,U,l.zs3],multi:!0}];let Jc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const po=new l.OlP("EventManagerPlugins");let go=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>r.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}addGlobalEventListener(t,i,r){return this._findPluginFor(i).addGlobalEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){const i=this._eventNameToPlugin.get(t);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(po),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class za{constructor(e){this._doc=e}addGlobalEventListener(e,t,i){const r=O().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,i)}}let sa=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const i=new Set;t.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),mo=(()=>{class n extends sa{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,i,r){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(t){const i=[];this._addStylesToHost(this._stylesSet,t,i),this._hostNodes.set(t,i)}removeHost(t){const i=this._hostNodes.get(t);i&&i.forEach(gt),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(t,r,i)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(gt))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function gt(n){O().remove(n)}const Dn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},oa=/%COMP%/g;function Ds(n,e,t){for(let i=0;i<e.length;i++){let r=e[i];Array.isArray(r)?Ds(n,r,t):(r=r.replace(oa,n),t.push(r))}return t}function Ll(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let qa=(()=>{class n{constructor(t,i,r){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Gs(t)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;switch(i.encapsulation){case l.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new la(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(t),r}case 1:case l.ifc.ShadowDom:return new Yr(this.eventManager,this.sharedStylesHost,t,i);default:if(!this.rendererByCompId.has(i.id)){const r=Ds(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(go),l.LFG(mo),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Gs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Dn[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(eu(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(eu(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?document.querySelector(e):e;if(!i)throw new Error(`The selector "${e}" did not match any elements`);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const a=Dn[r];a?e.setAttributeNS(a,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=Dn[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,i,r&l.JOm.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ll(i)):this.eventManager.addEventListener(e,t,Ll(i))}}function eu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class la extends Gs{constructor(e,t,i,r){super(e),this.component=i;const a=Ds(r+"-"+i.id,i.styles,[]);t.addStyles(a),this.contentAttr=function Er(n){return"_ngcontent-%COMP%".replace(oa,n)}(r+"-"+i.id),this.hostAttr=function Wa(n){return"_nghost-%COMP%".replace(oa,n)}(r+"-"+i.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}class Yr extends Gs{constructor(e,t,i,r){super(e),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Ds(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const f=document.createElement("style");f.textContent=a[u],this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Dd=(()=>{class n extends za{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const tu=["alt","control","meta","shift"],Gh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yo={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ya={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Nl=(()=>{class n extends za{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="";if(tu.forEach(_=>{const w=i.indexOf(_);w>-1&&(i.splice(w,1),u+=_+".")}),u+=a,0!=i.length||0===a.length)return null;const f={};return f.domEventName=r,f.fullKey=u,f}static getEventFullKey(t){let i="",r=function Za(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&yo.hasOwnProperty(e)&&(e=yo[e]))}return Gh[e]||e}(t);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),tu.forEach(a=>{a!=r&&(0,Ya[a])(t)&&(i+=a+".")}),i+=r,i}static eventCallback(t,i,r){return a=>{n.getEventFullKey(a)===t&&r.runGuarded(()=>i(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const iu=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:fo},{provide:l.g9A,useValue:function Vl(){Ss.makeCurrent()},multi:!0},{provide:U,useFactory:function Ul(){return(0,l.RDi)(document),document},deps:[]}]),jl=new l.OlP(""),Hl=[{provide:l.rWj,useClass:class Qc{addToWindow(e){l.dqk.getAngularTestability=(i,r=!0)=>{const a=e.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(i=>{const r=l.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const f=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],yi=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Bl(){return new l.qLn},deps:[]},{provide:po,useClass:Dd,multi:!0,deps:[U,l.R0b,l.Lbi]},{provide:po,useClass:Nl,multi:!0,deps:[U]},{provide:qa,useClass:qa,deps:[go,mo,l.AFp]},{provide:l.FYo,useExisting:qa},{provide:sa,useExisting:mo},{provide:mo,useClass:mo,deps:[U]},{provide:go,useClass:go,deps:[po,l.R0b]},{provide:class As{},useClass:Jc,deps:[]},[]];let Ts=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:ra,useExisting:l.AFp},Fl]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jl,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...yi,...Hl],imports:[pr,l.hGG]}),n})(),Td=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function su(){return new Td((0,l.LFG)(U))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let Xr=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new(t||n):l.LFG(Sr),i},providedIn:"root"}),n})(),Sr=(()=>{class n extends Xr{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case l.q3G.NONE:return i;case l.q3G.HTML:return(0,l.qzn)(i,"HTML")?(0,l.z3N)(i):(0,l.EiD)(this._doc,String(i)).toString();case l.q3G.STYLE:return(0,l.qzn)(i,"Style")?(0,l.z3N)(i):i;case l.q3G.SCRIPT:if((0,l.qzn)(i,"Script"))return(0,l.z3N)(i);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(i,"URL")?(0,l.z3N)(i):(0,l.mCW)(String(i));case l.q3G.RESOURCE_URL:if((0,l.qzn)(i,"ResourceURL"))return(0,l.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let i=null;return i=t?new t:function Md(n){return new Sr(n.get(U))}(l.LFG(l.zs3)),i},providedIn:"root"}),n})();var Bn=R(8996),Qr=R(3269);function Vt(...n){const e=(0,Qr.yG)(n);return(0,Bn.D)(n,e)}var Mt=R(7579);class tr extends Mt.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}var oi=R(9751);const{isArray:nl}=Array,{getPrototypeOf:il,prototype:zl,keys:$l}=Object;function rl(n){if(1===n.length){const e=n[0];if(nl(e))return{args:e,keys:null};if(function Pd(n){return n&&"object"==typeof n&&il(n)===zl}(e)){const t=$l(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}var Jr=R(4671),$t=R(4004);const{isArray:$s}=Array;function Ws(n){return(0,$t.U)(e=>function Wl(n,e){return $s(e)?n(...e):n(e)}(n,e))}function qs(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}var $n=R(5403),ql=R(9672);function ha(...n){const e=(0,Qr.yG)(n),t=(0,Qr.jO)(n),{args:i,keys:r}=rl(n);if(0===i.length)return(0,Bn.D)([],e);const a=new oi.y(function ds(n,e,t=Jr.y){return i=>{Kl(e,()=>{const{length:r}=n,a=new Array(r);let u=r,f=r;for(let _=0;_<r;_++)Kl(e,()=>{const w=(0,Bn.D)(n[_],e);let k=!1;w.subscribe((0,$n.x)(i,q=>{a[_]=q,k||(k=!0,f--),f||i.next(t(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,e,r?u=>qs(r,u):Jr.y));return t?a.pipe(Ws(t)):a}function Kl(n,e,t){n?(0,ql.f)(t,n,e):e()}var wo=R(8189);function fa(...n){return function lu(){return(0,wo.J)(1)}()((0,Bn.D)(n,(0,Qr.yG)(n)))}var gr=R(8421);function Ks(n){return new oi.y(e=>{(0,gr.Xf)(n()).subscribe(e)})}var pa=R(9635),qn=R(576);function nr(n,e){const t=(0,qn.m)(n)?n:()=>n,i=r=>r.error(t());return new oi.y(e?r=>e.schedule(i,0,r):i)}const Dr=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Ki=R(515),es=R(727),Un=R(4482);function xn(){return(0,Un.e)((n,e)=>{let t=null;n._refCount++;const i=(0,$n.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,a=t;t=null,r&&(!a||r===a)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class Fg extends oi.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Un.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new es.w0;const t=this.getSubject();e.add(this.source.subscribe((0,$n.x)(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=es.w0.EMPTY)}return e}refCount(){return xn()(this)}}function di(n,e){return(0,Un.e)((t,i)=>{let r=null,a=0,u=!1;const f=()=>u&&!r&&i.complete();t.subscribe((0,$n.x)(i,_=>{r?.unsubscribe();let w=0;const k=a++;(0,gr.Xf)(n(_,k)).subscribe(r=(0,$n.x)(i,q=>i.next(e?e(_,q,k,w++):q),()=>{r=null,f()}))},()=>{u=!0,f()}))})}function bi(n){return n<=0?()=>Ki.E:(0,Un.e)((e,t)=>{let i=0;e.subscribe((0,$n.x)(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Vi(...n){const e=(0,Qr.yG)(n);return(0,Un.e)((t,i)=>{(e?fa(n,t,e):fa(n,t)).subscribe(i)})}function Kn(n,e){return(0,Un.e)((t,i)=>{let r=0;t.subscribe((0,$n.x)(i,a=>n.call(e,a,r++)&&i.next(a)))})}var Bi=R(5577);function sl(n){return(0,Un.e)((e,t)=>{let i=!1;e.subscribe((0,$n.x)(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function ol(n=Cy){return(0,Un.e)((e,t)=>{let i=!1;e.subscribe((0,$n.x)(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function Cy(){return new Dr}function Ys(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Kn((r,a)=>n(r,a,i)):Jr.y,bi(1),t?sl(e):ol(()=>new Dr))}function zn(n,e){return(0,qn.m)(e)?(0,Bi.z)(n,e,1):(0,Bi.z)(n,1)}var ai=R(8505);function mr(n){return(0,Un.e)((e,t)=>{let a,i=null,r=!1;i=e.subscribe((0,$n.x)(t,void 0,void 0,u=>{a=(0,gr.Xf)(n(u,mr(n)(e))),i?(i.unsubscribe(),i=null,a.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(t))})}function Qh(n,e,t,i,r){return(a,u)=>{let f=t,_=e,w=0;a.subscribe((0,$n.x)(u,k=>{const q=w++;_=f?n(_,k,q):(f=!0,k),i&&u.next(_)},r&&(()=>{f&&u.next(_),u.complete()})))}}function ga(n,e){return(0,Un.e)(Qh(n,e,arguments.length>=2,!0))}function Ii(n){return n<=0?()=>Ki.E:(0,Un.e)((e,t)=>{let i=[];e.subscribe((0,$n.x)(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function hs(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Kn((r,a)=>n(r,a,i)):Jr.y,Ii(1),t?sl(e):ol(()=>new Dr))}function al(n){return(0,$t.U)(()=>n)}function fs(n){return(0,Un.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const gn="primary";class uu{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function ll(n){return new uu(n)}function kd(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],f=n[a];if(u.startsWith(":"))r[u.substring(1)]=f;else if(u!==f.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Ri(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let a=0;a<t.length;a++)if(r=t[a],!Ui(n[r],e[r]))return!1;return!0}function Ui(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,a)=>i[a]===r)}return n===e}function Xl(n){return Array.prototype.concat.apply([],n)}function xs(n){return n.length>0?n[n.length-1]:null}function ei(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Tr(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Bn.D)(Promise.resolve(n)):Vt(n)}const ul={exact:function Co(n,e,t){if(!gs(n.segments,e.segments)||!Eo(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!Co(n.children[i],e.children[i],t))return!1;return!0},subset:ts},ef={exact:function Rd(n,e){return Ri(n,e)},subset:function Od(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ui(n[t],e[t]))},ignored:()=>!0};function hu(n,e,t){return ul[t.paths](n.root,e.root,t.matrixParams)&&ef[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ts(n,e,t){return Ms(n,e,e.segments,t)}function Ms(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!gs(r,t)||e.hasChildren()||!Eo(r,t,i))}if(n.segments.length===t.length){if(!gs(n.segments,t)||!Eo(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!ts(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(gs(n.segments,r)&&Eo(n.segments,r,i)&&n.children[gn])&&Ms(n.children[gn],e,a,i)}}function Eo(n,e,t){return e.every((i,r)=>ef[t](n[r].parameters,i.parameters))}class Ao{constructor(e,t,i){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ll(this.queryParams)),this._queryParamMap}toString(){return Fd.serialize(this)}}class dn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,ei(t,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jl(this)}}class So{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=ll(this.parameters)),this._parameterMap}toString(){return Pt(this)}}function gs(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}class Ql{}class ti{parse(e){const t=new Ir(e);return new Ao(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${P(e.root,!0)}`,i=function fn(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${ue(t)}=${ue(r)}`).join("&"):`${ue(t)}=${ue(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function Re(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Fd=new ti;function Jl(n){return n.segments.map(e=>Pt(e)).join("/")}function P(n,e){if(!n.hasChildren())return Jl(n);if(e){const t=n.children[gn]?P(n.children[gn],!1):"",i=[];return ei(n.children,(r,a)=>{a!==gn&&i.push(`${a}:${P(r,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function Do(n,e){let t=[];return ei(n.children,(i,r)=>{r===gn&&(t=t.concat(e(i,r)))}),ei(n.children,(i,r)=>{r!==gn&&(t=t.concat(e(i,r)))}),t}(n,(i,r)=>r===gn?[P(n.children[gn],!1)]:[`${r}:${P(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[gn]?`${Jl(n)}/${t[0]}`:`${Jl(n)}/(${t.join("//")})`}}function V(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ue(n){return V(n).replace(/%3B/gi,";")}function ze(n){return V(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Je(n){return decodeURIComponent(n)}function pt(n){return Je(n.replace(/\+/g,"%20"))}function Pt(n){return`${ze(n.path)}${function Yt(n){return Object.keys(n).map(e=>`;${ze(e)}=${ze(n[e])}`).join("")}(n.parameters)}`}const bn=/^[^\/()?;=#]+/;function Wt(n){const e=n.match(bn);return e?e[0]:""}const li=/^[^=?&#]+/,dl=/^[^&#]+/;class Ir{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[gn]=new dn(e,t)),i}parseSegment(){const e=Wt(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new So(Je(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Wt(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=Wt(this.remaining);r&&(i=r,this.capture(i))}e[Je(t)]=Je(i)}parseQueryParam(e){const t=function ir(n){const e=n.match(li);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const u=function ma(n){const e=n.match(dl);return e?e[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=pt(t),a=pt(i);if(e.hasOwnProperty(r)){let u=e[r];Array.isArray(u)||(u=[u],e[r]=u),u.push(a)}else e[r]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Wt(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new l.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=gn);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[gn]:new dn([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function To(n){return n.segments.length>0?new dn([],{[gn]:n}):n}function Io(n){const e={};for(const i of Object.keys(n.children)){const a=Io(n.children[i]);(a.segments.length>0||a.hasChildren())&&(e[i]=a)}return function _a(n){if(1===n.numberOfChildren&&n.children[gn]){const e=n.children[gn];return new dn(n.segments.concat(e.segments),e.children)}return n}(new dn(n.segments,e))}function rr(n){return n instanceof Ao}function Ay(n,e,t,i,r){if(0===t.length)return Mo(e.root,e.root,e.root,i,r);const a=function rf(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sy(!0,0,n);let e=0,t=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const f={};return ei(a.outlets,(_,w)=>{f[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:f}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&r.push(f))}),r):[...r,a]},[]);return new Sy(t,e,i)}(t);return a.toRoot()?Mo(e.root,e.root,new dn([],{}),i,r):function u(_){const w=function Dy(n,e,t,i){if(n.isAbsolute)return new fu(e.root,!0,0);if(-1===i)return new fu(t,t===e.root,0);return function af(n,e,t){let i=n,r=e,a=t;for(;a>r;){if(a-=r,i=i.parent,!i)throw new l.vHH(4005,!1);r=i.segments.length}return new fu(i,!1,r-a)}(t,i+(xo(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,_),k=w.processChildren?Xs(w.segmentGroup,w.index,a.commands):hl(w.segmentGroup,w.index,a.commands);return Mo(e.root,w.segmentGroup,k,i,r)}(n.snapshot?._lastPathIndex)}function xo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ec(n){return"object"==typeof n&&null!=n&&n.outlets}function Mo(n,e,t,i,r){let u,a={};i&&ei(i,(_,w)=>{a[w]=Array.isArray(_)?_.map(k=>`${k}`):`${_}`}),u=n===e?t:nf(n,e,t);const f=To(Io(u));return new Ao(f,a,r)}function nf(n,e,t){const i={};return ei(n.children,(r,a)=>{i[a]=r===e?t:nf(r,e,t)}),new dn(n.segments,i)}class Sy{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&xo(i[0]))throw new l.vHH(4003,!1);const r=i.find(ec);if(r&&r!==xs(i))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class fu{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function hl(n,e,t){if(n||(n=new dn([],{})),0===n.segments.length&&n.hasChildren())return Xs(n,e,t);const i=function Ty(n,e,t){let i=0,r=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return a;const u=n.segments[r],f=t[i];if(ec(f))break;const _=`${f}`,w=i<t.length-1?t[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!gu(_,w,u))return a;i+=2}else{if(!gu(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new dn(n.segments.slice(0,i.pathIndex),{});return a.children[gn]=new dn(n.segments.slice(i.pathIndex),n.children),Xs(a,0,r)}return i.match&&0===r.length?new dn(n.segments,{}):i.match&&!n.hasChildren()?lf(n,e,t):i.match?Xs(n,0,r):lf(n,e,t)}function Xs(n,e,t){if(0===t.length)return new dn(n.segments,{});{const i=function Ld(n){return ec(n[0])?n[0].outlets:{[gn]:n}}(t),r={};return ei(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=hl(n.children[u],e,a))}),ei(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new dn(n.segments,r)}}function lf(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const a=t[r];if(ec(a)){const _=ww(a.outlets);return new dn(i,_)}if(0===r&&xo(t[0])){i.push(new So(n.segments[e].path,pu(t[0]))),r++;continue}const u=ec(a)?a.outlets[gn]:`${a}`,f=r<t.length-1?t[r+1]:null;u&&f&&xo(f)?(i.push(new So(u,pu(f))),r+=2):(i.push(new So(u,{})),r++)}return new dn(i,{})}function ww(n){const e={};return ei(n,(t,i)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[i]=lf(new dn([],{}),0,t))}),e}function pu(n){const e={};return ei(n,(t,i)=>e[i]=`${t}`),e}function gu(n,e,t){return n==t.path&&Ri(e,t.parameters)}class Qs{constructor(e,t){this.id=e,this.url=t}}class Nd extends Qs{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ya extends Qs{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Js extends Qs{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vd extends Qs{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Iy extends Qs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cf extends Qs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xy extends Qs{constructor(e,t,i,r,a){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ng extends Qs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Po extends Qs{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class va{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class My{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Vg{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bg{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Py{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ky{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ug{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class ba{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=uf(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=uf(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=df(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return df(e,this._root).map(t=>t.value)}}function uf(n,e){if(n===e.value)return e;for(const t of e.children){const i=uf(n,t);if(i)return i}return null}function df(n,e){if(n===e.value)return[e];for(const t of e.children){const i=df(n,t);if(i.length)return i.unshift(e),i}return[]}class Ps{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function mu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Bd extends ba{constructor(e,t){super(e),this.snapshot=t,Gg(this,e)}toString(){return this.snapshot.toString()}}function tc(n,e){const t=function jg(n,e){const u=new fl([],{},{},"",{},gn,e,null,n.root,-1,{});return new hf("",new Ps(u,[]))}(n,e),i=new tr([new So("",{})]),r=new tr({}),a=new tr({}),u=new tr({}),f=new tr(""),_=new Yi(i,r,u,f,a,gn,e,t.root);return _.snapshot=t.root,new Bd(new Ps(_,[]),t)}class Yi{constructor(e,t,i,r,a,u,f,_){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,$t.U)(e=>ll(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,$t.U)(e=>ll(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function nc(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],a=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function Hg(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class fl{constructor(e,t,i,r,a,u,f,_,w,k,q,Se){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=f,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=k,this._correctedLastPathIndex=Se??k,this._resolve=q}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ll(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ll(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class hf extends ba{constructor(e,t){super(t),this.url=e,Gg(this,t)}toString(){return Oy(this._root)}}function Gg(n,e){e.value._routerState=n,e.children.forEach(t=>Gg(n,t))}function Oy(n){const e=n.children.length>0?` { ${n.children.map(Oy).join(", ")} } `:"";return`${n.value}${e}`}function zg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ri(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ri(e.params,t.params)||n.params.next(t.params),function Zl(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ri(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ri(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function _u(n,e){const t=Ri(n.params,e.params)&&function ps(n,e){return gs(n,e)&&n.every((t,i)=>Ri(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||_u(n.parent,e.parent))}function ko(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Cw(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return ko(n,i,r);return ko(n,i)})}(n,e,t);return new Ps(i,r)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(f=>ko(n,f)),u}}const i=function Ew(n){return new Yi(new tr(n.url),new tr(n.params),new tr(n.queryParams),new tr(n.fragment),new tr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(a=>ko(n,a));return new Ps(i,r)}}const ic="ngNavigationCancelingError";function jd(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=rr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=$g(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function $g(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[ic]=!0,i.cancellationCode=e,t&&(i.url=t),i}function Wg(n){return yu(n)&&rr(n.url)}function yu(n){return n&&n[ic]}class qg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new wa,this.attachRef=null}}class wa{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const i=this.getOrCreateContext(e);i.outlet=t,this.contexts.set(e,i)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new qg,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}const vu=!1;let rc=(()=>{class n{constructor(t,i,r,a,u){this.parentContexts=t,this.location=i,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=r||gn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,vu);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,vu);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,vu);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new l.vHH(4013,vu);this._activatedRoute=t;const r=this.location,u=t._futureSnapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new Fy(t,f,r.injector);if(i&&function wi(n){return!!n.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(u);this.activated=r.createComponent(w,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(wa),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Fy{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Yi?this.route:e===wa?this.childContexts:this.parent.get(e,t)}}let Kg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,i){1&t&&l._UZ(0,"router-outlet")},dependencies:[rc],encapsulation:2}),n})();function Yg(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Hd(n){const e=n.children&&n.children.map(Hd),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==gn&&(t.component=Kg),t}function ji(n){return n.outlet||gn}function bu(n,e){const t=n.filter(i=>ji(i)===e);return t.push(...n.filter(i=>ji(i)!==e)),t}function pf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Zg{constructor(e,t,i,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),zg(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=mu(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),ei(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,i);else a&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=mu(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),f=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,a=mu(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(e,t,i){const r=mu(t);e.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new ky(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Bg(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,a=t?t.value:null;if(zg(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const f=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(f.contexts),u.attachRef=f.componentRef,u.route=f.route.value,u.outlet&&u.outlet.attach(f.componentRef,f.route.value),zg(f.route.value),this.activateChildRoutes(e,null,u.children)}else{const f=pf(r.snapshot),_=f?.get(l._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=f,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,i)}}class xr{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ro{constructor(e,t){this.component=e,this.route=t}}function gf(n,e,t){const i=n._root;return pl(i,e?e._root:null,t,[i.value])}function wu(n,e,t){return(pf(e)??t).get(n)}function pl(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=mu(e);return n.children.forEach(u=>{(function _f(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function yf(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!gs(n.url,e.url);case"pathParamsOrQueryParamsChange":return!gs(n.url,e.url)||!Ri(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!_u(n,e)||!Ri(n.queryParams,e.queryParams);default:return!_u(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new xr(i)):(a.data=u.data,a._resolvedData=u._resolvedData),pl(n,e,a.component?f?f.children:null:t,i,r),_&&f&&f.outlet&&f.outlet.isActivated&&r.canDeactivateChecks.push(new Ro(f.outlet.component,u))}else u&&oc(e,f,r),r.canActivateChecks.push(new xr(i)),pl(n,null,a.component?f?f.children:null:t,i,r)})(u,a[u.value.outlet],t,i.concat([u.value]),r),delete a[u.value.outlet]}),ei(a,(u,f)=>oc(u,t.getContext(f),r)),r}function oc(n,e,t){const i=mu(n),r=n.value;ei(i,(a,u)=>{oc(a,r.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Ro(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function Hi(n){return"function"==typeof n}const ac=Symbol("INITIAL_VALUE");function Mr(){return di(n=>ha(n.map(e=>e.pipe(bi(1),Vi(ac)))).pipe((0,$t.U)(e=>{for(const t of e)if(!0!==t){if(t===ac)return ac;if(!1===t||t instanceof Ao)return t}return!0}),Kn(e=>e!==ac),bi(1)))}function y(n){return(0,pa.z)((0,ai.b)(e=>{if(rr(e))throw jd(0,e)}),(0,$t.U)(e=>!0===e))}const m={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function C(n,e,t,i,r){const a=Z(n,e,t);return a.matched?function p(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Vt(r.map(u=>{const f=n.get(u),_=function Zi(n){return n&&Hi(n.canMatch)}(f)?f.canMatch(e,t):f(e,t);return Tr(_)})).pipe(Mr(),y()):Vt(!0)}(i=Yg(e,i),e,t).pipe((0,$t.U)(u=>!0===u?a:{...m})):Vt(a)}function Z(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...m}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||kd)(t,n,e);if(!r)return{...m};const a={};ei(r.posParams,(f,_)=>{a[_]=f.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function _e(n,e,t,i,r="corrected"){if(t.length>0&&function It(n,e,t){return t.some(i=>sn(n,e,i)&&ji(i)!==gn)}(n,t,i)){const u=new dn(e,function tt(n,e,t,i){const r={};r[gn]=i,i._sourceSegment=n,i._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&ji(a)!==gn){const u=new dn([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,r[ji(a)]=u}return r}(n,e,i,new dn(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function Ut(n,e,t){return t.some(i=>sn(n,e,i))}(n,t,i)){const u=new dn(n.segments,function Ge(n,e,t,i,r,a){const u={};for(const f of i)if(sn(n,t,f)&&!r[ji(f)]){const _=new dn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[ji(f)]=_}return{...r,...u}}(n,e,t,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new dn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function sn(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Qt(n,e,t,i){return!!(ji(n)===i||i!==gn&&sn(e,t,n))&&("**"===n.path||Z(e,n,t).matched)}function xi(n,e,t){return 0===e.length&&!n.children[t]}const Pr=!1;class ml{constructor(e){this.segmentGroup=e||null}}class qd{constructor(e){this.urlTree=e}}function Ea(n){return nr(new ml(n))}function Eu(n){return nr(new qd(n))}class Wy{constructor(e,t,i,r,a){this.injector=e,this.configLoader=t,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const e=_e(this.urlTree.root,[],[],this.config).segmentGroup,t=new dn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,gn).pipe((0,$t.U)(a=>this.createUrlTree(Io(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(mr(a=>{if(a instanceof qd)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof ml?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,gn).pipe((0,$t.U)(r=>this.createUrlTree(Io(r),e.queryParams,e.fragment))).pipe(mr(r=>{throw r instanceof ml?this.noMatchError(r):r}))}noMatchError(e){return new l.vHH(4002,Pr)}createUrlTree(e,t,i){const r=To(e);return new Ao(r,t,i)}expandSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(e,t,i).pipe((0,$t.U)(a=>new dn([],a))):this.expandSegment(e,i,t,i.segments,r,!0)}expandChildren(e,t,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,Bn.D)(r).pipe(zn(a=>{const u=i.children[a],f=bu(t,a);return this.expandSegmentGroup(e,f,u,a).pipe((0,$t.U)(_=>({segment:_,outlet:a})))}),ga((a,u)=>(a[u.outlet]=u.segment,a),{}),hs())}expandSegment(e,t,i,r,a,u){return(0,Bn.D)(i).pipe(zn(f=>this.expandSegmentAgainstRoute(e,t,i,f,r,a,u).pipe(mr(w=>{if(w instanceof ml)return Vt(null);throw w}))),Ys(f=>!!f),mr((f,_)=>{if(f instanceof Dr||"EmptyError"===f.name)return xi(t,r,a)?Vt(new dn([],{})):Ea(t);throw f}))}expandSegmentAgainstRoute(e,t,i,r,a,u,f){return Qt(r,t,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,a,u):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u):Ea(t):Ea(t)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Eu(a):this.lineralizeSegments(i,a).pipe((0,Bi.z)(u=>{const f=new dn(u,{});return this.expandSegment(e,f,t,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,a,u){const{matched:f,consumedSegments:_,remainingSegments:w,positionalParamSegments:k}=Z(t,r,a);if(!f)return Ea(t);const q=this.applyRedirectCommands(_,r.redirectTo,k);return r.redirectTo.startsWith("/")?Eu(q):this.lineralizeSegments(r,q).pipe((0,Bi.z)(Se=>this.expandSegment(e,t,i,Se.concat(w),u,!1)))}matchSegmentAgainstRoute(e,t,i,r,a){return"**"===i.path?(e=Yg(i,e),i.loadChildren?(i._loadedRoutes?Vt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(e,i)).pipe((0,$t.U)(f=>(i._loadedRoutes=f.routes,i._loadedInjector=f.injector,new dn(r,{})))):Vt(new dn(r,{}))):C(t,i,r,e).pipe(di(({matched:u,consumedSegments:f,remainingSegments:_})=>u?this.getChildConfig(e=i._injector??e,i,r).pipe((0,Bi.z)(k=>{const q=k.injector??e,Se=k.routes,{segmentGroup:Fe,slicedSegments:Ve}=_e(t,f,_,Se),We=new dn(Fe.segments,Fe.children);if(0===Ve.length&&We.hasChildren())return this.expandChildren(q,Se,We).pipe((0,$t.U)(on=>new dn(f,on)));if(0===Se.length&&0===Ve.length)return Vt(new dn(f,{}));const ut=ji(i)===a;return this.expandSegment(q,We,Se,Ve,ut?gn:a,!0).pipe((0,$t.U)(zt=>new dn(f.concat(zt.segments),zt.children)))})):Ea(t)))}getChildConfig(e,t,i){return t.children?Vt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Vt({routes:t._loadedRoutes,injector:t._loadedInjector}):function $y(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Vt(!0):Vt(r.map(u=>{const f=n.get(u),_=function vf(n){return n&&Hi(n.canLoad)}(f)?f.canLoad(e,t):f(e,t);return Tr(_)})).pipe(Mr(),y())}(e,t,i).pipe((0,Bi.z)(r=>r?this.configLoader.loadChildren(e,t).pipe((0,ai.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Ef(n){return nr($g(Pr,3))}())):Vt({routes:[],injector:e})}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Vt(i);if(r.numberOfChildren>1||!r.children[gn])return nr(new l.vHH(4e3,Pr));r=r.children[gn]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const a=this.createSegmentGroup(e,t.root,i,r);return new Ao(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return ei(e,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const f=r.substring(1);i[a]=t[f]}else i[a]=r}),i}createSegmentGroup(e,t,i,r){const a=this.createSegments(e,t.segments,i,r);let u={};return ei(t.children,(f,_)=>{u[_]=this.createSegmentGroup(e,f,i,r)}),new dn(a,u)}createSegments(e,t,i,r){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,r):this.findOrReturn(a,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new l.vHH(4001,Pr);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}class Sw{}class DP{constructor(e,t,i,r,a,u,f,_){this.injector=e,this.rootComponentType=t,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=f,this.urlSerializer=_}recognize(){const e=_e(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,gn).pipe((0,$t.U)(t=>{if(null===t)return null;const i=new fl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},gn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ps(i,t),a=new hf(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,i=nc(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r)}processChildren(e,t,i){return(0,Bn.D)(Object.keys(i.children)).pipe(zn(r=>{const a=i.children[r],u=bu(t,r);return this.processSegmentGroup(e,u,a,r)}),ga((r,a)=>r&&a?(r.push(...a),r):null),function Yl(n,e=!1){return(0,Un.e)((t,i)=>{let r=0;t.subscribe((0,$n.x)(i,a=>{const u=n(a,r++);(u||e)&&i.next(a),!u&&i.complete()}))})}(r=>null!==r),sl(null),hs(),(0,$t.U)(r=>{if(null===r)return null;const a=tm(r);return function TP(n){n.sort((e,t)=>e.value.outlet===gn?-1:t.value.outlet===gn?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,i,r,a){return(0,Bn.D)(t).pipe(zn(u=>this.processSegmentAgainstRoute(u._injector??e,u,i,r,a)),Ys(u=>!!u),mr(u=>{if(u instanceof Dr)return xi(i,r,a)?Vt([]):Vt(null);throw u}))}processSegmentAgainstRoute(e,t,i,r,a){if(t.redirectTo||!Qt(t,i,r,a))return Vt(null);let u;if("**"===t.path){const f=r.length>0?xs(r).parameters:{},_=Ky(i)+r.length;u=Vt({snapshot:new fl(r,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xw(t),ji(t),t.component??t._loadedComponent??null,t,qy(i),_,im(t),_),consumedSegments:[],remainingSegments:[]})}else u=C(i,t,r,e).pipe((0,$t.U)(({matched:f,consumedSegments:_,remainingSegments:w,parameters:k})=>{if(!f)return null;const q=Ky(i)+_.length;return{snapshot:new fl(_,k,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,xw(t),ji(t),t.component??t._loadedComponent??null,t,qy(i),q,im(t),q),consumedSegments:_,remainingSegments:w}}));return u.pipe(di(f=>{if(null===f)return Vt(null);const{snapshot:_,consumedSegments:w,remainingSegments:k}=f;e=t._injector??e;const q=t._loadedInjector??e,Se=function ZS(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:Fe,slicedSegments:Ve}=_e(i,w,k,Se.filter(ut=>void 0===ut.redirectTo),this.relativeLinkResolution);if(0===Ve.length&&Fe.hasChildren())return this.processChildren(q,Se,Fe).pipe((0,$t.U)(ut=>null===ut?null:[new Ps(_,ut)]));if(0===Se.length&&0===Ve.length)return Vt([new Ps(_,[])]);const We=ji(t)===a;return this.processSegment(q,Se,Fe,Ve,We?gn:a).pipe((0,$t.U)(ut=>null===ut?null:[new Ps(_,ut)]))}))}}function Tw(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function tm(n){const e=[],t=new Set;for(const i of n){if(!Tw(i)){e.push(i);continue}const r=e.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=tm(i.children);e.push(new Ps(i.value,r))}return e.filter(i=>!t.has(i))}function qy(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ky(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function xw(n){return n.data||{}}function im(n){return n.resolve||{}}const Yy=Symbol("RouteTitle");function Pw(n){return"string"==typeof n.title||null===n.title}function Zy(n){return di(e=>{const t=n(e);return t?(0,Bn.D)(t).pipe((0,$t.U)(()=>e)):Vt(e)})}let rm=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===gn);return i}getResolvedTitleForRoute(t){return t.data[Yy]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(kw)},providedIn:"root"}),n})(),kw=(()=>{class n extends rm{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Td))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class tD{}class Rw extends class nD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Xy=new l.OlP("",{providedIn:"root",factory:()=>({})}),Sf=new l.OlP("ROUTES");let sm=(()=>{class n{constructor(t,i){this.injector=t,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Vt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=Tr(t.loadComponent()).pipe((0,ai.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),fs(()=>{this.componentLoaders.delete(t)})),r=new Fg(i,()=>new Mt.x).pipe(xn());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Vt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,$t.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,w,k=!1;Array.isArray(f)?w=f:(_=f.create(t).injector,w=Xl(_.get(Sf,[],l.XFs.Self|l.XFs.Optional)));return{routes:w.map(Hd),injector:_}}),fs(()=>{this.childrenLoaders.delete(i)})),u=new Fg(a,()=>new Mt.x).pipe(xn());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(t){return Tr(t()).pipe((0,Bi.z)(i=>i instanceof l.YKP||Array.isArray(i)?Vt(i):(0,Bn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Qy{}class Rr{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Jy(n){throw n}function rD(n,e,t){return e.parse("/")}const sD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Ow={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function ev(){const n=(0,l.f3M)(Ql),e=(0,l.f3M)(wa),t=(0,l.f3M)(F),i=(0,l.f3M)(l.zs3),r=(0,l.f3M)(l.Sil),a=(0,l.f3M)(Sf,{optional:!0})??[],u=(0,l.f3M)(Xy,{optional:!0})??{},f=(0,l.f3M)(kw),_=(0,l.f3M)(rm,{optional:!0}),w=(0,l.f3M)(Qy,{optional:!0}),k=(0,l.f3M)(tD,{optional:!0}),q=new ns(null,n,e,t,i,r,Xl(a));return w&&(q.urlHandlingStrategy=w),k&&(q.routeReuseStrategy=k),q.titleStrategy=_??f,function oD(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,q),q}let ns=(()=>{class n{constructor(t,i,r,a,u,f,_){this.rootComponentType=t,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Mt.x,this.errorHandler=Jy,this.malformedUriErrorHandler=rD,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Vt(void 0),this.urlHandlingStrategy=new Rr,this.routeReuseStrategy=new Rw,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(sm),this.configLoader.onLoadEndListener=Se=>this.triggerEvent(new My(Se)),this.configLoader.onLoadStartListener=Se=>this.triggerEvent(new va(Se)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const q=u.get(l.R0b);this.isNgZoneEnabled=q instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function du(){return new Ao(new dn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=tc(this.currentUrlTree,this.rootComponentType),this.transitions=new tr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const i=this.events;return t.pipe(Kn(r=>0!==r.id),(0,$t.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),di(r=>{let a=!1,u=!1;return Vt(r).pipe((0,ai.b)(f=>{this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),di(f=>{const _=this.browserUrlTree.toString(),w=!this.navigated||f.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return Lw(f.source)&&(this.browserUrlTree=f.extractedUrl),Vt(f).pipe(di(q=>{const Se=this.transitions.getValue();return i.next(new Nd(q.id,this.serializeUrl(q.extractedUrl),q.source,q.restoredState)),Se!==this.transitions.getValue()?Ki.E:Promise.resolve(q)}),function Jg(n,e,t,i){return di(r=>function Kd(n,e,t,i,r){return new Wy(n,e,t,i,r).apply()}(n,e,t,r.extractedUrl,i).pipe((0,$t.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ai.b)(q=>{this.currentNavigation={...this.currentNavigation,finalUrl:q.urlAfterRedirects},r.urlAfterRedirects=q.urlAfterRedirects}),function Af(n,e,t,i,r,a){return(0,Bi.z)(u=>function Dw(n,e,t,i,r,a,u="emptyOnly",f="legacy"){return new DP(n,e,t,i,r,u,f,a).recognize().pipe(di(_=>null===_?function em(n){return new oi.y(e=>e.error(n))}(new Sw):Vt(_)))}(n,e,t,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,a).pipe((0,$t.U)(f=>({...u,targetSnapshot:f}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ai.b)(q=>{if(r.targetSnapshot=q.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!q.extras.skipLocationChange){const Fe=this.urlHandlingStrategy.merge(q.urlAfterRedirects,q.rawUrl);this.setBrowserUrl(Fe,q)}this.browserUrlTree=q.urlAfterRedirects}const Se=new Iy(q.id,this.serializeUrl(q.extractedUrl),this.serializeUrl(q.urlAfterRedirects),q.targetSnapshot);i.next(Se)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Se,extractedUrl:Fe,source:Ve,restoredState:We,extras:ut}=f,Nt=new Nd(Se,this.serializeUrl(Fe),Ve,We);i.next(Nt);const zt=tc(Fe,this.rootComponentType).snapshot;return Vt(r={...f,targetSnapshot:zt,urlAfterRedirects:Fe,extras:{...ut,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=f.rawUrl,f.resolve(null),Ki.E}),(0,ai.b)(f=>{const _=new cf(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot);this.triggerEvent(_)}),(0,$t.U)(f=>r={...f,guards:gf(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),function Cu(n,e){return(0,Bi.z)(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?Vt({...t,guardsResult:!0}):function bf(n,e,t,i){return(0,Bn.D)(n).pipe((0,Bi.z)(r=>function Cf(n,e,t,i,r){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?Vt(a.map(f=>{const _=wu(f,e,r);return Tr(function $d(n){return n&&Hi(n.canDeactivate)}(_)?_.canDeactivate(n,e,t,i):_(n,e,t,i)).pipe(Ys())})).pipe(Mr()):Vt(!0)}(r.component,r.route,t,e,i)),Ys(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Bi.z)(f=>f&&function Xg(n){return"boolean"==typeof n}(f)?function gl(n,e,t,i){return(0,Bn.D)(e).pipe(zn(r=>fa(function wf(n,e){return null!==n&&e&&e(new Vg(n)),Vt(!0)}(r.route.parent,i),function Hy(n,e){return null!==n&&e&&e(new Py(n)),Vt(!0)}(r.route,i),function zy(n,e,t){const i=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function mf(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>Ks(()=>Vt(u.guards.map(_=>{const w=wu(_,u.node,t);return Tr(function jy(n){return n&&Hi(n.canActivateChild)}(w)?w.canActivateChild(i,n):w(i,n)).pipe(Ys())})).pipe(Mr())));return Vt(a).pipe(Mr())}(n,r.path,t),function Gy(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Vt(!0);const r=i.map(a=>Ks(()=>{const u=wu(a,e,t);return Tr(function zd(n){return n&&Hi(n.canActivate)}(u)?u.canActivate(e,n):u(e,n)).pipe(Ys())}));return Vt(r).pipe(Mr())}(n,r.route,t))),Ys(r=>!0!==r,!0))}(i,a,n,e):Vt(f)),(0,$t.U)(f=>({...t,guardsResult:f})))})}(this.ngModule.injector,f=>this.triggerEvent(f)),(0,ai.b)(f=>{if(r.guardsResult=f.guardsResult,rr(f.guardsResult))throw jd(0,f.guardsResult);const _=new xy(f.id,this.serializeUrl(f.extractedUrl),this.serializeUrl(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.triggerEvent(_)}),Kn(f=>!!f.guardsResult||(this.restoreHistory(f),this.cancelNavigationTransition(f,"",3),!1)),Zy(f=>{if(f.guards.canActivateChecks.length)return Vt(f).pipe((0,ai.b)(_=>{const w=new Ng(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),di(_=>{let w=!1;return Vt(_).pipe(function XS(n,e){return(0,Bi.z)(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Vt(t);let a=0;return(0,Bn.D)(r).pipe(zn(u=>function QS(n,e,t,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!Pw(r)&&(a[Yy]=r.title),function Mw(n,e,t,i){const r=function JS(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Vt({});const a={};return(0,Bn.D)(r).pipe((0,Bi.z)(u=>function eD(n,e,t,i){const r=wu(n,e,i);return Tr(r.resolve?r.resolve(e,t):r(e,t))}(n[u],e,t,i).pipe(Ys(),(0,ai.b)(f=>{a[u]=f}))),Ii(1),al(a),mr(u=>u instanceof Dr?Ki.E:nr(u)))}(a,n,e,i).pipe((0,$t.U)(u=>(n._resolvedData=u,n.data=nc(n,t).resolve,r&&Pw(r)&&(n.data[Yy]=r.title),null)))}(u.route,i,n,e)),(0,ai.b)(()=>a++),Ii(1),(0,Bi.z)(u=>a===r.length?Vt(t):Ki.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ai.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,ai.b)(_=>{const w=new Po(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Zy(f=>{const _=w=>{const k=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&k.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,ai.b)(q=>{w.component=q}),(0,$t.U)(()=>{})));for(const q of w.children)k.push(..._(q));return k};return ha(_(f.targetSnapshot.root)).pipe(sl(),bi(1))}),Zy(()=>this.afterPreactivation()),(0,$t.U)(f=>{const _=function Ud(n,e,t){const i=ko(n,e._root,t?t._root:void 0);return new Bd(i,e)}(this.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return r={...f,targetRouterState:_}}),(0,ai.b)(f=>{this.currentUrlTree=f.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(f.urlAfterRedirects,f.rawUrl),this.routerState=f.targetRouterState,"deferred"===this.urlUpdateStrategy&&(f.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,f),this.browserUrlTree=f.urlAfterRedirects)}),((n,e,t)=>(0,$t.U)(i=>(new Zg(e,i.targetRouterState,i.currentRouterState,t).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,f=>this.triggerEvent(f)),(0,ai.b)({next(){a=!0},complete(){a=!0}}),fs(()=>{a||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),mr(f=>{if(u=!0,yu(f)){Wg(f)||(this.navigated=!0,this.restoreHistory(r,!0));const _=new Js(r.id,this.serializeUrl(r.extractedUrl),f.message,f.cancellationCode);if(i.next(_),Wg(f)){const w=this.urlHandlingStrategy.merge(f.url,this.rawUrlTree),k={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Lw(r.source)};this.scheduleNavigation(w,"imperative",null,k,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Vd(r.id,this.serializeUrl(r.extractedUrl),f,r.targetSnapshot??void 0);i.next(_);try{r.resolve(this.errorHandler(f))}catch(w){r.reject(w)}}return Ki.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const f={...a};delete f.navigationId,delete f.\u0275routerPageId,0!==Object.keys(f).length&&(r.state=f)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Hd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:f,preserveFragment:_}=i,w=r||this.routerState.root,k=_?this.currentUrlTree.fragment:u;let q=null;switch(f){case"merge":q={...this.currentUrlTree.queryParams,...a};break;case"preserve":q=this.currentUrlTree.queryParams;break;default:q=a||null}return null!==q&&(q=this.removeEmptyProps(q)),Ay(w,this.currentUrlTree,t,q,k??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=rr(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(t,i={skipLocationChange:!1}){return function Fw(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...sD}:!1===i?{...Ow}:i,rr(t))return hu(this.currentUrlTree,t,r);const a=this.parseUrl(t);return hu(this.currentUrlTree,a,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const a=t[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new ya(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let f,_,w;u?(f=u.resolve,_=u.reject,w=u.promise):w=new Promise((Se,Fe)=>{f=Se,_=Fe});const k=++this.navigationId;let q;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),q=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):q=0,this.setTransition({id:k,targetPageId:q,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:f,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(Se=>Promise.reject(Se))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,i,r){const a=new Js(t.id,this.serializeUrl(t.extractedUrl),i,r);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return ev()},providedIn:"root"}),n})();function Lw(n){return"imperative"!==n}class Nw{}let Vw=(()=>{class n{constructor(t,i,r,a,u){this.router=t,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Kn(t=>t instanceof ya),zn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,f=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(f,a.children??a._loadedRoutes))}return(0,Bn.D)(r).pipe((0,wo.J)())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Vt(null);const a=r.pipe((0,Bi.z)(u=>null===u?Vt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Bn.D)([a,u]).pipe((0,wo.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ns),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Nw),l.LFG(sm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Bw=new l.OlP("");let IP=(()=>{class n{constructor(t,i,r={}){this.router=t,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Nd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ya&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ug&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.router.triggerEvent(new Ug(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const uD=new l.OlP("ROUTER_FORROOT_GUARD"),Oo=new l.OlP(""),iv=[F,{provide:Ql,useClass:ti},{provide:ns,useFactory:ev},wa,{provide:Yi,useFactory:function rv(n){return n.routerState.root},deps:[ns]},sm];function dD(){return new l.PXZ("Router",ns)}let sv=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[iv,[],om(t),{provide:uD,useFactory:Uw,deps:[[ns,new l.FiY,new l.tp0]]},{provide:Xy,useValue:i||{}},i?.useHash?{provide:G,useClass:S}:{provide:G,useClass:A},{provide:Bw,useFactory:()=>{const n=(0,l.f3M)(ns),e=(0,l.f3M)(Zc),t=(0,l.f3M)(Xy);return t.scrollOffset&&e.setOffset(t.scrollOffset),new IP(n,e,t)}},i?.preloadingStrategy?gD(i.preloadingStrategy):[],{provide:l.PXZ,multi:!0,useFactory:dD},i?.initialNavigation?xP(i):[],[{provide:av,useFactory:ov},{provide:l.tb,multi:!0,useExisting:av}]]}}static forChild(t){return{ngModule:n,providers:[om(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(uD,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Uw(n){return"guarded"}function om(n){return[{provide:Sf,multi:!0,useValue:n}]}function ov(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const i=n.get(ns),r=n.get(am);1===n.get(lv)&&i.initialNavigation(),n.get(Oo,null,l.XFs.Optional)?.setUpPreloading(),n.get(Bw,null,l.XFs.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.next(),r.complete()}}const av=new l.OlP("");function xP(n){return["disabled"===n.initialNavigation?[{provide:l.ip1,multi:!0,useFactory:()=>{const n=(0,l.f3M)(ns);return()=>{n.setUpLocationChangeListener()}}},{provide:lv,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:lv,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:n=>{const e=n.get(ee,Promise.resolve(null));let t=!1;return()=>e.then(()=>new Promise(r=>{const a=n.get(ns),u=n.get(am);(function i(r){n.get(ns).events.pipe(Kn(u=>u instanceof ya||u instanceof Js||u instanceof Vd),(0,$t.U)(u=>u instanceof ya||u instanceof Js&&(0===u.code||1===u.code)&&null),Kn(u=>null!==u),bi(1)).subscribe(()=>{r()})})(()=>{r(!0),t=!0}),a.afterPreactivation=()=>(r(!0),t||u.closed?Vt(void 0):u),a.initialNavigation()}))}}]:[]]}const am=new l.OlP("",{factory:()=>new Mt.x}),lv=new l.OlP("",{providedIn:"root",factory:()=>1});function gD(n){return[Vw,{provide:Oo,useExisting:Vw},{provide:Nw,useExisting:n}]}const mD=[];let _D=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[sv.forRoot(mD),sv]}),n})();function Hw(...n){const e=(0,Qr.jO)(n),{args:t,keys:i}=rl(n),r=new oi.y(a=>{const{length:u}=t;if(!u)return void a.complete();const f=new Array(u);let _=u,w=u;for(let k=0;k<u;k++){let q=!1;(0,gr.Xf)(t[k]).subscribe((0,$n.x)(a,Se=>{q||(q=!0,w--),f[k]=Se},()=>_--,void 0,()=>{(!_||!q)&&(w||a.next(i?qs(i,f):f),a.complete())}))}});return e?r.pipe(Ws(e)):r}let uv=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),yl=(()=>{class n extends uv{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const eo=new l.OlP("NgValueAccessor"),yD={provide:eo,useExisting:(0,l.Gpc)(()=>Aa),multi:!0},$w=new l.OlP("CompositionEventMode");let Aa=(()=>{class n extends uv{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function zw(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36($w,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,i){1&t&&l.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[l._Bn([yD]),l.qOj]}),n})();function vl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function qw(n){return null!=n&&"number"==typeof n.length}const is=new l.OlP("NgValidators"),Fo=new l.OlP("NgAsyncValidators"),vD=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class If{static min(e){return function hv(n){return e=>{if(vl(e.value)||vl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function fv(n){return e=>{if(vl(e.value)||vl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function lm(n){return vl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function pv(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function xf(n){return vl(n.value)||vD.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Mf(n){return e=>vl(e.value)||!qw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function gv(n){return e=>qw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function cm(n){if(!n)return Pf;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(vl(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return _v(e)}static composeAsync(e){return yv(e)}}function Pf(n){return null}function um(n){return null!=n}function Zd(n){return(0,l.QGY)(n)?(0,Bn.D)(n):n}function Kw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function mv(n,e){return e.map(t=>t(n))}function Yw(n){return n.map(e=>function bD(n){return!n.validate}(e)?e:t=>e.validate(t))}function _v(n){if(!n)return null;const e=n.filter(um);return 0==e.length?null:function(t){return Kw(mv(t,e))}}function kf(n){return null!=n?_v(Yw(n)):null}function yv(n){if(!n)return null;const e=n.filter(um);return 0==e.length?null:function(t){return Hw(mv(t,e).map(Zd)).pipe((0,$t.U)(Kw))}}function Zw(n){return null!=n?yv(Yw(n)):null}function vv(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Xw(n){return n._rawValidators}function bv(n){return n._rawAsyncValidators}function wv(n){return n?Array.isArray(n)?n:[n]:[]}function dm(n,e){return Array.isArray(n)?n.includes(e):n===e}function to(n,e){const t=wv(e);return wv(n).forEach(r=>{dm(t,r)||t.push(r)}),t}function Qw(n,e){return wv(e).filter(t=>!dm(n,t))}class Cv{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=kf(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Zw(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class rs extends Cv{get formDirective(){return null}get path(){return null}}class bl extends Cv{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jw{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let eC=(()=>{class n extends Jw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(bl,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[l.qOj]}),n})(),tC=(()=>{class n extends Jw{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(rs,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,i){2&t&&l.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[l.qOj]}),n})();const Du="VALID",fm="INVALID",Of="PENDING",pm="DISABLED";function sC(n){return(mm(n)?n.validators:n)||null}function oC(n){return Array.isArray(n)?kf(n):n||null}function gm(n,e){return(mm(e)?e.asyncValidators:n)||null}function SD(n){return Array.isArray(n)?Zw(n):n||null}function mm(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Tu(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new l.vHH(1e3,"");if(!i[t])throw new l.vHH(1001,"")}function aC(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new l.vHH(1002,"")})}class Ff{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=oC(this._rawValidators),this._composedAsyncValidatorFn=SD(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Du}get invalid(){return this.status===fm}get pending(){return this.status==Of}get disabled(){return this.status===pm}get enabled(){return this.status!==pm}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=oC(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=SD(e)}addValidators(e){this.setValidators(to(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(to(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Qw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Qw(e,this._rawAsyncValidators))}hasValidator(e){return dm(this._rawValidators,e)}hasAsyncValidator(e){return dm(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Of,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=pm,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Du,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Du||this.status===Of)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pm:Du}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Of,this._hasOwnPendingAsyncValidator=!0;const t=Zd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?pm:this.errors?fm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Of)?Of:this._anyControlsHaveStatus(fm)?fm:Du}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){mm(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Iu extends Ff{constructor(e,t,i){super(sC(t),gm(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){aC(this,0,e),Object.keys(e).forEach(i=>{Tu(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,a)=>{i=t(i,r,a)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}function Lf(n,e){vm(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Sv(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&bm(n,e)})}(n,e),function xD(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function UP(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&bm(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ID(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function ym(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),Vf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Nf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function vm(n,e){const t=Xw(n);null!==e.validator?n.setValidators(vv(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=bv(n);null!==e.asyncValidator?n.setAsyncValidators(vv(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Nf(e._rawValidators,r),Nf(e._rawAsyncValidators,r)}function Vf(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=Xw(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.validator);a.length!==r.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const r=bv(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==e.asyncValidator);a.length!==r.length&&(t=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Nf(e._rawValidators,i),Nf(e._rawAsyncValidators,i),t}function bm(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function MD(n,e){vm(n,e)}function Cm(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const Tv={provide:rs,useExisting:(0,l.Gpc)(()=>Uf)},Em=(()=>Promise.resolve(null))();let Uf=(()=>{class n extends rs{constructor(t,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Iu({},kf(t),Zw(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Em.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Lf(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Em.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Em.then(()=>{const i=this._findContainer(t.path),r=new Iu({});MD(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Em.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Em.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Cm(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(is,10),l.Y36(Fo,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([Tv]),l.qOj]}),n})();function OD(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function jf(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const uc=class extends Ff{constructor(e=null,t,i){super(sC(t),gm(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),mm(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=jf(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){OD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){OD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){jf(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Mv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ND=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const fC=new l.OlP("NgModelWithFormControlWarning"),KP={provide:rs,useExisting:(0,l.Gpc)(()=>no)};let no=(()=>{class n extends rs{constructor(t,i){super(),this.validators=t,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Lf(i,t),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){ym(t.control||null,t,!1),function Dv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,Cm(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(ym(i||null,t),(n=>n instanceof uc)(r)&&(Lf(r,t),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);MD(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Xd(n,e){return Vf(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){vm(this.form,this),this._oldForm&&Vf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(is,10),l.Y36(Fo,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,i){1&t&&l.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([KP]),l.qOj,l.TTD]}),n})();const Fv={provide:bl,useExisting:(0,l.Gpc)(()=>Lv)};let Lv=(()=>{class n extends bl{constructor(t,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function Lo(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(a=>{a.constructor===Aa?t=a:function kD(n){return Object.getPrototypeOf(n.constructor)===yl}(a)?i=a:r=a}),r||i||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function wm(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function _m(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(rs,13),l.Y36(is,10),l.Y36(Fo,10),l.Y36(eo,10),l.Y36(fC,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Fv]),l.qOj,l.TTD]}),n})(),AC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ND]}),n})(),Gv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[AC]}),n})(),zv=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:fC,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[AC]}),n})();class SC extends Ff{constructor(e,t,i){super(sC(t),gm(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){aC(this,0,e),e.forEach((i,r)=>{Tu(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function $v(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let qD=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let a={};return $v(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new Iu(r,a)}control(t,i,r){let a={};return this.useNonNullable?($v(i)?a=i:(a.validators=i,a.asyncValidators=r),new uc(t,{...a,nonNullable:!0})):new uc(t,i,r)}array(t,i,r){const a=t.map(u=>this._createControl(u));return new SC(a,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof uc||t instanceof Ff?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:zv}),n})();var lt=R(5861),fc=R(6451),Dm=R(5363),Da=R(6063);class Wv extends Mt.x{constructor(e=1/0,t=1/0,i=Da.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;t||(i.push(e),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!e.closed;u+=i?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*e;if(e<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=t.now();let f=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)f=_;f&&i.splice(0,f+1)}}}var DC=R(3099);function TC(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,(0,DC.B)({connector:()=>new Wv(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function YD(n,e){return(0,qn.m)(e)?di(()=>n,e):di(()=>n)}var Tm=R(9468),_r=R(5813),Vo=R(2011);R(5867);var pc=R(9681),Jd=R(4859),wn=R(2090),Bo=R(1877);const qf=new Map,Kf={activated:!1,tokenObservers:[]},tT={initialized:!1,enabled:!1};function Gi(n){return qf.get(n)||Kf}function io(n,e){qf.set(n,e)}function xm(){return tT}class iT{constructor(e,t,i,r,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,lt.Z)(function*(){t.stop();try{t.pending=new wn.BH,yield function rT(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new wn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(i){t.retryPolicy(i)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const ss=new wn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Zv(n){if(!Gi(n).activated)throw ss.create("use-before-activation",{appName:n.name})}function Xf(n,e){return Xv.apply(this,arguments)}function Xv(){return(Xv=(0,lt.Z)(function*({url:n,body:e},t){var i,r;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const Fe=yield u.getHeartbeatsHeader();Fe&&(a["X-Firebase-Client"]=Fe)}const f={method:"POST",body:JSON.stringify(e),headers:a};let _,w;try{_=yield fetch(n,f)}catch(Fe){throw ss.create("fetch-network-error",{originalErrorMessage:null===(i=Fe)||void 0===i?void 0:i.message})}if(200!==_.status)throw ss.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(Fe){throw ss.create("fetch-parse-error",{originalErrorMessage:null===(r=Fe)||void 0===r?void 0:r.message})}const k=w.ttl.match(/^([\d.]+)(s)$/);if(!k||!k[2]||isNaN(Number(k[1])))throw ss.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const q=1e3*Number(k[1]),Se=Date.now();return{token:w.token,expireTimeMillis:Se+q,issuedAtTimeMillis:Se}})).apply(this,arguments)}function lT(n,e){const{projectId:t,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:e}}}const gc="firebase-app-check-store";let Qv=null;function eh(){return Qv||(Qv=new Promise((n,e)=>{var t;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;e(ss.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(gc,{keyPath:"compositeKey"})}}catch(i){e(ss.create("storage-open",{originalErrorMessage:null===(t=i)||void 0===t?void 0:t.message}))}}),Qv)}function Mu(){return(Mu=(0,lt.Z)(function*(n,e){const i=(yield eh()).transaction(gc,"readwrite"),a=i.objectStore(gc).put({compositeKey:n,value:e});return new Promise((u,f)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var w;f(ss.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const Or=new Bo.Yd("@firebase/app-check");function Pu(n,e){return(0,wn.hl)()?function hT(n,e){return function Uo(n,e){return Mu.apply(this,arguments)}(function Qf(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Or.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function ku(){return xm().enabled}function Ru(){return vc.apply(this,arguments)}function vc(){return(vc=(0,lt.Z)(function*(){const n=xm();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ih={error:"UNKNOWN_ERROR"};function kC(n){return wn.US.encodeString(JSON.stringify(n),!1)}function Jf(n){return Pm.apply(this,arguments)}function Pm(){return(Pm=(0,lt.Z)(function*(n,e=!1){const t=n.app;Zv(t);const i=Gi(t);let a,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&ep(_)&&(r=_)}if(!e&&r&&ep(r))return{token:r.token};let f,u=!1;if(ku()){i.exchangeTokenPromise||(i.exchangeTokenPromise=Xf(lT(t,yield Ru()),n.heartbeatServiceProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),u=!0);const _=yield i.exchangeTokenPromise;return yield Pu(t,_),io(t,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?Or.warn(_.message):Or.error(_),a=_}return r?(f={token:r.token},io(t,Object.assign(Object.assign({},i),{token:r})),yield Pu(t,r)):f=pT(a),u&&nb(t,f),f})).apply(this,arguments)}function Rm(n,e){const t=Gi(n),i=t.tokenObservers.filter(r=>r.next!==e);0===i.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),io(n,Object.assign(Object.assign({},t),{tokenObservers:i}))}function tb(n){const{app:e}=n,t=Gi(e);let i=t.tokenRefresher;i||(i=function RC(n){const{app:e}=n;return new iT((0,lt.Z)(function*(){let i;if(i=Gi(e).token?yield Jf(n,!0):yield Jf(n),i.error)throw i.error}),()=>!0,()=>{const t=Gi(e);if(t.token){let i=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,t.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),io(e,Object.assign(Object.assign({},t),{tokenRefresher:i}))),!i.isRunning()&&t.isTokenAutoRefreshEnabled&&i.start()}function nb(n,e){const t=Gi(n).tokenObservers;for(const i of t)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch{}}function ep(n){return n.expireTimeMillis-Date.now()>0}function pT(n){return{token:kC(ih),error:n}}class gT{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Gi(this.app);for(const t of e)Rm(this.app,t.next);return Promise.resolve()}}const ab="app-check-internal";!function jC(){(0,pc._registerComponent)(new Jd.wA("app-check",n=>function mT(n,e){return new gT(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(ab).initialize()})),(0,pc._registerComponent)(new Jd.wA(ab,n=>function OC(n){return{getToken:e=>Jf(n,e),addTokenListener:e=>function km(n,e,t,i){const{app:r}=n,a=Gi(r),u={next:t,error:i,type:e};if(io(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&ep(a.token)){const f=a.token;Promise.resolve().then(()=>{t({token:f.token}),tb(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>tb(n))}(n,"INTERNAL",e),removeTokenListener:e=>Rm(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,pc.registerVersion)("@firebase/app-check","0.5.12")}();class Gm{constructor(){return(0,_r.vb)("app-check")}}typeof window<"u"&&window;var $C=R(127);const lb=new l.OlP("angularfire2.auth.use-emulator"),cb=new l.OlP("angularfire2.auth.settings"),Fu=new l.OlP("angularfire2.auth.tenant-id"),WC=new l.OlP("angularfire2.auth.langugage-code"),qC=new l.OlP("angularfire2.auth.use-device-language"),ub=new l.OlP("angularfire.auth.persistence"),KC=(n,e,t,i,r,a,u,f)=>(0,Vo.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[w,k]of Object.entries(u))_.settings[w]=k;return f&&_.setPersistence(f),_},[t,i,r,a,u,f]);let $m=(()=>{class n{constructor(t,i,r,a,u,f,_,w,k,q,Se,Fe){const Ve=new Mt.x,We=Vt(void 0).pipe((0,Dm.Q)(u.outsideAngular),di(()=>a.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,1451)))),(0,$t.U)(()=>(0,Vo.on)(t,a,i)),(0,$t.U)(ut=>KC(ut,a,f,w,k,q,_,Se)),TC({bufferSize:1,refCount:!1}));if(er(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Vt(null);else{We.pipe(Ys()).subscribe();const Nt=We.pipe(di(qt=>qt.getRedirectResult().then(hn=>hn,()=>null)),_r.iC,TC({bufferSize:1,refCount:!1})),zt=We.pipe(di(qt=>new oi.y(hn=>({unsubscribe:a.runOutsideAngular(()=>qt.onAuthStateChanged(yn=>hn.next(yn),yn=>hn.error(yn),()=>hn.complete()))})))),on=We.pipe(di(qt=>new oi.y(hn=>({unsubscribe:a.runOutsideAngular(()=>qt.onIdTokenChanged(yn=>hn.next(yn),yn=>hn.error(yn),()=>hn.complete()))}))));this.authState=Nt.pipe(YD(zt),(0,Tm.R)(u.outsideAngular),(0,Dm.Q)(u.insideAngular)),this.user=Nt.pipe(YD(on),(0,Tm.R)(u.outsideAngular),(0,Dm.Q)(u.insideAngular)),this.idToken=this.user.pipe(di(qt=>qt?(0,Bn.D)(qt.getIdToken()):Vt(null))),this.idTokenResult=this.user.pipe(di(qt=>qt?(0,Bn.D)(qt.getIdTokenResult()):Vt(null))),this.credential=(0,fc.T)(Nt,Ve,this.authState.pipe(Kn(qt=>!qt))).pipe((0,$t.U)(qt=>qt?.user?qt:null),(0,Tm.R)(u.outsideAngular),(0,Dm.Q)(u.insideAngular))}return(0,Vo.pX)(this,We,a,{spy:{apply:(ut,Nt,zt)=>{(ut.startsWith("signIn")||ut.startsWith("createUser"))&&zt.then(on=>Ve.next(on))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Vo.Dh),l.LFG(Vo.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(_r.HU),l.LFG(lb,8),l.LFG(cb,8),l.LFG(Fu,8),l.LFG(WC,8),l.LFG(qC,8),l.LFG(ub,8),l.LFG(Gm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var Lu=R(4986);function tp(){return(0,Un.e)((n,e)=>{let t,i=!1;n.subscribe((0,$n.x)(e,r=>{const a=t;t=r,i&&e.next([a,r]),i=!0}))})}function jo(n,e=Jr.y){return n=n??DT,(0,Un.e)((t,i)=>{let r,a=!0;t.subscribe((0,$n.x)(i,u=>{const f=e(u);(a||!n(r,f))&&(a=!1,r=f,i.next(u))}))})}function DT(n,e){return n===e}R(1451);var Ht,Ta=R(3942),Ho=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xi={},Wm=Wm||{},En=Ho||self;function qm(){}function db(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function np(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Nu="closure_uid_"+(1e9*Math.random()>>>0),TT=0;function YC(n,e,t){return n.call.apply(n.bind,arguments)}function IT(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function or(n,e,t){return(or=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?YC:IT).apply(null,arguments)}function ip(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function zi(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),f=2;f<arguments.length;f++)u[f-2]=arguments[f];return e.prototype[r].apply(i,u)}}function bc(){this.s=this.s,this.o=this.o}var XC={};bc.prototype.s=!1,bc.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function hb(n){return Object.prototype.hasOwnProperty.call(n,Nu)&&n[Nu]||(n[Nu]=++TT)}(this);delete XC[n]}},bc.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Km=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},rp=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&e.call(t,r[a],a,n)};function fb(n){return Array.prototype.concat.apply([],arguments)}function Ym(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function sp(n){return/^[\s\xa0]*$/.test(n)}var Lr,pb=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Fr(n,e){return-1!=n.indexOf(e)}function Zm(n,e){return n<e?-1:n>e?1:0}e:{var JC=En.navigator;if(JC){var eE=JC.userAgent;if(eE){Lr=eE;break e}}Lr=""}function gb(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function tE(n){const e={};for(const t in n)e[t]=n[t];return e}var nE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iE(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let a=0;a<nE.length;a++)t=nE[a],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function mb(n){return mb[" "](n),n}mb[" "]=qm;var Xm,n,MT=Fr(Lr,"Opera"),sh=Fr(Lr,"Trident")||Fr(Lr,"MSIE"),rE=Fr(Lr,"Edge"),_b=rE||sh,sE=Fr(Lr,"Gecko")&&!(Fr(Lr.toLowerCase(),"webkit")&&!Fr(Lr,"Edge"))&&!(Fr(Lr,"Trident")||Fr(Lr,"MSIE"))&&!Fr(Lr,"Edge"),PT=Fr(Lr.toLowerCase(),"webkit")&&!Fr(Lr,"Edge");function oE(){var n=En.document;return n?n.documentMode:void 0}e:{var yb="",vb=(n=Lr,sE?/rv:([^\);]+)(\)|;)/.exec(n):rE?/Edge\/([\d\.]+)/.exec(n):sh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):PT?/WebKit\/(\S+)/.exec(n):MT?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(vb&&(yb=vb?vb[1]:""),sh){var Qm=oE();if(null!=Qm&&Qm>parseFloat(yb)){Xm=String(Qm);break e}}Xm=yb}var aE={};var cE=En.document&&sh&&(oE()||parseInt(Xm,10))||void 0,uE=function(){if(!En.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{En.addEventListener("test",qm,e),En.removeEventListener("test",qm,e)}catch{}return n}();function vr(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function oh(n,e){if(vr.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(sE){e:{try{mb(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:wb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&oh.Z.h.call(this)}}vr.prototype.h=function(){this.defaultPrevented=!0},zi(oh,vr);var wb={2:"touch",3:"pen",4:"mouse"};oh.prototype.h=function(){oh.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Vu="closure_listenable_"+(1e6*Math.random()|0),Bu=0;function kT(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.ia=r,this.key=++Bu,this.ca=this.fa=!1}function e_(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function Cl(n){this.src=n,this.g={},this.h=0}function dE(n,e){var t=e.type;if(t in n.g){var a,i=n.g[t],r=Km(i,e);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(e_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function op(n,e,t,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==e&&a.capture==!!t&&a.ia==i)return r}return-1}Cl.prototype.add=function(n,e,t,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=op(n,e,i,r);return-1<u?(e=n[u],t||(e.fa=!1)):((e=new kT(e,this.src,a,!!i,r)).fa=t,n.push(e)),e};var hE="closure_lm_"+(1e6*Math.random()|0),t_={};function Cb(n,e,t,i,r){if(i&&i.once)return fE(n,e,t,i,r);if(Array.isArray(e)){for(var a=0;a<e.length;a++)Cb(n,e[a],t,i,r);return null}return t=hi(t),n&&n[Vu]?n.N(e,t,np(i)?!!i.capture:!!i,r):RT(n,e,t,!1,i,r)}function RT(n,e,t,i,r,a){if(!e)throw Error("Invalid event type");var u=np(r)?!!r.capture:!!r,f=ah(n);if(f||(n[hE]=f=new Cl(n)),(t=f.add(e,t,i,u,a)).proxy)return t;if(i=function cn(){var e=OT;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)uE||(r=u),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(Uu(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function fE(n,e,t,i,r){if(Array.isArray(e)){for(var a=0;a<e.length;a++)fE(n,e[a],t,i,r);return null}return t=hi(t),n&&n[Vu]?n.O(e,t,np(i)?!!i.capture:!!i,r):RT(n,e,t,!0,i,r)}function pE(n,e,t,i,r){if(Array.isArray(e))for(var a=0;a<e.length;a++)pE(n,e[a],t,i,r);else i=np(i)?!!i.capture:!!i,t=hi(t),n&&n[Vu]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=op(a=n.g[e],t,i,r))&&(e_(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=ah(n))&&(e=n.g[e.toString()],n=-1,e&&(n=op(e,t,i,r)),(t=-1<n?e[n]:null)&&Eb(t))}function Eb(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[Vu])dE(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(Uu(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=ah(e))?(dE(t,n),0==t.h&&(t.src=null,e[hE]=null)):e_(n)}}}function Uu(n){return n in t_?t_[n]:t_[n]="on"+n}function OT(n,e){if(n.ca)n=!0;else{e=new oh(e,this);var t=n.listener,i=n.ia||n.src;n.fa&&Eb(n),n=t.call(i,e)}return n}function ah(n){return(n=n[hE])instanceof Cl?n:null}var lh="__closure_events_fn_"+(1e9*Math.random()>>>0);function hi(n){return"function"==typeof n?n:(n[lh]||(n[lh]=function(e){return n.handleEvent(e)}),n[lh])}function br(){bc.call(this),this.i=new Cl(this),this.P=this,this.I=null}function ar(n,e){var t,i=n.I;if(i)for(t=[];i;i=i.I)t.push(i);if(n=n.P,i=e.type||e,"string"==typeof e)e=new vr(e,n);else if(e instanceof vr)e.target=e.target||n;else{var r=e;iE(e=new vr(i,n),r)}if(r=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];r=ap(u,i,!0,e)&&r}if(r=ap(u=e.g=n,i,!0,e)&&r,r=ap(u,i,!1,e)&&r,t)for(a=0;a<t.length;a++)r=ap(u=e.g=t[a],i,!1,e)&&r}function ap(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ca&&u.capture==t){var f=u.listener,_=u.ia||u.src;u.fa&&dE(n.i,u),r=!1!==f.call(_,i)&&r}}return r&&!i.defaultPrevented}zi(br,bc),br.prototype[Vu]=!0,br.prototype.removeEventListener=function(n,e,t,i){pE(this,n,e,t,i)},br.prototype.M=function(){if(br.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)e_(t[i]);delete n.g[e],n.h--}}this.I=null},br.prototype.N=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},br.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var Ab=En.JSON.stringify;function gE(){var n=yE;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Tb,Sb=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new _E,n=>n.reset());class _E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function FT(n){En.setTimeout(()=>{throw n},0)}function Db(n,e){Tb||function lp(){var n=En.Promise.resolve(void 0);Tb=function(){n.then(LT)}}(),Ib||(Tb(),Ib=!0),yE.add(n,e)}var Ib=!1,yE=new class mE{constructor(){this.h=this.g=null}add(e,t){const i=Sb.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}};function LT(){for(var n;n=gE();){try{n.h.call(n.g)}catch(t){FT(t)}var e=Sb;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ib=!1}function ju(n,e){br.call(this),this.h=n||1,this.g=e||En,this.j=or(this.kb,this),this.l=Date.now()}function n_(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function i_(n,e,t){if("function"==typeof n)t&&(n=or(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=or(n.handleEvent,n)}return 2147483647<Number(e)?-1:En.setTimeout(n,e||0)}function xb(n){n.g=i_(()=>{n.g=null,n.i&&(n.i=!1,xb(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}zi(ju,br),(Ht=ju.prototype).da=!1,Ht.S=null,Ht.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ar(this,"tick"),this.da&&(n_(this),this.start()))}},Ht.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ht.M=function(){ju.Z.M.call(this),n_(this),delete this.g};class NT extends bc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xb(this)}M(){super.M(),this.g&&(En.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function El(n){bc.call(this),this.h=n,this.g={}}zi(El,bc);var ch=[];function vE(n,e,t,i){Array.isArray(t)||(t&&(ch[0]=t.toString()),t=ch);for(var r=0;r<t.length;r++){var a=Cb(e,t[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function bE(n){gb(n.g,function(e,t){this.g.hasOwnProperty(t)&&Eb(e)},n),n.g={}}function r_(){this.g=!0}function Hu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function EE(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return Ab(t)}catch{return e}}(n,t)+(i?" "+i:"")})}El.prototype.M=function(){El.Z.M.call(this),bE(this)},El.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},r_.prototype.Aa=function(){this.g=!1},r_.prototype.info=function(){};var Gu={},AE=null;function Mb(){return AE=AE||new br}function BT(n){vr.call(this,Gu.Ma,n)}function s_(n){const e=Mb();ar(e,new BT(e,n))}function UT(n,e){vr.call(this,Gu.STAT_EVENT,n),this.stat=e}function Nr(n){const e=Mb();ar(e,new UT(e,n))}function cp(n,e){vr.call(this,Gu.Na,n),this.size=e}function up(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return En.setTimeout(function(){n()},e)}Gu.Ma="serverreachability",zi(BT,vr),Gu.STAT_EVENT="statevent",zi(UT,vr),Gu.Na="timingevent",zi(cp,vr);var o_={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Pb={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function zu(){}function DE(){}zu.prototype.h=null;var a_,dp={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function kb(){vr.call(this,"d")}function Rb(){vr.call(this,"c")}function l_(){}function hp(n,e,t,i){this.l=n,this.j=e,this.m=t,this.X=i||1,this.V=new El(this),this.P=jT,this.W=new ju(n=_b?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $u}function $u(){this.i=null,this.g="",this.h=!1}zi(kb,vr),zi(Rb,vr),zi(l_,zu),l_.prototype.g=function(){return new XMLHttpRequest},l_.prototype.i=function(){return{}},a_=new l_;var jT=45e3,c_={},u_={};function d_(n,e,t){n.K=1,n.v=p_(Al(e)),n.s=t,n.U=!0,TE(n,null)}function TE(n,e){n.F=Date.now(),fp(n),n.A=Al(n.v);var t=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),$b(t.h,"t",i),n.C=0,t=n.l.H,n.h=new $u,n.g=YE(n.l,t?e:null,!n.s),0<n.O&&(n.L=new NT(or(n.Ia,n,n.g),n.O)),vE(n.V,n.g,"readystatechange",n.gb),e=n.H?tE(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),s_(1),function wE(n,e,t,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",f=a.split("&"),_=0;_<f.length;_++){var w=f[_].split("=");if(1<w.length){var k=w[0];w=w[1];var q=k.split("_");u=2<=q.length&&"type"==q[1]?u+(k+"=")+w+"&":u+(k+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function Ob(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function IE(n,e,t){let r,i=!0;for(;!n.I&&n.C<t.length;){if(r=Fb(n,t),r==u_){4==e&&(n.o=4,Nr(14),i=!1),Hu(n.j,n.m,null,"[Incomplete Response]");break}if(r==c_){n.o=4,Nr(15),Hu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}Hu(n.j,n.m,r,null),Nb(n,r)}Ob(n)&&r!=u_&&r!=c_&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Nr(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),e0(e),e.L=!0,Nr(11))):(Hu(n.j,n.m,t,"[Invalid Chunked Response]"),Wu(n),gp(n))}function Fb(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?u_:(t=Number(e.substring(t,i)),isNaN(t)?c_:(i+=1)+t>e.length?u_:(e=e.substr(i,t),n.C=i+t,e))}function fp(n){n.Y=Date.now()+n.P,Lb(n,n.P)}function Lb(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=up(or(n.eb,n),e)}function pp(n){n.B&&(En.clearTimeout(n.B),n.B=null)}function gp(n){0==n.l.G||n.I||WE(n.l,n)}function Wu(n){pp(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,n_(n.W),bE(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Nb(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||Wb(t.i,n)))if(t.I=n.N,!n.J&&Wb(t.i,n)&&3==t.G){try{var i=t.Ca.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;ks(t),Sp(t)}Qu(t),Nr(18)}}else t.ta=r[1],0<t.ta-t.U&&37500>r[2]&&t.N&&0==t.A&&!t.v&&(t.v=up(or(t.ab,t),6e3));if(1>=RE(t.i)&&t.ka){try{t.ka()}catch{}t.ka=void 0}}else Go(t,11)}else if((n.J||t.g==n)&&ks(t),!sp(e))for(r=t.Ca.g.parse(e),e=0;e<r.length;e++){let w=r[e];if(t.U=w[0],w=w[1],2==t.G)if("c"==w[0]){t.J=w[1],t.la=w[2];const k=w[3];null!=k&&(t.ma=k,t.h.info("VER="+t.ma));const q=w[4];null!=q&&(t.za=q,t.h.info("SVER="+t.za));const Se=w[5];null!=Se&&"number"==typeof Se&&0<Se&&(t.K=i=1.5*Se,t.h.info("backChannelRequestTimeoutMs_="+i)),i=t;const Fe=n.g;if(Fe){const Ve=Fe.g?Fe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ve){var a=i.i;!a.g&&(Fr(Ve,"spdy")||Fr(Ve,"quic")||Fr(Ve,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(vp(a,a.h),a.h=null))}if(i.D){const We=Fe.g?Fe.g.getResponseHeader("X-HTTP-Session-Id"):null;We&&(i.sa=We,fi(i.F,i.D,We))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var u=n;if((i=t).oa=KE(i,i.H?i.la:null,i.W),u.J){qb(i.i,u);var f=u,_=i.K;_&&f.setTimeout(_),f.B&&(pp(f),fp(f)),i.g=u}else $E(i);0<t.l.length&&Jb(t)}else"stop"!=w[0]&&"close"!=w[0]||Go(t,7);else 3==t.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?Go(t,7):C_(t):"noop"!=w[0]&&t.j&&t.j.wa(w),t.A=0)}s_(4)}catch{}}function Bb(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(db(n)||"string"==typeof n)rp(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(db(n)||"string"==typeof n){t=[];for(var i=n.length,r=0;r<i;r++)t.push(r)}else for(r in t=[],i=0,n)t[i++]=r;i=function Vb(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(db(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length;for(var a=0;a<r;a++)e.call(void 0,i[a],t&&t[a],n)}}function qu(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var i=0;i<t;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof qu)for(t=n.T(),i=0;i<t.length;i++)this.set(t[i],n.get(t[i]));else for(i in n)this.set(i,n[i])}function Ub(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var i=n.g[e];Ku(n.h,i)&&(n.g[t++]=i),e++}n.g.length=t}if(n.i!=n.g.length){var r={};for(t=e=0;e<n.g.length;)Ku(r,i=n.g[e])||(n.g[t++]=i,r[i]=1),e++;n.g.length=t}}function Ku(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Ht=hp.prototype).setTimeout=function(n){this.P=n},Ht.gb=function(n){n=n.target;const e=this.L;e&&3==Sl(n)?e.l():this.Ia(n)},Ht.Ia=function(n){try{if(n==this.g)e:{const k=Sl(this.g);var e=this.g.Da();const q=this.g.ba();if(!(3>k)&&(3!=k||_b||this.g&&(this.h.h||this.g.ga()||jE(this.g)))){this.I||4!=k||7==e||s_(8==e||0>=q?3:2),pp(this);var t=this.g.ba();this.N=t;t:if(Ob(this)){var i=jE(this.g);n="";var r=i.length,a=4==Sl(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Wu(this),gp(this);var u="";break t}this.h.i=new En.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:a&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==t,function CE(n,e,t,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,k,t),this.i){if(this.$&&!this.J){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!sp(f)){var w=f;break t}}w=null}if(!(t=w)){this.i=!1,this.o=3,Nr(12),Wu(this),gp(this);break e}Hu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Nb(this,t)}this.U?(IE(this,k,u),_b&&this.i&&3==k&&(vE(this.V,this.W,"tick",this.fb),this.W.start())):(Hu(this.j,this.m,u,null),Nb(this,u)),4==k&&Wu(this),this.i&&!this.I&&(4==k?WE(this.l,this):(this.i=!1,fp(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Nr(12)):(this.o=0,Nr(13)),Wu(this),gp(this)}}}catch{}},Ht.fb=function(){if(this.g){var n=Sl(this.g),e=this.g.ga();this.C<e.length&&(pp(this),IE(this,n,e),this.i&&4!=n&&fp(this))}},Ht.cancel=function(){this.I=!0,Wu(this)},Ht.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function VT(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(s_(3),Nr(17)),Wu(this),this.o=2,gp(this)):Lb(this,this.Y-n)},(Ht=qu.prototype).R=function(){Ub(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Ht.T=function(){return Ub(this),this.g.concat()},Ht.get=function(n,e){return Ku(this.h,n)?this.h[n]:e},Ht.set=function(n,e){Ku(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Ht.forEach=function(n,e){for(var t=this.T(),i=0;i<t.length;i++){var r=t[i],a=this.get(r);n.call(e,a,r,this)}};var xE=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Yu(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof Yu){this.g=void 0!==e?e:n.g,h_(this,n.j),this.s=n.s,f_(this,n.i),mp(this,n.m),this.l=n.l,e=n.h;var t=new Zu;t.i=e.i,e.g&&(t.g=new qu(e.g),t.h=e.h),jb(this,t),this.o=n.o}else n&&(t=String(n).match(xE))?(this.g=!!e,h_(this,t[1]||"",!0),this.s=_p(t[2]||""),f_(this,t[3]||"",!0),mp(this,t[4]),this.l=_p(t[5]||"",!0),jb(this,t[6]||"",!0),this.o=_p(t[7]||"")):(this.g=!!e,this.h=new Zu(null,this.g))}function Al(n){return new Yu(n)}function h_(n,e,t){n.j=t?_p(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function f_(n,e,t){n.i=t?_p(e,!0):e}function mp(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function jb(n,e,t){e instanceof Zu?(n.h=e,function gk(n,e){e&&!n.j&&(wc(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(zb(this,i),$b(this,r,t))},n)),n.j=e}(n.h,n.g)):(t||(e=yp(e,zT)),n.h=new Zu(e,n.g))}function fi(n,e,t){n.h.set(e,t)}function p_(n){return fi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function _p(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function yp(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Hb),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Hb(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Yu.prototype.toString=function(){var n=[],e=this.j;e&&n.push(yp(e,g_,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(yp(e,g_,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(yp(t,"/"==t.charAt(0)?Gb:PE,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",yp(t,$T)),n.join("")};var g_=/[#\/\?@]/g,PE=/[#\?:]/g,Gb=/[#\?]/g,zT=/[#\?@]/g,$T=/#/g;function Zu(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function wc(n){n.g||(n.g=new qu,n.h=0,n.i&&function HT(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var a=n[t].substring(0,i);r=n[t].substring(i+1)}else a=n[t];e(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function zb(n,e){wc(n),e=uh(n,e),Ku(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Ku((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&Ub(n)))}function Xu(n,e){return wc(n),e=uh(n,e),Ku(n.g.h,e)}function $b(n,e,t){zb(n,e),0<t.length&&(n.i=null,n.g.set(uh(n,e),Ym(t)),n.h+=t.length)}function uh(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function m_(n){this.l=n||WT,n=En.PerformanceNavigationTiming?0<(n=En.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(En.g&&En.g.Ea&&En.g.Ea()&&En.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ht=Zu.prototype).add=function(n,e){wc(this),this.i=null,n=uh(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ht.forEach=function(n,e){wc(this),this.g.forEach(function(t,i){rp(t,function(r){n.call(e,r,i,this)},this)},this)},Ht.T=function(){wc(this);for(var n=this.g.R(),e=this.g.T(),t=[],i=0;i<e.length;i++)for(var r=n[i],a=0;a<r.length;a++)t.push(e[i]);return t},Ht.R=function(n){wc(this);var e=[];if("string"==typeof n)Xu(this,n)&&(e=fb(e,this.g.get(uh(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=fb(e,n[t])}return e},Ht.set=function(n,e){return wc(this),this.i=null,Xu(this,n=uh(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ht.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Ht.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var i=e[t],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var WT=10;function __(n){return!!n.h||!!n.g&&n.g.size>=n.j}function RE(n){return n.h?1:n.g?n.g.size:0}function Wb(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function vp(n,e){n.g?n.g.add(e):n.h=e}function qb(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function Kb(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return Ym(n.i)}function y_(){}function OE(){this.g=new y_}function qT(n,e,t){const i=t||"";try{Bb(n,function(r,a){let u=r;np(r)&&(u=Ab(r)),e.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function v_(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function bp(n){this.l=n.$b||null,this.j=n.ib||!1}function wp(n,e){br.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=FE,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}m_.prototype.cancel=function(){if(this.i=Kb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},y_.prototype.stringify=function(n){return En.JSON.stringify(n,void 0)},y_.prototype.parse=function(n){return En.JSON.parse(n,void 0)},zi(bp,zu),bp.prototype.g=function(){return new wp(this.l,this.j)},bp.prototype.i=function(n){return function(){return n}}({}),zi(wp,br);var FE=0;function Yb(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function Cp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Ep(n)}function Ep(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ht=wp.prototype).open=function(n,e){if(this.readyState!=FE)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Ep(this)},Ht.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||En).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Ht.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cp(this)),this.readyState=FE},Ht.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Ep(this)),this.g&&(this.readyState=3,Ep(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof En.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Yb(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Ht.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Cp(this):Ep(this),3==this.readyState&&Yb(this)}},Ht.Ua=function(n){this.g&&(this.response=this.responseText=n,Cp(this))},Ht.Ta=function(n){this.g&&(this.response=n,Cp(this))},Ht.ha=function(){this.g&&Cp(this)},Ht.setRequestHeader=function(n,e){this.v.append(n,e)},Ht.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ht.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(wp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var mk=En.JSON.parse;function Qi(n){br.call(this),this.headers=new qu,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=LE,this.K=this.L=!1}zi(Qi,br);var LE="",YT=/^https?$/i,ZT=["POST","PUT"];function QT(n){return"content-type"==n.toLowerCase()}function NE(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,VE(n),b_(n)}function VE(n){n.D||(n.D=!0,ar(n,"complete"),ar(n,"error"))}function BE(n){if(n.h&&typeof Wm<"u"&&(!n.C[1]||4!=Sl(n)||2!=n.ba()))if(n.v&&4==Sl(n))i_(n.Fa,0,n);else if(ar(n,"readystatechange"),4==Sl(n)){n.h=!1;try{const f=n.ba();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===f){var r=String(n.H).match(xE)[1]||null;if(!r&&En.self&&En.self.location){var a=En.self.location.protocol;r=a.substr(0,a.length-1)}i=!YT.test(r?r.toLowerCase():"")}t=i}if(t)ar(n,"complete"),ar(n,"success");else{n.m=6;try{var u=2<Sl(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.ba()+"]",VE(n)}}finally{b_(n)}}}function b_(n,e){if(n.g){UE(n);const t=n.g,i=n.C[0]?qm:null;n.g=null,n.C=null,e||ar(n,"ready");try{t.onreadystatechange=i}catch{}}}function UE(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(En.clearTimeout(n.A),n.A=null)}function Sl(n){return n.g?n.g.readyState:0}function jE(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case LE:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function w_(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=function Ap(n){let e="";return gb(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):fi(n,e,t))}function dh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function Zb(n){this.za=0,this.l=[],this.h=new r_,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=dh("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=dh("baseRetryDelayMs",5e3,n),this.$a=dh("retryDelaySeedMs",1e4,n),this.Ya=dh("forwardChannelMaxRetries",2,n),this.ra=dh("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new m_(n&&n.concurrentRequestLimit),this.Ca=new OE,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function C_(n){if(Xb(n),3==n.G){var e=n.V++,t=Al(n.F);fi(t,"SID",n.J),fi(t,"RID",e),fi(t,"TYPE","terminate"),Dp(n,t),(e=new hp(n,n.h,e,void 0)).K=2,e.v=p_(Al(t)),t=!1,En.navigator&&En.navigator.sendBeacon&&(t=En.navigator.sendBeacon(e.v.toString(),"")),!t&&En.Image&&((new Image).src=e.v,t=!0),t||(e.g=YE(e.l,null),e.g.ea(e.v)),e.F=Date.now(),fp(e)}qE(n)}function Sp(n){n.g&&(e0(n),n.g.cancel(),n.g=null)}function Xb(n){Sp(n),n.u&&(En.clearTimeout(n.u),n.u=null),ks(n),n.i.cancel(),n.m&&("number"==typeof n.m&&En.clearTimeout(n.m),n.m=null)}function Qb(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&Jb(n)}function Jb(n){__(n.i)||n.m||(n.m=!0,Db(n.Ha,n),n.C=0)}function GE(n,e){var t;t=e?e.m:n.V++;const i=Al(n.F);fi(i,"SID",n.J),fi(i,"RID",t),fi(i,"AID",n.U),Dp(n,i),n.o&&n.s&&w_(i,n.o,n.s),t=new hp(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=zE(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),vp(n.i,t),d_(t,i,e)}function Dp(n,e){n.j&&Bb({},function(t,i){fi(e,i,t)})}function zE(n,e,t){t=Math.min(n.l.length,t);var i=n.j?or(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let f=!0;for(let _=0;_<t;_++){let w=r[_].h;const k=r[_].g;if(w-=a,0>w)a=Math.max(0,r[_].h-100),f=!1;else try{qT(k,u,"req"+w+"_")}catch{i&&i(k)}}if(f){i=u.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,i}function $E(n){n.g||n.u||(n.Y=1,Db(n.Ga,n),n.A=0)}function Qu(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=up(or(n.Ga,n),Tp(n,n.A)),n.A++,0))}function e0(n){null!=n.B&&(En.clearTimeout(n.B),n.B=null)}function E_(n){n.g=new hp(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Al(n.oa);fi(e,"RID","rpc"),fi(e,"SID",n.J),fi(e,"CI",n.N?"0":"1"),fi(e,"AID",n.U),Dp(n,e),fi(e,"TYPE","xmlhttp"),n.o&&n.s&&w_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=p_(Al(e)),t.s=null,t.U=!0,TE(t,n)}function ks(n){null!=n.v&&(En.clearTimeout(n.v),n.v=null)}function WE(n,e){var t=null;if(n.g==e){ks(n),e0(n),n.g=null;var i=2}else{if(!Wb(n.i,e))return;t=e.D,qb(n.i,e),i=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.F;var r=n.C;ar(i=Mb(),new cp(i,t,e,r)),Jb(n)}else $E(n);else if(3==(r=e.o)||0==r&&0<n.I||!(1==i&&function HE(n,e){return!(RE(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=up(or(n.Ha,n,e),Tp(n,n.C)),n.C++,0)))}(n,e)||2==i&&Qu(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:Go(n,5);break;case 4:Go(n,10);break;case 3:Go(n,6);break;default:Go(n,2)}}function Tp(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Go(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var i=or(n.jb,n);t||(t=new Yu("//www.google.com/images/cleardot.gif"),En.location&&"http"==En.location.protocol||h_(t,"https"),p_(t)),function KT(n,e){const t=new r_;if(En.Image){const i=new Image;i.onload=ip(v_,t,i,"TestLoadImage: loaded",!0,e),i.onerror=ip(v_,t,i,"TestLoadImage: error",!1,e),i.onabort=ip(v_,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=ip(v_,t,i,"TestLoadImage: timeout",!1,e),En.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else Nr(2);n.G=0,n.j&&n.j.va(e),qE(n),Xb(n)}function qE(n){n.G=0,n.I=-1,n.j&&((0!=Kb(n.i).length||0!=n.l.length)&&(n.i.i.length=0,Ym(n.l),n.l.length=0),n.j.ua())}function KE(n,e,t){let i=function ME(n){return n instanceof Yu?Al(n):new Yu(n,void 0)}(t);if(""!=i.i)e&&f_(i,e+"."+i.i),mp(i,i.m);else{const r=En.location;i=function GT(n,e,t,i){var r=new Yu(null,void 0);return n&&h_(r,n),e&&f_(r,e),t&&mp(r,t),i&&(r.l=i),r}(r.protocol,e?e+"."+r.hostname:r.hostname,+r.port,t)}return n.aa&&gb(n.aa,function(r,a){fi(i,a,r)}),t=n.sa,(e=n.D)&&t&&fi(i,e,t),fi(i,"VER",n.ma),Dp(n,i),i}function YE(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Qi(t&&n.Ba&&!n.qa?new bp({ib:!0}):n.qa)).L=n.H,e}function Ip(){}function Ju(){if(sh&&!(10<=Number(cE)))throw Error("Environmental error: no available transport.")}function Rs(n,e){br.call(this),this.g=new Zb(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!sp(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!sp(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new ed(this)}function ZE(n){kb.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function t0(){Rb.call(this),this.status=1}function ed(n){this.g=n}(Ht=Qi.prototype).ea=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():a_.g(),this.C=function SE(n){return n.h||(n.h=n.i())}(this.u?this.u:a_),this.g.onreadystatechange=or(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void NE(this,a)}n=t||"";const r=new qu(this.headers);i&&Bb(i,function(a,u){r.set(u,a)}),i=function QC(n){e:{var e=QT;const t=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<t;r++)if(r in i&&e.call(void 0,i[r],r,n)){e=r;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(r.T()),t=En.FormData&&n instanceof En.FormData,!(0<=Km(ZT,e))||i||t||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{UE(this),0<this.B&&((this.K=function XT(n){return sh&&function lE(){return function xT(n){var e=aE;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=pb(String(Xm)).split("."),t=pb("9").split("."),i=Math.max(e.length,t.length);for(let u=0;0==n&&u<i;u++){var r=e[u]||"",a=t[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=Zm(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||Zm(0==r[2].length,0==a[2].length)||Zm(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=or(this.pa,this)):this.A=i_(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){NE(this,a)}},Ht.pa=function(){typeof Wm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ar(this,"timeout"),this.abort(8))},Ht.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ar(this,"complete"),ar(this,"abort"),b_(this))},Ht.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),b_(this,!0)),Qi.Z.M.call(this)},Ht.Fa=function(){this.s||(this.F||this.v||this.l?BE(this):this.cb())},Ht.cb=function(){BE(this)},Ht.ba=function(){try{return 2<Sl(this)?this.g.status:-1}catch{return-1}},Ht.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ht.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),mk(e)}},Ht.Da=function(){return this.m},Ht.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ht=Zb.prototype).ma=8,Ht.G=1,Ht.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},Ht.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new hp(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=tE(a),iE(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var i=this.l[t];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=zE(this,r,e),fi(t=Al(this.F),"RID",n),fi(t,"CVER",22),this.D&&fi(t,"X-HTTP-Session-Id",this.D),Dp(this,t),this.o&&a&&w_(t,this.o,a),vp(this.i,r),this.Ra&&fi(t,"TYPE","init"),this.ja?(fi(t,"$req",e),fi(t,"SID","null"),r.$=!0,d_(r,t,null)):d_(r,t,e),this.G=2}}else 3==this.G&&(n?GE(this,n):0==this.l.length||__(this.i)||GE(this))},Ht.Ga=function(){if(this.u=null,E_(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=up(or(this.bb,this),n)}},Ht.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Nr(10),Sp(this),E_(this))},Ht.ab=function(){null!=this.v&&(this.v=null,Sp(this),Qu(this),Nr(19))},Ht.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Nr(2)):(this.h.info("Failed to ping google.com"),Nr(1))},(Ht=Ip.prototype).xa=function(){},Ht.wa=function(){},Ht.va=function(){},Ht.ua=function(){},Ht.Oa=function(){},Ju.prototype.g=function(n,e){return new Rs(n,e)},zi(Rs,br),Rs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),Db(or(n.hb,n,e))),Nr(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=KE(n,null,n.W),Jb(n)},Rs.prototype.close=function(){C_(this.g)},Rs.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,Qb(this.g,e)}else this.v?((e={}).__data__=Ab(n),Qb(this.g,e)):Qb(this.g,n)},Rs.prototype.M=function(){this.g.j=null,delete this.j,C_(this.g),delete this.g,Rs.Z.M.call(this)},zi(ZE,kb),zi(t0,Rb),zi(ed,Ip),ed.prototype.xa=function(){ar(this.g,"a")},ed.prototype.wa=function(n){ar(this.g,new ZE(n))},ed.prototype.va=function(n){ar(this.g,new t0(n))},ed.prototype.ua=function(){ar(this.g,"b")},Ju.prototype.createWebChannel=Ju.prototype.g,Rs.prototype.send=Rs.prototype.u,Rs.prototype.open=Rs.prototype.m,Rs.prototype.close=Rs.prototype.close,o_.NO_ERROR=0,o_.TIMEOUT=8,o_.HTTP_ERROR=6,Pb.COMPLETE="complete",DE.EventType=dp,dp.OPEN="a",dp.CLOSE="b",dp.ERROR="c",dp.MESSAGE="d",br.prototype.listen=br.prototype.N,Qi.prototype.listenOnce=Qi.prototype.O,Qi.prototype.getLastError=Qi.prototype.La,Qi.prototype.getLastErrorCode=Qi.prototype.Da,Qi.prototype.getStatus=Qi.prototype.ba,Qi.prototype.getResponseJson=Qi.prototype.Qa,Qi.prototype.getResponseText=Qi.prototype.ga,Qi.prototype.send=Qi.prototype.ea;var n0=Xi.createWebChannelTransport=function(){return new Ju},XE=Xi.getStatEventTarget=function(){return Mb()},r0=Xi.ErrorCode=o_,JT=Xi.EventType=Pb,_k=Xi.Event=Gu,A_=Xi.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},s0=Xi.FetchXmlHttpFactory=bp,xp=Xi.WebChannel=DE,o0=Xi.XhrIo=Qi;const S_="@firebase/firestore";class lr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");let hh="9.9.2";const Cc=new Bo.Yd("@firebase/firestore");function a0(){return Cc.logLevel}function Et(n,...e){if(Cc.logLevel<=Bo.in.DEBUG){const t=e.map(D_);Cc.debug(`Firestore (${hh}): ${n}`,...t)}}function Mi(n,...e){if(Cc.logLevel<=Bo.in.ERROR){const t=e.map(D_);Cc.error(`Firestore (${hh}): ${n}`,...t)}}function Ec(n,...e){if(Cc.logLevel<=Bo.in.WARN){const t=e.map(D_);Cc.warn(`Firestore (${hh}): ${n}`,...t)}}function D_(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Gt(n="Unexpected state"){const e=`FIRESTORE (${hh}) INTERNAL ASSERTION FAILED: `+n;throw Mi(e),new Error(e)}function pn(n,e){n||Gt()}function Lt(n,e){return n}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends wn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vr{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fh{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(lr.UNAUTHENTICATED))}shutdown(){}}class eI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class tI{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const a=w=>this.i!==r?(r=this.i,t(w)):Promise.resolve();let u=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new cr,e.enqueueRetryable(()=>a(this.currentUser))};const f=()=>{const w=u;e.enqueueRetryable((0,lt.Z)(function*(){yield w.promise,yield a(i.currentUser)}))},_=w=>{Et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(Et("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new cr)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(Et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(pn("string"==typeof i.accessToken),new Vr(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return pn(null===e||"string"==typeof e),new lr(e)}}class yk{constructor(e,t,i){this.type="FirstParty",this.user=lr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class vk{constructor(e,t,i){this.h=e,this.l=t,this.m=i}getToken(){return Promise.resolve(new yk(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(lr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class l0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eA{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const i=a=>{null!=a.error&&Et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,Et("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>i(a))};const r=a=>{Et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):Et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(pn("string"==typeof t.token),this.p=t.token,new l0(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function nI(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class I_{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=nI(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<t&&(i+=e.charAt(r[a]%e.length))}return i}}function An(n,e){return n<e?-1:n>e?1:0}function td(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}function tA(n){return n+"\0"}class pi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new vt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new vt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new vt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new vt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return pi.fromMillis(Date.now())}static fromDate(e){return pi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new pi(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?An(this.nanoseconds,e.nanoseconds):An(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class an{constructor(e){this.timestamp=e}static fromTimestamp(e){return new an(e)}static min(){return new an(new pi(0,0))}static max(){return new an(new pi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Mp{constructor(e,t,i){void 0===t?t=0:t>e.length&&Gt(),void 0===i?i=e.length-t:i>e.length-t&&Gt(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===Mp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Mp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const a=e.get(r),u=t.get(r);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Pn extends Mp{construct(e,t,i){return new Pn(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new vt(st.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Pn(t)}static emptyPath(){return new Pn([])}}const nA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ci extends Mp{construct(e,t,i){return new Ci(e,t,i)}static isValidIdentifier(e){return nA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ci.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ci(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const a=()=>{if(0===i.length)throw new vt(st.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let u=!1;for(;r<e.length;){const f=e[r];if("\\"===f){if(r+1===e.length)throw new vt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new vt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=_,r+=2}else"`"===f?(u=!u,r++):"."!==f||u?(i+=f,r++):(a(),r++)}if(a(),u)throw new vt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ci(t)}static emptyPath(){return new Ci([])}}class kt{constructor(e){this.path=e}static fromPath(e){return new kt(Pn.fromString(e))}static fromName(e){return new kt(Pn.fromString(e).popFirst(5))}static empty(){return new kt(Pn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Pn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Pn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new Pn(e.slice()))}}class ph{constructor(e,t,i,r){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=r}}function iA(n){return n.fields.find(e=>2===e.kind)}function Ac(n){return n.fields.filter(e=>2!==e.kind)}ph.UNKNOWN_ID=-1;class Pp{constructor(e,t){this.fieldPath=e,this.kind=t}}class kp{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new kp(0,ro.min())}}function c0(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=an.fromTimestamp(1e9===i?new pi(t+1,0):new pi(t,i));return new ro(r,kt.empty(),e)}function x_(n){return new ro(n.readTime,n.key,-1)}class ro{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new ro(an.min(),kt.empty(),-1)}static max(){return new ro(an.max(),kt.empty(),-1)}}function u0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=kt.comparator(n.documentKey,e.documentKey),0!==t?t:An(n.largestBatchId,e.largestBatchId))}const rI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Sc(n){return d0.apply(this,arguments)}function d0(){return d0=(0,lt.Z)(function*(n){if(n.code!==st.FAILED_PRECONDITION||n.message!==rI)throw n;Et("LocalStore","Unexpectedly lost primary lease")}),d0.apply(this,arguments)}class et{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new et((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(t,a).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof et?t:et.resolve(t)}catch(t){return et.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):et.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):et.reject(t)}static resolve(e){return new et((t,i)=>{t(e)})}static reject(e){return new et((t,i)=>{i(e)})}static waitFor(e){return new et((t,i)=>{let r=0,a=0,u=!1;e.forEach(f=>{++r,f.next(()=>{++a,u&&a===r&&t()},_=>i(_))}),u=!0,a===r&&t()})}static or(e){let t=et.resolve(!1);for(const i of e)t=t.next(r=>r?et.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,a)=>{i.push(t.call(this,r,a))}),this.waitFor(i)}static mapArray(e,t){return new et((i,r)=>{const a=e.length,u=new Array(a);let f=0;for(let _=0;_<a;_++){const w=_;t(e[w]).next(k=>{u[w]=k,++f,f===a&&i(u)},k=>r(k))}})}static doWhile(e,t){return new et((i,r)=>{const a=()=>{!0===e()?t().next(()=>{a()},r):i()};a()})}}class Rp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new cr,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new mh(e,t.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=M_(i.target.error);this.T.reject(new mh(e,r))}}static open(e,t,i,r){try{return new Rp(t,e.transaction(r,i))}catch(a){throw new mh(t,a)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(Et("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new sI(t)}}class zo{constructor(e,t,i){this.name=e,this.version=t,this.P=i,12.2===zo.v((0,wn.z$)())&&Mi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Et("SimpleDb","Removing database:",e),Tc(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,wn.hl)())return!1;if(zo.S())return!0;const e=(0,wn.z$)(),t=zo.v(e),i=0<t&&t<10,r=zo.D(e),a=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||a)}static S(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(e){const t=e.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(e){var t=this;return(0,lt.Z)(function*(){return t.db||(Et("SimpleDb","Opening database:",t.name),t.db=yield new Promise((i,r)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new mh(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const f=u.target.error;r("VersionError"===f.name?new vt(st.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new vt(st.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new mh(e,f))},a.onupgradeneeded=u=>{Et("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.P.M(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{Et("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.O&&(t.db.onversionchange=i=>t.O(i)),t.db})()}F(e){this.O=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,i,r){var a=this;return(0,lt.Z)(function*(){const u="readonly"===t;let f=0;for(;;){++f;try{a.db=yield a.k(e);const _=Rp.open(a.db,e,u?"readonly":"readwrite",i),w=r(_).next(k=>(_.R(),k)).catch(k=>(_.abort(k),et.reject(k))).toPromise();return w.catch(()=>{}),yield _.A,w}catch(_){const w=_,k="FirebaseError"!==w.name&&f<3;if(Et("SimpleDb","Transaction failed with error:",w.message,"Retrying:",k),a.close(),!k)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class sA{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return Tc(this.$.delete())}}class mh extends vt{constructor(e,t){super(st.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Dc(n){return"IndexedDbTransactionError"===n.name}class sI{constructor(e){this.store=e}put(e,t){let i;return void 0!==t?(Et("SimpleDb","PUT",this.store.name,e,t),i=this.store.put(t,e)):(Et("SimpleDb","PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Tc(i)}add(e){return Et("SimpleDb","ADD",this.store.name,e,e),Tc(this.store.add(e))}get(e){return Tc(this.store.get(e)).next(t=>(void 0===t&&(t=null),Et("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Et("SimpleDb","DELETE",this.store.name,e),Tc(this.store.delete(e))}count(){return Et("SimpleDb","COUNT",this.store.name),Tc(this.store.count())}K(e,t){const i=this.options(e,t);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.G(r,(u,f)=>{a.push(f)}).next(()=>a)}{const r=this.store.getAll(i.range);return new et((a,u)=>{r.onerror=f=>{u(f.target.error)},r.onsuccess=f=>{a(f.target.result)}})}}j(e,t){const i=this.store.getAll(e,null===t?void 0:t);return new et((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}W(e,t){Et("SimpleDb","DELETE ALL",this.store.name);const i=this.options(e,t);i.H=!1;const r=this.cursor(i);return this.G(r,(a,u,f)=>f.delete())}J(e,t){let i;t?i=e:(i={},t=e);const r=this.cursor(i);return this.G(r,t)}Y(e){const t=this.cursor({});return new et((i,r)=>{t.onerror=a=>{const u=M_(a.target.error);r(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(f=>{f?u.continue():i()}):i()}})}G(e,t){const i=[];return new et((r,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const f=u.target.result;if(!f)return void r();const _=new sA(f),w=t(f.primaryKey,f.value,_);if(w instanceof et){const k=w.catch(q=>(_.done(),et.reject(q)));i.push(k)}_.isDone?r():null===_.U?f.continue():f.continue(_.U)}}).next(()=>et.waitFor(i))}options(e,t){let i;return void 0!==e&&("string"==typeof e?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.H?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Tc(n){return new et((e,t)=>{n.onsuccess=i=>{e(i.target.result)},n.onerror=i=>{const r=M_(i.target.error);t(r)}})}let oA=!1;function M_(n){const e=zo.v((0,wn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const i=new vt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return oA||(oA=!0,setTimeout(()=>{throw i},0)),i}}return n}class aA{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;Et("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,lt.Z)(function*(){t.task=null;try{Et("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(i){Dc(i)?Et("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield Sc(i)}yield t.Z(1)}))}}class lA{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,lt.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>t.et(i,e))})()}et(e,t){const i=new Set;let r=t,a=!0;return et.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!i.has(u))return Et("IndexBackiller",`Processing collection: ${u}`),this.nt(e,u,r).next(f=>{r-=f,i.add(u)});a=!1})).next(()=>t-r)}nt(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.st(r,a)).next(f=>(Et("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>u.size)}))}st(e,t){let i=e;return t.changes.forEach((r,a)=>{const u=x_(a);u0(u,i)>0&&(i=u)}),new ro(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class os{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.it(i),this.rt=i=>t.writeSequenceNumber(i))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function cA(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function nd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function oI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}os.ot=-1;class Ei{constructor(e,t){this.comparator=e,this.root=t||Br.EMPTY}insert(e,t){return new Ei(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Br.BLACK,null,null))}remove(e){return new Ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Br.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new h0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new h0(this.root,e,this.comparator,!1)}getReverseIterator(){return new h0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new h0(this.root,e,this.comparator,!0)}}class h0{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?i(e.key,t):1,t&&r&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Br{constructor(e,t,i,r,a){this.key=e,this.value=t,this.color=i??Br.RED,this.left=r??Br.EMPTY,this.right=a??Br.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,a){return new Br(e??this.key,t??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const a=i(e,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===a?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Br.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Br.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Br.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Br.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Gt();const e=this.left.check();if(e!==this.right.check())throw Gt();return e+(this.isRed()?0:1)}}Br.EMPTY=null,Br.RED=!0,Br.BLACK=!1,Br.EMPTY=new class{constructor(){this.size=0}get key(){throw Gt()}get value(){throw Gt()}get color(){throw Gt()}get left(){throw Gt()}get right(){throw Gt()}copy(n,e,t,i,r){return this}insert(n,e,t){return new Br(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Yn{constructor(e){this.comparator=e,this.data=new Ei(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new aI(this.data.getIterator())}getIteratorFrom(e){return new aI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Yn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Yn(this.comparator);return t.data=e,t}}class aI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Op(n){return n.hasNext()?n.getNext():void 0}class so{constructor(e){this.fields=e,e.sort(Ci.comparator)}static empty(){return new so([])}unionWith(e){let t=new Yn(Ci.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new so(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return td(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class ur{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ur(t)}static fromUint8Array(e){const t=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(e);return new ur(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let i=0;i<e.length;i++)t[i]=e.charCodeAt(i);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return An(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ur.EMPTY_BYTE_STRING=new ur("");const P_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function id(n){if(pn(!!n),"string"==typeof n){let e=0;const t=P_.exec(n);if(pn(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ai(n.seconds),nanos:Ai(n.nanos)}}function Ai(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Ia(n){return"string"==typeof n?ur.fromBase64String(n):ur.fromUint8Array(n)}function k_(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function f0(n){const e=n.mapValue.fields.__previous_value__;return k_(e)?f0(e):e}function R_(n){const e=id(n.mapValue.fields.__local_write_time__.timestampValue);return new pi(e.seconds,e.nanos)}class p0{constructor(e,t,i,r,a,u,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class xa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new xa("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof xa&&e.projectId===this.projectId&&e.database===this.database}}function Fp(n){return null==n}function _h(n){return 0===n&&1/n==-1/0}function lI(n){return"number"==typeof n&&Number.isInteger(n)&&!_h(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ic={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},O_={nullValue:"NULL_VALUE"};function rd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?k_(n)?4:oo(n)?9007199254740991:10:Gt()}function Os(n,e){if(n===e)return!0;const t=rd(n);if(t!==rd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return R_(n).isEqual(R_(e));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=id(i.timestampValue),u=id(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return r=e,Ia(n.bytesValue).isEqual(Ia(r.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,r){return Ai(i.geoPointValue.latitude)===Ai(r.geoPointValue.latitude)&&Ai(i.geoPointValue.longitude)===Ai(r.geoPointValue.longitude)}(n,e);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Ai(i.integerValue)===Ai(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Ai(i.doubleValue),u=Ai(r.doubleValue);return a===u?_h(a)===_h(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return td(n.arrayValue.values||[],e.arrayValue.values||[],Os);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(cA(a)!==cA(u))return!1;for(const f in a)if(a.hasOwnProperty(f)&&(void 0===u[f]||!Os(a[f],u[f])))return!1;return!0}(n,e);default:return Gt()}var r}function Lp(n,e){return void 0!==(n.values||[]).find(t=>Os(t,e))}function sd(n,e){if(n===e)return 0;const t=rd(n),i=rd(e);if(t!==i)return An(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return An(n.booleanValue,e.booleanValue);case 2:return function(r,a){const u=Ai(r.integerValue||r.doubleValue),f=Ai(a.integerValue||a.doubleValue);return u<f?-1:u>f?1:u===f?0:isNaN(u)?isNaN(f)?0:-1:1}(n,e);case 3:return cI(n.timestampValue,e.timestampValue);case 4:return cI(R_(n),R_(e));case 5:return An(n.stringValue,e.stringValue);case 6:return function(r,a){const u=Ia(r),f=Ia(a);return u.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(r,a){const u=r.split("/"),f=a.split("/");for(let _=0;_<u.length&&_<f.length;_++){const w=An(u[_],f[_]);if(0!==w)return w}return An(u.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(r,a){const u=An(Ai(r.latitude),Ai(a.latitude));return 0!==u?u:An(Ai(r.longitude),Ai(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(r,a){const u=r.values||[],f=a.values||[];for(let _=0;_<u.length&&_<f.length;++_){const w=sd(u[_],f[_]);if(w)return w}return An(u.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(r,a){if(r===Ic.mapValue&&a===Ic.mapValue)return 0;if(r===Ic.mapValue)return 1;if(a===Ic.mapValue)return-1;const u=r.fields||{},f=Object.keys(u),_=a.fields||{},w=Object.keys(_);f.sort(),w.sort();for(let k=0;k<f.length&&k<w.length;++k){const q=An(f[k],w[k]);if(0!==q)return q;const Se=sd(u[f[k]],_[w[k]]);if(0!==Se)return Se}return An(f.length,w.length)}(n.mapValue,e.mapValue);default:throw Gt()}}function cI(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return An(n,e);const t=id(n),i=id(e),r=An(t.seconds,i.seconds);return 0!==r?r:An(t.nanos,i.nanos)}function Np(n){return g0(n)}function g0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=id(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Ia(n.bytesValue).toBase64():"referenceValue"in n?kt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=g0(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const f of r)u?u=!1:a+=",",a+=`${f}:${g0(i.fields[f])}`;return a+"}"}(n.mapValue):Gt();var e}function od(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function m0(n){return!!n&&"integerValue"in n}function F_(n){return!!n&&"arrayValue"in n}function uA(n){return!!n&&"nullValue"in n}function _0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Vp(n){return!!n&&"mapValue"in n}function L_(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return nd(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=L_(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=L_(n.arrayValue.values[t]);return e}return Object.assign({},n)}function oo(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function uI(n){return"nullValue"in n?O_:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?od(xa.empty(),kt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:Gt()}function y0(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?od(xa.empty(),kt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ic:Gt()}function dA(n,e){const t=sd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function _s(n,e){const t=sd(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class wr{constructor(e){this.value=e}static empty(){return new wr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Vp(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=L_(t)}setAll(e){let t=Ci.emptyPath(),i={},r=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,i,r),i={},r=[],t=f.popLast()}u?i[f.lastSegment()]=L_(u):r.push(f.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,i,r)}delete(e){const t=this.field(e.popLast());Vp(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Os(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];Vp(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){nd(t,(r,a)=>e[r]=a);for(const r of i)delete e[r]}clone(){return new wr(L_(this.value))}}function N_(n){const e=[];return nd(n.fields,(t,i)=>{const r=new Ci([t]);if(Vp(i)){const a=N_(i.mapValue).fields;if(0===a.length)e.push(r);else for(const u of a)e.push(r.child(u))}else e.push(r)}),new so(e)}class ni{constructor(e,t,i,r,a,u){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(e){return new ni(e,0,an.min(),an.min(),wr.empty(),0)}static newFoundDocument(e,t,i){return new ni(e,1,t,an.min(),i,0)}static newNoDocument(e,t){return new ni(e,2,t,an.min(),wr.empty(),0)}static newUnknownDocument(e,t){return new ni(e,3,t,an.min(),wr.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=wr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=wr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=an.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class dI{constructor(e,t=null,i=[],r=[],a=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=f,this.ut=null}}function V_(n,e=null,t=[],i=[],r=null,a=null,u=null){return new dI(n,e,t,i,r,a,u)}function xc(n){const e=Lt(n);if(null===e.ut){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Np(r.value);var r}).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Fp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Np(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Np(i)).join(",")),e.ut=t}return e.ut}function Bp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!pI(n.orderBy[r],e.orderBy[r]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((t=n.filters[r]).op!==(i=e.filters[r]).op||!t.field.isEqual(i.field)||!Os(t.value,i.value))return!1;var t,i;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!gI(n.startAt,e.startAt)&&gI(n.endAt,e.endAt)}function Up(n){return kt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function jp(n,e){return n.filters.filter(t=>t instanceof Cr&&t.field.isEqual(e))}function fA(n,e,t){let i=O_,r=!0;for(const a of jp(n,e)){let u=O_,f=!0;switch(a.op){case"<":case"<=":u=uI(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,f=!1;break;case"!=":case"not-in":u=O_}dA({value:i,inclusive:r},{value:u,inclusive:f})<0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];dA({value:i,inclusive:r},{value:u,inclusive:t.inclusive})<0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}function v0(n,e,t){let i=Ic,r=!0;for(const a of jp(n,e)){let u=Ic,f=!0;switch(a.op){case">=":case">":u=y0(a.value),f=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,f=!1;break;case"!=":case"not-in":u=Ic}_s({value:i,inclusive:r},{value:u,inclusive:f})>0&&(i=u,r=f)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];_s({value:i,inclusive:r},{value:u,inclusive:t.inclusive})>0&&(i=u,r=t.inclusive);break}return{value:i,inclusive:r}}class Cr extends class{}{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,i):new b0(e,t,i):"array-contains"===t?new Dl(e,i):"in"===t?new hI(e,i):"not-in"===t?new wk(e,i):"array-contains-any"===t?new fI(e,i):new Cr(e,t,i)}static ct(e,t,i){return"in"===t?new Mc(e,i):new pA(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(sd(t,this.value)):null!==t&&rd(this.value)===rd(t)&&this.at(sd(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Gt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class b0 extends Cr{constructor(e,t,i){super(e,t,i),this.key=kt.fromName(i.referenceValue)}matches(e){const t=kt.comparator(e.key,this.key);return this.at(t)}}class Mc extends Cr{constructor(e,t){super(e,"in",t),this.keys=B_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class pA extends Cr{constructor(e,t){super(e,"not-in",t),this.keys=B_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function B_(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>kt.fromName(i.referenceValue))}class Dl extends Cr{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return F_(t)&&Lp(t.arrayValue,this.value)}}class hI extends Cr{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Lp(this.value.arrayValue,t)}}class wk extends Cr{constructor(e,t){super(e,"not-in",t)}matches(e){if(Lp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Lp(this.value.arrayValue,t)}}class fI extends Cr{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!F_(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>Lp(this.value.arrayValue,i))}}class Pc{constructor(e,t){this.position=e,this.inclusive=t}}class yh{constructor(e,t="asc"){this.field=e,this.dir=t}}function pI(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function w0(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const a=e[r],u=n.position[r];if(i=a.field.isKeyField()?kt.comparator(kt.fromName(u.referenceValue),t.key):sd(u,t.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function gI(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Os(n.position[t],e.position[t]))return!1;return!0}class Ma{constructor(e,t=null,i=[],r=[],a=null,u="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=f,this.endAt=_,this.lt=null,this.ft=null}}function gA(n,e,t,i,r,a,u,f){return new Ma(n,e,t,i,r,a,u,f)}function ad(n){return new Ma(n)}function mI(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Hp(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function U_(n){for(const e of n.filters)if(e.ht())return e.field;return null}function j_(n){return null!==n.collectionGroup}function vh(n){const e=Lt(n);if(null===e.lt){e.lt=[];const t=U_(e),i=Hp(e);if(null!==t&&null===i)t.isKeyField()||e.lt.push(new yh(t)),e.lt.push(new yh(Ci.keyField(),"asc"));else{let r=!1;for(const a of e.explicitOrderBy)e.lt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.lt.push(new yh(Ci.keyField(),a))}}}return e.lt}function as(n){const e=Lt(n);if(!e.ft)if("F"===e.limitType)e.ft=V_(e.path,e.collectionGroup,vh(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of vh(e))t.push(new yh(a.field,"desc"===a.dir?"asc":"desc"));const i=e.endAt?new Pc(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Pc(e.startAt.position,e.startAt.inclusive):null;e.ft=V_(e.path,e.collectionGroup,t,e.filters,e.limit,i,r)}return e.ft}function Gp(n,e,t){return new Ma(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function kc(n,e){return Bp(as(n),as(e))&&n.limitType===e.limitType}function zp(n){return`${xc(as(n))}|lt:${n.limitType}`}function H_(n){return`Query(target=${function hA(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(i=t).field.canonicalString()} ${i.op} ${Np(i.value)}`;var i}).join(", ")}]`),Fp(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(i=t).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>Np(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>Np(t)).join(",")),`Target(${e})`}(as(n))}; limitType=${n.limitType})`}function C0(n,e){return e.isFoundDocument()&&function(t,i){const r=i.key.path;return null!==t.collectionGroup?i.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(r):kt.isDocumentKey(t.path)?t.path.isEqual(r):t.path.isImmediateParentOf(r)}(n,e)&&function(t,i){for(const r of t.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,e)&&function(t,i){for(const r of t.filters)if(!r.matches(i))return!1;return!0}(n,e)&&(i=e,!((t=n).startAt&&!function(r,a,u){const f=w0(r,a,u);return r.inclusive?f<=0:f<0}(t.startAt,vh(t),i)||t.endAt&&!function(r,a,u){const f=w0(r,a,u);return r.inclusive?f>=0:f>0}(t.endAt,vh(t),i)));var t,i}function E0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function A0(n){return(e,t)=>{let i=!1;for(const r of vh(n)){const a=_I(r,e,t);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function _I(n,e,t){const i=n.field.isKeyField()?kt.comparator(e.key,t.key):function(r,a,u){const f=a.data.field(r),_=u.data.field(r);return null!==f&&null!==_?sd(f,_):Gt()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Gt()}}function mA(n,e){if(n.dt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function yI(n){return{integerValue:""+n}}function vI(n,e){return lI(e)?yI(e):mA(n,e)}class $p{constructor(){this._=void 0}}function bI(n,e,t){return n instanceof Wp?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(t,e):n instanceof bh?CI(n,e):n instanceof wh?EI(n,e):function(i,r){const a=_A(i,r),u=qp(a)+qp(i._t);return m0(a)&&m0(i._t)?yI(u):mA(i.wt,u)}(n,e)}function wI(n,e,t){return n instanceof bh?CI(n,e):n instanceof wh?EI(n,e):t}function _A(n,e){return n instanceof Ch?m0(t=e)||(i=t)&&"doubleValue"in i?e:{integerValue:0}:null;var i,t}class Wp extends $p{}class bh extends $p{constructor(e){super(),this.elements=e}}function CI(n,e){const t=yA(e);for(const i of n.elements)t.some(r=>Os(r,i))||t.push(i);return{arrayValue:{values:t}}}class wh extends $p{constructor(e){super(),this.elements=e}}function EI(n,e){let t=yA(e);for(const i of n.elements)t=t.filter(r=>!Os(r,i));return{arrayValue:{values:t}}}class Ch extends $p{constructor(e,t){super(),this.wt=e,this._t=t}}function qp(n){return Ai(n.integerValue||n.doubleValue)}function yA(n){return F_(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Kp{constructor(e,t){this.field=e,this.transform=t}}class ld{constructor(e,t){this.version=e,this.transformResults=t}}class gi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gi}static exists(e){return new gi(void 0,e)}static updateTime(e){return new gi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Ah{}function bA(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Sh(n.key,gi.none()):new Yp(n.key,n.data,gi.none());{const t=n.data,i=wr.empty();let r=new Yn(Ci.comparator);for(let a of e.fields)if(!r.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new Rc(n.key,i,new so(r.toArray()),gi.none())}}function S0(n,e,t){n instanceof Yp?function(i,r,a){const u=i.value.clone(),f=D0(i.fieldTransforms,r,a.transformResults);u.setAll(f),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Rc?function(i,r,a){if(!Eh(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=D0(i.fieldTransforms,r,a.transformResults),f=r.data;f.setAll(SI(i)),f.setAll(u),r.convertToFoundDocument(a.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cd(n,e,t,i){return n instanceof Yp?function(r,a,u,f){if(!Eh(r.precondition,a))return u;const _=r.value.clone(),w=wA(r.fieldTransforms,f,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,e,t,i):n instanceof Rc?function(r,a,u,f){if(!Eh(r.precondition,a))return u;const _=wA(r.fieldTransforms,f,a),w=a.data;return w.setAll(SI(r)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(k=>k.field))}(n,e,t,i):(u=t,Eh(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function G_(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),a=_A(i.transform,r||null);null!=a&&(null===t&&(t=wr.empty()),t.set(i.field,a))}return t||null}function AI(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===i||t&&i&&td(t,i,(r,a)=>function vA(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(t=n.transform)instanceof bh&&i instanceof bh||t instanceof wh&&i instanceof wh?td(t.elements,i.elements,Os):t instanceof Ch&&i instanceof Ch?Os(t._t,i._t):t instanceof Wp&&i instanceof Wp);var t,i}(r,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,i}class Yp extends Ah{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Rc extends Ah{constructor(e,t,i,r,a=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function SI(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function D0(n,e,t){const i=new Map;pn(n.length===t.length);for(let r=0;r<t.length;r++){const a=n[r],u=a.transform,f=e.data.field(a.field);i.set(a.field,wI(u,f,t[r]))}return i}function wA(n,e,t){const i=new Map;for(const r of n){const a=r.transform,u=t.data.field(r.field);i.set(r.field,bI(a,u,e))}return i}class Sh extends Ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T0 extends Ah{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class DI{constructor(e){this.count=e}}var Oi,Rn;function I0(n){switch(n){default:return Gt();case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0}}function CA(n){if(void 0===n)return Mi("GRPC error has no .code"),st.UNKNOWN;switch(n){case Oi.OK:return st.OK;case Oi.CANCELLED:return st.CANCELLED;case Oi.UNKNOWN:return st.UNKNOWN;case Oi.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Oi.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Oi.INTERNAL:return st.INTERNAL;case Oi.UNAVAILABLE:return st.UNAVAILABLE;case Oi.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Oi.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Oi.NOT_FOUND:return st.NOT_FOUND;case Oi.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Oi.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Oi.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Oi.ABORTED:return st.ABORTED;case Oi.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Oi.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Oi.DATA_LOSS:return st.DATA_LOSS;default:return Gt()}}(Rn=Oi||(Oi={}))[Rn.OK=0]="OK",Rn[Rn.CANCELLED=1]="CANCELLED",Rn[Rn.UNKNOWN=2]="UNKNOWN",Rn[Rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rn[Rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rn[Rn.NOT_FOUND=5]="NOT_FOUND",Rn[Rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rn[Rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rn[Rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rn[Rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rn[Rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rn[Rn.ABORTED=10]="ABORTED",Rn[Rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rn[Rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rn[Rn.INTERNAL=13]="INTERNAL",Rn[Rn.UNAVAILABLE=14]="UNAVAILABLE",Rn[Rn.DATA_LOSS=15]="DATA_LOSS";class Oc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return void(r[a]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){nd(this.inner,(t,i)=>{for(const[r,a]of i)e(r,a)})}isEmpty(){return oI(this.inner)}size(){return this.innerSize}}const EA=new Ei(kt.comparator);function Ur(){return EA}const TI=new Ei(kt.comparator);function Dh(...n){let e=TI;for(const t of n)e=e.insert(t.key,t);return e}function z_(n){let e=TI;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Pa(){return $_()}function AA(){return $_()}function $_(){return new Oc(n=>n.toString(),(n,e)=>n.isEqual(e))}const Ck=new Ei(kt.comparator),II=new Yn(kt.comparator);function Tn(...n){let e=II;for(const t of n)e=e.add(t);return e}const xI=new Yn(An);function x0(){return xI}class W_{constructor(e,t,i,r,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t){const i=new Map;return i.set(e,q_.createSynthesizedTargetChangeForCurrentChange(e,t)),new W_(an.min(),i,x0(),Ur(),Tn())}}class q_{constructor(e,t,i,r,a){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t){return new q_(ur.EMPTY_BYTE_STRING,t,Tn(),Tn(),Tn())}}class M0{constructor(e,t,i,r){this.gt=e,this.removedTargetIds=t,this.key=i,this.yt=r}}class MI{constructor(e,t){this.targetId=e,this.It=t}}class SA{constructor(e,t,i=ur.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class PI{constructor(){this.Tt=0,this.Et=RI(),this.At=ur.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=Tn(),t=Tn(),i=Tn();return this.Et.forEach((r,a)=>{switch(a){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:Gt()}}),new q_(this.At,this.Rt,e,t,i)}Dt(){this.bt=!1,this.Et=RI()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class Ek{constructor(e){this.Ot=e,this.Ft=new Map,this.$t=Ur(),this.Bt=kI(),this.Lt=new Yn(An)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const i=this.Qt(t);switch(e.state){case 0:this.jt(t)&&i.Vt(e.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(e.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(i.Mt(),i.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),i.Vt(e.resumeToken));break;default:Gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((i,r)=>{this.jt(r)&&t(r)})}zt(e){const t=e.targetId,i=e.It.count,r=this.Ht(t);if(r){const a=r.target;if(Up(a))if(0===i){const u=new kt(a.path);this.Kt(t,u,ni.newNoDocument(u,an.min()))}else pn(1===i);else this.Jt(t)!==i&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((a,u)=>{const f=this.Ht(u);if(f){if(a.current&&Up(f.target)){const _=new kt(f.target.path);null!==this.$t.get(_)||this.Xt(u,_)||this.Kt(u,_,ni.newNoDocument(_,e))}a.vt&&(t.set(u,a.St()),a.Dt())}});let i=Tn();this.Bt.forEach((a,u)=>{let f=!0;u.forEachWhile(_=>{const w=this.Ht(_);return!w||2===w.purpose||(f=!1,!1)}),f&&(i=i.add(a))}),this.$t.forEach((a,u)=>u.setReadTime(e));const r=new W_(e,t,this.Lt,this.$t,i);return this.$t=Ur(),this.Bt=kI(),this.Lt=new Yn(An),r}qt(e,t){if(!this.jt(e))return;const i=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,i),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,i){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),i&&(this.$t=this.$t.insert(t,i))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Ot.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new PI,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Yn(An),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||Et("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Ot.te(e)}Wt(e){this.Ft.set(e,new PI),this.Ot.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Ot.getRemoteKeysForTarget(e).has(t)}}function kI(){return new Ei(kt.comparator)}function RI(){return new Ei(kt.comparator)}const Ak={asc:"ASCENDING",desc:"DESCENDING"},Sk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class s{constructor(e,t){this.databaseId=e,this.dt=t}}function o(n,e){return n.dt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function c(n,e){return n.dt?e.toBase64():e.toUint8Array()}function d(n,e){return o(n,e.toTimestamp())}function h(n){return pn(!!n),an.fromTimestamp(function(e){const t=id(e);return new pi(t.seconds,t.nanos)}(n))}function g(n,e){return(t=n,new Pn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function v(n){const e=Pn.fromString(n);return pn(Y_(e)),e}function E(n,e){return g(n.databaseId,e.path)}function T(n,e){const t=v(e);if(t.get(1)!==n.databaseId.projectId)throw new vt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new vt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new kt(He(t))}function H(n,e){return g(n.databaseId,e)}function de(n){const e=v(n);return 4===e.length?Pn.emptyPath():He(e)}function De(n){return new Pn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function He(n){return pn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function qe(n,e,t){return{name:E(n,e),fields:t.value.mapValue.fields}}function ht(n,e,t){const i=T(n,e.name),r=h(e.updateTime),a=new wr({mapValue:{fields:e.fields}}),u=ni.newFoundDocument(i,r,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Bt(n,e){let t;if(e instanceof Yp)t={update:qe(n,e.key,e.value)};else if(e instanceof Sh)t={delete:E(n,e.key)};else if(e instanceof Rc)t={update:qe(n,e.key,e.data),updateMask:F0(e.fieldMask)};else{if(!(e instanceof T0))return Gt();t={verify:E(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof Wp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof bh)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof wh)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ch)return{fieldPath:a.field.canonicalString(),increment:u._t};throw Gt()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:d(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Gt()),t;var r}function ln(n,e){const t=e.currentDocument?void 0!==(r=e.currentDocument).updateTime?gi.updateTime(h(r.updateTime)):void 0!==r.exists?gi.exists(r.exists):gi.none():gi.none(),i=e.updateTransforms?e.updateTransforms.map(r=>function(a,u){let f=null;"setToServerValue"in u?(pn("REQUEST_TIME"===u.setToServerValue),f=new Wp):"appendMissingElements"in u?f=new bh(u.appendMissingElements.values||[]):"removeAllFromArray"in u?f=new wh(u.removeAllFromArray.values||[]):"increment"in u?f=new Ch(a,u.increment):Gt();const _=Ci.fromServerFormat(u.fieldPath);return new Kp(_,f)}(n,r)):[];var r;if(e.update){const r=T(n,e.update.name),a=new wr({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new so((e.updateMask.fieldPaths||[]).map(w=>Ci.fromServerFormat(w)));return new Rc(r,a,u,t,i)}return new Yp(r,a,t,i)}if(e.delete){const r=T(n,e.delete);return new Sh(r,t)}if(e.verify){const r=T(n,e.verify);return new T0(r,t)}return Gt()}function nn(n,e){return{documents:[H(n,e.path)]}}function Mn(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=H(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=H(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const w=_.map(k=>function(q){if("=="===q.op){if(_0(q.value))return{unaryFilter:{field:Fc(q.field),op:"IS_NAN"}};if(uA(q.value))return{unaryFilter:{field:Fc(q.field),op:"IS_NULL"}}}else if("!="===q.op){if(_0(q.value))return{unaryFilter:{field:Fc(q.field),op:"IS_NOT_NAN"}};if(uA(q.value))return{unaryFilter:{field:Fc(q.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fc(q.field),op:k0(q.op),value:q.value}}}(k));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(e.filters);r&&(t.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:Fc((k=w).field),direction:P0(k.dir)};var k})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(w=e.limit,n.dt||Fp(w)?w:{value:w});var w,f,_;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function ii(n){let e=de(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){pn(1===i);const k=t.from[0];k.allDescendants?r=k.collectionId:e=e.child(k.collectionId)}let a=[];t.where&&(a=K_(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(k=>{return new yh(Lc((q=k).field),function(Se){switch(Se){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction));var q}));let f=null;t.limit&&(f=function(k){let q;return q="object"==typeof k?k.value:k,Fp(q)?null:q}(t.limit));let _=null;var k;t.startAt&&(_=new Pc((k=t.startAt).values||[],!!k.before));let w=null;return t.endAt&&(w=function(k){return new Pc(k.values||[],!k.before)}(t.endAt)),gA(e,r,u,a,f,"F",_,w)}function K_(n){return n?void 0!==n.unaryFilter?[O0(n)]:void 0!==n.fieldFilter?[R0(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>K_(e)).reduce((e,t)=>e.concat(t)):Gt():[]}function P0(n){return Ak[n]}function k0(n){return Sk[n]}function Fc(n){return{fieldPath:n.canonicalString()}}function Lc(n){return Ci.fromServerFormat(n.fieldPath)}function R0(n){return Cr.create(Lc(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Gt()}}(n.fieldFilter.op),n.fieldFilter.value)}function O0(n){switch(n.unaryFilter.op){case"IS_NAN":const e=Lc(n.unaryFilter.field);return Cr.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=Lc(n.unaryFilter.field);return Cr.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Lc(n.unaryFilter.field);return Cr.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Lc(n.unaryFilter.field);return Cr.create(r,"!=",{nullValue:"NULL_VALUE"});default:return Gt()}}function F0(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Y_(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Fs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Dk(e)),e=BL(n.get(t),e);return Dk(e)}function BL(n,e){let t=e;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function Dk(n){return n+"\x01\x01"}function Nc(n){const e=n.length;if(pn(e>=2),2===e)return pn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Pn.emptyPath();const t=e-2,i=[];let r="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&Gt(),n.charAt(u+1)){case"\x01":const f=n.substring(a,u);let _;0===r.length?_=f:(r+=f,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:Gt()}a=u+2}return new Pn(i)}const Tk=["userId","batchId"];function DA(n,e){return[n,Fs(e)]}function Ik(n,e,t){return[n,Fs(e),t]}const UL={},jL=["prefixPath","collectionGroup","readTime","documentId"],HL=["prefixPath","collectionGroup","documentId"],GL=["collectionGroup","readTime","prefixPath","documentId"],zL=["canonicalId","targetId"],$L=["targetId","path"],WL=["path","targetId"],qL=["collectionId","parent"],KL=["indexId","uid"],YL=["uid","sequenceNumber"],ZL=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],XL=["indexId","uid","orderedDocumentKey"],QL=["userId","collectionPath","documentId"],JL=["userId","collectionPath","largestBatchId"],eN=["userId","collectionGroup","largestBatchId"],xk=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tN=[...xk,"documentOverlays"],Mk=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Pk=Mk,nN=[...Pk,"indexConfiguration","indexState","indexEntries"];class OI extends rA{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function jr(n,e){const t=Lt(n);return zo.N(t.ee,e)}class FI{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(e.key)&&S0(a,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=cd(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=cd(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=AA();return this.mutations.forEach(r=>{const a=e.get(r.key),u=a.overlayedDocument;let f=this.applyToLocalView(u,a.mutatedFields);f=t.has(r.key)?null:f;const _=bA(u,f);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(an.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Tn())}isEqual(e){return this.batchId===e.batchId&&td(this.mutations,e.mutations,(t,i)=>AI(t,i))&&td(this.baseMutations,e.baseMutations,(t,i)=>AI(t,i))}}class LI{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){pn(e.mutations.length===i.length);let r=Ck;const a=e.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new LI(e,t,i,r)}}class NI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Th{constructor(e,t,i,r,a=an.min(),u=an.min(),f=ur.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f}withSequenceNumber(e){return new Th(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Th(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Th(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class kk{constructor(e){this.ne=e}}function Rk(n,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:TA(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document={name:E(r=n.ne,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:o(r,a.version.toTimestamp())};else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:Zp(e.version)};else{if(!e.isUnknownDocument())return Gt();i.unknownDocument={path:t.path.toArray(),version:Zp(e.version)}}var r,a;return i}function TA(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Zp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Xp(n){const e=new pi(n.seconds,n.nanoseconds);return an.fromTimestamp(e)}function Qp(n,e){const t=(e.baseMutations||[]).map(a=>ln(n.ne,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const i=e.mutations.map(a=>ln(n.ne,a)),r=pi.fromMillis(e.localWriteTimeMs);return new FI(e.batchId,r,t,i)}function L0(n){const e=Xp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Xp(n.lastLimboFreeSnapshotVersion):an.min();let i;var r;return void 0!==n.query.documents?(pn(1===(r=n.query).documents.length),i=as(ad(de(r.documents[0])))):i=as(ii(n.query)),new Th(i,n.targetId,0,n.lastListenSequenceNumber,e,t,ur.fromBase64String(n.resumeToken))}function Ok(n,e){const t=Zp(e.snapshotVersion),i=Zp(e.lastLimboFreeSnapshotVersion);let r;r=Up(e.target)?nn(n.ne,e.target):Mn(n.ne,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:xc(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function VI(n){const e=ii({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Gp(e,e.limit,"L"):e}function BI(n,e){return new NI(e.largestBatchId,ln(n.ne,e.overlayMutation))}function Fk(n,e){const t=e.path.lastSegment();return[n,Fs(e.path.popLast()),t]}function Lk(n,e,t,i){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Zp(i.readTime),documentKey:Fs(i.documentKey.path),largestBatchId:i.largestBatchId}}class rN{getBundleMetadata(e,t){return Nk(e).get(t).next(i=>{if(i)return{id:(r=i).bundleId,createTime:Xp(r.createTime),version:r.version};var r})}saveBundleMetadata(e,t){return Nk(e).put({bundleId:(i=t).id,createTime:Zp(h(i.createTime)),version:i.version});var i}getNamedQuery(e,t){return Vk(e).get(t).next(i=>{if(i)return{name:(r=i).name,query:VI(r.bundledQuery),readTime:Xp(r.readTime)};var r})}saveNamedQuery(e,t){return Vk(e).put({name:(i=t).name,readTime:Zp(h(i.readTime)),bundledQuery:i.bundledQuery});var i}}function Nk(n){return jr(n,"bundles")}function Vk(n){return jr(n,"namedQueries")}class IA{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new IA(e,t.uid||"")}getOverlay(e,t){return N0(e).get(Fk(this.userId,t)).next(i=>i?BI(this.wt,i):null)}getOverlays(e,t){const i=Pa();return et.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){const r=[];return i.forEach((a,u)=>{const f=new NI(t,u);r.push(this.ie(e,f))}),et.waitFor(r)}removeOverlaysForBatchId(e,t,i){const r=new Set;t.forEach(u=>r.add(Fs(u.getCollectionPath())));const a=[];return r.forEach(u=>{const f=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(N0(e).W("collectionPathOverlayIndex",f))}),et.waitFor(a)}getOverlaysForCollection(e,t,i){const r=Pa(),a=Fs(t),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return N0(e).K("collectionPathOverlayIndex",u).next(f=>{for(const _ of f){const w=BI(this.wt,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(e,t,i,r){const a=Pa();let u;const f=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return N0(e).J({index:"collectionGroupOverlayIndex",range:f},(_,w,k)=>{const q=BI(this.wt,w);a.size()<r||q.largestBatchId===u?(a.set(q.getKey(),q),u=q.largestBatchId):k.done()}).next(()=>a)}ie(e,t){return N0(e).put(function(i,r,a){const[u,f,_]=Fk(r,a.mutation.key);return{userId:r,collectionPath:f,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Bt(i.ne,a.mutation)}}(this.wt,this.userId,t))}}function N0(n){return jr(n,"documentOverlays")}class Jp{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Ai(e.integerValue));else if("doubleValue"in e){const i=Ai(e.doubleValue);isNaN(i)?this.ce(t,13):(this.ce(t,15),_h(i)?t.ae(0):t.ae(i))}else if("timestampValue"in e){const i=e.timestampValue;this.ce(t,20),"string"==typeof i?t.he(i):(t.he(`${i.seconds||""}`),t.ae(i.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Ia(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.ce(t,45),t.ae(i.latitude||0),t.ae(i.longitude||0)}else"mapValue"in e?oo(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):Gt()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const i=e.fields||{};this.ce(t,55);for(const r of Object.keys(i))this.le(r,t),this.oe(i[r],t)}me(e,t){const i=e.values||[];this.ce(t,50);for(const r of i)this.oe(r,t)}_e(e,t){this.ce(t,37),kt.fromName(e).path.forEach(i=>{this.ce(t,60),this.ge(i,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function sN(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function Bk(n){const e=64-function(t){let i=0;for(let r=0;r<8;++r){const a=sN(255&t[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(e/8)}Jp.ye=new Jp;class oN{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ie(i.value),i=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ae(i.value),i=t.next();this.Re()}be(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=t.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=t.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(e){const t=this.Ve(e),i=Bk(t);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=255&t[r]}De(e){const t=this.Ve(e),i=Bk(t);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=t.length-i;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Me(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(e),i=0!=(128&t[0]);t[0]^=i?255:128;for(let r=1;r<t.length;++r)t[r]^=i?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class aN{constructor(e){this.Oe=e}de(e){this.Oe.pe(e)}he(e){this.Oe.be(e)}ae(e){this.Oe.ve(e)}ue(){this.Oe.Ce()}}class lN{constructor(e){this.Oe=e}de(e){this.Oe.Ee(e)}he(e){this.Oe.Pe(e)}ae(e){this.Oe.De(e)}ue(){this.Oe.Ne()}}class V0{constructor(){this.Oe=new oN,this.Fe=new aN(this.Oe),this.$e=new lN(this.Oe)}seed(e){this.Oe.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class eg{constructor(e,t,i,r){this.indexId=e,this.documentKey=t,this.arrayValue=i,this.directionalValue=r}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,i=new Uint8Array(t);return i.set(this.directionalValue,0),t!==e?i.set([0],this.directionalValue.length):++i[i.length-1],new eg(this.indexId,this.documentKey,this.arrayValue,i)}}function tg(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Uk(n.arrayValue,e.arrayValue),0!==t?t:(t=Uk(n.directionalValue,e.directionalValue),0!==t?t:kt.comparator(n.documentKey,e.documentKey)))}function Uk(n,e){for(let t=0;t<n.length&&t<e.length;++t){const i=n[t]-e[t];if(0!==i)return i}return n.length-e.length}class cN{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const i=t;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(e){const t=iA(e);if(void 0!==t&&!this.Qe(t))return!1;const i=Ac(e);let r=0,a=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const u=i[r];if(!this.je(this.Ke,u)||!this.We(this.Ue[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Ue.length||!this.We(this.Ue[a++],u))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class uN{constructor(){this.ze=new UI}addToCollectionParentIndex(e,t){return this.ze.add(t),et.resolve()}getCollectionParents(e,t){return et.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return et.resolve()}deleteFieldIndex(e,t){return et.resolve()}getDocumentsMatchingTarget(e,t){return et.resolve(null)}getIndexType(e,t){return et.resolve(0)}getFieldIndexes(e,t){return et.resolve([])}getNextCollectionGroupToUpdate(e){return et.resolve(null)}getMinOffset(e,t){return et.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,t){return et.resolve(ro.min())}updateCollectionGroup(e,t,i){return et.resolve()}updateIndexEntries(e,t){return et.resolve()}}class UI{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new Yn(Pn.comparator),a=!r.has(i);return this.index[t]=r.add(i),a}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new Yn(Pn.comparator)).toArray()}}const xA=new Uint8Array(0);class dN{constructor(e,t){this.user=e,this.databaseId=t,this.He=new UI,this.Je=new Oc(i=>xc(i),(i,r)=>Bp(i,r)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const i=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const a={collectionId:i,parent:Fs(r)};return jk(e).put(a)}return et.resolve()}getCollectionParents(e,t){const i=[],r=IDBKeyRange.bound([t,""],[tA(t),""],!1,!0);return jk(e).K(r).next(a=>{for(const u of a){if(u.collectionId!==t)break;i.push(Nc(u.parent))}return i})}addFieldIndex(e,t){const i=MA(e),r={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var u;delete r.indexId;const a=i.add(r);if(t.indexState){const u=U0(e);return a.next(f=>{u.put(Lk(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const i=MA(e),r=U0(e),a=B0(e);return i.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const i=B0(e);let r=!0;const a=new Map;return et.forEach(this.Ye(t),u=>this.Xe(e,u).next(f=>{r&&(r=!!f),a.set(u,f)})).next(()=>{if(r){let u=Tn();const f=[];return et.forEach(a,(_,w)=>{var k;Et("IndexedDbIndexManager",`Using index ${k=_,`id=${k.indexId}|cg=${k.collectionGroup}|f=${k.fields.map(on=>`${on.fieldPath}:${on.kind}`).join(",")}`} to execute ${xc(t)}`);const q=function(on,qt){const hn=iA(qt);if(void 0===hn)return null;for(const yn of jp(on,hn.fieldPath))switch(yn.op){case"array-contains-any":return yn.value.arrayValue.values||[];case"array-contains":return[yn.value]}return null}(w,_),Se=function(on,qt){const hn=new Map;for(const yn of Ac(qt))for(const Nn of jp(on,yn.fieldPath))switch(Nn.op){case"==":case"in":hn.set(yn.fieldPath.canonicalString(),Nn.value);break;case"not-in":case"!=":return hn.set(yn.fieldPath.canonicalString(),Nn.value),Array.from(hn.values())}return null}(w,_),Fe=function(on,qt){const hn=[];let yn=!0;for(const Nn of Ac(qt)){const Vs=0===Nn.kind?fA(on,Nn.fieldPath,on.startAt):v0(on,Nn.fieldPath,on.startAt);hn.push(Vs.value),yn&&(yn=Vs.inclusive)}return new Pc(hn,yn)}(w,_),Ve=function(on,qt){const hn=[];let yn=!0;for(const Nn of Ac(qt)){const Vs=0===Nn.kind?v0(on,Nn.fieldPath,on.endAt):fA(on,Nn.fieldPath,on.endAt);hn.push(Vs.value),yn&&(yn=Vs.inclusive)}return new Pc(hn,yn)}(w,_),We=this.Ze(_,w,Fe),ut=this.Ze(_,w,Ve),Nt=this.tn(_,w,Se),zt=this.en(_.indexId,q,We,Fe.inclusive,ut,Ve.inclusive,Nt);return et.forEach(zt,on=>i.j(on,t.limit).next(qt=>{qt.forEach(hn=>{const yn=kt.fromSegments(hn.documentKey);u.has(yn)||(u=u.add(yn),f.push(yn))})}))}).next(()=>f)}return et.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,i,r,a,u,f){const _=(null!=t?t.length:1)*Math.max(i.length,a.length),w=_/(null!=t?t.length:1),k=[];for(let q=0;q<_;++q){const Se=t?this.nn(t[q/w]):xA,Fe=this.sn(e,Se,i[q%w],r),Ve=this.rn(e,Se,a[q%w],u),We=f.map(ut=>this.sn(e,Se,ut,!0));k.push(...this.createRange(Fe,Ve,We))}return k}sn(e,t,i,r){const a=new eg(e,kt.empty(),t,i);return r?a:a.Le()}rn(e,t,i,r){const a=new eg(e,kt.empty(),t,i);return r?a.Le():a}Xe(e,t){const i=new cN(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(a=>{let u=null;for(const f of a)i.Ge(f)&&(!u||f.fields.length>u.fields.length)&&(u=f);return u})}getIndexType(e,t){let i=2;return et.forEach(this.Ye(t),r=>this.Xe(e,r).next(a=>{a?0!==i&&a.fields.length<function(u){let f=new Yn(Ci.comparator),_=!1;for(const w of u.filters){const k=w;k.field.isKeyField()||("array-contains"===k.op||"array-contains-any"===k.op?_=!0:f=f.add(k.field))}for(const w of u.orderBy)w.field.isKeyField()||(f=f.add(w.field));return f.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(e,t){const i=new V0;for(const r of Ac(e)){const a=t.data.field(r.fieldPath);if(null==a)return null;const u=i.Be(r.kind);Jp.ye.re(a,u)}return i.Me()}nn(e){const t=new V0;return Jp.ye.re(e,t.Be(0)),t.Me()}un(e,t){const i=new V0;return Jp.ye.re(od(this.databaseId,t),i.Be(function(r){const a=Ac(r);return 0===a.length?0:a[a.length-1].kind}(e))),i.Me()}tn(e,t,i){if(null===i)return[];let r=[];r.push(new V0);let a=0;for(const u of Ac(e)){const f=i[a++];for(const _ of r)if(this.cn(t,u.fieldPath)&&F_(f))r=this.an(r,u,f);else{const w=_.Be(u.kind);Jp.ye.re(f,w)}}return this.hn(r)}Ze(e,t,i){return this.tn(e,t,i.position)}hn(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].Me();return t}an(e,t,i){const r=[...e],a=[];for(const u of i.arrayValue.values||[])for(const f of r){const _=new V0;_.seed(f.Me()),Jp.ye.re(u,_.Be(t.kind)),a.push(_)}return a}cn(e,t){return!!e.filters.find(i=>i instanceof Cr&&i.field.isEqual(t)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(e,t){const i=MA(e),r=U0(e);return(t?i.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):i.K()).next(a=>{const u=[];return et.forEach(a,f=>r.get([f.indexId,this.uid]).next(_=>{u.push(function(w,k){const q=k?new kp(k.sequenceNumber,new ro(Xp(k.readTime),new kt(Nc(k.documentKey)),k.largestBatchId)):kp.empty(),Se=w.fields.map(([Fe,Ve])=>new Pp(Ci.fromServerFormat(Fe),Ve));return new ph(w.indexId,w.collectionGroup,Se,q)}(f,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:An(i.collectionGroup,r.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,i){const r=MA(e),a=U0(e);return this.ln(e).next(u=>r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>et.forEach(f,_=>a.put(Lk(_.indexId,this.user,u,i)))))}updateIndexEntries(e,t){const i=new Map;return et.forEach(t,(r,a)=>{const u=i.get(r.collectionGroup);return(u?et.resolve(u):this.getFieldIndexes(e,r.collectionGroup)).next(f=>(i.set(r.collectionGroup,f),et.forEach(f,_=>this.fn(e,r,_).next(w=>{const k=this.dn(a,_);return w.isEqual(k)?et.resolve():this._n(e,a,_,w,k)}))))})}wn(e,t,i,r){return B0(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,t.key),documentKey:t.key.path.toArray()})}mn(e,t,i,r){return B0(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,t.key),t.key.path.toArray()])}fn(e,t,i){const r=B0(e);let a=new Yn(tg);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,t)])},(u,f)=>{a=a.add(new eg(i.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>a)}dn(e,t){let i=new Yn(tg);const r=this.on(t,e);if(null==r)return i;const a=iA(t);if(null!=a){const u=e.data.field(a.fieldPath);if(F_(u))for(const f of u.arrayValue.values||[])i=i.add(new eg(t.indexId,e.key,this.nn(f),r))}else i=i.add(new eg(t.indexId,e.key,xA,r));return i}_n(e,t,i,r,a){Et("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(f,_,w,k,q){const Se=f.getIterator(),Fe=_.getIterator();let Ve=Op(Se),We=Op(Fe);for(;Ve||We;){let ut=!1,Nt=!1;if(Ve&&We){const zt=w(Ve,We);zt<0?Nt=!0:zt>0&&(ut=!0)}else null!=Ve?Nt=!0:ut=!0;ut?(k(We),We=Op(Fe)):Nt?(q(Ve),Ve=Op(Se)):(Ve=Op(Se),We=Op(Fe))}}(r,a,tg,f=>{u.push(this.wn(e,t,i,f))},f=>{u.push(this.mn(e,t,i,f))}),et.waitFor(u)}ln(e){let t=1;return U0(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),t=r.sequenceNumber+1}).next(()=>t)}createRange(e,t,i){i=i.sort((u,f)=>tg(u,f)).filter((u,f,_)=>!f||0!==tg(u,_[f-1]));const r=[];r.push(e);for(const u of i){const f=tg(u,e),_=tg(u,t);if(0===f)r[0]=e.Le();else if(f>0&&_<0)r.push(u),r.push(u.Le());else if(_>0)break}r.push(t);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,xA,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,xA,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Hk)}getMinOffset(e,t){return et.mapArray(this.Ye(t),i=>this.Xe(e,i).next(r=>r||Gt())).next(Hk)}}function jk(n){return jr(n,"collectionParents")}function B0(n){return jr(n,"indexEntries")}function MA(n){return jr(n,"indexConfiguration")}function U0(n){return jr(n,"indexState")}function Hk(n){pn(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;u0(r,e)<0&&(e=r),t<r.largestBatchId&&(t=r.largestBatchId)}return new ro(e.readTime,e.documentKey,t)}const Gk={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ao{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new ao(e,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function zk(n,e,t){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let f=0;const _=i.J({range:u},(k,q,Se)=>(f++,Se.delete()));a.push(_.next(()=>{pn(1===f)}));const w=[];for(const k of t.mutations){const q=Ik(e,k.key.path,t.batchId);a.push(r.delete(q)),w.push(k.key)}return et.waitFor(a).next(()=>w)}function PA(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw Gt();e=n.noDocument}return JSON.stringify(e).length}ao.DEFAULT_COLLECTION_PERCENTILE=10,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ao.DEFAULT=new ao(41943040,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ao.DISABLED=new ao(-1,0,0);class kA{constructor(e,t,i,r){this.userId=e,this.wt=t,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(e,t,i,r){pn(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new kA(a,t,i,r)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ih(e).J({index:"userMutationsIndex",range:i},(r,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,i,r){const a=Z_(e),u=Ih(e);return u.add({}).next(f=>{pn("number"==typeof f);const _=new FI(f,t,i,r),w=function(Se,Fe,Ve){const We=Ve.baseMutations.map(Nt=>Bt(Se.ne,Nt)),ut=Ve.mutations.map(Nt=>Bt(Se.ne,Nt));return{userId:Fe,batchId:Ve.batchId,localWriteTimeMs:Ve.localWriteTime.toMillis(),baseMutations:We,mutations:ut}}(this.wt,this.userId,_),k=[];let q=new Yn((Se,Fe)=>An(Se.canonicalString(),Fe.canonicalString()));for(const Se of r){const Fe=Ik(this.userId,Se.key.path,f);q=q.add(Se.key.path.popLast()),k.push(u.put(w)),k.push(a.put(Fe,UL))}return q.forEach(Se=>{k.push(this.indexManager.addToCollectionParentIndex(e,Se))}),e.addOnCommittedListener(()=>{this.gn[f]=_.keys()}),et.waitFor(k).next(()=>_)})}lookupMutationBatch(e,t){return Ih(e).get(t).next(i=>i?(pn(i.userId===this.userId),Qp(this.wt,i)):null)}yn(e,t){return this.gn[t]?et.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(i=>{if(i){const r=i.keys();return this.gn[t]=r,r}return null})}getNextMutationBatchAfterBatchId(e,t){const i=t+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return Ih(e).J({index:"userMutationsIndex",range:r},(u,f,_)=>{f.userId===this.userId&&(pn(f.batchId>=i),a=Qp(this.wt,f)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return Ih(e).J({index:"userMutationsIndex",range:t,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ih(e).K("userMutationsIndex",t).next(i=>i.map(r=>Qp(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=DA(this.userId,t.path),r=IDBKeyRange.lowerBound(i),a=[];return Z_(e).J({range:r},(u,f,_)=>{const[w,k,q]=u,Se=Nc(k);if(w===this.userId&&t.path.isEqual(Se))return Ih(e).get(q).next(Fe=>{if(!Fe)throw Gt();pn(Fe.userId===this.userId),a.push(Qp(this.wt,Fe))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Yn(An);const r=[];return t.forEach(a=>{const u=DA(this.userId,a.path),f=IDBKeyRange.lowerBound(u),_=Z_(e).J({range:f},(w,k,q)=>{const[Se,Fe,Ve]=w,We=Nc(Fe);Se===this.userId&&a.path.isEqual(We)?i=i.add(Ve):q.done()});r.push(_)}),et.waitFor(r).next(()=>this.pn(e,i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1,a=DA(this.userId,i),u=IDBKeyRange.lowerBound(a);let f=new Yn(An);return Z_(e).J({range:u},(_,w,k)=>{const[q,Se,Fe]=_,Ve=Nc(Se);q===this.userId&&i.isPrefixOf(Ve)?Ve.length===r&&(f=f.add(Fe)):k.done()}).next(()=>this.pn(e,f))}pn(e,t){const i=[],r=[];return t.forEach(a=>{r.push(Ih(e).get(a).next(u=>{if(null===u)throw Gt();pn(u.userId===this.userId),i.push(Qp(this.wt,u))}))}),et.waitFor(r).next(()=>i)}removeMutationBatch(e,t){return zk(e.ee,this.userId,t).next(i=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),et.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(e,r))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return et.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return Z_(e).J({range:i},(a,u,f)=>{if(a[0]===this.userId){const _=Nc(a[1]);r.push(_)}else f.done()}).next(()=>{pn(0===r.length)})})}containsKey(e,t){return $k(e,this.userId,t)}Tn(e){return Wk(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function $k(n,e,t){const i=DA(e,t.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return Z_(n).J({range:a,H:!0},(f,_,w)=>{const[k,q,Se]=f;k===e&&q===r&&(u=!0),w.done()}).next(()=>u)}function Ih(n){return jr(n,"mutations")}function Z_(n){return jr(n,"documentMutations")}function Wk(n){return jr(n,"mutationQueues")}class ng{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new ng(0)}static Rn(){return new ng(-1)}}class hN{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const i=new ng(t.highestTargetId);return t.highestTargetId=i.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(t=>an.fromTimestamp(new pi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,i){return this.bn(e).next(r=>(r.highestListenSequenceNumber=t,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Pn(e,r)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(i=>(i.targetCount+=1,this.Vn(t,i),this.Pn(e,i))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>X_(e).delete(t.targetId)).next(()=>this.bn(e)).next(i=>(pn(i.targetCount>0),i.targetCount-=1,this.Pn(e,i)))}removeTargets(e,t,i){let r=0;const a=[];return X_(e).J((u,f)=>{const _=L0(f);_.sequenceNumber<=t&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(e,_)))}).next(()=>et.waitFor(a)).next(()=>r)}forEachTarget(e,t){return X_(e).J((i,r)=>{const a=L0(r);t(a)})}bn(e){return qk(e).get("targetGlobalKey").next(t=>(pn(null!==t),t))}Pn(e,t){return qk(e).put("targetGlobalKey",t)}vn(e,t){return X_(e).put(Ok(this.wt,t))}Vn(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.bn(e).next(t=>t.targetCount)}getTargetData(e,t){const i=xc(t),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return X_(e).J({range:r,index:"queryTargetsIndex"},(u,f,_)=>{const w=L0(f);Bp(t,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(e,t,i){const r=[],a=xh(e);return t.forEach(u=>{const f=Fs(u.path);r.push(a.put({targetId:i,path:f})),r.push(this.referenceDelegate.addReference(e,i,u))}),et.waitFor(r)}removeMatchingKeys(e,t,i){const r=xh(e);return et.forEach(t,a=>{const u=Fs(a.path);return et.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(e,i,a)])})}removeMatchingKeysForTargetId(e,t){const i=xh(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),r=xh(e);let a=Tn();return r.J({range:i,H:!0},(u,f,_)=>{const w=Nc(u[1]),k=new kt(w);a=a.add(k)}).next(()=>a)}containsKey(e,t){const i=Fs(t.path),r=IDBKeyRange.bound([i],[tA(i)],!1,!0);let a=0;return xh(e).J({index:"documentTargetsIndex",H:!0,range:r},([u,f],_,w)=>{0!==u&&(a++,w.done())}).next(()=>a>0)}te(e,t){return X_(e).get(t).next(i=>i?L0(i):null)}}function X_(n){return jr(n,"targets")}function qk(n){return jr(n,"targetGlobal")}function xh(n){return jr(n,"targetDocuments")}function Kk([n,e],[t,i]){const r=An(n,t);return 0===r?An(e,i):r}class fN{constructor(e){this.Sn=e,this.buffer=new Yn(Kk),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();Kk(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pN{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;Et("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,lt.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(i){Dc(i)?Et("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield Sc(i)}yield t.kn(3e5)}))}}class gN{constructor(e,t){this.Mn=e,this.params=t}calculateTargetCount(e,t){return this.Mn.On(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(0===t)return et.resolve(os.ot);const i=new fN(t);return this.Mn.forEachTarget(e,r=>i.xn(r.sequenceNumber)).next(()=>this.Mn.Fn(e,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.Mn.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Mn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(Gk)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(Et("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gk):this.$n(e,t))}getCacheSize(e){return this.Mn.getCacheSize(e)}$n(e,t){let i,r,a,u,f,_,w;const k=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(q=>(q>this.params.maximumSequenceNumbersToCollect?(Et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${q}`),r=this.params.maximumSequenceNumbersToCollect):r=q,u=Date.now(),this.nthSequenceNumber(e,r))).next(q=>(i=q,f=Date.now(),this.removeTargets(e,i,t))).next(q=>(a=q,_=Date.now(),this.removeOrphanedDocuments(e,i))).next(q=>(w=Date.now(),a0()<=Bo.in.DEBUG&&Et("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-k}ms\n\tDetermined least recently used ${r} in `+(f-u)+`ms\n\tRemoved ${a} targets in `+(_-f)+`ms\n\tRemoved ${q} documents in `+(w-_)+`ms\nTotal Duration: ${w-k}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:q})))}}class mN{constructor(e,t){this.db=e,this.garbageCollector=new gN(this,t)}On(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(i=>t.next(r=>i+r))}Bn(e){let t=0;return this.Fn(e,i=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(i,r)=>t(r))}addReference(e,t,i){return RA(e,i)}removeReference(e,t,i){return RA(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return RA(e,t)}Un(e,t){return function(i,r){let a=!1;return Wk(i).Y(u=>$k(i,u,r).next(f=>(f&&(a=!0),et.resolve(!f)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Ln(e,(u,f)=>{if(f<=t){const _=this.Un(e,u).next(w=>{if(!w)return a++,i.getEntry(e,u).next(()=>(i.removeEntry(u,an.min()),xh(e).delete([0,Fs(u.path)])))});r.push(_)}}).next(()=>et.waitFor(r)).next(()=>i.apply(e)).next(()=>a)}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return RA(e,t)}Ln(e,t){const i=xh(e);let r,a=os.ot;return i.J({index:"documentTargetsIndex"},([u,f],{path:_,sequenceNumber:w})=>{0===u?(a!==os.ot&&t(new kt(Nc(r)),a),a=w,r=_):a=os.ot}).next(()=>{a!==os.ot&&t(new kt(Nc(r)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function RA(n,e){return xh(n).put((i=n.currentSequenceNumber,{targetId:0,path:Fs(e.path),sequenceNumber:i}));var i}class Yk{constructor(){this.changes=new Oc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?et.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class _N{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return ig(e).put(i)}removeEntry(e,t,i){return ig(e).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],TA(a),u[u.length-1]]}(t,i))}updateMetadata(e,t){return this.getMetadata(e).next(i=>(i.byteSize+=t,this.qn(e,i)))}getEntry(e,t){let i=ni.newInvalidDocument(t);return ig(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(j0(t))},(r,a)=>{i=this.Kn(t,a)}).next(()=>i)}Gn(e,t){let i={size:0,document:ni.newInvalidDocument(t)};return ig(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(j0(t))},(r,a)=>{i={document:this.Kn(t,a),size:PA(a)}}).next(()=>i)}getEntries(e,t){let i=Ur();return this.Qn(e,t,(r,a)=>{const u=this.Kn(r,a);i=i.insert(r,u)}).next(()=>i)}jn(e,t){let i=Ur(),r=new Ei(kt.comparator);return this.Qn(e,t,(a,u)=>{const f=this.Kn(a,u);i=i.insert(a,f),r=r.insert(a,PA(u))}).next(()=>({documents:i,Wn:r}))}Qn(e,t,i){if(t.isEmpty())return et.resolve();let r=new Yn(Jk);t.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(j0(r.first()),j0(r.last())),u=r.getIterator();let f=u.getNext();return ig(e).J({index:"documentKeyIndex",range:a},(_,w,k)=>{const q=kt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;f&&Jk(f,q)<0;)i(f,null),f=u.getNext();f&&f.isEqual(q)&&(i(f,w),f=u.hasNext()?u.getNext():null),f?k.q(j0(f)):k.done()}).next(()=>{for(;f;)i(f,null),f=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,i){const r=[t.popLast().toArray(),t.lastSegment(),TA(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ig(e).K(IDBKeyRange.bound(r,a,!0)).next(u=>{let f=Ur();for(const _ of u){const w=this.Kn(kt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);f=f.insert(w.key,w)}return f})}getAllFromCollectionGroup(e,t,i,r){let a=Ur();const u=Qk(t,i),f=Qk(t,ro.max());return ig(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,f,!0)},(_,w,k)=>{const q=this.Kn(kt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(q.key,q),a.size===r&&k.done()}).next(()=>a)}newChangeBuffer(e){return new yN(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Xk(e).get("remoteDocumentGlobalKey").next(t=>(pn(!!t),t))}qn(e,t){return Xk(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const i=function iN(n,e){let t;if(e.document)t=ht(n.ne,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=kt.fromSegments(e.noDocument.path),r=Xp(e.noDocument.readTime);t=ni.newNoDocument(i,r),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return Gt();{const i=kt.fromSegments(e.unknownDocument.path),r=Xp(e.unknownDocument.version);t=ni.newUnknownDocument(i,r)}}return e.readTime&&t.setReadTime(function(i){const r=new pi(i[0],i[1]);return an.fromTimestamp(r)}(e.readTime)),t}(this.wt,t);if(!i.isNoDocument()||!i.version.isEqual(an.min()))return i}return ni.newInvalidDocument(e)}}function Zk(n){return new _N(n)}class yN extends Yk{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Oc(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(e){const t=[];let i=0,r=new Yn((a,u)=>An(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const f=this.Hn.get(a);if(t.push(this.zn.removeEntry(e,a,f.readTime)),u.isValidDocument()){const _=Rk(this.zn.wt,u);r=r.add(a.path.popLast()),i+=PA(_)-f.size,t.push(this.zn.addEntry(e,a,_))}else if(i-=f.size,this.trackRemovals){const _=Rk(this.zn.wt,u.convertToNoDocument(an.min()));t.push(this.zn.addEntry(e,a,_))}}),r.forEach(a=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.zn.updateMetadata(e,i)),et.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(i=>(this.Hn.set(t,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:i,Wn:r})=>(r.forEach((a,u)=>{this.Hn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function Xk(n){return jr(n,"remoteDocumentGlobal")}function ig(n){return jr(n,"remoteDocumentsV14")}function j0(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Qk(n,e){const t=e.documentKey.path.toArray();return[n,TA(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Jk(n,e){const t=n.path.toArray(),i=e.path.toArray();let r=0;for(let a=0;a<t.length-2&&a<i.length-2;++a)if(r=An(t[a],i[a]),r)return r;return r=An(t.length,i.length),r||(r=An(t[t.length-2],i[i.length-2]),r||An(t[t.length-1],i[i.length-1]))}class vN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class eR{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.getBaseDocument(e,t,i))).next(r=>(null!==i&&cd(i.mutation,r,so.empty(),pi.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Tn()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Tn()){const r=Pa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(a=>{let u=Dh();return a.forEach((f,_)=>{u=u.insert(f,_.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const i=Pa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Tn()))}populateOverlays(e,t,i){const r=[];return i.forEach(a=>{t.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(e,r).next(a=>{a.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,i,r){let a=Ur();const u=$_(),f=$_();return t.forEach((_,w)=>{const k=i.get(w.key);r.has(w.key)&&(void 0===k||k.mutation instanceof Rc)?a=a.insert(w.key,w):void 0!==k&&(u.set(w.key,k.mutation.getFieldMask()),cd(k.mutation,w,k.mutation.getFieldMask(),pi.now()))}),this.recalculateAndSaveOverlays(e,a).next(_=>(_.forEach((w,k)=>u.set(w,k)),t.forEach((w,k)=>{var q;return f.set(w,new vN(k,null!==(q=u.get(w))&&void 0!==q?q:null))}),f))}recalculateAndSaveOverlays(e,t){const i=$_();let r=new Ei((u,f)=>u-f),a=Tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(_=>{const w=t.get(_);if(null===w)return;let k=i.get(_)||so.empty();k=f.applyToLocalView(w,k),i.set(_,k);const q=(r.get(f.batchId)||Tn()).add(_);r=r.insert(f.batchId,q)})}).next(()=>{const u=[],f=r.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),w=_.key,k=_.value,q=AA();k.forEach(Se=>{if(!a.has(Se)){const Fe=bA(t.get(Se),i.get(Se));null!==Fe&&q.set(Se,Fe),a=a.add(Se)}}),u.push(this.documentOverlayCache.saveOverlays(e,w,q))}return et.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i){return kt.isDocumentKey((r=t).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):j_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i):this.getDocumentsMatchingCollectionQuery(e,t,i);var r}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-a.size):et.resolve(Pa());let f=-1,_=a;return u.next(w=>et.forEach(w,(k,q)=>(f<q.largestBatchId&&(f=q.largestBatchId),a.get(k)?et.resolve():this.getBaseDocument(e,k,q).next(Se=>{_=_.insert(k,Se)}))).next(()=>this.populateOverlays(e,w,a)).next(()=>this.computeViews(e,_,w,Tn())).next(k=>({batchId:f,changes:z_(k)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new kt(t)).next(i=>{let r=Dh();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i){const r=t.collectionGroup;let a=Dh();return this.indexManager.getCollectionParents(e,r).next(u=>et.forEach(u,f=>{const _=(w=t,k=f.child(r),new Ma(k,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,k;return this.getDocumentsMatchingCollectionQuery(e,_,i).next(w=>{w.forEach((k,q)=>{a=a.insert(k,q)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,i){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId))).next(a=>{a.forEach((f,_)=>{const w=_.getKey();null===r.get(w)&&(r=r.insert(w,ni.newInvalidDocument(w)))});let u=Dh();return r.forEach((f,_)=>{const w=a.get(f);void 0!==w&&cd(w.mutation,_,so.empty(),pi.now()),C0(t,_)&&(u=u.insert(f,_))}),u})}getBaseDocument(e,t,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(e,t):et.resolve(ni.newInvalidDocument(t))}}class bN{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return et.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var i;return this.Jn.set(t.id,{id:(i=t).id,version:i.version,createTime:h(i.createTime)}),et.resolve()}getNamedQuery(e,t){return et.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,{name:(i=t).name,query:VI(i.bundledQuery),readTime:h(i.readTime)}),et.resolve();var i}}class wN{constructor(){this.overlays=new Ei(kt.comparator),this.Xn=new Map}getOverlay(e,t){return et.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Pa();return et.forEach(t,r=>this.getOverlay(e,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,a)=>{this.ie(e,t,a)}),et.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Xn.delete(i)),et.resolve()}getOverlaysForCollection(e,t,i){const r=Pa(),a=t.length+1,u=new kt(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const _=f.getNext().value,w=_.getKey();if(!t.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return et.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let a=new Ei((w,k)=>w-k);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===t&&w.largestBatchId>i){let k=a.get(w.largestBatchId);null===k&&(k=Pa(),a=a.insert(w.largestBatchId,k)),k.set(w.getKey(),w)}}const f=Pa(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,k)=>f.set(w,k)),!(f.size()>=r)););return et.resolve(f)}ie(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new NI(t,i));let a=this.Xn.get(t);void 0===a&&(a=Tn(),this.Xn.set(t,a)),this.Xn.set(t,a.add(i.key))}}class jI{constructor(){this.Zn=new Yn(Hr.ts),this.es=new Yn(Hr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const i=new Hr(e,t);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.rs(new Hr(e,t))}os(e,t){e.forEach(i=>this.removeReference(i,t))}us(e){const t=new kt(new Pn([])),i=new Hr(t,e),r=new Hr(t,e+1),a=[];return this.es.forEachInRange([i,r],u=>{this.rs(u),a.push(u.key)}),a}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new kt(new Pn([])),i=new Hr(t,e),r=new Hr(t,e+1);let a=Tn();return this.es.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Hr(e,0),i=this.Zn.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Hr{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return kt.comparator(e.key,t.key)||An(e.ls,t.ls)}static ns(e,t){return An(e.ls,t.ls)||kt.comparator(e.key,t.key)}}class CN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Yn(Hr.ts)}checkEmpty(e){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const a=this.fs;this.fs++;const u=new FI(a,t,i,r);this.mutationQueue.push(u);for(const f of r)this.ds=this.ds.add(new Hr(f.key,a)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return et.resolve(u)}lookupMutationBatch(e,t){return et.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.ws(t+1),a=r<0?0:r;return et.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Hr(t,0),r=new Hr(t,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([i,r],u=>{const f=this._s(u.ls);a.push(f)}),et.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Yn(An);return t.forEach(r=>{const a=new Hr(r,0),u=new Hr(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,u],f=>{i=i.add(f.ls)})}),et.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let a=i;kt.isDocumentKey(a)||(a=a.child(""));const u=new Hr(new kt(a),0);let f=new Yn(An);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(f=f.add(_.ls)),!0)},u),et.resolve(this.gs(f))}gs(e){const t=[];return e.forEach(i=>{const r=this._s(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){pn(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return et.forEach(t.mutations,r=>{const a=new Hr(r.key,t.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=i})}In(e){}containsKey(e,t){const i=new Hr(t,0),r=this.ds.firstAfterOrEqual(i);return et.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return et.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class EN{constructor(e){this.ps=e,this.docs=new Ei(kt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),a=r?r.size:0,u=this.ps(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return et.resolve(i?i.document.mutableCopy():ni.newInvalidDocument(t))}getEntries(e,t){let i=Ur();return t.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():ni.newInvalidDocument(r))}),et.resolve(i)}getAllFromCollection(e,t,i){let r=Ur();const a=new kt(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:f,value:{document:_}}=u.getNext();if(!t.isPrefixOf(f.path))break;f.path.length>t.length+1||u0(x_(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return et.resolve(r)}getAllFromCollectionGroup(e,t,i,r){Gt()}Is(e,t){return et.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new AN(this)}getSize(e){return et.resolve(this.size)}}class AN extends Yk{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(i)}),et.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class SN{constructor(e){this.persistence=e,this.Ts=new Oc(t=>xc(t),Bp),this.lastRemoteSnapshotVersion=an.min(),this.highestTargetId=0,this.Es=0,this.As=new jI,this.targetCount=0,this.Rs=ng.An()}forEachTarget(e,t){return this.Ts.forEach((i,r)=>t(r)),et.resolve()}getLastRemoteSnapshotVersion(e){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return et.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Es&&(this.Es=t),et.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new ng(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,et.resolve()}updateTargetData(e,t){return this.vn(t),et.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,et.resolve()}removeTargets(e,t,i){let r=0;const a=[];return this.Ts.forEach((u,f)=>{f.sequenceNumber<=t&&null===i.get(f.targetId)&&(this.Ts.delete(u),a.push(this.removeMatchingKeysForTargetId(e,f.targetId)),r++)}),et.waitFor(a).next(()=>r)}getTargetCount(e){return et.resolve(this.targetCount)}getTargetData(e,t){const i=this.Ts.get(t)||null;return et.resolve(i)}addMatchingKeys(e,t,i){return this.As.ss(t,i),et.resolve()}removeMatchingKeys(e,t,i){this.As.os(t,i);const r=this.persistence.referenceDelegate,a=[];return r&&t.forEach(u=>{a.push(r.markPotentiallyOrphaned(e,u))}),et.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),et.resolve()}getMatchingKeysForTargetId(e,t){const i=this.As.hs(t);return et.resolve(i)}containsKey(e,t){return et.resolve(this.As.containsKey(t))}}class tR{constructor(e,t){this.bs={},this.overlays={},this.Ps=new os(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new SN(this),this.indexManager=new uN,this.remoteDocumentCache=new EN(i=>this.referenceDelegate.Ss(i)),this.wt=new kk(t),this.Ds=new bN(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.bs[e.toKey()];return i||(i=new CN(t,this.referenceDelegate),this.bs[e.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,i){Et("MemoryPersistence","Starting transaction:",e);const r=new DN(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(a=>this.referenceDelegate.xs(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ns(e,t){return et.or(Object.values(this.bs).map(i=>()=>i.containsKey(e,t)))}}class DN extends rA{constructor(e){super(),this.currentSequenceNumber=e}}class OA{constructor(e){this.persistence=e,this.ks=new jI,this.Ms=null}static Os(e){return new OA(e)}get Fs(){if(this.Ms)return this.Ms;throw Gt()}addReference(e,t,i){return this.ks.addReference(i,t),this.Fs.delete(i.toString()),et.resolve()}removeReference(e,t,i){return this.ks.removeReference(i,t),this.Fs.add(i.toString()),et.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),et.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(a=>this.Fs.add(a.toString()))}).next(()=>i.removeTargetData(e,t))}Cs(){this.Ms=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Fs,i=>{const r=kt.fromPath(i);return this.$s(e,r).next(a=>{a||t.removeEntry(r,an.min())})}).next(()=>(this.Ms=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(i=>{i?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return et.or([()=>et.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class TN{constructor(e){this.wt=e}M(e,t,i,r){const a=new Rp("createOrUpgrade",t);var f;i<1&&r>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Tk,{unique:!0}),f.createObjectStore("documentMutations"),nR(e),function(f){f.createObjectStore("remoteDocuments")}(e));let u=et.resolve();return i<3&&r>=3&&(0!==i&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),nR(e)),u=u.next(()=>function(f){const _=f.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:an.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(f,_){return _.store("mutations").K().next(w=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Tk,{unique:!0});const k=_.store("mutations"),q=w.map(Se=>k.put(Se));return et.waitFor(q)})}(e,a))),u=u.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),i<5&&r>=5&&(u=u.next(()=>this.Bs(a))),i<6&&r>=6&&(u=u.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(a)))),i<7&&r>=7&&(u=u.next(()=>this.Us(a))),i<8&&r>=8&&(u=u.next(()=>this.qs(e,a))),i<9&&r>=9&&(u=u.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),i<10&&r>=10&&(u=u.next(()=>this.Ks(a))),i<11&&r>=11&&(u=u.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),i<12&&r>=12&&(u=u.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:QL});_.createIndex("collectionPathOverlayIndex",JL,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",eN,{unique:!1})}(e)})),i<13&&r>=13&&(u=u.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:jL});_.createIndex("documentKeyIndex",HL),_.createIndex("collectionGroupIndex",GL)}(e)).next(()=>this.Gs(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.Qs(e,a))),i<15&&r>=15&&(u=u.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:KL}).createIndex("sequenceNumberIndex",YL,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:ZL}).createIndex("documentKeyIndex",XL,{unique:!1})}(e))),u}Ls(e){let t=0;return e.store("remoteDocuments").J((i,r)=>{t+=PA(r)}).next(()=>{const i={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(e){const t=e.store("mutationQueues"),i=e.store("mutations");return t.K().next(r=>et.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",u).next(f=>et.forEach(f,_=>{pn(_.userId===a.userId);const w=Qp(this.wt,_);return zk(e,a.userId,w).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),i=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.J((u,f)=>{const _=new Pn(u),w=[0,Fs(_)];a.push(t.get(w).next(k=>k?et.resolve():t.put({targetId:0,path:Fs(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>et.waitFor(a))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:qL});const i=t.store("collectionParents"),r=new UI,a=u=>{if(r.add(u)){const f=u.lastSegment(),_=u.popLast();return i.put({collectionId:f,parent:Fs(_)})}};return t.store("remoteDocuments").J({H:!0},(u,f)=>{const _=new Pn(u);return a(_.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([u,f,_],w)=>{const k=Nc(f);return a(k.popLast())}))}Ks(e){const t=e.store("targets");return t.J((i,r)=>{const a=L0(r),u=Ok(this.wt,a);return t.put(u)})}Gs(e,t){const i=t.store("remoteDocuments"),r=[];return i.J((a,u)=>{const f=t.store("remoteDocumentsV14"),_=(w=u,w.document?new kt(Pn.fromString(w.document.name).popFirst(5)):w.noDocument?kt.fromSegments(w.noDocument.path):w.unknownDocument?kt.fromSegments(w.unknownDocument.path):Gt()).path.toArray();var w;const k={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(f.put(k))}).next(()=>et.waitFor(r))}Qs(e,t){const i=t.store("mutations"),r=Zk(this.wt),a=new tR(OA.Os,this.wt.ne);return i.K().next(u=>{const f=new Map;return u.forEach(_=>{var w;let k=null!==(w=f.get(_.userId))&&void 0!==w?w:Tn();Qp(this.wt,_).keys().forEach(q=>k=k.add(q)),f.set(_.userId,k)}),et.forEach(f,(_,w)=>{const k=new lr(w),q=IA.se(this.wt,k),Se=a.getIndexManager(k),Fe=kA.se(k,this.wt,Se,a.referenceDelegate);return new eR(r,Fe,q,Se).recalculateAndSaveOverlaysForDocumentKeys(new OI(t,os.ot),_).next()})})}}function nR(n){n.createObjectStore("targetDocuments",{keyPath:$L}).createIndex("documentTargetsIndex",WL,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zL,{unique:!0}),n.createObjectStore("targetGlobal")}const HI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class GI{constructor(e,t,i,r,a,u,f,_,w,k,q=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.js=a,this.window=u,this.document=f,this.Ws=w,this.zs=k,this.Hs=q,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=Se=>Promise.resolve(),!GI.V())throw new vt(st.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mN(this,r),this.ei=t+"main",this.wt=new kk(_),this.ni=new zo(this.ei,this.Hs,new TN(this.wt)),this.Vs=new hN(this.referenceDelegate,this.wt),this.remoteDocumentCache=Zk(this.wt),this.Ds=new rN,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===k&&Mi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new vt(st.FAILED_PRECONDITION,HI);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new os(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var i=(0,lt.Z)(function*(r){if(t.started)return e(r)});return function(r){return i.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,lt.Z)(function*(i){null===i.newVersion&&(yield e())});return function(i){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,lt.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>FA(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(t=>{t||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(Dc(e))return Et("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Et("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return H0(e).get("owner").next(t=>et.resolve(this.di(t)))}_i(e){return FA(e).delete(this.clientId)}wi(){var e=this;return(0,lt.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=jr(i,"clientMetadata");return r.K().next(a=>{const u=e.gi(a,18e5),f=a.filter(_=>-1===u.indexOf(_));return et.forEach(f,_=>r.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e.si)for(const i of t)e.si.removeItem(e.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?et.resolve(!0):H0(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new vt(st.FAILED_PRECONDITION,HI);return!1}}return!(!this.networkEnabled||!this.inForeground)||FA(e).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,f=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&f)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Et("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,lt.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const i=new OI(t,os.ot);return e.li(i).next(()=>e._i(i))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(i=>this.mi(i.updateTimeMs,t)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>FA(e).K().next(t=>this.gi(t,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return kA.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new dN(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return IA.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,i){Et("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",a=15===(u=this.Hs)?nN:14===u?Pk:13===u?Mk:12===u?tN:11===u?xk:void Gt();var u;let f;return this.ni.runTransaction(e,r,a,_=>(f=new OI(_,this.Ps?this.Ps.next():os.ot),"readwrite-primary"===t?this.ai(f).next(w=>!!w||this.hi(f)).next(w=>{if(!w)throw Mi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new vt(st.FAILED_PRECONDITION,rI);return i(f)}).next(w=>this.fi(f).next(()=>w)):this.bi(f).next(()=>i(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}bi(e){return H0(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)&&!this.di(t)&&!(this.zs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new vt(st.FAILED_PRECONDITION,HI)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return H0(e).put("owner",t)}static V(){return zo.V()}li(e){const t=H0(e);return t.get("owner").next(i=>this.di(i)?(Et("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):et.resolve())}mi(e,t){const i=Date.now();return!(e<i-t||e>i&&(Mi(`Detected an update time that is in the future: ${e} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,wn.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const i=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return Et("IndexedDbPersistence",`Client '${e}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return Mi("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(e){Mi("Failed to set zombie client id.",e)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function H0(n){return jr(n,"owner")}function FA(n){return jr(n,"clientMetadata")}function zI(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class $I{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.Pi=i,this.vi=r}static Vi(e,t){let i=Tn(),r=Tn();for(const a of t.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new $I(e,t.fromCache,i,r)}}class iR{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,i,r){return this.Ci(e,t).next(a=>a||this.xi(e,t,r,i)).next(a=>a||this.Ni(e,t))}Ci(e,t){if(mI(t))return et.resolve(null);let i=as(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Gp(t,null,"F"),i=as(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(a=>{const u=Tn(...a);return this.Di.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,i).next(_=>{const w=this.ki(t,f);return this.Mi(t,w,u,_.readTime)?this.Ci(e,Gp(t,null,"F")):this.Oi(e,w,t,_)}))})))}xi(e,t,i,r){return mI(t)||r.isEqual(an.min())?this.Ni(e,t):this.Di.getDocuments(e,i).next(a=>{const u=this.ki(t,a);return this.Mi(t,u,i,r)?this.Ni(e,t):(a0()<=Bo.in.DEBUG&&Et("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),H_(t)),this.Oi(e,u,t,c0(r,-1)))})}ki(e,t){let i=new Yn(A0(e));return t.forEach((r,a)=>{C0(e,a)&&(i=i.add(a))}),i}Mi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ni(e,t){return a0()<=Bo.in.DEBUG&&Et("QueryEngine","Using full collection scan to execute query:",H_(t)),this.Di.getDocumentsMatchingQuery(e,t,ro.min())}Oi(e,t,i,r){return this.Di.getDocumentsMatchingQuery(e,i,r).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class IN{constructor(e,t,i,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new Ei(An),this.Bi=new Oc(a=>xc(a),Bp),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(i)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new eR(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function rR(n,e,t,i){return new IN(n,e,t,i)}function sR(n,e){return WI.apply(this,arguments)}function WI(){return WI=(0,lt.Z)(function*(n,e){const t=Lt(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,t.qi(e),t.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],f=[];let _=Tn();for(const w of r){u.push(w.batchId);for(const k of w.mutations)_=_.add(k.key)}for(const w of a){f.push(w.batchId);for(const k of w.mutations)_=_.add(k.key)}return t.localDocuments.getDocuments(i,_).next(w=>({Ki:w,removedBatchIds:u,addedBatchIds:f}))})})}),WI.apply(this,arguments)}function xN(n,e){const t=Lt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),a=t.Ui.newChangeBuffer({trackRemovals:!0});return function(u,f,_,w){const k=_.batch,q=k.keys();let Se=et.resolve();return q.forEach(Fe=>{Se=Se.next(()=>w.getEntry(f,Fe)).next(Ve=>{const We=_.docVersions.get(Fe);pn(null!==We),Ve.version.compareTo(We)<0&&(k.applyToRemoteDocument(Ve,_),Ve.isValidDocument()&&(Ve.setReadTime(_.commitVersion),w.addEntry(Ve)))})}),Se.next(()=>u.mutationQueue.removeMutationBatch(f,k))}(t,i,e,a).next(()=>a.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let f=Tn();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(f=f.add(u.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}function oR(n){const e=Lt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Vs.getLastRemoteSnapshotVersion(t))}function MN(n,e){const t=Lt(n),i=e.snapshotVersion;let r=t.$i;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Ui.newChangeBuffer({trackRemovals:!0});r=t.$i;const f=[];e.targetChanges.forEach((k,q)=>{const Se=r.get(q);if(!Se)return;f.push(t.Vs.removeMatchingKeys(a,k.removedDocuments,q).next(()=>t.Vs.addMatchingKeys(a,k.addedDocuments,q)));let Fe=Se.withSequenceNumber(a.currentSequenceNumber);var Ve,We,ut;e.targetMismatches.has(q)?Fe=Fe.withResumeToken(ur.EMPTY_BYTE_STRING,an.min()).withLastLimboFreeSnapshotVersion(an.min()):k.resumeToken.approximateByteSize()>0&&(Fe=Fe.withResumeToken(k.resumeToken,i)),r=r.insert(q,Fe),We=Fe,ut=k,(0===(Ve=Se).resumeToken.approximateByteSize()||We.snapshotVersion.toMicroseconds()-Ve.snapshotVersion.toMicroseconds()>=3e8||ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0)&&f.push(t.Vs.updateTargetData(a,Fe))});let _=Ur(),w=Tn();if(e.documentUpdates.forEach(k=>{e.resolvedLimboDocuments.has(k)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(a,k))}),f.push(aR(a,u,e.documentUpdates).next(k=>{_=k.Gi,w=k.Qi})),!i.isEqual(an.min())){const k=t.Vs.getLastRemoteSnapshotVersion(a).next(q=>t.Vs.setTargetsMetadata(a,a.currentSequenceNumber,i));f.push(k)}return et.waitFor(f).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(t.$i=r,a))}function aR(n,e,t){let i=Tn(),r=Tn();return t.forEach(a=>i=i.add(a)),e.getEntries(n,i).next(a=>{let u=Ur();return t.forEach((f,_)=>{const w=a.get(f);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(f)),_.isNoDocument()&&_.version.isEqual(an.min())?(e.removeEntry(f,_.readTime),u=u.insert(f,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(e.addEntry(_),u=u.insert(f,_)):Et("LocalStore","Ignoring outdated watch update for ",f,". Current version:",w.version," Watch version:",_.version)}),{Gi:u,Qi:r}})}function PN(n,e){const t=Lt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function Q_(n,e){const t=Lt(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.Vs.getTargetData(i,e).next(a=>a?(r=a,et.resolve(r)):t.Vs.allocateTargetId(i).next(u=>(r=new Th(e,u,0,i.currentSequenceNumber),t.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.$i=t.$i.insert(i.targetId,i),t.Bi.set(e,i.targetId)),i})}function J_(n,e,t){return qI.apply(this,arguments)}function qI(){return qI=(0,lt.Z)(function*(n,e,t){const i=Lt(n),r=i.$i.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!Dc(u))throw u;Et("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}i.$i=i.$i.remove(e),i.Bi.delete(r.target)}),qI.apply(this,arguments)}function LA(n,e,t){const i=Lt(n);let r=an.min(),a=Tn();return i.persistence.runTransaction("Execute query","readonly",u=>function(f,_,w){const k=Lt(f),q=k.Bi.get(w);return void 0!==q?et.resolve(k.$i.get(q)):k.Vs.getTargetData(_,w)}(i,u,as(e)).next(f=>{if(f)return r=f.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(u,f.targetId).next(_=>{a=_})}).next(()=>i.Fi.getDocumentsMatchingQuery(u,e,t?r:an.min(),t?a:Tn())).next(f=>(uR(i,E0(e),f),{documents:f,ji:a})))}function lR(n,e){const t=Lt(n),i=Lt(t.Vs),r=t.$i.get(e);return r?Promise.resolve(r.target):t.persistence.runTransaction("Get target data","readonly",a=>i.te(a,e).next(u=>u?u.target:null))}function cR(n,e){const t=Lt(n),i=t.Li.get(e)||an.min();return t.persistence.runTransaction("Get new document changes","readonly",r=>t.Ui.getAllFromCollectionGroup(r,e,c0(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(uR(t,e,r),r))}function uR(n,e,t){let i=an.min();t.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Li.set(e,i)}function KI(){return KI=(0,lt.Z)(function*(n,e,t,i){const r=Lt(n);let a=Tn(),u=Ur();for(const w of t){const k=e.Wi(w.metadata.name);w.document&&(a=a.add(k));const q=e.zi(w);q.setReadTime(e.Hi(w.metadata.readTime)),u=u.insert(k,q)}const f=r.Ui.newChangeBuffer({trackRemovals:!0}),_=yield Q_(r,(w=i,as(ad(Pn.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>aR(w,f,u).next(k=>(f.apply(w),k)).next(k=>r.Vs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Vs.addMatchingKeys(w,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,k.Gi,k.Qi)).next(()=>k.Gi)))}),KI.apply(this,arguments)}function RN(n,e){return YI.apply(this,arguments)}function YI(){return YI=(0,lt.Z)(function*(n,e,t=Tn()){const i=yield Q_(n,as(VI(e.bundledQuery))),r=Lt(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=h(e.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ds.saveNamedQuery(a,e);const f=i.withResumeToken(ur.EMPTY_BYTE_STRING,u);return r.$i=r.$i.insert(f.targetId,f),r.Vs.updateTargetData(a,f).next(()=>r.Vs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Vs.addMatchingKeys(a,t,i.targetId)).next(()=>r.Ds.saveNamedQuery(a,e))})}),YI.apply(this,arguments)}function dR(n,e){return`firestore_clients_${n}_${e}`}function hR(n,e,t){let i=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}function ZI(n,e){return`firestore_targets_${n}_${e}`}class NA{constructor(e,t,i,r){this.user=e,this.batchId=t,this.state=i,this.error=r}static Ji(e,t,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new vt(r.error.code,r.error.message))),u?new NA(e,t,r.state,a):(Mi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${i}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class G0{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static Ji(e,t){const i=JSON.parse(t);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new vt(i.error.code,i.error.message))),a?new G0(e,i.state,r):(Mi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class VA{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const i=JSON.parse(t);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=x0();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=lI(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new VA(e,a):(Mi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class XI{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new XI(t.clientId,t.onlineState):(Mi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class QI{constructor(){this.activeTargetIds=x0()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class JI{constructor(e,t,i,r,a){this.window=e,this.js=t,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ei(An),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=dR(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new QI),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,lt.Z)(function*(){const t=yield e.syncEngine.Ri();for(const r of t){if(r===e.tr)continue;const a=e.getItem(dR(e.persistenceKey,r));if(a){const u=VA.Ji(r,a);u&&(e.sr=e.sr.insert(u.clientId,u))}}e._r();const i=e.storage.getItem(e.lr);if(i){const r=e.wr(i);r&&e.mr(r)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,i){this.yr(e,t,i),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ZI(this.persistenceKey,e));if(i){const r=G0.Ji(e,i);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ZI(this.persistenceKey,e))}updateQueryState(e,t,i){this.Tr(e,t,i)}handleUserChange(e,t,i){t.forEach(r=>{this.pr(r)}),this.currentUser=e,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Et("SharedClientState","READ",e,t),t}setItem(e,t){Et("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Et("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const i=e;if(i.storageArea===this.storage){if(Et("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void Mi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,lt.Z)(function*(){if(t.started){if(null!==i.key)if(t.cr.test(i.key)){if(null==i.newValue){const r=t.Rr(i.key);return t.br(r,null)}{const r=t.Pr(i.key,i.newValue);if(r)return t.br(r.clientId,r)}}else if(t.ar.test(i.key)){if(null!==i.newValue){const r=t.vr(i.key,i.newValue);if(r)return t.Vr(r)}}else if(t.hr.test(i.key)){if(null!==i.newValue){const r=t.Sr(i.key,i.newValue);if(r)return t.Dr(r)}}else if(i.key===t.lr){if(null!==i.newValue){const r=t.wr(i.newValue);if(r)return t.mr(r)}}else if(i.key===t.ur){const r=function(a){let u=os.ot;if(null!=a)try{const f=JSON.parse(a);pn("number"==typeof f),u=f}catch(f){Mi("SharedClientState","Failed to read sequence number from WebStorage",f)}return u}(i.newValue);r!==os.ot&&t.sequenceNumberHandler(r)}else if(i.key===t.dr){const r=t.Cr(i.newValue);yield Promise.all(r.map(a=>t.syncEngine.Nr(a)))}}else t.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,i){const r=new NA(this.currentUser,e,t,i),a=hR(this.persistenceKey,this.currentUser,e);this.setItem(a,r.Yi())}pr(e){const t=hR(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,i){const r=ZI(this.persistenceKey,e),a=new G0(e,t,i);this.setItem(r,a.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const i=this.Rr(e);return VA.Ji(i,t)}vr(e,t){const i=this.ar.exec(e),r=Number(i[1]);return NA.Ji(new lr(void 0!==i[2]?i[2]:null),r,t)}Sr(e,t){const i=this.hr.exec(e),r=Number(i[1]);return G0.Ji(r,t)}wr(e){return XI.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,lt.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);Et("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const i=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),a=this.gr(i),u=[],f=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||f.push(_)}),this.syncEngine.Or(u,f).then(()=>{this.sr=i})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=x0();return e.forEach((i,r)=>{t=t.unionWith(r.activeTargetIds)}),t}}class fR{constructor(){this.Fr=new QI,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,i){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new QI,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ON{Br(e){}shutdown(){}}class pR{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){Et("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){Et("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const FN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class LN{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class NN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,i,r,a){const u=this.oo(e,t);Et("RestConnection","Sending: ",u,i);const f={};return this.uo(f,r,a),this.co(e,u,f,i).then(_=>(Et("RestConnection","Received: ",_),_),_=>{throw Ec("RestConnection",`${e} failed with error: `,_,"url: ",u,"request:",i),_})}ao(e,t,i,r,a,u){return this.ro(e,t,i,r,a)}uo(e,t,i){e["X-Goog-Api-Client"]="gl-js/ fire/"+hh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((r,a)=>e[a]=r),i&&i.headers.forEach((r,a)=>e[a]=r)}oo(e,t){return`${this.so}/v1/${t}:${FN[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,i,r){return new Promise((a,u)=>{const f=new o0;f.listenOnce(JT.COMPLETE,()=>{try{switch(f.getLastErrorCode()){case r0.NO_ERROR:const w=f.getResponseJson();Et("Connection","XHR received:",JSON.stringify(w)),a(w);break;case r0.TIMEOUT:Et("Connection",'RPC "'+e+'" timed out'),u(new vt(st.DEADLINE_EXCEEDED,"Request time out"));break;case r0.HTTP_ERROR:const k=f.getStatus();if(Et("Connection",'RPC "'+e+'" failed with status:',k,"response text:",f.getResponseText()),k>0){const q=f.getResponseJson().error;if(q&&q.status&&q.message){const Se=function(Fe){const Ve=Fe.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(Ve)>=0?Ve:st.UNKNOWN}(q.status);u(new vt(Se,q.message))}else u(new vt(st.UNKNOWN,"Server responded with status "+f.getStatus()))}else u(new vt(st.UNAVAILABLE,"Connection failed."));break;default:Gt()}}finally{Et("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(r);f.send(t,"POST",_,i,15)})}ho(e,t,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=n0(),u=XE(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(f.xmlHttpFactory=new s0({})),this.uo(f.initMessageHeaders,t,i),(0,wn.uI)()||(0,wn.b$)()||(0,wn.d)()||(0,wn.w1)()||(0,wn.Mn)()||(0,wn.ru)()||(f.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");Et("Connection","Creating WebChannel: "+_,f);const w=a.createWebChannel(_,f);let k=!1,q=!1;const Se=new LN({jr:Ve=>{q?Et("Connection","Not sending because WebChannel is closed:",Ve):(k||(Et("Connection","Opening WebChannel transport."),w.open(),k=!0),Et("Connection","WebChannel sending:",Ve),w.send(Ve))},Wr:()=>w.close()}),Fe=(Ve,We,ut)=>{Ve.listen(We,Nt=>{try{ut(Nt)}catch(zt){setTimeout(()=>{throw zt},0)}})};return Fe(w,xp.EventType.OPEN,()=>{q||Et("Connection","WebChannel transport opened.")}),Fe(w,xp.EventType.CLOSE,()=>{q||(q=!0,Et("Connection","WebChannel transport closed"),Se.eo())}),Fe(w,xp.EventType.ERROR,Ve=>{q||(q=!0,Ec("Connection","WebChannel transport errored:",Ve),Se.eo(new vt(st.UNAVAILABLE,"The operation could not be completed")))}),Fe(w,xp.EventType.MESSAGE,Ve=>{var We;if(!q){const ut=Ve.data[0];pn(!!ut);const Nt=ut,zt=Nt.error||(null===(We=Nt[0])||void 0===We?void 0:We.error);if(zt){Et("Connection","WebChannel received error:",zt);const on=zt.status;let qt=function(yn){const Nn=Oi[yn];if(void 0!==Nn)return CA(Nn)}(on),hn=zt.message;void 0===qt&&(qt=st.INTERNAL,hn="Unknown error status: "+on+" with message "+zt.message),q=!0,Se.eo(new vt(qt,hn)),w.close()}else Et("Connection","WebChannel received:",ut),Se.no(ut)}}),Fe(u,_k.STAT_EVENT,Ve=>{Ve.stat===A_.PROXY?Et("Connection","Detected buffering proxy"):Ve.stat===A_.NOPROXY&&Et("Connection","Detected no buffering proxy")}),setTimeout(()=>{Se.Zr()},0),Se}}function gR(){return typeof window<"u"?window:null}function BA(){return typeof document<"u"?document:null}function z0(n){return new s(n,!0)}class ex{constructor(e,t,i=1e3,r=1.5,a=6e4){this.js=e,this.timerId=t,this.lo=i,this.fo=r,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-i);r>0&&Et("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class mR{constructor(e,t,i,r,a,u,f,_){this.js=e,this.Ao=i,this.Ro=r,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new ex(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,lt.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,lt.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var i=this;return(0,lt.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==e?i.So.reset():t&&t.code===st.RESOURCE_EXHAUSTED?(Mi(t.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):t&&t.code===st.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===t&&this.Uo(i,r)},i=>{e(()=>{const r=new vt(st.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(e,t){const i=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var e=this;this.state=5,this.So.Io((0,lt.Z)(function*(){e.state=0,e.start()}))}qo(e){return Et("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(Et("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class VN extends mR{constructor(e,t,i,r,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,u),this.wt=a}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function Ft(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:Gt(),r=e.targetChange.targetIds||[],a=function(_,w){return _.dt?(pn(void 0===w||"string"==typeof w),ur.fromBase64String(w||"")):(pn(void 0===w||w instanceof Uint8Array),ur.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(_){const w=void 0===_.code?st.UNKNOWN:CA(_.code);return new vt(w,_.message||"")}(u);t=new SA(i,r,a,f||null)}else if("documentChange"in e){const i=e.documentChange,r=T(n,i.document.name),a=h(i.document.updateTime),u=new wr({mapValue:{fields:i.document.fields}}),f=ni.newFoundDocument(r,a,u);t=new M0(i.targetIds||[],i.removedTargetIds||[],f.key,f)}else if("documentDelete"in e){const i=e.documentDelete,r=T(n,i.document),a=i.readTime?h(i.readTime):an.min(),u=ni.newNoDocument(r,a);t=new M0([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const i=e.documentRemove,r=T(n,i.document);t=new M0([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return Gt();{const i=e.filter,a=new DI(i.count||0);t=new MI(i.targetId,a)}}var _;return t}(this.wt,e),i=function(r){if(!("targetChange"in r))return an.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?an.min():a.readTime?h(a.readTime):an.min()}(e);return this.listener.Go(t,i)}Qo(e){const t={};t.database=De(this.wt),t.addTarget=function(r,a){let u;const f=a.target;return u=Up(f)?{documents:nn(r,f)}:{query:Mn(r,f)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=c(r,a.resumeToken):a.snapshotVersion.compareTo(an.min())>0&&(u.readTime=o(r,a.snapshotVersion.toTimestamp())),u}(this.wt,e);const i=function ud(n,e){const t=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Gt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.Oo(t)}jo(e){const t={};t.database=De(this.wt),t.removeTarget=e,this.Oo(t)}}class BN extends mR{constructor(e,t,i,r,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,u),this.wt=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(pn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function bt(n,e){return n&&n.length>0?(pn(void 0!==e),n.map(t=>function(i,r){let a=h(i.updateTime?i.updateTime:r);return a.isEqual(an.min())&&(a=h(r)),new ld(a,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=h(e.commitTime);return this.listener.Jo(i,t)}return pn(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=De(this.wt),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Bt(this.wt,i))};this.Oo(t)}}class UN extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new vt(st.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.ro(e,t,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new vt(st.UNKNOWN,r.toString())})}ao(e,t,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.bo.ao(e,t,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new vt(st.UNKNOWN,a.toString())})}terminate(){this.Zo=!0}}class jN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Mi(t),this.su=!1):Et("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class HN{constructor(e,t,i,r,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(f=>{i.enqueueAndForget((0,lt.Z)(function*(){var _;Mh(u)&&(Et("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,lt.Z)(function*(w){const k=Lt(w);k.lu.add(4),yield ey(k),k._u.set("Unknown"),k.lu.delete(4),yield $0(k)}),function(w){return _.apply(this,arguments)})(u))}))}),this._u=new jN(i,r)}}function $0(n){return tx.apply(this,arguments)}function tx(){return tx=(0,lt.Z)(function*(n){if(Mh(n))for(const e of n.fu)yield e(!0)}),tx.apply(this,arguments)}function ey(n){return nx.apply(this,arguments)}function nx(){return nx=(0,lt.Z)(function*(n){for(const e of n.fu)yield e(!1)}),nx.apply(this,arguments)}function UA(n,e){const t=Lt(n);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),sx(t)?rx(t):ny(t).Co()&&ix(t,e))}function W0(n,e){const t=Lt(n),i=ny(t);t.hu.delete(e),i.Co()&&_R(t,e),0===t.hu.size&&(i.Co()?i.ko():Mh(t)&&t._u.set("Unknown"))}function ix(n,e){n.wu.Nt(e.targetId),ny(n).Qo(e)}function _R(n,e){n.wu.Nt(e),ny(n).jo(e)}function rx(n){n.wu=new Ek({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),te:e=>n.hu.get(e)||null}),ny(n).start(),n._u.iu()}function sx(n){return Mh(n)&&!ny(n).Do()&&n.hu.size>0}function Mh(n){return 0===Lt(n).lu.size}function yR(n){n.wu=void 0}function GN(n){return ox.apply(this,arguments)}function ox(){return ox=(0,lt.Z)(function*(n){n.hu.forEach((e,t)=>{ix(n,e)})}),ox.apply(this,arguments)}function zN(n,e){return ax.apply(this,arguments)}function ax(){return ax=(0,lt.Z)(function*(n,e){yR(n),sx(n)?(n._u.uu(e),rx(n)):n._u.set("Unknown")}),ax.apply(this,arguments)}function $N(n,e,t){return lx.apply(this,arguments)}function lx(){return lx=(0,lt.Z)(function*(n,e,t){if(n._u.set("Online"),e instanceof SA&&2===e.state&&e.cause)try{yield(i=(0,lt.Z)(function*(r,a){const u=a.cause;for(const f of a.targetIds)r.hu.has(f)&&(yield r.remoteSyncer.rejectListen(f,u),r.hu.delete(f),r.wu.removeTarget(f))}),function(r,a){return i.apply(this,arguments)})(n,e)}catch(i){Et("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield jA(n,i)}else if(e instanceof M0?n.wu.Ut(e):e instanceof MI?n.wu.zt(e):n.wu.Gt(e),!t.isEqual(an.min()))try{const i=yield oR(n.localStore);t.compareTo(i)>=0&&(yield function(r,a){const u=r.wu.Yt(a);return u.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const w=r.hu.get(_);w&&r.hu.set(_,w.withResumeToken(f.resumeToken,a))}}),u.targetMismatches.forEach(f=>{const _=r.hu.get(f);if(!_)return;r.hu.set(f,_.withResumeToken(ur.EMPTY_BYTE_STRING,_.snapshotVersion)),_R(r,f);const w=new Th(_.target,f,1,_.sequenceNumber);ix(r,w)}),r.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(i){Et("RemoteStore","Failed to raise snapshot:",i),yield jA(n,i)}var i}),lx.apply(this,arguments)}function jA(n,e,t){return cx.apply(this,arguments)}function cx(){return cx=(0,lt.Z)(function*(n,e,t){if(!Dc(e))throw e;n.lu.add(1),yield ey(n),n._u.set("Offline"),t||(t=()=>oR(n.localStore)),n.asyncQueue.enqueueRetryable((0,lt.Z)(function*(){Et("RemoteStore","Retrying IndexedDB access"),yield t(),n.lu.delete(1),yield $0(n)}))}),cx.apply(this,arguments)}function vR(n,e){return e().catch(t=>jA(n,t,e))}function ty(n){return ux.apply(this,arguments)}function ux(){return ux=(0,lt.Z)(function*(n){const e=Lt(n),t=Ph(e);let i=e.au.length>0?e.au[e.au.length-1].batchId:-1;for(;WN(e);)try{const r=yield PN(e.localStore,i);if(null===r){0===e.au.length&&t.ko();break}i=r.batchId,qN(e,r)}catch(r){yield jA(e,r)}bR(e)&&wR(e)}),ux.apply(this,arguments)}function WN(n){return Mh(n)&&n.au.length<10}function qN(n,e){n.au.push(e);const t=Ph(n);t.Co()&&t.zo&&t.Ho(e.mutations)}function bR(n){return Mh(n)&&!Ph(n).Do()&&n.au.length>0}function wR(n){Ph(n).start()}function KN(n){return dx.apply(this,arguments)}function dx(){return dx=(0,lt.Z)(function*(n){Ph(n).Xo()}),dx.apply(this,arguments)}function YN(n){return hx.apply(this,arguments)}function hx(){return hx=(0,lt.Z)(function*(n){const e=Ph(n);for(const t of n.au)e.Ho(t.mutations)}),hx.apply(this,arguments)}function ZN(n,e,t){return fx.apply(this,arguments)}function fx(){return fx=(0,lt.Z)(function*(n,e,t){const i=n.au.shift(),r=LI.from(i,e,t);yield vR(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield ty(n)}),fx.apply(this,arguments)}function XN(n,e){return px.apply(this,arguments)}function px(){return px=(0,lt.Z)(function*(n,e){var t;e&&Ph(n).zo&&(yield(t=(0,lt.Z)(function*(i,r){if(I0(a=r.code)&&a!==st.ABORTED){const u=i.au.shift();Ph(i).No(),yield vR(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield ty(i)}var a}),function(i,r){return t.apply(this,arguments)})(n,e)),bR(n)&&wR(n)}),px.apply(this,arguments)}function CR(n,e){return gx.apply(this,arguments)}function gx(){return gx=(0,lt.Z)(function*(n,e){const t=Lt(n);t.asyncQueue.verifyOperationInProgress(),Et("RemoteStore","RemoteStore received new credentials");const i=Mh(t);t.lu.add(3),yield ey(t),i&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield $0(t)}),gx.apply(this,arguments)}function mx(n,e){return _x.apply(this,arguments)}function _x(){return _x=(0,lt.Z)(function*(n,e){const t=Lt(n);e?(t.lu.delete(2),yield $0(t)):e||(t.lu.add(2),yield ey(t),t._u.set("Unknown"))}),_x.apply(this,arguments)}function ny(n){return n.mu||(n.mu=function(e,t,i){const r=Lt(e);return r.tu(),new VN(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:GN.bind(null,n),Jr:zN.bind(null,n),Go:$N.bind(null,n)}),n.fu.push(function(){var e=(0,lt.Z)(function*(t){t?(n.mu.No(),sx(n)?rx(n):n._u.set("Unknown")):(yield n.mu.stop(),yR(n))});return function(t){return e.apply(this,arguments)}}())),n.mu}function Ph(n){return n.gu||(n.gu=function(e,t,i){const r=Lt(e);return r.tu(),new BN(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:KN.bind(null,n),Jr:XN.bind(null,n),Yo:YN.bind(null,n),Jo:ZN.bind(null,n)}),n.fu.push(function(){var e=(0,lt.Z)(function*(t){t?(n.gu.No(),yield ty(n)):(yield n.gu.stop(),n.au.length>0&&(Et("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(t){return e.apply(this,arguments)}}())),n.gu}class yx{constructor(e,t,i,r,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,i,r,a){const u=Date.now()+i,f=new yx(e,t,u,r,a);return f.start(i),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new vt(st.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iy(n,e){if(Mi("AsyncQueue",`${e}: ${n}`),Dc(n))return new vt(st.UNAVAILABLE,`${e}: ${n}`);throw n}class ry{constructor(e){this.comparator=e?(t,i)=>e(t,i)||kt.comparator(t.key,i.key):(t,i)=>kt.comparator(t.key,i.key),this.keyedMap=Dh(),this.sortedSet=new Ei(this.comparator)}static emptySet(e){return new ry(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof ry)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new ry;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class ER{constructor(){this.yu=new Ei(kt.comparator)}track(e){const t=e.doc.key,i=this.yu.get(t);i?0!==e.type&&3===i.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==i.type?this.yu=this.yu.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.yu=this.yu.remove(t):1===e.type&&2===i.type?this.yu=this.yu.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):Gt():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,i)=>{e.push(i)}),e}}class sy{constructor(e,t,i,r,a,u,f,_){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=_}static fromInitialDocuments(e,t,i,r){const a=[];return t.forEach(u=>{a.push({type:0,doc:u})}),new sy(e,t,ry.emptySet(t),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class QN{constructor(){this.Iu=void 0,this.listeners=[]}}class JN{constructor(){this.queries=new Oc(e=>zp(e),kc),this.onlineState="Unknown",this.Tu=new Set}}function vx(n,e){return bx.apply(this,arguments)}function bx(){return bx=(0,lt.Z)(function*(n,e){const t=Lt(n),i=e.query;let r=!1,a=t.queries.get(i);if(a||(r=!0,a=new QN),r)try{a.Iu=yield t.onListen(i)}catch(u){const f=iy(u,`Initialization of query '${H_(e.query)}' failed`);return void e.onError(f)}t.queries.set(i,a),a.listeners.push(e),e.Eu(t.onlineState),a.Iu&&e.Au(a.Iu)&&Ex(t)}),bx.apply(this,arguments)}function wx(n,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,lt.Z)(function*(n,e){const t=Lt(n),i=e.query;let r=!1;const a=t.queries.get(i);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),Cx.apply(this,arguments)}function eV(n,e){const t=Lt(n);let i=!1;for(const r of e){const u=t.queries.get(r.query);if(u){for(const f of u.listeners)f.Au(r)&&(i=!0);u.Iu=r}}i&&Ex(t)}function tV(n,e,t){const i=Lt(n),r=i.queries.get(e);if(r)for(const a of r.listeners)a.onError(t);i.queries.delete(e)}function Ex(n){n.Tu.forEach(e=>{e.next()})}class Ax{constructor(e,t,i){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new sy(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=sy.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class nV{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class AR{constructor(e){this.wt=e}Wi(e){return T(this.wt,e)}zi(e){return e.metadata.exists?ht(this.wt,e.document,!1):ni.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return h(e)}}class iV{constructor(e,t,i){this.xu=e,this.localStore=t,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=SR(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const i=Pn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,i=new AR(this.wt);for(const r of e)if(r.metadata.queries){const a=i.Wi(r.metadata.name);for(const u of r.metadata.queries){const f=(t.get(u)||Tn()).add(a);t.set(u,f)}}return t}complete(){var e=this;return(0,lt.Z)(function*(){const t=yield function kN(n,e,t,i){return KI.apply(this,arguments)}(e.localStore,new AR(e.wt),e.documents,e.xu.id),i=e.ku(e.documents);for(const r of e.queries)yield RN(e.localStore,r,i.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function SR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class DR{constructor(e){this.key=e}}class TR{constructor(e){this.key=e}}class IR{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Tn(),this.mutatedKeys=Tn(),this.Lu=A0(e),this.Uu=new ry(this.Lu)}get qu(){return this.Fu}Ku(e,t){const i=t?t.Gu:new ER,r=t?t.Uu:this.Uu;let a=t?t.mutatedKeys:this.mutatedKeys,u=r,f=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((k,q)=>{const Se=r.get(k),Fe=C0(this.query,q)?q:null,Ve=!!Se&&this.mutatedKeys.has(Se.key),We=!!Fe&&(Fe.hasLocalMutations||this.mutatedKeys.has(Fe.key)&&Fe.hasCommittedMutations);let ut=!1;Se&&Fe?Se.data.isEqual(Fe.data)?Ve!==We&&(i.track({type:3,doc:Fe}),ut=!0):this.Qu(Se,Fe)||(i.track({type:2,doc:Fe}),ut=!0,(_&&this.Lu(Fe,_)>0||w&&this.Lu(Fe,w)<0)&&(f=!0)):!Se&&Fe?(i.track({type:0,doc:Fe}),ut=!0):Se&&!Fe&&(i.track({type:1,doc:Se}),ut=!0,(_||w)&&(f=!0)),ut&&(Fe?(u=u.add(Fe),a=We?a.add(k):a.delete(k)):(u=u.delete(k),a=a.delete(k)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const k="F"===this.query.limitType?u.last():u.first();u=u.delete(k.key),a=a.delete(k.key),i.track({type:1,doc:k})}return{Uu:u,Gu:i,Mi:f,mutatedKeys:a}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const a=e.Gu.pu();a.sort((w,k)=>function(q,Se){const Fe=Ve=>{switch(Ve){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Gt()}};return Fe(q)-Fe(Se)}(w.type,k.type)||this.Lu(w.doc,k.doc)),this.ju(i);const u=t?this.Wu():[],f=0===this.Bu.size&&this.current?1:0,_=f!==this.$u;return this.$u=f,0!==a.length||_?{snapshot:new sy(this.query,e.Uu,r,a,e.mutatedKeys,0===f,_,!1),zu:u}:{zu:u}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new ER,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Tn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const t=[];return e.forEach(i=>{this.Bu.has(i)||t.push(new TR(i))}),this.Bu.forEach(i=>{e.has(i)||t.push(new DR(i))}),t}Ju(e){this.Fu=e.ji,this.Bu=Tn();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return sy.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class rV{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class sV{constructor(e){this.key=e,this.Xu=!1}}class oV{constructor(e,t,i,r,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Zu={},this.tc=new Oc(f=>zp(f),kc),this.ec=new Map,this.nc=new Set,this.sc=new Ei(kt.comparator),this.ic=new Map,this.rc=new jI,this.oc={},this.uc=new Map,this.cc=ng.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function aV(n,e){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,lt.Z)(function*(n,e){const t=Kx(n);let i,r;const a=t.tc.get(e);if(a)i=a.targetId,t.sharedClientState.addLocalQueryTarget(i),r=a.view.Yu();else{const u=yield Q_(t.localStore,as(e));t.isPrimaryClient&&UA(t.remoteStore,u);const f=t.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield Dx(t,e,i,"current"===f)}return r}),Sx.apply(this,arguments)}function Dx(n,e,t,i){return Tx.apply(this,arguments)}function Tx(){return Tx=(0,lt.Z)(function*(n,e,t,i){n.hc=(k,q,Se)=>{return(Fe=(0,lt.Z)(function*(Ve,We,ut,Nt){let zt=We.view.Ku(ut);zt.Mi&&(zt=yield LA(Ve.localStore,We.query,!1).then(({documents:hn})=>We.view.Ku(hn,zt)));const on=Nt&&Nt.targetChanges.get(We.targetId),qt=We.view.applyChanges(zt,Ve.isPrimaryClient,on);return Nx(Ve,We.targetId,qt.zu),qt.snapshot}),function(Ve,We,ut,Nt){return Fe.apply(this,arguments)})(n,k,q,Se);var Fe};const r=yield LA(n.localStore,e,!0),a=new IR(e,r.ji),u=a.Ku(r.documents),f=q_.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState),_=a.applyChanges(u,n.isPrimaryClient,f);Nx(n,t,_.zu);const w=new rV(e,t,a);return n.tc.set(e,w),n.ec.has(t)?n.ec.get(t).push(e):n.ec.set(t,[e]),_.snapshot}),Tx.apply(this,arguments)}function lV(n,e){return Ix.apply(this,arguments)}function Ix(){return Ix=(0,lt.Z)(function*(n,e){const t=Lt(n),i=t.tc.get(e),r=t.ec.get(i.targetId);if(r.length>1)return t.ec.set(i.targetId,r.filter(a=>!kc(a,e))),void t.tc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield J_(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),W0(t.remoteStore,i.targetId),oy(t,i.targetId)}).catch(Sc))):(oy(t,i.targetId),yield J_(t.localStore,i.targetId,!0))}),Ix.apply(this,arguments)}function xx(){return xx=(0,lt.Z)(function*(n,e,t){const i=Yx(n);try{const r=yield function(a,u){const f=Lt(a),_=pi.now(),w=u.reduce((Se,Fe)=>Se.add(Fe.key),Tn());let k,q;return f.persistence.runTransaction("Locally write mutations","readwrite",Se=>{let Fe=Ur(),Ve=Tn();return f.Ui.getEntries(Se,w).next(We=>{Fe=We,Fe.forEach((ut,Nt)=>{Nt.isValidDocument()||(Ve=Ve.add(ut))})}).next(()=>f.localDocuments.getOverlayedDocuments(Se,Fe)).next(We=>{k=We;const ut=[];for(const Nt of u){const zt=G_(Nt,k.get(Nt.key).overlayedDocument);null!=zt&&ut.push(new Rc(Nt.key,zt,N_(zt.value.mapValue),gi.exists(!0)))}return f.mutationQueue.addMutationBatch(Se,_,ut,u)}).next(We=>{q=We;const ut=We.applyToLocalDocumentSet(k,Ve);return f.documentOverlayCache.saveOverlays(Se,We.batchId,ut)})}).then(()=>({batchId:q.batchId,changes:z_(k)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,f){let _=a.oc[a.currentUser.toKey()];_||(_=new Ei(An)),_=_.insert(u,f),a.oc[a.currentUser.toKey()]=_}(i,r.batchId,t),yield dd(i,r.changes),yield ty(i.remoteStore)}catch(r){const a=iy(r,"Failed to persist write");t.reject(a)}}),xx.apply(this,arguments)}function xR(n,e){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,lt.Z)(function*(n,e){const t=Lt(n);try{const i=yield MN(t.localStore,e);e.targetChanges.forEach((r,a)=>{const u=t.ic.get(a);u&&(pn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Xu=!0:r.modifiedDocuments.size>0?pn(u.Xu):r.removedDocuments.size>0&&(pn(u.Xu),u.Xu=!1))}),yield dd(t,i,e)}catch(i){yield Sc(i)}}),Mx.apply(this,arguments)}function MR(n,e,t){const i=Lt(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.tc.forEach((a,u)=>{const f=u.view.Eu(e);f.snapshot&&r.push(f.snapshot)}),function(a,u){const f=Lt(a);f.onlineState=u;let _=!1;f.queries.forEach((w,k)=>{for(const q of k.listeners)q.Eu(u)&&(_=!0)}),_&&Ex(f)}(i.eventManager,e),r.length&&i.Zu.Go(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function uV(n,e,t){return Px.apply(this,arguments)}function Px(){return Px=(0,lt.Z)(function*(n,e,t){const i=Lt(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ic.get(e),a=r&&r.key;if(a){let u=new Ei(kt.comparator);u=u.insert(a,ni.newNoDocument(a,an.min()));const f=Tn().add(a),_=new W_(an.min(),new Map,new Yn(An),u,f);yield xR(i,_),i.sc=i.sc.remove(a),i.ic.delete(e),Vx(i)}else yield J_(i.localStore,e,!1).then(()=>oy(i,e,t)).catch(Sc)}),Px.apply(this,arguments)}function dV(n,e){return kx.apply(this,arguments)}function kx(){return kx=(0,lt.Z)(function*(n,e){const t=Lt(n),i=e.batch.batchId;try{const r=yield xN(t.localStore,e);Lx(t,i,null),Fx(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield dd(t,r)}catch(r){yield Sc(r)}}),kx.apply(this,arguments)}function hV(n,e,t){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,lt.Z)(function*(n,e,t){const i=Lt(n);try{const r=yield function(a,u){const f=Lt(a);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return f.mutationQueue.lookupMutationBatch(_,u).next(k=>(pn(null!==k),w=k.keys(),f.mutationQueue.removeMutationBatch(_,k))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>f.localDocuments.getDocuments(_,w))})}(i.localStore,e);Lx(i,e,t),Fx(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield dd(i,r)}catch(r){yield Sc(r)}}),Rx.apply(this,arguments)}function Ox(){return Ox=(0,lt.Z)(function*(n,e){const t=Lt(n);Mh(t.remoteStore)||Et("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=Lt(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>u.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===i)return void e.resolve();const r=t.uc.get(i)||[];r.push(e),t.uc.set(i,r)}catch(i){const r=iy(i,"Initialization of waitForPendingWrites() operation failed");e.reject(r)}}),Ox.apply(this,arguments)}function Fx(n,e){(n.uc.get(e)||[]).forEach(t=>{t.resolve()}),n.uc.delete(e)}function Lx(n,e,t){const i=Lt(n);let r=i.oc[i.currentUser.toKey()];if(r){const a=r.get(e);a&&(t?a.reject(t):a.resolve(),r=r.remove(e)),i.oc[i.currentUser.toKey()]=r}}function oy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.ec.get(e))n.tc.delete(i),t&&n.Zu.lc(i,t);n.ec.delete(e),n.isPrimaryClient&&n.rc.us(e).forEach(i=>{n.rc.containsKey(i)||PR(n,i)})}function PR(n,e){n.nc.delete(e.path.canonicalString());const t=n.sc.get(e);null!==t&&(W0(n.remoteStore,t),n.sc=n.sc.remove(e),n.ic.delete(t),Vx(n))}function Nx(n,e,t){for(const i of t)i instanceof DR?(n.rc.addReference(i.key,e),pV(n,i)):i instanceof TR?(Et("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,e),n.rc.containsKey(i.key)||PR(n,i.key)):Gt()}function pV(n,e){const t=e.key,i=t.path.canonicalString();n.sc.get(t)||n.nc.has(i)||(Et("SyncEngine","New document in limbo: "+t),n.nc.add(i),Vx(n))}function Vx(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const e=n.nc.values().next().value;n.nc.delete(e);const t=new kt(Pn.fromString(e)),i=n.cc.next();n.ic.set(i,new sV(t)),n.sc=n.sc.insert(t,i),UA(n.remoteStore,new Th(as(ad(t.path)),i,2,os.ot))}}function dd(n,e,t){return Bx.apply(this,arguments)}function Bx(){return Bx=(0,lt.Z)(function*(n,e,t){const i=Lt(n),r=[],a=[],u=[];var f;i.tc.isEmpty()||(i.tc.forEach((f,_)=>{u.push(i.hc(_,e,t).then(w=>{if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),r.push(w);const k=$I.Vi(_.targetId,w);a.push(k)}}))}),yield Promise.all(u),i.Zu.Go(r),yield(f=(0,lt.Z)(function*(_,w){const k=Lt(_);try{yield k.persistence.runTransaction("notifyLocalViewChanges","readwrite",q=>et.forEach(w,Se=>et.forEach(Se.Pi,Fe=>k.persistence.referenceDelegate.addReference(q,Se.targetId,Fe)).next(()=>et.forEach(Se.vi,Fe=>k.persistence.referenceDelegate.removeReference(q,Se.targetId,Fe)))))}catch(q){if(!Dc(q))throw q;Et("LocalStore","Failed to update sequence numbers: "+q)}for(const q of w){const Se=q.targetId;if(!q.fromCache){const Fe=k.$i.get(Se),We=Fe.withLastLimboFreeSnapshotVersion(Fe.snapshotVersion);k.$i=k.$i.insert(Se,We)}}}),function(_,w){return f.apply(this,arguments)})(i.localStore,a))}),Bx.apply(this,arguments)}function gV(n,e){return Ux.apply(this,arguments)}function Ux(){return Ux=(0,lt.Z)(function*(n,e){const t=Lt(n);if(!t.currentUser.isEqual(e)){Et("SyncEngine","User change. New user:",e.toKey());const i=yield sR(t.localStore,e);t.currentUser=e,(r=t).uc.forEach(u=>{u.forEach(f=>{f.reject(new vt(st.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield dd(t,i.Ki)}var r}),Ux.apply(this,arguments)}function mV(n,e){const t=Lt(n),i=t.ic.get(e);if(i&&i.Xu)return Tn().add(i.key);{let r=Tn();const a=t.ec.get(e);if(!a)return r;for(const u of a){const f=t.tc.get(u);r=r.unionWith(f.view.qu)}return r}}function _V(n,e){return jx.apply(this,arguments)}function jx(){return jx=(0,lt.Z)(function*(n,e){const t=Lt(n),i=yield LA(t.localStore,e.query,!0),r=e.view.Ju(i);return t.isPrimaryClient&&Nx(t,e.targetId,r.zu),r}),jx.apply(this,arguments)}function yV(n,e){return Hx.apply(this,arguments)}function Hx(){return Hx=(0,lt.Z)(function*(n,e){const t=Lt(n);return cR(t.localStore,e).then(i=>dd(t,i))}),Hx.apply(this,arguments)}function vV(n,e,t,i){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,lt.Z)(function*(n,e,t,i){const r=Lt(n),a=yield function(u,f){const _=Lt(u),w=Lt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",k=>w.yn(k,f).next(q=>q?_.localDocuments.getDocuments(k,q):et.resolve(null)))}(r.localStore,e);var f;null!==a?("pending"===t?yield ty(r.remoteStore):"acknowledged"===t||"rejected"===t?(Lx(r,e,i||null),Fx(r,e),f=e,Lt(Lt(r.localStore).mutationQueue).In(f)):Gt(),yield dd(r,a)):Et("SyncEngine","Cannot apply mutation batch with id: "+e)}),Gx.apply(this,arguments)}function zx(){return zx=(0,lt.Z)(function*(n,e){const t=Lt(n);if(Kx(t),Yx(t),!0===e&&!0!==t.ac){const i=t.sharedClientState.getAllActiveQueryTargets(),r=yield kR(t,i.toArray());t.ac=!0,yield mx(t.remoteStore,!0);for(const a of r)UA(t.remoteStore,a)}else if(!1===e&&!1!==t.ac){const i=[];let r=Promise.resolve();t.ec.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(oy(t,u),J_(t.localStore,u,!0))),W0(t.remoteStore,u)}),yield r,yield kR(t,i),function(a){const u=Lt(a);u.ic.forEach((f,_)=>{W0(u.remoteStore,_)}),u.rc.cs(),u.ic=new Map,u.sc=new Ei(kt.comparator)}(t),t.ac=!1,yield mx(t.remoteStore,!1)}}),zx.apply(this,arguments)}function kR(n,e,t){return $x.apply(this,arguments)}function $x(){return $x=(0,lt.Z)(function*(n,e,t){const i=Lt(n),r=[],a=[];for(const u of e){let f;const _=i.ec.get(u);if(_&&0!==_.length){f=yield Q_(i.localStore,as(_[0]));for(const w of _){const k=i.tc.get(w),q=yield _V(i,k);q.snapshot&&a.push(q.snapshot)}}else{const w=yield lR(i.localStore,u);f=yield Q_(i.localStore,w),yield Dx(i,RR(w),u,!1)}r.push(f)}return i.Zu.Go(a),r}),$x.apply(this,arguments)}function RR(n){return gA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function wV(n){const e=Lt(n);return Lt(Lt(e.localStore).persistence).Ri()}function CV(n,e,t,i){return Wx.apply(this,arguments)}function Wx(){return Wx=(0,lt.Z)(function*(n,e,t,i){const r=Lt(n);if(r.ac)return void Et("SyncEngine","Ignoring unexpected query state notification.");const a=r.ec.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield cR(r.localStore,E0(a[0])),f=W_.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield dd(r,u,f);break}case"rejected":yield J_(r.localStore,e,!0),oy(r,e,i);break;default:Gt()}}),Wx.apply(this,arguments)}function EV(n,e,t){return qx.apply(this,arguments)}function qx(){return qx=(0,lt.Z)(function*(n,e,t){const i=Kx(n);if(i.ac){for(const r of e){if(i.ec.has(r)){Et("SyncEngine","Adding an already active target "+r);continue}const a=yield lR(i.localStore,r),u=yield Q_(i.localStore,a);yield Dx(i,RR(a),u.targetId,!1),UA(i.remoteStore,u)}for(const r of t)i.ec.has(r)&&(yield J_(i.localStore,r,!1).then(()=>{W0(i.remoteStore,r),oy(i,r)}).catch(Sc))}}),qx.apply(this,arguments)}function Kx(n){const e=Lt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mV.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uV.bind(null,e),e.Zu.Go=eV.bind(null,e.eventManager),e.Zu.lc=tV.bind(null,e.eventManager),e}function Yx(n){const e=Lt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dV.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hV.bind(null,e),e}class OR{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,lt.Z)(function*(){t.wt=z0(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return rR(this.persistence,new iR,e.initialUser,this.wt)}_c(e){return new tR(OA.Os,this.wt)}dc(e){return new fR}terminate(){var e=this;return(0,lt.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class FR extends OR{constructor(e,t,i){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,i=this;return(0,lt.Z)(function*(){yield t().call(i,e),yield i.yc.initialize(i,e),yield Yx(i.yc.syncEngine),yield ty(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return rR(this.persistence,new iR,e.initialUser,this.wt)}mc(e,t){return new pN(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const i=new lA(t,this.persistence);return new aA(e.asyncQueue,i)}_c(e){const t=zI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?ao.withCacheSize(this.cacheSizeBytes):ao.DEFAULT;return new GI(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,gR(),BA(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new fR}}class SV extends FR{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,i=this;return(0,lt.Z)(function*(){yield t().call(i,e);const r=i.yc.syncEngine;i.sharedClientState instanceof JI&&(i.sharedClientState.syncEngine={kr:vV.bind(null,r),Mr:CV.bind(null,r),Or:EV.bind(null,r),Ri:wV.bind(null,r),Nr:yV.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var a=(0,lt.Z)(function*(u){yield function bV(n,e){return zx.apply(this,arguments)}(i.yc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}dc(e){const t=gR();if(!JI.V(t))throw new vt(st.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=zI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new JI(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Zx{initialize(e,t){var i=this;return(0,lt.Z)(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>MR(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=gV.bind(null,i.syncEngine),yield mx(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new JN}createDatastore(e){const t=z0(e.databaseInfo.databaseId),i=new NN(e.databaseInfo);return new UN(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return t=this.localStore,i=this.datastore,r=e.asyncQueue,a=f=>MR(this.syncEngine,f,0),u=pR.V()?new pR:new ON,new HN(t,i,r,a,u);var t,i,r,a,u}createSyncEngine(e,t){return function(i,r,a,u,f,_,w){const k=new oV(i,r,a,u,f,_);return w&&(k.ac=!0),k}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,lt.Z)(function*(t){const i=Lt(t);Et("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield ey(i),i.du.shutdown(),i._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function LR(n,e=10240){let t=0;return{read:()=>(0,lt.Z)(function*(){if(t<n.byteLength){const i={value:n.slice(t,t+e),done:!1};return t+=e,i}return{done:!0}})(),cancel:()=>(0,lt.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class HA{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):Mi("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class DV{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new cr,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,lt.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,lt.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,lt.Z)(function*(){const t=yield e.bc();if(null===t)return null;const i=e.Ac.decode(t),r=Number(i);isNaN(r)&&e.Pc(`length string (${i}) is not valid number`);const a=yield e.vc(r);return new nV(JSON.parse(a),t.length+r)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,lt.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const i=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),i})()}vc(e){var t=this;return(0,lt.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const i=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),i})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,lt.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const i=new Uint8Array(e.buffer.length+t.value.length);i.set(e.buffer),i.set(t.value,e.buffer.length),e.buffer=i}return t.done})()}}class TV{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,lt.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new vt(st.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,lt.Z)(function*(a,u){const f=Lt(a),_=De(f.wt)+"/documents",w={documents:u.map(Fe=>E(f.wt,Fe))},k=yield f.ao("BatchGetDocuments",_,w,u.length),q=new Map;k.forEach(Fe=>{const Ve=function At(n,e){return"found"in e?function(t,i){pn(!!i.found);const r=T(t,i.found.name),a=h(i.found.updateTime),u=new wr({mapValue:{fields:i.found.fields}});return ni.newFoundDocument(r,a,u)}(n,e):"missing"in e?function(t,i){pn(!!i.missing),pn(!!i.readTime);const r=T(t,i.missing),a=h(i.readTime);return ni.newNoDocument(r,a)}(n,e):Gt()}(f.wt,Fe);q.set(Ve.key.toString(),Ve)});const Se=[];return u.forEach(Fe=>{const Ve=q.get(Fe.toString());pn(!!Ve),Se.push(Ve)}),Se}),function(a,u){return r.apply(this,arguments)})(t.datastore,e);var r;return i.forEach(r=>t.recordVersion(r)),i})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(e.toString())}delete(e){this.write(new Sh(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,lt.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var i;e.mutations.forEach(i=>{t.delete(i.key.toString())}),t.forEach((i,r)=>{const a=kt.fromPath(r);e.mutations.push(new T0(a,e.precondition(a)))}),yield(i=(0,lt.Z)(function*(r,a){const u=Lt(r),f=De(u.wt)+"/documents",_={writes:a.map(w=>Bt(u.wt,w))};yield u.ro("Commit",f,_)}),function(r,a){return i.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Gt();t=an.min()}const i=this.readVersions.get(e.key.toString());if(i){if(!t.isEqual(i))throw new vt(st.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?gi.updateTime(t):gi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(an.min()))throw new vt(st.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return gi.updateTime(t)}return gi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class IV{constructor(e,t,i,r,a){this.asyncQueue=e,this.datastore=t,this.options=i,this.updateFunction=r,this.deferred=a,this.Dc=i.maxAttempts,this.So=new ex(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,lt.Z)(function*(){const t=new TV(e.datastore),i=e.xc(t);i&&i.then(r=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(r)}).catch(a=>{e.Nc(a)}))}).catch(r=>{e.Nc(r)})}))}xc(e){try{const t=this.updateFunction(e);return!Fp(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!I0(t)}return!1}}class xV{constructor(e,t,i,r){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=lr.UNAUTHENTICATED,this.clientId=I_.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,lt.Z)(function*(f){Et("FirestoreClient","Received user=",f.uid),yield a.authCredentialListener(f),a.user=f});return function(f){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(Et("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,lt.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new vt(st.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,lt.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=iy(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function NR(n,e){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,lt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Et("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=(0,lt.Z)(function*(a){i.isEqual(a)||(yield sR(e.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),Xx.apply(this,arguments)}function VR(n,e){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,lt.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield Jx(n);Et("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>CR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>CR(e.remoteStore,a)),n.onlineComponents=e}),Qx.apply(this,arguments)}function Jx(n){return eM.apply(this,arguments)}function eM(){return eM=(0,lt.Z)(function*(n){return n.offlineComponents||(Et("FirestoreClient","Using default OfflineComponentProvider"),yield NR(n,new OR)),n.offlineComponents}),eM.apply(this,arguments)}function GA(n){return tM.apply(this,arguments)}function tM(){return tM=(0,lt.Z)(function*(n){return n.onlineComponents||(Et("FirestoreClient","Using default OnlineComponentProvider"),yield VR(n,new Zx)),n.onlineComponents}),tM.apply(this,arguments)}function BR(n){return Jx(n).then(e=>e.persistence)}function zA(n){return Jx(n).then(e=>e.localStore)}function UR(n){return GA(n).then(e=>e.remoteStore)}function nM(n){return GA(n).then(e=>e.syncEngine)}function ay(n){return iM.apply(this,arguments)}function iM(){return iM=(0,lt.Z)(function*(n){const e=yield GA(n),t=e.eventManager;return t.onListen=aV.bind(null,e.syncEngine),t.onUnlisten=lV.bind(null,e.syncEngine),t}),iM.apply(this,arguments)}function jR(n,e,t={}){const i=new cr;return n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return function(r,a,u,f,_){const w=new HA({next:q=>{a.enqueueAndForget(()=>wx(r,k));const Se=q.docs.has(u);!Se&&q.fromCache?_.reject(new vt(st.UNAVAILABLE,"Failed to get document because the client is offline.")):Se&&q.fromCache&&f&&"server"===f.source?_.reject(new vt(st.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(q)},error:q=>_.reject(q)}),k=new Ax(ad(u.path),w,{includeMetadataChanges:!0,Du:!0});return vx(r,k)}(yield ay(n),n.asyncQueue,e,t,i)})),i.promise}function HR(n,e,t={}){const i=new cr;return n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return function(r,a,u,f,_){const w=new HA({next:q=>{a.enqueueAndForget(()=>wx(r,k)),q.fromCache&&"server"===f.source?_.reject(new vt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(q)},error:q=>_.reject(q)}),k=new Ax(u,w,{includeMetadataChanges:!0,Du:!0});return vx(r,k)}(yield ay(n),n.asyncQueue,e,t,i)})),i.promise}const GR=new Map;function rM(n,e,t){if(!t)throw new vt(st.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function zR(n,e,t,i){if(!0===e&&!0===i)throw new vt(st.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function $R(n){if(!kt.isDocumentKey(n))throw new vt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function WR(n){if(kt.isDocumentKey(n))throw new vt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function $A(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Gt()}function Ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new vt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=$A(n);throw new vt(st.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function qR(n,e){if(e<=0)throw new vt(st.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class KR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new vt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new vt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,zR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class q0{constructor(e,t,i){this._authCredentials=t,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new KR({}),this._settingsFrozen=!1,e instanceof xa?this._databaseId=e:(this._app=e,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new vt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xa(r.options.projectId)}(e))}get app(){if(!this._app)throw new vt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new vt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new KR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new fh;switch(t.type){case"gapi":const i=t.client;return pn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new vk(i,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new vt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=GR.get(e);t&&(Et("ComponentProvider","Removing Datastore"),GR.delete(e),t.terminate())}(this),Promise.resolve()}}class Si{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Si(this.firestore,e,this._key)}}class ys{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ys(this.firestore,e,this._query)}}class Vc extends ys{constructor(e,t,i){super(e,t,ad(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Si(this.firestore,null,new kt(e))}withConverter(e){return new Vc(this.firestore,e,this._path)}}function YR(n,e,...t){if(n=(0,wn.m9)(n),rM("collection","path",e),n instanceof q0){const i=Pn.fromString(e,...t);return WR(i),new Vc(n,null,i)}{if(!(n instanceof Si||n instanceof Vc))throw new vt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pn.fromString(e,...t));return WR(i),new Vc(n.firestore,null,i)}}function WA(n,e,...t){if(n=(0,wn.m9)(n),1===arguments.length&&(e=I_.I()),rM("doc","path",e),n instanceof q0){const i=Pn.fromString(e,...t);return $R(i),new Si(n,null,new kt(i))}{if(!(n instanceof Si||n instanceof Vc))throw new vt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Pn.fromString(e,...t));return $R(i),new Si(n.firestore,n instanceof Vc?n.converter:null,new kt(i))}}function ZR(n,e){return n=(0,wn.m9)(n),e=(0,wn.m9)(e),(n instanceof Si||n instanceof Vc)&&(e instanceof Si||e instanceof Vc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function XR(n,e){return n=(0,wn.m9)(n),e=(0,wn.m9)(e),n instanceof ys&&e instanceof ys&&n.firestore===e.firestore&&kc(n._query,e._query)&&n.converter===e.converter}class UV{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new ex(this,"async_queue_retry"),this.Kc=()=>{const t=BA();t&&Et("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=BA();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=BA();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new cr;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Oc.push(e),this.jc()))}jc(){var e=this;return(0,lt.Z)(function*(){if(0!==e.Oc.length){try{yield e.Oc[0](),e.Oc.shift(),e.So.reset()}catch(t){if(!Dc(t))throw t;Et("AsyncQueue","Operation failed with retryable error: "+t)}e.Oc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Mc.then(()=>(this.Lc=!0,e().catch(i=>{throw this.Bc=i,this.Lc=!1,Mi("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Mc=t,t}enqueueAfterDelay(e,t,i){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=yx.createAndSchedule(this,e,t,i,a=>this.Wc(a));return this.$c.push(r),r}Gc(){this.Bc&&Gt()}verifyOperationInProgress(){}zc(){var e=this;return(0,lt.Z)(function*(){let t;do{t=e.Mc,yield t}while(t!==e.Mc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function sM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const i=e;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class jV{constructor(){this._progressObserver={},this._taskCompletionResolver=new cr,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,i){this._progressObserver={next:e,error:t,complete:i}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Pi extends q0{constructor(e,t,i){super(e,t,i),this.type="firestore",this._queue=new UV,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||QR(this),this._firestoreClient.terminate()}}function dr(n){return n._firestoreClient||QR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function QR(n){var e;const t=n._freezeSettings(),i=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new p0(n._databaseId,a,n._persistenceKey,(f=t).host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,f.useFetchStreams));var a,f;n._firestoreClient=new xV(n._authCredentials,n._appCheckCredentials,n._queue,i)}function JR(n,e,t){const i=new cr;return n.asyncQueue.enqueue((0,lt.Z)(function*(){try{yield NR(n,t),yield VR(n,e),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(u=a).name?u.code===st.FAILED_PRECONDITION||u.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;Ec("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var u})).then(()=>i.promise)}function eO(n){if(n._initialized||n._terminated)throw new vt(st.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class hd{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new vt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ci(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Bc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bc(ur.fromBase64String(e))}catch(t){throw new vt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bc(ur.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class rg{constructor(e){this._methodName=e}}class qA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new vt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new vt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return An(this._lat,e._lat)||An(this._long,e._long)}}const XV=/^__.*__$/;class QV{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Rc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Yp(e,this.data,t,this.fieldTransforms)}}class tO{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Rc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function nO(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Gt()}}class KA{constructor(e,t,i,r,a,u){this.settings=e,this.databaseId=t,this.wt=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new KA(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.sa(e),r}ia(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return XA(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(nO(this.Zc)&&XV.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class JV{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=i||z0(e)}aa(e,t,i,r=!1){return new KA({Zc:e,methodName:t,ca:i,path:Ci.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function sg(n){const e=n._freezeSettings(),t=z0(n._databaseId);return new JV(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YA(n,e,t,i,r,a={}){const u=n.aa(a.merge||a.mergeFields?2:0,e,t,r);cM("Data must be an object, but it was:",u,i);const f=sO(i,u);let _,w;if(a.merge)_=new so(u.fieldMask),w=u.fieldTransforms;else if(a.mergeFields){const k=[];for(const q of a.mergeFields){const Se=uM(e,q,t);if(!u.contains(Se))throw new vt(st.INVALID_ARGUMENT,`Field '${Se}' is specified in your field mask but missing from your input data.`);aO(k,Se)||k.push(Se)}_=new so(k),w=u.fieldTransforms.filter(q=>_.covers(q.field))}else _=null,w=u.fieldTransforms;return new QV(new wr(f),_,w)}class K0 extends rg{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof K0}}function iO(n,e,t){return new KA({Zc:3,ca:e.settings.ca,methodName:n._methodName,na:t},e.databaseId,e.wt,e.ignoreUndefinedProperties)}class oM extends rg{_toFieldTransform(e){return new Kp(e.path,new Wp)}isEqual(e){return e instanceof oM}}class eB extends rg{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=iO(this,e,!0),i=this.ha.map(a=>og(a,t)),r=new bh(i);return new Kp(e.path,r)}isEqual(e){return this===e}}class tB extends rg{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=iO(this,e,!0),i=this.ha.map(a=>og(a,t)),r=new wh(i);return new Kp(e.path,r)}isEqual(e){return this===e}}class nB extends rg{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new Ch(e.wt,vI(e.wt,this.la));return new Kp(e.path,t)}isEqual(e){return this===e}}function aM(n,e,t,i){const r=n.aa(1,e,t);cM("Data must be an object, but it was:",r,i);const a=[],u=wr.empty();nd(i,(_,w)=>{const k=ZA(e,_,t);w=(0,wn.m9)(w);const q=r.ia(k);if(w instanceof K0)a.push(k);else{const Se=og(w,q);null!=Se&&(a.push(k),u.set(k,Se))}});const f=new so(a);return new tO(u,f,r.fieldTransforms)}function lM(n,e,t,i,r,a){const u=n.aa(1,e,t),f=[uM(e,i,t)],_=[r];if(a.length%2!=0)throw new vt(st.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Se=0;Se<a.length;Se+=2)f.push(uM(e,a[Se])),_.push(a[Se+1]);const w=[],k=wr.empty();for(let Se=f.length-1;Se>=0;--Se)if(!aO(w,f[Se])){const Fe=f[Se];let Ve=_[Se];Ve=(0,wn.m9)(Ve);const We=u.ia(Fe);if(Ve instanceof K0)w.push(Fe);else{const ut=og(Ve,We);null!=ut&&(w.push(Fe),k.set(Fe,ut))}}const q=new so(w);return new tO(k,q,u.fieldTransforms)}function rO(n,e,t,i=!1){return og(t,n.aa(i?4:3,e))}function og(n,e){if(oO(n=(0,wn.m9)(n)))return cM("Unsupported field value:",e,n),sO(n,e);if(n instanceof rg)return function(t,i){if(!nO(i.Zc))throw i.oa(`${t._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${t._methodName}() is not currently supported inside arrays`);const r=t._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.na&&4!==e.Zc)throw e.oa("Nested arrays are not supported");return function(t,i){const r=[];let a=0;for(const u of t){let f=og(u,i.ra(a));null==f&&(f={nullValue:"NULL_VALUE"}),r.push(f),a++}return{arrayValue:{values:r}}}(n,e)}return function(t,i){if(null===(t=(0,wn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return vI(i.wt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const r=pi.fromDate(t);return{timestampValue:o(i.wt,r)}}if(t instanceof pi){const r=new pi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:o(i.wt,r)}}if(t instanceof qA)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Bc)return{bytesValue:c(i.wt,t._byteString)};if(t instanceof Si){const r=i.databaseId,a=t.firestore._databaseId;if(!a.isEqual(r))throw i.oa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:g(t.firestore._databaseId||i.databaseId,t._key.path)}}throw i.oa(`Unsupported field value: ${$A(t)}`)}(n,e)}function sO(n,e){const t={};return oI(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):nd(n,(i,r)=>{const a=og(r,e.ea(i));null!=a&&(t[i]=a)}),{mapValue:{fields:t}}}function oO(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof pi||n instanceof qA||n instanceof Bc||n instanceof Si||n instanceof rg)}function cM(n,e,t){if(!oO(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=$A(t);throw e.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function uM(n,e,t){if((e=(0,wn.m9)(e))instanceof hd)return e._internalPath;if("string"==typeof e)return ZA(n,e);throw XA("Field path arguments must be of type string or ",n,!1,void 0,t)}const iB=new RegExp("[~\\*/\\[\\]]");function ZA(n,e,t){if(e.search(iB)>=0)throw XA(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new hd(...e.split("."))._internalPath}catch{throw XA(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function XA(n,e,t,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new vt(st.INVALID_ARGUMENT,f+n+_)}function aO(n,e){return n.some(t=>t.isEqual(e))}class Y0{constructor(e,t,i,r,a){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Si(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new rB(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(QA("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class rB extends Y0{data(){return super.data()}}function QA(n,e){return"string"==typeof e?ZA(n,e):e instanceof hd?e._internalPath:e._delegate._internalPath}class ag{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class fd extends Y0{constructor(e,t,i,r,a,u){super(e,t,i,r,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Z0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(QA("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Z0 extends fd{data(e={}){return super.data(e)}}class kh{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ag(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Z0(this._firestore,this._userDataWriter,i.key,i,new ag(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new vt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new Z0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ag(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const f=new Z0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new ag(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),w=a.indexOf(u.doc.key)),{type:sB(u.type),doc:f,oldIndex:_,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sB(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Gt()}}function lO(n,e){return n instanceof fd&&e instanceof fd?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof kh&&e instanceof kh&&n._firestore===e._firestore&&XR(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function cO(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new vt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class X0{}function Rh(n,...e){for(const t of e)n=t._apply(n);return n}class oB extends X0{constructor(e,t,i){super(),this.fa=e,this.da=t,this._a=i,this.type="where"}_apply(e){const t=sg(e.firestore),i=function(r,a,u,f,_,w,k){let q;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new vt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){gO(k,w);const Fe=[];for(const Ve of k)Fe.push(pO(f,r,Ve));q={arrayValue:{values:Fe}}}else q=pO(f,r,k)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||gO(k,w),q=rO(u,"where",k,"in"===w||"not-in"===w);const Se=Cr.create(_,w,q);return function(Fe,Ve){if(Ve.ht()){const ut=U_(Fe);if(null!==ut&&!ut.isEqual(Ve.field))throw new vt(st.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${ut.toString()}' and '${Ve.field.toString()}'`);const Nt=Hp(Fe);null!==Nt&&mO(0,Ve.field,Nt)}const We=function(ut,Nt){for(const zt of ut.filters)if(Nt.indexOf(zt.op)>=0)return zt.op;return null}(Fe,function(ut){switch(ut){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Ve.op));if(null!==We)throw new vt(st.INVALID_ARGUMENT,We===Ve.op?`Invalid query. You cannot use more than one '${Ve.op.toString()}' filter.`:`Invalid query. You cannot use '${Ve.op.toString()}' filters with '${We.toString()}' filters.`)}(r,Se),Se}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new ys(e.firestore,e.converter,function(r,a){const u=r.filters.concat([a]);return new Ma(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(e._query,i))}}class lB extends X0{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(i,r,a){if(null!==i.startAt)throw new vt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new vt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new yh(r,a);return function(f,_){if(null===Hp(f)){const w=U_(f);null!==w&&mO(0,w,_.field)}}(i,u),u}(e._query,this.fa,this.wa);return new ys(e.firestore,e.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Ma(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}}class uO extends X0{constructor(e,t,i){super(),this.type=e,this.ma=t,this.ga=i}_apply(e){return new ys(e.firestore,e.converter,Gp(e._query,this.ma,this.ga))}}class dO extends X0{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=fO(e,this.type,this.ya,this.pa);return new ys(e.firestore,e.converter,(r=t,new Ma((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class hO extends X0{constructor(e,t,i){super(),this.type=e,this.ya=t,this.pa=i}_apply(e){const t=fO(e,this.type,this.ya,this.pa);return new ys(e.firestore,e.converter,(r=t,new Ma((i=e._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function fO(n,e,t,i){if(t[0]=(0,wn.m9)(t[0]),t[0]instanceof Y0)return function(r,a,u,f,_){if(!f)throw new vt(st.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const k of vh(r))if(k.field.isKeyField())w.push(od(a,f.key));else{const q=f.data.field(k.field);if(k_(q))throw new vt(st.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+k.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===q){const Se=k.field.canonicalString();throw new vt(st.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Se}' (used as the orderBy) does not exist.`)}w.push(q)}return new Pc(w,_)}(n._query,n.firestore._databaseId,e,t[0]._document,i);{const r=sg(n.firestore);return function(a,u,f,_,w,k){const q=a.explicitOrderBy;if(w.length>q.length)throw new vt(st.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Se=[];for(let Fe=0;Fe<w.length;Fe++){const Ve=w[Fe];if(q[Fe].field.isKeyField()){if("string"!=typeof Ve)throw new vt(st.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Ve}`);if(!j_(a)&&-1!==Ve.indexOf("/"))throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Ve}' contains a slash.`);const We=a.path.child(Pn.fromString(Ve));if(!kt.isDocumentKey(We))throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${We}' is not because it contains an odd number of segments.`);const ut=new kt(We);Se.push(od(u,ut))}else{const We=rO(f,_,Ve);Se.push(We)}}return new Pc(Se,k)}(n._query,n.firestore._databaseId,r,e,t,i)}}function pO(n,e,t){if("string"==typeof(t=(0,wn.m9)(t))){if(""===t)throw new vt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!j_(e)&&-1!==t.indexOf("/"))throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Pn.fromString(t));if(!kt.isDocumentKey(i))throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return od(n,new kt(i))}if(t instanceof Si)return od(n,t._key);throw new vt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${$A(t)}.`)}function gO(n,e){if(!Array.isArray(n)||0===n.length)throw new vt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new vt(st.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function mO(n,e,t){if(!t.isEqual(e))throw new vt(st.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}const mB={maxAttempts:5};class dM{convertValue(e,t="none"){switch(rd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ai(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ia(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Gt()}}convertObject(e,t){const i={};return nd(e.fields,(r,a)=>{i[r]=this.convertValue(a,t)}),i}convertGeoPoint(e){return new qA(Ai(e.latitude),Ai(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=f0(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(R_(e));default:return null}}convertTimestamp(e){const t=id(e);return new pi(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Pn.fromString(e);pn(Y_(i));const r=new xa(i.get(1),i.get(3)),a=new kt(i.popFirst(5));return r.isEqual(t)||Mi(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function JA(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}class _B extends dM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Si(this.firestore,null,t)}}class _O{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sg(e)}set(e,t,i){this._verifyNotCommitted();const r=Oh(e,this._firestore),a=JA(r.converter,t,i),u=YA(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,gi.none())),this}update(e,t,i,...r){this._verifyNotCommitted();const a=Oh(e,this._firestore);let u;return u="string"==typeof(t=(0,wn.m9)(t))||t instanceof hd?lM(this._dataReader,"WriteBatch.update",a._key,t,i,r):aM(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,gi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Oh(e,this._firestore);return this._mutations=this._mutations.concat(new Sh(t._key,gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(st.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Oh(n,e){if((n=(0,wn.m9)(n)).firestore!==e)throw new vt(st.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class lg extends dM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Si(this.firestore,null,t)}}function yO(n,e,t){n=Ln(n,Si);const i=Ln(n.firestore,Pi),r=JA(n.converter,e,t);return ly(i,[YA(sg(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,gi.none())])}function vO(n,e,t,...i){n=Ln(n,Si);const r=Ln(n.firestore,Pi),a=sg(r);let u;return u="string"==typeof(e=(0,wn.m9)(e))||e instanceof hd?lM(a,"updateDoc",n._key,e,t,i):aM(a,"updateDoc",n._key,e),ly(r,[u.toMutation(n._key,gi.exists(!0))])}function bO(n,...e){var t,i,r;n=(0,wn.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||sM(e[u])||(a=e[u],u++);const f={includeMetadataChanges:a.includeMetadataChanges};if(sM(e[u])){const q=e[u];e[u]=null===(t=q.next)||void 0===t?void 0:t.bind(q),e[u+1]=null===(i=q.error)||void 0===i?void 0:i.bind(q),e[u+2]=null===(r=q.complete)||void 0===r?void 0:r.bind(q)}let _,w,k;if(n instanceof Si)w=Ln(n.firestore,Pi),k=ad(n._key.path),_={next:q=>{e[u]&&e[u](hM(w,n,q))},error:e[u+1],complete:e[u+2]};else{const q=Ln(n,ys);w=Ln(q.firestore,Pi),k=q._query;const Se=new lg(w);_={next:Fe=>{e[u]&&e[u](new kh(w,Se,q,Fe))},error:e[u+1],complete:e[u+2]},cO(n._query)}return function(q,Se,Fe,Ve){const We=new HA(Ve),ut=new Ax(Se,We,Fe);return q.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return vx(yield ay(q),ut)})),()=>{We.Tc(),q.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return wx(yield ay(q),ut)}))}}(dr(w),k,f,_)}function ly(n,e){return function(t,i){const r=new cr;return t.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return function cV(n,e,t){return xx.apply(this,arguments)}(yield nM(t),i,r)})),r.promise}(dr(n),e)}function hM(n,e,t){const i=t.docs.get(e._key),r=new lg(n);return new fd(n,r,e._key,i,new ag(t.hasPendingWrites,t.fromCache),e.converter)}class TB extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=sg(e)}get(e){const t=Oh(e,this._firestore),i=new _B(this._firestore);return this._transaction.lookup([t._key]).then(r=>{if(!r||1!==r.length)return Gt();const a=r[0];if(a.isFoundDocument())return new Y0(this._firestore,i,a.key,a,t.converter);if(a.isNoDocument())return new Y0(this._firestore,i,t._key,null,t.converter);throw Gt()})}set(e,t,i){const r=Oh(e,this._firestore),a=JA(r.converter,t,i),u=YA(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(e,t,i,...r){const a=Oh(e,this._firestore);let u;return u="string"==typeof(t=(0,wn.m9)(t))||t instanceof hd?lM(this._dataReader,"Transaction.update",a._key,t,i,r):aM(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Oh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Oh(e,this._firestore),i=new lg(this._firestore);return super.get(e).then(r=>new fd(this._firestore,i,t._key,r._document,new ag(!1,!1),t.converter))}}function fM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new vt("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function CO(){if(typeof Uint8Array>"u")throw new vt("unimplemented","Uint8Arrays are not available in this environment.")}function EO(){if(!function bk(){return typeof atob<"u"}())throw new vt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){hh=pc.SDK_VERSION,(0,pc._registerComponent)(new Jd.wA("firestore",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),a=new Pi(r,new tI(t.getProvider("auth-internal")),new eA(t.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:e},i),a._setSettings(i),a},"PUBLIC")),(0,pc.registerVersion)(S_,"3.4.14",n),(0,pc.registerVersion)(S_,"3.4.14","esm2017")}();class Q0{constructor(e){this._delegate=e}static fromBase64String(e){return EO(),new Q0(Bc.fromBase64String(e))}static fromUint8Array(e){return CO(),new Q0(Bc.fromUint8Array(e))}toBase64(){return EO(),this._delegate.toBase64()}toUint8Array(){return CO(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function pM(n){return function LB(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const i of e)if(i in t&&"function"==typeof t[i])return!0;return!1}(n,["next","error","complete"])}class NB{enableIndexedDbPersistence(e,t){return function GV(n,e){eO(n=Ln(n,Pi));const t=dr(n),i=n._freezeSettings(),r=new Zx;return JR(t,r,new FR(r,i.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function zV(n){eO(n=Ln(n,Pi));const e=dr(n),t=n._freezeSettings(),i=new Zx;return JR(e,i,new SV(i,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function $V(n){if(n._initialized&&!n._terminated)throw new vt(st.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new cr;return n._queue.enqueueAndForgetEvenWhileRestricted((0,lt.Z)(function*(){try{yield(t=(0,lt.Z)(function*(i){if(!zo.V())return Promise.resolve();const r=i+"main";yield zo.delete(r)}),function(i){return t.apply(this,arguments)})(zI(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class AO{constructor(e,t,i){this._delegate=t,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},e instanceof xa||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ec("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,i={}){!function VV(n,e,t,i={}){var r;const a=(n=Ln(n,q0))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Ec("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),i.mockUserToken){let u,f;if("string"==typeof i.mockUserToken)u=i.mockUserToken,f=lr.MOCK_USER;else{u=(0,wn.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new vt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new lr(_)}n._authCredentials=new eI(new Vr(u,f))}}(this._delegate,e,t,i)}enableNetwork(){return function qV(n){return function MV(n){return n.asyncQueue.enqueue((0,lt.Z)(function*(){const e=yield BR(n),t=yield UR(n);return e.setNetworkEnabled(!0),function(i){const r=Lt(i);return r.lu.delete(0),$0(r)}(t)}))}(dr(n=Ln(n,Pi)))}(this._delegate)}disableNetwork(){return function KV(n){return function PV(n){return n.asyncQueue.enqueue((0,lt.Z)(function*(){const e=yield BR(n),t=yield UR(n);return e.setNetworkEnabled(!1),(i=(0,lt.Z)(function*(r){const a=Lt(r);a.lu.add(0),yield ey(a),a._u.set("Offline")}),function(r){return i.apply(this,arguments)})(t);var i}))}(dr(n=Ln(n,Pi)))}(this._delegate)}enablePersistence(e){let t=!1,i=!1;return e&&(t=!!e.synchronizeTabs,i=!!e.experimentalForceOwningTab,zR("synchronizeTabs",t,"experimentalForceOwningTab",i)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function WV(n){return function(e){const t=new cr;return e.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return function fV(n,e){return Ox.apply(this,arguments)}(yield nM(e),t)})),t.promise}(dr(n=Ln(n,Pi)))}(this._delegate)}onSnapshotsInSync(e){return function DB(n,e){return function OV(n,e){const t=new HA(e);return n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return i=yield ay(n),r=t,Lt(i).Tu.add(r),void r.next();var i,r})),()=>{t.Tc(),n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return i=yield ay(n),r=t,void Lt(i).Tu.delete(r);var i,r}))}}(dr(n=Ln(n,Pi)),sM(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new vt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new cy(this,YR(this._delegate,e))}catch(t){throw Ls(t,"collection()","Firestore.collection()")}}doc(e){try{return new ka(this,WA(this._delegate,e))}catch(t){throw Ls(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Ns(this,function BV(n,e){if(n=Ln(n,q0),rM("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new vt(st.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new ys(n,null,(t=e,new Ma(Pn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ls(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function IB(n,e,t){n=Ln(n,Pi);const i=Object.assign(Object.assign({},mB),t);return function(r){if(r.maxAttempts<1)throw new vt(st.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function FV(n,e,t){const i=new cr;return n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){const r=yield(a=n,GA(a).then(u=>u.datastore));var a;new IV(n.asyncQueue,r,t,e,i).run()})),i.promise}(dr(n),r=>e(new TB(n,r)),i)}(this._delegate,t=>e(new SO(this,t)))}batch(){return dr(this._delegate),new DO(new _O(this._delegate,e=>ly(this._delegate,e)))}loadBundle(e){return function YV(n,e){const t=dr(n=Ln(n,Pi)),i=new jV;return function LV(n,e,t,i){const r=function(a,u){let f;return f="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return LR(_,w);if(_ instanceof ArrayBuffer)return LR(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new DV(_,u);var _}(t,z0(e));n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){!function AV(n,e,t){const i=Lt(n);var r;(r=(0,lt.Z)(function*(a,u,f){try{const _=yield u.getMetadata();if(yield function(Se,Fe){const Ve=Lt(Se),We=h(Fe.createTime);return Ve.persistence.runTransaction("hasNewerBundle","readonly",ut=>Ve.Ds.getBundleMetadata(ut,Fe.id)).then(ut=>!!ut&&ut.createTime.compareTo(We)>=0)}(a.localStore,_))return yield u.close(),f._completeWith({taskState:"Success",documentsLoaded:(Se=_).totalDocuments,bytesLoaded:Se.totalBytes,totalDocuments:Se.totalDocuments,totalBytes:Se.totalBytes}),Promise.resolve(new Set);f._updateProgress(SR(_));const w=new iV(_,a.localStore,u.wt);let k=yield u.fc();for(;k;){const Se=yield w.Nu(k);Se&&f._updateProgress(Se),k=yield u.fc()}const q=yield w.complete();return yield dd(a,q.Ou,void 0),yield function(Se,Fe){const Ve=Lt(Se);return Ve.persistence.runTransaction("Save bundle","readwrite",We=>Ve.Ds.saveBundleMetadata(We,Fe))}(a.localStore,_),f._completeWith(q.progress),Promise.resolve(q.Mu)}catch(_){return Ec("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var Se}),function(a,u,f){return r.apply(this,arguments)})(i,e,t).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield nM(n),r,i)}))}(t,n._databaseId,e,i),i}(this._delegate,e)}namedQuery(e){return function ZV(n,e){return function NV(n,e){return n.asyncQueue.enqueue((0,lt.Z)(function*(){return function(t,i){const r=Lt(t);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ds.getNamedQuery(a,i))}(yield zA(n),e)}))}(dr(n=Ln(n,Pi)),e).then(t=>t?new ys(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Ns(this,t):null)}}class eS extends dM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Q0(new Bc(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ka.forKey(t,this.firestore,null)}}class SO{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eS(e)}get(e){const t=ug(e);return this._delegate.get(t).then(i=>new J0(this._firestore,new fd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,t.converter)))}set(e,t,i){const r=ug(e);return i?(fM("Transaction.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=ug(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=ug(e);return this._delegate.delete(t),this}}class DO{constructor(e){this._delegate=e}set(e,t,i){const r=ug(e);return i?(fM("WriteBatch.set",i),this._delegate.set(r,t,i)):this._delegate.set(r,t),this}update(e,t,i,...r){const a=ug(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,i,...r),this}delete(e){const t=ug(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class cg{constructor(e,t,i){this._firestore=e,this._userDataWriter=t,this._delegate=i}fromFirestore(e,t){const i=new Z0(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new ew(this._firestore,i),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const i=cg.INSTANCES;let r=i.get(e);r||(r=new WeakMap,i.set(e,r));let a=r.get(t);return a||(a=new cg(e,new eS(e),t),r.set(t,a)),a}}cg.INSTANCES=new WeakMap;class ka{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eS(e)}static forPath(e,t,i){if(e.length%2!=0)throw new vt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ka(t,new Si(t._delegate,i,new kt(e)))}static forKey(e,t,i){return new ka(t,new Si(t._delegate,i,e))}get id(){return this._delegate.id}get parent(){return new cy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new cy(this.firestore,YR(this._delegate,e))}catch(t){throw Ls(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,wn.m9)(e))instanceof Si&&ZR(this._delegate,e)}set(e,t){t=fM("DocumentReference.set",t);try{return t?yO(this._delegate,e,t):yO(this._delegate,e)}catch(i){throw Ls(i,"setDoc()","DocumentReference.set()")}}update(e,t,...i){try{return 1===arguments.length?vO(this._delegate,e):vO(this._delegate,e,t,...i)}catch(r){throw Ls(r,"updateDoc()","DocumentReference.update()")}}delete(){return function AB(n){return ly(Ln(n.firestore,Pi),[new Sh(n._key,gi.none())])}(this._delegate)}onSnapshot(...e){const t=TO(e),i=IO(e,r=>new J0(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return bO(this._delegate,t,i)}get(e){let t;return t="cache"===e?.source?function vB(n){n=Ln(n,Si);const e=Ln(n.firestore,Pi),t=dr(e),i=new lg(e);return function kV(n,e){const t=new cr;return n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return(i=(0,lt.Z)(function*(r,a,u){try{const f=yield function(_,w){const k=Lt(_);return k.persistence.runTransaction("read document","readonly",q=>k.localDocuments.getDocument(q,w))}(r,a);f.isFoundDocument()?u.resolve(f):f.isNoDocument()?u.resolve(null):u.reject(new vt(st.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=iy(f,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield zA(n),e,t);var i})),t.promise}(t,n._key).then(r=>new fd(e,i,n._key,r,new ag(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function bB(n){n=Ln(n,Si);const e=Ln(n.firestore,Pi);return jR(dr(e),n._key,{source:"server"}).then(t=>hM(e,n,t))}(this._delegate):function yB(n){n=Ln(n,Si);const e=Ln(n.firestore,Pi);return jR(dr(e),n._key).then(t=>hM(e,n,t))}(this._delegate),t.then(i=>new J0(this.firestore,new fd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(e){return new ka(this.firestore,this._delegate.withConverter(e?cg.getInstance(this.firestore,e):null))}}function Ls(n,e,t){return n.message=n.message.replace(e,t),n}function TO(n){for(const e of n)if("object"==typeof e&&!pM(e))return e;return{}}function IO(n,e){var t,i;let r;return r=pM(n[0])?n[0]:pM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(e(a))},error:null===(t=r.error)||void 0===t?void 0:t.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class J0{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ka(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return lO(this._delegate,e._delegate)}}class ew extends J0{data(e){const t=this._delegate.data(e);return function JE(n,e){n||Gt()}(void 0!==t),t}}class Ns{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eS(e)}where(e,t,i){try{return new Ns(this.firestore,Rh(this._delegate,function aB(n,e,t){const i=e,r=QA("where",n);return new oB(r,i,t)}(e,t,i)))}catch(r){throw Ls(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Ns(this.firestore,Rh(this._delegate,function cB(n,e="asc"){const t=e,i=QA("orderBy",n);return new lB(i,t)}(e,t)))}catch(i){throw Ls(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Ns(this.firestore,Rh(this._delegate,function uB(n){return qR("limit",n),new uO("limit",n,"F")}(e)))}catch(t){throw Ls(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Ns(this.firestore,Rh(this._delegate,function dB(n){return qR("limitToLast",n),new uO("limitToLast",n,"L")}(e)))}catch(t){throw Ls(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Ns(this.firestore,Rh(this._delegate,function hB(...n){return new dO("startAt",n,!0)}(...e)))}catch(t){throw Ls(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Ns(this.firestore,Rh(this._delegate,function fB(...n){return new dO("startAfter",n,!1)}(...e)))}catch(t){throw Ls(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Ns(this.firestore,Rh(this._delegate,function pB(...n){return new hO("endBefore",n,!1)}(...e)))}catch(t){throw Ls(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Ns(this.firestore,Rh(this._delegate,function gB(...n){return new hO("endAt",n,!0)}(...e)))}catch(t){throw Ls(t,"endAt()","Query.endAt()")}}isEqual(e){return XR(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function CB(n){n=Ln(n,ys);const e=Ln(n.firestore,Pi),t=dr(e),i=new lg(e);return function RV(n,e){const t=new cr;return n.asyncQueue.enqueueAndForget((0,lt.Z)(function*(){return(i=(0,lt.Z)(function*(r,a,u){try{const f=yield LA(r,a,!0),_=new IR(a,f.ji),w=_.Ku(f.documents),k=_.applyChanges(w,!1);u.resolve(k.snapshot)}catch(f){const _=iy(f,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield zA(n),e,t);var i})),t.promise}(t,n._query).then(r=>new kh(e,i,n,r))}(this._delegate):"server"===e?.source?function EB(n){n=Ln(n,ys);const e=Ln(n.firestore,Pi),t=dr(e),i=new lg(e);return HR(t,n._query,{source:"server"}).then(r=>new kh(e,i,n,r))}(this._delegate):function wB(n){n=Ln(n,ys);const e=Ln(n.firestore,Pi),t=dr(e),i=new lg(e);return cO(n._query),HR(t,n._query).then(r=>new kh(e,i,n,r))}(this._delegate),t.then(i=>new gM(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...e){const t=TO(e),i=IO(e,r=>new gM(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return bO(this._delegate,t,i)}withConverter(e){return new Ns(this.firestore,this._delegate.withConverter(e?cg.getInstance(this.firestore,e):null))}}class BB{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new ew(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class gM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Ns(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new ew(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new BB(this._firestore,t))}forEach(e,t){this._delegate.forEach(i=>{e.call(t,new ew(this._firestore,i))})}isEqual(e){return lO(this._delegate,e._delegate)}}class cy extends Ns{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ka(this.firestore,e):null}doc(e){try{return new ka(this.firestore,void 0===e?WA(this._delegate):WA(this._delegate,e))}catch(t){throw Ls(t,"doc()","CollectionReference.doc()")}}add(e){return function SB(n,e){const t=Ln(n.firestore,Pi),i=WA(n),r=JA(n.converter,e);return ly(t,[YA(sg(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,gi.exists(!1))]).then(()=>i)}(this._delegate,e).then(t=>new ka(this.firestore,t))}isEqual(e){return ZR(this._delegate,e._delegate)}withConverter(e){return new cy(this.firestore,this._delegate.withConverter(e?cg.getInstance(this.firestore,e):null))}}function ug(n){return Ln(n,Si)}class mM{constructor(...e){this._delegate=new hd(...e)}static documentId(){return new mM(Ci.keyField().canonicalString())}isEqual(e){return(e=(0,wn.m9)(e))instanceof hd&&this._delegate._internalPath.isEqual(e._internalPath)}}class dg{constructor(e){this._delegate=e}static serverTimestamp(){const e=function MB(){return new oM("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new dg(e)}static delete(){const e=function xB(){return new K0("deleteField")}();return e._methodName="FieldValue.delete",new dg(e)}static arrayUnion(...e){const t=function PB(...n){return new eB("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new dg(t)}static arrayRemove(...e){const t=function kB(...n){return new tB("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new dg(t)}static increment(e){const t=function RB(n){return new nB("increment",n)}(e);return t._methodName="FieldValue.increment",new dg(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const UB={Firestore:AO,GeoPoint:qA,Timestamp:pi,Blob:Q0,Transaction:SO,WriteBatch:DO,DocumentReference:ka,DocumentSnapshot:J0,Query:Ns,QueryDocumentSnapshot:ew,QuerySnapshot:gM,CollectionReference:cy,FieldPath:mM,FieldValue:dg,setLogLevel:function VB(n){!function QE(n){Cc.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function xO(n,e){return function GB(n,e=Lu.z){return new oi.y(t=>{let i;return null!=e?e.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},t)}):i=n.onSnapshot({includeMetadataChanges:!0},t),()=>{i?.()}})}(n,e)}function _M(n,e){return xO(n,e).pipe((0,$t.U)(t=>({payload:t,type:"query"})))}function tS(n,e){return _M(n,e).pipe(Vi(void 0),tp(),(0,$t.U)(([t,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,f)=>{const _=r.find(k=>k.doc.ref.isEqual(u.ref)),w=t?.payload.docs.find(k=>k.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:u}})}),a}))}function MO(n,e,t){return tS(n,t).pipe(ga((i,r)=>function $B(n,e,t){return e.forEach(i=>{t.indexOf(i.type)>-1&&(n=function WB(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return yM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return yM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return yM(n,e.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),e),[]),jo(),(0,$t.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function yM(n,e,t,...i){const r=n.slice();return r.splice(e,t,...i),r}function PO(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function HB(n){(function jB(n,e){n.INTERNAL.registerComponent(new Jd.wA("firestore-compat",t=>{const i=t.getProvider("app-compat").getImmediate(),r=t.getProvider("firestore").getImmediate();return e(i,r)},"PUBLIC").setServiceProps(Object.assign({},UB)))})(n,(e,t)=>new AO(e,t,new NB)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(Ta.Z);class kO{constructor(e,t,i){this.ref=e,this.query=t,this.afs=i}stateChanges(e){let t=tS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,$t.U)(i=>i.filter(r=>e.indexOf(r.type)>-1)))),t.pipe(Vi(void 0),tp(),Kn(([i,r])=>r.length>0||!i),(0,$t.U)(([i,r])=>r),_r.iC)}auditTrail(e){return this.stateChanges(e).pipe(ga((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=PO(e);return MO(this.query,t,this.afs.schedulers.outsideAngular).pipe(_r.iC)}valueChanges(e={}){return _M(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(t=>t.payload.docs.map(i=>e.idField?Object.assign(Object.assign({},i.data()),{[e.idField]:i.id}):i.data())),_r.iC)}get(e){return(0,Bn.D)(this.query.get(e)).pipe(_r.iC)}add(e){return this.ref.add(e)}doc(e){return new RO(this.ref.doc(e),this.afs)}}class RO{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const i=this.ref.collection(e),{ref:r,query:a}=LO(i,t);return new kO(r,a,this.afs)}snapshotChanges(){return function zB(n,e){return xO(n,e).pipe(Vi(void 0),tp(),(0,$t.U)(([t,i])=>i.exists?t?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(_r.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,$t.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Bn.D)(this.ref.get(e)).pipe(_r.iC)}}class qB{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?tS(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(t=>t.filter(i=>e.indexOf(i.type)>-1)),Kn(t=>t.length>0),_r.iC):tS(this.query,this.afs.schedulers.outsideAngular).pipe(_r.iC)}auditTrail(e){return this.stateChanges(e).pipe(ga((t,i)=>[...t,...i],[]))}snapshotChanges(e){const t=PO(e);return MO(this.query,t,this.afs.schedulers.outsideAngular).pipe(_r.iC)}valueChanges(e={}){return _M(this.query,this.afs.schedulers.outsideAngular).pipe((0,$t.U)(i=>i.payload.docs.map(r=>e.idField?Object.assign({[e.idField]:r.id},r.data()):r.data())),_r.iC)}get(e){return(0,Bn.D)(this.query.get(e)).pipe(_r.iC)}}const OO=new l.OlP("angularfire2.enableFirestorePersistence"),FO=new l.OlP("angularfire2.firestore.persistenceSettings"),KB=new l.OlP("angularfire2.firestore.settings"),YB=new l.OlP("angularfire2.firestore.use-emulator");function LO(n,e=(t=>t)){return{query:e(n),ref:n}}let NO=(()=>{class n{constructor(t,i,r,a,u,f,_,w,k,q,Se,Fe,Ve,We,ut,Nt,zt){this.schedulers=_;const on=(0,Vo.on)(t,f,i),qt=k;q&&KC(on,f,Se,Ve,We,ut,Fe,Nt),[this.firestore,this.persistenceEnabled$]=(0,Vo.cc)(`${on.name}.firestore`,"AngularFirestore",on.name,()=>{const hn=f.runOutsideAngular(()=>on.firestore());if(a&&hn.settings(a),qt&&hn.useEmulator(...qt),r&&!er(u)){const yn=()=>{try{return(0,Bn.D)(hn.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Nn){return typeof console<"u"&&console.warn(Nn),Vt(!1)}};return[hn,f.runOutsideAngular(yn)]}return[hn,Vt(!1)]},[a,qt,r])}collection(t,i){let r;r="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=LO(r,i),f=this.schedulers.ngZone.run(()=>a);return new kO(f,u,this)}collectionGroup(t,i){const r=i||(u=>u),a=this.firestore.collectionGroup(t);return new qB(r(a),this)}doc(t){let i;i="string"==typeof t?this.firestore.doc(t):t;const r=this.schedulers.ngZone.run(()=>i);return new RO(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Vo.Dh),l.LFG(Vo.xv,8),l.LFG(OO,8),l.LFG(KB,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(_r.HU),l.LFG(FO,8),l.LFG(YB,8),l.LFG($m,8),l.LFG(lb,8),l.LFG(cb,8),l.LFG(Fu,8),l.LFG(WC,8),l.LFG(qC,8),l.LFG(ub,8),l.LFG(Gm,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),ZB=(()=>{class n{constructor(){$C.Z.registerVersion("angularfire",_r.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:OO,useValue:!0},{provide:FO,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[NO]}),n})(),VO=(()=>{class n{constructor(t,i){this.fireAuth=t,this.firestore=i,this.user$=this.fireAuth.authState.pipe(di(r=>r?this.firestore.doc(`users/${r.uid}`).valueChanges():Vt(null)))}emailSignIn(t,i){var r=this;return(0,lt.Z)(function*(){const a=yield r.fireAuth.signInWithEmailAndPassword(t,i);return r.updateUserData(a.user)})()}signOut(){var t=this;return(0,lt.Z)(function*(){yield t.fireAuth.signOut()})()}updateUserData(t){return this.firestore.doc(`users/${t.uid}`).set({uid:t.uid,email:t.email,displayName:t.displayName,photoURL:t.photoURL},{merge:!0})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG($m),l.LFG(NO))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Gr(n){return null!=n&&"false"!=`${n}`}function vM(n,e=0){return function XB(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function nS(n){return Array.isArray(n)?n:[n]}function hr(n){return null==n?"":"string"==typeof n?n:`${n}px`}function pd(n){return n instanceof l.SBq?n.nativeElement:n}var QB=R(1144);const JB=["addListener","removeListener"],e2=["addEventListener","removeEventListener"],t2=["on","off"];function ri(n,e,t,i){if((0,qn.m)(t)&&(i=t,t=void 0),i)return ri(n,e,t).pipe(Ws(i));const[r,a]=function s2(n){return(0,qn.m)(n.addEventListener)&&(0,qn.m)(n.removeEventListener)}(n)?e2.map(u=>f=>n[u](e,f,t)):function n2(n){return(0,qn.m)(n.addListener)&&(0,qn.m)(n.removeListener)}(n)?JB.map(BO(n,e)):function r2(n){return(0,qn.m)(n.on)&&(0,qn.m)(n.off)}(n)?t2.map(BO(n,e)):[];if(!r&&(0,QB.z)(n))return(0,Bi.z)(u=>ri(u,e,t))((0,gr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new oi.y(u=>{const f=(..._)=>u.next(1<_.length?_:_[0]);return r(f),()=>a(f)})}function BO(n,e){return t=>i=>n[t](e,i)}var UO=R(4408);const tw={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=tw;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(a=>{t=void 0,n(a)});return new es.w0(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=tw;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=tw;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var jO=R(7565);new class a2 extends jO.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class o2 extends UO.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=tw.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(tw.cancelAnimationFrame(t),e._scheduled=void 0)}});let bM,c2=1;const iS={};function HO(n){return n in iS&&(delete iS[n],!0)}const u2={setImmediate(n){const e=c2++;return iS[e]=!0,bM||(bM=Promise.resolve()),bM.then(()=>HO(e)&&n()),e},clearImmediate(n){HO(n)}},{setImmediate:d2,clearImmediate:h2}=u2,rS={setImmediate(...n){const{delegate:e}=rS;return(e?.setImmediate||d2)(...n)},clearImmediate(n){const{delegate:e}=rS;return(e?.clearImmediate||h2)(n)},delegate:void 0},wM=new class p2 extends jO.v{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class f2 extends UO.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=rS.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(e,t,i);e.actions.some(r=>r.id===t)||(rS.clearImmediate(t),e._scheduled=void 0)}});var m2=R(3532);function GO(n=0,e,t=Lu.P){let i=-1;return null!=e&&((0,m2.K)(e)?t=e:i=e),new oi.y(r=>{let a=function _2(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function zO(n,e=Lu.z){return function g2(n){return(0,Un.e)((e,t)=>{let i=!1,r=null,a=null,u=!1;const f=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const w=r;r=null,t.next(w)}u&&t.complete()},_=()=>{a=null,u&&t.complete()};e.subscribe((0,$n.x)(t,w=>{i=!0,r=w,a||(0,gr.Xf)(n(w)).subscribe(a=(0,$n.x)(t,f,_))},()=>{u=!0,(!i||!a||a.closed)&&t.complete()}))})}(()=>GO(n,e))}let CM;try{CM=typeof Intl<"u"&&Intl.v8BreakIterator}catch{CM=!1}let uy,ls=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function ja(n){return n===fo}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!CM)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.Lbi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const $O=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function WO(){if(uy)return uy;if("object"!=typeof document||!document)return uy=new Set($O),uy;let n=document.createElement("input");return uy=new Set($O.filter(e=>(n.setAttribute("type",e),n.type===e))),uy}let nw,hg,EM;function dy(n){return function y2(){if(null==nw&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>nw=!0}))}finally{nw=nw||!1}return nw}()?n:!!n.capture}function v2(){if(null==hg){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return hg=!1,hg;if("scrollBehavior"in document.documentElement.style)hg=!0;else{const n=Element.prototype.scrollTo;hg=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return hg}function AM(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const e=n.shadowRoot.activeElement;if(e===n)break;n=e}return n}function fg(n){return n.composedPath?n.composedPath()[0]:n.target}function SM(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const C2=new l.OlP("cdk-dir-doc",{providedIn:"root",factory:function E2(){return(0,l.f3M)(U)}}),A2=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let hy=(()=>{class n{constructor(t){if(this.value="ltr",this.change=new l.vpe,t){const r=t.documentElement?t.documentElement.dir:null;this.value=function S2(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?A2.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(C2,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),qO=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new Mt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new oi.y(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(zO(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Vt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Kn(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,t)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=pd(i),a=t.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>ri(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(ls),l.LFG(U,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KO=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new Mt.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,a=r.getBoundingClientRect();return{top:-a.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(zO(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ls),l.LFG(l.R0b),l.LFG(U,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),YO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[iw,oS,iw,oS]}),n})();class DM{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class fy extends DM{constructor(e,t,i,r){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r}}class aS extends DM{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class I2 extends DM{constructor(e){super(),this.element=e instanceof l.SBq?e.nativeElement:e}}class lS{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof fy?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof aS?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof I2?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class x2 extends lS{constructor(e,t,i,r,a){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const f=u.element,_=this._document.createComment("dom-portal");f.parentNode.insertBefore(_,f),this.outletElement.appendChild(f),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(f,_)})},this._document=a}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||l.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let rw=(()=>{class n extends lS{constructor(t,i,r){super(),this._componentFactoryResolver=t,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new l.vpe,this.attachDomPortal=a=>{const u=a.element,f=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(f,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{f.parentNode&&f.parentNode.replaceChild(u,f)})},this._document=r}get portal(){return this._attachedPortal}set portal(t){this.hasAttached()&&!t&&!this._isInitialized||(this.hasAttached()&&super.detach(),t&&super.attach(t),this._attachedPortal=t||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(t){t.setAttachedHost(this);const i=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,a=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),u=i.createComponent(a,i.length,t.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=t,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(t){t.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l._Vd),l.Y36(l.s_b),l.Y36(U))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[l.qOj]}),n})(),sw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var ZO=R(5032);function _n(n){return(0,Un.e)((e,t)=>{(0,gr.Xf)(n).subscribe((0,$n.x)(t,()=>t.complete(),ZO.Z)),!t.closed&&e.subscribe(t)})}const XO=v2();class M2{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=hr(-this._previousScrollPosition.left),e.style.top=hr(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),XO&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),XO&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class P2{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class QO{enable(){}disable(){}attach(){}}function TM(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function JO(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class k2{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();TM(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let R2=(()=>{class n{constructor(t,i,r,a){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new QO,this.close=u=>new P2(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new M2(this._viewportRuler,this._document),this.reposition=u=>new k2(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(qO),l.LFG(KO),l.LFG(l.R0b),l.LFG(U))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class cS{constructor(e){if(this.scrollStrategy=new QO,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class O2{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let e1=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),F2=(()=>{class n extends e1{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const f=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>f.next(r)):f.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),L2=(()=>{class n extends e1{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=fg(a)},this._clickListener=a=>{const u=fg(a),f="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const k=_[w];if(k._outsidePointerEvents.observers.length<1||!k.hasAttached())continue;if(k.overlayElement.contains(u)||k.overlayElement.contains(f))break;const q=k._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>q.next(a)):q.next(a)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U),l.LFG(ls),l.LFG(l.R0b,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uS=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||SM()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(t),SM()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U),l.LFG(ls))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ow{constructor(e,t,i,r,a,u,f,_,w,k=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=f,this._location=_,this._outsideClickDispatcher=w,this._animationsDisabled=k,this._backdropElement=null,this._backdropClick=new Mt.x,this._attachments=new Mt.x,this._detachments=new Mt.x,this._locationChanges=es.w0.EMPTY,this._backdropClickHandler=q=>this._backdropClick.next(q),this._backdropTransitionendHandler=q=>{this._disposeBackdrop(q.target)},this._keydownEvents=new Mt.x,this._outsidePointerEvents=new Mt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(bi(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=hr(this._config.width),e.height=hr(this._config.height),e.minWidth=hr(this._config.minWidth),e.minHeight=hr(this._config.minHeight),e.maxWidth=hr(this._config.maxWidth),e.maxHeight=hr(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=nS(t||[]).filter(a=>!!a);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(_n((0,fc.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const t1="cdk-overlay-connected-position-bounding-box",N2=/([A-Za-z%]+)$/;class V2{constructor(e,t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new Mt.x,this._resizeSubscription=es.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){this._validatePositions(),e.hostElement.classList.add(t1),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let f of this._preferredPositions){let _=this._getOriginPoint(e,r,f),w=this._getOverlayPoint(_,t,f),k=this._getOverlayFit(w,t,i,f);if(k.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(f,_);this._canFitWithFlexibleDimensions(k,w,i)?a.push({position:f,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,f)}):(!u||u.overlayFit.visibleArea<k.visibleArea)&&(u={overlayFit:k,overlayPoint:w,originPoint:_,position:f,overlayRect:t})}if(a.length){let f=null,_=-1;for(const w of a){const k=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);k>_&&(_=k,f=w)}return this._isPushed=!1,void this._applyPosition(f.position,f.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&pg(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(t1),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,a;if("center"==i.originX)r=e.left+e.width/2;else{const u=this._isRtl()?e.right:e.left,f=this._isRtl()?e.left:e.right;r="start"==i.originX?u:f}return t.left<0&&(r-=t.left),a="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(a-=t.top),{x:r,y:a}}_getOverlayPoint(e,t,i){let r,a;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,a="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+a}}_getOverlayFit(e,t,i,r){const a=r1(t);let{x:u,y:f}=e,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(u+=_),w&&(f+=w);let Se=0-f,Fe=f+a.height-i.height,Ve=this._subtractOverflows(a.width,0-u,u+a.width-i.width),We=this._subtractOverflows(a.height,Se,Fe),ut=Ve*We;return{visibleArea:ut,isCompletelyWithinViewport:a.width*a.height===ut,fitsInViewportVertically:We===a.height,fitsInViewportHorizontally:Ve==a.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,a=i.right-t.x,u=n1(this._overlayRef.getConfig().minHeight),f=n1(this._overlayRef.getConfig().minWidth),w=e.fitsInViewportHorizontally||null!=f&&f<=a;return(e.fitsInViewportVertically||null!=u&&u<=r)&&w}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=r1(t),a=this._viewportRect,u=Math.max(e.x+r.width-a.width,0),f=Math.max(e.y+r.height-a.height,0),_=Math.max(a.top-i.top-e.y,0),w=Math.max(a.left-i.left-e.x,0);let k=0,q=0;return k=r.width<=a.width?w||-u:e.x<this._viewportMargin?a.left-i.left-e.x:0,q=r.height<=a.height?_||-f:e.y<this._viewportMargin?a.top-i.top-e.y:0,this._previousPushAmount={x:k,y:q},{x:e.x+k,y:e.y+q}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new O2(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let a=0;a<t.length;a++)t[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let a,u,f,k,q,Se;if("top"===t.overlayY)u=e.y,a=i.height-u+this._viewportMargin;else if("bottom"===t.overlayY)f=i.height-e.y+2*this._viewportMargin,a=i.height-f+this._viewportMargin;else{const Fe=Math.min(i.bottom-e.y+i.top,e.y),Ve=this._lastBoundingBoxSize.height;a=2*Fe,u=e.y-Fe,a>Ve&&!this._isInitialRender&&!this._growAfterOpen&&(u=e.y-Ve/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)Se=i.width-e.x+this._viewportMargin,k=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)q=e.x,k=i.right-e.x;else{const Fe=Math.min(i.right-e.x+i.left,e.x),Ve=this._lastBoundingBoxSize.width;k=2*Fe,q=e.x-Fe,k>Ve&&!this._isInitialRender&&!this._growAfterOpen&&(q=e.x-Ve/2)}return{top:u,left:q,bottom:f,right:Se,width:k,height:a}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=hr(i.height),r.top=hr(i.top),r.bottom=hr(i.bottom),r.width=hr(i.width),r.left=hr(i.left),r.right=hr(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=hr(a)),u&&(r.maxWidth=hr(u))}this._lastBoundingBoxSize=i,pg(this._boundingBox.style,r)}_resetBoundingBoxStyles(){pg(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){pg(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const k=this._viewportRuler.getViewportScrollPosition();pg(i,this._getExactOverlayY(t,e,k)),pg(i,this._getExactOverlayX(t,e,k))}else i.position="static";let f="",_=this._getOffset(t,"x"),w=this._getOffset(t,"y");_&&(f+=`translateX(${_}px) `),w&&(f+=`translateY(${w}px)`),i.transform=f.trim(),u.maxHeight&&(r?i.maxHeight=hr(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=hr(u.maxWidth):a&&(i.maxWidth="")),pg(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=hr(a.y),r}_getExactOverlayX(e,t,i){let u,r={left:"",right:""},a=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=hr(a.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:JO(e,i),isOriginOutsideView:TM(e,i),isOverlayClipped:JO(t,i),isOverlayOutsideView:TM(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?e.offsetX??this._offsetX:e.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&nS(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof l.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function pg(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function n1(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(N2);return t&&"px"!==t?null:parseFloat(e)}return n||null}function r1(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const s1="cdk-global-overlay-wrapper";class B2{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(s1),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:f}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==a&&"100vh"!==a||f&&"100%"!==f&&"100vh"!==f),k=this._xPosition,q=this._xOffset,Se="rtl"===this._overlayRef.getConfig().direction;let Fe="",Ve="",We="";_?We="flex-start":"center"===k?(We="center",Se?Ve=q:Fe=q):Se?"left"===k||"end"===k?(We="flex-end",Fe=q):("right"===k||"start"===k)&&(We="flex-start",Ve=q):"left"===k||"start"===k?(We="flex-start",Fe=q):("right"===k||"end"===k)&&(We="flex-end",Ve=q),e.position=this._cssPosition,e.marginLeft=_?"0":Fe,e.marginTop=w?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":Ve,t.justifyContent=We,t.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(s1),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let U2=(()=>{class n{constructor(t,i,r,a){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new B2}flexibleConnectedTo(t){return new V2(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(KO),l.LFG(U),l.LFG(ls),l.LFG(uS))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),j2=0,Ra=(()=>{class n{constructor(t,i,r,a,u,f,_,w,k,q,Se,Fe){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=f,this._ngZone=_,this._document=w,this._directionality=k,this._location=q,this._outsideClickDispatcher=Se,this._animationsModuleType=Fe}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new cS(t);return u.direction=u.direction||this._directionality.value,new ow(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+j2++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(l.z2F)),new x2(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(R2),l.LFG(uS),l.LFG(l._Vd),l.LFG(U2),l.LFG(F2),l.LFG(l.zs3),l.LFG(l.R0b),l.LFG(U),l.LFG(hy),l.LFG(F),l.LFG(L2),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const z2={provide:new l.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Ra],useFactory:function G2(n){return()=>n.scrollStrategies.reposition()}};let aw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[Ra,z2],imports:[iw,sw,YO,YO]}),n})();function gg(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function hS(n,e=Lu.z){return(0,Un.e)((t,i)=>{let r=null,a=null,u=null;const f=()=>{if(r){r.unsubscribe(),r=null;const w=a;a=null,i.next(w)}};function _(){const w=u+n,k=e.now();if(k<w)return r=this.schedule(void 0,w-k),void i.add(r);f()}t.subscribe((0,$n.x)(i,w=>{a=w,u=e.now(),r||(r=e.schedule(_,n),i.add(r))},()=>{f(),i.complete()},void 0,()=>{a=r=null}))})}function c1(n){return Kn((e,t)=>n<=t)}let u1=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),nU=(()=>{class n{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,i)=>this._cleanupObserver(i))}observe(t){const i=pd(t);return new oi.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const i=new Mt.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:r,stream:i,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:i,stream:r}=this._observedElements.get(t);i&&i.disconnect(),r.complete(),this._observedElements.delete(t)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(u1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),iU=(()=>{class n{constructor(t,i,r){this._contentObserver=t,this._elementRef=i,this._ngZone=r,this.event=new l.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=Gr(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=vM(t),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(hS(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(nU),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),d1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[u1]}),n})();const h1=new Set;let py,rU=(()=>{class n{constructor(t){this._platform=t,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):oU}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function sU(n){if(!h1.has(n))try{py||(py=document.createElement("style"),py.setAttribute("type","text/css"),document.head.appendChild(py)),py.sheet&&(py.sheet.insertRule(`@media ${n} {body{ }}`,0),h1.add(n))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ls))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function oU(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let fS=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new Mt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return f1(nS(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let a=ha(f1(nS(t)).map(u=>this._registerQuery(u).observable));return a=fa(a.pipe(bi(1)),a.pipe(c1(1),hS(0))),a.pipe((0,$t.U)(u=>{const f={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:w})=>{f.matches=f.matches||_,f.breakpoints[w]=_}),f}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),a={observable:new oi.y(u=>{const f=_=>this._zone.run(()=>u.next(_));return i.addListener(f),()=>{i.removeListener(f)}}).pipe(Vi(i),(0,$t.U)(({matches:u})=>({query:t,matches:u})),_n(this._destroySubject)),mql:i};return this._queries.set(t,a),a}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(rU),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function f1(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function pS(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const m1="cdk-describedby-message",gS="cdk-describedby-host";let kM=0,cU=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+kM++,this._document=t,this._id=(0,l.f3M)(l.AFp)+"-"+kM++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const a=RM(i,r);"string"!=typeof i?(_1(i,this._id),this._messageRegistry.set(a,{messageElement:i,referenceCount:0})):this._messageRegistry.has(a)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,a)||this._addMessageReference(t,a)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const a=RM(i,r);if(this._isElementDescribedByMessage(t,a)&&this._removeMessageReference(t,a),"string"==typeof i){const u=this._messageRegistry.get(a);u&&0===u.referenceCount&&this._deleteMessageElement(a)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${gS}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(gS);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");_1(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(RM(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let a=0;a<i.length;a++)i[a].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=pS(t,"aria-describedby").filter(r=>0!=r.indexOf(m1));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function aU(n,e,t){const i=pS(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(gS,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function lU(n,e,t){const r=pS(n,e).filter(a=>a!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(gS)}_isElementDescribedByMessage(t,i){const r=pS(t,"aria-describedby"),a=this._messageRegistry.get(i),u=a&&a.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),a=t.getAttribute("aria-label");return!(!r||a&&a.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U),l.LFG(ls))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function RM(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function _1(n,e){n.id||(n.id=`${m1}-${e}-${kM++}`)}class y1 extends class uU{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new Mt.x,this._typeaheadSubscription=es.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new Mt.x,this.change=new Mt.x,e instanceof l.n_E&&e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ai.b)(t=>this._pressedLetters.push(t)),hS(e),Kn(()=>this._pressedLetters.length>0),(0,$t.U)(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,u=i[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!e[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||gg(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof l.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let mS=(()=>{class n{constructor(t){this._platform=t}isDisabled(t){return t.hasAttribute("disabled")}isVisible(t){return function hU(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(t)&&"visible"===getComputedStyle(t).visibility}isTabbable(t){if(!this._platform.isBrowser)return!1;const i=function dU(n){try{return n.frameElement}catch{return null}}(function bU(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(t));if(i&&(-1===b1(i)||!this.isVisible(i)))return!1;let r=t.nodeName.toLowerCase(),a=b1(t);return t.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function yU(n){let e=n.nodeName.toLowerCase(),t="input"===e&&n.type;return"text"===t||"password"===t||"select"===e||"textarea"===e}(t))&&("audio"===r?!!t.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||t.hasAttribute("controls")):t.tabIndex>=0)}isFocusable(t,i){return function vU(n){return!function pU(n){return function mU(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function fU(n){let e=n.nodeName.toLowerCase();return"input"===e||"select"===e||"button"===e||"textarea"===e}(n)||function gU(n){return function _U(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||v1(n))}(t)&&!this.isDisabled(t)&&(i?.ignoreVisibility||this.isVisible(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ls))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function v1(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let e=n.getAttribute("tabindex");return!(!e||isNaN(parseInt(e,10)))}function b1(n){if(!v1(n))return null;const e=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(e)?-1:e}class wU{constructor(e,t,i,r,a=!1){this._element=e,this._checker=t,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.remove()),t&&(t.removeEventListener("focus",this.endAnchorListener),t.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusInitialElement(e)))})}focusFirstTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusFirstTabbableElement(e)))})}focusLastTabbableElementWhenReady(e){return new Promise(t=>{this._executeOnStable(()=>t(this.focusLastTabbableElement(e)))})}_getRegionBoundary(e){const t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(e){const t=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(t){if(!this._checker.isFocusable(t)){const i=this._getFirstTabbableElement(t);return i?.focus(e),!!i}return t.focus(e),!0}return this.focusFirstTabbableElement(e)}focusFirstTabbableElement(e){const t=this._getRegionBoundary("start");return t&&t.focus(e),!!t}focusLastTabbableElement(e){const t=this._getRegionBoundary("end");return t&&t.focus(e),!!t}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=0;i<t.length;i++){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[i]):null;if(r)return r}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;const t=e.children;for(let i=t.length-1;i>=0;i--){const r=t[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[i]):null;if(r)return r}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.pipe(bi(1)).subscribe(e)}}let OM=(()=>{class n{constructor(t,i,r){this._checker=t,this._ngZone=i,this._document=r}create(t,i=!1){return new wU(t,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(mS),l.LFG(l.R0b),l.LFG(U))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function FM(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function LM(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const CU=new l.OlP("cdk-input-modality-detector-options"),EU={ignoreKeys:[18,17,224,91,16]},gy=dy({passive:!0,capture:!0});let AU=(()=>{class n{constructor(t,i,r,a){this._platform=t,this._mostRecentTarget=null,this._modality=new tr(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(f=>f===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=fg(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(FM(u)?"keyboard":"mouse"),this._mostRecentTarget=fg(u))},this._onTouchstart=u=>{LM(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=fg(u))},this._options={...EU,...a},this.modalityDetected=this._modality.pipe(c1(1)),this.modalityChanged=this.modalityDetected.pipe(jo()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,gy),r.addEventListener("mousedown",this._onMousedown,gy),r.addEventListener("touchstart",this._onTouchstart,gy)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,gy),document.removeEventListener("mousedown",this._onMousedown,gy),document.removeEventListener("touchstart",this._onTouchstart,gy))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ls),l.LFG(l.R0b),l.LFG(U),l.LFG(CU,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const SU=new l.OlP("liveAnnouncerElement",{providedIn:"root",factory:function DU(){return null}}),TU=new l.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let C1=(()=>{class n{constructor(t,i,r,a){this._ngZone=i,this._defaultOptions=a,this._document=r,this._liveElement=t||this._createLiveElement()}announce(t,...i){const r=this._defaultOptions;let a,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[a,u]=i,this.clear(),clearTimeout(this._previousTimeout),a||(a=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(f=>this._currentResolve=f)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=t,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const t="cdk-live-announcer-element",i=this._document.getElementsByClassName(t),r=this._document.createElement("div");for(let a=0;a<i.length;a++)i[a].remove();return r.classList.add(t),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(SU,8),l.LFG(l.R0b),l.LFG(U),l.LFG(TU,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const IU=new l.OlP("cdk-focus-monitor-default-options"),_S=dy({passive:!0,capture:!0});let Fh=(()=>{class n{constructor(t,i,r,a,u){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new Mt.x,this._rootNodeFocusAndBlurListener=f=>{for(let w=fg(f);w;w=w.parentElement)"focus"===f.type?this._onFocus(f,w):this._onBlur(f,w)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(t,i=!1){const r=pd(t);if(!this._platform.isBrowser||1!==r.nodeType)return Vt(null);const a=function w2(n){if(function b2(){if(null==EM){const n=typeof document<"u"?document.head:null;EM=!(!n||!n.createShadowRoot&&!n.attachShadow)}return EM}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const f={checkChildren:i,subject:new Mt.x,rootNode:a};return this._elementInfo.set(r,f),this._registerGlobalListeners(f),f.subject}stopMonitoring(t){const i=pd(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const a=pd(t);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([f,_])=>this._originChanged(f,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),a=fg(t);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,_S),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,_S)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(_n(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,_S),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,_S),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,a)=>{(a===t||r.checkChildren&&a.contains(t))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const a=t.labels;if(a)for(let u=0;u<a.length;u++)if(a[u].contains(i))return!0;return!1}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.R0b),l.LFG(ls),l.LFG(AU),l.LFG(U,8),l.LFG(IU,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const E1="cdk-high-contrast-black-on-white",A1="cdk-high-contrast-white-on-black",NM="cdk-high-contrast-active";let S1=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=(0,l.f3M)(fS).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(NM,E1,A1),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(NM,E1):2===i&&t.add(NM,A1)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ls),l.LFG(U))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),D1=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(S1))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[d1]}),n})();const MU=new l.OlP("mat-sanity-checks",{providedIn:"root",factory:function xU(){return!0}});let mi=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!SM()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(S1),l.LFG(MU,8),l.LFG(U))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[iw,iw]}),n})();function VM(n){return class extends n{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=Gr(e)}}}function BM(n,e){return class extends n{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function my(n){return class extends n{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=Gr(e)}}}function PU(n){return class extends n{constructor(...e){super(...e),this.errorState=!1}updateErrorState(){const e=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==e&&(this.errorState=a,this.stateChanges.next())}}}let x1=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function lw(n,e,t){n.nativeElement.classList.toggle(e,t)}let k1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[mi,mi]}),n})();class RU{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const R1={enterDuration:225,exitDuration:150},UM=dy({passive:!0}),O1=["mousedown","touchstart"],F1=["mouseup","mouseleave","touchend","touchcancel"];class FU{constructor(e,t,i,r){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=pd(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...R1,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const u=i.radius||function LU(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),f=e-r.left,_=t-r.top,w=a.enterDuration,k=document.createElement("div");k.classList.add("mat-ripple-element"),k.style.left=f-u+"px",k.style.top=_-u+"px",k.style.height=2*u+"px",k.style.width=2*u+"px",null!=i.color&&(k.style.backgroundColor=i.color),k.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(k);const q=window.getComputedStyle(k),Fe=q.transitionDuration,Ve="none"===q.transitionProperty||"0s"===Fe||"0s, 0s"===Fe,We=new RU(this,k,i,Ve);k.style.transform="scale3d(1, 1, 1)",We.state=0,i.persistent||(this._mostRecentTransientRipple=We);let ut=null;return!Ve&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Nt=()=>this._finishRippleTransition(We),zt=()=>this._destroyRipple(We);k.addEventListener("transitionend",Nt),k.addEventListener("transitioncancel",zt),ut={onTransitionEnd:Nt,onTransitionCancel:zt}}),this._activeRipples.set(We,ut),(Ve||!w)&&this._finishRippleTransition(We),We}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...R1,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=pd(e);!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(O1))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(F1),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=FM(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!LM(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(t=>{this._triggerElement.addEventListener(t,this,UM)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(O1.forEach(e=>{this._triggerElement.removeEventListener(e,this,UM)}),this._pointerUpEventsRegistered&&F1.forEach(e=>{this._triggerElement.removeEventListener(e,this,UM)}))}}const NU=new l.OlP("mat-ripple-global-options");let cw=(()=>{class n{constructor(t,i,r,a,u){this._elementRef=t,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new FU(this,i,t,r)}get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(ls),l.Y36(NU,8),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),jM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[mi,mi]}),n})(),L1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[mi]}),n})();const BU=["mat-button",""],UU=["*"],HU=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],GU=BM(VM(my(class{constructor(n){this._elementRef=n}})));let yS=(()=>{class n extends GU{constructor(t,i,r){super(t),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of HU)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);t.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t,i){t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...t){return t.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(Fh),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,i){if(1&t&&l.Gf(cw,5),2&t){let r;l.iGM(r=l.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,i){2&t&&(l.uIk("disabled",i.disabled||null),l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[l.qOj],attrs:BU,ngContentSelectors:UU,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,i){1&t&&(l.F$t(),l.TgZ(0,"span",0),l.Hsn(1),l.qZA(),l._UZ(2,"span",1)(3,"span",2)),2&t&&(l.xp6(2),l.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),l.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[cw],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),N1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[jM,mi,mi]}),n})();class V1{}const gd="*";function _y(n,e){return{type:7,name:n,definitions:e,options:{}}}function Uc(n,e=null){return{type:4,styles:e,timings:n}}function B1(n,e=null){return{type:3,steps:n,options:e}}function U1(n,e=null){return{type:2,steps:n,options:e}}function $i(n){return{type:6,styles:n,offset:null}}function md(n,e,t){return{type:0,name:n,styles:e,options:t}}function jc(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function j1(n=null){return{type:9,options:n}}function H1(n,e,t=null){return{type:11,selector:n,animation:e,options:t}}function G1(n){Promise.resolve(null).then(n)}class uw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){G1(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class z1{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const a=this.players.length;0==a?G1(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,f)=>Math.max(u,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}function WU(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",2)(1,"button",3),l.NdJ("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.action())}),l._uU(2),l.qZA()()}if(2&n){const t=l.oxw();l.xp6(2),l.Oqu(t.data.action)}}function qU(n,e){}const $1=new l.OlP("MatSnackBarData");class vS{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const KU=Math.pow(2,31)-1;class GM{constructor(e,t){this._overlayRef=t,this._afterDismissed=new Mt.x,this._afterOpened=new Mt.x,this._onAction=new Mt.x,this._dismissedByAction=!1,this.containerInstance=e,e._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(e){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(e,KU))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let YU=(()=>{class n{constructor(t,i){this.snackBarRef=t,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(GM),l.Y36($1))},n.\u0275cmp=l.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"span",0),l._uU(1),l.qZA(),l.YNc(2,WU,3,1,"div",1)),2&t&&(l.xp6(1),l.Oqu(i.data.message),l.xp6(1),l.Q6J("ngIf",i.hasAction))},dependencies:[Qo,yS],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const ZU={snackBarState:_y("state",[md("void, hidden",$i({transform:"scale(0.8)",opacity:0})),md("visible",$i({transform:"scale(1)",opacity:1})),jc("* => visible",Uc("150ms cubic-bezier(0, 0, 0.2, 1)")),jc("* => void, * => hidden",Uc("75ms cubic-bezier(0.4, 0.0, 1, 1)",$i({opacity:0})))])};let XU=(()=>{class n extends lS{constructor(t,i,r,a,u){super(),this._ngZone=t,this._elementRef=i,this._changeDetectorRef=r,this._platform=a,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new Mt.x,this._onExit=new Mt.x,this._onEnter=new Mt.x,this._animationState="void",this.attachDomPortal=f=>{this._assertNotAttached();const _=this._portalOutlet.attachDomPortal(f);return this._afterPortalAttached(),_},this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(t){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._afterPortalAttached(),i}attachTemplatePortal(t){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._afterPortalAttached(),i}onAnimationEnd(t){const{fromState:i,toState:r}=t;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(bi(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const t=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>t.classList.add(r)):t.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const t=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(t&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(r=document.activeElement),t.removeAttribute("aria-hidden"),i.appendChild(t),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.R0b),l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(ls),l.Y36(vS))},n.\u0275dir=l.lG2({type:n,viewQuery:function(t,i){if(1&t&&l.Gf(rw,7),2&t){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},features:[l.qOj]}),n})(),QU=(()=>{class n extends XU{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275cmp=l.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,i){1&t&&l.WFA("@state.done",function(a){return i.onAnimationEnd(a)}),2&t&&l.d8E("@state",i._animationState)},features:[l.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,i){1&t&&(l.TgZ(0,"div",0),l.YNc(1,qU,0,0,"ng-template",1),l.qZA(),l._UZ(2,"div")),2&t&&(l.xp6(2),l.uIk("aria-live",i._live)("role",i._role))},dependencies:[rw],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[ZU.snackBarState]}}),n})(),W1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[aw,sw,pr,N1,mi,mi]}),n})();const q1=new l.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function JU(){return new vS}});let ej=(()=>{class n{constructor(t,i,r,a,u,f){this._overlay=t,this._live=i,this._injector=r,this._breakpointObserver=a,this._parentSnackBar=u,this._defaultConfig=f,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}openFromComponent(t,i){return this._attach(t,i)}openFromTemplate(t,i){return this._attach(t,i)}open(t,i="",r){const a={...this._defaultConfig,...r};return a.data={message:t,action:i},a.announcementMessage===t&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(t,i){const a=l.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:vS,useValue:i}]}),u=new fy(this.snackBarContainerComponent,i.viewContainerRef,a),f=t.attach(u);return f.instance.snackBarConfig=i,f.instance}_attach(t,i){const r={...new vS,...this._defaultConfig,...i},a=this._createOverlay(r),u=this._attachSnackBarContainer(a,r),f=new GM(u,a);if(t instanceof l.Rgc){const _=new aS(t,null,{$implicit:r.data,snackBarRef:f});f.instance=u.attachTemplatePortal(_)}else{const _=this._createInjector(r,f),w=new fy(t,void 0,_),k=u.attachComponentPortal(w);f.instance=k.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(_n(a.detachments())).subscribe(_=>{a.overlayElement.classList.toggle(this.handsetCssClass,_.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(f,r),this._openedSnackBarRef=f,this._openedSnackBarRef}_animateSnackBar(t,i){t.afterDismissed().subscribe(()=>{this._openedSnackBarRef==t&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),i.duration&&i.duration>0&&t.afterOpened().subscribe(()=>t._dismissAfter(i.duration))}_createOverlay(t){const i=new cS;i.direction=t.direction;let r=this._overlay.position().global();const a="rtl"===t.direction,u="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!a||"end"===t.horizontalPosition&&a,f=!u&&"center"!==t.horizontalPosition;return u?r.left("0"):f?r.right("0"):r.centerHorizontally(),"top"===t.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(t,i){return l.zs3.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:GM,useValue:i},{provide:$1,useValue:t.data}]})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ra),l.LFG(C1),l.LFG(l.zs3),l.LFG(fS),l.LFG(n,12),l.LFG(q1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),tj=(()=>{class n extends ej{constructor(t,i,r,a,u,f){super(t,i,r,a,u,f),this.simpleSnackBarComponent=YU,this.snackBarContainerComponent=QU,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ra),l.LFG(C1),l.LFG(l.zs3),l.LFG(fS),l.LFG(n,12),l.LFG(q1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:W1}),n})();const nj=["*",[["mat-card-footer"]]],ij=["*","mat-card-footer"],rj=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],sj=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let oj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),aj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),lj=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),cj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),n})(),K1=(()=>{class n{constructor(t){this._animationMode=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(t,i){2&t&&l.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:ij,decls:2,vars:0,template:function(t,i){1&t&&(l.F$t(nj),l.Hsn(0),l.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),uj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:sj,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(t,i){1&t&&(l.F$t(rj),l.Hsn(0),l.TgZ(1,"div",0),l.Hsn(2,1),l.qZA(),l.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),dj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[mi,mi]}),n})();function hj(n,e){}class bS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let Y1=(()=>{class n extends lS{constructor(t,i,r,a,u,f,_,w){super(),this._elementRef=t,this._focusTrapFactory=i,this._config=a,this._interactivityChecker=u,this._ngZone=f,this._overlayRef=_,this._focusMonitor=w,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=k=>{this._portalOutlet.hasAttached();const q=this._portalOutlet.attachDomPortal(k);return this._contentAttached(),q},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(t);return this._contentAttached(),i}attachTemplatePortal(t){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(t);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(t,i){this._interactivityChecker.isFocusable(t)||(t.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{t.removeEventListener("blur",r),t.removeEventListener("mousedown",r),t.removeAttribute("tabindex")};t.addEventListener("blur",r),t.addEventListener("mousedown",r)})),t.focus(i)}_focusByCssSelector(t,i){let r=this._elementRef.nativeElement.querySelector(t);r&&this._forceFocus(r,i)}_trapFocus(){const t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const t=this._config.restoreFocus;let i=null;if("string"==typeof t?i=this._document.querySelector(t):"boolean"==typeof t?i=t?this._elementFocusedBeforeDialogWasOpened:null:t&&(i=t),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=AM(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const t=this._elementRef.nativeElement,i=AM();return t===i||t.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=AM())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(OM),l.Y36(U,8),l.Y36(bS),l.Y36(mS),l.Y36(l.R0b),l.Y36(ow),l.Y36(Fh))},n.\u0275cmp=l.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(1&t&&l.Gf(rw,7),2&t){let r;l.iGM(r=l.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){2&t&&l.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&l.YNc(0,hj,0,0,"ng-template",0)},dependencies:[rw],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class zM{constructor(e,t){this.overlayRef=e,this.config=t,this.closed=new Mt.x,this.disableClose=t.disableClose,this.backdropClick=e.backdropClick(),this.keydownEvents=e.keydownEvents(),this.outsidePointerEvents=e.outsidePointerEvents(),this.id=t.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!gg(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(e,t){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=t?.focusOrigin||"program",this.overlayRef.dispose(),i.next(e),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(e="",t=""){return this.overlayRef.updateSize({width:e,height:t}),this}addPanelClass(e){return this.overlayRef.addPanelClass(e),this}removePanelClass(e){return this.overlayRef.removePanelClass(e),this}}const Z1=new l.OlP("DialogScrollStrategy"),fj=new l.OlP("DialogData"),pj=new l.OlP("DefaultDialogConfig"),mj={provide:Z1,deps:[Ra],useFactory:function gj(n){return()=>n.scrollStrategies.block()}};let _j=0,X1=(()=>{class n{constructor(t,i,r,a,u,f){this._overlay=t,this._injector=i,this._defaultOptions=r,this._parentDialog=a,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Mt.x,this._afterOpenedAtThisLevel=new Mt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=Ks(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Vi(void 0))),this._scrollStrategy=f}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(t,i){(i={...this._defaultOptions||new bS,...i}).id=i.id||"cdk-dialog-"+_j++,i.id&&this.getDialogById(i.id);const a=this._getOverlayConfig(i),u=this._overlay.create(a),f=new zM(u,i),_=this._attachContainer(u,f,i);return f.containerInstance=_,this._attachDialogContent(t,f,_,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(f),f.closed.subscribe(()=>this._removeOpenDialog(f,!0)),this.afterOpened.next(f),f}closeAll(){$M(this.openDialogs,t=>t.close())}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){$M(this._openDialogsAtThisLevel,t=>{!1===t.config.closeOnDestroy&&this._removeOpenDialog(t,!1)}),$M(this._openDialogsAtThisLevel,t=>t.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(t){const i=new cS({positionStrategy:t.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,width:t.width,height:t.height,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(i.backdropClass=t.backdropClass),i}_attachContainer(t,i,r){const a=r.injector??r.viewContainerRef?.injector,u=[{provide:bS,useValue:r},{provide:zM,useValue:i},{provide:ow,useValue:t}];let f;r.container?"function"==typeof r.container?f=r.container:(f=r.container.type,u.push(...r.container.providers(r))):f=Y1;const _=new fy(f,r.viewContainerRef,l.zs3.create({parent:a||this._injector,providers:u}),r.componentFactoryResolver);return t.attach(_).instance}_attachDialogContent(t,i,r,a){const u=this._createInjector(a,i,r);if(t instanceof l.Rgc){let f={$implicit:a.data,dialogRef:i};a.templateContext&&(f={...f,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),r.attachTemplatePortal(new aS(t,null,f,u))}else{const f=r.attachComponentPortal(new fy(t,a.viewContainerRef,u,a.componentFactoryResolver));i.componentInstance=f.instance}}_createInjector(t,i,r){const a=t&&t.viewContainerRef&&t.viewContainerRef.injector,u=[{provide:fj,useValue:t.data},{provide:zM,useValue:i}];return t.providers&&("function"==typeof t.providers?u.push(...t.providers(i,t,r)):u.push(...t.providers)),t.direction&&(!a||!a.get(hy,null,l.XFs.Optional))&&u.push({provide:hy,useValue:{value:t.direction,change:Vt()}}),l.zs3.create({parent:t.injector||a||this._injector,providers:u})}_removeOpenDialog(t,i){const r=this.openDialogs.indexOf(t);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,u)=>{a?u.setAttribute("aria-hidden",a):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const t=this._overlayContainer.getContainerElement();if(t.parentElement){const i=t.parentElement.children;for(let r=i.length-1;r>-1;r--){const a=i[r];a!==t&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ra),l.LFG(l.zs3),l.LFG(pj,8),l.LFG(n,12),l.LFG(uS),l.LFG(Z1))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function $M(n,e){let t=n.length;for(;t--;)e(n[t])}let yj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[X1,mj],imports:[aw,sw,D1,sw]}),n})();function vj(n,e){}const yy={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},bj={dialogContainer:_y("dialogContainer",[md("void, exit",$i({opacity:0,transform:"scale(0.7)"})),md("enter",$i({transform:"none"})),jc("* => enter",B1([Uc("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",$i({transform:"none",opacity:1})),H1("@*",j1(),{optional:!0})]),yy),jc("* => void, * => exit",B1([Uc("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",$i({opacity:0})),H1("@*",j1(),{optional:!0})]),yy)])};class wS{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=yy.params.enterAnimationDuration,this.exitAnimationDuration=yy.params.exitAnimationDuration}}let wj=(()=>{class n extends Y1{constructor(t,i,r,a,u,f,_,w){super(t,i,r,a,u,f,_,w),this._animationStateChanged=new l.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(t){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:t})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(OM),l.Y36(U,8),l.Y36(wS),l.Y36(mS),l.Y36(l.R0b),l.Y36(ow),l.Y36(Fh))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],features:[l.qOj],decls:0,vars:0,template:function(t,i){},encapsulation:2}),n})(),Cj=(()=>{class n extends wj{constructor(t,i,r,a,u,f,_,w,k){super(t,i,r,a,u,f,_,k),this._changeDetectorRef=w,this._state="enter"}_onAnimationDone({toState:t,totalTime:i}){"enter"===t?this._openAnimationDone(i):"exit"===t&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:t,totalTime:i}){"enter"===t?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===t||"void"===t)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||yy.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||yy.params.exitAnimationDuration}}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(OM),l.Y36(U,8),l.Y36(wS),l.Y36(mS),l.Y36(l.R0b),l.Y36(ow),l.Y36(l.sBO),l.Y36(Fh))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(t,i){1&t&&l.WFA("@dialogContainer.start",function(a){return i._onAnimationStart(a)})("@dialogContainer.done",function(a){return i._onAnimationDone(a)}),2&t&&(l.Ikx("id",i._config.id),l.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),l.d8E("@dialogContainer",i._getAnimationState()))},features:[l.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){1&t&&l.YNc(0,vj,0,0,"ng-template",0)},dependencies:[rw],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[bj.dialogContainer]}}),n})();class Q1{constructor(e,t,i){this._ref=e,this._containerInstance=i,this._afterOpened=new Mt.x,this._beforeClosed=new Mt.x,this._state=0,this.disableClose=t.disableClose,this.id=e.id,i._animationStateChanged.pipe(Kn(r=>"opened"===r.state),bi(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Kn(r=>"closed"===r.state),bi(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,fc.T)(this.backdropClick(),this.keydownEvents().pipe(Kn(r=>27===r.keyCode&&!this.disableClose&&!gg(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),J1(this,"keydown"===r.type?"keyboard":"mouse"))})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Kn(t=>"closing"===t.state),bi(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(e){let t=this._ref.config.positionStrategy;return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._ref.updatePosition(),this}updateSize(e="",t=""){return this._ref.updateSize(e,t),this}addPanelClass(e){return this._ref.addPanelClass(e),this}removePanelClass(e){return this._ref.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function J1(n,e,t){return n._closeInteractionType=e,n.close(t)}const WM=new l.OlP("MatDialogData"),Ej=new l.OlP("mat-dialog-default-options"),eF=new l.OlP("mat-dialog-scroll-strategy"),Sj={provide:eF,deps:[Ra],useFactory:function Aj(n){return()=>n.scrollStrategies.block()}};let Dj=0,Tj=(()=>{class n{constructor(t,i,r,a,u,f,_,w,k,q){this._overlay=t,this._defaultOptions=r,this._parentDialog=a,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=k,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new Mt.x,this._afterOpenedAtThisLevel=new Mt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=Ks(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Vi(void 0))),this._scrollStrategy=f,this._dialog=i.get(X1)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(t,i){let r;(i={...this._defaultOptions||new wS,...i}).id=i.id||`${this._idPrefix}${Dj++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const a=this._dialog.open(t,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:wS,useValue:i},{provide:bS,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,f,_)=>(r=new this._dialogRefConstructor(u,i,_),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:f.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=a.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(t){return this.openDialogs.find(i=>i.id===t)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(t){let i=t.length;for(;i--;)t[i].close()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),CS=(()=>{class n extends Tj{constructor(t,i,r,a,u,f,_,w){super(t,i,a,f,_,u,Q1,Cj,WM,w)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ra),l.LFG(l.zs3),l.LFG(F,8),l.LFG(Ej,8),l.LFG(eF),l.LFG(n,12),l.LFG(uS),l.LFG(l.QbO,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ij=(()=>{class n{constructor(t,i,r){this.dialogRef=t,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function xj(n,e){let t=n.nativeElement.parentElement;for(;t&&!t.classList.contains("mat-dialog-container");)t=t.parentElement;return t?e.find(i=>i.id===t.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(t){const i=t._matDialogClose||t._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(t){J1(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Q1,8),l.Y36(l.SBq),l.Y36(CS))},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("click",function(a){return i._onButtonClick(a)}),2&t&&l.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[l.TTD]}),n})(),Mj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[CS,Sj],imports:[yj,aw,sw,mi,mi]}),n})();const Pj=["connectionContainer"],kj=["inputContainer"],Rj=["label"];function Oj(n,e){1&n&&(l.ynx(0),l.TgZ(1,"div",14),l._UZ(2,"div",15)(3,"div",16)(4,"div",17),l.qZA(),l.TgZ(5,"div",18),l._UZ(6,"div",15)(7,"div",16)(8,"div",17),l.qZA(),l.BQk())}function Fj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.NdJ("cdkObserveContent",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.Hsn(1,1),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)}}function Lj(n,e){if(1&n&&(l.ynx(0),l.Hsn(1,2),l.TgZ(2,"span"),l._uU(3),l.qZA(),l.BQk()),2&n){const t=l.oxw(2);l.xp6(3),l.Oqu(t._control.placeholder)}}function Nj(n,e){1&n&&l.Hsn(0,3,["*ngSwitchCase","true"])}function Vj(n,e){1&n&&(l.TgZ(0,"span",23),l._uU(1," *"),l.qZA())}function Bj(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"label",20,21),l.NdJ("cdkObserveContent",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.updateOutlineGap())}),l.YNc(2,Lj,4,1,"ng-container",12),l.YNc(3,Nj,1,0,"ng-content",12),l.YNc(4,Vj,2,0,"span",22),l.qZA()}if(2&n){const t=l.oxw();l.ekj("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),l.Q6J("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),l.uIk("for",t._control.id)("aria-owns",t._control.id),l.xp6(2),l.Q6J("ngSwitchCase",!1),l.xp6(1),l.Q6J("ngSwitchCase",!0),l.xp6(1),l.Q6J("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function Uj(n,e){1&n&&(l.TgZ(0,"div",24),l.Hsn(1,4),l.qZA())}function jj(n,e){if(1&n&&(l.TgZ(0,"div",25),l._UZ(1,"span",26),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.ekj("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function Hj(n,e){if(1&n&&(l.TgZ(0,"div"),l.Hsn(1,5),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState)}}function Gj(n,e){if(1&n&&(l.TgZ(0,"div",30),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.Q6J("id",t._hintLabelId),l.xp6(1),l.Oqu(t.hintLabel)}}function zj(n,e){if(1&n&&(l.TgZ(0,"div",27),l.YNc(1,Gj,2,2,"div",28),l.Hsn(2,6),l._UZ(3,"div",29),l.Hsn(4,7),l.qZA()),2&n){const t=l.oxw();l.Q6J("@transitionMessages",t._subscriptAnimationState),l.xp6(1),l.Q6J("ngIf",t.hintLabel)}}const $j=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Wj=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let qj=0;const tF=new l.OlP("MatError");let Kj=(()=>{class n{constructor(t,i){this.id="mat-error-"+qj++,t||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(t,i){2&t&&l.uIk("id",i.id)},inputs:{id:"id"},features:[l._Bn([{provide:tF,useExisting:n}])]}),n})();const Yj={transitionMessages:_y("transitionMessages",[md("enter",$i({opacity:1,transform:"translateY(0%)"})),jc("void => enter",[$i({opacity:0,transform:"translateY(-5px)"}),Uc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let qM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n}),n})();const Zj=new l.OlP("MatHint");let KM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-label"]]}),n})(),Xj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const Qj=new l.OlP("MatPrefix"),nF=new l.OlP("MatSuffix");let Jj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","matSuffix",""]],features:[l._Bn([{provide:nF,useExisting:n}])]}),n})(),iF=0;const tH=BM(class{constructor(n){this._elementRef=n}},"primary"),nH=new l.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),sF=new l.OlP("MatFormField");let oF=(()=>{class n extends tH{constructor(t,i,r,a,u,f,_){super(t),this._changeDetectorRef=i,this._dir=r,this._defaults=a,this._platform=u,this._ngZone=f,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new Mt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+iF++,this._labelId="mat-form-field-label-"+iF++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a?.appearance||"legacy",a&&(this._hideRequiredMarker=Boolean(a.hideRequiredMarker),a.color&&(this.color=this.defaultColor=a.color))}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=Gr(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(Vi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(_n(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(_n(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,fc.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Vi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Vi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(_n(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,ri(this._label.nativeElement,"transitionend").pipe(bi(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!t||!t.children.length||!t.textContent.trim()){const k=i.querySelectorAll(`${r}, ${a}`);for(let q=0;q<k.length;q++)k[q].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,f=0;const _=i.querySelectorAll(r),w=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const k=i.getBoundingClientRect();if(0===k.width&&0===k.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const q=this._getStartEnd(k),Se=t.children,Fe=this._getStartEnd(Se[0].getBoundingClientRect());let Ve=0;for(let We=0;We<Se.length;We++)Ve+=Se[We].offsetWidth;u=Math.abs(Fe-q)-5,f=Ve>0?.75*Ve+10:0}for(let k=0;k<_.length;k++)_[k].style.width=`${u}px`;for(let k=0;k<w.length;k++)w[k].style.width=`${f}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(hy,8),l.Y36(nH,8),l.Y36(ls),l.Y36(l.R0b),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,qM,5),l.Suo(r,qM,7),l.Suo(r,KM,5),l.Suo(r,KM,7),l.Suo(r,Xj,5),l.Suo(r,tF,5),l.Suo(r,Zj,5),l.Suo(r,Qj,5),l.Suo(r,nF,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._controlNonStatic=a.first),l.iGM(a=l.CRH())&&(i._controlStatic=a.first),l.iGM(a=l.CRH())&&(i._labelChildNonStatic=a.first),l.iGM(a=l.CRH())&&(i._labelChildStatic=a.first),l.iGM(a=l.CRH())&&(i._placeholderChild=a.first),l.iGM(a=l.CRH())&&(i._errorChildren=a),l.iGM(a=l.CRH())&&(i._hintChildren=a),l.iGM(a=l.CRH())&&(i._prefixChildren=a),l.iGM(a=l.CRH())&&(i._suffixChildren=a)}},viewQuery:function(t,i){if(1&t&&(l.Gf(Pj,7),l.Gf(kj,5),l.Gf(Rj,5)),2&t){let r;l.iGM(r=l.CRH())&&(i._connectionContainerRef=r.first),l.iGM(r=l.CRH())&&(i._inputContainerRef=r.first),l.iGM(r=l.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(t,i){2&t&&l.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[l._Bn([{provide:sF,useExisting:n}]),l.qOj],ngContentSelectors:Wj,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,i){1&t&&(l.F$t($j),l.TgZ(0,"div",0)(1,"div",1,2),l.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),l.YNc(3,Oj,9,0,"ng-container",3),l.YNc(4,Fj,2,1,"div",4),l.TgZ(5,"div",5,6),l.Hsn(7),l.TgZ(8,"span",7),l.YNc(9,Bj,5,16,"label",8),l.qZA()(),l.YNc(10,Uj,2,0,"div",9),l.qZA(),l.YNc(11,jj,2,4,"div",10),l.TgZ(12,"div",11),l.YNc(13,Hj,2,1,"div",12),l.YNc(14,zj,5,2,"div",13),l.qZA()()),2&t&&(l.xp6(3),l.Q6J("ngIf","outline"==i.appearance),l.xp6(1),l.Q6J("ngIf",i._prefixChildren.length),l.xp6(5),l.Q6J("ngIf",i._hasFloatingLabel()),l.xp6(1),l.Q6J("ngIf",i._suffixChildren.length),l.xp6(1),l.Q6J("ngIf","outline"!=i.appearance),l.xp6(1),l.Q6J("ngSwitch",i._getDisplayedMessages()),l.xp6(1),l.Q6J("ngSwitchCase","error"),l.xp6(1),l.Q6J("ngSwitchCase","hint"))},dependencies:[Qo,ea,ta,iU],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Yj.transitionMessages]},changeDetection:0}),n})(),YM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[pr,mi,d1,mi]}),n})();class iH{}class Lh{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),a=r.toLowerCase(),u=t.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let i=e[t];const r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Lh?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Lh;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Lh?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const a=e.value;if(a){let u=this.headers.get(t);if(!u)return;u=u.filter(f=>-1===a.indexOf(f)),0===u.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,u)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class rH{encodeKey(e){return aF(e)}encodeValue(e){return aF(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const oH=/%(\d[a-f0-9])/gi,aH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function aF(n){return encodeURIComponent(n).replace(oH,(e,t)=>aH[t]??e)}function ES(n){return`${n}`}class Nh{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new rH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function sH(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,f]=-1==a?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,a)),e.decodeValue(r.slice(a+1))],_=t.get(u)||[];_.push(f),t.set(u,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(ES):[ES(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(a=>{t.push({param:i,value:a,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Nh({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ES(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(ES(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class lH{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function lF(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function cF(n){return typeof Blob<"u"&&n instanceof Blob}function uF(n){return typeof FormData<"u"&&n instanceof FormData}class dw{constructor(e,t,i,r){let a;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function cH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new Lh),this.context||(this.context=new lH),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+u}}else this.params=new Nh,this.urlWithParams=t}serializeBody(){return null===this.body?null:lF(this.body)||cF(this.body)||uF(this.body)||function uH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Nh?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||uF(this.body)?null:cF(this.body)?this.body.type||null:lF(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Nh?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,a=void 0!==e.body?e.body:this.body,u=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,w=e.params||this.params;const k=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((q,Se)=>q.set(Se,e.setHeaders[Se]),_)),e.setParams&&(w=Object.keys(e.setParams).reduce((q,Se)=>q.set(Se,e.setParams[Se]),w)),new dw(t,i,a,{params:w,headers:_,context:k,reportProgress:f,responseType:r,withCredentials:u})}}var cs=(()=>((cs=cs||{})[cs.Sent=0]="Sent",cs[cs.UploadProgress=1]="UploadProgress",cs[cs.ResponseHeader=2]="ResponseHeader",cs[cs.DownloadProgress=3]="DownloadProgress",cs[cs.Response=4]="Response",cs[cs.User=5]="User",cs))();class ZM extends class dH{constructor(e,t=200,i="OK"){this.headers=e.headers||new Lh,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}{constructor(e={}){super(e),this.type=cs.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new ZM({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function XM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let hF=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let a;if(t instanceof dw)a=t;else{let _,w;_=r.headers instanceof Lh?r.headers:new Lh(r.headers),r.params&&(w=r.params instanceof Nh?r.params:new Nh({fromObject:r.params})),a=new dw(t,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Vt(a).pipe(zn(_=>this.handler.handle(_)));if(t instanceof dw||"events"===r.observe)return u;const f=u.pipe(Kn(_=>_ instanceof ZM));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return f.pipe((0,$t.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,$t.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,$t.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,$t.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Nh).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,XM(r,i))}post(t,i,r={}){return this.request("POST",t,XM(r,i))}put(t,i,r={}){return this.request("PUT",t,XM(r,i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(iH))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const fH=["*"];let AS;function hw(n){return function pH(){if(void 0===AS&&(AS=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(AS=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return AS}()?.createHTML(n)||n}function fF(n){return Error(`Unable to find icon with the name "${n}"`)}function pF(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function gF(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class mg{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let SS=(()=>{class n{constructor(t,i,r,a){this._httpClient=t,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,a){return this._addSvgIconConfig(t,i,new mg(r,null,a))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,a){const u=this._sanitizer.sanitize(l.q3G.HTML,r);if(!u)throw gF(r);const f=hw(u);return this._addSvgIconConfig(t,i,new mg("",f,a))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new mg(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const a=this._sanitizer.sanitize(l.q3G.HTML,i);if(!a)throw gF(i);const u=hw(a);return this._addSvgIconSetConfig(t,new mg("",u,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,t);if(!i)throw pF(t);const r=this._cachedIconsByUrl.get(i);return r?Vt(DS(r)):this._loadSvgIconFromConfig(new mg(t,null)).pipe((0,ai.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,$t.U)(a=>DS(a)))}getNamedSvgIcon(t,i=""){const r=mF(i,t);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,t),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(t,u):nr(fF(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Vt(DS(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe((0,$t.U)(i=>DS(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Vt(r):Hw(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(mr(f=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(l.q3G.RESOURCE_URL,u.url)} failed: ${f.message}`;return this._errorHandler.handleError(new Error(w)),Vt(null)})))).pipe((0,$t.U)(()=>{const u=this._extractIconWithNameFromAnySet(t,i);if(!u)throw fF(t);return u}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(t)>-1){const u=this._svgElementFromConfig(a),f=this._extractSvgIconFromSet(u,t,a.options);if(f)return f}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe((0,ai.b)(i=>t.svgText=i),(0,$t.U)(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Vt(null):this._fetchIcon(t).pipe((0,ai.b)(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const a=t.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const f=this._svgElementFromString(hw("<svg></svg>"));return f.appendChild(u),this._setSvgAttributes(f,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(hw("<svg></svg>")),r=t.attributes;for(let a=0;a<r.length;a++){const{name:u,value:f}=r[a];"id"!==u&&i.setAttribute(u,f)}for(let a=0;a<t.childNodes.length;a++)t.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,a=r?.withCredentials??!1;if(!this._httpClient)throw function gH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(l.q3G.RESOURCE_URL,i);if(!u)throw pF(i);const f=this._inProgressUrlFetches.get(u);if(f)return f;const _=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,$t.U)(w=>hw(w)),fs(()=>this._inProgressUrlFetches.delete(u)),(0,DC.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(mF(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,t);if(a)return _H(a)?new mg(a.url,null,a.options):new mg(a,null)}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(hF,8),l.LFG(Xr),l.LFG(U,8),l.LFG(l.qLn))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function DS(n){return n.cloneNode(!0)}function mF(n,e){return n+":"+e}function _H(n){return!(!n.url||!n.options)}const yH=BM(class{constructor(n){this._elementRef=n}}),vH=new l.OlP("MAT_ICON_DEFAULT_OPTIONS"),bH=new l.OlP("mat-icon-location",{providedIn:"root",factory:function wH(){const n=(0,l.f3M)(U),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),_F=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],CH=_F.map(n=>`[${n}]`).join(", "),EH=/^url\(['"]?#(.*?)['"]?\)$/;let QM=(()=>{class n extends yH{constructor(t,i,r,a,u,f){super(t),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=es.w0.EMPTY,f&&(f.color&&(this.color=this.defaultColor=f.color),f.fontSet&&(this.fontSet=f.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(t){this._inline=Gr(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${t}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(CH),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)_F.forEach(u=>{const f=i[a],_=f.getAttribute(u),w=_?_.match(EH):null;if(w){let k=r.get(f);k||(k=[],r.set(f,k)),k.push({name:u,value:w[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(bi(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(SS),l.$8M("aria-hidden"),l.Y36(bH),l.Y36(l.qLn),l.Y36(vH,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),l.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[l.qOj],ngContentSelectors:fH,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),AH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[mi,mi]}),n})();const yF=dy({passive:!0});let SH=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Ki.E;const i=pd(t),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new Mt.x,u="cdk-text-field-autofilled",f=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",f,yF),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",f,yF)}}),a}stopMonitoring(t){const i=pd(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(ls),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),vF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const DH=new l.OlP("MAT_INPUT_VALUE_ACCESSOR"),TH=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let IH=0;const xH=PU(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new Mt.x}});let MH=(()=>{class n extends xH{constructor(t,i,r,a,u,f,_,w,k,q){super(f,a,u,r),this._elementRef=t,this._platform=i,this._autofillMonitor=w,this._formField=q,this._uid="mat-input-"+IH++,this.focused=!1,this.stateChanges=new Mt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Ve=>WO().has(Ve)),this._iOSKeyupListener=Ve=>{const We=Ve.target;!We.value&&0===We.selectionStart&&0===We.selectionEnd&&(We.setSelectionRange(1,1),We.setSelectionRange(0,0))};const Se=this._elementRef.nativeElement,Fe=Se.nodeName.toLowerCase();this._inputValueAccessor=_||Se,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&k.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Fe,this._isTextarea="textarea"===Fe,this._isInFormField=!!q,this._isNativeSelect&&(this.controlType=Se.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=Gr(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(If.required)??!1}set required(t){this._required=Gr(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&WO().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=Gr(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const t=this._formField,i=t&&"legacy"===t.appearance&&!t._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){TH.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(ls),l.Y36(bl,10),l.Y36(Uf,8),l.Y36(no,8),l.Y36(x1),l.Y36(DH,10),l.Y36(SH),l.Y36(l.R0b),l.Y36(sF,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(t,i){1&t&&l.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&t&&(l.Ikx("disabled",i.disabled)("required",i.required),l.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),l.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[l._Bn([{provide:qM,useExisting:n}]),l.qOj,l.TTD]}),n})(),PH=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[x1],imports:[vF,YM,mi,vF,YM]}),n})();const kH=["matErrorMessaging",""];let RH=(()=>{class n{constructor(t,i){this.injector=t,this.cdr=i,this.overrideMap={},this.name="",this.updateErrors=r=>{if("INVALID"===r){const a=this.input.ngControl?.errors||{},u=Object.keys(a)[0];this.error=this.errorMap[u]?this.errorMap[u](this.name):a[u],this.cdr.detectChanges()}}}ngAfterViewInit(){this.errorMap={required:r=>`${r} is required`,minlength:r=>`${r} should be longer`,maxlength:r=>`${r} should be shorter`,pattern:r=>`Invalid ${r} format`,min:r=>`${r} is too low`,max:r=>`${r} is too high`,matDatePickerMax:r=>`${r} cannot be in the future`,incorrectDescription:r=>`The ${r} doesn't match the content`,email:r=>`Invalid ${r} format`,...this.overrideMap};const t=this.injector.get(oF);this.input=t._control,this.name=this.input.ngControl.name.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),this.input.ngControl?.statusChanges?.pipe(Vi(this.input.ngControl.status)).subscribe(this.updateErrors)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.zs3),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","matErrorMessaging",""]],inputs:{overrideMap:"overrideMap"},attrs:kH,decls:1,vars:1,template:function(t,i){1&t&&l._uU(0),2&t&&l.Oqu(i.error)},encapsulation:2}),n})(),OH=(()=>{class n{constructor(t,i,r){this.fb=t,this.authService=i,this.snackBar=r,this.show=!1}ngOnInit(){this.loginGroup=this.fb.group({email:[null,[If.required,If.email]],password:[null,If.required]})}get passwordType(){return this.show?"text":"password"}get visibilityIcon(){return this.show?"visibility":"visibility_off"}hasError(t){const i=this.loginGroup.get(t);return i?.touched&&null!=i?.errors}login(){if(this.loginGroup.markAllAsTouched(),this.loginGroup.updateValueAndValidity(),this.loginGroup.valid){const{email:t,password:i}=this.loginGroup.value;this.authService.emailSignIn(t,i)}else this.snackBar.open("Unable to Login, invalid form","Dismiss")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(qD),l.Y36(VO),l.Y36(tj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:26,vars:7,consts:[["mat-card-avatar",""],["color","primary"],[1,"mat-display-1"],[3,"formGroup"],["appearance","standard"],["matInput","","type","email","formControlName","email"],["matErrorMessaging",""],["matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","color","primary",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"mat-card")(1,"mat-card-header")(2,"div",0)(3,"mat-icon",1),l._uU(4,"person"),l.qZA()(),l.TgZ(5,"mat-card-title",2),l._uU(6,"Login"),l.qZA()(),l.TgZ(7,"mat-card-content")(8,"form",3)(9,"mat-form-field",4)(10,"mat-label"),l._uU(11,"Email"),l.qZA(),l._UZ(12,"input",5)(13,"mat-error",6),l.qZA(),l.TgZ(14,"mat-form-field",4)(15,"mat-label"),l._uU(16,"Password"),l.qZA(),l._UZ(17,"input",7),l.TgZ(18,"mat-icon",8),l.NdJ("click",function(){return i.show=!i.show}),l._uU(19),l.qZA(),l._UZ(20,"mat-error",6),l.qZA()()(),l.TgZ(21,"mat-card-actions",9)(22,"button",10),l._uU(23,"Cancel"),l.qZA(),l.TgZ(24,"button",11),l.NdJ("click",function(){return i.login()}),l._uU(25,"Login"),l.qZA()()()),2&t&&(l.xp6(8),l.Q6J("formGroup",i.loginGroup),l.xp6(1),l.ekj("compact",!i.hasError("email")),l.xp6(5),l.ekj("compact",!i.hasError("password")),l.xp6(3),l.Q6J("type",i.passwordType),l.xp6(2),l.Oqu(i.visibilityIcon))},dependencies:[yS,K1,uj,oj,aj,lj,cj,Ij,Kj,oF,KM,Jj,QM,MH,Mv,Aa,eC,tC,no,Lv,RH],styles:["mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .mat-card-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#0c267826}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#0009}"]}),n})();var fw=(()=>(function(n){n.BlackMarketTransplant="Black Market Transplant",n.KidneyStoneRemoval="Kidney Stone Removal",n.KidneyStoneImplant="Kidney Stone Implant",n.ApprovalFromMother="Approval from Mother",n.DialysisTreatment="Dialysis Treatment"}(fw||(fw={})),fw))();const TS=new Map([[".bmp",{mimeType:"image/bmp",fullDescription:"Standard Windows Bitmap image"}],[".gif",{mimeType:"image/gif",fullDescription:"Graphics interchange file format"}],[".jpeg",{mimeType:"image/jpeg",fullDescription:"JPEG bitmap image format file"}],[".jpg",{mimeType:"image/jpeg",fullDescription:"JPEG bitmap image format file"}]]),IS=new Map([[".pdf",{mimeType:"application/pdf",fullDescription:"Adobe Portable document format"}]]),bF=new Map([[".csv",{mimeType:"application/vnd.ms-excel",fullDescription:"Comma Separated Value file",application:"ms-excel"}],[".doc",{mimeType:"application/msword",fullDescription:"Microsoft Word 97 to 2003 document file",application:"ms-word:ofv|u|"}],[".docx",{mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",fullDescription:"Microsoft Word 2007/2010 Open XML document file",application:"ms-word:ofv|u|"}]]);let wF=(()=>{class n{constructor(t){this.data=t}ngOnInit(){this.document=this.data;const t=new FileReader;t.onload=()=>this.url=t.result,t.readAsDataURL(this.document)}get alt(){return`${this.document.name} preview`}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(WM))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-image-preview"]],decls:1,vars:2,consts:[[3,"src","alt"]],template:function(t,i){1&t&&l._UZ(0,"img",0),2&t&&l.Q6J("src",i.url,l.LSH)("alt",i.alt)},styles:["img[_ngcontent-%COMP%]{height:90vh;width:auto;object-fit:cover}"]}),n})();var _g=R(6036),pw=R.t(_g,2),Oa=R(2813),CF=R.t(Oa,2);const FH=["pdfViewerContainer"];function EF(n,e){const t=new n.EventBus;return function LH(n,e){ri(n,"documentload").pipe(_n(e)).subscribe(()=>{const t=document.createEvent("CustomEvent");t.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(t)}),ri(n,"pagerendered").pipe(_n(e)).subscribe(({pageNumber:t,cssTransform:i,source:r})=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("pagerendered",!0,!0,{pageNumber:t,cssTransform:i}),r.div.dispatchEvent(a)}),ri(n,"textlayerrendered").pipe(_n(e)).subscribe(({pageNumber:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:t}),i.textLayerDiv.dispatchEvent(r)}),ri(n,"pagechanging").pipe(_n(e)).subscribe(({pageNumber:t,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("pagechanging",!0,!0),r.pageNumber=t,i.container.dispatchEvent(r)}),ri(n,"pagesinit").pipe(_n(e)).subscribe(({source:t})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),t.container.dispatchEvent(i)}),ri(n,"pagesloaded").pipe(_n(e)).subscribe(({pagesCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagesloaded",!0,!0,{pagesCount:t}),i.container.dispatchEvent(r)}),ri(n,"scalechange").pipe(_n(e)).subscribe(({scale:t,presetValue:i,source:r})=>{const a=document.createEvent("UIEvents");a.initEvent("scalechange",!0,!0),a.scale=t,a.presetValue=i,r.container.dispatchEvent(a)}),ri(n,"updateviewarea").pipe(_n(e)).subscribe(({location:t,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("updateviewarea",!0,!0),r.location=t,i.container.dispatchEvent(r)}),ri(n,"find").pipe(_n(e)).subscribe(({source:t,type:i,query:r,phraseSearch:a,caseSensitive:u,highlightAll:f,findPrevious:_})=>{if(t===window)return;const w=document.createEvent("CustomEvent");w.initCustomEvent("find"+i,!0,!0,{query:r,phraseSearch:a,caseSensitive:u,highlightAll:f,findPrevious:_}),window.dispatchEvent(w)}),ri(n,"attachmentsloaded").pipe(_n(e)).subscribe(({attachmentsCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:t}),i.container.dispatchEvent(r)}),ri(n,"sidebarviewchanged").pipe(_n(e)).subscribe(({view:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("sidebarviewchanged",!0,!0,{view:t}),i.outerContainer.dispatchEvent(r)}),ri(n,"pagemode").pipe(_n(e)).subscribe(({mode:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagemode",!0,!0,{mode:t}),i.pdfViewer.container.dispatchEvent(r)}),ri(n,"namedaction").pipe(_n(e)).subscribe(({action:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("namedaction",!0,!0,{action:t}),i.pdfViewer.container.dispatchEvent(r)}),ri(n,"presentationmodechanged").pipe(_n(e)).subscribe(({active:t,switchInProgress:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("presentationmodechanged",!0,!0,{active:t,switchInProgress:i}),window.dispatchEvent(r)}),ri(n,"outlineloaded").pipe(_n(e)).subscribe(({outlineCount:t,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("outlineloaded",!0,!0,{outlineCount:t}),i.container.dispatchEvent(r)})}(t,e),t}function xS(n,e,t){n[e]=t}function gw(){return typeof window>"u"}gw()||xS(pw,"verbosity",_g.VerbosityLevel.INFOS);var yg=(()=>(function(n){n[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED"}(yg||(yg={})),yg))();let NH=(()=>{class n{constructor(t,i){if(this.element=t,this.ngZone=i,this.isVisible=!1,this._cMapsUrl=typeof pw<"u"?`https://unpkg.com/pdfjs-dist@${_g.version}/cmaps/`:null,this._imageResourcesPath=typeof pw<"u"?`https://unpkg.com/pdfjs-dist@${_g.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=yg.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new Mt.x,this.afterLoadComplete=new l.vpe,this.pageRendered=new l.vpe,this.pageInitialized=new l.vpe,this.textLayerRendered=new l.vpe,this.onError=new l.vpe,this.onProgress=new l.vpe,this.pageChange=new l.vpe(!0),gw())return;let r;r=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${_g.version}/legacy/build/pdf.worker.min.js`,xS(_g.GlobalWorkerOptions,"workerSrc",r)}set cMapsUrl(t){this._cMapsUrl=t}set page(t){const i=t=parseInt(t,10)||1;this._pdf&&(t=this.getValidPageNumber(t)),this._page=t,i!==t&&this.pageChange.emit(t)}set renderText(t){this._renderText=t}set renderTextMode(t){this._renderTextMode=t}set originalSize(t){this._originalSize=t}set showAll(t){this._showAll=t}set stickToPage(t){this._stickToPage=t}set zoom(t){t<=0||(this._zoom=t)}get zoom(){return this._zoom}set zoomScale(t){this._zoomScale=t}get zoomScale(){return this._zoomScale}set rotation(t){"number"==typeof t&&t%90==0?this._rotation=t:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(t){this._externalLinkTarget=t}set autoresize(t){this._canAutoResize=Boolean(t)}set fitToPage(t){this._fitToPage=Boolean(t)}set showBorders(t){this._showBorders=Boolean(t)}static getLinkTarget(t){switch(t){case"blank":return Oa.LinkTarget.BLANK;case"none":return Oa.LinkTarget.NONE;case"self":return Oa.LinkTarget.SELF;case"parent":return Oa.LinkTarget.PARENT;case"top":return Oa.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const t=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=t?!1===this.isVisible&&null!=t&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(t){if(!gw()&&this.isVisible)if("src"in t)this.loadPDF();else if(this._pdf){if("renderText"in t?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:yg.DISABLED,this.resetPdfDocument()):"showAll"in t&&this.resetPdfDocument(),"page"in t){const{page:i}=t;if(i.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const t=this.getCurrentViewer();(0,Bn.D)(this._pdf.getPage(t.currentPageNumber)).pipe(_n(this.destroy$)).subscribe({next:i=>{const r=this._rotation||i.rotate,a=i.getViewport({scale:this._zoom,rotation:r}).width*n.CSS_UNITS;let u=this._zoom,f=!0;if(!this._originalSize||this._fitToPage&&a>this.pdfViewerContainer.nativeElement.clientWidth){const _=i.getViewport({scale:1,rotation:r});u=this.getScale(_.width,_.height),f=!this._stickToPage}t._setScale(u,f)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const t={},i=n.getLinkTarget(this._externalLinkTarget);return i&&(t.externalLinkTarget=i),t}setupMultiPageViewer(){xS(pw,"disableTextLayer",!this._renderText);const t=EF(CF,this.destroy$);ri(t,"pagerendered").pipe(_n(this.destroy$)).subscribe(r=>{this.pageRendered.emit(r)}),ri(t,"pagesinit").pipe(_n(this.destroy$)).subscribe(r=>{this.pageInitialized.emit(r)}),ri(t,"pagechanging").pipe(_n(this.destroy$)).subscribe(({pageNumber:r})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=r,this.pageChange.emit(r)},100)}),ri(t,"textlayerrendered").pipe(_n(this.destroy$)).subscribe(r=>{this.textLayerRendered.emit(r)}),this.pdfMultiPageLinkService=new Oa.PDFLinkService({eventBus:t,...this.getPDFLinkServiceConfig()}),this.pdfMultiPageFindController=new Oa.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:t});const i={eventBus:t,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:yg.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath};this.pdfMultiPageViewer=new Oa.PDFViewer(i),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){xS(pw,"disableTextLayer",!this._renderText);const t=EF(CF,this.destroy$);ri(t,"pagechanging").pipe(_n(this.destroy$)).subscribe(({pageNumber:r})=>{r!==this._page&&(this.page=r)}),ri(t,"pagerendered").pipe(_n(this.destroy$)).subscribe(r=>{this.pageRendered.emit(r)}),ri(t,"pagesinit").pipe(_n(this.destroy$)).subscribe(r=>{this.pageInitialized.emit(r)}),ri(t,"textlayerrendered").pipe(_n(this.destroy$)).subscribe(r=>{this.textLayerRendered.emit(r)}),this.pdfSinglePageLinkService=new Oa.PDFLinkService({eventBus:t,...this.getPDFLinkServiceConfig()}),this.pdfSinglePageFindController=new Oa.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:t});const i={eventBus:t,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:yg.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new Oa.PDFSinglePageViewer(i),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(t){return t<1?1:t>this._pdf.numPages?this._pdf.numPages:t}getDocumentParams(){const t=typeof this.src;if(!this._cMapsUrl)return this.src;const i={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===t?i.url=this.src:"object"===t&&(void 0!==this.src.byteLength?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=_g.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};const t=this.src;(0,Bn.D)(this.loadingTask.promise).pipe(_n(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=t,this.afterLoadComplete.emit(i),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const t=this.getCurrentViewer();(0!==this._rotation||t.pagesRotation!==this._rotation)&&setTimeout(()=>{t.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{t.currentPageNumber=this._page}),this.updateSize()}getScale(t,i){const r=this._showBorders?2*n.BORDER_WIDTH:0,a=this.pdfViewerContainer.nativeElement.clientWidth-r,u=this.pdfViewerContainer.nativeElement.clientHeight-r;if(0===u||0===i||0===a||0===t)return 1;let f=1;switch(this._zoomScale){case"page-fit":f=Math.min(u/i,a/t);break;case"page-height":f=u/i;break;default:f=a/t}return this._zoom*f/n.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){gw()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){gw()||this.ngZone.runOutsideAngular(()=>{ri(window,"resize").pipe(hS(100),Kn(()=>this._canAutoResize&&!!this._pdf),_n(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return n.CSS_UNITS=96/72,n.BORDER_WIDTH=9,n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["pdf-viewer"]],viewQuery:function(t,i){if(1&t&&l.Gf(FH,5),2&t){let r;l.iGM(r=l.CRH())&&(i.pdfViewerContainer=r.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[l.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(t,i){1&t&&(l.TgZ(0,"div",0,1),l._UZ(2,"div",2),l.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),n})(),AF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),SF=(()=>{class n{constructor(t){this.data=t}ngOnInit(){this.document=this.data;const t=new FileReader;t.onload=()=>this.url=t.result,t.readAsDataURL(this.document)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(WM))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-pdf-preview"]],decls:1,vars:4,consts:[[2,"height","90vh","width","50vw",3,"src","render-text","original-size","fit-to-page"]],template:function(t,i){1&t&&l._UZ(0,"pdf-viewer",0),2&t&&l.Q6J("src",i.url)("render-text",!0)("original-size",!0)("fit-to-page",!0)},dependencies:[NH]}),n})(),VH=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(t){this._vertical=Gr(t)}get inset(){return this._inset}set inset(t){this._inset=Gr(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(t,i){2&t&&(l.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),l.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(t,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),DF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[mi,mi]}),n})();const IF=["*"],BH=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],UH=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],$H=VM(my(class{})),WH=my(class{}),MF=new l.OlP("MatList"),qH=new l.OlP("MatNavList");let KH=(()=>{class n extends $H{constructor(t){super(),this._elementRef=t,this._stateChanges=new Mt.x,"action-list"===this._getListType()&&t.nativeElement.classList.add("mat-action-list")}_getListType(){const t=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===t?"list":"mat-action-list"===t?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[l._Bn([{provide:MF,useExisting:n}]),l.qOj,l.TTD],ngContentSelectors:IF,decls:1,vars:0,template:function(t,i){1&t&&(l.F$t(),l.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),PF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),kF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),YH=(()=>{class n extends WH{constructor(t,i,r,a){super(),this._element=t,this._isInteractiveList=!1,this._destroyed=new Mt.x,this._disabled=!1,this._isInteractiveList=!!(r||a&&"action-list"===a._getListType()),this._list=r||a;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(_n(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(t){this._disabled=Gr(t)}ngAfterContentInit(){!function P1(n,e,t="mat"){n.changes.pipe(Vi(n)).subscribe(({length:i})=>{lw(e,`${t}-2-line`,!1),lw(e,`${t}-3-line`,!1),lw(e,`${t}-multi-line`,!1),2===i||3===i?lw(e,`${t}-${i}-line`,!0):i>3&&lw(e,`${t}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.sBO),l.Y36(qH,8),l.Y36(MF,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,PF,5),l.Suo(r,kF,5),l.Suo(r,M1,5)),2&t){let a;l.iGM(a=l.CRH())&&(i._avatar=a.first),l.iGM(a=l.CRH())&&(i._icon=a.first),l.iGM(a=l.CRH())&&(i._lines=a)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(t,i){2&t&&l.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[l.qOj],ngContentSelectors:UH,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(t,i){1&t&&(l.F$t(BH),l.TgZ(0,"span",0),l._UZ(1,"span",1),l.Hsn(2),l.TgZ(3,"span",2),l.Hsn(4,1),l.qZA(),l.Hsn(5,2),l.qZA()),2&t&&(l.xp6(1),l.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[cw],encapsulation:2,changeDetection:0}),n})(),tG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[k1,jM,mi,L1,pr,k1,mi,L1,DF]}),n})();function OF(n,e){return e?t=>fa(e.pipe(bi(1),function nG(){return(0,Un.e)((n,e)=>{n.subscribe((0,$n.x)(e,ZO.Z))})}()),t.pipe(OF(n))):(0,Bi.z)((t,i)=>n(t,i).pipe(bi(1),al(t)))}function FF(n,e=Lu.z){const t=GO(n,e);return OF(()=>t)}const iG=["mat-menu-item",""];function rG(n,e){1&n&&(l.O4$(),l.TgZ(0,"svg",2),l._UZ(1,"polygon",3),l.qZA())}const LF=["*"];function sG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",0),l.NdJ("keydown",function(r){l.CHM(t);const a=l.oxw();return l.KtG(a._handleKeydown(r))})("click",function(){l.CHM(t);const r=l.oxw();return l.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){l.CHM(t);const a=l.oxw();return l.KtG(a._onAnimationStart(r))})("@transformMenu.done",function(r){l.CHM(t);const a=l.oxw();return l.KtG(a._onAnimationDone(r))}),l.TgZ(1,"div",1),l.Hsn(2),l.qZA()()}if(2&n){const t=l.oxw();l.Q6J("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),l.uIk("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const MS={transformMenu:_y("transformMenu",[md("void",$i({opacity:0,transform:"scale(0.8)"})),jc("void => enter",Uc("120ms cubic-bezier(0, 0, 0.2, 1)",$i({opacity:1,transform:"scale(1)"}))),jc("* => void",Uc("100ms 25ms linear",$i({opacity:0})))]),fadeInItems:_y("fadeInItems",[md("showing",$i({opacity:1})),jc("void => *",[$i({opacity:0}),Uc("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},oG=new l.OlP("MatMenuContent"),JM=new l.OlP("MAT_MENU_PANEL"),aG=my(VM(class{}));let PS=(()=>{class n extends aG{constructor(t,i,r,a,u){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=a,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new Mt.x,this._focused=new Mt.x,this._highlighted=!1,this._triggersSubmenu=!1,a?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(U),l.Y36(Fh),l.Y36(JM,8),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(t,i){1&t&&l.NdJ("click",function(a){return i._checkDisabled(a)})("mouseenter",function(){return i._handleMouseEnter()}),2&t&&(l.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),l.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[l.qOj],attrs:iG,ngContentSelectors:LF,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(t,i){1&t&&(l.F$t(),l.Hsn(0),l._UZ(1,"div",0),l.YNc(2,rG,2,0,"svg",1)),2&t&&(l.xp6(1),l.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),l.xp6(1),l.Q6J("ngIf",i._triggersSubmenu))},dependencies:[Qo,cw],encapsulation:2,changeDetection:0}),n})();const NF=new l.OlP("mat-menu-default-options",{providedIn:"root",factory:function lG(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let cG=0,mw=(()=>{class n{constructor(t,i,r,a){this._elementRef=t,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=a,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new l.n_E,this._tabSubscription=es.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new Mt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new l.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+cG++}get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=Gr(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=Gr(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new y1(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Vi(this._directDescendantItems),di(t=>(0,fc.T)(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),a=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[a]&&!r[a].disabled?i.setActiveItem(a):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Vi(this._directDescendantItems),di(i=>(0,fc.T)(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:gg(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._ngZone.onStable.pipe(bi(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,a=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!a||a===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Vi(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(NF),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,contentQueries:function(t,i,r){if(1&t&&(l.Suo(r,oG,5),l.Suo(r,PS,5),l.Suo(r,PS,4)),2&t){let a;l.iGM(a=l.CRH())&&(i.lazyContent=a.first),l.iGM(a=l.CRH())&&(i._allItems=a),l.iGM(a=l.CRH())&&(i.items=a)}},viewQuery:function(t,i){if(1&t&&l.Gf(l.Rgc,5),2&t){let r;l.iGM(r=l.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),uG=(()=>{class n extends mw{constructor(t,i,r,a){super(t,i,r,a),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b),l.Y36(NF),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(t,i){2&t&&l.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[l._Bn([{provide:JM,useExisting:n}]),l.qOj],ngContentSelectors:LF,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(t,i){1&t&&(l.F$t(),l.YNc(0,sG,3,6,"ng-template"))},dependencies:[xl],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[MS.transformMenu,MS.fadeInItems]},changeDetection:0}),n})();const VF=new l.OlP("mat-menu-scroll-strategy"),hG={provide:VF,deps:[Ra],useFactory:function dG(n){return()=>n.scrollStrategies.reposition()}},BF=dy({passive:!0});let fG=(()=>{class n{constructor(t,i,r,a,u,f,_,w,k){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=f,this._dir=_,this._focusMonitor=w,this._ngZone=k,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=es.w0.EMPTY,this._hoverSubscription=es.w0.EMPTY,this._menuCloseSubscription=es.w0.EMPTY,this._handleTouchStart=q=>{LM(q)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new l.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new l.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=u instanceof mw?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,BF),f&&(f._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,BF),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),a=r.positionStrategy;this._setPosition(t,a),r.hasBackdrop=t.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof mw&&(t._startAnimation(),t._directDescendantItems.changes.pipe(_n(t.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof mw?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Kn(r=>"void"===r.toState),bi(1),_n(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t)}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new cS({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const a="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(a,u)):t.setPositionClasses(a,u)})}_setPosition(t,i){let[r,a]="before"===t.xPosition?["end","start"]:["start","end"],[u,f]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[_,w]=[u,f],[k,q]=[r,a],Se=0;if(this.triggersSubmenu()){if(q=r="before"===t.xPosition?"start":"end",a=k="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Fe=this._parentMaterialMenu.items.first;this._parentInnerPadding=Fe?Fe._getHostElement().offsetTop:0}Se="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(_="top"===u?"bottom":"top",w="top"===f?"bottom":"top");i.withPositions([{originX:r,originY:_,overlayX:k,overlayY:u,offsetY:Se},{originX:a,originY:_,overlayX:q,overlayY:u,offsetY:Se},{originX:r,originY:w,overlayX:k,overlayY:f,offsetY:-Se},{originX:a,originY:w,overlayX:q,overlayY:f,offsetY:-Se}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Vt(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Kn(u=>u!==this._menuItemInstance),Kn(()=>this._menuOpen)):Vt();return(0,fc.T)(t,r,a,i)}_handleMousedown(t){FM(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Kn(t=>t===this._menuItemInstance&&!t.disabled),FF(0,wM)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof mw&&this.menu._isAnimating?this.menu._animationDone.pipe(bi(1),FF(0,wM),_n(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new aS(t.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ra),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(VF),l.Y36(JM,8),l.Y36(PS,10),l.Y36(hy,8),l.Y36(Fh),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,hostVars:3,hostBindings:function(t,i){1&t&&l.NdJ("click",function(a){return i._handleClick(a)})("mousedown",function(a){return i._handleMousedown(a)})("keydown",function(a){return i._handleKeydown(a)}),2&t&&l.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),pG=(()=>{class n extends fG{}return n.\u0275fac=function(){let e;return function(i){return(e||(e=l.n5z(n)))(i||n)}}(),n.\u0275dir=l.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[l.qOj]}),n})(),gG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[hG],imports:[pr,mi,jM,aw,oS,mi]}),n})();const mG=["tooltip"],UF="tooltip-panel",jF=dy({passive:!0}),HF=new l.OlP("mat-tooltip-scroll-strategy"),bG={provide:HF,deps:[Ra],useFactory:function vG(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},wG=new l.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function CG(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let EG=(()=>{class n{constructor(t,i,r,a,u,f,_,w,k,q,Se,Fe){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=a,this._ngZone=u,this._platform=f,this._ariaDescriber=_,this._focusMonitor=w,this._dir=q,this._defaultOptions=Se,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new Mt.x,this._scrollStrategy=k,this._document=Fe,Se&&(Se.position&&(this.position=Se.position),Se.touchGestures&&(this.touchGestures=Se.touchGestures)),q.change.pipe(_n(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(t){this._disabled=Gr(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=vM(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=vM(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(_n(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,jF)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new fy(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(_n(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(t)}hide(t=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(t)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const t=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(t);return i.positionChanges.pipe(_n(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${UF}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(_n(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(_n(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(_n(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!gg(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),a=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...a.main}),this._addOffset({...r.fallback,...a.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:a,y:u}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:a,originY:u}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:a,y:u}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:a,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(bi(1),_n(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:a}=t;let u;if(u="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===a?"above":"below",u!==this._currentPosition){const f=this._overlayRef;if(f){const _=`${this._cssClassPrefix}-${UF}-`;f.removePanelClass(_+this._currentPosition),f.addPanelClass(_+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,jF)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275dir=l.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),AG=(()=>{class n extends EG{constructor(t,i,r,a,u,f,_,w,k,q,Se,Fe){super(t,i,r,a,u,f,_,w,k,q,Se,Fe),this._tooltipComponent=DG}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ra),l.Y36(l.SBq),l.Y36(qO),l.Y36(l.s_b),l.Y36(l.R0b),l.Y36(ls),l.Y36(cU),l.Y36(Fh),l.Y36(HF),l.Y36(hy,8),l.Y36(wG,8),l.Y36(U))},n.\u0275dir=l.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[l.qOj]}),n})(),SG=(()=>{class n{constructor(t,i){this._changeDetectorRef=t,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new Mt.x,this._animationsDisabled="NoopAnimations"===i}show(t){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,a=this._hideAnimation;if(i.classList.remove(t?a:r),i.classList.add(t?r:a),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(i);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.QbO,8))},n.\u0275dir=l.lG2({type:n}),n})(),DG=(()=>{class n extends SG{constructor(t,i,r){super(t,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(fS),l.Y36(l.QbO,8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(t,i){if(1&t&&l.Gf(mG,7),2&t){let r;l.iGM(r=l.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(t,i){1&t&&l.NdJ("mouseleave",function(a){return i._handleMouseLeave(a)}),2&t&&l.Udp("zoom",i.isVisible()?1:null)},features:[l.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(t,i){if(1&t&&(l.TgZ(0,"div",0,1),l.NdJ("animationend",function(a){return i._handleAnimationEnd(a)}),l.ALo(2,"async"),l._uU(3),l.qZA()),2&t){let r;l.ekj("mat-tooltip-handset",null==(r=l.lcZ(2,4,i._isHandset))?null:r.matches),l.Q6J("ngClass",i.tooltipClass),l.xp6(3),l.Oqu(i.message)}},dependencies:[xl,qc],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),TG=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[bG],imports:[D1,pr,aw,mi,mi,oS]}),n})(),IG=(()=>{class n{constructor(){this.spacer="",this.flex="1 1 auto"}ngOnInit(){this.flex=this.spacer?`0 0 ${this.spacer}`:this.flex}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","spacer",""]],hostVars:2,hostBindings:function(t,i){2&t&&l.Udp("flex",i.flex)},inputs:{spacer:"spacer"}}),n})(),xG=(()=>{class n{transform(t){const i=t/1073741824;if(i>1)return`${i.toFixed(1)}GB`;{const r=t/1048576;return r>1?`${r.toFixed(2)}MB`:`${(t/1024).toFixed(0)}KB`}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275pipe=l.Yjl({name:"fileSize",type:n,pure:!0}),n})();function MG(n,e){if(1&n&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij("(+",t.files.length,")")}}function PG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",16),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw().$implicit,f=l.oxw();return l.KtG(f.changeMedicalType(u,a))}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t," ")}}function kG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-list-item",8)(1,"span",9),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.openPreview(a))}),l._uU(2),l.qZA(),l.TgZ(3,"span",10),l._uU(4),l.ALo(5,"fileSize"),l.qZA(),l._UZ(6,"span",3),l.TgZ(7,"button",11),l._uU(8),l.TgZ(9,"mat-icon"),l._uU(10,"arrow_drop_down"),l.qZA()(),l.TgZ(11,"mat-menu",null,12),l.YNc(13,PG,2,1,"button",13),l.qZA(),l.TgZ(14,"button",14),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.removeFile(a))}),l.TgZ(15,"mat-icon"),l._uU(16,"close"),l.qZA()(),l.TgZ(17,"button",15),l._uU(18,"Attach"),l.qZA()()}if(2&n){const t=e.$implicit,i=l.MAs(12),r=l.oxw();l.xp6(1),l.ekj("underline",r.isPreviewable(t)),l.Q6J("matTooltipDisabled",!r.isDocument(t)),l.xp6(1),l.hij(" ",t.name," "),l.xp6(2),l.Oqu(l.lcZ(5,8,t.size)),l.xp6(3),l.Q6J("matMenuTriggerFor",i),l.xp6(1),l.hij(" ",t.medicalType," "),l.xp6(5),l.Q6J("ngForOf",r.medicalTypes)}}function RG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",16),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw().$implicit,f=l.oxw();return l.KtG(f.changeMedicalType(u,a))}),l._uU(1),l.qZA()}if(2&n){const t=e.$implicit;l.xp6(1),l.hij(" ",t," ")}}function OG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"mat-list-item",8)(1,"span",9),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.openPreview(a))}),l._uU(2),l.qZA(),l.TgZ(3,"span",10),l._uU(4),l.ALo(5,"fileSize"),l.qZA(),l._UZ(6,"span",3),l.TgZ(7,"button",11),l._uU(8),l.TgZ(9,"mat-icon"),l._uU(10,"arrow_drop_down"),l.qZA()(),l.TgZ(11,"mat-menu",null,12),l.YNc(13,RG,2,1,"button",13),l.qZA(),l.TgZ(14,"button",17),l._uU(15,"Delete"),l.qZA()()}if(2&n){const t=e.$implicit,i=l.MAs(12),r=l.oxw();l.xp6(1),l.ekj("underline",r.isPreviewable(t)),l.Q6J("matTooltipDisabled",!r.isDocument(t)),l.xp6(1),l.hij(" ",t.name," "),l.xp6(2),l.Oqu(l.lcZ(5,8,t.size)),l.xp6(3),l.Q6J("matMenuTriggerFor",i),l.xp6(1),l.hij(" ",t.medicalType,""),l.xp6(5),l.Q6J("ngForOf",r.medicalTypes)}}function FG(n,e){1&n&&(l.ynx(0),l.TgZ(1,"mat-list-item",18)(2,"span",19),l._uU(3,"No Files Attached"),l.qZA()(),l.BQk())}let LG=(()=>{class n{constructor(t){this.dialog=t,this.actions=!0,this.documents=[],this.files=[]}ngOnInit(){}get medicalTypes(){return Object.values(fw)}get acceptableTypes(){return[...bF.keys(),...TS.keys(),...IS.keys()].join(",")}isImage(t){return TS.has(t.extension)}isPDF(t){return IS.has(t.extension)}isDocument(t){return bF.has(t.extension)}isPreviewable(t){return TS.has(t.extension)||IS.has(t.extension)}onSelected(t){t.target.files.length>0&&(this.files=Array.from(t.target.files).map(i=>{const r=i.name.split("."),u=i;return u.extension=`.${r[r.length-1]}`,u.medicalType=fw.ApprovalFromMother,u}),t.target.value=null)}removeFile(t){const i=this.files.indexOf(t);i>=0&&this.files.splice(i,1)}changeMedicalType(t,i){t.medicalType=i}openPreview(t){TS.has(t.extension)?this.dialog.open(wF,{data:t,hasBackdrop:!0,panelClass:"image-preview-dialog",maxHeight:"90vh"}):IS.has(t.extension)&&this.dialog.open(SF,{data:t,hasBackdrop:!0,panelClass:"pdf-preview-dialog",maxHeight:"90vh"})}openImagePreview(t){this.dialog.open(wF,{data:t,hasBackdrop:!0,panelClass:"image-preview-dialog",maxHeight:"90vh"})}openPDFPreview(t){this.dialog.open(SF,{data:t,hasBackdrop:!0,panelClass:"pdf-preview-dialog",maxHeight:"90vh"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(CS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-document-attachment"]],inputs:{actions:"actions",documents:"documents"},decls:15,vars:6,consts:[[1,"row"],[1,"mat-body-strong","caption"],[4,"ngIf"],["spacer",""],["color","accent","mat-button","",3,"click"],["type","file","multiple","","hidden","",1,"file-upload",3,"accept","change"],["fileInput",""],["class","file",4,"ngFor","ngForOf"],[1,"file"],["matTooltip","Attach this document or open it locally to preview",3,"matTooltipDisabled","click"],[1,"mat-caption","size"],["mat-button","",1,"suffixIcon",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["color","warn","mat-icon-button","",3,"click"],["color","accent","mat-flat-button",""],["mat-menu-item","",3,"click"],["color","warn","mat-flat-button",""],[1,"no-files"],[1,"mat-body"]],template:function(t,i){if(1&t){const r=l.EpF();l.TgZ(0,"div",0)(1,"span",1),l._uU(2),l.YNc(3,MG,2,1,"span",2),l.qZA(),l._UZ(4,"span",3),l.TgZ(5,"button",4),l.NdJ("click",function(){l.CHM(r);const u=l.MAs(9);return l.KtG(u.click())}),l._uU(6," Select Files "),l.qZA()(),l._UZ(7,"mat-divider"),l.TgZ(8,"input",5,6),l.NdJ("change",function(u){return i.onSelected(u)}),l.qZA(),l.TgZ(10,"mat-list"),l.YNc(11,kG,19,10,"mat-list-item",7),l.YNc(12,OG,16,10,"mat-list-item",7),l.YNc(13,FG,4,0,"ng-container",2),l.qZA(),l._UZ(14,"mat-divider")}2&t&&(l.xp6(2),l.hij(" Files ",i.documents.length," "),l.xp6(1),l.Q6J("ngIf",i.files.length>0),l.xp6(5),l.Q6J("accept",i.acceptableTypes),l.xp6(3),l.Q6J("ngForOf",i.files),l.xp6(1),l.Q6J("ngForOf",i.documents),l.xp6(1),l.Q6J("ngIf",0==i.files.length&&0==i.documents.length))},dependencies:[Xo,Qo,yS,VH,QM,KH,YH,uG,PS,pG,AG,IG,xG],styles:["[_nghost-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]   .caption[_ngcontent-%COMP%]{padding:0 1rem;color:#0009}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]:first-child{padding-top:.5rem}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]:last-child{padding-bottom:.5rem}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{margin-left:.5rem;font-weight:400;color:#0009}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .no-files[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1rem 0;font-weight:400;color:#0009}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin:0 .5rem}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:.5rem}"]}),n})(),NG=(()=>{class n{constructor(t){this.dialog=t}openLogin(){this.dialog.open(OH,{width:"340px",panelClass:"login-dialog",autoFocus:!1})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(CS))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:6,vars:0,consts:[["mat-fab","","color","primary",1,"login",3,"click"]],template:function(t,i){1&t&&(l.TgZ(0,"button",0),l.NdJ("click",function(){return i.openLogin()}),l.TgZ(1,"mat-icon"),l._uU(2,"login"),l.qZA()(),l.TgZ(3,"mat-card"),l._UZ(4,"app-document-attachment"),l.qZA(),l._UZ(5,"router-outlet"))},dependencies:[rc,yS,K1,QM,LG],styles:["[_nghost-%COMP%]{height:100vh;display:flex;justify-content:center;align-items:center}[_nghost-%COMP%]   .login[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem}[_nghost-%COMP%]   mat-card[_ngcontent-%COMP%]{width:90%}"]}),n})();function GF(n){return new l.vHH(3e3,!1)}function v3(){return typeof window<"u"&&typeof window.document<"u"}function eP(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Vh(n){switch(n.length){case 0:return new uw;case 1:return n[0];default:return new z1(n)}}function zF(n,e,t,i,r=new Map,a=new Map){const u=[],f=[];let _=-1,w=null;if(i.forEach(k=>{const q=k.get("offset"),Se=q==_,Fe=Se&&w||new Map;k.forEach((Ve,We)=>{let ut=We,Nt=Ve;if("offset"!==We)switch(ut=e.normalizePropertyName(ut,u),Nt){case"!":Nt=r.get(We);break;case gd:Nt=a.get(We);break;default:Nt=e.normalizeStyleValue(We,ut,Nt,u)}Fe.set(ut,Nt)}),Se||f.push(Fe),w=Fe,_=q}),u.length)throw function a3(n){return new l.vHH(3502,!1)}();return f}function tP(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&nP(t,"start",n)));break;case"done":n.onDone(()=>i(t&&nP(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&nP(t,"destroy",n)))}}function nP(n,e,t){const a=iP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function iP(n,e,t,i,r="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function $o(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function $F(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let rP=(n,e)=>!1,WF=(n,e,t)=>[],qF=null;function sP(n){const e=n.parentNode||n.host;return e===qF?null:e}(eP()||typeof Element<"u")&&(v3()?(qF=(()=>document.documentElement)(),rP=(n,e)=>{for(;e;){if(e===n)return!0;e=sP(e)}return!1}):rP=(n,e)=>n.contains(e),WF=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]});let vg=null,KF=!1;const YF=rP,ZF=WF;let XF=(()=>{class n{validateStyleProperty(t){return function w3(n){vg||(vg=function C3(){return typeof document<"u"?document.body:null}()||{},KF=!!vg.style&&"WebkitAppearance"in vg.style);let e=!0;return vg.style&&!function b3(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in vg.style,!e&&KF&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in vg.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return YF(t,i)}getParentElement(t){return sP(t)}query(t,i,r){return ZF(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,a,u,f=[],_){return new uw(r,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),oP=(()=>{class n{}return n.NOOP=new XF,n})();const aP="ng-enter",kS="ng-leave",RS="ng-trigger",OS=".ng-trigger",JF="ng-animating",lP=".ng-animating";function Bh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:cP(parseFloat(e[1]),e[2])}function cP(n,e){return"s"===e?1e3*n:n}function FS(n,e,t){return n.hasOwnProperty("duration")?n:function S3(n,e,t){let r,a=0,u="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(GF()),{duration:0,delay:0,easing:""};r=cP(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(a=cP(parseFloat(_),f[4]));const w=f[5];w&&(u=w)}else r=n;if(!t){let f=!1,_=e.length;r<0&&(e.push(function VG(){return new l.vHH(3100,!1)}()),f=!0),a<0&&(e.push(function BG(){return new l.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,GF())}return{duration:r,delay:a,easing:u}}(n,e,t)}function _w(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function eL(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Uh(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function nL(n,e,t){return t?e+":"+t+";":""}function iL(n){let e="";for(let t=0;t<n.style.length;t++){const i=n.style.item(t);e+=nL(0,i,n.style.getPropertyValue(i))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=nL(0,x3(t),n.style[t]));n.setAttribute("style",e)}function Hc(n,e,t){n.style&&(e.forEach((i,r)=>{const a=dP(r);t&&!t.has(r)&&t.set(r,n.style[a]),n.style[a]=i}),eP()&&iL(n))}function bg(n,e){n.style&&(e.forEach((t,i)=>{const r=dP(i);n.style[r]=""}),eP()&&iL(n))}function yw(n){return Array.isArray(n)?1==n.length?n[0]:U1(n):n}const uP=new RegExp("{{\\s*(.+?)\\s*}}","g");function rL(n){let e=[];if("string"==typeof n){let t;for(;t=uP.exec(n);)e.push(t[1]);uP.lastIndex=0}return e}function LS(n,e,t){const i=n.toString(),r=i.replace(uP,(a,u)=>{let f=e[u];return null==f&&(t.push(function jG(n){return new l.vHH(3003,!1)}()),f=""),f.toString()});return r==i?n:r}function NS(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const I3=/-+([a-z0-9])/g;function dP(n){return n.replace(I3,(...e)=>e[1].toUpperCase())}function x3(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Wo(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function HG(n){return new l.vHH(3004,!1)}()}}function sL(n,e){return window.getComputedStyle(n)[e]}function F3(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function L3(n,e,t){if(":"==n[0]){const _=function N3(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function n3(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function t3(n){return new l.vHH(3015,!1)}()),e;const r=i[1],a=i[2],u=i[3];e.push(oL(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&e.push(oL(u,r))}(i,t,e)):t.push(n),t}const jS=new Set(["true","1"]),HS=new Set(["false","0"]);function oL(n,e){const t=jS.has(n)||HS.has(n),i=jS.has(e)||HS.has(e);return(r,a)=>{let u="*"==n||n==r,f="*"==e||e==a;return!u&&t&&"boolean"==typeof r&&(u=r?jS.has(n):HS.has(n)),!f&&i&&"boolean"==typeof a&&(f=a?jS.has(e):HS.has(e)),u&&f}}const V3=new RegExp("s*:selfs*,?","g");function hP(n,e,t,i){return new B3(n).build(e,t,i)}class B3{constructor(e){this._driver=e}build(e,t,i){const r=new H3(t);return this._resetContextStyleTimingState(r),Wo(this,yw(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function zG(){return new l.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,w=_.name;w.toString().split(/\s*,\s*/).forEach(k=>{_.name=k,a.push(this.visitState(_,t))}),_.name=w}else if(1==f.type){const _=this.visitTransition(f,t);i+=_.queryCount,r+=_.depCount,u.push(_)}else t.errors.push(function $G(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{rL(_).forEach(w=>{u.hasOwnProperty(w)||a.add(w)})})}),a.size&&(NS(a.values()),t.errors.push(function WG(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Wo(this,yw(e.animation),t);return{type:1,matchers:F3(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:wg(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Wo(this,i,t)),options:wg(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const a=e.steps.map(u=>{t.currentTime=i;const f=Wo(this,u,t);return r=Math.max(r,t.currentTime),f});return t.currentTime=r,{type:3,steps:a,options:wg(e.options)}}visitAnimate(e,t){const i=function z3(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return fP(FS(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=fP(0,0,"");return a.dynamic=!0,a.strValue=t,a}const r=FS(t,e);return fP(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,a=e.styles?e.styles:$i({});if(5==a.type)r=this.visitKeyframes(a,t);else{let u=e.styles,f=!1;if(!u){f=!0;const w={};i.easing&&(w.easing=i.easing),u=$i(w)}t.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,t);_.isEmptyStep=f,r=_}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of r)"string"==typeof f?f===gd?i.push(f):t.errors.push(new l.vHH(3002,!1)):i.push(eL(f));let a=!1,u=null;return i.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(u=f.get("easing"),f.delete("easing")),!a))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,a=t.currentTime;i&&a>0&&(a-=i.duration+i.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((f,_)=>{const w=t.collectedStyles.get(t.currentQuerySelector),k=w.get(_);let q=!0;k&&(a!=r&&a>=k.startTime&&r<=k.endTime&&(t.errors.push(function KG(n,e,t,i,r){return new l.vHH(3010,!1)}()),q=!1),a=k.startTime),q&&w.set(_,{startTime:a,endTime:r}),t.options&&function T3(n,e,t){const i=e.params||{},r=rL(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||t.push(function UG(n){return new l.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function YG(){return new l.vHH(3011,!1)}()),i;let a=0;const u=[];let f=!1,_=!1,w=0;const k=e.steps.map(Nt=>{const zt=this._makeStyleAst(Nt,t);let on=null!=zt.offset?zt.offset:function G3(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(zt.styles),qt=0;return null!=on&&(a++,qt=zt.offset=on),_=_||qt<0||qt>1,f=f||qt<w,w=qt,u.push(qt),zt});_&&t.errors.push(function ZG(){return new l.vHH(3012,!1)}()),f&&t.errors.push(function XG(){return new l.vHH(3200,!1)}());const q=e.steps.length;let Se=0;a>0&&a<q?t.errors.push(function QG(){return new l.vHH(3202,!1)}()):0==a&&(Se=1/(q-1));const Fe=q-1,Ve=t.currentTime,We=t.currentAnimateTimings,ut=We.duration;return k.forEach((Nt,zt)=>{const on=Se>0?zt==Fe?1:Se*zt:u[zt],qt=on*ut;t.currentTime=Ve+We.delay+qt,We.duration=qt,this._validateStyleAst(Nt,t),Nt.offset=on,i.styles.push(Nt)}),i}visitReference(e,t){return{type:8,animation:Wo(this,yw(e.animation),t),options:wg(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:wg(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:wg(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function U3(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(V3,"")),n=n.replace(/@\*/g,OS).replace(/@\w+/g,t=>OS+"-"+t.slice(1)).replace(/:animating/g,lP),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+a:a,$o(t.collectedStyles,t.currentQuerySelector,new Map);const f=Wo(this,yw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:f,originalSelector:e.selector,options:wg(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function JG(){return new l.vHH(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:FS(e.timings,t.errors,!0);return{type:12,animation:Wo(this,yw(e.animation),t),timings:i,options:null}}}class H3{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function wg(n){return n?(n=_w(n)).params&&(n.params=function j3(n){return n?_w(n):null}(n.params)):n={},n}function fP(n,e,t){return{duration:n,delay:e,easing:t}}function pP(n,e,t,i,r,a,u=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:f}}class GS{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const q3=new RegExp(":enter","g"),Y3=new RegExp(":leave","g");function gP(n,e,t,i,r,a=new Map,u=new Map,f,_,w=[]){return(new Z3).buildKeyframes(n,e,t,i,r,a,u,f,_,w)}class Z3{buildKeyframes(e,t,i,r,a,u,f,_,w,k=[]){w=w||new GS;const q=new mP(e,t,w,r,a,k,[]);q.options=_;const Se=_.delay?Bh(_.delay):0;q.currentTimeline.delayNextStep(Se),q.currentTimeline.setStyles([u],null,q.errors,_),Wo(this,i,q);const Fe=q.timelines.filter(Ve=>Ve.containsAnimation());if(Fe.length&&f.size){let Ve;for(let We=Fe.length-1;We>=0;We--){const ut=Fe[We];if(ut.element===t){Ve=ut;break}}Ve&&!Ve.allowOnlyTimelineStyles()&&Ve.setStyles([f],null,q.errors,_)}return Fe.length?Fe.map(Ve=>Ve.buildKeyframes()):[pP(t,[],[],[],0,Se,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,i){let a=t.currentTimeline.currentTime;const u=null!=i.duration?Bh(i.duration):null,f=null!=i.delay?Bh(i.delay):null;return 0!==u&&e.forEach(_=>{const w=t.appendInstructionToTimeline(_,u,f);a=Math.max(a,w.duration+w.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Wo(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const a=e.options;if(a&&(a.params||a.delay)&&(r=t.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=zS);const u=Bh(a.delay);r.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Wo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Bh(e.options.delay):0;e.steps.forEach(u=>{const f=t.createSubContext(e.options);a&&f.delayNextStep(a),Wo(this,u,f),r=Math.max(r,f.currentTimeline.currentTime),i.push(f.currentTimeline)}),i.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return FS(t.params?LS(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(i.duration),this.visitStyle(a,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(a):i.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,a=i.duration,f=t.createSubContext().currentTimeline;f.easing=i.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*a),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(r+a),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},a=r.delay?Bh(r.delay):0;a&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=zS);let u=i;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((w,k)=>{t.currentQueryIndex=k;const q=t.createSubContext(e.options,w);a&&q.delayNextStep(a),w===t.element&&(_=q.currentTimeline),Wo(this,e.animation,q),q.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,q.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),f=u*(t.currentQueryTotal-1);let _=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=f-_;break;case"full":_=i.currentStaggerTime}const k=t.currentTimeline;_&&k.delayNextStep(_);const q=k.currentTime;Wo(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-q+(r.startTime-i.currentTimeline.startTime)}}const zS={};class mP{constructor(e,t,i,r,a,u,f,_){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zS,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new $S(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=Bh(i.duration)),null!=i.delay&&(r.delay=Bh(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(f=>{(!t||!u.hasOwnProperty(f))&&(u[f]=LS(a[f],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,a=new mP(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=zS,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},a=new X3(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,a,u){let f=[];if(r&&f.push(this.element),e.length>0){e=(e=e.replace(q3,"."+this._enterClassName)).replace(Y3,"."+this._leaveClassName);let w=this._driver.query(this.element,e,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),f.push(...w)}return!a&&0==f.length&&u.push(function e3(n){return new l.vHH(3014,!1)}()),f}}class $S{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new $S(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||gd),this._currentKeyframe.set(t,gd);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const a=r&&r.params||{},u=function Q3(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let a of i)t.set(a,gd)}else Uh(r,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of u){const w=LS(_,a,i);this._pendingStyles.set(f,w),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??gd),this._updateStyle(f,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((f,_)=>{const w=Uh(f,new Map,this._backFill);w.forEach((k,q)=>{"!"===k?e.add(q):k===gd&&t.add(q)}),i||w.set("offset",_/this.duration),r.push(w)});const a=e.size?NS(e.values()):[],u=t.size?NS(t.values()):[];if(i){const f=r[0],_=new Map(f);f.set("offset",0),_.set("offset",1),r=[f,_]}return pP(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class X3 extends $S{constructor(e,t,i,r,a,u,f=!1){super(e,t,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=f,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=i+t,f=t/u,_=Uh(e[0]);_.set("offset",0),a.push(_);const w=Uh(e[0]);w.set("offset",cL(f)),a.push(w);const k=e.length-1;for(let q=1;q<=k;q++){let Se=Uh(e[q]);const Fe=Se.get("offset");Se.set("offset",cL((t+Fe*i)/u)),a.push(Se)}i=u,t=0,r="",e=a}return pP(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function cL(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class _P{}const J3=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class ez extends _P{normalizePropertyName(e,t){return dP(e)}normalizeStyleValue(e,t,i,r){let a="";const u=i.toString().trim();if(J3.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const f=i.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&r.push(function GG(n,e){return new l.vHH(3005,!1)}())}return u+a}}function uL(n,e,t,i,r,a,u,f,_,w,k,q,Se){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:a,toState:i,toStyles:u,timelines:f,queriedElements:_,preStyleProps:w,postStyleProps:k,totalTime:q,errors:Se}}const yP={};class dL{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function tz(n,e,t,i,r){return n.some(a=>a(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,a,u,f,_,w,k){const q=[],Se=this.ast.options&&this.ast.options.params||yP,Ve=this.buildStyles(i,f&&f.params||yP,q),We=_&&_.params||yP,ut=this.buildStyles(r,We,q),Nt=new Set,zt=new Map,on=new Map,qt="void"===r,hn={params:nz(We,Se),delay:this.ast.options?.delay},yn=k?[]:gP(e,t,this.ast.animation,a,u,Ve,ut,hn,w,q);let Nn=0;if(yn.forEach(_d=>{Nn=Math.max(_d.duration+_d.delay,Nn)}),q.length)return uL(t,this._triggerName,i,r,qt,Ve,ut,[],[],zt,on,Nn,q);yn.forEach(_d=>{const yd=_d.element,IL=$o(zt,yd,new Set);_d.preStyleProps.forEach(Cg=>IL.add(Cg));const bw=$o(on,yd,new Set);_d.postStyleProps.forEach(Cg=>bw.add(Cg)),yd!==t&&Nt.add(yd)});const Vs=NS(Nt.values());return uL(t,this._triggerName,i,r,qt,Ve,ut,yn,Vs,zt,on,Nn)}}function nz(n,e){const t=_w(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class iz{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=_w(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,f)=>{u&&(u=LS(u,r,t));const _=this.normalizer.normalizePropertyName(f,t);u=this.normalizer.normalizeStyleValue(f,_,u,t),i.set(_,u)})}),i}}class sz{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new iz(r.style,r.options&&r.options.params||{},i))}),hL(this.states,"true","1"),hL(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new dL(e,r,this.states))}),this.fallbackTransition=function oz(n,e,t){return new dL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(u=>u.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function hL(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const az=new GS;class lz{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],a=hP(this._driver,t,i,[]);if(i.length)throw function l3(n){return new l.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,i){const r=e.element,a=zF(0,this._normalizer,0,e.keyframes,t,i);return this._driver.animate(r,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],a=this._animations.get(e);let u;const f=new Map;if(a?(u=gP(this._driver,t,a,aP,kS,new Map,new Map,i,az,r),u.forEach(k=>{const q=$o(f,k.element,new Map);k.postStyleProps.forEach(Se=>q.set(Se,null))})):(r.push(function c3(){return new l.vHH(3300,!1)}()),u=[]),r.length)throw function u3(n){return new l.vHH(3504,!1)}();f.forEach((k,q)=>{k.forEach((Se,Fe)=>{k.set(Fe,this._driver.computeStyle(q,Fe,gd))})});const w=Vh(u.map(k=>{const q=f.get(k.element);return this._buildPlayer(k,new Map,q)}));return this._playersById.set(e,w),w.onDestroy(()=>this.destroy(e)),this.players.push(w),w}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function d3(n){return new l.vHH(3301,!1)}();return t}listen(e,t,i,r){const a=iP(t,"","","");return tP(this._getPlayer(e),i,a,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const a=this._getPlayer(e);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const fL="ng-animate-queued",vP="ng-animate-disabled",fz=[],pL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pz={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Fa="__ng_removed";class bP{constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function yz(n){return n??null}(i?e.value:e),i){const a=_w(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const vw="void",wP=new bP(vw);class gz{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,La(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function h3(n,e){return new l.vHH(3302,!1)}();if(null==i||0==i.length)throw function f3(n){return new l.vHH(3303,!1)}();if(!function vz(n){return"start"==n||"done"==n}(i))throw function p3(n,e){return new l.vHH(3400,!1)}();const a=$o(this._elementListeners,e,[]),u={name:t,phase:i,callback:r};a.push(u);const f=$o(this._engine.statesByElement,e,new Map);return f.has(t)||(La(e,RS),La(e,RS+"-"+t),f.set(t,wP)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function g3(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,i,r=!0){const a=this._getTrigger(t),u=new CP(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(La(e,RS),La(e,RS+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const w=new bP(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),f.set(t,w),_||(_=wP),w.value!==vw&&_.value===w.value){if(!function Cz(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const a=t[r];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(_.params,w.params)){const We=[],ut=a.matchStyles(_.value,_.params,We),Nt=a.matchStyles(w.value,w.params,We);We.length?this._engine.reportError(We):this._engine.afterFlush(()=>{bg(e,ut),Hc(e,Nt)})}return}const Se=$o(this._engine.playersByElement,e,[]);Se.forEach(We=>{We.namespaceId==this.id&&We.triggerName==t&&We.queued&&We.destroy()});let Fe=a.matchTransition(_.value,w.value,e,w.params),Ve=!1;if(!Fe){if(!r)return;Fe=a.fallbackTransition,Ve=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:Fe,fromState:_,toState:w,player:u,isFallbackTransition:Ve}),Ve||(La(e,fL),u.onStart(()=>{vy(e,fL)})),u.onDone(()=>{let We=this.players.indexOf(u);We>=0&&this.players.splice(We,1);const ut=this._engine.playersByElement.get(e);if(ut){let Nt=ut.indexOf(u);Nt>=0&&ut.splice(Nt,1)}}),this.players.push(u),Se.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,OS,!0);i.forEach(r=>{if(r[Fa])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const f=[];if(a.forEach((_,w)=>{if(u.set(w,_.value),this._triggers.has(w)){const k=this.trigger(e,w,vw,r);k&&f.push(k)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),i&&Vh(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,w=i.get(u)||wP,k=new bP(vw),q=new CP(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:_,fromState:w,toState:k,player:q,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(e):[];if(a&&a.length)r=!0;else{let u=e;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Fa];(!a||a===pL)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){La(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(f=>{if(f.name==i.triggerName){const _=iP(a,i.triggerName,i.fromState.value,i.toState.value);_._data=e,tP(i.player,f.phase,_,f.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(i=>i.element===e)||t,t}}class mz{constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new gz(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,f=this.driver.getParentElement(t);for(;f;){const _=r.get(f);if(_){const w=i.indexOf(_);i.splice(w+1,0,e),u=!0;break}f=this.driver.getParentElement(f)}u||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){if(!e)return;const i=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[e];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&t.add(a)}return t}trigger(e,t,i,r){if(WS(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!WS(t))return;const a=t[Fa];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),La(e,vP)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),vy(e,vP))}removeNode(e,t,i,r){if(WS(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),i){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,i,r,a){this.collectedLeaveElements.push(t),t[Fa]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,i,r,a){return WS(t)?this._fetchNamespace(e).listen(t,i,r,a):()=>{}}_buildInstruction(e,t,i,r,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,OS,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,lP,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Vh(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Fa];if(t&&t.setForRemoval){if(e[Fa]=pL,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(vP)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)La(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?Vh(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function m3(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const i=new GS,r=[],a=new Map,u=[],f=new Map,_=new Map,w=new Map,k=new Set;this.disabledNodes.forEach(Zt=>{k.add(Zt);const un=this.driver.query(Zt,".ng-animate-queued",!0);for(let vn=0;vn<un.length;vn++)k.add(un[vn])});const q=this.bodyNode,Se=Array.from(this.statesByElement.keys()),Fe=_L(Se,this.collectedEnterElements),Ve=new Map;let We=0;Fe.forEach((Zt,un)=>{const vn=aP+We++;Ve.set(un,vn),Zt.forEach(jn=>La(jn,vn))});const ut=[],Nt=new Set,zt=new Set;for(let Zt=0;Zt<this.collectedLeaveElements.length;Zt++){const un=this.collectedLeaveElements[Zt],vn=un[Fa];vn&&vn.setForRemoval&&(ut.push(un),Nt.add(un),vn.hasAnimation?this.driver.query(un,".ng-star-inserted",!0).forEach(jn=>Nt.add(jn)):zt.add(un))}const on=new Map,qt=_L(Se,Array.from(Nt));qt.forEach((Zt,un)=>{const vn=kS+We++;on.set(un,vn),Zt.forEach(jn=>La(jn,vn))}),e.push(()=>{Fe.forEach((Zt,un)=>{const vn=Ve.get(un);Zt.forEach(jn=>vy(jn,vn))}),qt.forEach((Zt,un)=>{const vn=on.get(un);Zt.forEach(jn=>vy(jn,vn))}),ut.forEach(Zt=>{this.processLeaveNode(Zt)})});const hn=[],yn=[];for(let Zt=this._namespaceList.length-1;Zt>=0;Zt--)this._namespaceList[Zt].drainQueuedTransitions(t).forEach(vn=>{const jn=vn.player,zr=vn.element;if(hn.push(jn),this.collectedEnterElements.length){const vs=zr[Fa];if(vs&&vs.setForMove){if(vs.previousTriggersValues&&vs.previousTriggersValues.has(vn.triggerName)){const Eg=vs.previousTriggersValues.get(vn.triggerName),Na=this.statesByElement.get(vn.element);if(Na&&Na.has(vn.triggerName)){const YS=Na.get(vn.triggerName);YS.value=Eg,Na.set(vn.triggerName,YS)}}return void jn.destroy()}}const Gc=!q||!this.driver.containsElement(q,zr),qo=on.get(zr),jh=Ve.get(zr),Fi=this._buildInstruction(vn,i,jh,qo,Gc);if(Fi.errors&&Fi.errors.length)return void yn.push(Fi);if(Gc)return jn.onStart(()=>bg(zr,Fi.fromStyles)),jn.onDestroy(()=>Hc(zr,Fi.toStyles)),void r.push(jn);if(vn.isFallbackTransition)return jn.onStart(()=>bg(zr,Fi.fromStyles)),jn.onDestroy(()=>Hc(zr,Fi.toStyles)),void r.push(jn);const PL=[];Fi.timelines.forEach(vs=>{vs.stretchStartingKeyframe=!0,this.disabledNodes.has(vs.element)||PL.push(vs)}),Fi.timelines=PL,i.append(zr,Fi.timelines),u.push({instruction:Fi,player:jn,element:zr}),Fi.queriedElements.forEach(vs=>$o(f,vs,[]).push(jn)),Fi.preStyleProps.forEach((vs,Eg)=>{if(vs.size){let Na=_.get(Eg);Na||_.set(Eg,Na=new Set),vs.forEach((YS,SP)=>Na.add(SP))}}),Fi.postStyleProps.forEach((vs,Eg)=>{let Na=w.get(Eg);Na||w.set(Eg,Na=new Set),vs.forEach((YS,SP)=>Na.add(SP))})});if(yn.length){const Zt=[];yn.forEach(un=>{Zt.push(function _3(n,e){return new l.vHH(3505,!1)}())}),hn.forEach(un=>un.destroy()),this.reportError(Zt)}const Nn=new Map,Vs=new Map;u.forEach(Zt=>{const un=Zt.element;i.has(un)&&(Vs.set(un,un),this._beforeAnimationBuild(Zt.player.namespaceId,Zt.instruction,Nn))}),r.forEach(Zt=>{const un=Zt.element;this._getPreviousPlayers(un,!1,Zt.namespaceId,Zt.triggerName,null).forEach(jn=>{$o(Nn,un,[]).push(jn),jn.destroy()})});const _d=ut.filter(Zt=>vL(Zt,_,w)),yd=new Map;mL(yd,this.driver,zt,w,gd).forEach(Zt=>{vL(Zt,_,w)&&_d.push(Zt)});const bw=new Map;Fe.forEach((Zt,un)=>{mL(bw,this.driver,new Set(Zt),_,"!")}),_d.forEach(Zt=>{const un=yd.get(Zt),vn=bw.get(Zt);yd.set(Zt,new Map([...Array.from(un?.entries()??[]),...Array.from(vn?.entries()??[])]))});const Cg=[],xL=[],ML={};u.forEach(Zt=>{const{element:un,player:vn,instruction:jn}=Zt;if(i.has(un)){if(k.has(un))return vn.onDestroy(()=>Hc(un,jn.toStyles)),vn.disabled=!0,vn.overrideTotalTime(jn.totalTime),void r.push(vn);let zr=ML;if(Vs.size>1){let qo=un;const jh=[];for(;qo=qo.parentNode;){const Fi=Vs.get(qo);if(Fi){zr=Fi;break}jh.push(qo)}jh.forEach(Fi=>Vs.set(Fi,zr))}const Gc=this._buildAnimation(vn.namespaceId,jn,Nn,a,bw,yd);if(vn.setRealPlayer(Gc),zr===ML)Cg.push(vn);else{const qo=this.playersByElement.get(zr);qo&&qo.length&&(vn.parentPlayer=Vh(qo)),r.push(vn)}}else bg(un,jn.fromStyles),vn.onDestroy(()=>Hc(un,jn.toStyles)),xL.push(vn),k.has(un)&&r.push(vn)}),xL.forEach(Zt=>{const un=a.get(Zt.element);if(un&&un.length){const vn=Vh(un);Zt.setRealPlayer(vn)}}),r.forEach(Zt=>{Zt.parentPlayer?Zt.syncPlayerEvents(Zt.parentPlayer):Zt.destroy()});for(let Zt=0;Zt<ut.length;Zt++){const un=ut[Zt],vn=un[Fa];if(vy(un,kS),vn&&vn.hasAnimation)continue;let jn=[];if(f.size){let Gc=f.get(un);Gc&&Gc.length&&jn.push(...Gc);let qo=this.driver.query(un,lP,!0);for(let jh=0;jh<qo.length;jh++){let Fi=f.get(qo[jh]);Fi&&Fi.length&&jn.push(...Fi)}}const zr=jn.filter(Gc=>!Gc.destroyed);zr.length?bz(this,un,zr):this.processLeaveNode(un)}return ut.length=0,Cg.forEach(Zt=>{this.players.push(Zt),Zt.onDone(()=>{Zt.destroy();const un=this.players.indexOf(Zt);this.players.splice(un,1)}),Zt.play()}),Cg}elementContainsData(e,t){let i=!1;const r=t[Fa];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(t)&&(i=!0),this.playersByQueriedElement.has(t)&&(i=!0),this.statesByElement.has(t)&&(i=!0),this._fetchNamespace(e).elementContainsData(t)||i}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,a){let u=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(u=f)}else{const f=this.playersByElement.get(e);if(f){const _=!a||a==vw;f.forEach(w=>{w.queued||!_&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(f=>!(i&&i!=f.namespaceId||r&&r!=f.triggerName))),u}_beforeAnimationBuild(e,t,i){const a=t.element,u=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const w=_.element,k=w!==a,q=$o(i,w,[]);this._getPreviousPlayers(w,k,u,f,t.toState).forEach(Fe=>{const Ve=Fe.getRealPlayer();Ve.beforeDestroy&&Ve.beforeDestroy(),Fe.destroy(),q.push(Fe)})}bg(a,t.fromStyles)}_buildAnimation(e,t,i,r,a,u){const f=t.triggerName,_=t.element,w=[],k=new Set,q=new Set,Se=t.timelines.map(Ve=>{const We=Ve.element;k.add(We);const ut=We[Fa];if(ut&&ut.removedBeforeQueried)return new uw(Ve.duration,Ve.delay);const Nt=We!==_,zt=function wz(n){const e=[];return yL(n,e),e}((i.get(We)||fz).map(Nn=>Nn.getRealPlayer())).filter(Nn=>!!Nn.element&&Nn.element===We),on=a.get(We),qt=u.get(We),hn=zF(0,this._normalizer,0,Ve.keyframes,on,qt),yn=this._buildPlayer(Ve,hn,zt);if(Ve.subTimeline&&r&&q.add(We),Nt){const Nn=new CP(e,f,We);Nn.setRealPlayer(yn),w.push(Nn)}return yn});w.forEach(Ve=>{$o(this.playersByQueriedElement,Ve.element,[]).push(Ve),Ve.onDone(()=>function _z(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,Ve.element,Ve))}),k.forEach(Ve=>La(Ve,JF));const Fe=Vh(Se);return Fe.onDestroy(()=>{k.forEach(Ve=>vy(Ve,JF)),Hc(_,t.toStyles)}),q.forEach(Ve=>{$o(r,Ve,[]).push(Fe)}),Fe}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new uw(e.duration,e.delay)}}class CP{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new uw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>tP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){$o(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function WS(n){return n&&1===n.nodeType}function gL(n,e){const t=n.style.display;return n.style.display=e??"none",t}function mL(n,e,t,i,r){const a=[];t.forEach(_=>a.push(gL(_)));const u=[];i.forEach((_,w)=>{const k=new Map;_.forEach(q=>{const Se=e.computeStyle(w,q,r);k.set(q,Se),(!Se||0==Se.length)&&(w[Fa]=pz,u.push(w))}),n.set(w,k)});let f=0;return t.forEach(_=>gL(_,a[f++])),u}function _L(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=new Set(e),a=new Map;function u(f){if(!f)return 1;let _=a.get(f);if(_)return _;const w=f.parentNode;return _=t.has(w)?w:r.has(w)?1:u(w),a.set(f,_),_}return e.forEach(f=>{const _=u(f);1!==_&&t.get(_).push(f)}),t}function La(n,e){n.classList?.add(e)}function vy(n,e){n.classList?.remove(e)}function bz(n,e,t){Vh(t).onDone(()=>n.processLeaveNode(e))}function yL(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof z1?yL(i.players,e):e.push(i)}}function vL(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(a=>r.add(a)):e.set(n,i),t.delete(n),!0}class qS{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new mz(e,t,i),this._timelineEngine=new lz(e,t,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(e,t,i,r,a){const u=e+"-"+r;let f=this._triggerCache[u];if(!f){const _=[],k=hP(this._driver,a,_,[]);if(_.length)throw function o3(n,e){return new l.vHH(3404,!1)}();f=function rz(n,e,t){return new sz(n,e,t)}(r,k,this._normalizer),this._triggerCache[u]=f}this._transitionEngine.registerTrigger(t,r,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i,r){this._transitionEngine.removeNode(e,t,r||!1,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[a,u]=$F(i);this._timelineEngine.command(a,t,u,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,a){if("@"==i.charAt(0)){const[u,f]=$F(i);return this._timelineEngine.listen(u,t,f,a)}return this._transitionEngine.listen(e,t,i,r,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Az=(()=>{class n{constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Hc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Hc(this._element,this._initialStyles),this._endStyles&&(Hc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(bg(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(bg(this._element,this._endStyles),this._endStyles=null),Hc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function EP(n){let e=null;return n.forEach((t,i)=>{(function Sz(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class bL{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:sL(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Dz{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return YF(e,t)}getParentElement(e){return sP(e)}query(e,t,i){return ZF(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const w=new Map,k=u.filter(Fe=>Fe instanceof bL);(function M3(n,e){return 0===n||0===e})(i,r)&&k.forEach(Fe=>{Fe.currentSnapshot.forEach((Ve,We)=>w.set(We,Ve))});let q=function D3(n){return n.length?n[0]instanceof Map?n:n.map(e=>eL(e)):[]}(t).map(Fe=>Uh(Fe));q=function P3(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<e.length;a++){let u=e[a];r.forEach(f=>u.set(f,sL(n,f)))}}return e}(e,q,w);const Se=function Ez(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=EP(e[0]),e.length>1&&(i=EP(e[e.length-1]))):e instanceof Map&&(t=EP(e)),t||i?new Az(n,t,i):null}(e,q);return new bL(e,q,_,Se)}}let Tz=(()=>{class n extends V1{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?U1(t):t;return wL(this._renderer,null,i,"register",[r]),new Iz(i,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(U))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Iz extends class zU{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new xz(this._id,e,t||{},this._renderer)}}class xz{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return wL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function wL(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const CL="@.disabled";let Mz=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const f=u?.parentNode(a);f&&u.removeChild(f,a)}}createRenderer(t,i){const a=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let k=this._rendererCache.get(a);return k||(k=new EL("",a,this.engine),this._rendererCache.set(a,k)),k}const u=i.id,f=i.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=k=>{Array.isArray(k)?k.forEach(_):this.engine.registerTrigger(u,f,t,k.name,k)};return i.data.animation.forEach(_),new Pz(this,f,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,f]=a;u(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(qS),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class EL{constructor(e,t,i){this.namespaceId=e,this.delegate=t,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>t.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate,i)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==CL?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Pz extends EL{constructor(e,t,i,r){super(t,i,r),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==CL?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function kz(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function Rz(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,f=>{this.factory.scheduleListenerCallback(f._data||-1,i,f)})}return this.delegate.listen(e,t,i)}}let Oz=(()=>{class n extends qS{constructor(t,i,r,a){super(t.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(U),l.LFG(oP),l.LFG(_P),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const AL=[{provide:V1,useClass:Tz},{provide:_P,useFactory:function Fz(){return new ez}},{provide:qS,useClass:Oz},{provide:l.FYo,useFactory:function Lz(n,e,t){return new Mz(n,e,t)},deps:[qa,qS,l.R0b]}],AP=[{provide:oP,useFactory:()=>new Dz},{provide:l.QbO,useValue:"BrowserAnimations"},...AL],SL=[{provide:oP,useClass:XF},{provide:l.QbO,useValue:"NoopAnimations"},...AL];let Nz=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?SL:AP}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:AP,imports:[Ts]}),n})(),DL=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[N1,dj,Mj,DF,YM,AH,PH,tG,gG,W1,TG]}),n})(),Vz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[VO],imports:[pr,DL,AF,Gv,zv]}),n})();const TL_firebase={apiKey:"AIzaSyBsy03qoAlCIgVWTIAgFpETXrCcIdNwK-4",authDomain:"file-attachment-57ac0.firebaseapp.com",projectId:"file-attachment-57ac0",storageBucket:"file-attachment-57ac0.appspot.com",messagingSenderId:"4632517516",appId:"1:4632517516:web:ec900dad10a07a55a614a9"};let Bz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[NG]}),n.\u0275inj=l.cJS({imports:[Ts,_D,Nz,DL,Vz,AF,Vo.hO.initializeApp(TL_firebase),ZB]}),n})();(0,l.G48)(),iu().bootstrapModule(Bz).catch(n=>console.error(n))},5867:(xe,I,R)=>{"use strict";R.d(I,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=R(9681);(0,l.registerVersion)("firebase","9.9.2","app")},127:(xe,I,R)=>{"use strict";R.d(I,{Z:()=>l.Z});var l=R(3942);l.Z.registerVersion("firebase","9.9.2","app-compat")},1451:(xe,I,R)=>{"use strict";R.r(I);var l=R(5861),te=R(3942),O=R(2090),pe=R(9681),ie=R(655),re=R(1877),U=R(4859);const W=function z(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},fe=function ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},G=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),A=new re.Yd("@firebase/auth");function S(y,...p){A.logLevel<=re.in.ERROR&&A.error(`Auth (${pe.SDK_VERSION}): ${y}`,...p)}function F(y,...p){throw j(y,...p)}function Q(y,...p){return j(y,...p)}function N(y,p,m){const C=Object.assign(Object.assign({},fe()),{[p]:m});return new O.LL("auth","Firebase",C).create(p,{appName:y.name})}function J(y,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&F(y,"argument-error"),N(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function j(y,...p){if("string"!=typeof y){const m=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(m,...C)}return G.create(y,...p)}function D(y,p,...m){if(!y)throw j(p,...m)}function oe(y){const p="INTERNAL ASSERTION FAILED: "+y;throw S(p),new Error(p)}function $(y,p){y||oe(p)}const le=new Map;function ge(y){$(y instanceof Function,"Expected a class definition");let p=le.get(y);return p?($(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,le.set(y,p),p)}function Ne(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Qe(){return"http:"===it()||"https:"===it()}function it(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class b{constructor(p,m){this.shortDelay=p,this.longDelay=m,$(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function ve(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Qe()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function M(y,p){$(y.emulator,"Emulator should always be set here");const{url:m}=y.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class L{static initialize(p,m,C){this.fetchImpl=p,m&&(this.headersImpl=m),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const X={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ne=new b(3e4,6e4);function B(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function be(y,p,m,C){return je.apply(this,arguments)}function je(){return(je=(0,l.Z)(function*(y,p,m,C,Z={}){return Me(y,Z,(0,l.Z)(function*(){let _e={},Ge={};C&&("GET"===p?Ge=C:_e={body:JSON.stringify(C)});const tt=(0,O.xO)(Object.assign({key:y.config.apiKey},Ge)).slice(1),It=yield y._getAdditionalHeaders();return It["Content-Type"]="application/json",y.languageCode&&(It["X-Firebase-Locale"]=y.languageCode),L.fetch()(Xe(y,y.config.apiHost,m,tt),Object.assign({method:p,headers:It,referrerPolicy:"no-referrer"},_e))}))})).apply(this,arguments)}function Me(y,p,m){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,l.Z)(function*(y,p,m){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},X),p);try{const Z=new mt(y),_e=yield Promise.race([m(),Z.promise]);Z.clearNetworkTimeout();const Ge=yield _e.json();if("needConfirmation"in Ge)throw Dt(y,"account-exists-with-different-credential",Ge);if(_e.ok&&!("errorMessage"in Ge))return Ge;{const tt=_e.ok?Ge.errorMessage:Ge.error.message,[It,Ut]=tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===It)throw Dt(y,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===It)throw Dt(y,"email-already-in-use",Ge);if("USER_DISABLED"===It)throw Dt(y,"user-disabled",Ge);const sn=C[It]||It.toLowerCase().replace(/[_\s]+/g,"-");if(Ut)throw N(y,sn,Ut);F(y,sn)}}catch(Z){if(Z instanceof O.ZR)throw Z;F(y,"network-request-failed")}})).apply(this,arguments)}function Be(y,p,m,C){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,l.Z)(function*(y,p,m,C,Z={}){const _e=yield be(y,p,m,C,Z);return"mfaPendingCredential"in _e&&F(y,"multi-factor-auth-required",{_serverResponse:_e}),_e})).apply(this,arguments)}function Xe(y,p,m,C){const Z=`${p}${m}?${C}`;return y.config.emulator?M(y.config,Z):`${y.config.apiScheme}://${Z}`}class mt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,C)=>{this.timer=setTimeout(()=>C(Q(this.auth,"network-request-failed")),ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Dt(y,p,m){const C={appName:y.name};m.email&&(C.email=m.email),m.phoneNumber&&(C.phoneNumber=m.phoneNumber);const Z=Q(y,p,C);return Z.customData._tokenResponse=m,Z}function _t(){return(_t=(0,l.Z)(function*(y,p){return be(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ct(y,p){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,l.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ot(y,p){return St.apply(this,arguments)}function St(){return(St=(0,l.Z)(function*(y,p){return be(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function nt(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ze(){return(Ze=(0,l.Z)(function*(y,p=!1){const m=(0,O.m9)(y),C=yield m.getIdToken(p),Z=Ie(C);D(Z&&Z.exp&&Z.auth_time&&Z.iat,m.auth,"internal-error");const _e="object"==typeof Z.firebase?Z.firebase:void 0,Ge=_e?.sign_in_provider;return{claims:Z,token:C,authTime:nt(me(Z.auth_time)),issuedAtTime:nt(me(Z.iat)),expirationTime:nt(me(Z.exp)),signInProvider:Ge||null,signInSecondFactor:_e?.sign_in_second_factor||null}})).apply(this,arguments)}function me(y){return 1e3*Number(y)}function Ie(y){var p;const[m,C,Z]=y.split(".");if(void 0===m||void 0===C||void 0===Z)return S("JWT malformed, contained fewer than 3 sections"),null;try{const _e=(0,O.tV)(C);return _e?JSON.parse(_e):(S("Failed to decode base64 JWT payload"),null)}catch(_e){return S("Caught error parsing JWT payload as JSON",null===(p=_e)||void 0===p?void 0:p.toString()),null}}function wt(y,p){return Le.apply(this,arguments)}function Le(){return(Le=(0,l.Z)(function*(y,p,m=!1){if(m)return p;try{return yield p}catch(C){throw C instanceof O.ZR&&we(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function we({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Oe{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const Z=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield m.iteration()}),C)}iteration(){var p=this;return(0,l.Z)(function*(){var m;try{yield p.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(m=C)||void 0===m?void 0:m.code)&&p.schedule(!0))}p.schedule()})()}}class rt{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=nt(this.lastLoginAt),this.creationTime=nt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function yt(y){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,l.Z)(function*(y){var p;const m=y.auth,C=yield y.getIdToken(),Z=yield wt(y,Ot(m,{idToken:C}));D(Z?.users.length,m,"internal-error");const _e=Z.users[0];y._notifyReloadListener(_e);const Ge=null!==(p=_e.providerUserInfo)&&void 0!==p&&p.length?Ce(_e.providerUserInfo):[],tt=Te(y.providerData,Ge),sn=!!y.isAnonymous&&!(y.email&&_e.passwordHash||tt?.length),Qt={uid:_e.localId,displayName:_e.displayName||null,photoURL:_e.photoUrl||null,email:_e.email||null,emailVerified:_e.emailVerified||!1,phoneNumber:_e.phoneNumber||null,tenantId:_e.tenantId||null,providerData:tt,metadata:new rt(_e.createdAt,_e.lastLoginAt),isAnonymous:sn};Object.assign(y,Qt)})).apply(this,arguments)}function Ee(){return(Ee=(0,l.Z)(function*(y){const p=(0,O.m9)(y);yield yt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Te(y,p){return[...y.filter(C=>!p.some(Z=>Z.providerId===C.providerId)),...p]}function Ce(y){return y.map(p=>{var{providerId:m}=p,C=(0,ie._T)(p,["providerId"]);return{providerId:m,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Pe(){return(Pe=(0,l.Z)(function*(y,p){const m=yield Me(y,{},(0,l.Z)(function*(){const C=(0,O.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:Z,apiKey:_e}=y.config,Ge=Xe(y,Z,"/v1/token",`key=${_e}`),tt=yield y._getAdditionalHeaders();return tt["Content-Type"]="application/x-www-form-urlencoded",L.fetch()(Ge,{method:"POST",headers:tt,body:C})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class $e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){D(p.idToken,"internal-error"),D(typeof p.idToken<"u","internal-error"),D(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ft(y){const p=Ie(y);return D(p,"internal-error"),D(typeof p.exp<"u","internal-error"),D(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var C=this;return(0,l.Z)(function*(){return D(!C.accessToken||C.refreshToken,p,"user-token-expired"),m||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var C=this;return(0,l.Z)(function*(){const{accessToken:Z,refreshToken:_e,expiresIn:Ge}=yield function Ae(y,p){return Pe.apply(this,arguments)}(p,m);C.updateTokensAndExpiration(Z,_e,Number(Ge))})()}updateTokensAndExpiration(p,m,C){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,m){const{refreshToken:C,accessToken:Z,expirationTime:_e}=m,Ge=new $e;return C&&(D("string"==typeof C,"internal-error",{appName:p}),Ge.refreshToken=C),Z&&(D("string"==typeof Z,"internal-error",{appName:p}),Ge.accessToken=Z),_e&&(D("number"==typeof _e,"internal-error",{appName:p}),Ge.expirationTime=_e),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new $e,this.toJSON())}_performRefresh(){return oe("not implemented")}}function ot(y,p){D("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Ct{constructor(p){var{uid:m,auth:C,stsTokenManager:Z}=p,_e=(0,ie._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Oe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=C,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=_e.displayName||null,this.email=_e.email||null,this.emailVerified=_e.emailVerified||!1,this.phoneNumber=_e.phoneNumber||null,this.photoURL=_e.photoURL||null,this.isAnonymous=_e.isAnonymous||!1,this.tenantId=_e.tenantId||null,this.providerData=_e.providerData?[..._e.providerData]:[],this.metadata=new rt(_e.createdAt||void 0,_e.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,l.Z)(function*(){const C=yield wt(m,m.stsTokenManager.getToken(m.auth,p));return D(C,m.auth,"internal-error"),m.accessToken!==C&&(m.accessToken=C,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),C})()}getIdTokenResult(p){return function xt(y){return Ze.apply(this,arguments)}(this,p)}reload(){return function Ye(y){return Ee.apply(this,arguments)}(this)}_assign(p){this!==p&&(D(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Ct(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){D(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var C=this;return(0,l.Z)(function*(){let Z=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),Z=!0),m&&(yield yt(C)),yield C.auth._persistUserIfCurrent(C),Z&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,l.Z)(function*(){const m=yield p.getIdToken();return yield wt(p,function at(y,p){return _t.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var C,Z,_e,Ge,tt,It,Ut,sn;const Qt=null!==(C=m.displayName)&&void 0!==C?C:void 0,xi=null!==(Z=m.email)&&void 0!==Z?Z:void 0,Pr=null!==(_e=m.phoneNumber)&&void 0!==_e?_e:void 0,ml=null!==(Ge=m.photoURL)&&void 0!==Ge?Ge:void 0,qd=null!==(tt=m.tenantId)&&void 0!==tt?tt:void 0,Ea=null!==(It=m._redirectEventId)&&void 0!==It?It:void 0,Eu=null!==(Ut=m.createdAt)&&void 0!==Ut?Ut:void 0,Qg=null!==(sn=m.lastLoginAt)&&void 0!==sn?sn:void 0,{uid:Ef,emailVerified:Kd,isAnonymous:Wy,providerData:Jg,stsTokenManager:_l}=m;D(Ef&&_l,p,"internal-error");const Sw=$e.fromJSON(this.name,_l);D("string"==typeof Ef,p,"internal-error"),ot(Qt,p.name),ot(xi,p.name),D("boolean"==typeof Kd,p,"internal-error"),D("boolean"==typeof Wy,p,"internal-error"),ot(Pr,p.name),ot(ml,p.name),ot(qd,p.name),ot(Ea,p.name),ot(Eu,p.name),ot(Qg,p.name);const em=new Ct({uid:Ef,auth:p,email:xi,emailVerified:Kd,displayName:Qt,isAnonymous:Wy,photoURL:ml,phoneNumber:Pr,tenantId:qd,stsTokenManager:Sw,createdAt:Eu,lastLoginAt:Qg});return Jg&&Array.isArray(Jg)&&(em.providerData=Jg.map(Dw=>Object.assign({},Dw))),Ea&&(em._redirectEventId=Ea),em}static _fromIdTokenResponse(p,m,C=!1){return(0,l.Z)(function*(){const Z=new $e;Z.updateFromServerResponse(m);const _e=new Ct({uid:m.localId,auth:p,stsTokenManager:Z,isAnonymous:C});return yield yt(_e),_e})()}}const en=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(m,C){var Z=this;return(0,l.Z)(function*(){Z.storage[m]=C})()}_get(m){var C=this;return(0,l.Z)(function*(){const Z=C.storage[m];return void 0===Z?null:Z})()}_remove(m){var C=this;return(0,l.Z)(function*(){delete C.storage[m]})()}_addListener(m,C){}_removeListener(m,C){}}return y.type="NONE",y})();function Fn(y,p,m){return`firebase:${y}:${p}:${m}`}class Jt{constructor(p,m,C){this.persistence=p,this.auth=m,this.userKey=C;const{config:Z,name:_e}=this.auth;this.fullUserKey=Fn(this.userKey,Z.apiKey,_e),this.fullPersistenceKey=Fn("persistence",Z.apiKey,_e),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?Ct._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,l.Z)(function*(){if(m.persistence===p)return;const C=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,C?m.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,C="authUser"){return(0,l.Z)(function*(){if(!m.length)return new Jt(ge(en),p,C);const Z=(yield Promise.all(m.map(function(){var Ut=(0,l.Z)(function*(sn){if(yield sn._isAvailable())return sn});return function(sn){return Ut.apply(this,arguments)}}()))).filter(Ut=>Ut);let _e=Z[0]||ge(en);const Ge=Fn(C,p.config.apiKey,p.name);let tt=null;for(const Ut of m)try{const sn=yield Ut._get(Ge);if(sn){const Qt=Ct._fromJSON(p,sn);Ut!==_e&&(tt=Qt),_e=Ut;break}}catch{}const It=Z.filter(Ut=>Ut._shouldAllowMigration);return _e._shouldAllowMigration&&It.length?(_e=It[0],tt&&(yield _e._set(Ge,tt.toJSON())),yield Promise.all(m.map(function(){var Ut=(0,l.Z)(function*(sn){if(sn!==_e)try{yield sn._remove(Ge)}catch{}});return function(sn){return Ut.apply(this,arguments)}}())),new Jt(_e,p,C)):new Jt(_e,p,C)})()}}function tn(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Zn(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Sn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(rn(p))return"Blackberry";if(kn(p))return"Webos";if(In(p))return"Safari";if((p.includes("chrome/")||On(p))&&!p.includes("edge/"))return"Chrome";if(Tt(p))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function Sn(y=(0,O.z$)()){return/firefox\//i.test(y)}function In(y=(0,O.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function On(y=(0,O.z$)()){return/crios\//i.test(y)}function Zn(y=(0,O.z$)()){return/iemobile/i.test(y)}function Tt(y=(0,O.z$)()){return/android/i.test(y)}function rn(y=(0,O.z$)()){return/blackberry/i.test(y)}function kn(y=(0,O.z$)()){return/webos/i.test(y)}function Di(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function Qn(y=(0,O.z$)()){return Di(y)||Tt(y)||kn(y)||rn(y)||/windows phone/i.test(y)||Zn(y)}function bs(y,p=[]){let m;switch(y){case"Browser":m=tn((0,O.z$)());break;case"Worker":m=`${tn((0,O.z$)())}-${y}`;break;default:m=y}const C=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${pe.SDK_VERSION}/${C}`}class Cn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const C=_e=>new Promise((Ge,tt)=>{try{Ge(p(_e))}catch(It){tt(It)}});C.onAbort=m,this.queue.push(C);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,l.Z)(function*(){var C;if(m.auth.currentUser===p)return;const Z=[];try{for(const _e of m.queue)yield _e(p),_e.onAbort&&Z.push(_e.onAbort)}catch(_e){Z.reverse();for(const Ge of Z)try{Ge()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=_e)||void 0===C?void 0:C.message})}})()}}class Tl{constructor(p,m,C){this.app=p,this.heartbeatServiceProvider=m,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Il(this),this.idTokenSubscription=new Il(this),this.beforeStateQueue=new Cn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,m){var C=this;return m&&(this._popupRedirectResolver=ge(m)),this._initializationPromise=this.queue((0,l.Z)(function*(){var Z,_e;if(!C._deleted&&(C.persistenceManager=yield Jt.create(C,p),!C._deleted)){if(null!==(Z=C._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(m),C.lastNotifiedUid=(null===(_e=C.currentUser)||void 0===_e?void 0:_e.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,l.Z)(function*(){var C;const Z=yield m.assertedPersistence.getCurrentUser();let _e=Z,Ge=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const tt=null===(C=m.redirectUser)||void 0===C?void 0:C._redirectEventId,It=_e?._redirectEventId,Ut=yield m.tryRedirectSignIn(p);(!tt||tt===It)&&Ut?.user&&(_e=Ut.user,Ge=!0)}if(!_e)return m.directlySetCurrentUser(null);if(!_e._redirectEventId){if(Ge)try{yield m.beforeStateQueue.runMiddleware(_e)}catch(tt){_e=Z,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(tt))}return _e?m.reloadAndSetCurrentUserOrClear(_e):m.directlySetCurrentUser(null)}return D(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===_e._redirectEventId?m.directlySetCurrentUser(_e):m.reloadAndSetCurrentUserOrClear(_e)})()}tryRedirectSignIn(p){var m=this;return(0,l.Z)(function*(){let C=null;try{C=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,l.Z)(function*(){var C;try{yield yt(p)}catch(Z){if("auth/network-request-failed"!==(null===(C=Z)||void 0===C?void 0:C.code))return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function x(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,l.Z)(function*(){const C=p?(0,O.m9)(p):null;return C&&D(C.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(C&&C._clone(m))})()}_updateCurrentUser(p,m=!1){var C=this;return(0,l.Z)(function*(){if(!C._deleted)return p&&D(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),m||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,l.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,l.Z)(function*(){yield m.assertedPersistence.setPersistence(ge(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new O.LL("auth","Firebase",p())}onAuthStateChanged(p,m,C){return this.registerStateListener(this.authStateSubscription,p,m,C)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,C){return this.registerStateListener(this.idTokenSubscription,p,m,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var C=this;return(0,l.Z)(function*(){const Z=yield C.getOrInitRedirectPersistenceManager(m);return null===p?Z.removeCurrentUser():Z.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,l.Z)(function*(){if(!m.redirectPersistenceManager){const C=p&&ge(p)||m._popupRedirectResolver;D(C,m,"argument-error"),m.redirectPersistenceManager=yield Jt.create(m,[ge(C._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,l.Z)(function*(){var C,Z;return m._isInitialized&&(yield m.queue((0,l.Z)(function*(){}))),(null===(C=m._currentUser)||void 0===C?void 0:C._redirectEventId)===p?m._currentUser:(null===(Z=m.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,l.Z)(function*(){if(p===m.currentUser)return m.queue((0,l.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,C,Z){if(this._deleted)return()=>{};const _e="function"==typeof m?m:m.next.bind(m),Ge=this._isInitialized?Promise.resolve():this._initializationPromise;return D(Ge,this,"internal-error"),Ge.then(()=>_e(this.currentUser)),"function"==typeof m?p.addObserver(m,C,Z):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,l.Z)(function*(){m.currentUser&&m.currentUser!==p&&(m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh()),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return D(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=bs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var m;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const Z=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return Z&&(C["X-Firebase-Client"]=Z),C})()}}function Gn(y){return(0,O.m9)(y)}class Il{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return D(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _i(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function ws(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class $r{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return oe("not implemented")}_getIdTokenResponse(p){return oe("not implemented")}_linkToIdToken(p,m){return oe("not implemented")}_getReauthenticationResolver(p){return oe("not implemented")}}function Wi(y,p){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,l.Z)(function*(y,p){return be(y,"POST","/v1/accounts:resetPassword",B(y,p))})).apply(this,arguments)}function xl(y,p){return zc.apply(this,arguments)}function zc(){return(zc=(0,l.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Yo(y,p){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",B(y,p))})).apply(this,arguments)}function Xo(){return(Xo=(0,l.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithPassword",B(y,p))})).apply(this,arguments)}function Wr(y,p){return ci.apply(this,arguments)}function ci(){return(ci=(0,l.Z)(function*(y,p){return be(y,"POST","/v1/accounts:sendOobCode",B(y,p))})).apply(this,arguments)}function Qo(y,p){return Li.apply(this,arguments)}function Li(){return(Li=(0,l.Z)(function*(y,p){return Wr(y,p)})).apply(this,arguments)}function Ji(y,p){return Jo.apply(this,arguments)}function Jo(){return(Jo=(0,l.Z)(function*(y,p){return Wr(y,p)})).apply(this,arguments)}function ea(y,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,l.Z)(function*(y,p){return Wr(y,p)})).apply(this,arguments)}function us(y,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(y,p){return Wr(y,p)})).apply(this,arguments)}function $c(){return($c=(0,l.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithEmailLink",B(y,p))})).apply(this,arguments)}function vd(){return(vd=(0,l.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithEmailLink",B(y,p))})).apply(this,arguments)}class Wc extends $r{constructor(p,m,C,Z=null){super("password",C),this._email=p,this._password=m,this._tenantId=Z}static _fromEmailAndPassword(p,m){return new Wc(p,m,"password")}static _fromEmailAndCode(p,m,C=null){return new Wc(p,m,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,l.Z)(function*(){switch(m.signInMethod){case"password":return function ho(y,p){return Xo.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ag(y,p){return $c.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:F(p,"internal-error")}})()}_linkToIdToken(p,m){var C=this;return(0,l.Z)(function*(){switch(C.signInMethod){case"password":return xl(p,{idToken:m,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Hh(y,p){return vd.apply(this,arguments)}(p,{idToken:m,email:C._email,oobCode:C._password});default:F(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ti(y,p){return bd.apply(this,arguments)}function bd(){return(bd=(0,l.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithIdp",B(y,p))})).apply(this,arguments)}class Cs extends $r{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new Cs(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):F("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:Z}=m,_e=(0,ie._T)(m,["providerId","signInMethod"]);if(!C||!Z)return null;const Ge=new Cs(C,Z);return Ge.idToken=_e.idToken||void 0,Ge.accessToken=_e.accessToken||void 0,Ge.secret=_e.secret,Ge.nonce=_e.nonce,Ge.pendingToken=_e.pendingToken||null,Ge}_getIdTokenResponse(p){return Ti(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,Ti(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ti(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,O.xO)(m)}return p}}function Dg(y,p){return qc.apply(this,arguments)}function qc(){return(qc=(0,l.Z)(function*(y,p){return be(y,"POST","/v1/accounts:sendVerificationCode",B(y,p))})).apply(this,arguments)}function Us(){return(Us=(0,l.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithPhoneNumber",B(y,p))})).apply(this,arguments)}function wd(){return(wd=(0,l.Z)(function*(y,p){const m=yield Be(y,"POST","/v1/accounts:signInWithPhoneNumber",B(y,p));if(m.temporaryProof)throw Dt(y,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const Ig={USER_NOT_FOUND:"user-not-found"};function Ml(){return(Ml=(0,l.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithPhoneNumber",B(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Ig)})).apply(this,arguments)}class Es extends $r{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Es({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Es({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Kc(y,p){return Us.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Tg(y,p){return wd.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function xg(y,p){return Ml.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:C,verificationCode:Z}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:C,code:Z}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:C,phoneNumber:Z,temporaryProof:_e}=p;return C||m||Z||_e?new Es({verificationId:m,verificationCode:C,phoneNumber:Z,temporaryProof:_e}):null}}class Pl{constructor(p){var m,C,Z,_e,Ge,tt;const It=(0,O.zd)((0,O.pd)(p)),Ut=null!==(m=It.apiKey)&&void 0!==m?m:null,sn=null!==(C=It.oobCode)&&void 0!==C?C:null,Qt=function by(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=It.mode)&&void 0!==Z?Z:null);D(Ut&&sn&&Qt,"argument-error"),this.apiKey=Ut,this.operation=Qt,this.code=sn,this.continueUrl=null!==(_e=It.continueUrl)&&void 0!==_e?_e:null,this.languageCode=null!==(Ge=It.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(tt=It.tenantId)&&void 0!==tt?tt:null}static parseLink(p){const m=function Cd(y){const p=(0,O.zd)((0,O.pd)(y)).link,m=p?(0,O.zd)((0,O.pd)(p)).deep_link_id:null,C=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(C?(0,O.zd)((0,O.pd)(C)).link:null)||C||m||p||y}(p);try{return new Pl(m)}catch{return null}}}let kl=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(m,C){return Wc._fromEmailAndPassword(m,C)}static credentialWithLink(m,C){const Z=Pl.parseLink(C);return D(Z,"argument-error"),Wc._fromEmailAndCode(m,Z.code,Z.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class qr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Hs extends qr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class na extends Hs{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return D("providerId"in m&&"signInMethod"in m,"argument-error"),Cs._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return D(p.idToken||p.accessToken,"argument-error"),Cs._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return na.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return na.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:C,oauthTokenSecret:Z,pendingToken:_e,nonce:Ge,providerId:tt}=p;if(!C&&!Z&&!m&&!_e||!tt)return null;try{return new na(tt)._credential({idToken:m,accessToken:C,nonce:Ge,pendingToken:_e})}catch{return null}}}let Ba=(()=>{class y extends Hs{constructor(){super("facebook.com")}static credential(m){return Cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Ua=(()=>{class y extends Hs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,C){return Cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:C,oauthAccessToken:Z}=m;if(!C&&!Z)return null;try{return y.credential(C,Z)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Yc=(()=>{class y extends Hs{constructor(){super("github.com")}static credential(m){return Cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return y.credential(m.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class pr extends $r{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Ti(p,this.buildRequest())}_linkToIdToken(p,m){const C=this.buildRequest();return C.idToken=m,Ti(p,C)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Ti(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:Z,pendingToken:_e}=m;return C&&Z&&_e&&C===Z?new pr(C,_e):null}static _create(p,m){return new pr(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Wn extends qr{constructor(p){D(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Wn.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Wn.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=pr.fromJSON(p);return D(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:C}=p;if(!m||!C)return null;try{return pr._create(C,m)}catch{return null}}}let Rl=(()=>{class y extends Hs{constructor(){super("twitter.com")}static credential(m,C){return Cs._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:C})}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:C,oauthTokenSecret:Z}=m;if(!C||!Z)return null;try{return y.credential(C,Z)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Ol(y,p){return ja.apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signUp",B(y,p))})).apply(this,arguments)}class er{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,C,Z=!1){return(0,l.Z)(function*(){const _e=yield Ct._fromIdTokenResponse(p,C,Z),Ge=Pg(C);return new er({user:_e,providerId:Ge,_tokenResponse:C,operationType:m})})()}static _forOperation(p,m,C){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const Z=Pg(C);return new er({user:p,providerId:Z,_tokenResponse:C,operationType:m})})()}}function Pg(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function Ed(){return(Ed=(0,l.Z)(function*(y){var p;const m=Gn(y);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new er({user:m.currentUser,providerId:null,operationType:"signIn"});const C=yield Ol(m,{returnSecureToken:!0}),Z=yield er._fromIdTokenResponse(m,"signIn",C,!0);return yield m._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class Zc extends O.ZR{constructor(p,m,C,Z){var _e;super(m.code,m.message),this.operationType=C,this.user=Z,Object.setPrototypeOf(this,Zc.prototype),this.customData={appName:p.name,tenantId:null!==(_e=p.tenantId)&&void 0!==_e?_e:void 0,_serverResponse:m.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,m,C,Z){return new Zc(p,m,C,Z)}}function Ha(y,p,m,C){return("reauthenticate"===p?m._getReauthenticationResolver(y):m._getIdTokenResponse(y)).catch(_e=>{throw"auth/multi-factor-auth-required"===_e.code?Zc._fromErrorAndOperation(y,_e,p,C):_e})}function ui(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function ia(){return(ia=(0,l.Z)(function*(y,p){const m=(0,O.m9)(y);yield Ss(!0,m,p);const{providerUserInfo:C}=yield ct(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),Z=ui(C||[]);return m.providerData=m.providerData.filter(_e=>Z.has(_e.providerId)),Z.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function As(y,p){return ki.apply(this,arguments)}function ki(){return(ki=(0,l.Z)(function*(y,p,m=!1){const C=yield wt(y,p._linkToIdToken(y.auth,yield y.getIdToken()),m);return er._forOperation(y,"link",C)})).apply(this,arguments)}function Ss(y,p,m){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,l.Z)(function*(y,p,m){yield yt(p);const Z=!1===y?"provider-already-linked":"no-such-provider";D(ui(p.providerData).has(m)===y,p.auth,Z)})).apply(this,arguments)}function Ad(y,p){return qi.apply(this,arguments)}function qi(){return(qi=(0,l.Z)(function*(y,p,m=!1){var C;const{auth:Z}=y,_e="reauthenticate";try{const Ge=yield wt(y,Ha(Z,_e,p,y),m);D(Ge.idToken,Z,"internal-error");const tt=Ie(Ge.idToken);D(tt,Z,"internal-error");const{sub:It}=tt;return D(y.uid===It,Z,"user-mismatch"),er._forOperation(y,_e,Ge)}catch(Ge){throw"auth/user-not-found"===(null===(C=Ge)||void 0===C?void 0:C.code)&&F(Z,"user-mismatch"),Ge}})).apply(this,arguments)}function Ga(y,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,l.Z)(function*(y,p,m=!1){const C="signIn",Z=yield Ha(y,C,p),_e=yield er._fromIdTokenResponse(y,C,Z);return m||(yield y._updateCurrentUser(_e.user)),_e})).apply(this,arguments)}function jt(y,p){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,l.Z)(function*(y,p){return Ga(Gn(y),p)})).apply(this,arguments)}function Qc(y,p){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,l.Z)(function*(y,p){const m=(0,O.m9)(y);return yield Ss(!1,m,p.providerId),As(m,p)})).apply(this,arguments)}function po(y,p){return go.apply(this,arguments)}function go(){return(go=(0,l.Z)(function*(y,p){return Ad((0,O.m9)(y),p)})).apply(this,arguments)}function za(y,p){return sa.apply(this,arguments)}function sa(){return(sa=(0,l.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithCustomToken",B(y,p))})).apply(this,arguments)}function gt(){return(gt=(0,l.Z)(function*(y,p){const m=Gn(y),C=yield za(m,{token:p,returnSecureToken:!0}),Z=yield er._fromIdTokenResponse(m,"signIn",C);return yield m._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class Dn{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?oa._fromServerResponse(p,m):F(p,"internal-error")}}class oa extends Dn{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new oa(m)}}function aa(y,p,m){var C;D((null===(C=m.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),D(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(D(m.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(D(m.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function $a(){return($a=(0,l.Z)(function*(y,p,m){const C=(0,O.m9)(y),Z={requestType:"PASSWORD_RESET",email:p};m&&aa(C,Z,m),yield Ji(C,Z)})).apply(this,arguments)}function Er(){return(Er=(0,l.Z)(function*(y,p,m){yield Wi((0,O.m9)(y),{oobCode:p,newPassword:m})})).apply(this,arguments)}function Ds(){return(Ds=(0,l.Z)(function*(y,p){yield Yo((0,O.m9)(y),{oobCode:p})})).apply(this,arguments)}function Ll(y,p){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,l.Z)(function*(y,p){const m=(0,O.m9)(y),C=yield Wi(m,{oobCode:p}),Z=C.requestType;switch(D(Z,m,"internal-error"),Z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":D(C.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":D(C.mfaInfo,m,"internal-error");default:D(C.email,m,"internal-error")}let _e=null;return C.mfaInfo&&(_e=Dn._fromServerResponse(Gn(m),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:_e},operation:Z}})).apply(this,arguments)}function Gs(){return(Gs=(0,l.Z)(function*(y,p){const{data:m}=yield Ll((0,O.m9)(y),p);return m.email})).apply(this,arguments)}function Ar(){return(Ar=(0,l.Z)(function*(y,p,m){const C=Gn(y),Z=yield Ol(C,{returnSecureToken:!0,email:p,password:m}),_e=yield er._fromIdTokenResponse(C,"signIn",Z);return yield C._updateCurrentUser(_e.user),_e})).apply(this,arguments)}function Yr(){return(Yr=(0,l.Z)(function*(y,p,m){const C=(0,O.m9)(y),Z={requestType:"EMAIL_SIGNIN",email:p};D(m.handleCodeInApp,C,"argument-error"),m&&aa(C,Z,m),yield ea(C,Z)})).apply(this,arguments)}function Ka(){return(Ka=(0,l.Z)(function*(y,p,m){const C=(0,O.m9)(y),Z=kl.credentialWithLink(p,m||Ne());return D(Z._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),jt(C,Z)})).apply(this,arguments)}function Gh(y,p){return yo.apply(this,arguments)}function yo(){return(yo=(0,l.Z)(function*(y,p){return be(y,"POST","/v1/accounts:createAuthUri",B(y,p))})).apply(this,arguments)}function Nl(){return(Nl=(0,l.Z)(function*(y,p){const C={identifier:p,continueUri:Qe()?Ne():"http://localhost"},{signinMethods:Z}=yield Gh((0,O.m9)(y),C);return Z||[]})).apply(this,arguments)}function Xa(){return(Xa=(0,l.Z)(function*(y,p){const m=(0,O.m9)(y),Z={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&aa(m.auth,Z,p);const{email:_e}=yield Qo(m.auth,Z);_e!==y.email&&(yield y.reload())})).apply(this,arguments)}function Qa(){return(Qa=(0,l.Z)(function*(y,p,m){const C=(0,O.m9)(y),_e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};m&&aa(C.auth,_e,m);const{email:Ge}=yield us(C.auth,_e);Ge!==y.email&&(yield y.reload())})).apply(this,arguments)}function Vl(y,p){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,l.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(y,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const C=(0,O.m9)(y),_e={idToken:yield C.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},Ge=yield wt(C,Vl(C.auth,_e));C.displayName=Ge.displayName||null,C.photoURL=Ge.photoUrl||null;const tt=C.providerData.find(({providerId:It})=>"password"===It);tt&&(tt.displayName=C.displayName,tt.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Ge)})).apply(this,arguments)}function Hl(y,p,m){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(y,p,m){const{auth:C}=y,_e={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(_e.email=p),m&&(_e.password=m);const Ge=yield wt(y,xl(C,_e));yield y._updateTokensIfNecessary(Ge,!0)})).apply(this,arguments)}class Hn{constructor(p,m,C={}){this.isNewUser=p,this.providerId=m,this.profile=C}}class ru extends Hn{constructor(p,m,C,Z){super(p,m,C),this.username=Z}}class zh extends Hn{constructor(p,m){super(p,"facebook.com",m)}}class su extends ru{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Td extends Hn{constructor(p,m){super(p,"google.com",m)}}class ou extends ru{constructor(p,m,C){super(p,"twitter.com",m,C)}}function $h(y){const{user:p,_tokenResponse:m}=y;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Ts(y){var p,m;if(!y)return null;const{providerId:C}=y,Z=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},_e=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&y?.idToken){const Ge=null===(m=null===(p=Ie(y.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(Ge)return new Hn(_e,"anonymous"!==Ge&&"custom"!==Ge?Ge:null)}if(!C)return null;switch(C){case"facebook.com":return new zh(_e,Z);case"github.com":return new su(_e,Z);case"google.com":return new Td(_e,Z);case"twitter.com":return new ou(_e,Z,y.screenName||null);case"custom":case"anonymous":return new Hn(_e,null);default:return new Hn(_e,C,Z)}}(m)}class ua{constructor(p,m){this.type=p,this.credential=m}static _fromIdtoken(p){return new ua("enroll",p)}static _fromMfaPendingCredential(p){return new ua("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,C;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return ua._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return ua._fromIdtoken(p.multiFactorSession.idToken)}return null}}class vo{constructor(p,m,C){this.session=p,this.hints=m,this.signInResolver=C}static _fromError(p,m){const C=Gn(p),Z=m.customData._serverResponse,_e=(Z.mfaInfo||[]).map(tt=>Dn._fromServerResponse(C,tt));D(Z.mfaPendingCredential,C,"internal-error");const Ge=ua._fromMfaPendingCredential(Z.mfaPendingCredential);return new vo(Ge,_e,function(){var tt=(0,l.Z)(function*(It){const Ut=yield It._process(C,Ge);delete Z.mfaInfo,delete Z.mfaPendingCredential;const sn=Object.assign(Object.assign({},Z),{idToken:Ut.idToken,refreshToken:Ut.refreshToken});switch(m.operationType){case"signIn":const Qt=yield er._fromIdTokenResponse(C,m.operationType,sn);return yield C._updateCurrentUser(Qt.user),Qt;case"reauthenticate":return D(m.user,C,"internal-error"),er._forOperation(m.user,m.operationType,sn);default:F(C,"internal-error")}});return function(It){return tt.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,l.Z)(function*(){return m.signInResolver(p)})()}}function Kh(y,p){return be(y,"POST","/v2/accounts/mfaEnrollment:start",B(y,p))}class Yh{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(C=>Dn._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Yh(p)}getSession(){var p=this;return(0,l.Z)(function*(){return ua._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,m){var C=this;return(0,l.Z)(function*(){const Z=p,_e=yield C.getSession(),Ge=yield wt(C.user,Z._process(C.user.auth,_e,m));return yield C.user._updateTokensIfNecessary(Ge),C.user.reload()})()}unenroll(p){var m=this;return(0,l.Z)(function*(){var C;const Z="string"==typeof p?p:p.uid,_e=yield m.user.getIdToken(),Ge=yield wt(m.user,function wy(y,p){return be(y,"POST","/v2/accounts/mfaEnrollment:withdraw",B(y,p))}(m.user.auth,{idToken:_e,mfaEnrollmentId:Z}));m.enrolledFactors=m.enrolledFactors.filter(({uid:tt})=>tt!==Z),yield m.user._updateTokensIfNecessary(Ge);try{yield m.user.reload()}catch(tt){if("auth/user-token-expired"!==(null===(C=tt)||void 0===C?void 0:C.code))throw tt}})()}}const bo=new WeakMap,da="__sak";class Gl{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(da,"1"),this.storage.removeItem(da),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Xr=(()=>{class y extends Gl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,C)=>this.onStorageEvent(m,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Zh(){const y=(0,O.z$)();return In(y)||Di(y)}()&&function co(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Qn(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const C of Object.keys(this.listeners)){const Z=this.storage.getItem(C),_e=this.localCache[C];Z!==_e&&m(C,_e,Z)}}onStorageEvent(m,C=!1){if(!m.key)return void this.forAllChangedKeys((tt,It,Ut)=>{this.notifyListeners(tt,Ut)});const Z=m.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tt=this.storage.getItem(Z);if(m.newValue!==tt)null!==m.newValue?this.storage.setItem(Z,m.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===m.newValue&&!C)return}const _e=()=>{const tt=this.storage.getItem(Z);!C&&this.localCache[Z]===tt||this.notifyListeners(Z,tt)},Ge=this.storage.getItem(Z);!function lo(){return(0,O.w1)()&&10===document.documentMode}()||Ge===m.newValue||m.newValue===m.oldValue?_e():setTimeout(_e,10)}notifyListeners(m,C){this.localCache[m]=C;const Z=this.listeners[m];if(Z)for(const _e of Array.from(Z))_e(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,C,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:C,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,C){var Z=()=>super._set,_e=this;return(0,l.Z)(function*(){yield Z().call(_e,m,C),_e.localCache[m]=JSON.stringify(C)})()}_get(m){var C=()=>super._get,Z=this;return(0,l.Z)(function*(){const _e=yield C().call(Z,m);return Z.localCache[m]=JSON.stringify(_e),_e})()}_remove(m){var C=()=>super._remove,Z=this;return(0,l.Z)(function*(){yield C().call(Z,m),delete Z.localCache[m]})()}}return y.type="LOCAL",y})(),Sr=(()=>{class y extends Gl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,C){}_removeListener(m,C){}}return y.type="SESSION",y})();let Bn=(()=>{class y{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const C=this.receivers.find(_e=>_e.isListeningto(m));if(C)return C;const Z=new y(m);return this.receivers.push(Z),Z}isListeningto(m){return this.eventTarget===m}handleEvent(m){var C=this;return(0,l.Z)(function*(){const Z=m,{eventId:_e,eventType:Ge,data:tt}=Z.data,It=C.handlersMap[Ge];if(!It?.size)return;Z.ports[0].postMessage({status:"ack",eventId:_e,eventType:Ge});const Ut=Array.from(It).map(function(){var Qt=(0,l.Z)(function*(xi){return xi(Z.origin,tt)});return function(xi){return Qt.apply(this,arguments)}}()),sn=yield function Og(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(C){return{fulfilled:!1,reason:C}}});return function(m){return p.apply(this,arguments)}}()))}(Ut);Z.ports[0].postMessage({status:"done",eventId:_e,eventType:Ge,response:sn})})()}_subscribe(m,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(C)}_unsubscribe(m,C){this.handlersMap[m]&&C&&this.handlersMap[m].delete(C),(!C||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Qr(y="",p=10){let m="";for(let C=0;C<p;C++)m+=Math.floor(10*Math.random());return y+m}class Vt{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,C=50){var Z=this;return(0,l.Z)(function*(){const _e=typeof MessageChannel<"u"?new MessageChannel:null;if(!_e)throw new Error("connection_unavailable");let Ge,tt;return new Promise((It,Ut)=>{const sn=Qr("",20);_e.port1.start();const Qt=setTimeout(()=>{Ut(new Error("unsupported_event"))},C);tt={messageChannel:_e,onMessage(xi){const Pr=xi;if(Pr.data.eventId===sn)switch(Pr.data.status){case"ack":clearTimeout(Qt),Ge=setTimeout(()=>{Ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),It(Pr.data.response);break;default:clearTimeout(Qt),clearTimeout(Ge),Ut(new Error("invalid_response"))}}},Z.handlers.add(tt),_e.port1.addEventListener("message",tt.onMessage),Z.target.postMessage({eventType:p,eventId:sn,data:m},[_e.port2])}).finally(()=>{tt&&Z.removeMessageHandler(tt)})})()}}function Mt(){return window}function oi(){return typeof Mt().WorkerGlobalScope<"u"&&"function"==typeof Mt().importScripts}function il(){return(il=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rl="firebaseLocalStorageDb",Jr="firebaseLocalStorage",$t="fbase_key";class $s{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function Wl(y,p){return y.transaction([Jr],p?"readwrite":"readonly").objectStore(Jr)}function qs(){const y=indexedDB.open(rl,1);return new Promise((p,m)=>{y.addEventListener("error",()=>{m(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(Jr,{keyPath:$t})}catch(Z){m(Z)}}),y.addEventListener("success",(0,l.Z)(function*(){const C=y.result;C.objectStoreNames.contains(Jr)?p(C):(C.close(),yield function Ws(){const y=indexedDB.deleteDatabase(rl);return new $s(y).toPromise()}(),p(yield qs()))}))})}function $n(y,p,m){return ql.apply(this,arguments)}function ql(){return(ql=(0,l.Z)(function*(y,p,m){const C=Wl(y,!0).put({[$t]:p,value:m});return new $s(C).toPromise()})).apply(this,arguments)}function ds(){return(ds=(0,l.Z)(function*(y,p){const m=Wl(y,!1).get(p),C=yield new $s(m).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function Kl(y,p){const m=Wl(y,!0).delete(p);return new $s(m).toPromise()}const gr=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,l.Z)(function*(){return m.db||(m.db=yield qs()),m.db})()}_withRetries(m){var C=this;return(0,l.Z)(function*(){let Z=0;for(;;)try{const _e=yield C._openDb();return yield m(_e)}catch(_e){if(Z++>3)throw _e;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,l.Z)(function*(){return oi()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,l.Z)(function*(){m.receiver=Bn._getInstance(function $l(){return oi()?self:null}()),m.receiver._subscribe("keyChanged",function(){var C=(0,l.Z)(function*(Z,_e){return{keyProcessed:(yield m._poll()).includes(_e.key)}});return function(Z,_e){return C.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var C=(0,l.Z)(function*(Z,_e){return["keyChanged"]});return function(Z,_e){return C.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,l.Z)(function*(){var C,Z;if(m.activeServiceWorker=yield function nl(){return il.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Vt(m.activeServiceWorker);const _e=yield m.sender._send("ping",{},800);!_e||(null===(C=_e[0])||void 0===C?void 0:C.fulfilled)&&(null===(Z=_e[0])||void 0===Z?void 0:Z.value.includes("keyChanged"))&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var C=this;return(0,l.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function zl(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:m},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const m=yield qs();return yield $n(m,da,"1"),yield Kl(m,da),!0}catch{}return!1})()}_withPendingWrite(m){var C=this;return(0,l.Z)(function*(){C.pendingWrites++;try{yield m()}finally{C.pendingWrites--}})()}_set(m,C){var Z=this;return(0,l.Z)(function*(){return Z._withPendingWrite((0,l.Z)(function*(){return yield Z._withRetries(_e=>$n(_e,m,C)),Z.localCache[m]=C,Z.notifyServiceWorker(m)}))})()}_get(m){var C=this;return(0,l.Z)(function*(){const Z=yield C._withRetries(_e=>function ha(y,p){return ds.apply(this,arguments)}(_e,m));return C.localCache[m]=Z,Z})()}_remove(m){var C=this;return(0,l.Z)(function*(){return C._withPendingWrite((0,l.Z)(function*(){return yield C._withRetries(Z=>Kl(Z,m)),delete C.localCache[m],C.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,l.Z)(function*(){const C=yield m._withRetries(Ge=>{const tt=Wl(Ge,!1).getAll();return new $s(tt).toPromise()});if(!C)return[];if(0!==m.pendingWrites)return[];const Z=[],_e=new Set;for(const{fbase_key:Ge,value:tt}of C)_e.add(Ge),JSON.stringify(m.localCache[Ge])!==JSON.stringify(tt)&&(m.notifyListeners(Ge,tt),Z.push(Ge));for(const Ge of Object.keys(m.localCache))m.localCache[Ge]&&!_e.has(Ge)&&(m.notifyListeners(Ge,null),Z.push(Ge));return Z})()}notifyListeners(m,C){this.localCache[m]=C;const Z=this.listeners[m];if(Z)for(const _e of Array.from(Z))_e(C)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(C)}_removeListener(m,C){this.listeners[m]&&(this.listeners[m].delete(C),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function Ks(y,p){return be(y,"POST","/v2/accounts/mfaSignIn:start",B(y,p))}function nr(){return(nr=(0,l.Z)(function*(y){return(yield be(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Dr(y){return new Promise((p,m)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=p,C.onerror=Z=>{const _e=Q("internal-error");_e.customData=Z,m(_e)},C.type="text/javascript",C.charset="UTF-8",function cu(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(C)})}function Ki(y){return`__${y}${Math.floor(1e6*Math.random())}`}const xn=1e12;class Fg{constructor(p){this.auth=p,this.counter=xn,this._widgets=new Map}render(p,m){const C=this.counter;return this._widgets.set(C,new di(p,this.auth.name,m||{})),this.counter++,C}reset(p){var m;const C=p||xn;null===(m=this._widgets.get(C))||void 0===m||m.delete(),this._widgets.delete(C)}getResponse(p){var m;return(null===(m=this._widgets.get(p||xn))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,l.Z)(function*(){var C;return null===(C=m._widgets.get(p||xn))||void 0===C||C.execute(),""})()}}class di{constructor(p,m,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Z="string"==typeof p?document.getElementById(p):p;D(Z,"argument-error",{appName:m}),this.container=Z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function bi(y){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Vi=Ki("rcb"),Kn=new b(3e4,6e4);class sl{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=Mt().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return D(function ol(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(Mt().grecaptcha):new Promise((C,Z)=>{const _e=Mt().setTimeout(()=>{Z(Q(p,"network-request-failed"))},Kn.get());Mt()[Vi]=()=>{Mt().clearTimeout(_e),delete Mt()[Vi];const tt=Mt().grecaptcha;if(!tt)return void Z(Q(p,"internal-error"));const It=tt.render;tt.render=(Ut,sn)=>{const Qt=It(Ut,sn);return this.counter++,Qt},this.hostLanguage=m,C(tt)},Dr(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Vi,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(_e),Z(Q(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=Mt().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Cy{load(p){return(0,l.Z)(function*(){return new Fg(p)})()}clearedOneInstance(){}}const Ys="recaptcha",zn={theme:"light",type:"image"};class ai{constructor(p,m=Object.assign({},zn),C){this.parameters=m,this.type=Ys,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Gn(C),this.isInvisible="invisible"===this.parameters.size,D(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Z="string"==typeof p?document.getElementById(p):p;D(Z,this.auth,"argument-error"),this.container=Z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Cy:new sl,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(m)||new Promise(_e=>{const Ge=tt=>{!tt||(p.tokenChangeListeners.delete(Ge),_e(tt))};p.tokenChangeListeners.add(Ge),p.isInvisible&&C.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){D(!this.parameters.sitekey,this.auth,"argument-error"),D(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),D(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(C=>C(m)),"function"==typeof p)p(m);else if("string"==typeof p){const C=Mt()[p];"function"==typeof C&&C(m)}}}assertNotDestroyed(){D(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const C=document.createElement("div");m.appendChild(C),m=C}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){D(Qe()&&!oi(),p.auth,"internal-error"),yield function mr(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function qn(y){return nr.apply(this,arguments)}(p.auth);D(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return D(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Qh{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Es._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Ii(){return(Ii=(0,l.Z)(function*(y,p,m){const C=Gn(y),Z=yield gn(C,p,(0,O.m9)(m));return new Qh(Z,_e=>jt(C,_e))})).apply(this,arguments)}function Yl(){return(Yl=(0,l.Z)(function*(y,p,m){const C=(0,O.m9)(y);yield Ss(!1,C,"phone");const Z=yield gn(C.auth,p,(0,O.m9)(m));return new Qh(Z,_e=>Qc(C,_e))})).apply(this,arguments)}function fs(){return(fs=(0,l.Z)(function*(y,p,m){const C=(0,O.m9)(y),Z=yield gn(C.auth,p,(0,O.m9)(m));return new Qh(Z,_e=>po(C,_e))})).apply(this,arguments)}function gn(y,p,m){return uu.apply(this,arguments)}function uu(){return(uu=(0,l.Z)(function*(y,p,m){var C;const Z=yield m.verify();try{let _e;if(D("string"==typeof Z,y,"argument-error"),D(m.type===Ys,y,"argument-error"),_e="string"==typeof p?{phoneNumber:p}:p,"session"in _e){const Ge=_e.session;if("phoneNumber"in _e)return D("enroll"===Ge.type,y,"internal-error"),(yield Kh(y,{idToken:Ge.credential,phoneEnrollmentInfo:{phoneNumber:_e.phoneNumber,recaptchaToken:Z}})).phoneSessionInfo.sessionInfo;{D("signin"===Ge.type,y,"internal-error");const tt=(null===(C=_e.multiFactorHint)||void 0===C?void 0:C.uid)||_e.multiFactorUid;return D(tt,y,"missing-multi-factor-info"),(yield Ks(y,{mfaPendingCredential:Ge.credential,mfaEnrollmentId:tt,phoneSignInInfo:{recaptchaToken:Z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ge}=yield Dg(y,{phoneNumber:_e.phoneNumber,recaptchaToken:Z});return Ge}}finally{m._reset()}})).apply(this,arguments)}function kd(){return(kd=(0,l.Z)(function*(y,p){yield As((0,O.m9)(y),p)})).apply(this,arguments)}let Zl=(()=>{class y{constructor(m){this.providerId=y.PROVIDER_ID,this.auth=Gn(m)}verifyPhoneNumber(m,C){return gn(this.auth,m,(0,O.m9)(C))}static credential(m,C){return Es._fromVerification(m,C)}static credentialFromResult(m){return y.credentialFromTaggedObject(m)}static credentialFromError(m){return y.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:C,temporaryProof:Z}=m;return C&&Z?Es._fromTokenResponse(C,Z):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Ri(y,p){return p?ge(p):(D(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Ui extends $r{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ti(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Ti(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Ti(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Xl(y){return Ga(y.auth,new Ui(y),y.bypassAuthState)}function xs(y){const{auth:p,user:m}=y;return D(m,p,"internal-error"),Ad(m,new Ui(y),y.bypassAuthState)}function Jh(y){return ei.apply(this,arguments)}function ei(){return(ei=(0,l.Z)(function*(y){const{auth:p,user:m}=y;return D(m,p,"internal-error"),As(m,new Ui(y),y.bypassAuthState)})).apply(this,arguments)}class Tr{constructor(p,m,C,Z,_e=!1){this.auth=p,this.resolver=C,this.user=Z,this.bypassAuthState=_e,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,l.Z)(function*(C,Z){p.pendingPromise={resolve:C,reject:Z};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(_e){p.reject(_e)}});return function(C,Z){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,l.Z)(function*(){const{urlResponse:C,sessionId:Z,postBody:_e,tenantId:Ge,error:tt,type:It}=p;if(tt)return void m.reject(tt);const Ut={auth:m.auth,requestUri:C,sessionId:Z,tenantId:Ge||void 0,postBody:_e||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(It)(Ut))}catch(sn){m.reject(sn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Xl;case"linkViaPopup":case"linkViaRedirect":return Jh;case"reauthViaPopup":case"reauthViaRedirect":return xs;default:F(this.auth,"internal-error")}}resolve(p){$(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){$(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const cl=new b(2e3,1e4);function ul(){return(ul=(0,l.Z)(function*(y,p,m){const C=Gn(y);J(y,p,qr);const Z=Ri(C,m);return new Od(C,"signInViaPopup",p,Z).executeNotNull()})).apply(this,arguments)}function hu(){return(hu=(0,l.Z)(function*(y,p,m){const C=(0,O.m9)(y);J(C.auth,p,qr);const Z=Ri(C.auth,m);return new Od(C.auth,"reauthViaPopup",p,Z,C).executeNotNull()})).apply(this,arguments)}function Co(){return(Co=(0,l.Z)(function*(y,p,m){const C=(0,O.m9)(y);J(C.auth,p,qr);const Z=Ri(C.auth,m);return new Od(C.auth,"linkViaPopup",p,Z,C).executeNotNull()})).apply(this,arguments)}let Od=(()=>{class y extends Tr{constructor(m,C,Z,_e,Ge){super(m,C,_e,Ge),this.provider=Z,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var m=this;return(0,l.Z)(function*(){const C=yield m.execute();return D(C,m.auth,"internal-error"),C})()}onExecution(){var m=this;return(0,l.Z)(function*(){$(1===m.filter.length,"Popup operations only handle one event");const C=Qr();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],C),m.authWindow.associatedEvent=C,m.resolver._originValidation(m.auth).catch(Z=>{m.reject(Z)}),m.resolver._isIframeWebStorageSupported(m.auth,Z=>{Z||m.reject(Q(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Q(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const m=()=>{var C,Z;this.pollId=null!==(Z=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==Z&&Z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Q(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,cl.get())};m()}}return y.currentPopupAction=null,y})();const Ms=new Map;class Eo extends Tr{constructor(p,m,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,l.Z)(function*(){let C=Ms.get(m.auth._key());if(!C){try{const _e=(yield function Ao(y,p){return dn.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;C=()=>Promise.resolve(_e)}catch(Z){C=()=>Promise.reject(Z)}Ms.set(m.auth._key(),C)}return m.bypassAuthState||Ms.set(m.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,C=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(C,p);if("unknown"!==p.type){if(p.eventId){const Z=yield C.auth._redirectUserForId(p.eventId);if(Z)return C.user=Z,m().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function dn(){return(dn=(0,l.Z)(function*(y,p){const m=ti(p),C=Ql(y);if(!(yield C._isAvailable()))return!1;const Z="true"===(yield C._get(m));return yield C._remove(m),Z})).apply(this,arguments)}function So(y,p){return ps.apply(this,arguments)}function ps(){return(ps=(0,l.Z)(function*(y,p){return Ql(y)._set(ti(p),"true")})).apply(this,arguments)}function Do(y,p){Ms.set(y._key(),p)}function Ql(y){return ge(y._redirectPersistence)}function ti(y){return Fn("pendingRedirect",y.config.apiKey,y.name)}function P(){return(P=(0,l.Z)(function*(y,p,m){const C=Gn(y);J(y,p,qr);const Z=Ri(C,m);return yield So(Z,C),Z._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Re(){return(Re=(0,l.Z)(function*(y,p,m){const C=(0,O.m9)(y);J(C.auth,p,qr);const Z=Ri(C.auth,m);yield So(Z,C.auth);const _e=yield Wt(C);return Z._openRedirect(C.auth,p,"reauthViaRedirect",_e)})).apply(this,arguments)}function pt(){return(pt=(0,l.Z)(function*(y,p,m){const C=(0,O.m9)(y);J(C.auth,p,qr);const Z=Ri(C.auth,m);yield Ss(!1,C,p.providerId),yield So(Z,C.auth);const _e=yield Wt(C);return Z._openRedirect(C.auth,p,"linkViaRedirect",_e)})).apply(this,arguments)}function Yt(){return(Yt=(0,l.Z)(function*(y,p){return yield Gn(y)._initializationPromise,fn(y,p,!1)})).apply(this,arguments)}function fn(y,p){return bn.apply(this,arguments)}function bn(){return(bn=(0,l.Z)(function*(y,p,m=!1){const C=Gn(y),Z=Ri(C,p),Ge=yield new Eo(C,Z,m).execute();return Ge&&!m&&(delete Ge.user._redirectEventId,yield C._persistUserIfCurrent(Ge.user),yield C._setRedirectUser(null,p)),Ge})).apply(this,arguments)}function Wt(y){return li.apply(this,arguments)}function li(){return(li=(0,l.Z)(function*(y){const p=Qr(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class dl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(m=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function To(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ir(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var C;if(p.error&&!Ir(p)){const Z=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";m.onError(Q(this.auth,Z))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const C=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ma(p))}saveEventToCache(p){this.cachedEventUids.add(ma(p)),this.lastProcessedEventTime=Date.now()}}function ma(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Ir({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function Io(y){return _a.apply(this,arguments)}function _a(){return(_a=(0,l.Z)(function*(y,p={}){return be(y,"GET","/v1/projects",p)})).apply(this,arguments)}const rr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Zs=/^https?/;function tf(){return(tf=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Io(y);for(const m of p)try{if(Ey(m))return}catch{}F(y,"unauthorized-domain")})).apply(this,arguments)}function Ey(y){const p=Ne(),{protocol:m,hostname:C}=new URL(p);if(y.startsWith("chrome-extension://")){const Ge=new URL(y);return""===Ge.hostname&&""===C?"chrome-extension:"===m&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&Ge.hostname===C}if(!Zs.test(m))return!1;if(rr.test(y))return C===y;const Z=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(C)}const Ay=new b(3e4,6e4);function xo(){const y=Mt().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let m=0;m<y.CP.length;m++)y.CP[m]=null}let Mo=null;function nf(y){return Mo=Mo||function ec(y){return new Promise((p,m)=>{var C,Z,_e;function Ge(){xo(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{xo(),m(Q(y,"network-request-failed"))},timeout:Ay.get()})}if(null!==(Z=null===(C=Mt().gapi)||void 0===C?void 0:C.iframes)&&void 0!==Z&&Z.Iframe)p(gapi.iframes.getContext());else{if(null===(_e=Mt().gapi)||void 0===_e||!_e.load){const tt=Ki("iframefcb");return Mt()[tt]=()=>{gapi.load?Ge():m(Q(y,"network-request-failed"))},Dr(`https://apis.google.com/js/api.js?onload=${tt}`).catch(It=>m(It))}Ge()}}).catch(p=>{throw Mo=null,p})}(y),Mo}const Sy=new b(5e3,15e3),sf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Dy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function af(y){const p=y.config;D(p.authDomain,y,"auth-domain-config-required");const m=p.emulator?M(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:y.name,v:pe.SDK_VERSION},Z=Dy.get(y.config.apiHost);Z&&(C.eid=Z);const _e=y._getFrameworks();return _e.length&&(C.fw=_e.join(",")),`${m}?${(0,O.xO)(C).slice(1)}`}function hl(){return hl=(0,l.Z)(function*(y){const p=yield nf(y),m=Mt().gapi;return D(m,y,"internal-error"),p.open({where:document.body,url:af(y),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sf,dontclear:!0},C=>new Promise(function(){var Z=(0,l.Z)(function*(_e,Ge){yield C.restyle({setHideOnLeave:!1});const tt=Q(y,"network-request-failed"),It=Mt().setTimeout(()=>{Ge(tt)},Sy.get());function Ut(){Mt().clearTimeout(It),_e(C)}C.ping(Ut).then(Ut,()=>{Ge(tt)})});return function(_e,Ge){return Z.apply(this,arguments)}}()))}),hl.apply(this,arguments)}const Xs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Vd(y,p,m,C,Z,_e){D(y.config.authDomain,y,"auth-domain-config-required"),D(y.config.apiKey,y,"invalid-api-key");const Ge={apiKey:y.config.apiKey,appName:y.name,authType:m,redirectUrl:C,v:pe.SDK_VERSION,eventId:Z};if(p instanceof qr){p.setDefaultLanguage(y.languageCode),Ge.providerId=p.providerId||"",(0,O.xb)(p.getCustomParameters())||(Ge.customParameters=JSON.stringify(p.getCustomParameters()));for(const[It,Ut]of Object.entries(_e||{}))Ge[It]=Ut}if(p instanceof Hs){const It=p.getScopes().filter(Ut=>""!==Ut);It.length>0&&(Ge.scopes=It.join(","))}y.tenantId&&(Ge.tid=y.tenantId);const tt=Ge;for(const It of Object.keys(tt))void 0===tt[It]&&delete tt[It];return`${function Iy({config:y}){return y.emulator?M(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,O.xO)(tt).slice(1)}`}const cf="webStorageSupport";class va extends class Po{constructor(p){this.factorId=p}_process(p,m,C){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,C);case"signin":return this._finalizeSignIn(p,m.credential);default:return oe("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new va(p)}_finalizeEnroll(p,m,C){return function Rg(y,p){return be(y,"POST","/v2/accounts/mfaEnrollment:finalize",B(y,p))}(p,{idToken:m,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function pa(y,p){return be(y,"POST","/v2/accounts/mfaSignIn:finalize",B(y,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let My=(()=>{class y{constructor(){}static assertion(m){return va._fromCredential(m)}}return y.FACTOR_ID="phone",y})();var Vg="@firebase/auth";class Py{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,l.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(C=>{var Z;p((null===(Z=C)||void 0===Z?void 0:Z.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);!m||(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){D(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ba(){return window}function Ps(){return(Ps=(0,l.Z)(function*(y,p,m){var C;const{BuildInfo:Z}=ba();$(p.sessionId,"AuthEvent did not contain a session ID");const _e=yield Hg(p.sessionId),Ge={};return Di()?Ge.ibi=Z.packageName:Tt()?Ge.apn=Z.packageName:F(y,"operation-not-supported-in-this-environment"),Z.displayName&&(Ge.appDisplayName=Z.displayName),Ge.sessionId=_e,Vd(y,m,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,Ge)})).apply(this,arguments)}function Bd(){return(Bd=(0,l.Z)(function*(y){const{BuildInfo:p}=ba(),m={};Di()?m.iosBundleId=p.packageName:Tt()?m.androidPackageName=p.packageName:F(y,"operation-not-supported-in-this-environment"),yield Io(y,m)})).apply(this,arguments)}function Yi(){return(Yi=(0,l.Z)(function*(y,p,m){const{cordova:C}=ba();let Z=()=>{};try{yield new Promise((_e,Ge)=>{let tt=null;function It(){var Qt;_e();const xi=null===(Qt=C.plugins.browsertab)||void 0===Qt?void 0:Qt.close;"function"==typeof xi&&xi(),"function"==typeof m?.close&&m.close()}function Ut(){tt||(tt=window.setTimeout(()=>{Ge(Q(y,"redirect-cancelled-by-user"))},2e3))}function sn(){"visible"===document?.visibilityState&&Ut()}p.addPassiveListener(It),document.addEventListener("resume",Ut,!1),Tt()&&document.addEventListener("visibilitychange",sn,!1),Z=()=>{p.removePassiveListener(It),document.removeEventListener("resume",Ut,!1),document.removeEventListener("visibilitychange",sn,!1),tt&&window.clearTimeout(tt)}})}finally{Z()}})).apply(this,arguments)}function Hg(y){return fl.apply(this,arguments)}function fl(){return(fl=(0,l.Z)(function*(y){const p=hf(y),m=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(m)).map(Z=>Z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function hf(y){if($(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),m=new Uint8Array(p);for(let C=0;C<y.length;C++)m[C]=y.charCodeAt(C);return m}!function Ug(y){(0,pe._registerComponent)(new U.wA("auth",(p,{options:m})=>{const C=p.getProvider("app").getImmediate(),Z=p.getProvider("heartbeat"),{apiKey:_e,authDomain:Ge}=C.options;return((tt,It)=>{D(_e&&!_e.includes(":"),"invalid-api-key",{appName:tt.name}),D(!Ge?.includes(":"),"argument-error",{appName:tt.name});const Ut={apiKey:_e,authDomain:Ge,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bs(y)},sn=new Tl(tt,It,Ut);return function ke(y,p){const m=p?.persistence||[],C=(Array.isArray(m)?m:[m]).map(ge);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(C,p?.popupRedirectResolver)}(sn,m),sn})(C,Z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,C)=>{p.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new U.wA("auth-internal",p=>{const m=Gn(p.getProvider("auth").getImmediate());return new Py(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(Vg,"0.20.5",function ky(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,pe.registerVersion)(Vg,"0.20.5","esm2017")}("Browser");class Oy extends dl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(m=>m(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function Ud(y){return ko.apply(this,arguments)}function ko(){return(ko=(0,l.Z)(function*(y){const p=yield ic()._get(jd(y));return p&&(yield ic()._remove(jd(y))),p})).apply(this,arguments)}function Ew(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let m=0;m<20;m++){const C=Math.floor(Math.random()*p.length);y.push(p.charAt(C))}return y.join("")}function ic(){return ge(Xr)}function jd(y){return Fn("authEvent",y.config.apiKey,y.name)}function yu(y){if(!y?.includes("?"))return{};const[p,...m]=y.split("?");return(0,O.zd)(m.join("?"))}function rc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Q("no-auth-event")}}function sc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Ny(y=(0,O.z$)()){return!("file:"!==sc()&&"ionic:"!==sc()&&"capacitor:"!==sc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function Uy(){try{const y=self.localStorage,p=Qr();if(y)return y.setItem(p,"1"),y.removeItem(p),!function By(y=(0,O.z$)()){return function ff(){return(0,O.w1)()&&11===document?.documentMode}()||function Vy(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return Hd()&&(0,O.hl)()}return!1}function Hd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ji(){return(function Ly(){return"http:"===sc()||"https:"===sc()}()||(0,O.ru)()||Ny())&&!function Aw(){return(0,O.b$)()||(0,O.UG)()}()&&Uy()&&!Hd()}function bu(){return Ny()&&typeof document<"u"}function Gd(){return(Gd=(0,l.Z)(function*(){return!!bu()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const xr={LOCAL:"local",NONE:"none",SESSION:"session"},Ro=D,gf="persistence";function wu(y){return pl.apply(this,arguments)}function pl(){return(pl=(0,l.Z)(function*(y){yield y._initializationPromise;const p=yf(),m=Fn(gf,y.config.apiKey,y.name);p&&p.setItem(m,y._getPersistence())})).apply(this,arguments)}function yf(){var y;try{return(null===(y=function Zg(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const oc=D;class Hi{constructor(){this.browserResolver=ge(class xy{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Sr,this._completeRedirectFn=fn,this._overrideRedirectResult=Do}_openPopup(p,m,C,Z){var _e=this;return(0,l.Z)(function*(){var Ge;$(null===(Ge=_e.eventManagers[p._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const tt=Vd(p,m,C,Ne(),Z);return function Qs(y,p,m,C=500,Z=600){const _e=Math.max((window.screen.availHeight-Z)/2,0).toString(),Ge=Math.max((window.screen.availWidth-C)/2,0).toString();let tt="";const It=Object.assign(Object.assign({},Xs),{width:C.toString(),height:Z.toString(),top:_e,left:Ge}),Ut=(0,O.z$)().toLowerCase();m&&(tt=On(Ut)?"_blank":m),Sn(Ut)&&(p=p||"http://localhost",It.scrollbars="yes");const sn=Object.entries(It).reduce((xi,[Pr,ml])=>`${xi}${Pr}=${ml},`,"");if(function Xn(y=(0,O.z$)()){var p;return Di(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ut)&&"_self"!==tt)return function Nd(y,p){const m=document.createElement("a");m.href=y,m.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(C)}(p||"",tt),new gu(null);const Qt=window.open(p||"",tt,sn);D(Qt,y,"popup-blocked");try{Qt.focus()}catch{}return new gu(Qt)}(p,tt,Qr())})()}_openRedirect(p,m,C,Z){var _e=this;return(0,l.Z)(function*(){return yield _e._originValidation(p),function tr(y){Mt().location.href=y}(Vd(p,m,C,Ne(),Z)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:Z,promise:_e}=this.eventManagers[m];return Z?Promise.resolve(Z):($(_e,"If manager is not set, promise should be"),_e)}const C=this.initAndGetManager(p);return this.eventManagers[m]={promise:C},C.catch(()=>{delete this.eventManagers[m]}),C}initAndGetManager(p){var m=this;return(0,l.Z)(function*(){const C=yield function Ld(y){return hl.apply(this,arguments)}(p),Z=new dl(p);return C.register("authEvent",_e=>(D(_e?.authEvent,p,"invalid-auth-event"),{status:Z.onEvent(_e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:Z},m.iframes[p._key()]=C,Z})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(cf,{type:cf},Z=>{var _e;const Ge=null===(_e=Z?.[0])||void 0===_e?void 0:_e[cf];void 0!==Ge&&m(!!Ge),F(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Lg(y){return tf.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return Qn()||In()||Di()}}),this.cordovaResolver=ge(class wa{constructor(){this._redirectPersistence=Sr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fn,this._overrideRedirectResult=Do}_initialize(p){var m=this;return(0,l.Z)(function*(){const C=p._key();let Z=m.eventManagers.get(C);return Z||(Z=new Oy(p),m.eventManagers.set(C,Z),m.attachCallbackListeners(p,Z)),Z})()}_openPopup(p){F(p,"operation-not-supported-in-this-environment")}_openRedirect(p,m,C,Z){var _e=this;return(0,l.Z)(function*(){!function nc(y){var p,m,C,Z,_e,Ge,tt,It,Ut,sn;const Qt=ba();D("function"==typeof(null===(p=Qt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),D(typeof(null===(m=Qt?.BuildInfo)||void 0===m?void 0:m.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),D("function"==typeof(null===(_e=null===(Z=null===(C=Qt?.cordova)||void 0===C?void 0:C.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===_e?void 0:_e.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D("function"==typeof(null===(It=null===(tt=null===(Ge=Qt?.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===It?void 0:It.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),D("function"==typeof(null===(sn=null===(Ut=Qt?.cordova)||void 0===Ut?void 0:Ut.InAppBrowser)||void 0===sn?void 0:sn.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Ge=yield _e._initialize(p);yield Ge.initialized(),Ge.resetRedirect(),function gs(){Ms.clear()}(),yield _e._originValidation(p);const tt=function zg(y,p,m=null){return{type:p,eventId:m,urlResponse:null,sessionId:Ew(),postBody:null,tenantId:y.tenantId,error:Q(y,"no-auth-event")}}(p,C,Z);yield function _u(y,p){return ic()._set(jd(y),p)}(p,tt);const It=yield function df(y,p,m){return Ps.apply(this,arguments)}(p,tt,m),Ut=yield function tc(y){const{cordova:p}=ba();return new Promise(m=>{p.plugins.browsertab.isAvailable(C=>{let Z=null;C?p.plugins.browsertab.openUrl(y):Z=p.InAppBrowser.open(y,function Ko(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),m(Z)})})}(It);return function jg(y,p,m){return Yi.apply(this,arguments)}(p,Ge,Ut)})()}_isIframeWebStorageSupported(p,m){throw new Error("Method not implemented.")}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function mu(y){return Bd.apply(this,arguments)}(p)),this.originValidationPromises[m]}attachCallbackListeners(p,m){const{universalLinks:C,handleOpenURL:Z,BuildInfo:_e}=ba(),Ge=setTimeout((0,l.Z)(function*(){yield Ud(p),m.onEvent(rc())}),500),tt=function(){var sn=(0,l.Z)(function*(Qt){clearTimeout(Ge);const xi=yield Ud(p);let Pr=null;xi&&Qt?.url&&(Pr=function Cw(y,p){var m,C;const Z=function Wg(y){const p=yu(y),m=p.link?decodeURIComponent(p.link):void 0,C=yu(m).link,Z=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return yu(Z).link||Z||C||m||y}(p);if(Z.includes("/__/auth/callback")){const _e=yu(Z),Ge=_e.firebaseError?function $g(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(_e.firebaseError)):null,tt=null===(C=null===(m=Ge?.code)||void 0===m?void 0:m.split("auth/"))||void 0===C?void 0:C[1],It=tt?Q(tt):null;return It?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:It,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:Z,postBody:null}}return null}(xi,Qt.url)),m.onEvent(Pr||rc())});return function(xi){return sn.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,tt);const It=Z,Ut=`${_e.packageName.toLowerCase()}://`;ba().handleOpenURL=function(){var sn=(0,l.Z)(function*(Qt){if(Qt.toLowerCase().startsWith(Ut)&&tt({url:Qt}),"function"==typeof It)try{It(Qt)}catch(xi){console.error(xi)}});return function(Qt){return sn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Sr,this._completeRedirectFn=fn,this._overrideRedirectResult=Do}_initialize(p){var m=this;return(0,l.Z)(function*(){return yield m.selectUnderlyingResolver(),m.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,m,C,Z){var _e=this;return(0,l.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openPopup(p,m,C,Z)})()}_openRedirect(p,m,C,Z){var _e=this;return(0,l.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openRedirect(p,m,C,Z)})()}_isIframeWebStorageSupported(p,m){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,m)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return bu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return oc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const m=yield function pf(){return Gd.apply(this,arguments)}();p.underlyingResolver=m?p.cordovaResolver:p.browserResolver})()}}function Xg(y){return y.unwrap()}function zd(y){return $d(y)}function $d(y){const{_tokenResponse:p}=y instanceof O.ZR?y.customData:y;if(!p)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return Zl.credentialFromResult(y);const m=p.providerId;if(!m||"password"===m)return null;let C;switch(m){case"google.com":C=Ua;break;case"facebook.com":C=Ba;break;case"github.com":C=Yc;break;case"twitter.com":C=Rl;break;default:const{oauthIdToken:Z,oauthAccessToken:_e,oauthTokenSecret:Ge,pendingToken:tt,nonce:It}=p;return _e||Ge||Z||tt?tt?m.startsWith("saml.")?pr._create(m,tt):Cs._fromParams({providerId:m,signInMethod:m,pendingToken:tt,idToken:Z,accessToken:_e}):new na(m).credential({idToken:Z,accessToken:_e,rawNonce:It}):null}return y instanceof O.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function Zi(y,p){return p.catch(m=>{throw m instanceof O.ZR&&function jy(y,p){var m,C;const Z=null===(m=p.customData)||void 0===m?void 0:m._tokenResponse;if("auth/multi-factor-auth-required"===(null===(C=p)||void 0===C?void 0:C.code))p.resolver=new ac(y,function vi(y,p){var m;const C=(0,O.m9)(y),Z=p;return D(p.customData.operationType,C,"argument-error"),D(null===(m=Z.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,C,"argument-error"),vo._fromError(C,Z)}(y,p));else if(Z){const _e=$d(p),Ge=p;_e&&(Ge.credential=_e,Ge.tenantId=Z.tenantId||void 0,Ge.email=Z.email||void 0,Ge.phoneNumber=Z.phoneNumber||void 0)}}(y,m),m}).then(m=>{const Z=m.user;return{operationType:m.operationType,credential:zd(m),additionalUserInfo:$h(m),user:Mr.getOrCreate(Z)}})}function Ca(y,p){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,l.Z)(function*(y,p){const m=yield p;return{verificationId:m.verificationId,confirm:C=>Zi(y,m.confirm(C))}})).apply(this,arguments)}class ac{constructor(p,m){this.resolver=m,this.auth=function vf(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Zi(Xg(this.auth),this.resolver.resolveSignIn(p))}}class Mr{constructor(p){this._delegate=p,this.multiFactor=function xd(y){const p=(0,O.m9)(y);return bo.has(p)||bo.set(p,Yh._fromUser(p)),bo.get(p)}(p)}static getOrCreate(p){return Mr.USER_MAP.has(p)||Mr.USER_MAP.set(p,new Mr(p)),Mr.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var m=this;return(0,l.Z)(function*(){return Zi(m.auth,Qc(m._delegate,p))})()}linkWithPhoneNumber(p,m){var C=this;return(0,l.Z)(function*(){return Ca(C.auth,function hs(y,p,m){return Yl.apply(this,arguments)}(C._delegate,p,m))})()}linkWithPopup(p){var m=this;return(0,l.Z)(function*(){return Zi(m.auth,function Rd(y,p,m){return Co.apply(this,arguments)}(m._delegate,p,Hi))})()}linkWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield wu(Gn(m.auth)),function ze(y,p,m){return function Je(y,p,m){return pt.apply(this,arguments)}(y,p,m)}(m._delegate,p,Hi)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var m=this;return(0,l.Z)(function*(){return Zi(m.auth,po(m._delegate,p))})()}reauthenticateWithPhoneNumber(p,m){return Ca(this.auth,function al(y,p,m){return fs.apply(this,arguments)}(this._delegate,p,m))}reauthenticateWithPopup(p){return Zi(this.auth,function ef(y,p,m){return hu.apply(this,arguments)}(this._delegate,p,Hi))}reauthenticateWithRedirect(p){var m=this;return(0,l.Z)(function*(){return yield wu(Gn(m.auth)),function V(y,p,m){return function ue(y,p,m){return Re.apply(this,arguments)}(y,p,m)}(m._delegate,p,Hi)})()}sendEmailVerification(p){return function Za(y,p){return Xa.apply(this,arguments)}(this._delegate,p)}unlink(p){var m=this;return(0,l.Z)(function*(){return yield function Xc(y,p){return ia.apply(this,arguments)}(m._delegate,p),m})()}updateEmail(p){return function iu(y,p){return Hl((0,O.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function jl(y,p){return Hl((0,O.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function ll(y,p){return kd.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Ul(y,p){return Ja.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,m){return function nu(y,p,m){return Qa.apply(this,arguments)}(this._delegate,p,m)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Mr.USER_MAP=new WeakMap;const Cu=D;let bf=(()=>{class y{constructor(m,C){if(this.app=m,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Z}=m.options;Cu(Z,"invalid-api-key",{appName:m.name}),Cu(Z,"invalid-api-key",{appName:m.name});const _e=typeof window<"u"?Hi:void 0;this._delegate=C.initialize({options:{persistence:Hy(Z,m.name),popupRedirectResolver:_e}}),this._delegate._updateErrorMap(W),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Mr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(m){this._delegate.languageCode=m}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(m){this._delegate.tenantId=m}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(m,C){!function uo(y,p,m){const C=Gn(y);D(C._canInitEmulator,C,"emulator-config-failed"),D(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const Z=!!m?.disableWarnings,_e=_i(p),{host:Ge,port:tt}=function Bs(y){const p=_i(y),m=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!m)return{host:"",port:null};const C=m[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(C);if(Z){const _e=Z[1];return{host:_e,port:ws(C.substr(_e.length+1))}}{const[_e,Ge]=C.split(":");return{host:_e,port:ws(Ge)}}}(p);C.config.emulator={url:`${_e}//${Ge}${null===tt?"":`:${tt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Ge,port:tt,protocol:_e.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function fr(){function y(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,m,C)}applyActionCode(m){return function Wa(y,p){return Ds.apply(this,arguments)}(this._delegate,m)}checkActionCode(m){return Ll(this._delegate,m)}confirmPasswordReset(m,C){return function _o(y,p,m){return Er.apply(this,arguments)}(this._delegate,m,C)}createUserWithEmailAndPassword(m,C){var Z=this;return(0,l.Z)(function*(){return Zi(Z._delegate,function Ni(y,p,m){return Ar.apply(this,arguments)}(Z._delegate,m,C))})()}fetchProvidersForEmail(m){return this.fetchSignInMethodsForEmail(m)}fetchSignInMethodsForEmail(m){return function Ya(y,p){return Nl.apply(this,arguments)}(this._delegate,m)}isSignInWithEmailLink(m){return function Dd(y,p){return"EMAIL_SIGNIN"===Pl.parseLink(p)?.operation}(0,m)}getRedirectResult(){var m=this;return(0,l.Z)(function*(){Cu(ji(),m._delegate,"operation-not-supported-in-this-environment");const C=yield function Pt(y,p){return Yt.apply(this,arguments)}(m._delegate,Hi);return C?Zi(m._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(m){!function Fy(y,p){Gn(y)._logFramework(p)}(this._delegate,m)}onAuthStateChanged(m,C,Z){const{next:_e,error:Ge,complete:tt}=gl(m,C,Z);return this._delegate.onAuthStateChanged(_e,Ge,tt)}onIdTokenChanged(m,C,Z){const{next:_e,error:Ge,complete:tt}=gl(m,C,Z);return this._delegate.onIdTokenChanged(_e,Ge,tt)}sendSignInLinkToEmail(m,C){return function la(y,p,m){return Yr.apply(this,arguments)}(this._delegate,m,C)}sendPasswordResetEmail(m,C){return function Jn(y,p,m){return $a.apply(this,arguments)}(this._delegate,m,C||void 0)}setPersistence(m){var C=this;return(0,l.Z)(function*(){let Z;switch(function mf(y,p){Ro(Object.values(xr).includes(p),y,"invalid-persistence-type"),(0,O.b$)()?Ro(p!==xr.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?Ro(p===xr.NONE,y,"unsupported-persistence-type"):Hd()?Ro(p===xr.NONE||p===xr.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):Ro(p===xr.NONE||Uy(),y,"unsupported-persistence-type")}(C._delegate,m),m){case xr.SESSION:Z=Sr;break;case xr.LOCAL:Z=(yield ge(gr)._isAvailable())?gr:Xr;break;case xr.NONE:Z=en;break;default:return F("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(Z)})()}signInAndRetrieveDataWithCredential(m){return this.signInWithCredential(m)}signInAnonymously(){return Zi(this._delegate,function si(y){return Ed.apply(this,arguments)}(this._delegate))}signInWithCredential(m){return Zi(this._delegate,jt(this._delegate,m))}signInWithCustomToken(m){return Zi(this._delegate,function mo(y,p){return gt.apply(this,arguments)}(this._delegate,m))}signInWithEmailAndPassword(m,C){return Zi(this._delegate,function eu(y,p,m){return jt((0,O.m9)(y),kl.credential(p,m))}(this._delegate,m,C))}signInWithEmailLink(m,C){return Zi(this._delegate,function tu(y,p,m){return Ka.apply(this,arguments)}(this._delegate,m,C))}signInWithPhoneNumber(m,C){return Ca(this._delegate,function ga(y,p,m){return Ii.apply(this,arguments)}(this._delegate,m,C))}signInWithPopup(m){var C=this;return(0,l.Z)(function*(){return Cu(ji(),C._delegate,"operation-not-supported-in-this-environment"),Zi(C._delegate,function du(y,p,m){return ul.apply(this,arguments)}(C._delegate,m,Hi))})()}signInWithRedirect(m){var C=this;return(0,l.Z)(function*(){return Cu(ji(),C._delegate,"operation-not-supported-in-this-environment"),yield wu(C._delegate),function Fd(y,p,m){return function Jl(y,p,m){return P.apply(this,arguments)}(y,p,m)}(C._delegate,m,Hi)})()}updateCurrentUser(m){return this._delegate.updateCurrentUser(m)}verifyPasswordResetCode(m){return function qa(y,p){return Gs.apply(this,arguments)}(this._delegate,m)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=xr,y})();function gl(y,p,m){let C=y;"function"!=typeof y&&({next:C,error:p,complete:m}=y);const Z=C;return{next:Ge=>Z(Ge&&Mr.getOrCreate(Ge)),error:p,complete:m}}function Hy(y,p){const m=function _f(y,p){const m=yf();if(!m)return[];const C=Fn(gf,y,p);switch(m.getItem(C)){case xr.NONE:return[en];case xr.LOCAL:return[gr,Sr];case xr.SESSION:return[Sr];default:return[]}}(y,p);if(typeof self<"u"&&!m.includes(gr)&&m.push(gr),typeof window<"u")for(const C of[Xr,Sr])m.includes(C)||m.push(C);return m.includes(en)||m.push(en),m}class wf{constructor(){this.providerId="phone",this._delegate=new Zl(Xg(te.Z.auth()))}static credential(p,m){return Zl.credential(p,m)}verifyPhoneNumber(p,m){return this._delegate.verifyPhoneNumber(p,m)}unwrap(){return this._delegate}}wf.PHONE_SIGN_IN_METHOD=Zl.PHONE_SIGN_IN_METHOD,wf.PROVIDER_ID=Zl.PROVIDER_ID;const Gy=D;class zy{constructor(p,m,C=te.Z.app()){var Z;Gy(null===(Z=C.options)||void 0===Z?void 0:Z.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new ai(p,m,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function $y(y){y.INTERNAL.registerComponent(new U.wA("auth-compat",p=>{const m=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new bf(m,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:kl,FacebookAuthProvider:Ba,GithubAuthProvider:Yc,GoogleAuthProvider:Ua,OAuthProvider:na,SAMLAuthProvider:Wn,PhoneAuthProvider:wf,PhoneMultiFactorGenerator:My,RecaptchaVerifier:zy,TwitterAuthProvider:Rl,Auth:bf,AuthCredential:$r,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(te.Z)},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(2306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,R;R=()=>(()=>{"use strict";var __webpack_modules__=[,(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.VerbosityLevel=I.Util=I.UnknownErrorException=I.UnexpectedResponseException=I.UNSUPPORTED_FEATURES=I.TextRenderingMode=I.StreamType=I.RenderingIntentFlag=I.PermissionFlag=I.PasswordResponses=I.PasswordException=I.PageActionEventType=I.OPS=I.MissingPDFException=I.InvalidPDFException=I.ImageKind=I.IDENTITY_MATRIX=I.FormatError=I.FontType=I.FeatureTest=I.FONT_IDENTITY_MATRIX=I.DocumentActionEventType=I.CMapCompressionType=I.BaseException=I.AnnotationType=I.AnnotationStateModelType=I.AnnotationReviewState=I.AnnotationReplyType=I.AnnotationMode=I.AnnotationMarkedState=I.AnnotationFlag=I.AnnotationFieldFlag=I.AnnotationBorderStyleType=I.AnnotationActionEventType=I.AbortException=void 0,I.arrayByteLength=Me,I.arraysToBytes=function Ue(Le){const we=Le.length;if(1===we&&Le[0]instanceof Uint8Array)return Le[0];let Oe=0;for(let Kt=0;Kt<we;Kt++)Oe+=Me(Le[Kt]);let rt=0;const yt=new Uint8Array(Oe);for(let Kt=0;Kt<we;Kt++){let Ye=Le[Kt];Ye instanceof Uint8Array||(Ye="string"==typeof Ye?je(Ye):new Uint8Array(Ye));const Ee=Ye.byteLength;yt.set(Ye,rt),rt+=Ee}return yt},I.assert=function ke(Le,we){Le||ye(we)},I.bytesToString=function be(Le){("object"!=typeof Le||null===Le||void 0===Le.length)&&ye("Invalid argument for bytesToString");const we=Le.length;if(we<8192)return String.fromCharCode.apply(null,Le);const rt=[];for(let yt=0;yt<we;yt+=8192){const Kt=Math.min(yt+8192,we),Ye=Le.subarray(yt,Kt);rt.push(String.fromCharCode.apply(null,Ye))}return rt.join("")},I.createPromiseCapability=function wt(){const Le=Object.create(null);let we=!1;return Object.defineProperty(Le,"settled",{get:()=>we}),Le.promise=new Promise(function(Oe,rt){Le.resolve=function(yt){we=!0,Oe(yt)},Le.reject=function(yt){we=!0,rt(yt)}}),Le},I.createValidAbsoluteUrl=function Qe(Le,we=null,Oe=null){if(!Le)return null;try{if(Oe&&"string"==typeof Le){if(Oe.addDefaultProtocol&&Le.startsWith("www.")){const yt=Le.match(/\./g);yt&&yt.length>=2&&(Le=`http://${Le}`)}if(Oe.tryConvertEncoding)try{Le=xt(Le)}catch{}}const rt=we?new URL(Le,we):new URL(Le);if(function Ne(Le){if(!Le)return!1;switch(Le.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(rt))return rt}catch{}return null},I.escapeString=function St(Le){return Le.replace(/([()\\\n\r])/g,we=>"\n"===we?"\\n":"\r"===we?"\\r":`\\${we}`)},I.getModificationDate=function ft(Le=new Date){return[Le.getUTCFullYear().toString(),(Le.getUTCMonth()+1).toString().padStart(2,"0"),Le.getUTCDate().toString().padStart(2,"0"),Le.getUTCHours().toString().padStart(2,"0"),Le.getUTCMinutes().toString().padStart(2,"0"),Le.getUTCSeconds().toString().padStart(2,"0")].join("")},I.getVerbosityLevel=function $(){return D},I.info=function le(Le){D>=F.INFOS&&console.log(`Info: ${Le}`)},I.isArrayBuffer=function me(Le){return"object"==typeof Le&&null!==Le&&void 0!==Le.byteLength},I.isArrayEqual=function Ie(Le,we){if(Le.length!==we.length)return!1;for(let Oe=0,rt=Le.length;Oe<rt;Oe++)if(Le[Oe]!==we[Oe])return!1;return!0},I.isAscii=function nt(Le){return/^[\x00-\x7F]*$/.test(Le)},I.objectFromMap=function Xe(Le){const we=Object.create(null);for(const[Oe,rt]of Le)we[Oe]=rt;return we},I.objectSize=function Ke(Le){return Object.keys(Le).length},I.setVerbosityLevel=function oe(Le){Number.isInteger(Le)&&(D=Le)},I.shadow=it,I.string32=function Be(Le){return String.fromCharCode(Le>>24&255,Le>>16&255,Le>>8&255,255&Le)},I.stringToBytes=je,I.stringToPDFString=function Ot(Le){if(Le[0]>="\xef"){let Oe;if("\xfe"===Le[0]&&"\xff"===Le[1]?Oe="utf-16be":"\xff"===Le[0]&&"\xfe"===Le[1]?Oe="utf-16le":"\xef"===Le[0]&&"\xbb"===Le[1]&&"\xbf"===Le[2]&&(Oe="utf-8"),Oe)try{const rt=new TextDecoder(Oe,{fatal:!0}),yt=je(Le);return rt.decode(yt)}catch(rt){ge(`stringToPDFString: "${rt}".`)}}const we=[];for(let Oe=0,rt=Le.length;Oe<rt;Oe++){const yt=Rt[Le.charCodeAt(Oe)];we.push(yt?String.fromCharCode(yt):Le.charAt(Oe))}return we.join("")},I.stringToUTF16BEString=function dt(Le){const we=["\xfe\xff"];for(let Oe=0,rt=Le.length;Oe<rt;Oe++){const yt=Le.charCodeAt(Oe);we.push(String.fromCharCode(yt>>8&255),String.fromCharCode(255&yt))}return we.join("")},I.stringToUTF8String=xt,I.unreachable=ye,I.utf8StringToString=function Ze(Le){return unescape(encodeURIComponent(Le))},I.warn=ge,R(2),I.IDENTITY_MATRIX=[1,0,0,1,0,0],I.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],I.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},I.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},I.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},I.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},I.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},I.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},I.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},I.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},I.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},I.AnnotationReplyType={GROUP:"Group",REPLY:"R"},I.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},I.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},I.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},I.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},I.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},I.PageActionEventType={O:"PageOpen",C:"PageClose"},I.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},I.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const F={ERRORS:0,WARNINGS:1,INFOS:5};I.VerbosityLevel=F,I.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},I.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},I.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},I.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let D=F.WARNINGS;function ge(Le){D>=F.WARNINGS&&console.log(`Warning: ${Le}`)}function ye(Le){throw new Error(Le)}function it(Le,we,Oe){return Object.defineProperty(Le,we,{value:Oe,enumerable:!0,configurable:!0,writable:!1}),Oe}const ve=function(){function we(Oe,rt){this.constructor===we&&ye("Cannot initialize BaseException."),this.message=Oe,this.name=rt}return we.prototype=new Error,we.constructor=we,we}();function je(Le){"string"!=typeof Le&&ye("Invalid argument for stringToBytes");const we=Le.length,Oe=new Uint8Array(we);for(let rt=0;rt<we;++rt)Oe[rt]=255&Le.charCodeAt(rt);return Oe}function Me(Le){return void 0!==Le.length?Le.length:void 0!==Le.byteLength?Le.byteLength:void ye("Invalid argument for arrayByteLength")}I.BaseException=ve,I.PasswordException=class x extends ve{constructor(we,Oe){super(we,"PasswordException"),this.code=Oe}},I.UnknownErrorException=class b extends ve{constructor(we,Oe){super(we,"UnknownErrorException"),this.details=Oe}},I.InvalidPDFException=class M extends ve{constructor(we){super(we,"InvalidPDFException")}},I.MissingPDFException=class L extends ve{constructor(we){super(we,"MissingPDFException")}},I.UnexpectedResponseException=class X extends ve{constructor(we,Oe){super(we,"UnexpectedResponseException"),this.status=Oe}},I.FormatError=class ne extends ve{constructor(we){super(we,"FormatError")}},I.AbortException=class B extends ve{constructor(we){super(we,"AbortException")}},I.FeatureTest=class at{static get isLittleEndian(){return it(this,"isLittleEndian",function mt(){const Le=new Uint8Array(4);return Le[0]=1,1===new Uint32Array(Le.buffer,0,1)[0]}())}static get isEvalSupported(){return it(this,"isEvalSupported",function Dt(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return it(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const _t=[...Array(256).keys()].map(Le=>Le.toString(16).padStart(2,"0"));class ct{static makeHexColor(we,Oe,rt){return`#${_t[we]}${_t[Oe]}${_t[rt]}`}static scaleMinMax(we,Oe){let rt;we[0]?(we[0]<0&&(rt=Oe[0],Oe[0]=Oe[1],Oe[1]=rt),Oe[0]*=we[0],Oe[1]*=we[0],we[3]<0&&(rt=Oe[2],Oe[2]=Oe[3],Oe[3]=rt),Oe[2]*=we[3],Oe[3]*=we[3]):(rt=Oe[0],Oe[0]=Oe[2],Oe[2]=rt,rt=Oe[1],Oe[1]=Oe[3],Oe[3]=rt,we[1]<0&&(rt=Oe[2],Oe[2]=Oe[3],Oe[3]=rt),Oe[2]*=we[1],Oe[3]*=we[1],we[2]<0&&(rt=Oe[0],Oe[0]=Oe[1],Oe[1]=rt),Oe[0]*=we[2],Oe[1]*=we[2]),Oe[0]+=we[4],Oe[1]+=we[4],Oe[2]+=we[5],Oe[3]+=we[5]}static transform(we,Oe){return[we[0]*Oe[0]+we[2]*Oe[1],we[1]*Oe[0]+we[3]*Oe[1],we[0]*Oe[2]+we[2]*Oe[3],we[1]*Oe[2]+we[3]*Oe[3],we[0]*Oe[4]+we[2]*Oe[5]+we[4],we[1]*Oe[4]+we[3]*Oe[5]+we[5]]}static applyTransform(we,Oe){return[we[0]*Oe[0]+we[1]*Oe[2]+Oe[4],we[0]*Oe[1]+we[1]*Oe[3]+Oe[5]]}static applyInverseTransform(we,Oe){const rt=Oe[0]*Oe[3]-Oe[1]*Oe[2];return[(we[0]*Oe[3]-we[1]*Oe[2]+Oe[2]*Oe[5]-Oe[4]*Oe[3])/rt,(-we[0]*Oe[1]+we[1]*Oe[0]+Oe[4]*Oe[1]-Oe[5]*Oe[0])/rt]}static getAxialAlignedBoundingBox(we,Oe){const rt=ct.applyTransform(we,Oe),yt=ct.applyTransform(we.slice(2,4),Oe),Kt=ct.applyTransform([we[0],we[3]],Oe),Ye=ct.applyTransform([we[2],we[1]],Oe);return[Math.min(rt[0],yt[0],Kt[0],Ye[0]),Math.min(rt[1],yt[1],Kt[1],Ye[1]),Math.max(rt[0],yt[0],Kt[0],Ye[0]),Math.max(rt[1],yt[1],Kt[1],Ye[1])]}static inverseTransform(we){const Oe=we[0]*we[3]-we[1]*we[2];return[we[3]/Oe,-we[1]/Oe,-we[2]/Oe,we[0]/Oe,(we[2]*we[5]-we[4]*we[3])/Oe,(we[4]*we[1]-we[5]*we[0])/Oe]}static apply3dTransform(we,Oe){return[we[0]*Oe[0]+we[1]*Oe[1]+we[2]*Oe[2],we[3]*Oe[0]+we[4]*Oe[1]+we[5]*Oe[2],we[6]*Oe[0]+we[7]*Oe[1]+we[8]*Oe[2]]}static singularValueDecompose2dScale(we){const Oe=[we[0],we[2],we[1],we[3]],rt=we[0]*Oe[0]+we[1]*Oe[2],Ye=we[2]*Oe[1]+we[3]*Oe[3],Ee=(rt+Ye)/2,Te=Math.sqrt((rt+Ye)**2-4*(rt*Ye-(we[2]*Oe[0]+we[3]*Oe[2])*(we[0]*Oe[1]+we[1]*Oe[3])))/2,Ae=Ee-Te||1;return[Math.sqrt(Ee+Te||1),Math.sqrt(Ae)]}static normalizeRect(we){const Oe=we.slice(0);return we[0]>we[2]&&(Oe[0]=we[2],Oe[2]=we[0]),we[1]>we[3]&&(Oe[1]=we[3],Oe[3]=we[1]),Oe}static intersect(we,Oe){const rt=Math.max(Math.min(we[0],we[2]),Math.min(Oe[0],Oe[2])),yt=Math.min(Math.max(we[0],we[2]),Math.max(Oe[0],Oe[2]));if(rt>yt)return null;const Kt=Math.max(Math.min(we[1],we[3]),Math.min(Oe[1],Oe[3])),Ye=Math.min(Math.max(we[1],we[3]),Math.max(Oe[1],Oe[3]));return Kt>Ye?null:[rt,Kt,yt,Ye]}static bezierBoundingBox(we,Oe,rt,yt,Kt,Ye,Ee,Te){const Ce=[],Ae=[[],[]];let Pe,$e,ot,Ct,Xt,en,Fn,Jt;for(let On=0;On<2;++On)if(0===On?($e=6*we-12*rt+6*Kt,Pe=-3*we+9*rt-9*Kt+3*Ee,ot=3*rt-3*we):($e=6*Oe-12*yt+6*Ye,Pe=-3*Oe+9*yt-9*Ye+3*Te,ot=3*yt-3*Oe),Math.abs(Pe)<1e-12){if(Math.abs($e)<1e-12)continue;Ct=-ot/$e,0<Ct&&Ct<1&&Ce.push(Ct)}else Fn=$e*$e-4*ot*Pe,Jt=Math.sqrt(Fn),!(Fn<0)&&(Xt=(-$e+Jt)/(2*Pe),0<Xt&&Xt<1&&Ce.push(Xt),en=(-$e-Jt)/(2*Pe),0<en&&en<1&&Ce.push(en));let Sn,tn=Ce.length;const In=tn;for(;tn--;)Ct=Ce[tn],Sn=1-Ct,Ae[0][tn]=Sn*Sn*Sn*we+3*Sn*Sn*Ct*rt+3*Sn*Ct*Ct*Kt+Ct*Ct*Ct*Ee,Ae[1][tn]=Sn*Sn*Sn*Oe+3*Sn*Sn*Ct*yt+3*Sn*Ct*Ct*Ye+Ct*Ct*Ct*Te;return Ae[0][In]=we,Ae[1][In]=Oe,Ae[0][In+1]=Ee,Ae[1][In+1]=Te,Ae[0].length=Ae[1].length=In+2,[Math.min(...Ae[0]),Math.min(...Ae[1]),Math.max(...Ae[0]),Math.max(...Ae[1])]}}I.Util=ct;const Rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function xt(Le){return decodeURIComponent(escape(Le))}},(xe,I,R)=>{R(3)},(xe,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.isNodeJS=void 0;const R=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);I.isNodeJS=R},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:xe,NodeCMapReaderFactory:I,NodeStandardFontDataFactory:R}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=xe,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=I,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=R}function setPDFNetworkStreamFactory(xe){createPDFNetworkStream=xe}function getDocument(xe){const I=new PDFDocumentLoadingTask;let R;if("string"==typeof xe||xe instanceof URL)R={url:xe};else if((0,_util.isArrayBuffer)(xe))R={data:xe};else if(xe instanceof PDFDataRangeTransport)R={range:xe};else{if("object"!=typeof xe)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!xe.url&&!xe.data&&!xe.range)throw new Error("Invalid parameter object: need either .data, .range or .url");R=xe}const l=Object.create(null);let te=null,O=null;for(const ie in R){const re=R[ie];switch(ie){case"url":if(typeof window<"u")try{l[ie]=new URL(re,window.location).href;continue}catch(U){(0,_util.warn)(`Cannot create valid URL: "${U}".`)}else if("string"==typeof re||re instanceof URL){l[ie]=re.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":te=re;continue;case"worker":O=re;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&re instanceof Buffer)l[ie]=new Uint8Array(re);else{if(re instanceof Uint8Array)break;if("string"==typeof re)l[ie]=(0,_util.stringToBytes)(re);else if("object"!=typeof re||null===re||isNaN(re.length)){if(!(0,_util.isArrayBuffer)(re))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");l[ie]=new Uint8Array(re)}else l[ie]=new Uint8Array(re)}continue}l[ie]=re}if(l.CMapReaderFactory=l.CMapReaderFactory||DefaultCMapReaderFactory,l.StandardFontDataFactory=l.StandardFontDataFactory||DefaultStandardFontDataFactory,l.ignoreErrors=!0!==l.stopAtErrors,l.fontExtraProperties=!0===l.fontExtraProperties,l.pdfBug=!0===l.pdfBug,l.enableXfa=!0===l.enableXfa,(!Number.isInteger(l.rangeChunkSize)||l.rangeChunkSize<1)&&(l.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof l.docBaseUrl||(0,_display_utils.isDataScheme)(l.docBaseUrl))&&(l.docBaseUrl=null),(!Number.isInteger(l.maxImageSize)||l.maxImageSize<-1)&&(l.maxImageSize=-1),"string"!=typeof l.cMapUrl&&(l.cMapUrl=null),"string"!=typeof l.standardFontDataUrl&&(l.standardFontDataUrl=null),"boolean"!=typeof l.useWorkerFetch&&(l.useWorkerFetch=l.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&l.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof l.isEvalSupported&&(l.isEvalSupported=!0),"boolean"!=typeof l.disableFontFace&&(l.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof l.useSystemFonts&&(l.useSystemFonts=!_is_node.isNodeJS&&!l.disableFontFace),("object"!=typeof l.ownerDocument||null===l.ownerDocument)&&(l.ownerDocument=globalThis.document),"boolean"!=typeof l.disableRange&&(l.disableRange=!1),"boolean"!=typeof l.disableStream&&(l.disableStream=!1),"boolean"!=typeof l.disableAutoFetch&&(l.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(l.verbosity),!O){const ie={verbosity:l.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};O=ie.port?_PDFWorker.fromPort(ie):new _PDFWorker(ie),I._worker=O}const pe=I.docId;return O.promise.then(function(){if(I.destroyed)throw new Error("Loading aborted");const ie=_fetchDocument(O,l,te,pe),re=new Promise(function(U){let ce;te?ce=new _transport_stream.PDFDataTransportStream({length:l.length,initialData:l.initialData,progressiveDone:l.progressiveDone,contentDispositionFilename:l.contentDispositionFilename,disableRange:l.disableRange,disableStream:l.disableStream},te):l.data||(ce=createPDFNetworkStream({url:l.url,length:l.length,httpHeaders:l.httpHeaders,withCredentials:l.withCredentials,rangeChunkSize:l.rangeChunkSize,disableRange:l.disableRange,disableStream:l.disableStream})),U(ce)});return Promise.all([ie,re]).then(function([U,ce]){if(I.destroyed)throw new Error("Loading aborted");const he=new _message_handler.MessageHandler(pe,U,O.port),ee=new WorkerTransport(he,I,ce,l);I._transport=ee,he.send("Ready",null)})}).catch(I._capability.reject),I}function _fetchDocument(xe,I,R,l){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(xe,I,R,l){if(xe.destroyed)throw new Error("Worker was destroyed");R&&(I.length=R.length,I.initialData=R.initialData,I.progressiveDone=R.progressiveDone,I.contentDispositionFilename=R.contentDispositionFilename);const te=yield xe.messageHandler.sendWithPromise("GetDocRequest",{docId:l,apiVersion:"2.14.305",source:{data:I.data,url:I.url,password:I.password,disableAutoFetch:I.disableAutoFetch,rangeChunkSize:I.rangeChunkSize,length:I.length},maxImageSize:I.maxImageSize,disableFontFace:I.disableFontFace,docBaseUrl:I.docBaseUrl,ignoreErrors:I.ignoreErrors,isEvalSupported:I.isEvalSupported,fontExtraProperties:I.fontExtraProperties,enableXfa:I.enableXfa,useSystemFonts:I.useSystemFonts,cMapUrl:I.useWorkerFetch?I.cMapUrl:null,standardFontDataUrl:I.useWorkerFetch?I.standardFontDataUrl:null});if(xe.destroyed)throw new Error("Worker was destroyed");return te})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var I,R;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(I=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),R=I++,I)),R}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var I=this;return _asyncToGenerator(function*(){I.destroyed=!0,yield I._transport?.destroy(),I._transport=null,I._worker&&(I._worker.destroy(),I._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(I,R,l=!1,te=null){this.length=I,this.initialData=R,this.progressiveDone=l,this.contentDispositionFilename=te,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(I){this._rangeListeners.push(I)}addProgressListener(I){this._progressListeners.push(I)}addProgressiveReadListener(I){this._progressiveReadListeners.push(I)}addProgressiveDoneListener(I){this._progressiveDoneListeners.push(I)}onDataRange(I,R){for(const l of this._rangeListeners)l(I,R)}onDataProgress(I,R){this._readyCapability.promise.then(()=>{for(const l of this._progressListeners)l(I,R)})}onDataProgressiveRead(I){this._readyCapability.promise.then(()=>{for(const R of this._progressiveReadListeners)R(I)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const I of this._progressiveDoneListeners)I()})}transportReady(){this._readyCapability.resolve()}requestDataRange(I,R){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(I,R){var te,l=this;this._pdfInfo=I,this._transport=R,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(te=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),l.stats||{streamTypes:{},fontTypes:{}}}),function(){return te.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(I){return this._transport.getPage(I)}getPageIndex(I){return this._transport.getPageIndex(I)}getDestinations(){return this._transport.getDestinations()}getDestination(I){return this._transport.getDestination(I)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(I=!1){return this._transport.startCleanup(I||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(I,R,l,te,O=!1){this._pageIndex=I,this._pageInfo=R,this._ownerDocument=te,this._transport=l,this._stats=O?new _display_utils.StatTimer:null,this._pdfBug=O,this.commonObjs=l.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:I,rotation:R=this.rotate,offsetX:l=0,offsetY:te=0,dontFlip:O=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:I,rotation:R,offsetX:l,offsetY:te,dontFlip:O})}getAnnotations({intent:I="display"}={}){const R=this._transport.getRenderingIntent(I);let l=this._annotationPromises.get(R.cacheKey);return l||(l=this._transport.getAnnotations(this._pageIndex,R.renderingIntent),this._annotationPromises.set(R.cacheKey,l),l=l.then(te=>{for(const O of te)void 0!==O.titleObj&&Object.defineProperty(O,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),O.titleObj.str)}),void 0!==O.contentsObj&&Object.defineProperty(O,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),O.contentsObj.str)});return te})),l}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var I=this;return _asyncToGenerator(function*(){return I._transport._htmlForXfa?.children[I._pageIndex]||null})()}render({canvasContext:I,viewport:R,intent:l="display",annotationMode:te=_util.AnnotationMode.ENABLE,transform:O=null,imageLayer:pe=null,canvasFactory:ie=null,background:re=null,optionalContentConfigPromise:U=null,annotationCanvasMap:ce=null,pageColors:he=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&te===_util.AnnotationMode.ENABLE&&(te=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&te===_util.AnnotationMode.ENABLE&&(te=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const ee=this._transport.getRenderingIntent(l,te);this.pendingCleanup=!1,U||(U=this._transport.getOptionalContentConfig());let K=this._intentStates.get(ee.cacheKey);K||(K=Object.create(null),this._intentStates.set(ee.cacheKey,K)),K.streamReaderCancelTimeout&&(clearTimeout(K.streamReaderCancelTimeout),K.streamReaderCancelTimeout=null);const se=ie||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),z=!!(ee.renderingIntent&_util.RenderingIntentFlag.PRINT);K.displayReadyCapability||(K.displayReadyCapability=(0,_util.createPromiseCapability)(),K.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(ee));const ae=G=>{K.renderTasks.delete(W),(this.cleanupAfterRender||z)&&(this.pendingCleanup=!0),this._tryCleanup(),G?(W.capability.reject(G),this._abortOperatorList({intentState:K,reason:G instanceof Error?G:new Error(G)})):W.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},W=new InternalRenderTask({callback:ae,params:{canvasContext:I,viewport:R,transform:O,imageLayer:pe,background:re},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ce,operatorList:K.operatorList,pageIndex:this._pageIndex,canvasFactory:se,useRequestAnimationFrame:!z,pdfBug:this._pdfBug,pageColors:he});(K.renderTasks||(K.renderTasks=new Set)).add(W);const fe=W.task;return Promise.all([K.displayReadyCapability.promise,U]).then(([G,Y])=>{this.pendingCleanup?ae():(this._stats&&this._stats.time("Rendering"),W.initializeGraphics({transparency:G,optionalContentConfig:Y}),W.operatorListChanged())}).catch(ae),fe}getOperatorList({intent:I="display",annotationMode:R=_util.AnnotationMode.ENABLE}={}){const te=this._transport.getRenderingIntent(I,R,!0);let pe,O=this._intentStates.get(te.cacheKey);return O||(O=Object.create(null),this._intentStates.set(te.cacheKey,O)),O.opListReadCapability||(pe=Object.create(null),pe.operatorListChanged=function l(){O.operatorList.lastChunk&&(O.opListReadCapability.resolve(O.operatorList),O.renderTasks.delete(pe))},O.opListReadCapability=(0,_util.createPromiseCapability)(),(O.renderTasks||(O.renderTasks=new Set)).add(pe),O.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(te)),O.opListReadCapability.promise}streamTextContent({disableCombineTextItems:I=!1,includeMarkedContent:R=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==I,includeMarkedContent:!0===R},{highWaterMark:100,size:te=>te.items.length})}getTextContent(I={}){if(this._transport._htmlForXfa)return this.getXfa().then(l=>_xfa_text.XfaText.textContent(l));const R=this.streamTextContent(I);return new Promise(function(l,te){const pe=R.getReader(),ie={items:[],styles:Object.create(null)};!function O(){pe.read().then(function({value:re,done:U}){U?l(ie):(Object.assign(ie.styles,re.styles),ie.items.push(...re.items),O())},te)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const I=[];for(const R of this._intentStates.values())if(this._abortOperatorList({intentState:R,reason:new Error("Page was destroyed."),force:!0}),!R.opListReadCapability)for(const l of R.renderTasks)I.push(l.completed),l.cancel();this.objs.clear();for(const R of this._bitmaps)R.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(I)}cleanup(I=!1){return this.pendingCleanup=!0,this._tryCleanup(I)}_tryCleanup(I=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:R,operatorList:l}of this._intentStates.values())if(R.size>0||!l.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,I&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const R of this._bitmaps)R.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(I,R){const l=this._intentStates.get(R);!l||(this._stats&&this._stats.timeEnd("Page Request"),l.displayReadyCapability&&l.displayReadyCapability.resolve(I))}_renderPageChunk(I,R){for(let l=0,te=I.length;l<te;l++)R.operatorList.fnArray.push(I.fnArray[l]),R.operatorList.argsArray.push(I.argsArray[l]);R.operatorList.lastChunk=I.lastChunk;for(const l of R.renderTasks)l.operatorListChanged();I.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:I,cacheKey:R}){const te=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:I,cacheKey:R,annotationStorage:I&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),O=this._intentStates.get(R);O.streamReader=te;const pe=()=>{te.read().then(({value:ie,done:re})=>{re?O.streamReader=null:this._transport.destroyed||(this._renderPageChunk(ie,O),pe())},ie=>{if(O.streamReader=null,!this._transport.destroyed){if(O.operatorList){O.operatorList.lastChunk=!0;for(const re of O.renderTasks)re.operatorListChanged();this._tryCleanup()}if(O.displayReadyCapability)O.displayReadyCapability.reject(ie);else{if(!O.opListReadCapability)throw ie;O.opListReadCapability.reject(ie)}}})};pe()}_abortOperatorList({intentState:I,reason:R,force:l=!1}){if(I.streamReader){if(!l){if(I.renderTasks.size>0)return;if(R instanceof _display_utils.RenderingCancelledException)return void(I.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:I,reason:R,force:!0}),I.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(I.streamReader.cancel(new _util.AbortException(R.message)).catch(()=>{}),I.streamReader=null,!this._transport.destroyed){for(const[te,O]of this._intentStates)if(O===I){this._intentStates.delete(te);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(I,R){const l={data:structuredClone(I,R)};this._deferred.then(()=>{for(const te of this._listeners)te.call(this,l)})}addEventListener(I,R){this._listeners.push(R)}removeEventListener(I,R){const l=this._listeners.indexOf(R);this._listeners.splice(l,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const xe=document?.currentScript?.src;xe&&(PDFWorkerUtil.fallbackWorkerSrc=xe.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(xe,I){let R;try{if(R=new URL(xe),!R.origin||"null"===R.origin)return!1}catch{return!1}const l=new URL(I,R);return R.origin===l.origin},PDFWorkerUtil.createCDNWrapper=function(xe){return URL.createObjectURL(new Blob([`importScripts("${xe}");`]))};class _PDFWorker{constructor({name:xe=null,port:I=null,verbosity:R=(0,_util.getVerbosityLevel)()}={}){if(I&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(I))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=xe,this.destroyed=!1,this.verbosity=R,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,I)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(I,this),void this._initializeFromPort(I);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(xe){this._port=xe,this._messageHandler=new _message_handler.MessageHandler("main","worker",xe),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let xe=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,xe)||(xe=PDFWorkerUtil.createCDNWrapper(new URL(xe,window.location).href));const I=new Worker(xe),R=new _message_handler.MessageHandler("main","worker",I),l=()=>{I.removeEventListener("error",te),R.destroy(),I.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},te=()=>{this._webWorker||l()};I.addEventListener("error",te),R.on("test",pe=>{I.removeEventListener("error",te),this.destroyed?l():pe?(this._messageHandler=R,this._port=I,this._webWorker=I,this._readyCapability.resolve(),R.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),R.destroy(),I.terminate())}),R.on("ready",pe=>{if(I.removeEventListener("error",te),this.destroyed)l();else try{O()}catch{this._setupFakeWorker()}});const O=()=>{const pe=new Uint8Array;R.send("test",pe,[pe.buffer])};return void O()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(xe=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const I=new LoopbackPort;this._port=I;const R="fake"+PDFWorkerUtil.fakeWorkerId++,l=new _message_handler.MessageHandler(R+"_worker",R,I);xe.setup(l,I);const te=new _message_handler.MessageHandler(R,R+"_worker",I);this._messageHandler=te,this._readyCapability.resolve(),te.send("configure",{verbosity:this.verbosity})}).catch(xe=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${xe.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(xe){if(!xe?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(xe.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(xe.port):new _PDFWorker(xe)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function xe(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(I,R,l,te){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=I,this.loadingTask=R,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:R.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:te.ownerDocument,styleElement:te.styleElement}),this._params=te,te.useWorkerFetch||(this.CMapReaderFactory=new te.CMapReaderFactory({baseUrl:te.cMapUrl,isCompressed:te.cMapPacked}),this.StandardFontDataFactory=new te.StandardFontDataFactory({baseUrl:te.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=l,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(I,R=_util.AnnotationMode.ENABLE,l=!1){let te=_util.RenderingIntentFlag.DISPLAY,O="";switch(I){case"any":te=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":te=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${I}`)}switch(R){case _util.AnnotationMode.DISABLE:te+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:te+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:te+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,O=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${R}`)}return l&&(te+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:te,cacheKey:`${te}_${O}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const I=[];for(const l of _classPrivateFieldGet(this,_pageCache).values())I.push(l._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const R=this.messageHandler.sendWithPromise("Terminate",null);return I.push(R),Promise.all(I).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:I,loadingTask:R}=this;I.on("GetReader",(l,te)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=O=>{this._lastProgress={loaded:O.loaded,total:O.total}},te.onPull=()=>{this._fullReader.read().then(function({value:O,done:pe}){pe?te.close():((0,_util.assert)((0,_util.isArrayBuffer)(O),"GetReader - expected an ArrayBuffer."),te.enqueue(new Uint8Array(O),1,[O]))}).catch(O=>{te.error(O)})},te.onCancel=O=>{this._fullReader.cancel(O),te.ready.catch(pe=>{if(!this.destroyed)throw pe})}}),I.on("ReaderHeadersReady",l=>{const te=(0,_util.createPromiseCapability)(),O=this._fullReader;return O.headersReady.then(()=>{(!O.isStreamingSupported||!O.isRangeSupported)&&(this._lastProgress&&R.onProgress?.(this._lastProgress),O.onProgress=pe=>{R.onProgress?.({loaded:pe.loaded,total:pe.total})}),te.resolve({isStreamingSupported:O.isStreamingSupported,isRangeSupported:O.isRangeSupported,contentLength:O.contentLength})},te.reject),te.promise}),I.on("GetRangeReader",(l,te)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const O=this._networkStream.getRangeReader(l.begin,l.end);O?(te.onPull=()=>{O.read().then(function({value:pe,done:ie}){ie?te.close():((0,_util.assert)((0,_util.isArrayBuffer)(pe),"GetRangeReader - expected an ArrayBuffer."),te.enqueue(new Uint8Array(pe),1,[pe]))}).catch(pe=>{te.error(pe)})},te.onCancel=pe=>{O.cancel(pe),te.ready.catch(ie=>{if(!this.destroyed)throw ie})}):te.close()}),I.on("GetDoc",({pdfInfo:l})=>{this._numPages=l.numPages,this._htmlForXfa=l.htmlForXfa,delete l.htmlForXfa,R._capability.resolve(new PDFDocumentProxy(l,this))}),I.on("DocException",function(l){let te;switch(l.name){case"PasswordException":te=new _util.PasswordException(l.message,l.code);break;case"InvalidPDFException":te=new _util.InvalidPDFException(l.message);break;case"MissingPDFException":te=new _util.MissingPDFException(l.message);break;case"UnexpectedResponseException":te=new _util.UnexpectedResponseException(l.message,l.status);break;case"UnknownErrorException":te=new _util.UnknownErrorException(l.message,l.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}R._capability.reject(te)}),I.on("PasswordRequest",l=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),R.onPassword){const te=O=>{O instanceof Error?this._passwordCapability.reject(O):this._passwordCapability.resolve({password:O})};try{R.onPassword(te,l.code)}catch(O){this._passwordCapability.reject(O)}}else this._passwordCapability.reject(new _util.PasswordException(l.message,l.code));return this._passwordCapability.promise}),I.on("DataLoaded",l=>{R.onProgress?.({loaded:l.length,total:l.length}),this.downloadInfoCapability.resolve(l)}),I.on("StartRenderPage",l=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(l.pageIndex)._startRenderPage(l.transparency,l.cacheKey)}),I.on("commonobj",([l,te,O])=>{if(!this.destroyed&&!this.commonObjs.has(l))switch(te){case"Font":const pe=this._params;if("error"in O){const U=O.error;(0,_util.warn)(`Error during font loading: ${U}`),this.commonObjs.resolve(l,U);break}let ie=null;pe.pdfBug&&globalThis.FontInspector?.enabled&&(ie={registerFont(U,ce){globalThis.FontInspector.fontAdded(U,ce)}});const re=new _font_loader.FontFaceObject(O,{isEvalSupported:pe.isEvalSupported,disableFontFace:pe.disableFontFace,ignoreErrors:pe.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:ie});this.fontLoader.bind(re).catch(U=>I.sendWithPromise("FontFallback",{id:l})).finally(()=>{!pe.fontExtraProperties&&re.data&&(re.data=null),this.commonObjs.resolve(l,re)});break;case"FontPath":case"Image":this.commonObjs.resolve(l,O);break;default:throw new Error(`Got unknown common object type ${te}`)}}),I.on("obj",([l,te,O,pe])=>{if(this.destroyed)return;const ie=_classPrivateFieldGet(this,_pageCache).get(te);if(!ie.objs.has(l))switch(O){case"Image":ie.objs.resolve(l,pe);const re=8e6;if(pe){let U;if(pe.bitmap){const{bitmap:ce,width:he,height:ee}=pe;U=he*ee*4,ie._bitmaps.add(ce)}else U=pe.data?.length||0;U>re&&(ie.cleanupAfterRender=!0)}break;case"Pattern":ie.objs.resolve(l,pe);break;default:throw new Error(`Got unknown object type ${O}`)}}),I.on("DocProgress",l=>{this.destroyed||R.onProgress?.({loaded:l.loaded,total:l.total})}),I.on("DocStats",l=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(l.streamTypes),fontTypes:Object.freeze(l.fontTypes)}))}),I.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),I.on("FetchBuiltInCMap",l=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(l):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),I.on("FetchStandardFontData",l=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(l):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:I}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(I)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(I){if(!Number.isInteger(I)||I<=0||I>this._numPages)return Promise.reject(new Error("Invalid page request."));const R=I-1,l=_classPrivateFieldGet(this,_pagePromises).get(R);if(l)return l;const te=this.messageHandler.sendWithPromise("GetPage",{pageIndex:R}).then(O=>{if(this.destroyed)throw new Error("Transport destroyed");const pe=new PDFPageProxy(R,O,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(R,pe),pe});return _classPrivateFieldGet(this,_pagePromises).set(R,te),te}getPageIndex(I){return"object"!=typeof I||null===I||!Number.isInteger(I.num)||I.num<0||!Number.isInteger(I.gen)||I.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:I.num,gen:I.gen})}getAnnotations(I,R){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:I,intent:R})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(I){return"string"!=typeof I?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:I})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(I){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:I})}getStructTree(I){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:I})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(I=>new _optional_content_config.OptionalContentConfig(I))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(I=>({info:I[0],metadata:I[1]?new _metadata.Metadata(I[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(I=!1){var R=this;return _asyncToGenerator(function*(){if(yield R.messageHandler.sendWithPromise("Cleanup",null),!R.destroyed){for(const l of _classPrivateFieldGet(R,_pageCache).values())if(!l.cleanup())throw new Error(`startCleanup: Page ${l.pageNumber} is currently rendering.`);R.commonObjs.clear(),I||R.fontLoader.clear(),_classPrivateFieldSet(R,_metadataPromise,null),R._getFieldObjectsPromise=null,R._hasJSActionsPromise=null}})()}get loadingParams(){const I=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:I.disableAutoFetch,enableXfa:I.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(I,R=null){if(R){const te=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,I);return te.capability.promise.then(()=>R(te.data)),null}const l=_classPrivateFieldGet(this,_objs)[I];if(!l?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${I}.`);return l.data}has(I){return _classPrivateFieldGet(this,_objs)[I]?.capability.settled||!1}resolve(I,R=null){const l=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,I);l.data=R,l.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(xe){return _classPrivateFieldGet(this,_objs)[xe]||(_classPrivateFieldGet(this,_objs)[xe]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(I){this._internalRenderTask=I,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:I,params:R,objs:l,commonObjs:te,annotationCanvasMap:O,operatorList:pe,pageIndex:ie,canvasFactory:re,useRequestAnimationFrame:U=!1,pdfBug:ce=!1,pageColors:he=null}){this.callback=I,this.params=R,this.objs=l,this.commonObjs=te,this.annotationCanvasMap=O,this.operatorListIdx=null,this.operatorList=pe,this._pageIndex=ie,this.canvasFactory=re,this._pdfBug=ce,this.pageColors=he,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===U&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=R.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:I=!1,optionalContentConfig:R}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:l,viewport:te,transform:O,imageLayer:pe,background:ie}=this.params;this.gfx=new _canvas.CanvasGraphics(l,this.commonObjs,this.objs,this.canvasFactory,pe,R,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:O,viewport:te,transparency:I,background:ie}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(I=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(I||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var I=this;return _asyncToGenerator(function*(){I.cancelled||(I.operatorListIdx=I.gfx.executeOperatorList(I.operatorList,I.operatorListIdx,I._continueBound,I.stepper),I.operatorListIdx===I.operatorList.argsArray.length&&(I.running=!1,I.operatorList.lastChunk&&(I.gfx.endDrawing(),I._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(I._canvas),I.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.StatTimer=I.RenderingCancelledException=I.PixelsPerInch=I.PageViewport=I.PDFDateString=I.DOMStandardFontDataFactory=I.DOMSVGFactory=I.DOMCanvasFactory=I.DOMCMapReaderFactory=void 0,I.deprecated=function S(J){console.log("Deprecated API usage: "+J)},I.getFilenameFromUrl=function W(J){const j=J.indexOf("#"),D=J.indexOf("?"),oe=Math.min(j>0?j:J.length,D>0?D:J.length);return J.substring(J.lastIndexOf("/",oe)+1,oe)},I.getPdfFilenameFromUrl=function fe(J,j="document.pdf"){if("string"!=typeof J)return j;if(z(J))return(0,te.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),j;const oe=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,$=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(J);let le=oe.exec($[1])||oe.exec($[2])||oe.exec($[3]);if(le&&(le=le[0],le.includes("%")))try{le=oe.exec(decodeURIComponent(le))[0]}catch{}return le||j},I.getXfaPageViewport=function N(J,{scale:j=1,rotation:D=0}){const{width:oe,height:$}=J.attributes.style,le=[0,0,parseInt(oe),parseInt($)];return new K({viewBox:le,scale:j,rotation:D})},I.isDataScheme=z,I.isPdfFile=function ae(J){return"string"==typeof J&&/\.pdf$/i.test(J)},I.isValidFetchUrl=Y,I.loadScript=function A(J,j=!1){return new Promise((D,oe)=>{const $=document.createElement("script");$.src=J,$.onload=function(le){j&&$.remove(),D(le)},$.onerror=function(){oe(new Error(`Cannot load script at: ${$.src}`))},(document.head||document.documentElement).appendChild($)})};var l=R(6),te=R(1);class pe{}function re(J){return U.apply(this,arguments)}function U(){return(U=_asyncToGenerator(function*(J,j=!1){if(Y(J,document.baseURI)){const D=yield fetch(J);if(!D.ok)throw new Error(D.statusText);return j?new Uint8Array(yield D.arrayBuffer()):(0,te.stringToBytes)(yield D.text())}return new Promise((D,oe)=>{const $=new XMLHttpRequest;$.open("GET",J,!0),j&&($.responseType="arraybuffer"),$.onreadystatechange=()=>{if($.readyState===XMLHttpRequest.DONE){if(200===$.status||0===$.status){let le;if(j&&$.response?le=new Uint8Array($.response):!j&&$.responseText&&(le=(0,te.stringToBytes)($.responseText)),le)return void D(le)}oe(new Error($.statusText))}},$.send(null)})})).apply(this,arguments)}_defineProperty(pe,"CSS",96),_defineProperty(pe,"PDF",72),_defineProperty(pe,"PDF_TO_CSS_UNITS",pe.CSS/pe.PDF),I.PixelsPerInch=pe,I.DOMCanvasFactory=class ie extends l.BaseCanvasFactory{constructor({ownerDocument:j=globalThis.document}={}){super(),this._document=j}_createCanvas(j,D){const oe=this._document.createElement("canvas");return oe.width=j,oe.height=D,oe}},I.DOMCMapReaderFactory=class ce extends l.BaseCMapReaderFactory{_fetchData(j,D){return re(j,this.isCompressed).then(oe=>({cMapData:oe,compressionType:D}))}},I.DOMStandardFontDataFactory=class he extends l.BaseStandardFontDataFactory{_fetchData(j){return re(j,!0)}},I.DOMSVGFactory=class ee extends l.BaseSVGFactory{_createSVG(j){return document.createElementNS("http://www.w3.org/2000/svg",j)}};class K{constructor({viewBox:j,scale:D,rotation:oe,offsetX:$=0,offsetY:le=0,dontFlip:ge=!1}){this.viewBox=j,this.scale=D,this.rotation=oe,this.offsetX=$,this.offsetY=le;const ye=(j[2]+j[0])/2,ke=(j[3]+j[1])/2;let Ne,Qe,it,ve,x,b,M,L;switch((oe%=360)<0&&(oe+=360),oe){case 180:Ne=-1,Qe=0,it=0,ve=1;break;case 90:Ne=0,Qe=1,it=1,ve=0;break;case 270:Ne=0,Qe=-1,it=-1,ve=0;break;case 0:Ne=1,Qe=0,it=0,ve=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}ge&&(it=-it,ve=-ve),0===Ne?(x=Math.abs(ke-j[1])*D+$,b=Math.abs(ye-j[0])*D+le,M=Math.abs(j[3]-j[1])*D,L=Math.abs(j[2]-j[0])*D):(x=Math.abs(ye-j[0])*D+$,b=Math.abs(ke-j[1])*D+le,M=Math.abs(j[2]-j[0])*D,L=Math.abs(j[3]-j[1])*D),this.transform=[Ne*D,Qe*D,it*D,ve*D,x-Ne*D*ye-it*D*ke,b-Qe*D*ye-ve*D*ke],this.width=M,this.height=L}clone({scale:j=this.scale,rotation:D=this.rotation,offsetX:oe=this.offsetX,offsetY:$=this.offsetY,dontFlip:le=!1}={}){return new K({viewBox:this.viewBox.slice(),scale:j,rotation:D,offsetX:oe,offsetY:$,dontFlip:le})}convertToViewportPoint(j,D){return te.Util.applyTransform([j,D],this.transform)}convertToViewportRectangle(j){const D=te.Util.applyTransform([j[0],j[1]],this.transform),oe=te.Util.applyTransform([j[2],j[3]],this.transform);return[D[0],D[1],oe[0],oe[1]]}convertToPdfPoint(j,D){return te.Util.applyInverseTransform([j,D],this.transform)}}function z(J){const j=J.length;let D=0;for(;D<j&&""===J[D].trim();)D++;return"data:"===J.substring(D,D+5).toLowerCase()}function Y(J,j){try{const{protocol:D}=j?new URL(J,j):new URL(J);return"http:"===D||"https:"===D}catch{return!1}}let F;I.PageViewport=K,I.RenderingCancelledException=class se extends te.BaseException{constructor(j,D){super(j,"RenderingCancelledException"),this.type=D}},I.StatTimer=class G{constructor(){this.started=Object.create(null),this.times=[]}time(j){j in this.started&&(0,te.warn)(`Timer is already running for ${j}`),this.started[j]=Date.now()}timeEnd(j){j in this.started||(0,te.warn)(`Timer has not been started for ${j}`),this.times.push({name:j,start:this.started[j],end:Date.now()}),delete this.started[j]}toString(){const j=[];let D=0;for(const oe of this.times){const $=oe.name;$.length>D&&(D=$.length)}for(const oe of this.times){const $=oe.end-oe.start;j.push(`${oe.name.padEnd(D)} ${$}ms\n`)}return j.join("")}},I.PDFDateString=class Q{static toDateObject(j){if(!j||"string"!=typeof j)return null;F||(F=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const D=F.exec(j);if(!D)return null;const oe=parseInt(D[1],10);let $=parseInt(D[2],10);$=$>=1&&$<=12?$-1:0;let le=parseInt(D[3],10);le=le>=1&&le<=31?le:1;let ge=parseInt(D[4],10);ge=ge>=0&&ge<=23?ge:0;let ye=parseInt(D[5],10);ye=ye>=0&&ye<=59?ye:0;let ke=parseInt(D[6],10);ke=ke>=0&&ke<=59?ke:0;const Ne=D[7]||"Z";let Qe=parseInt(D[8],10);Qe=Qe>=0&&Qe<=23?Qe:0;let it=parseInt(D[9],10)||0;return it=it>=0&&it<=59?it:0,"-"===Ne?(ge+=Qe,ye+=it):"+"===Ne&&(ge-=Qe,ye-=it),new Date(Date.UTC(oe,$,le,ge,ye,ke))}}},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.BaseStandardFontDataFactory=I.BaseSVGFactory=I.BaseCanvasFactory=I.BaseCMapReaderFactory=void 0;var l=R(1);class te{constructor(){this.constructor===te&&(0,l.unreachable)("Cannot initialize BaseCanvasFactory.")}create(U,ce){if(U<=0||ce<=0)throw new Error("Invalid canvas size");const he=this._createCanvas(U,ce);return{canvas:he,context:he.getContext("2d")}}reset(U,ce,he){if(!U.canvas)throw new Error("Canvas is not specified");if(ce<=0||he<=0)throw new Error("Invalid canvas size");U.canvas.width=ce,U.canvas.height=he}destroy(U){if(!U.canvas)throw new Error("Canvas is not specified");U.canvas.width=0,U.canvas.height=0,U.canvas=null,U.context=null}_createCanvas(U,ce){(0,l.unreachable)("Abstract method `_createCanvas` called.")}}I.BaseCanvasFactory=te;class O{constructor({baseUrl:U=null,isCompressed:ce=!1}){this.constructor===O&&(0,l.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=U,this.isCompressed=ce}fetch({name:U}){var ce=this;return _asyncToGenerator(function*(){if(!ce.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!U)throw new Error("CMap name must be specified.");const he=ce.baseUrl+U+(ce.isCompressed?".bcmap":"");return ce._fetchData(he,ce.isCompressed?l.CMapCompressionType.BINARY:l.CMapCompressionType.NONE).catch(K=>{throw new Error(`Unable to load ${ce.isCompressed?"binary ":""}CMap at: ${he}`)})})()}_fetchData(U,ce){(0,l.unreachable)("Abstract method `_fetchData` called.")}}I.BaseCMapReaderFactory=O;class pe{constructor({baseUrl:U=null}){this.constructor===pe&&(0,l.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=U}fetch({filename:U}){var ce=this;return _asyncToGenerator(function*(){if(!ce.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!U)throw new Error("Font filename must be specified.");const he=`${ce.baseUrl}${U}`;return ce._fetchData(he).catch(ee=>{throw new Error(`Unable to load font data at: ${he}`)})})()}_fetchData(U){(0,l.unreachable)("Abstract method `_fetchData` called.")}}I.BaseStandardFontDataFactory=pe;class ie{constructor(){this.constructor===ie&&(0,l.unreachable)("Cannot initialize BaseSVGFactory.")}create(U,ce){if(U<=0||ce<=0)throw new Error("Invalid SVG dimensions");const he=this._createSVG("svg:svg");return he.setAttribute("version","1.1"),he.setAttribute("width",`${U}px`),he.setAttribute("height",`${ce}px`),he.setAttribute("preserveAspectRatio","none"),he.setAttribute("viewBox",`0 0 ${U} ${ce}`),he}createElement(U){if("string"!=typeof U)throw new Error("Invalid SVG element type");return this._createSVG(U)}_createSVG(U){(0,l.unreachable)("Abstract method `_createSVG` called.")}}I.BaseSVGFactory=ie},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.FontLoader=I.FontFaceObject=void 0;var l=R(1);class te{constructor({docId:re,onUnsupportedFeature:U,ownerDocument:ce=globalThis.document,styleElement:he=null}){this.constructor===te&&(0,l.unreachable)("Cannot initialize BaseFontLoader."),this.docId=re,this._onUnsupportedFeature=U,this._document=ce,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(re){this.nativeFontFaces.push(re),this._document.fonts.add(re)}insertRule(re){let U=this.styleElement;U||(U=this.styleElement=this._document.createElement("style"),U.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(U));const ce=U.sheet;ce.insertRule(re,ce.cssRules.length)}clear(){for(const re of this.nativeFontFaces)this._document.fonts.delete(re);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(re){var U=this;return _asyncToGenerator(function*(){if(re.attached||re.missingFile)return;if(re.attached=!0,U.isFontLoadingAPISupported){const he=re.createNativeFontFace();if(he){U.addNativeFontFace(he);try{yield he.loaded}catch(ee){throw U._onUnsupportedFeature({featureId:l.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,l.warn)(`Failed to load font '${he.family}': '${ee}'.`),re.disableFontFace=!0,ee}}return}const ce=re.createFontFaceRule();if(ce){if(U.insertRule(ce),U.isSyncFontLoadingSupported)return;yield new Promise(he=>{const ee=U._queueLoadingCallback(he);U._prepareFontLoadEvent([ce],[re],ee)})}})()}_queueLoadingCallback(re){(0,l.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,l.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,l.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,l.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(re,U,ce){(0,l.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let O;I.FontLoader=O,I.FontLoader=O=class extends te{constructor(re){super(re),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let re=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(re=!0),(0,l.shadow)(this,"isSyncFontLoadingSupported",re)}_queueLoadingCallback(re){const ce=this.loadingContext,he={id:"pdfjs-font-loading-"+ce.nextRequestId++,done:!1,complete:function U(){for((0,l.assert)(!he.done,"completeRequest() cannot be called twice."),he.done=!0;ce.requests.length>0&&ce.requests[0].done;){const ee=ce.requests.shift();setTimeout(ee.callback,0)}},callback:re};return ce.requests.push(he),he}get _loadTestFont(){return(0,l.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(re,U,ce){function he(oe,$){return oe.charCodeAt($)<<24|oe.charCodeAt($+1)<<16|oe.charCodeAt($+2)<<8|255&oe.charCodeAt($+3)}function ee(oe,$,le,ge){return oe.substring(0,$)+ge+oe.substring($+le)}let K,se;const z=this._document.createElement("canvas");z.width=1,z.height=1;const ae=z.getContext("2d");let W=0;const G=`lt${Date.now()}${this.loadTestFontId++}`;let Y=this._loadTestFont;Y=ee(Y,976,G.length,G);const F=1482184792;let Q=he(Y,16);for(K=0,se=G.length-3;K<se;K+=4)Q=Q-F+he(G,K)|0;K<G.length&&(Q=Q-F+he(G+"XXX",K)|0),Y=ee(Y,16,4,(0,l.string32)(Q));const N=`url(data:font/opentype;base64,${btoa(Y)});`;this.insertRule(`@font-face {font-family:"${G}";src:${N}}`);const j=[];for(const oe of U)j.push(oe.loadedName);j.push(G);const D=this._document.createElement("div");D.style.visibility="hidden",D.style.width=D.style.height="10px",D.style.position="absolute",D.style.top=D.style.left="0px";for(const oe of j){const $=this._document.createElement("span");$.textContent="Hi",$.style.fontFamily=oe,D.appendChild($)}this._document.body.appendChild(D),function fe(oe,$){if(W++,W>30)return(0,l.warn)("Load test font never loaded."),void $();ae.font="30px "+oe,ae.fillText(".",0,20),ae.getImageData(0,0,1,1).data[3]>0?$():setTimeout(fe.bind(null,oe,$))}(G,()=>{D.remove(),ce.complete()})}},I.FontFaceObject=class pe{constructor(re,{isEvalSupported:U=!0,disableFontFace:ce=!1,ignoreErrors:he=!1,onUnsupportedFeature:ee,fontRegistry:K=null}){this.compiledGlyphs=Object.create(null);for(const se in re)this[se]=re[se];this.isEvalSupported=!1!==U,this.disableFontFace=!0===ce,this.ignoreErrors=!0===he,this._onUnsupportedFeature=ee,this.fontRegistry=K}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let re;if(this.cssFontInfo){const U={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(U.style=`oblique ${this.cssFontInfo.italicAngle}deg`),re=new FontFace(this.cssFontInfo.fontFamily,this.data,U)}else re=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),re}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const re=(0,l.bytesToString)(this.data),U=`url(data:${this.mimetype};base64,${btoa(re)});`;let ce;if(this.cssFontInfo){let he=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(he+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ce=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${he}src:${U}}`}else ce=`@font-face {font-family:"${this.loadedName}";src:${U}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,U),ce}getPathGenerator(re,U){if(void 0!==this.compiledGlyphs[U])return this.compiledGlyphs[U];let ce;try{ce=re.get(this.loadedName+"_path_"+U)}catch(he){if(!this.ignoreErrors)throw he;return this._onUnsupportedFeature({featureId:l.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,l.warn)(`getPathGenerator - ignoring character: "${he}".`),this.compiledGlyphs[U]=function(ee,K){}}if(this.isEvalSupported&&l.FeatureTest.isEvalSupported){const he=[];for(const ee of ce){const K=void 0!==ee.args?ee.args.join(","):"";he.push("c.",ee.cmd,"(",K,");\n")}return this.compiledGlyphs[U]=new Function("c","size",he.join(""))}return this.compiledGlyphs[U]=function(he,ee){for(const K of ce)"scale"===K.cmd&&(K.args=[ee,-ee]),he[K.cmd].apply(he,K.args)}}}},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.AnnotationStorage=void 0;var l=R(9),te=R(1);I.AnnotationStorage=class O{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ie,re){const U=this._storage.get(ie);return void 0===U?re:Object.assign(re,U)}getRawValue(ie){return this._storage.get(ie)}setValue(ie,re){const U=this._storage.get(ie);let ce=!1;if(void 0!==U)for(const[he,ee]of Object.entries(re))U[he]!==ee&&(ce=!0,U[he]=ee);else ce=!0,this._storage.set(ie,re);ce&&this._setModified()}getAll(){return this._storage.size>0?(0,te.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const ie=new l.MurmurHash3_64;for(const[re,U]of this._storage)ie.update(`${re}:${JSON.stringify(U)}`);return ie.hexdigest()}}},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.MurmurHash3_64=void 0;var l=R(1);const te=3285377520,O=4294901760,pe=65535;I.MurmurHash3_64=class ie{constructor(U){this.h1=U?4294967295&U:te,this.h2=U?4294967295&U:te}update(U){let ce,he;if("string"==typeof U){ce=new Uint8Array(2*U.length),he=0;for(let F=0,Q=U.length;F<Q;F++){const N=U.charCodeAt(F);N<=255?ce[he++]=N:(ce[he++]=N>>>8,ce[he++]=255&N)}}else{if(!(0,l.isArrayBuffer)(U))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");ce=U.slice(),he=ce.byteLength}const ee=he>>2,K=he-4*ee,se=new Uint32Array(ce.buffer,0,ee);let z=0,ae=0,W=this.h1,fe=this.h2;const G=3432918353,Y=461845907,A=G&pe,S=Y&pe;for(let F=0;F<ee;F++)1&F?(z=se[F],z=z*G&O|z*A&pe,z=z<<15|z>>>17,z=z*Y&O|z*S&pe,W^=z,W=W<<13|W>>>19,W=5*W+3864292196):(ae=se[F],ae=ae*G&O|ae*A&pe,ae=ae<<15|ae>>>17,ae=ae*Y&O|ae*S&pe,fe^=ae,fe=fe<<13|fe>>>19,fe=5*fe+3864292196);switch(z=0,K){case 3:z^=ce[4*ee+2]<<16;case 2:z^=ce[4*ee+1]<<8;case 1:z^=ce[4*ee],z=z*G&O|z*A&pe,z=z<<15|z>>>17,z=z*Y&O|z*S&pe,1&ee?W^=z:fe^=z}this.h1=W,this.h2=fe}hexdigest(){let U=this.h1,ce=this.h2;U^=ce>>>1,U=3981806797*U&O|36045*U&pe,ce=4283543511*ce&O|(2950163797*(ce<<16|U>>>16)&O)>>>16,U^=ce>>>1,U=444984403*U&O|60499*U&pe,ce=3301882366*ce&O|(3120437893*(ce<<16|U>>>16)&O)>>>16,U^=ce>>>1;const he=(U>>>0).toString(16),ee=(ce>>>0).toString(16);return he.padStart(8,"0")+ee.padStart(8,"0")}}},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.CanvasGraphics=void 0;var l=R(1),te=R(11),O=R(12),pe=R(3),ie=R(5);const ce=4096,z=16;function fe(ve){if(ve._transformStack&&(ve._transformStack=[]),!ve.mozCurrentTransform){ve._originalSave=ve.save,ve._originalRestore=ve.restore,ve._originalRotate=ve.rotate,ve._originalScale=ve.scale,ve._originalTranslate=ve.translate,ve._originalTransform=ve.transform,ve._originalSetTransform=ve.setTransform,ve._originalResetTransform=ve.resetTransform,ve._transformMatrix=ve._transformMatrix||[1,0,0,1,0,0],ve._transformStack=[];try{const x=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ve),"lineWidth");ve._setLineWidth=x.set,ve._getLineWidth=x.get,Object.defineProperty(ve,"lineWidth",{set:function(M){this._setLineWidth(1.000001*M)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(ve,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(ve,"mozCurrentTransformInverse",{get:function(){const[b,M,L,X,ne,B]=this._transformMatrix,be=b*X-M*L,je=M*L-b*X;return[X/be,M/je,L/je,b/be,(X*ne-L*B)/je,(M*ne-b*B)/be]}}),ve.save=function(){const b=this._transformMatrix;this._transformStack.push(b),this._transformMatrix=b.slice(0,6),this._originalSave()},ve.restore=function(){0===this._transformStack.length&&(0,l.warn)("Tried to restore a ctx when the stack was already empty.");const b=this._transformStack.pop();b&&(this._transformMatrix=b,this._originalRestore())},ve.translate=function(b,M){const L=this._transformMatrix;L[4]=L[0]*b+L[2]*M+L[4],L[5]=L[1]*b+L[3]*M+L[5],this._originalTranslate(b,M)},ve.scale=function(b,M){const L=this._transformMatrix;L[0]*=b,L[1]*=b,L[2]*=M,L[3]*=M,this._originalScale(b,M)},ve.transform=function(b,M,L,X,ne,B){const be=this._transformMatrix;this._transformMatrix=[be[0]*b+be[2]*M,be[1]*b+be[3]*M,be[0]*L+be[2]*X,be[1]*L+be[3]*X,be[0]*ne+be[2]*B+be[4],be[1]*ne+be[3]*B+be[5]],ve._originalTransform(b,M,L,X,ne,B)},ve.setTransform=function(b,M,L,X,ne,B){this._transformMatrix=[b,M,L,X,ne,B],ve._originalSetTransform(b,M,L,X,ne,B)},ve.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],ve._originalResetTransform()},ve.rotate=function(b){const M=Math.cos(b),L=Math.sin(b),X=this._transformMatrix;this._transformMatrix=[X[0]*M+X[2]*L,X[1]*M+X[3]*L,X[0]*-L+X[2]*M,X[1]*-L+X[3]*M,X[4],X[5]],this._originalRotate(b)}}}class G{constructor(x){this.canvasFactory=x,this.cache=Object.create(null)}getCanvas(x,b,M,L){let X;return void 0!==this.cache[x]?(X=this.cache[x],this.canvasFactory.reset(X,b,M),X.context.setTransform(1,0,0,1,0,0)):(X=this.canvasFactory.create(b,M),this.cache[x]=X),L&&fe(X.context),X}delete(x){delete this.cache[x]}clear(){for(const x in this.cache)this.canvasFactory.destroy(this.cache[x]),delete this.cache[x]}}function Y(ve,x,b,M,L,X,ne,B,be,je){const[Me,Ue,Be,Ke,Xe,mt]=ve.mozCurrentTransform;if(0===Ue&&0===Be){const ct=Math.round(ne*Me+Xe),Ot=Math.round(B*Ke+mt),nt=Math.abs(Math.round((ne+be)*Me+Xe)-ct)||1,xt=Math.abs(Math.round((B+je)*Ke+mt)-Ot)||1;return ve.setTransform(Math.sign(Me),0,0,Math.sign(Ke),ct,Ot),ve.drawImage(x,b,M,L,X,0,0,nt,xt),ve.setTransform(Me,Ue,Be,Ke,Xe,mt),[nt,xt]}if(0===Me&&0===Ke){const ct=Math.round(B*Be+Xe),Ot=Math.round(ne*Ue+mt),nt=Math.abs(Math.round((B+je)*Be+Xe)-ct)||1,xt=Math.abs(Math.round((ne+be)*Ue+mt)-Ot)||1;return ve.setTransform(0,Math.sign(Ue),Math.sign(Be),0,ct,Ot),ve.drawImage(x,b,M,L,X,0,0,xt,nt),ve.setTransform(Me,Ue,Be,Ke,Xe,mt),[xt,nt]}return ve.drawImage(x,b,M,L,X,ne,B,be,je),[Math.hypot(Me,Ue)*be,Math.hypot(Be,Ke)*je]}class S{constructor(x,b){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=l.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=l.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=l.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,x,b])}clone(){const x=Object.create(this);return x.clipBox=this.clipBox.slice(),x}setCurrentPoint(x,b){this.x=x,this.y=b}updatePathMinMax(x,b,M){[b,M]=l.Util.applyTransform([b,M],x),this.minX=Math.min(this.minX,b),this.minY=Math.min(this.minY,M),this.maxX=Math.max(this.maxX,b),this.maxY=Math.max(this.maxY,M)}updateRectMinMax(x,b){const M=l.Util.applyTransform(b,x),L=l.Util.applyTransform(b.slice(2),x);this.minX=Math.min(this.minX,M[0],L[0]),this.minY=Math.min(this.minY,M[1],L[1]),this.maxX=Math.max(this.maxX,M[0],L[0]),this.maxY=Math.max(this.maxY,M[1],L[1])}updateScalingPathMinMax(x,b){l.Util.scaleMinMax(x,b),this.minX=Math.min(this.minX,b[0]),this.maxX=Math.max(this.maxX,b[1]),this.minY=Math.min(this.minY,b[2]),this.maxY=Math.max(this.maxY,b[3])}updateCurvePathMinMax(x,b,M,L,X,ne,B,be,je,Me){const Ue=l.Util.bezierBoundingBox(b,M,L,X,ne,B,be,je);if(Me)return Me[0]=Math.min(Me[0],Ue[0],Ue[2]),Me[1]=Math.max(Me[1],Ue[0],Ue[2]),Me[2]=Math.min(Me[2],Ue[1],Ue[3]),void(Me[3]=Math.max(Me[3],Ue[1],Ue[3]));this.updateRectMinMax(x,Ue)}getPathBoundingBox(x=te.PathType.FILL,b=null){const M=[this.minX,this.minY,this.maxX,this.maxY];if(x===te.PathType.STROKE){b||(0,l.unreachable)("Stroke bounding box must include transform.");const L=l.Util.singularValueDecompose2dScale(b),X=L[0]*this.lineWidth/2,ne=L[1]*this.lineWidth/2;M[0]-=X,M[1]-=ne,M[2]+=X,M[3]+=ne}return M}updateClipFromPath(){const x=l.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(x||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(x){this.clipBox=x,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(x=te.PathType.FILL,b=null){return l.Util.intersect(this.clipBox,this.getPathBoundingBox(x,b))}}function F(ve,x,b=null){if(typeof ImageData<"u"&&x instanceof ImageData)return void ve.putImageData(x,0,0);const M=x.height,L=x.width,X=M%z,ne=(M-X)/z,B=0===X?ne:ne+1,be=ve.createImageData(L,z);let Me,je=0;const Ue=x.data,Be=be.data;let Ke,Xe,mt,Dt,at,_t,ct,Rt;if(b)switch(b.length){case 1:at=b[0],_t=b[0],ct=b[0],Rt=b[0];break;case 4:at=b[0],_t=b[1],ct=b[2],Rt=b[3]}if(x.kind===l.ImageKind.GRAYSCALE_1BPP){const Ot=Ue.byteLength,St=new Uint32Array(Be.buffer,0,Be.byteLength>>2),nt=St.length,dt=L+7>>3;let xt=4294967295,Ze=l.FeatureTest.isLittleEndian?4278190080:255;for(Rt&&255===Rt[0]&&0===Rt[255]&&([xt,Ze]=[Ze,xt]),Ke=0;Ke<B;Ke++){for(mt=Ke<ne?z:X,Me=0,Xe=0;Xe<mt;Xe++){const me=Ot-je;let Ie=0;const ft=me>dt?L:8*me-7,wt=-8&ft;let Le=0,we=0;for(;Ie<wt;Ie+=8)we=Ue[je++],St[Me++]=128&we?xt:Ze,St[Me++]=64&we?xt:Ze,St[Me++]=32&we?xt:Ze,St[Me++]=16&we?xt:Ze,St[Me++]=8&we?xt:Ze,St[Me++]=4&we?xt:Ze,St[Me++]=2&we?xt:Ze,St[Me++]=1&we?xt:Ze;for(;Ie<ft;Ie++)0===Le&&(we=Ue[je++],Le=128),St[Me++]=we&Le?xt:Ze,Le>>=1}for(;Me<nt;)St[Me++]=0;ve.putImageData(be,0,Ke*z)}}else if(x.kind===l.ImageKind.RGBA_32BPP){const Ot=!!(at||_t||ct);for(Xe=0,Dt=L*z*4,Ke=0;Ke<ne;Ke++){if(Be.set(Ue.subarray(je,je+Dt)),je+=Dt,Ot)for(let St=0;St<Dt;St+=4)at&&(Be[St+0]=at[Be[St+0]]),_t&&(Be[St+1]=_t[Be[St+1]]),ct&&(Be[St+2]=ct[Be[St+2]]);ve.putImageData(be,0,Xe),Xe+=z}if(Ke<B){if(Dt=L*X*4,Be.set(Ue.subarray(je,je+Dt)),Ot)for(let St=0;St<Dt;St+=4)at&&(Be[St+0]=at[Be[St+0]]),_t&&(Be[St+1]=_t[Be[St+1]]),ct&&(Be[St+2]=ct[Be[St+2]]);ve.putImageData(be,0,Xe)}}else{if(x.kind!==l.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${x.kind}`);{const Ot=!!(at||_t||ct);for(mt=z,Dt=L*mt,Ke=0;Ke<B;Ke++){for(Ke>=ne&&(mt=X,Dt=L*mt),Me=0,Xe=Dt;Xe--;)Be[Me++]=Ue[je++],Be[Me++]=Ue[je++],Be[Me++]=Ue[je++],Be[Me++]=255;if(Ot)for(let St=0;St<Me;St+=4)at&&(Be[St+0]=at[Be[St+0]]),_t&&(Be[St+1]=_t[Be[St+1]]),ct&&(Be[St+2]=ct[Be[St+2]]);ve.putImageData(be,0,Ke*z)}}}}function Q(ve,x){if(x.bitmap)return void ve.drawImage(x.bitmap,0,0);const b=x.height,M=x.width,L=b%z,X=(b-L)/z,ne=0===L?X:X+1,B=ve.createImageData(M,z);let be=0;const je=x.data,Me=B.data;for(let Ue=0;Ue<ne;Ue++){const Be=Ue<X?z:L;({srcPos:be}=(0,O.applyMaskImageData)({src:je,srcPos:be,dest:Me,width:M,height:Be})),ve.putImageData(B,0,Ue*z)}}function N(ve,x){const b=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let M=0,L=b.length;M<L;M++){const X=b[M];void 0!==ve[X]&&(x[X]=ve[X])}void 0!==ve.setLineDash&&(x.setLineDash(ve.getLineDash()),x.lineDashOffset=ve.lineDashOffset)}function J(ve,x){ve.strokeStyle=ve.fillStyle=x||"#000000",ve.fillRule="nonzero",ve.globalAlpha=1,ve.lineWidth=1,ve.lineCap="butt",ve.lineJoin="miter",ve.miterLimit=10,ve.globalCompositeOperation="source-over",ve.font="10px sans-serif",void 0!==ve.setLineDash&&(ve.setLineDash([]),ve.lineDashOffset=0)}function j(ve,x,b,M){const L=ve.length;for(let X=3;X<L;X+=4){const ne=ve[X];if(0===ne)ve[X-3]=x,ve[X-2]=b,ve[X-1]=M;else if(ne<255){const B=255-ne;ve[X-3]=ve[X-3]*ne+x*B>>8,ve[X-2]=ve[X-2]*ne+b*B>>8,ve[X-1]=ve[X-1]*ne+M*B>>8}}}function D(ve,x,b){const M=ve.length;for(let X=3;X<M;X+=4)x[X]=x[X]*(b?b[ve[X]]:ve[X])*.00392156862745098|0}function oe(ve,x,b){const M=ve.length;for(let L=3;L<M;L+=4){const X=77*ve[L-3]+152*ve[L-2]+28*ve[L-1];x[L]=b?x[L]*b[X>>8]>>8:x[L]*X>>16}}function ge(ve,x){const b=l.Util.singularValueDecompose2dScale(ve);b[0]=Math.fround(b[0]),b[1]=Math.fround(b[1]);const M=Math.fround((globalThis.devicePixelRatio||1)*ie.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==x?x:b[0]<=M||b[1]<=M}const ye=["butt","round","square"],ke=["miter","round","bevel"],Ne={},Qe={};class it{constructor(x,b,M,L,X,ne,B,be){this.ctx=x,this.current=new S(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=b,this.objs=M,this.canvasFactory=L,this.imageLayer=X,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=ne,this.cachedCanvases=new G(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=B,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=be?.background||null,this.foregroundColor=be?.foreground||null,x&&fe(x),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(x,b=null){return"string"==typeof x?x.startsWith("g_")?this.commonObjs.get(x):this.objs.get(x):b}beginDrawing({transform:x,viewport:b,transparency:M=!1,background:L=null}){const X=this.ctx.canvas.width,ne=this.ctx.canvas.height,B=L||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const be=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const je=this.backgroundColor=this.ctx.fillStyle;let Me=!0,Ue=B;if(this.ctx.fillStyle=B,Ue=this.ctx.fillStyle,Me="string"==typeof Ue&&/^#[0-9A-Fa-f]{6}$/.test(Ue),"#000000"===be&&"#ffffff"===je||be===je||!Me)this.foregroundColor=this.backgroundColor=null;else{const Be=parseInt(Ue.slice(1),16),Xe=(Be&&65280)>>8,mt=Be&&255,Dt=_t=>(_t/=255)<=.03928?_t/12.92:((_t+.055)/1.055)**2.4,at=Math.round(.2126*Dt((Be&&16711680)>>16)+.7152*Dt(Xe)+.0722*Dt(mt));this.selectColor=(_t,ct,Rt)=>{const Ot=.2126*Dt(_t)+.7152*Dt(ct)+.0722*Dt(Rt);return Math.round(Ot)===at?je:be}}}if(this.ctx.fillStyle=this.backgroundColor||B,this.ctx.fillRect(0,0,X,ne),this.ctx.restore(),M){const be=this.cachedCanvases.getCanvas("transparent",X,ne,!0);this.compositeCtx=this.ctx,this.transparentCanvas=be.canvas,this.ctx=be.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),J(this.ctx,this.foregroundColor),x&&(this.ctx.transform.apply(this.ctx,x),this.outputScaleX=x[0],this.outputScaleY=x[0]),this.ctx.transform.apply(this.ctx,b.transform),this.viewportScale=b.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(x,b,M,L){const X=x.argsArray,ne=x.fnArray;let B=b||0;const be=X.length;if(be===B)return B;const je=be-B>10&&"function"==typeof M,Me=je?Date.now()+15:0;let Ue=0;const Be=this.commonObjs,Ke=this.objs;let Xe;for(;;){if(void 0!==L&&B===L.nextBreakPoint)return L.breakIt(B,M),B;if(Xe=ne[B],Xe!==l.OPS.dependency)this[Xe].apply(this,X[B]);else for(const mt of X[B]){const Dt=mt.startsWith("g_")?Be:Ke;if(!Dt.has(mt))return Dt.get(mt,M),B}if(B++,B===be)return B;if(je&&++Ue>10){if(Date.now()>Me)return M(),B;Ue=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const x of this._cachedBitmapsMap.values()){for(const b of x.values())typeof HTMLCanvasElement<"u"&&b instanceof HTMLCanvasElement&&(b.width=b.height=0);x.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(x,b){const M=x.width,L=x.height;let Me,Ue,X=Math.max(Math.hypot(b[0],b[1]),1),ne=Math.max(Math.hypot(b[2],b[3]),1),B=M,be=L,je="prescale1";for(;X>2&&B>1||ne>2&&be>1;){let Be=B,Ke=be;X>2&&B>1&&(Be=Math.ceil(B/2),X/=B/Be),ne>2&&be>1&&(Ke=Math.ceil(be/2),ne/=be/Ke),Me=this.cachedCanvases.getCanvas(je,Be,Ke,!1),Ue=Me.context,Ue.clearRect(0,0,Be,Ke),Ue.drawImage(x,0,0,B,be,0,0,Be,Ke),x=Me.canvas,B=Be,be=Ke,je="prescale1"===je?"prescale2":"prescale1"}return{img:x,paintWidth:B,paintHeight:be}}_createMaskCanvas(x){const b=this.ctx,{width:M,height:L}=x,X=this.current.fillColor,ne=this.current.patternFill,B=b.mozCurrentTransform;let be,je,Me,Ue;if((x.bitmap||x.data)&&x.count>1){const nt=x.bitmap||x.data.buffer,dt=B.slice(0,4);je=JSON.stringify(ne?dt:[dt,X]),be=this._cachedBitmapsMap.get(nt),be||(be=new Map,this._cachedBitmapsMap.set(nt,be));const xt=be.get(je);if(xt&&!ne)return{canvas:xt,offsetX:Math.round(Math.min(B[0],B[2])+B[4]),offsetY:Math.round(Math.min(B[1],B[3])+B[5])};Me=xt}Me||(Ue=this.cachedCanvases.getCanvas("maskCanvas",M,L,!1),Q(Ue.context,x));let Be=l.Util.transform(B,[1/M,0,0,-1/L,0,0]);Be=l.Util.transform(Be,[1,0,0,1,0,-L]);const Ke=l.Util.applyTransform([0,0],Be),Xe=l.Util.applyTransform([M,L],Be),mt=l.Util.normalizeRect([Ke[0],Ke[1],Xe[0],Xe[1]]),Dt=Math.round(mt[2]-mt[0])||1,at=Math.round(mt[3]-mt[1])||1,_t=this.cachedCanvases.getCanvas("fillCanvas",Dt,at,!0),ct=_t.context,Rt=Math.min(Ke[0],Xe[0]),Ot=Math.min(Ke[1],Xe[1]);ct.translate(-Rt,-Ot),ct.transform.apply(ct,Be),Me||(Me=this._scaleImage(Ue.canvas,ct.mozCurrentTransformInverse),Me=Me.img,be&&ne&&be.set(je,Me)),ct.imageSmoothingEnabled=ge(ct.mozCurrentTransform,x.interpolate),Y(ct,Me,0,0,Me.width,Me.height,0,0,M,L),ct.globalCompositeOperation="source-in";const St=l.Util.transform(ct.mozCurrentTransformInverse,[1,0,0,1,-Rt,-Ot]);return ct.fillStyle=ne?X.getPattern(b,this,St,te.PathType.FILL):X,ct.fillRect(0,0,M,L),be&&!ne&&(this.cachedCanvases.delete("fillCanvas"),be.set(je,_t.canvas)),{canvas:_t.canvas,offsetX:Math.round(Rt),offsetY:Math.round(Ot)}}setLineWidth(x){x!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=x,this.ctx.lineWidth=x}setLineCap(x){this.ctx.lineCap=ye[x]}setLineJoin(x){this.ctx.lineJoin=ke[x]}setMiterLimit(x){this.ctx.miterLimit=x}setDash(x,b){const M=this.ctx;void 0!==M.setLineDash&&(M.setLineDash(x),M.lineDashOffset=b)}setRenderingIntent(x){}setFlatness(x){}setGState(x){for(let b=0,M=x.length;b<M;b++){const L=x[b],ne=L[1];switch(L[0]){case"LW":this.setLineWidth(ne);break;case"LC":this.setLineCap(ne);break;case"LJ":this.setLineJoin(ne);break;case"ML":this.setMiterLimit(ne);break;case"D":this.setDash(ne[0],ne[1]);break;case"RI":this.setRenderingIntent(ne);break;case"FL":this.setFlatness(ne);break;case"Font":this.setFont(ne[0],ne[1]);break;case"CA":this.current.strokeAlpha=L[1];break;case"ca":this.current.fillAlpha=L[1],this.ctx.globalAlpha=L[1];break;case"BM":this.ctx.globalCompositeOperation=ne;break;case"SMask":this.current.activeSMask=ne?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=ne}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const x=this.inSMaskMode;this.current.activeSMask&&!x?this.beginSMaskMode():!this.current.activeSMask&&x&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const L=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=L.context;const X=this.ctx;X.setTransform.apply(X,this.suspendedCtx.mozCurrentTransform),N(this.suspendedCtx,X),function W(ve,x){if(ve._removeMirroring)throw new Error("Context is already forwarding operations.");ve.__originalSave=ve.save,ve.__originalRestore=ve.restore,ve.__originalRotate=ve.rotate,ve.__originalScale=ve.scale,ve.__originalTranslate=ve.translate,ve.__originalTransform=ve.transform,ve.__originalSetTransform=ve.setTransform,ve.__originalResetTransform=ve.resetTransform,ve.__originalClip=ve.clip,ve.__originalMoveTo=ve.moveTo,ve.__originalLineTo=ve.lineTo,ve.__originalBezierCurveTo=ve.bezierCurveTo,ve.__originalRect=ve.rect,ve.__originalClosePath=ve.closePath,ve.__originalBeginPath=ve.beginPath,ve._removeMirroring=()=>{ve.save=ve.__originalSave,ve.restore=ve.__originalRestore,ve.rotate=ve.__originalRotate,ve.scale=ve.__originalScale,ve.translate=ve.__originalTranslate,ve.transform=ve.__originalTransform,ve.setTransform=ve.__originalSetTransform,ve.resetTransform=ve.__originalResetTransform,ve.clip=ve.__originalClip,ve.moveTo=ve.__originalMoveTo,ve.lineTo=ve.__originalLineTo,ve.bezierCurveTo=ve.__originalBezierCurveTo,ve.rect=ve.__originalRect,ve.closePath=ve.__originalClosePath,ve.beginPath=ve.__originalBeginPath,delete ve._removeMirroring},ve.save=function(){x.save(),this.__originalSave()},ve.restore=function(){x.restore(),this.__originalRestore()},ve.translate=function(M,L){x.translate(M,L),this.__originalTranslate(M,L)},ve.scale=function(M,L){x.scale(M,L),this.__originalScale(M,L)},ve.transform=function(M,L,X,ne,B,be){x.transform(M,L,X,ne,B,be),this.__originalTransform(M,L,X,ne,B,be)},ve.setTransform=function(M,L,X,ne,B,be){x.setTransform(M,L,X,ne,B,be),this.__originalSetTransform(M,L,X,ne,B,be)},ve.resetTransform=function(){x.resetTransform(),this.__originalResetTransform()},ve.rotate=function(M){x.rotate(M),this.__originalRotate(M)},ve.clip=function(M){x.clip(M),this.__originalClip(M)},ve.moveTo=function(b,M){x.moveTo(b,M),this.__originalMoveTo(b,M)},ve.lineTo=function(b,M){x.lineTo(b,M),this.__originalLineTo(b,M)},ve.bezierCurveTo=function(b,M,L,X,ne,B){x.bezierCurveTo(b,M,L,X,ne,B),this.__originalBezierCurveTo(b,M,L,X,ne,B)},ve.rect=function(b,M,L,X){x.rect(b,M,L,X),this.__originalRect(b,M,L,X)},ve.closePath=function(){x.closePath(),this.__originalClosePath()},ve.beginPath=function(){x.beginPath(),this.__originalBeginPath()}}(X,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),N(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(x){this.current.activeSMask&&(x?(x[0]=Math.floor(x[0]),x[1]=Math.floor(x[1]),x[2]=Math.ceil(x[2]),x[3]=Math.ceil(x[3])):x=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function le(ve,x,b,M){const L=M[0],X=M[1],ne=M[2]-L,B=M[3]-X;0===ne||0===B||(function $(ve,x,b,M,L,X,ne,B,be,je,Me){const Ue=!!X,Be=Ue?X[0]:0,Ke=Ue?X[1]:0,Xe=Ue?X[2]:0;let mt;mt="Luminosity"===L?oe:D;const at=Math.min(M,Math.ceil(1048576/b));for(let _t=0;_t<M;_t+=at){const ct=Math.min(at,M-_t),Rt=ve.getImageData(B-je,_t+(be-Me),b,ct),Ot=x.getImageData(B,_t+be,b,ct);Ue&&j(Rt.data,Be,Ke,Xe),mt(Rt.data,Ot.data,ne),x.putImageData(Ot,B,_t+be)}}(x.context,b,ne,B,x.subtype,x.backdrop,x.transferMap,L,X,x.offsetX,x.offsetY),ve.save(),ve.globalAlpha=1,ve.globalCompositeOperation="source-over",ve.setTransform(1,0,0,1,0,0),ve.drawImage(b.canvas,0,0),ve.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,x),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(N(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const x=this.current;this.stateStack.push(x),this.current=x.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),N(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(x,b,M,L,X,ne){this.ctx.transform(x,b,M,L,X,ne),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(x,b,M){const L=this.ctx,X=this.current;let be,je,ne=X.x,B=X.y;const Me=L.mozCurrentTransform,Ue=0===Me[0]&&0===Me[3]||0===Me[1]&&0===Me[2],Be=Ue?M.slice(0):null;for(let Ke=0,Xe=0,mt=x.length;Ke<mt;Ke++)switch(0|x[Ke]){case l.OPS.rectangle:ne=b[Xe++],B=b[Xe++];const Dt=b[Xe++],at=b[Xe++],_t=ne+Dt,ct=B+at;L.moveTo(ne,B),0===Dt||0===at?L.lineTo(_t,ct):(L.lineTo(_t,B),L.lineTo(_t,ct),L.lineTo(ne,ct)),Ue||X.updateRectMinMax(Me,[ne,B,_t,ct]),L.closePath();break;case l.OPS.moveTo:ne=b[Xe++],B=b[Xe++],L.moveTo(ne,B),Ue||X.updatePathMinMax(Me,ne,B);break;case l.OPS.lineTo:ne=b[Xe++],B=b[Xe++],L.lineTo(ne,B),Ue||X.updatePathMinMax(Me,ne,B);break;case l.OPS.curveTo:be=ne,je=B,ne=b[Xe+4],B=b[Xe+5],L.bezierCurveTo(b[Xe],b[Xe+1],b[Xe+2],b[Xe+3],ne,B),X.updateCurvePathMinMax(Me,be,je,b[Xe],b[Xe+1],b[Xe+2],b[Xe+3],ne,B,Be),Xe+=6;break;case l.OPS.curveTo2:be=ne,je=B,L.bezierCurveTo(ne,B,b[Xe],b[Xe+1],b[Xe+2],b[Xe+3]),X.updateCurvePathMinMax(Me,be,je,ne,B,b[Xe],b[Xe+1],b[Xe+2],b[Xe+3],Be),ne=b[Xe+2],B=b[Xe+3],Xe+=4;break;case l.OPS.curveTo3:be=ne,je=B,ne=b[Xe+2],B=b[Xe+3],L.bezierCurveTo(b[Xe],b[Xe+1],ne,B,ne,B),X.updateCurvePathMinMax(Me,be,je,b[Xe],b[Xe+1],ne,B,ne,B,Be),Xe+=4;break;case l.OPS.closePath:L.closePath()}Ue&&X.updateScalingPathMinMax(Me,Be),X.setCurrentPoint(ne,B)}closePath(){this.ctx.closePath()}stroke(x){x=!(typeof x<"u")||x;const b=this.ctx,M=this.current.strokeColor;b.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof M&&M?.getPattern?(b.save(),b.strokeStyle=M.getPattern(b,this,b.mozCurrentTransformInverse,te.PathType.STROKE),this.rescaleAndStroke(!1),b.restore()):this.rescaleAndStroke(!0)),x&&this.consumePath(this.current.getClippedPathBoundingBox()),b.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(x){x=!(typeof x<"u")||x;const b=this.ctx,M=this.current.fillColor;let X=!1;this.current.patternFill&&(b.save(),b.fillStyle=M.getPattern(b,this,b.mozCurrentTransformInverse,te.PathType.FILL),X=!0);const ne=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==ne&&(this.pendingEOFill?(b.fill("evenodd"),this.pendingEOFill=!1):b.fill()),X&&b.restore(),x&&this.consumePath(ne)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ne}eoClip(){this.pendingClip=Qe}beginText(){this.current.textMatrix=l.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const x=this.pendingTextPaths,b=this.ctx;if(void 0!==x){b.save(),b.beginPath();for(let M=0;M<x.length;M++){const L=x[M];b.setTransform.apply(b,L.transform),b.translate(L.x,L.y),L.addToPath(b,L.fontSize)}b.restore(),b.clip(),b.beginPath(),delete this.pendingTextPaths}else b.beginPath()}setCharSpacing(x){this.current.charSpacing=x}setWordSpacing(x){this.current.wordSpacing=x}setHScale(x){this.current.textHScale=x/100}setLeading(x){this.current.leading=-x}setFont(x,b){const M=this.commonObjs.get(x),L=this.current;if(!M)throw new Error(`Can't find font for ${x}`);if(L.fontMatrix=M.fontMatrix||l.FONT_IDENTITY_MATRIX,(0===L.fontMatrix[0]||0===L.fontMatrix[3])&&(0,l.warn)("Invalid font matrix for font "+x),b<0?(b=-b,L.fontDirection=-1):L.fontDirection=1,this.current.font=M,this.current.fontSize=b,M.isType3Font)return;let ne="normal";M.black?ne="900":M.bold&&(ne="bold");const B=M.italic?"italic":"normal",be=`"${M.loadedName||"sans-serif"}", ${M.fallbackName}`;let je=b;b<16?je=16:b>100&&(je=100),this.current.fontSizeScale=b/je,this.ctx.font=`${B} ${ne} ${je}px ${be}`}setTextRenderingMode(x){this.current.textRenderingMode=x}setTextRise(x){this.current.textRise=x}moveText(x,b){this.current.x=this.current.lineX+=x,this.current.y=this.current.lineY+=b}setLeadingMoveText(x,b){this.setLeading(-b),this.moveText(x,b)}setTextMatrix(x,b,M,L,X,ne){this.current.textMatrix=[x,b,M,L,X,ne],this.current.textMatrixScale=Math.hypot(x,b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(x,b,M,L){const X=this.ctx,ne=this.current,B=ne.font,be=ne.textRenderingMode,je=ne.fontSize/ne.fontSizeScale,Me=be&l.TextRenderingMode.FILL_STROKE_MASK,Ue=!!(be&l.TextRenderingMode.ADD_TO_PATH_FLAG),Be=ne.patternFill&&!B.missingFile;let Ke;(B.disableFontFace||Ue||Be)&&(Ke=B.getPathGenerator(this.commonObjs,x)),B.disableFontFace||Be?(X.save(),X.translate(b,M),X.beginPath(),Ke(X,je),L&&X.setTransform.apply(X,L),(Me===l.TextRenderingMode.FILL||Me===l.TextRenderingMode.FILL_STROKE)&&X.fill(),(Me===l.TextRenderingMode.STROKE||Me===l.TextRenderingMode.FILL_STROKE)&&X.stroke(),X.restore()):((Me===l.TextRenderingMode.FILL||Me===l.TextRenderingMode.FILL_STROKE)&&X.fillText(x,b,M),(Me===l.TextRenderingMode.STROKE||Me===l.TextRenderingMode.FILL_STROKE)&&X.strokeText(x,b,M)),Ue&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:X.mozCurrentTransform,x:b,y:M,fontSize:je,addToPath:Ke})}get isFontSubpixelAAEnabled(){const{context:x}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);x.scale(1.5,1),x.fillText("I",0,10);const b=x.getImageData(0,0,10,10).data;let M=!1;for(let L=3;L<b.length;L+=4)if(b[L]>0&&b[L]<255){M=!0;break}return(0,l.shadow)(this,"isFontSubpixelAAEnabled",M)}showText(x){const b=this.current,M=b.font;if(M.isType3Font)return this.showType3Text(x);const L=b.fontSize;if(0===L)return;const X=this.ctx,ne=b.fontSizeScale,B=b.charSpacing,be=b.wordSpacing,je=b.fontDirection,Me=b.textHScale*je,Ue=x.length,Be=M.vertical,Ke=Be?1:-1,Xe=M.defaultVMetrics,mt=L*b.fontMatrix[0],Dt=b.textRenderingMode===l.TextRenderingMode.FILL&&!M.disableFontFace&&!b.patternFill;let at;if(X.save(),X.transform.apply(X,b.textMatrix),X.translate(b.x,b.y+b.textRise),X.scale(Me,je>0?-1:1),b.patternFill){X.save();const St=b.fillColor.getPattern(X,this,X.mozCurrentTransformInverse,te.PathType.FILL);at=X.mozCurrentTransform,X.restore(),X.fillStyle=St}let _t=b.lineWidth;const ct=b.textMatrixScale;if(0===ct||0===_t){const St=b.textRenderingMode&l.TextRenderingMode.FILL_STROKE_MASK;(St===l.TextRenderingMode.STROKE||St===l.TextRenderingMode.FILL_STROKE)&&(_t=this.getSinglePixelWidth())}else _t/=ct;1!==ne&&(X.scale(ne,ne),_t/=ne),X.lineWidth=_t;let Ot,Rt=0;for(Ot=0;Ot<Ue;++Ot){const St=x[Ot];if("number"==typeof St){Rt+=Ke*St*L/1e3;continue}let nt=!1;const dt=(St.isSpace?be:0)+B,xt=St.fontChar,Ze=St.accent;let me,Ie,wt,ft=St.width;if(Be){const Le=St.vmetric||Xe,we=-(St.vmetric?Le[1]:.5*ft)*mt;ft=Le?-Le[0]:ft,me=we/ne,Ie=(Rt+Le[2]*mt)/ne}else me=Rt/ne,Ie=0;if(M.remeasure&&ft>0){const Le=1e3*X.measureText(xt).width/L*ne;if(ft<Le&&this.isFontSubpixelAAEnabled){const we=ft/Le;nt=!0,X.save(),X.scale(we,1),me/=we}else ft!==Le&&(me+=(ft-Le)/2e3*L/ne)}this.contentVisible&&(St.isInFont||M.missingFile)&&(Dt&&!Ze?X.fillText(xt,me,Ie):(this.paintChar(xt,me,Ie,at),Ze&&this.paintChar(Ze.fontChar,me+L*Ze.offset.x/ne,Ie-L*Ze.offset.y/ne,at))),wt=Be?ft*mt-dt*je:ft*mt+dt*je,Rt+=wt,nt&&X.restore()}Be?b.y-=Rt:b.x+=Rt*Me,X.restore(),this.compose()}showType3Text(x){const b=this.ctx,M=this.current,L=M.font,X=M.fontSize,ne=M.fontDirection,B=L.vertical?1:-1,be=M.charSpacing,je=M.wordSpacing,Me=M.textHScale*ne,Ue=M.fontMatrix||l.FONT_IDENTITY_MATRIX,Be=x.length;let Xe,mt,Dt,at;if(M.textRenderingMode!==l.TextRenderingMode.INVISIBLE&&0!==X){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,b.save(),b.transform.apply(b,M.textMatrix),b.translate(M.x,M.y),b.scale(Me,ne),Xe=0;Xe<Be;++Xe){if(mt=x[Xe],"number"==typeof mt){at=B*mt*X/1e3,this.ctx.translate(at,0),M.x+=at*Me;continue}const _t=(mt.isSpace?je:0)+be,ct=L.charProcOperatorList[mt.operatorListId];ct?(this.contentVisible&&(this.processingType3=mt,this.save(),b.scale(X,X),b.transform.apply(b,Ue),this.executeOperatorList(ct),this.restore()),Dt=l.Util.applyTransform([mt.width,0],Ue)[0]*X+_t,b.translate(Dt,0),M.x+=Dt*Me):(0,l.warn)(`Type3 character "${mt.operatorListId}" is not available.`)}b.restore(),this.processingType3=null}}setCharWidth(x,b){}setCharWidthAndBounds(x,b,M,L,X,ne){this.ctx.rect(M,L,X-M,ne-L),this.ctx.clip(),this.endPath()}getColorN_Pattern(x){let b;if("TilingPattern"===x[0]){const M=x[1],L=this.baseTransform||this.ctx.mozCurrentTransform.slice();b=new te.TilingPattern(x,M,this.ctx,{createCanvasGraphics:ne=>new it(ne,this.commonObjs,this.objs,this.canvasFactory)},L)}else b=this._getPattern(x[1],x[2]);return b}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(x,b,M){const L=this.selectColor?.(x,b,M)||l.Util.makeHexColor(x,b,M);this.ctx.strokeStyle=L,this.current.strokeColor=L}setFillRGBColor(x,b,M){const L=this.selectColor?.(x,b,M)||l.Util.makeHexColor(x,b,M);this.ctx.fillStyle=L,this.current.fillColor=L,this.current.patternFill=!1}_getPattern(x,b=null){let M;return this.cachedPatterns.has(x)?M=this.cachedPatterns.get(x):(M=(0,te.getShadingPattern)(this.objs.get(x)),this.cachedPatterns.set(x,M)),b&&(M.matrix=b),M}shadingFill(x){if(!this.contentVisible)return;const b=this.ctx;this.save();const M=this._getPattern(x);b.fillStyle=M.getPattern(b,this,b.mozCurrentTransformInverse,te.PathType.SHADING);const L=b.mozCurrentTransformInverse;if(L){const X=b.canvas,ne=X.width,B=X.height,be=l.Util.applyTransform([0,0],L),je=l.Util.applyTransform([0,B],L),Me=l.Util.applyTransform([ne,0],L),Ue=l.Util.applyTransform([ne,B],L),Be=Math.min(be[0],je[0],Me[0],Ue[0]),Ke=Math.min(be[1],je[1],Me[1],Ue[1]),Xe=Math.max(be[0],je[0],Me[0],Ue[0]),mt=Math.max(be[1],je[1],Me[1],Ue[1]);this.ctx.fillRect(Be,Ke,Xe-Be,mt-Ke)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,l.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,l.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(x,b){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(x)&&6===x.length&&this.transform.apply(this,x),this.baseTransform=this.ctx.mozCurrentTransform,b)&&(this.ctx.rect(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,b),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(x){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const b=this.ctx;x.isolated||(0,l.info)("TODO: Support non-isolated groups."),x.knockout&&(0,l.warn)("Knockout groups not supported.");const M=b.mozCurrentTransform;if(x.matrix&&b.transform.apply(b,x.matrix),!x.bbox)throw new Error("Bounding box is required.");let L=l.Util.getAxialAlignedBoundingBox(x.bbox,b.mozCurrentTransform);L=l.Util.intersect(L,[0,0,b.canvas.width,b.canvas.height])||[0,0,0,0];const ne=Math.floor(L[0]),B=Math.floor(L[1]);let be=Math.max(Math.ceil(L[2])-ne,1),je=Math.max(Math.ceil(L[3])-B,1),Me=1,Ue=1;be>ce&&(Me=be/ce,be=ce),je>ce&&(Ue=je/ce,je=ce),this.current.startNewPathAndClipBox([0,0,be,je]);let Be="groupAt"+this.groupLevel;x.smask&&(Be+="_smask_"+this.smaskCounter++%2);const Ke=this.cachedCanvases.getCanvas(Be,be,je,!0),Xe=Ke.context;Xe.scale(1/Me,1/Ue),Xe.translate(-ne,-B),Xe.transform.apply(Xe,M),x.smask?this.smaskStack.push({canvas:Ke.canvas,context:Xe,offsetX:ne,offsetY:B,scaleX:Me,scaleY:Ue,subtype:x.smask.subtype,backdrop:x.smask.backdrop,transferMap:x.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(ne,B),b.scale(Me,Ue),b.save()),N(b,Xe),this.ctx=Xe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(b),this.groupLevel++}endGroup(x){if(!this.contentVisible)return;this.groupLevel--;const b=this.ctx,M=this.groupStack.pop();if(this.ctx=M,this.ctx.imageSmoothingEnabled=!1,x.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const L=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,L);const X=l.Util.getAxialAlignedBoundingBox([0,0,b.canvas.width,b.canvas.height],L);this.ctx.drawImage(b.canvas,0,0),this.ctx.restore(),this.compose(X)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(x,b,M,L,X){if(this.save(),Array.isArray(b)&&4===b.length){const ne=b[2]-b[0],B=b[3]-b[1];if(X&&this.annotationCanvasMap){(M=M.slice())[4]-=b[0],M[5]-=b[1],(b=b.slice())[0]=b[1]=0,b[2]=ne,b[3]=B;const[be,je]=l.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:Me}=this,Ue=Math.ceil(ne*this.outputScaleX*Me),Be=Math.ceil(B*this.outputScaleY*Me);this.annotationCanvas=this.canvasFactory.create(Ue,Be);const{canvas:Ke,context:Xe}=this.annotationCanvas,mt=`var(--zoom-factor) * ${ie.PixelsPerInch.PDF_TO_CSS_UNITS}`;Ke.style.width=`calc(${ne}px * ${mt})`,Ke.style.height=`calc(${B}px * ${mt})`,this.annotationCanvasMap.set(x,Ke),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Xe,this.ctx.setTransform(be,0,0,-je,0,B*je),fe(this.ctx),J(this.ctx,this.foregroundColor)}else J(this.ctx,this.foregroundColor),this.ctx.rect(b[0],b[1],ne,B),this.ctx.clip(),this.endPath()}this.current=new S(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,M),this.transform.apply(this,L)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(x){if(!this.contentVisible)return;const b=x.count;(x=this.getObject(x.data,x)).count=b;const M=this.ctx,L=this.processingType3;if(L&&(void 0===L.compiled&&(L.compiled=function A(ve){const{width:x,height:b}=ve;if(x>1e3||b>1e3)return null;const L=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),X=x+1;let B,be,je,ne=new Uint8Array(X*(b+1));const Me=x+7&-8;let Ue=new Uint8Array(Me*b),Be=0;for(const ct of ve.data){let Rt=128;for(;Rt>0;)Ue[Be++]=ct&Rt?0:255,Rt>>=1}let Ke=0;for(Be=0,0!==Ue[Be]&&(ne[0]=1,++Ke),be=1;be<x;be++)Ue[Be]!==Ue[Be+1]&&(ne[be]=Ue[Be]?2:1,++Ke),Be++;for(0!==Ue[Be]&&(ne[be]=2,++Ke),B=1;B<b;B++){Be=B*Me,je=B*X,Ue[Be-Me]!==Ue[Be]&&(ne[je]=Ue[Be]?1:8,++Ke);let ct=(Ue[Be]?4:0)+(Ue[Be-Me]?8:0);for(be=1;be<x;be++)ct=(ct>>2)+(Ue[Be+1]?4:0)+(Ue[Be-Me+1]?8:0),L[ct]&&(ne[je+be]=L[ct],++Ke),Be++;if(Ue[Be-Me]!==Ue[Be]&&(ne[je+be]=Ue[Be]?2:4,++Ke),Ke>1e3)return null}for(Be=Me*(b-1),je=B*X,0!==Ue[Be]&&(ne[je]=8,++Ke),be=1;be<x;be++)Ue[Be]!==Ue[Be+1]&&(ne[je+be]=Ue[Be]?4:8,++Ke),Be++;if(0!==Ue[Be]&&(ne[je+be]=4,++Ke),Ke>1e3)return null;const Xe=new Int32Array([0,X,-1,0,-X,0,0,0,1]);let mt,Dt,at;for(pe.isNodeJS?Dt=[]:mt=new Path2D,B=0;Ke&&B<=b;B++){let ct=B*X;const Rt=ct+x;for(;ct<Rt&&!ne[ct];)ct++;if(ct===Rt)continue;mt?mt.moveTo(ct%X,B):at=[ct%X,B];const Ot=ct;let St=ne[ct];do{const nt=Xe[St];do{ct+=nt}while(!ne[ct]);const dt=ne[ct];5!==dt&&10!==dt?(St=dt,ne[ct]=0):(St=dt&51*St>>4,ne[ct]&=St>>2|St<<2),mt?mt.lineTo(ct%X,ct/X|0):at.push(ct%X,ct/X|0),ne[ct]||--Ke}while(Ot!==ct);mt||Dt.push(at),--B}return Ue=null,ne=null,function(ct){if(ct.save(),ct.scale(1/x,-1/b),ct.translate(0,-b),mt)ct.fill(mt);else{ct.beginPath();for(const Rt of Dt){ct.moveTo(Rt[0],Rt[1]);for(let Ot=2,St=Rt.length;Ot<St;Ot+=2)ct.lineTo(Rt[Ot],Rt[Ot+1])}ct.fill()}ct.beginPath(),ct.restore()}}(x)),L.compiled))return void L.compiled(M);const X=this._createMaskCanvas(x),ne=X.canvas;M.save(),M.setTransform(1,0,0,1,0,0),M.drawImage(ne,X.offsetX,X.offsetY),M.restore(),this.compose()}paintImageMaskXObjectRepeat(x,b,M=0,L=0,X,ne){if(!this.contentVisible)return;x=this.getObject(x.data,x);const B=this.ctx;B.save();const be=B.mozCurrentTransform;B.transform(b,M,L,X,0,0);const je=this._createMaskCanvas(x);B.setTransform(1,0,0,1,0,0);for(let Me=0,Ue=ne.length;Me<Ue;Me+=2){const Be=l.Util.transform(be,[b,M,L,X,ne[Me],ne[Me+1]]),[Ke,Xe]=l.Util.applyTransform([0,0],Be);B.drawImage(je.canvas,Ke,Xe)}B.restore(),this.compose()}paintImageMaskXObjectGroup(x){if(!this.contentVisible)return;const b=this.ctx,M=this.current.fillColor,L=this.current.patternFill;for(let X=0,ne=x.length;X<ne;X++){const B=x[X],be=B.width,je=B.height,Me=this.cachedCanvases.getCanvas("maskCanvas",be,je,!1),Ue=Me.context;Ue.save(),Q(Ue,B),Ue.globalCompositeOperation="source-in",Ue.fillStyle=L?M.getPattern(Ue,this,b.mozCurrentTransformInverse,te.PathType.FILL):M,Ue.fillRect(0,0,be,je),Ue.restore(),b.save(),b.transform.apply(b,B.transform),b.scale(1,-1),Y(b,Me.canvas,0,0,be,je,0,-1,1,1),b.restore()}this.compose()}paintImageXObject(x){if(!this.contentVisible)return;const b=this.getObject(x);b?this.paintInlineImageXObject(b):(0,l.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(x,b,M,L){if(!this.contentVisible)return;const X=this.getObject(x);if(!X)return void(0,l.warn)("Dependent image isn't ready yet");const ne=X.width,B=X.height,be=[];for(let je=0,Me=L.length;je<Me;je+=2)be.push({transform:[b,0,0,M,L[je],L[je+1]],x:0,y:0,w:ne,h:B});this.paintInlineImageXObjectGroup(X,be)}paintInlineImageXObject(x){if(!this.contentVisible)return;const b=x.width,M=x.height,L=this.ctx;let X;if(this.save(),L.scale(1/b,-1/M),"function"==typeof HTMLElement&&x instanceof HTMLElement||!x.data)X=x;else{const je=this.cachedCanvases.getCanvas("inlineImage",b,M,!1);F(je.context,x,this.current.transferMaps),X=je.canvas}const ne=this._scaleImage(X,L.mozCurrentTransformInverse);L.imageSmoothingEnabled=ge(L.mozCurrentTransform,x.interpolate);const[B,be]=Y(L,ne.img,0,0,ne.paintWidth,ne.paintHeight,0,-M,b,M);if(this.imageLayer){const je=this.getCanvasPosition(0,-M);this.imageLayer.appendImage({imgData:x,left:je[0],top:je[1],width:B,height:be})}this.compose(),this.restore()}paintInlineImageXObjectGroup(x,b){if(!this.contentVisible)return;const M=this.ctx,L=x.width,X=x.height,ne=this.cachedCanvases.getCanvas("inlineImage",L,X,!1);F(ne.context,x,this.current.transferMaps);for(let be=0,je=b.length;be<je;be++){const Me=b[be];if(M.save(),M.transform.apply(M,Me.transform),M.scale(1,-1),Y(M,ne.canvas,Me.x,Me.y,Me.w,Me.h,0,-1,1,1),this.imageLayer){const Ue=this.getCanvasPosition(Me.x,Me.y);this.imageLayer.appendImage({imgData:x,left:Ue[0],top:Ue[1],width:L,height:X})}M.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(x){}markPointProps(x,b){}beginMarkedContent(x){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(x,b){this.markedContentStack.push("OC"===x?{visible:this.optionalContentConfig.isVisible(b)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(x){const b=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(x);const M=this.ctx;this.pendingClip&&(b||(this.pendingClip===Qe?M.clip("evenodd"):M.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),M.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const x=this.ctx.mozCurrentTransform;if(0===x[1]&&0===x[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(x[0]),Math.abs(x[3]));else{const b=Math.abs(x[0]*x[3]-x[2]*x[1]),M=Math.hypot(x[0],x[2]),L=Math.hypot(x[1],x[3]);this._cachedGetSinglePixelWidth=Math.max(M,L)/b}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:x}=this.current,b=this.ctx.mozCurrentTransform;let M,L;if(0===b[1]&&0===b[2]){const X=Math.abs(b[0]),ne=Math.abs(b[3]);if(0===x)M=1/X,L=1/ne;else{const B=X*x,be=ne*x;M=B<1?1/B:1,L=be<1?1/be:1}}else{const X=Math.abs(b[0]*b[3]-b[2]*b[1]),ne=Math.hypot(b[0],b[1]),B=Math.hypot(b[2],b[3]);if(0===x)M=B/X,L=ne/X;else{const be=x*X;M=B>be?B/be:1,L=ne>be?ne/be:1}}this._cachedScaleForStroking=[M,L]}return this._cachedScaleForStroking}rescaleAndStroke(x){const{ctx:b}=this,{lineWidth:M}=this.current,[L,X]=this.getScaleForStroking();if(b.lineWidth=M||1,1===L&&1===X)return void b.stroke();let ne,B,be;x&&(ne=b.mozCurrentTransform.slice(),B=b.getLineDash().slice(),be=b.lineDashOffset),b.scale(L,X);const je=Math.max(L,X);b.setLineDash(b.getLineDash().map(Me=>Me/je)),b.lineDashOffset/=je,b.stroke(),x&&(b.setTransform(...ne),b.setLineDash(B),b.lineDashOffset=be)}getCanvasPosition(x,b){const M=this.ctx.mozCurrentTransform;return[M[0]*x+M[2]*b+M[4],M[1]*x+M[3]*b+M[5]]}isContentVisible(){for(let x=this.markedContentStack.length-1;x>=0;x--)if(!this.markedContentStack[x].visible)return!1;return!0}}I.CanvasGraphics=it;for(const ve in l.OPS)void 0!==it.prototype[ve]&&(it.prototype[l.OPS[ve]]=it.prototype[ve])},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.TilingPattern=I.PathType=void 0,I.getShadingPattern=function K(ae){switch(ae[0]){case"RadialAxial":return new re(ae);case"Mesh":return new he(ae);case"Dummy":return new ee}throw new Error(`Unknown IR type: ${ae[0]}`)};var l=R(1),te=R(3);const O={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function pe(ae,W){if(!W||te.isNodeJS)return;const fe=W[2]-W[0],G=W[3]-W[1],Y=new Path2D;Y.rect(W[0],W[1],fe,G),ae.clip(Y)}I.PathType=O;class ie{constructor(){this.constructor===ie&&(0,l.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,l.unreachable)("Abstract method `getPattern` called.")}}class re extends ie{constructor(W){super(),this._type=W[1],this._bbox=W[2],this._colorStops=W[3],this._p0=W[4],this._p1=W[5],this._r0=W[6],this._r1=W[7],this.matrix=null}_createGradient(W){let fe;"axial"===this._type?fe=W.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(fe=W.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const G of this._colorStops)fe.addColorStop(G[0],G[1]);return fe}getPattern(W,fe,G,Y){let A;if(Y===O.STROKE||Y===O.FILL){const S=fe.current.getClippedPathBoundingBox(Y,W.mozCurrentTransform)||[0,0,0,0],F=Math.ceil(S[2]-S[0])||1,Q=Math.ceil(S[3]-S[1])||1,N=fe.cachedCanvases.getCanvas("pattern",F,Q,!0),J=N.context;J.clearRect(0,0,J.canvas.width,J.canvas.height),J.beginPath(),J.rect(0,0,J.canvas.width,J.canvas.height),J.translate(-S[0],-S[1]),G=l.Util.transform(G,[1,0,0,1,S[0],S[1]]),J.transform.apply(J,fe.baseTransform),this.matrix&&J.transform.apply(J,this.matrix),pe(J,this._bbox),J.fillStyle=this._createGradient(J),J.fill(),A=W.createPattern(N.canvas,"no-repeat");const j=new DOMMatrix(G);try{A.setTransform(j)}catch(D){(0,l.warn)(`RadialAxialShadingPattern.getPattern: "${D?.message}".`)}}else pe(W,this._bbox),A=this._createGradient(W);return A}}function U(ae,W,fe,G,Y,A,S,F){const Q=W.coords,N=W.colors,J=ae.data,j=4*ae.width;let D;Q[fe+1]>Q[G+1]&&(D=fe,fe=G,G=D,D=A,A=S,S=D),Q[G+1]>Q[Y+1]&&(D=G,G=Y,Y=D,D=S,S=F,F=D),Q[fe+1]>Q[G+1]&&(D=fe,fe=G,G=D,D=A,A=S,S=D);const oe=(Q[fe]+W.offsetX)*W.scaleX,$=(Q[fe+1]+W.offsetY)*W.scaleY,le=(Q[G]+W.offsetX)*W.scaleX,ge=(Q[G+1]+W.offsetY)*W.scaleY,ye=(Q[Y]+W.offsetX)*W.scaleX,ke=(Q[Y+1]+W.offsetY)*W.scaleY;if($>=ke)return;const Ne=N[A],Qe=N[A+1],it=N[A+2],ve=N[S],x=N[S+1],b=N[S+2],M=N[F],L=N[F+1],X=N[F+2],ne=Math.round($),B=Math.round(ke);let be,je,Me,Ue,Be,Ke,Xe,mt;for(let Dt=ne;Dt<=B;Dt++){if(Dt<ge){let Ot;Ot=Dt<$?0:($-Dt)/($-ge),be=oe-(oe-le)*Ot,je=Ne-(Ne-ve)*Ot,Me=Qe-(Qe-x)*Ot,Ue=it-(it-b)*Ot}else{let Ot;Ot=Dt>ke?1:ge===ke?0:(ge-Dt)/(ge-ke),be=le-(le-ye)*Ot,je=ve-(ve-M)*Ot,Me=x-(x-L)*Ot,Ue=b-(b-X)*Ot}let at;at=Dt<$?0:Dt>ke?1:($-Dt)/($-ke),Be=oe-(oe-ye)*at,Ke=Ne-(Ne-M)*at,Xe=Qe-(Qe-L)*at,mt=it-(it-X)*at;const _t=Math.round(Math.min(be,Be)),ct=Math.round(Math.max(be,Be));let Rt=j*Dt+4*_t;for(let Ot=_t;Ot<=ct;Ot++)at=(be-Ot)/(be-Be),at<0?at=0:at>1&&(at=1),J[Rt++]=je-(je-Ke)*at|0,J[Rt++]=Me-(Me-Xe)*at|0,J[Rt++]=Ue-(Ue-mt)*at|0,J[Rt++]=255}}function ce(ae,W,fe){const G=W.coords,Y=W.colors;let A,S;switch(W.type){case"lattice":const F=W.verticesPerRow,Q=Math.floor(G.length/F)-1,N=F-1;for(A=0;A<Q;A++){let J=A*F;for(let j=0;j<N;j++,J++)U(ae,fe,G[J],G[J+1],G[J+F],Y[J],Y[J+1],Y[J+F]),U(ae,fe,G[J+F+1],G[J+1],G[J+F],Y[J+F+1],Y[J+1],Y[J+F])}break;case"triangles":for(A=0,S=G.length;A<S;A+=3)U(ae,fe,G[A],G[A+1],G[A+2],Y[A],Y[A+1],Y[A+2]);break;default:throw new Error("illegal figure")}}class he extends ie{constructor(W){super(),this._coords=W[2],this._colors=W[3],this._figures=W[4],this._bounds=W[5],this._bbox=W[7],this._background=W[8],this.matrix=null}_createMeshCanvas(W,fe,G){const F=Math.floor(this._bounds[0]),Q=Math.floor(this._bounds[1]),N=Math.ceil(this._bounds[2])-F,J=Math.ceil(this._bounds[3])-Q,j=Math.min(Math.ceil(Math.abs(N*W[0]*1.1)),3e3),D=Math.min(Math.ceil(Math.abs(J*W[1]*1.1)),3e3),oe=N/j,$=J/D,le={coords:this._coords,colors:this._colors,offsetX:-F,offsetY:-Q,scaleX:1/oe,scaleY:1/$},ke=G.getCanvas("mesh",j+4,D+4,!1),Ne=ke.context,Qe=Ne.createImageData(j,D);if(fe){const ve=Qe.data;for(let x=0,b=ve.length;x<b;x+=4)ve[x]=fe[0],ve[x+1]=fe[1],ve[x+2]=fe[2],ve[x+3]=255}for(const ve of this._figures)ce(Qe,ve,le);return Ne.putImageData(Qe,2,2),{canvas:ke.canvas,offsetX:F-2*oe,offsetY:Q-2*$,scaleX:oe,scaleY:$}}getPattern(W,fe,G,Y){let A;if(pe(W,this._bbox),Y===O.SHADING)A=l.Util.singularValueDecompose2dScale(W.mozCurrentTransform);else if(A=l.Util.singularValueDecompose2dScale(fe.baseTransform),this.matrix){const F=l.Util.singularValueDecompose2dScale(this.matrix);A=[A[0]*F[0],A[1]*F[1]]}const S=this._createMeshCanvas(A,Y===O.SHADING?null:this._background,fe.cachedCanvases);return Y!==O.SHADING&&(W.setTransform.apply(W,fe.baseTransform),this.matrix&&W.transform.apply(W,this.matrix)),W.translate(S.offsetX,S.offsetY),W.scale(S.scaleX,S.scaleY),W.createPattern(S.canvas,"no-repeat")}}class ee extends ie{getPattern(){return"hotpink"}}class z{static get MAX_PATTERN_SIZE(){return(0,l.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(W,fe,G,Y,A){this.operatorList=W[2],this.matrix=W[3]||[1,0,0,1,0,0],this.bbox=W[4],this.xstep=W[5],this.ystep=W[6],this.paintType=W[7],this.tilingType=W[8],this.color=fe,this.ctx=G,this.canvasGraphicsFactory=Y,this.baseTransform=A}createPatternCanvas(W){const fe=this.operatorList,G=this.bbox,Y=this.xstep,A=this.ystep,S=this.paintType,Q=this.color,N=this.canvasGraphicsFactory;(0,l.info)("TilingType: "+this.tilingType);const J=G[0],j=G[1],D=G[2],oe=G[3],$=l.Util.singularValueDecompose2dScale(this.matrix),le=l.Util.singularValueDecompose2dScale(this.baseTransform),ge=[$[0]*le[0],$[1]*le[1]],ye=this.getSizeAndScale(Y,this.ctx.canvas.width,ge[0]),ke=this.getSizeAndScale(A,this.ctx.canvas.height,ge[1]),Ne=W.cachedCanvases.getCanvas("pattern",ye.size,ke.size,!0),Qe=Ne.context,it=N.createCanvasGraphics(Qe);it.groupLevel=W.groupLevel,this.setFillAndStrokeStyleToContext(it,S,Q);let ve=J,x=j,b=D,M=oe;return J<0&&(ve=0,b+=Math.abs(J)),j<0&&(x=0,M+=Math.abs(j)),Qe.translate(-ye.scale*ve,-ke.scale*x),it.transform(ye.scale,0,0,ke.scale,0,0),Qe.save(),this.clipBbox(it,ve,x,b,M),it.baseTransform=it.ctx.mozCurrentTransform.slice(),it.executeOperatorList(fe),it.endDrawing(),{canvas:Ne.canvas,scaleX:ye.scale,scaleY:ke.scale,offsetX:ve,offsetY:x}}getSizeAndScale(W,fe,G){W=Math.abs(W);const Y=Math.max(z.MAX_PATTERN_SIZE,fe);let A=Math.ceil(W*G);return A>=Y?A=Y:G=A/W,{scale:G,size:A}}clipBbox(W,fe,G,Y,A){W.ctx.rect(fe,G,Y-fe,A-G),W.current.updateRectMinMax(W.ctx.mozCurrentTransform,[fe,G,Y,A]),W.clip(),W.endPath()}setFillAndStrokeStyleToContext(W,fe,G){const Y=W.ctx,A=W.current;switch(fe){case 1:const S=this.ctx;Y.fillStyle=S.fillStyle,Y.strokeStyle=S.strokeStyle,A.fillColor=S.fillStyle,A.strokeColor=S.strokeStyle;break;case 2:const F=l.Util.makeHexColor(G[0],G[1],G[2]);Y.fillStyle=F,Y.strokeStyle=F,A.fillColor=F,A.strokeColor=F;break;default:throw new l.FormatError(`Unsupported paint type: ${fe}`)}}getPattern(W,fe,G,Y){let A=G;Y!==O.SHADING&&(A=l.Util.transform(A,fe.baseTransform),this.matrix&&(A=l.Util.transform(A,this.matrix)));const S=this.createPatternCanvas(fe);let F=new DOMMatrix(A);F=F.translate(S.offsetX,S.offsetY),F=F.scale(1/S.scaleX,1/S.scaleY);const Q=W.createPattern(S.canvas,"repeat");try{Q.setTransform(F)}catch(N){(0,l.warn)(`TilingPattern.getPattern: "${N?.message}".`)}return Q}}I.TilingPattern=z},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.applyMaskImageData=function te({src:O,srcPos:pe=0,dest:ie,destPos:re=0,width:U,height:ce,inverseDecode:he=!1}){const ee=l.FeatureTest.isLittleEndian?4278190080:255,[K,se]=he?[0,ee]:[ee,0],z=U>>3,ae=7&U,W=O.length;ie=new Uint32Array(ie.buffer);for(let fe=0;fe<ce;fe++){for(const Y=pe+z;pe<Y;pe++){const A=pe<W?O[pe]:255;ie[re++]=128&A?se:K,ie[re++]=64&A?se:K,ie[re++]=32&A?se:K,ie[re++]=16&A?se:K,ie[re++]=8&A?se:K,ie[re++]=4&A?se:K,ie[re++]=2&A?se:K,ie[re++]=1&A?se:K}if(0===ae)continue;const G=pe<W?O[pe++]:255;for(let Y=0;Y<ae;Y++)ie[re++]=G&1<<7-Y?se:K}return{srcPos:pe,destPos:re}};var l=R(1)},(xe,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.GlobalWorkerOptions=void 0;const R=Object.create(null);I.GlobalWorkerOptions=R,R.workerPort=void 0===R.workerPort?null:R.workerPort,R.workerSrc=void 0===R.workerSrc?"":R.workerSrc},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.MessageHandler=void 0;var l=R(1);function pe(re){switch(re instanceof Error||"object"==typeof re&&null!==re||(0,l.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),re.name){case"AbortException":return new l.AbortException(re.message);case"MissingPDFException":return new l.MissingPDFException(re.message);case"PasswordException":return new l.PasswordException(re.message,re.code);case"UnexpectedResponseException":return new l.UnexpectedResponseException(re.message,re.status);case"UnknownErrorException":return new l.UnknownErrorException(re.message,re.details);default:return new l.UnknownErrorException(re.message,re.toString())}}I.MessageHandler=class ie{constructor(U,ce,he){this.sourceName=U,this.targetName=ce,this.comObj=he,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ee=>{const K=ee.data;if(K.targetName!==this.sourceName)return;if(K.stream)return void this._processStreamMessage(K);if(K.callback){const z=K.callbackId,ae=this.callbackCapabilities[z];if(!ae)throw new Error(`Cannot resolve callback ${z}`);if(delete this.callbackCapabilities[z],1===K.callback)ae.resolve(K.data);else{if(2!==K.callback)throw new Error("Unexpected callback case");ae.reject(pe(K.reason))}return}const se=this.actionHandler[K.action];if(!se)throw new Error(`Unknown action from worker: ${K.action}`);if(K.callbackId){const z=this.sourceName,ae=K.sourceName;new Promise(function(W){W(se(K.data))}).then(function(W){he.postMessage({sourceName:z,targetName:ae,callback:1,callbackId:K.callbackId,data:W})},function(W){he.postMessage({sourceName:z,targetName:ae,callback:2,callbackId:K.callbackId,reason:pe(W)})})}else K.streamId?this._createStreamSink(K):se(K.data)},he.addEventListener("message",this._onComObjOnMessage)}on(U,ce){const he=this.actionHandler;if(he[U])throw new Error(`There is already an actionName called "${U}"`);he[U]=ce}send(U,ce,he){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:U,data:ce},he)}sendWithPromise(U,ce,he){const ee=this.callbackId++,K=(0,l.createPromiseCapability)();this.callbackCapabilities[ee]=K;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:U,callbackId:ee,data:ce},he)}catch(se){K.reject(se)}return K.promise}sendWithStream(U,ce,he,ee){const K=this.streamId++,se=this.sourceName,z=this.targetName,ae=this.comObj;return new ReadableStream({start:W=>{const fe=(0,l.createPromiseCapability)();return this.streamControllers[K]={controller:W,startCall:fe,pullCall:null,cancelCall:null,isClosed:!1},ae.postMessage({sourceName:se,targetName:z,action:U,streamId:K,data:ce,desiredSize:W.desiredSize},ee),fe.promise},pull:W=>{const fe=(0,l.createPromiseCapability)();return this.streamControllers[K].pullCall=fe,ae.postMessage({sourceName:se,targetName:z,stream:6,streamId:K,desiredSize:W.desiredSize}),fe.promise},cancel:W=>{(0,l.assert)(W instanceof Error,"cancel must have a valid reason");const fe=(0,l.createPromiseCapability)();return this.streamControllers[K].cancelCall=fe,this.streamControllers[K].isClosed=!0,ae.postMessage({sourceName:se,targetName:z,stream:1,streamId:K,reason:pe(W)}),fe.promise}},he)}_createStreamSink(U){const ce=U.streamId,he=this.sourceName,ee=U.sourceName,K=this.comObj,se=this,z=this.actionHandler[U.action],ae={enqueue(W,fe=1,G){if(this.isCancelled)return;const Y=this.desiredSize;this.desiredSize-=fe,Y>0&&this.desiredSize<=0&&(this.sinkCapability=(0,l.createPromiseCapability)(),this.ready=this.sinkCapability.promise),K.postMessage({sourceName:he,targetName:ee,stream:4,streamId:ce,chunk:W},G)},close(){this.isCancelled||(this.isCancelled=!0,K.postMessage({sourceName:he,targetName:ee,stream:3,streamId:ce}),delete se.streamSinks[ce])},error(W){(0,l.assert)(W instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,K.postMessage({sourceName:he,targetName:ee,stream:5,streamId:ce,reason:pe(W)}))},sinkCapability:(0,l.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:U.desiredSize,ready:null};ae.sinkCapability.resolve(),ae.ready=ae.sinkCapability.promise,this.streamSinks[ce]=ae,new Promise(function(W){W(z(U.data,ae))}).then(function(){K.postMessage({sourceName:he,targetName:ee,stream:8,streamId:ce,success:!0})},function(W){K.postMessage({sourceName:he,targetName:ee,stream:8,streamId:ce,reason:pe(W)})})}_processStreamMessage(U){const ce=U.streamId,he=this.sourceName,ee=U.sourceName,K=this.comObj,se=this.streamControllers[ce],z=this.streamSinks[ce];switch(U.stream){case 8:U.success?se.startCall.resolve():se.startCall.reject(pe(U.reason));break;case 7:U.success?se.pullCall.resolve():se.pullCall.reject(pe(U.reason));break;case 6:if(!z){K.postMessage({sourceName:he,targetName:ee,stream:7,streamId:ce,success:!0});break}z.desiredSize<=0&&U.desiredSize>0&&z.sinkCapability.resolve(),z.desiredSize=U.desiredSize,new Promise(function(ae){ae(z.onPull&&z.onPull())}).then(function(){K.postMessage({sourceName:he,targetName:ee,stream:7,streamId:ce,success:!0})},function(ae){K.postMessage({sourceName:he,targetName:ee,stream:7,streamId:ce,reason:pe(ae)})});break;case 4:if((0,l.assert)(se,"enqueue should have stream controller"),se.isClosed)break;se.controller.enqueue(U.chunk);break;case 3:if((0,l.assert)(se,"close should have stream controller"),se.isClosed)break;se.isClosed=!0,se.controller.close(),this._deleteStreamController(se,ce);break;case 5:(0,l.assert)(se,"error should have stream controller"),se.controller.error(pe(U.reason)),this._deleteStreamController(se,ce);break;case 2:U.success?se.cancelCall.resolve():se.cancelCall.reject(pe(U.reason)),this._deleteStreamController(se,ce);break;case 1:if(!z)break;new Promise(function(ae){ae(z.onCancel&&z.onCancel(pe(U.reason)))}).then(function(){K.postMessage({sourceName:he,targetName:ee,stream:2,streamId:ce,success:!0})},function(ae){K.postMessage({sourceName:he,targetName:ee,stream:2,streamId:ce,reason:pe(ae)})}),z.sinkCapability.reject(pe(U.reason)),z.isCancelled=!0,delete this.streamSinks[ce];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(U,ce){var he=this;return _asyncToGenerator(function*(){yield Promise.allSettled([U.startCall&&U.startCall.promise,U.pullCall&&U.pullCall.promise,U.cancelCall&&U.cancelCall.promise]),delete he.streamControllers[ce]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.Metadata=void 0;var l=R(1),te=new WeakMap,O=new WeakMap;I.Metadata=class pe{constructor({parsedData:re,rawData:U}){_classPrivateFieldInitSpec(this,te,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:void 0}),_classPrivateFieldSet(this,te,re),_classPrivateFieldSet(this,O,U)}getRaw(){return _classPrivateFieldGet(this,O)}get(re){return _classPrivateFieldGet(this,te).get(re)??null}getAll(){return(0,l.objectFromMap)(_classPrivateFieldGet(this,te))}has(re){return _classPrivateFieldGet(this,te).has(re)}}},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.OptionalContentConfig=void 0;var l=R(1);class te{constructor(ie,re){this.visible=!0,this.name=ie,this.intent=re}}I.OptionalContentConfig=class O{constructor(ie){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==ie){this.name=ie.name,this.creator=ie.creator,this._order=ie.order;for(const re of ie.groups)this._groups.set(re.id,new te(re.name,re.intent));if("OFF"===ie.baseState)for(const re of this._groups)re.visible=!1;for(const re of ie.on)this._groups.get(re).visible=!0;for(const re of ie.off)this._groups.get(re).visible=!1}}_evaluateVisibilityExpression(ie){const re=ie.length;if(re<2)return!0;const U=ie[0];for(let ce=1;ce<re;ce++){const he=ie[ce];let ee;if(Array.isArray(he))ee=this._evaluateVisibilityExpression(he);else{if(!this._groups.has(he))return(0,l.warn)(`Optional content group not found: ${he}`),!0;ee=this._groups.get(he).visible}switch(U){case"And":if(!ee)return!1;break;case"Or":if(ee)return!0;break;case"Not":return!ee;default:return!0}}return"And"===U}isVisible(ie){if(0===this._groups.size)return!0;if(!ie)return(0,l.warn)("Optional content group not defined."),!0;if("OCG"===ie.type)return this._groups.has(ie.id)?this._groups.get(ie.id).visible:((0,l.warn)(`Optional content group not found: ${ie.id}`),!0);if("OCMD"===ie.type){if(ie.expression)return this._evaluateVisibilityExpression(ie.expression);if(!ie.policy||"AnyOn"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,l.warn)(`Optional content group not found: ${re}`),!0;if(this._groups.get(re).visible)return!0}return!1}if("AllOn"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,l.warn)(`Optional content group not found: ${re}`),!0;if(!this._groups.get(re).visible)return!1}return!0}if("AnyOff"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,l.warn)(`Optional content group not found: ${re}`),!0;if(!this._groups.get(re).visible)return!0}return!1}if("AllOff"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,l.warn)(`Optional content group not found: ${re}`),!0;if(this._groups.get(re).visible)return!1}return!0}return(0,l.warn)(`Unknown optional content policy ${ie.policy}.`),!0}return(0,l.warn)(`Unknown group type ${ie.type}.`),!0}setVisibility(ie,re=!0){this._groups.has(ie)?this._groups.get(ie).visible=!!re:(0,l.warn)(`Optional content group not found: ${ie}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,l.objectFromMap)(this._groups):null}getGroup(ie){return this._groups.get(ie)||null}}},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFDataTransportStream=void 0;var l=R(1),te=R(5);I.PDFDataTransportStream=class O{constructor(U,ce){(0,l.assert)(ce,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=U.progressiveDone||!1,this._contentDispositionFilename=U.contentDispositionFilename||null;const he=U.initialData;if(he?.length>0){const ee=new Uint8Array(he).buffer;this._queuedChunks.push(ee)}this._pdfDataRangeTransport=ce,this._isStreamingSupported=!U.disableStream,this._isRangeSupported=!U.disableRange,this._contentLength=U.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ee,K)=>{this._onReceiveData({begin:ee,chunk:K})}),this._pdfDataRangeTransport.addProgressListener((ee,K)=>{this._onProgress({loaded:ee,total:K})}),this._pdfDataRangeTransport.addProgressiveReadListener(ee=>{this._onReceiveData({chunk:ee})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(U){const ce=new Uint8Array(U.chunk).buffer;if(void 0===U.begin)this._fullRequestReader?this._fullRequestReader._enqueue(ce):this._queuedChunks.push(ce);else{const he=this._rangeReaders.some(function(ee){return ee._begin===U.begin&&(ee._enqueue(ce),!0)});(0,l.assert)(he,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(U){if(void 0===U.total){const ce=this._rangeReaders[0];ce?.onProgress&&ce.onProgress({loaded:U.loaded})}else{const ce=this._fullRequestReader;ce?.onProgress&&ce.onProgress({loaded:U.loaded,total:U.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(U){const ce=this._rangeReaders.indexOf(U);ce>=0&&this._rangeReaders.splice(ce,1)}getFullReader(){(0,l.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const U=this._queuedChunks;return this._queuedChunks=null,new pe(this,U,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(U,ce){if(ce<=this._progressiveDataLength)return null;const he=new ie(this,U,ce);return this._pdfDataRangeTransport.requestDataRange(U,ce),this._rangeReaders.push(he),he}cancelAllRequests(U){this._fullRequestReader&&this._fullRequestReader.cancel(U);for(const ce of this._rangeReaders.slice(0))ce.cancel(U);this._pdfDataRangeTransport.abort()}};class pe{constructor(U,ce,he=!1,ee=null){this._stream=U,this._done=he||!1,this._filename=(0,te.isPdfFile)(ee)?ee:null,this._queuedChunks=ce||[],this._loaded=0;for(const K of this._queuedChunks)this._loaded+=K.byteLength;this._requests=[],this._headersReady=Promise.resolve(),U._fullRequestReader=this,this.onProgress=null}_enqueue(U){this._done||(this._requests.length>0?this._requests.shift().resolve({value:U,done:!1}):this._queuedChunks.push(U),this._loaded+=U.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var U=this;return _asyncToGenerator(function*(){if(U._queuedChunks.length>0)return{value:U._queuedChunks.shift(),done:!1};if(U._done)return{value:void 0,done:!0};const ce=(0,l.createPromiseCapability)();return U._requests.push(ce),ce.promise})()}cancel(U){this._done=!0;for(const ce of this._requests)ce.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ie{constructor(U,ce,he){this._stream=U,this._begin=ce,this._end=he,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(U){if(!this._done){if(0===this._requests.length)this._queuedChunk=U;else{this._requests.shift().resolve({value:U,done:!1});for(const he of this._requests)he.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var U=this;return _asyncToGenerator(function*(){if(U._queuedChunk){const he=U._queuedChunk;return U._queuedChunk=null,{value:he,done:!1}}if(U._done)return{value:void 0,done:!0};const ce=(0,l.createPromiseCapability)();return U._requests.push(ce),ce.promise})()}cancel(U){this._done=!0;for(const ce of this._requests)ce.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(xe,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.XfaText=void 0;class R{static textContent(te){const O=[],pe={items:O,styles:Object.create(null)};return function ie(re){if(!re)return;let U=null;const ce=re.name;if("#text"===ce)U=re.value;else{if(!R.shouldBuildText(ce))return;re?.attributes?.textContent?U=re.attributes.textContent:re.value&&(U=re.value)}if(null!==U&&O.push({str:U}),re.children)for(const he of re.children)ie(he)}(te),pe}static shouldBuildText(te){return!("textarea"===te||"input"===te||"option"===te||"select"===te)}}I.XfaText=R},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.NodeStandardFontDataFactory=I.NodeCanvasFactory=I.NodeCMapReaderFactory=void 0;var l=R(6);const te=function(re){return new Promise((U,ce)=>{__webpack_require__(172).readFile(re,(ee,K)=>{!ee&&K?U(new Uint8Array(K)):ce(new Error(ee))})})};I.NodeCanvasFactory=class O extends l.BaseCanvasFactory{_createCanvas(U,ce){return __webpack_require__(3414).createCanvas(U,ce)}},I.NodeCMapReaderFactory=class pe extends l.BaseCMapReaderFactory{_fetchData(U,ce){return te(U).then(he=>({cMapData:he,compressionType:ce}))}},I.NodeStandardFontDataFactory=class ie extends l.BaseStandardFontDataFactory{_fetchData(U){return te(U)}}},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.AnnotationLayer=void 0;var l=R(1),te=R(5),O=R(8),pe=R(21),ie=R(22);const U=new WeakSet;function ce(x){return{width:x[2]-x[0],height:x[3]-x[1]}}class he{static create(b){switch(b.data.annotationType){case l.AnnotationType.LINK:return new K(b);case l.AnnotationType.TEXT:return new se(b);case l.AnnotationType.WIDGET:switch(b.data.fieldType){case"Tx":return new ae(b);case"Btn":return b.data.radioButton?new fe(b):b.data.checkBox?new W(b):new G(b);case"Ch":return new Y(b)}return new z(b);case l.AnnotationType.POPUP:return new A(b);case l.AnnotationType.FREETEXT:return new F(b);case l.AnnotationType.LINE:return new Q(b);case l.AnnotationType.SQUARE:return new N(b);case l.AnnotationType.CIRCLE:return new J(b);case l.AnnotationType.POLYLINE:return new j(b);case l.AnnotationType.CARET:return new oe(b);case l.AnnotationType.INK:return new $(b);case l.AnnotationType.POLYGON:return new D(b);case l.AnnotationType.HIGHLIGHT:return new le(b);case l.AnnotationType.UNDERLINE:return new ge(b);case l.AnnotationType.SQUIGGLY:return new ye(b);case l.AnnotationType.STRIKEOUT:return new ke(b);case l.AnnotationType.STAMP:return new Ne(b);case l.AnnotationType.FILEATTACHMENT:return new Qe(b);default:return new ee(b)}}}class ee{constructor(b,{isRenderable:M=!1,ignoreBorder:L=!1,createQuadrilaterals:X=!1}={}){this.isRenderable=M,this.data=b.data,this.layer=b.layer,this.page=b.page,this.viewport=b.viewport,this.linkService=b.linkService,this.downloadManager=b.downloadManager,this.imageResourcesPath=b.imageResourcesPath,this.renderForms=b.renderForms,this.svgFactory=b.svgFactory,this.annotationStorage=b.annotationStorage,this.enableScripting=b.enableScripting,this.hasJSActions=b.hasJSActions,this._fieldObjects=b.fieldObjects,this._mouseState=b.mouseState,M&&(this.container=this._createContainer(L)),X&&(this.quadrilaterals=this._createQuadrilaterals(L))}_createContainer(b=!1){const M=this.data,L=this.page,X=this.viewport,ne=document.createElement("section");let{width:B,height:be}=ce(M.rect);ne.setAttribute("data-annotation-id",M.id);const je=l.Util.normalizeRect([M.rect[0],L.view[3]-M.rect[1]+L.view[1],M.rect[2],L.view[3]-M.rect[3]+L.view[1]]);if(M.hasOwnCanvas){const Me=X.transform.slice(),[Ue,Be]=l.Util.singularValueDecompose2dScale(Me);B=Math.ceil(B*Ue),be=Math.ceil(be*Be),je[0]*=Ue,je[1]*=Be;for(let Ke=0;Ke<4;Ke++)Me[Ke]=Math.sign(Me[Ke]);ne.style.transform=`matrix(${Me.join(",")})`}else ne.style.transform=`matrix(${X.transform.join(",")})`;if(ne.style.transformOrigin=`${-je[0]}px ${-je[1]}px`,!b&&M.borderStyle.width>0){ne.style.borderWidth=`${M.borderStyle.width}px`,M.borderStyle.style!==l.AnnotationBorderStyleType.UNDERLINE&&(B-=2*M.borderStyle.width,be-=2*M.borderStyle.width);const Me=M.borderStyle.horizontalCornerRadius,Ue=M.borderStyle.verticalCornerRadius;switch((Me>0||Ue>0)&&(ne.style.borderRadius=`${Me}px / ${Ue}px`),M.borderStyle.style){case l.AnnotationBorderStyleType.SOLID:ne.style.borderStyle="solid";break;case l.AnnotationBorderStyleType.DASHED:ne.style.borderStyle="dashed";break;case l.AnnotationBorderStyleType.BEVELED:(0,l.warn)("Unimplemented border style: beveled");break;case l.AnnotationBorderStyleType.INSET:(0,l.warn)("Unimplemented border style: inset");break;case l.AnnotationBorderStyleType.UNDERLINE:ne.style.borderBottomStyle="solid"}M.borderColor||M.color?ne.style.borderColor=l.Util.makeHexColor(0|M.color[0],0|M.color[1],0|M.color[2]):ne.style.borderWidth=0}return ne.style.left=`${je[0]}px`,ne.style.top=`${je[1]}px`,M.hasOwnCanvas?ne.style.width=ne.style.height="auto":(ne.style.width=`${B}px`,ne.style.height=`${be}px`),ne}get _commonActions(){const b=(M,L,X)=>{const ne=X.detail[M];X.target.style[L]=pe.ColorConverters[`${ne[0]}_HTML`](ne.slice(1))};return(0,l.shadow)(this,"_commonActions",{display:M=>{const L=M.detail.display%2==1;M.target.style.visibility=L?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:L,print:0===M.detail.display||3===M.detail.display})},print:M=>{this.annotationStorage.setValue(this.data.id,{print:M.detail.print})},hidden:M=>{M.target.style.visibility=M.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:M.detail.hidden})},focus:M=>{setTimeout(()=>M.target.focus({preventScroll:!1}),0)},userName:M=>{M.target.title=M.detail.userName},readonly:M=>{M.detail.readonly?M.target.setAttribute("readonly",""):M.target.removeAttribute("readonly")},required:M=>{M.detail.required?M.target.setAttribute("required",""):M.target.removeAttribute("required")},bgColor:M=>{b("bgColor","backgroundColor",M)},fillColor:M=>{b("fillColor","backgroundColor",M)},fgColor:M=>{b("fgColor","color",M)},textColor:M=>{b("textColor","color",M)},borderColor:M=>{b("borderColor","borderColor",M)},strokeColor:M=>{b("strokeColor","borderColor",M)}})}_dispatchEventFromSandbox(b,M){const L=this._commonActions;for(const X of Object.keys(M.detail)){const ne=b[X]||L[X];ne&&ne(M)}}_setDefaultPropertiesFromJS(b){if(!this.enableScripting)return;const M=this.annotationStorage.getRawValue(this.data.id);if(!M)return;const L=this._commonActions;for(const[X,ne]of Object.entries(M)){const B=L[X];B&&(B({detail:ne,target:b}),delete M[X])}}_createQuadrilaterals(b=!1){if(!this.data.quadPoints)return null;const M=[],L=this.data.rect;for(const X of this.data.quadPoints)this.data.rect=[X[2].x,X[2].y,X[1].x,X[1].y],M.push(this._createContainer(b));return this.data.rect=L,M}_createPopup(b,M){let L=this.container;this.quadrilaterals&&(b=b||this.quadrilaterals,L=this.quadrilaterals[0]),b||((b=document.createElement("div")).style.height=L.style.height,b.style.width=L.style.width,L.appendChild(b));const ne=new S({container:L,trigger:b,color:M.color,titleObj:M.titleObj,modificationDate:M.modificationDate,contentsObj:M.contentsObj,richText:M.richText,hideWrapper:!0}).render();ne.style.left=L.style.width,L.appendChild(ne)}_renderQuadrilaterals(b){for(const M of this.quadrilaterals)M.className=b;return this.quadrilaterals}render(){(0,l.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(b,M=null){const L=[];if(this._fieldObjects){const X=this._fieldObjects[b];if(X)for(const{page:ne,id:B,exportValues:be}of X){if(-1===ne||B===M)continue;const je="string"==typeof be?be:null,Me=document.getElementById(B);!Me||U.has(Me)?L.push({id:B,exportValue:je,domElement:Me}):(0,l.warn)(`_getElementsByName - element not allowed: ${B}`)}return L}for(const X of document.getElementsByName(b)){const{id:ne,exportValue:B}=X;ne!==M&&(!U.has(X)||L.push({id:ne,exportValue:B,domElement:X}))}return L}static get platform(){const b=typeof navigator<"u"?navigator.platform:"";return(0,l.shadow)(this,"platform",{isWin:b.includes("Win"),isMac:b.includes("Mac")})}}class K extends ee{constructor(b,M=null){super(b,{isRenderable:!!(b.data.url||b.data.dest||b.data.action||b.data.isTooltipOnly||b.data.resetForm||b.data.actions&&(b.data.actions.Action||b.data.actions["Mouse Up"]||b.data.actions["Mouse Down"])),ignoreBorder:!!M?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:b,linkService:M}=this,L=document.createElement("a");if(b.url)M.addLinkAttributes(L,b.url,b.newWindow);else if(b.action)this._bindNamedAction(L,b.action);else if(b.dest)this._bindLink(L,b.dest);else{let X=!1;b.actions&&(b.actions.Action||b.actions["Mouse Up"]||b.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(X=!0,this._bindJSAction(L,b)),b.resetForm?this._bindResetFormAction(L,b.resetForm):X||this._bindLink(L,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((X,ne)=>{const B=0===ne?L:L.cloneNode();return X.appendChild(B),X}):(this.container.className="linkAnnotation",this.container.appendChild(L),this.container)}_bindLink(b,M){b.href=this.linkService.getDestinationHash(M),b.onclick=()=>(M&&this.linkService.goToDestination(M),!1),(M||""===M)&&(b.className="internalLink")}_bindNamedAction(b,M){b.href=this.linkService.getAnchorUrl(""),b.onclick=()=>(this.linkService.executeNamedAction(M),!1),b.className="internalLink"}_bindJSAction(b,M){b.href=this.linkService.getAnchorUrl("");const L=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const X of Object.keys(M.actions)){const ne=L.get(X);!ne||(b[ne]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M.id,name:X}}),!1))}b.onclick||(b.onclick=()=>!1),b.className="internalLink"}_bindResetFormAction(b,M){const L=b.onclick;if(L||(b.href=this.linkService.getAnchorUrl("")),b.className="internalLink",!this._fieldObjects)return(0,l.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(L||(b.onclick=()=>!1));b.onclick=()=>{L&&L();const{fields:X,refs:ne,include:B}=M,be=[];if(0!==X.length||0!==ne.length){const Ue=new Set(ne);for(const Be of X){const Ke=this._fieldObjects[Be]||[];for(const{id:Xe}of Ke)Ue.add(Xe)}for(const Be of Object.values(this._fieldObjects))for(const Ke of Be)Ue.has(Ke.id)===B&&be.push(Ke)}else for(const Ue of Object.values(this._fieldObjects))be.push(...Ue);const je=this.annotationStorage,Me=[];for(const Ue of be){const{id:Be}=Ue;switch(Me.push(Be),Ue.type){case"text":case"combobox":case"listbox":je.setValue(Be,{value:Ue.defaultValue||""});break;case"checkbox":case"radiobutton":je.setValue(Be,{value:Ue.defaultValue===Ue.exportValues});break;default:continue}const Ke=document.getElementById(Be);!Ke||!U.has(Ke)||Ke.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Me,name:"ResetForm"}}),!1}}}class se extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str)})}render(){this.container.className="textAnnotation";const b=document.createElement("img");return b.style.height=this.container.style.height,b.style.width=this.container.style.width,b.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",b.alt="[{{type}} Annotation]",b.dataset.l10nId="text_annotation_type",b.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(b,this.data),this.container.appendChild(b),this.container}}class z extends ee{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(b){const{isWin:M,isMac:L}=ee.platform;return M&&b.ctrlKey||L&&b.metaKey}_setEventListener(b,M,L,X){M.includes("mouse")?b.addEventListener(M,ne=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:X(ne),shift:ne.shiftKey,modifier:this._getKeyModifier(ne)}})}):b.addEventListener(M,ne=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:X(ne)}})})}_setEventListeners(b,M,L){for(const[X,ne]of M)("Action"===ne||this.data.actions?.[ne])&&this._setEventListener(b,X,ne,L)}_setBackgroundColor(b){const M=this.data.backgroundColor||null;b.style.backgroundColor=null===M?"transparent":l.Util.makeHexColor(M[0],M[1],M[2])}}class ae extends z{constructor(b){super(b,{isRenderable:b.renderForms||!b.data.hasAppearance&&!!b.data.fieldValue})}setPropertyOnSiblings(b,M,L,X){const ne=this.annotationStorage;for(const B of this._getElementsByName(b.name,b.id))B.domElement&&(B.domElement[M]=L),ne.setValue(B.id,{[X]:L})}render(){const b=this.annotationStorage,M=this.data.id;this.container.className="textWidgetAnnotation";let L=null;if(this.renderForms){const X=b.getValue(M,{value:this.data.fieldValue}),ne=X.formattedValue||X.value||"",B={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(L=document.createElement("textarea"),L.textContent=ne):(L=document.createElement("input"),L.type="text",L.setAttribute("value",ne)),U.add(L),L.disabled=this.data.readOnly,L.name=this.data.fieldName,L.tabIndex=1e3,B.userValue=ne,L.setAttribute("id",M),L.addEventListener("input",je=>{b.setValue(M,{value:je.target.value}),this.setPropertyOnSiblings(L,"value",je.target.value,"value")}),L.addEventListener("resetform",je=>{L.value=B.userValue=this.data.defaultFieldValue??"",B.formattedValue=null});let be=je=>{const{formattedValue:Me}=B;null!=Me&&(je.target.value=Me),je.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){L.addEventListener("focus",Me=>{B.userValue&&(Me.target.value=B.userValue),B.valueOnFocus=Me.target.value}),L.addEventListener("updatefromsandbox",Me=>{this._dispatchEventFromSandbox({value(Be){B.userValue=Be.detail.value??"",b.setValue(M,{value:B.userValue.toString()}),Be.target.value=B.userValue},formattedValue(Be){const{formattedValue:Ke}=Be.detail;B.formattedValue=Ke,null!=Ke&&Be.target!==document.activeElement&&(Be.target.value=Ke),b.setValue(M,{formattedValue:Ke})},selRange(Be){Be.target.setSelectionRange(...Be.detail.selRange)}},Me)}),L.addEventListener("keydown",Me=>{let Ue=-1;if("Escape"===Me.key?Ue=0:"Enter"===Me.key?Ue=2:"Tab"===Me.key&&(Ue=3),-1===Ue)return;const{value:Be}=Me.target;B.valueOnFocus!==Be&&(B.userValue=Be,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:Be,willCommit:!0,commitKey:Ue,selStart:Me.target.selectionStart,selEnd:Me.target.selectionEnd}}))});const je=be;be=null,L.addEventListener("blur",Me=>{const{value:Ue}=Me.target;B.userValue=Ue,this._mouseState.isDown&&B.valueOnFocus!==Ue&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:Ue,willCommit:!0,commitKey:1,selStart:Me.target.selectionStart,selEnd:Me.target.selectionEnd}}),je(Me)}),this.data.actions?.Keystroke&&L.addEventListener("beforeinput",Me=>{const{data:Ue,target:Be}=Me,{value:Ke,selectionStart:Xe,selectionEnd:mt}=Be;let Dt=Xe,at=mt;switch(Me.inputType){case"deleteWordBackward":{const _t=Ke.substring(0,Xe).match(/\w*[^\w]*$/);_t&&(Dt-=_t[0].length);break}case"deleteWordForward":{const _t=Ke.substring(Xe).match(/^[^\w]*\w*/);_t&&(at+=_t[0].length);break}case"deleteContentBackward":Xe===mt&&(Dt-=1);break;case"deleteContentForward":Xe===mt&&(at+=1)}Me.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:Ke,change:Ue||"",willCommit:!1,selStart:Dt,selEnd:at}})}),this._setEventListeners(L,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Me=>Me.target.value)}if(be&&L.addEventListener("blur",be),null!==this.data.maxLen&&(L.maxLength=this.data.maxLen),this.data.comb){const Me=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;L.classList.add("comb"),L.style.letterSpacing=`calc(${Me}px - 1ch)`}}else L=document.createElement("div"),L.textContent=this.data.fieldValue,L.style.verticalAlign="middle",L.style.display="table-cell";return this._setTextStyle(L),this._setBackgroundColor(L),this._setDefaultPropertiesFromJS(L),this.container.appendChild(L),this.container}_setTextStyle(b){const{fontSize:L,fontColor:X}=this.data.defaultAppearanceData,ne=b.style;L&&(ne.fontSize=`${L}px`),ne.color=l.Util.makeHexColor(X[0],X[1],X[2]),null!==this.data.textAlignment&&(ne.textAlign=["left","center","right"][this.data.textAlignment])}}class W extends z{constructor(b){super(b,{isRenderable:b.renderForms})}render(){const b=this.annotationStorage,M=this.data,L=M.id;let X=b.getValue(L,{value:M.exportValue===M.fieldValue}).value;"string"==typeof X&&(X="Off"!==X,b.setValue(L,{value:X})),this.container.className="buttonWidgetAnnotation checkBox";const ne=document.createElement("input");return U.add(ne),ne.disabled=M.readOnly,ne.type="checkbox",ne.name=M.fieldName,X&&ne.setAttribute("checked",!0),ne.setAttribute("id",L),ne.setAttribute("exportValue",M.exportValue),ne.tabIndex=1e3,ne.addEventListener("change",B=>{const{name:be,checked:je}=B.target;for(const Me of this._getElementsByName(be,L)){const Ue=je&&Me.exportValue===M.exportValue;Me.domElement&&(Me.domElement.checked=Ue),b.setValue(Me.id,{value:Ue})}b.setValue(L,{value:je})}),ne.addEventListener("resetform",B=>{B.target.checked=(M.defaultFieldValue||"Off")===M.exportValue}),this.enableScripting&&this.hasJSActions&&(ne.addEventListener("updatefromsandbox",B=>{this._dispatchEventFromSandbox({value(je){je.target.checked="Off"!==je.detail.value,b.setValue(L,{value:je.target.checked})}},B)}),this._setEventListeners(ne,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],B=>B.target.checked)),this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.appendChild(ne),this.container}}class fe extends z{constructor(b){super(b,{isRenderable:b.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const b=this.annotationStorage,M=this.data,L=M.id;let X=b.getValue(L,{value:M.fieldValue===M.buttonValue}).value;"string"==typeof X&&(X=X!==M.buttonValue,b.setValue(L,{value:X}));const ne=document.createElement("input");if(U.add(ne),ne.disabled=M.readOnly,ne.type="radio",ne.name=M.fieldName,X&&ne.setAttribute("checked",!0),ne.setAttribute("id",L),ne.tabIndex=1e3,ne.addEventListener("change",B=>{const{name:be,checked:je}=B.target;for(const Me of this._getElementsByName(be,L))b.setValue(Me.id,{value:!1});b.setValue(L,{value:je})}),ne.addEventListener("resetform",B=>{const be=M.defaultFieldValue;B.target.checked=null!=be&&be===M.buttonValue}),this.enableScripting&&this.hasJSActions){const B=M.buttonValue;ne.addEventListener("updatefromsandbox",be=>{this._dispatchEventFromSandbox({value:Me=>{const Ue=B===Me.detail.value;for(const Be of this._getElementsByName(Me.target.name)){const Ke=Ue&&Be.id===L;Be.domElement&&(Be.domElement.checked=Ke),b.setValue(Be.id,{value:Ke})}}},be)}),this._setEventListeners(ne,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],be=>be.target.checked)}return this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.appendChild(ne),this.container}}class G extends K{constructor(b){super(b,{ignoreBorder:b.data.hasAppearance})}render(){const b=super.render();return b.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(b.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(b),b}}class Y extends z{constructor(b){super(b,{isRenderable:b.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const b=this.annotationStorage,M=this.data.id,L=b.getValue(M,{value:this.data.fieldValue});let{fontSize:X}=this.data.defaultAppearanceData;X||(X=9);const ne=`calc(${X}px * var(--zoom-factor))`,B=document.createElement("select");U.add(B),B.disabled=this.data.readOnly,B.name=this.data.fieldName,B.setAttribute("id",M),B.tabIndex=1e3,B.style.fontSize=`${X}px`,this.data.combo||(B.size=this.data.options.length,this.data.multiSelect&&(B.multiple=!0)),B.addEventListener("resetform",Me=>{const Ue=this.data.defaultFieldValue;for(const Be of B.options)Be.selected=Be.value===Ue});for(const Me of this.data.options){const Ue=document.createElement("option");Ue.textContent=Me.displayValue,Ue.value=Me.exportValue,this.data.combo&&(Ue.style.fontSize=ne),L.value.includes(Me.exportValue)&&Ue.setAttribute("selected",!0),B.appendChild(Ue)}const be=(Me,Ue)=>{const Be=Ue?"value":"textContent",Ke=Me.target.options;return Me.target.multiple?Array.prototype.filter.call(Ke,Xe=>Xe.selected).map(Xe=>Xe[Be]):-1===Ke.selectedIndex?null:Ke[Ke.selectedIndex][Be]},je=Me=>Array.prototype.map.call(Me.target.options,Be=>({displayValue:Be.textContent,exportValue:Be.value}));return this.enableScripting&&this.hasJSActions?(B.addEventListener("updatefromsandbox",Me=>{this._dispatchEventFromSandbox({value(Be){const Ke=Be.detail.value,Xe=new Set(Array.isArray(Ke)?Ke:[Ke]);for(const mt of B.options)mt.selected=Xe.has(mt.value);b.setValue(M,{value:be(Be,!0)})},multipleSelection(Be){B.multiple=!0},remove(Be){const Ke=B.options,Xe=Be.detail.remove;Ke[Xe].selected=!1,B.remove(Xe),Ke.length>0&&-1===Array.prototype.findIndex.call(Ke,Dt=>Dt.selected)&&(Ke[0].selected=!0),b.setValue(M,{value:be(Be,!0),items:je(Be)})},clear(Be){for(;0!==B.length;)B.remove(0);b.setValue(M,{value:null,items:[]})},insert(Be){const{index:Ke,displayValue:Xe,exportValue:mt}=Be.detail.insert,Dt=document.createElement("option");Dt.textContent=Xe,Dt.value=mt,B.insertBefore(Dt,B.children[Ke]),b.setValue(M,{value:be(Be,!0),items:je(Be)})},items(Be){const{items:Ke}=Be.detail;for(;0!==B.length;)B.remove(0);for(const Xe of Ke){const{displayValue:mt,exportValue:Dt}=Xe,at=document.createElement("option");at.textContent=mt,at.value=Dt,B.appendChild(at)}B.options.length>0&&(B.options[0].selected=!0),b.setValue(M,{value:be(Be,!0),items:je(Be)})},indices(Be){const Ke=new Set(Be.detail.indices);for(const Xe of Be.target.options)Xe.selected=Ke.has(Xe.index);b.setValue(M,{value:be(Be,!0)})},editable(Be){Be.target.disabled=!Be.detail.editable}},Me)}),B.addEventListener("input",Me=>{const Ue=be(Me,!0),Be=be(Me,!1);b.setValue(M,{value:Ue}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:Be,changeEx:Ue,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(B,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Me=>Me.target.checked)):B.addEventListener("input",function(Me){b.setValue(M,{value:be(Me,!0)})}),this._setBackgroundColor(B),this._setDefaultPropertiesFromJS(B),this.container.appendChild(B),this.container}}class A extends ee{constructor(b){super(b,{isRenderable:!!(b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const L=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===L.length)return this.container;const X=new S({container:this.container,trigger:Array.from(L),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ne=this.page,B=l.Util.normalizeRect([this.data.parentRect[0],ne.view[3]-this.data.parentRect[1]+ne.view[1],this.data.parentRect[2],ne.view[3]-this.data.parentRect[3]+ne.view[1]]),be=B[0]+this.data.parentRect[2]-this.data.parentRect[0],je=B[1];return this.container.style.transformOrigin=`${-be}px ${-je}px`,this.container.style.left=`${be}px`,this.container.style.top=`${je}px`,this.container.appendChild(X.render()),this.container}}class S{constructor(b){this.container=b.container,this.trigger=b.trigger,this.color=b.color,this.titleObj=b.titleObj,this.modificationDate=b.modificationDate,this.contentsObj=b.contentsObj,this.richText=b.richText,this.hideWrapper=b.hideWrapper||!1,this.pinned=!1}render(){const M=document.createElement("div");M.className="popupWrapper",this.hideElement=this.hideWrapper?M:this.container,this.hideElement.hidden=!0;const L=document.createElement("div");L.className="popup";const X=this.color;X&&(L.style.backgroundColor=l.Util.makeHexColor(0|.7*(255-X[0])+X[0],0|.7*(255-X[1])+X[1],0|.7*(255-X[2])+X[2]));const ne=document.createElement("h1");ne.dir=this.titleObj.dir,ne.textContent=this.titleObj.str,L.appendChild(ne);const B=te.PDFDateString.toDateObject(this.modificationDate);if(B){const be=document.createElement("span");be.className="popupDate",be.textContent="{{date}}, {{time}}",be.dataset.l10nId="annotation_date_string",be.dataset.l10nArgs=JSON.stringify({date:B.toLocaleDateString(),time:B.toLocaleTimeString()}),L.appendChild(be)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const be=this._formatContents(this.contentsObj);L.appendChild(be)}else ie.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:L}),L.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const be of this.trigger)be.addEventListener("click",this._toggle.bind(this)),be.addEventListener("mouseover",this._show.bind(this,!1)),be.addEventListener("mouseout",this._hide.bind(this,!1));return L.addEventListener("click",this._hide.bind(this,!0)),M.appendChild(L),M}_formatContents({str:b,dir:M}){const L=document.createElement("p");L.className="popupContent",L.dir=M;const X=b.split(/(?:\r\n?|\n)/);for(let ne=0,B=X.length;ne<B;++ne)L.appendChild(document.createTextNode(X[ne])),ne<B-1&&L.appendChild(document.createElement("br"));return L}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(b=!1){b&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(b=!0){b&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class F extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Q extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const b=this.data,{width:M,height:L}=ce(b.rect),X=this.svgFactory.create(M,L),ne=this.svgFactory.createElement("svg:line");return ne.setAttribute("x1",b.rect[2]-b.lineCoordinates[0]),ne.setAttribute("y1",b.rect[3]-b.lineCoordinates[1]),ne.setAttribute("x2",b.rect[2]-b.lineCoordinates[2]),ne.setAttribute("y2",b.rect[3]-b.lineCoordinates[3]),ne.setAttribute("stroke-width",b.borderStyle.width||1),ne.setAttribute("stroke","transparent"),ne.setAttribute("fill","transparent"),X.appendChild(ne),this.container.append(X),this._createPopup(ne,b),this.container}}class N extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const b=this.data,{width:M,height:L}=ce(b.rect),X=this.svgFactory.create(M,L),ne=b.borderStyle.width,B=this.svgFactory.createElement("svg:rect");return B.setAttribute("x",ne/2),B.setAttribute("y",ne/2),B.setAttribute("width",M-ne),B.setAttribute("height",L-ne),B.setAttribute("stroke-width",ne||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),X.appendChild(B),this.container.append(X),this._createPopup(B,b),this.container}}class J extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const b=this.data,{width:M,height:L}=ce(b.rect),X=this.svgFactory.create(M,L),ne=b.borderStyle.width,B=this.svgFactory.createElement("svg:ellipse");return B.setAttribute("cx",M/2),B.setAttribute("cy",L/2),B.setAttribute("rx",M/2-ne/2),B.setAttribute("ry",L/2-ne/2),B.setAttribute("stroke-width",ne||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),X.appendChild(B),this.container.append(X),this._createPopup(B,b),this.container}}class j extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const b=this.data,{width:M,height:L}=ce(b.rect),X=this.svgFactory.create(M,L);let ne=[];for(const be of b.vertices)ne.push(be.x-b.rect[0]+","+(b.rect[3]-be.y));ne=ne.join(" ");const B=this.svgFactory.createElement(this.svgElementName);return B.setAttribute("points",ne),B.setAttribute("stroke-width",b.borderStyle.width||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),X.appendChild(B),this.container.append(X),this._createPopup(B,b),this.container}}class D extends j{constructor(b){super(b),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class oe extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class $ extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const b=this.data,{width:M,height:L}=ce(b.rect),X=this.svgFactory.create(M,L);for(const ne of b.inkLists){let B=[];for(const je of ne)B.push(`${je.x-b.rect[0]},${b.rect[3]-je.y}`);B=B.join(" ");const be=this.svgFactory.createElement(this.svgElementName);be.setAttribute("points",B),be.setAttribute("stroke-width",b.borderStyle.width||1),be.setAttribute("stroke","transparent"),be.setAttribute("fill","transparent"),this._createPopup(be,b),X.appendChild(be)}return this.container.append(X),this.container}}class le extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class ge extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ye extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class ke extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Ne extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Qe extends ee{constructor(b){super(b,{isRenderable:!0});const{filename:M,content:L}=this.data.file;this.filename=(0,te.getFilenameFromUrl)(M),this.content=L,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:M,content:L})}render(){this.container.className="fileAttachmentAnnotation";const b=document.createElement("div");return b.style.height=this.container.style.height,b.style.width=this.container.style.width,b.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(b,this.data),this.container.appendChild(b),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class it{static render(b){const M=[],L=[];for(const ne of b.annotations){if(!ne)continue;const{width:B,height:be}=ce(ne.rect);if(!(B<=0||be<=0)){if(ne.annotationType===l.AnnotationType.POPUP){L.push(ne);continue}M.push(ne)}}L.length&&M.push(...L);const X=b.div;for(const ne of M){const B=he.create({data:ne,layer:X,page:b.page,viewport:b.viewport,linkService:b.linkService,downloadManager:b.downloadManager,imageResourcesPath:b.imageResourcesPath||"",renderForms:!1!==b.renderForms,svgFactory:new te.DOMSVGFactory,annotationStorage:b.annotationStorage||new O.AnnotationStorage,enableScripting:b.enableScripting,hasJSActions:b.hasJSActions,fieldObjects:b.fieldObjects,mouseState:b.mouseState||{isDown:!1}});if(B.isRenderable){const be=B.render();if(ne.hidden&&(be.style.visibility="hidden"),Array.isArray(be))for(const je of be)X.appendChild(je);else B instanceof A?X.prepend(be):X.appendChild(be)}}_classStaticPrivateMethodGet(this,it,ve).call(this,X,b.annotationCanvasMap)}static update(b){const{page:M,viewport:L,annotations:X,annotationCanvasMap:ne,div:B}=b,be=L.transform,je=`matrix(${be.join(",")})`;let Me,Ue;for(const Be of X){const Ke=B.querySelectorAll(`[data-annotation-id="${Be.id}"]`);if(Ke)for(const Xe of Ke)if(Be.hasOwnCanvas){const mt=l.Util.normalizeRect([Be.rect[0],M.view[3]-Be.rect[1]+M.view[1],Be.rect[2],M.view[3]-Be.rect[3]+M.view[1]]);if(!Ue){Me=Math.abs(be[0]||be[1]);const _t=be.slice();for(let ct=0;ct<4;ct++)_t[ct]=Math.sign(_t[ct]);Ue=`matrix(${_t.join(",")})`}const Dt=mt[0]*Me,at=mt[1]*Me;Xe.style.left=`${Dt}px`,Xe.style.top=`${at}px`,Xe.style.transformOrigin=`${-Dt}px ${-at}px`,Xe.style.transform=Ue}else Xe.style.transform=je}_classStaticPrivateMethodGet(this,it,ve).call(this,B,ne),B.hidden=!1}}function ve(x,b){if(b){for(const[M,L]of b){const X=x.querySelector(`[data-annotation-id="${M}"]`);if(!X)continue;const{firstChild:ne}=X;"CANVAS"===ne.nodeName?X.replaceChild(L,ne):X.insertBefore(L,ne)}b.clear()}}I.AnnotationLayer=it},(xe,I)=>{function R(te){return Math.floor(255*Math.max(0,Math.min(1,te))).toString(16).padStart(2,"0")}Object.defineProperty(I,"__esModule",{value:!0}),I.ColorConverters=void 0,I.ColorConverters=class l{static CMYK_G([O,pe,ie,re]){return["G",1-Math.min(1,.3*O+.59*ie+.11*pe+re)]}static G_CMYK([O]){return["CMYK",0,0,0,1-O]}static G_RGB([O]){return["RGB",O,O,O]}static G_HTML([O]){const pe=R(O);return`#${pe}${pe}${pe}`}static RGB_G([O,pe,ie]){return["G",.3*O+.59*pe+.11*ie]}static RGB_HTML([O,pe,ie]){return`#${R(O)}${R(pe)}${R(ie)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([O,pe,ie,re]){return["RGB",1-Math.min(1,O+re),1-Math.min(1,ie+re),1-Math.min(1,pe+re)]}static CMYK_HTML(O){return this.RGB_HTML(this.CMYK_RGB(O))}static RGB_CMYK([O,pe,ie]){const re=1-O,U=1-pe,ce=1-ie;return["CMYK",re,U,ce,Math.min(re,U,ce)]}}},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.XfaLayer=void 0;var l=R(18);I.XfaLayer=class te{static setupStorage(pe,ie,re,U,ce){const he=U.getValue(ie,{value:null});switch(re.name){case"textarea":if(null!==he.value&&(pe.textContent=he.value),"print"===ce)break;pe.addEventListener("input",ee=>{U.setValue(ie,{value:ee.target.value})});break;case"input":if("radio"===re.attributes.type||"checkbox"===re.attributes.type){if(he.value===re.attributes.xfaOn?pe.setAttribute("checked",!0):he.value===re.attributes.xfaOff&&pe.removeAttribute("checked"),"print"===ce)break;pe.addEventListener("change",ee=>{U.setValue(ie,{value:ee.target.getAttribute(ee.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==he.value&&pe.setAttribute("value",he.value),"print"===ce)break;pe.addEventListener("input",ee=>{U.setValue(ie,{value:ee.target.value})})}break;case"select":if(null!==he.value)for(const ee of re.children)ee.attributes.value===he.value&&(ee.attributes.selected=!0);pe.addEventListener("input",ee=>{const K=ee.target.options;U.setValue(ie,{value:-1===K.selectedIndex?"":K[K.selectedIndex].value})})}}static setAttributes({html:pe,element:ie,storage:re=null,intent:U,linkService:ce}){const{attributes:he}=ie,ee=pe instanceof HTMLAnchorElement;"radio"===he.type&&(he.name=`${he.name}-${U}`);for(const[K,se]of Object.entries(he))if(null!=se&&"dataId"!==K)if("style"!==K)if("textContent"===K)pe.textContent=se;else if("class"===K)se.length&&pe.setAttribute(K,se.join(" "));else{if(ee&&("href"===K||"newWindow"===K))continue;pe.setAttribute(K,se)}else Object.assign(pe.style,se);ee&&ce.addLinkAttributes(pe,he.href,he.newWindow),re&&he.dataId&&this.setupStorage(pe,he.dataId,ie,re)}static render(pe){const ie=pe.annotationStorage,re=pe.linkService,U=pe.xfaHtml,ce=pe.intent||"display",he=document.createElement(U.name);U.attributes&&this.setAttributes({html:he,element:U,intent:ce,linkService:re});const ee=[[U,-1,he]],K=pe.div;if(K.appendChild(he),pe.viewport){const z=`matrix(${pe.viewport.transform.join(",")})`;K.style.transform=z}"richText"!==ce&&K.setAttribute("class","xfaLayer xfaFont");const se=[];for(;ee.length>0;){const[z,ae,W]=ee[ee.length-1];if(ae+1===z.children.length){ee.pop();continue}const fe=z.children[++ee[ee.length-1][1]];if(null===fe)continue;const{name:G}=fe;if("#text"===G){const A=document.createTextNode(fe.value);se.push(A),W.appendChild(A);continue}let Y;if(Y=fe?.attributes?.xmlns?document.createElementNS(fe.attributes.xmlns,G):document.createElement(G),W.appendChild(Y),fe.attributes&&this.setAttributes({html:Y,element:fe,storage:ie,intent:ce,linkService:re}),fe.children&&fe.children.length>0)ee.push([fe,-1,Y]);else if(fe.value){const A=document.createTextNode(fe.value);l.XfaText.shouldBuildText(G)&&se.push(A),Y.appendChild(A)}}for(const z of K.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))z.setAttribute("readOnly",!0);return{textDivs:se}}static update(pe){const ie=`matrix(${pe.viewport.transform.join(",")})`;pe.div.style.transform=ie,pe.div.hidden=!1}}},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.renderTextLayer=function W(fe){const G=new ae({textContent:fe.textContent,textContentStream:fe.textContentStream,container:fe.container,viewport:fe.viewport,textDivs:fe.textDivs,textContentItemsStr:fe.textContentItemsStr,enhanceTextSelection:fe.enhanceTextSelection});return G._render(fe.timeout),G};var l=R(1);const O=30,ie=new Map,re=/^\s+$/g;function ce(fe,G,Y,A){const S=document.createElement("span"),F=fe._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==G.str,hasEOL:G.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==G.str,hasEOL:G.hasEOL};fe._textDivs.push(S);const Q=l.Util.transform(fe._viewport.transform,G.transform);let N=Math.atan2(Q[1],Q[0]);const J=Y[G.fontName];J.vertical&&(N+=Math.PI/2);const j=Math.hypot(Q[2],Q[3]),D=j*function U(fe,G){const Y=ie.get(fe);if(Y)return Y;G.save(),G.font=`30px ${fe}`;const A=G.measureText("");let S=A.fontBoundingBoxAscent,F=Math.abs(A.fontBoundingBoxDescent);if(S){G.restore();const N=S/(S+F);return ie.set(fe,N),N}G.strokeStyle="red",G.clearRect(0,0,O,O),G.strokeText("g",0,0);let Q=G.getImageData(0,0,O,O).data;F=0;for(let N=Q.length-1-3;N>=0;N-=4)if(Q[N]>0){F=Math.ceil(N/4/O);break}G.clearRect(0,0,O,O),G.strokeText("A",0,O),Q=G.getImageData(0,0,O,O).data,S=0;for(let N=0,J=Q.length;N<J;N+=4)if(Q[N]>0){S=O-Math.floor(N/4/O);break}if(G.restore(),S){const N=S/(S+F);return ie.set(fe,N),N}return ie.set(fe,.8),.8}(J.fontFamily,A);let oe,$;0===N?(oe=Q[4],$=Q[5]-D):(oe=Q[4]+D*Math.sin(N),$=Q[5]-D*Math.cos(N)),S.style.left=`${oe}px`,S.style.top=`${$}px`,S.style.fontSize=`${j}px`,S.style.fontFamily=J.fontFamily,S.setAttribute("role","presentation"),S.textContent=G.str,S.dir=G.dir,fe._fontInspectorEnabled&&(S.dataset.fontName=G.fontName),0!==N&&(F.angle=N*(180/Math.PI));let le=!1;if(G.str.length>1||fe._enhanceTextSelection&&re.test(G.str))le=!0;else if(" "!==G.str&&G.transform[0]!==G.transform[3]){const ge=Math.abs(G.transform[0]),ye=Math.abs(G.transform[3]);ge!==ye&&Math.max(ge,ye)/Math.min(ge,ye)>1.5&&(le=!0)}if(le&&(F.canvasWidth=J.vertical?G.height*fe._viewport.scale:G.width*fe._viewport.scale),fe._textDivProperties.set(S,F),fe._textContentStream&&fe._layoutText(S),fe._enhanceTextSelection&&F.hasText){let ge=1,ye=0;0!==N&&(ge=Math.cos(N),ye=Math.sin(N));const ke=(J.vertical?G.height:G.width)*fe._viewport.scale,Ne=j;let Qe,it;0!==N?(Qe=[ge,ye,-ye,ge,oe,$],it=l.Util.getAxialAlignedBoundingBox([0,0,ke,Ne],Qe)):it=[oe,$,oe+ke,$+Ne],fe._bounds.push({left:it[0],top:it[1],right:it[2],bottom:it[3],div:S,size:[ke,Ne],m:Qe})}}function he(fe){if(fe._canceled)return;const G=fe._textDivs,Y=fe._capability,A=G.length;if(A>1e5)return fe._renderingDone=!0,void Y.resolve();if(!fe._textContentStream)for(let S=0;S<A;S++)fe._layoutText(G[S]);fe._renderingDone=!0,Y.resolve()}function ee(fe,G,Y){let A=0;for(let S=0;S<Y;S++){const F=fe[G++];F>0&&(A=A?Math.min(F,A):F)}return A}function z(fe,G){G.sort(function(S,F){return S.x1-F.x1||S.index-F.index});const A=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const S of G){let F=0;for(;F<A.length&&A[F].end<=S.y1;)F++;let Q=A.length-1;for(;Q>=0&&A[Q].start>=S.y2;)Q--;let N,J,j,D,oe=-1/0;for(j=F;j<=Q;j++){let ge;N=A[j],J=N.boundary,ge=J.x2>S.x1?J.index>S.index?J.x1New:S.x1:void 0===J.x2New?(J.x2+S.x1)/2:J.x2New,ge>oe&&(oe=ge)}for(S.x1New=oe,j=F;j<=Q;j++)N=A[j],J=N.boundary,void 0===J.x2New?J.x2>S.x1?J.index>S.index&&(J.x2New=J.x2):J.x2New=oe:J.x2New>oe&&(J.x2New=Math.max(oe,J.x2));const $=[];let le=null;for(j=F;j<=Q;j++){N=A[j],J=N.boundary;const ge=J.x2>S.x2?J:S;le===ge?$[$.length-1].end=N.end:($.push({start:N.start,end:N.end,boundary:ge}),le=ge)}for(A[F].start<S.y1&&($[0].start=S.y1,$.unshift({start:A[F].start,end:S.y1,boundary:A[F].boundary})),S.y2<A[Q].end&&($[$.length-1].end=S.y2,$.push({start:S.y2,end:A[Q].end,boundary:A[Q].boundary})),j=F;j<=Q;j++){if(N=A[j],J=N.boundary,void 0!==J.x2New)continue;let ge=!1;for(D=F-1;!ge&&D>=0&&A[D].start>=J.y1;D--)ge=A[D].boundary===J;for(D=Q+1;!ge&&D<A.length&&A[D].end<=J.y2;D++)ge=A[D].boundary===J;for(D=0;!ge&&D<$.length;D++)ge=$[D].boundary===J;ge||(J.x2New=oe)}Array.prototype.splice.apply(A,[F,Q-F+1].concat($))}for(const S of A){const F=S.boundary;void 0===F.x2New&&(F.x2New=Math.max(fe,F.x2))}}class ae{constructor({textContent:G,textContentStream:Y,container:A,viewport:S,textDivs:F,textContentItemsStr:Q,enhanceTextSelection:N}){this._textContent=G,this._textContentStream=Y,this._container=A,this._document=A.ownerDocument,this._viewport=S,this._textDivs=F||[],this._textContentItemsStr=Q||[],this._enhanceTextSelection=!!N,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,l.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new l.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(G,Y){for(let A=0,S=G.length;A<S;A++)if(void 0!==G[A].str)this._textContentItemsStr.push(G[A].str),ce(this,G[A],Y,this._layoutTextCtx);else if("beginMarkedContentProps"===G[A].type||"beginMarkedContent"===G[A].type){const F=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==G[A].id&&this._container.setAttribute("id",`${G[A].id}`),F.appendChild(this._container)}else"endMarkedContent"===G[A].type&&(this._container=this._container.parentNode)}_layoutText(G){const Y=this._textDivProperties.get(G);let A="";if(0!==Y.canvasWidth&&Y.hasText){const{fontSize:S,fontFamily:F}=G.style;(S!==this._layoutTextLastFontSize||F!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${S} ${F}`,this._layoutTextLastFontSize=S,this._layoutTextLastFontFamily=F);const{width:Q}=this._layoutTextCtx.measureText(G.textContent);if(Q>0){const N=Y.canvasWidth/Q;this._enhanceTextSelection&&(Y.scale=N),A=`scaleX(${N})`}}if(0!==Y.angle&&(A=`rotate(${Y.angle}deg) ${A}`),A.length>0&&(this._enhanceTextSelection&&(Y.originalTransform=A),G.style.transform=A),Y.hasText&&this._container.appendChild(G),Y.hasEOL){const S=document.createElement("br");S.setAttribute("role","presentation"),this._container.appendChild(S)}}_render(G=0){const Y=(0,l.createPromiseCapability)();let A=Object.create(null);const S=this._document.createElement("canvas");if(S.height=S.width=O,this._layoutTextCtx=S.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),Y.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const F=()=>{this._reader.read().then(({value:Q,done:N})=>{N?Y.resolve():(Object.assign(A,Q.styles),this._processItems(Q.items,A),F())},Y.reject)};this._reader=this._textContentStream.getReader(),F()}}Y.promise.then(()=>{A=null,G?this._renderTimer=setTimeout(()=>{he(this),this._renderTimer=null},G):he(this)},this._capability.reject)}expandTextDivs(G=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function K(fe){const G=fe._bounds,Y=fe._viewport,A=function se(fe,G,Y){const A=Y.map(function(F,Q){return{x1:F.left,y1:F.top,x2:F.right,y2:F.bottom,index:Q,x1New:void 0,x2New:void 0}});z(fe,A);const S=new Array(Y.length);for(const F of A)S[F.index]={left:F.x1New,top:0,right:F.x2New,bottom:0};Y.map(function(F,Q){const N=S[Q],J=A[Q];J.x1=F.top,J.y1=fe-N.right,J.x2=F.bottom,J.y2=fe-N.left,J.index=Q,J.x1New=void 0,J.x2New=void 0}),z(G,A);for(const F of A){const Q=F.index;S[Q].top=F.x1New,S[Q].bottom=F.x2New}return S}(Y.width,Y.height,G);for(let S=0;S<A.length;S++){const F=G[S].div,Q=fe._textDivProperties.get(F);if(0===Q.angle){Q.paddingLeft=G[S].left-A[S].left,Q.paddingTop=G[S].top-A[S].top,Q.paddingRight=A[S].right-G[S].right,Q.paddingBottom=A[S].bottom-G[S].bottom,fe._textDivProperties.set(F,Q);continue}const N=A[S],J=G[S],j=J.m,D=j[0],oe=j[1],$=[[0,0],[0,J.size[1]],[J.size[0],0],J.size],le=new Float64Array(64);for(let ye=0,ke=$.length;ye<ke;ye++){const Ne=l.Util.applyTransform($[ye],j);le[ye+0]=D&&(N.left-Ne[0])/D,le[ye+4]=oe&&(N.top-Ne[1])/oe,le[ye+8]=D&&(N.right-Ne[0])/D,le[ye+12]=oe&&(N.bottom-Ne[1])/oe,le[ye+16]=oe&&(N.left-Ne[0])/-oe,le[ye+20]=D&&(N.top-Ne[1])/D,le[ye+24]=oe&&(N.right-Ne[0])/-oe,le[ye+28]=D&&(N.bottom-Ne[1])/D,le[ye+32]=D&&(N.left-Ne[0])/-D,le[ye+36]=oe&&(N.top-Ne[1])/-oe,le[ye+40]=D&&(N.right-Ne[0])/-D,le[ye+44]=oe&&(N.bottom-Ne[1])/-oe,le[ye+48]=oe&&(N.left-Ne[0])/oe,le[ye+52]=D&&(N.top-Ne[1])/-D,le[ye+56]=oe&&(N.right-Ne[0])/oe,le[ye+60]=D&&(N.bottom-Ne[1])/-D}const ge=1+Math.min(Math.abs(D),Math.abs(oe));Q.paddingLeft=ee(le,32,16)/ge,Q.paddingTop=ee(le,48,16)/ge,Q.paddingRight=ee(le,0,16)/ge,Q.paddingBottom=ee(le,16,16)/ge,fe._textDivProperties.set(F,Q)}}(this),this._bounds=null);const Y=[],A=[];for(let S=0,F=this._textDivs.length;S<F;S++){const Q=this._textDivs[S],N=this._textDivProperties.get(Q);!N.hasText||(G?(Y.length=0,A.length=0,N.originalTransform&&Y.push(N.originalTransform),N.paddingTop>0?(A.push(`${N.paddingTop}px`),Y.push(`translateY(${-N.paddingTop}px)`)):A.push(0),A.push(N.paddingRight>0?N.paddingRight/N.scale+"px":0),A.push(N.paddingBottom>0?`${N.paddingBottom}px`:0),N.paddingLeft>0?(A.push(N.paddingLeft/N.scale+"px"),Y.push(`translateX(${-N.paddingLeft/N.scale}px)`)):A.push(0),Q.style.padding=A.join(" "),Y.length&&(Q.style.transform=Y.join(" "))):(Q.style.padding=null,Q.style.transform=N.originalTransform))}}}},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.SVGGraphics=void 0;var l=R(1),te=R(5),O=R(3);let pe=class{constructor(){(0,l.unreachable)("Not implemented: SVGGraphics")}};I.SVGGraphics=pe;{let z=function(A){let S=[];const F=[];for(const Q of A)"save"!==Q.fn?"restore"===Q.fn?S=F.pop():S.push(Q):(S.push({fnId:92,fn:"group",items:[]}),F.push(S),S=S[S.length-1].items);return S},ae=function(A){if(Number.isInteger(A))return A.toString();const S=A.toFixed(10);let F=S.length-1;if("0"!==S[F])return S;do{F--}while("0"===S[F]);return S.substring(0,"."===S[F]?F:F+1)},W=function(A){if(0===A[4]&&0===A[5]){if(0===A[1]&&0===A[2])return 1===A[0]&&1===A[3]?"":`scale(${ae(A[0])} ${ae(A[3])})`;if(A[0]===A[3]&&A[1]===-A[2]){const S=180*Math.acos(A[0])/Math.PI;return`rotate(${ae(S)})`}}else if(1===A[0]&&0===A[1]&&0===A[2]&&1===A[3])return`translate(${ae(A[4])} ${ae(A[5])})`;return`matrix(${ae(A[0])} ${ae(A[1])} ${ae(A[2])} ${ae(A[3])} ${ae(A[4])} ${ae(A[5])})`};const ie={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},re="http://www.w3.org/XML/1998/namespace",U="http://www.w3.org/1999/xlink",ce=["butt","round","square"],he=["miter","round","bevel"],ee=function(A,S="",F=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!F)return URL.createObjectURL(new Blob([A],{type:S}));const Q="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let N=`data:${S};base64,`;for(let J=0,j=A.length;J<j;J+=3){const D=255&A[J],oe=255&A[J+1],$=255&A[J+2];N+=Q[D>>2]+Q[(3&D)<<4|oe>>4]+Q[J+1<j?(15&oe)<<2|$>>6:64]+Q[J+2<j?63&$:64]}return N},K=function(){const A=new Uint8Array([137,80,78,71,13,10,26,10]),F=new Int32Array(256);for(let $=0;$<256;$++){let le=$;for(let ge=0;ge<8;ge++)le=1&le?3988292384^le>>1&2147483647:le>>1&2147483647;F[$]=le}function N($,le,ge,ye){let ke=ye;const Ne=le.length;ge[ke]=Ne>>24&255,ge[ke+1]=Ne>>16&255,ge[ke+2]=Ne>>8&255,ge[ke+3]=255&Ne,ke+=4,ge[ke]=255&$.charCodeAt(0),ge[ke+1]=255&$.charCodeAt(1),ge[ke+2]=255&$.charCodeAt(2),ge[ke+3]=255&$.charCodeAt(3),ke+=4,ge.set(le,ke),ke+=le.length;const Qe=function Q($,le,ge){let ye=-1;for(let ke=le;ke<ge;ke++)ye=ye>>>8^F[255&(ye^$[ke])];return-1^ye}(ge,ye+4,ke);ge[ke]=Qe>>24&255,ge[ke+1]=Qe>>16&255,ge[ke+2]=Qe>>8&255,ge[ke+3]=255&Qe}function D($){let le=$.length;const ge=65535,ye=Math.ceil(le/ge),ke=new Uint8Array(2+le+5*ye+4);let Ne=0;ke[Ne++]=120,ke[Ne++]=156;let Qe=0;for(;le>ge;)ke[Ne++]=0,ke[Ne++]=255,ke[Ne++]=255,ke[Ne++]=0,ke[Ne++]=0,ke.set($.subarray(Qe,Qe+ge),Ne),Ne+=ge,Qe+=ge,le-=ge;ke[Ne++]=1,ke[Ne++]=255&le,ke[Ne++]=le>>8&255,ke[Ne++]=255&~le,ke[Ne++]=(65535&~le)>>8&255,ke.set($.subarray(Qe),Ne),Ne+=$.length-Qe;const it=function J($,le,ge){let ye=1,ke=0;for(let Ne=le;Ne<ge;++Ne)ye=(ye+(255&$[Ne]))%65521,ke=(ke+ye)%65521;return ke<<16|ye}($,0,$.length);return ke[Ne++]=it>>24&255,ke[Ne++]=it>>16&255,ke[Ne++]=it>>8&255,ke[Ne++]=255&it,ke}return function(le,ge,ye){return function oe($,le,ge,ye){const ke=$.width,Ne=$.height;let Qe,it,ve;const x=$.data;switch(le){case l.ImageKind.GRAYSCALE_1BPP:it=0,Qe=1,ve=ke+7>>3;break;case l.ImageKind.RGB_24BPP:it=2,Qe=8,ve=3*ke;break;case l.ImageKind.RGBA_32BPP:it=6,Qe=8,ve=4*ke;break;default:throw new Error("invalid format")}const b=new Uint8Array((1+ve)*Ne);let M=0,L=0;for(let Me=0;Me<Ne;++Me)b[M++]=0,b.set(x.subarray(L,L+ve),M),L+=ve,M+=ve;if(le===l.ImageKind.GRAYSCALE_1BPP&&ye){M=0;for(let Me=0;Me<Ne;Me++){M++;for(let Ue=0;Ue<ve;Ue++)b[M++]^=255}}const X=new Uint8Array([ke>>24&255,ke>>16&255,ke>>8&255,255&ke,Ne>>24&255,Ne>>16&255,Ne>>8&255,255&Ne,Qe,it,0,0,0]),ne=function j($){if(!O.isNodeJS)return D($);try{let le;le=parseInt(process.versions.node)>=8?$:Buffer.from($);const ge=__webpack_require__(2258).deflateSync(le,{level:9});return ge instanceof Uint8Array?ge:new Uint8Array(ge)}catch(le){(0,l.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+le)}return D($)}(b),be=new Uint8Array(A.length+36+X.length+ne.length);let je=0;return be.set(A,je),je+=A.length,N("IHDR",X,be,je),je+=12+X.length,N("IDATA",ne,be,je),je+=12+ne.length,N("IEND",new Uint8Array(0),be,je),ee(be,"image/png",ge)}(le,void 0===le.kind?l.ImageKind.GRAYSCALE_1BPP:le.kind,ge,ye)}}();class se{constructor(){this.fontSizeScale=1,this.fontWeight=ie.fontWeight,this.fontSize=0,this.textMatrix=l.IDENTITY_MATRIX,this.fontMatrix=l.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=l.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ie.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(S,F){this.x=S,this.y=F}}let fe=0,G=0,Y=0;I.SVGGraphics=pe=class{constructor(A,S,F=!1){this.svgFactory=new te.DOMSVGFactory,this.current=new se,this.transformMatrix=l.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=A,this.objs=S,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!F,this._operatorIdMapping=[];for(const Q in l.OPS)this._operatorIdMapping[l.OPS[Q]]=Q}save(){this.transformStack.push(this.transformMatrix);const A=this.current;this.extraStack.push(A),this.current=A.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(A){this.save(),this.executeOpTree(A),this.restore()}loadDependencies(A){const S=A.fnArray,F=A.argsArray;for(let Q=0,N=S.length;Q<N;Q++)if(S[Q]===l.OPS.dependency)for(const J of F[Q]){const j=J.startsWith("g_")?this.commonObjs:this.objs,D=new Promise(oe=>{j.get(J,oe)});this.current.dependencies.push(D)}return Promise.all(this.current.dependencies)}transform(A,S,F,Q,N,J){this.transformMatrix=l.Util.transform(this.transformMatrix,[A,S,F,Q,N,J]),this.tgrp=null}getSVG(A,S){this.viewport=S;const F=this._initialize(S);return this.loadDependencies(A).then(()=>(this.transformMatrix=l.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(A)),F))}convertOpList(A){const S=this._operatorIdMapping,F=A.argsArray,Q=A.fnArray,N=[];for(let J=0,j=Q.length;J<j;J++){const D=Q[J];N.push({fnId:D,fn:S[D],args:F[J]})}return z(N)}executeOpTree(A){for(const S of A){const F=S.fn,N=S.args;switch(0|S.fnId){case l.OPS.beginText:this.beginText();break;case l.OPS.dependency:break;case l.OPS.setLeading:this.setLeading(N);break;case l.OPS.setLeadingMoveText:this.setLeadingMoveText(N[0],N[1]);break;case l.OPS.setFont:this.setFont(N);break;case l.OPS.showText:case l.OPS.showSpacedText:this.showText(N[0]);break;case l.OPS.endText:this.endText();break;case l.OPS.moveText:this.moveText(N[0],N[1]);break;case l.OPS.setCharSpacing:this.setCharSpacing(N[0]);break;case l.OPS.setWordSpacing:this.setWordSpacing(N[0]);break;case l.OPS.setHScale:this.setHScale(N[0]);break;case l.OPS.setTextMatrix:this.setTextMatrix(N[0],N[1],N[2],N[3],N[4],N[5]);break;case l.OPS.setTextRise:this.setTextRise(N[0]);break;case l.OPS.setTextRenderingMode:this.setTextRenderingMode(N[0]);break;case l.OPS.setLineWidth:this.setLineWidth(N[0]);break;case l.OPS.setLineJoin:this.setLineJoin(N[0]);break;case l.OPS.setLineCap:this.setLineCap(N[0]);break;case l.OPS.setMiterLimit:this.setMiterLimit(N[0]);break;case l.OPS.setFillRGBColor:this.setFillRGBColor(N[0],N[1],N[2]);break;case l.OPS.setStrokeRGBColor:this.setStrokeRGBColor(N[0],N[1],N[2]);break;case l.OPS.setStrokeColorN:this.setStrokeColorN(N);break;case l.OPS.setFillColorN:this.setFillColorN(N);break;case l.OPS.shadingFill:this.shadingFill(N[0]);break;case l.OPS.setDash:this.setDash(N[0],N[1]);break;case l.OPS.setRenderingIntent:this.setRenderingIntent(N[0]);break;case l.OPS.setFlatness:this.setFlatness(N[0]);break;case l.OPS.setGState:this.setGState(N[0]);break;case l.OPS.fill:this.fill();break;case l.OPS.eoFill:this.eoFill();break;case l.OPS.stroke:this.stroke();break;case l.OPS.fillStroke:this.fillStroke();break;case l.OPS.eoFillStroke:this.eoFillStroke();break;case l.OPS.clip:this.clip("nonzero");break;case l.OPS.eoClip:this.clip("evenodd");break;case l.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case l.OPS.paintImageXObject:this.paintImageXObject(N[0]);break;case l.OPS.paintInlineImageXObject:this.paintInlineImageXObject(N[0]);break;case l.OPS.paintImageMaskXObject:this.paintImageMaskXObject(N[0]);break;case l.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(N[0],N[1]);break;case l.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case l.OPS.closePath:this.closePath();break;case l.OPS.closeStroke:this.closeStroke();break;case l.OPS.closeFillStroke:this.closeFillStroke();break;case l.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case l.OPS.nextLine:this.nextLine();break;case l.OPS.transform:this.transform(N[0],N[1],N[2],N[3],N[4],N[5]);break;case l.OPS.constructPath:this.constructPath(N[0],N[1]);break;case l.OPS.endPath:this.endPath();break;case 92:this.group(S.items);break;default:(0,l.warn)(`Unimplemented operator ${F}`)}}}setWordSpacing(A){this.current.wordSpacing=A}setCharSpacing(A){this.current.charSpacing=A}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(A,S,F,Q,N,J){const j=this.current;j.textMatrix=j.lineMatrix=[A,S,F,Q,N,J],j.textMatrixScale=Math.hypot(A,S),j.x=j.lineX=0,j.y=j.lineY=0,j.xcoords=[],j.ycoords=[],j.tspan=this.svgFactory.createElement("svg:tspan"),j.tspan.setAttributeNS(null,"font-family",j.fontFamily),j.tspan.setAttributeNS(null,"font-size",`${ae(j.fontSize)}px`),j.tspan.setAttributeNS(null,"y",ae(-j.y)),j.txtElement=this.svgFactory.createElement("svg:text"),j.txtElement.appendChild(j.tspan)}beginText(){const A=this.current;A.x=A.lineX=0,A.y=A.lineY=0,A.textMatrix=l.IDENTITY_MATRIX,A.lineMatrix=l.IDENTITY_MATRIX,A.textMatrixScale=1,A.tspan=this.svgFactory.createElement("svg:tspan"),A.txtElement=this.svgFactory.createElement("svg:text"),A.txtgrp=this.svgFactory.createElement("svg:g"),A.xcoords=[],A.ycoords=[]}moveText(A,S){const F=this.current;F.x=F.lineX+=A,F.y=F.lineY+=S,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${ae(F.fontSize)}px`),F.tspan.setAttributeNS(null,"y",ae(-F.y))}showText(A){const S=this.current,F=S.font,Q=S.fontSize;if(0===Q)return;const N=S.fontSizeScale,J=S.charSpacing,j=S.wordSpacing,D=S.fontDirection,oe=S.textHScale*D,$=F.vertical,le=$?1:-1,ge=F.defaultVMetrics,ye=Q*S.fontMatrix[0];let ke=0;for(const it of A){if(null===it){ke+=D*j;continue}if("number"==typeof it){ke+=le*it*Q/1e3;continue}const ve=(it.isSpace?j:0)+J,x=it.fontChar;let b,M,X,L=it.width;if($){let ne;const B=it.vmetric||ge;ne=it.vmetric?B[1]:.5*L,ne=-ne*ye,L=B?-B[0]:L,b=ne/N,M=(ke+B[2]*ye)/N}else b=ke/N,M=0;(it.isInFont||F.missingFile)&&(S.xcoords.push(S.x+b),$&&S.ycoords.push(-S.y+M),S.tspan.textContent+=x),X=$?L*ye-ve*D:L*ye+ve*D,ke+=X}S.tspan.setAttributeNS(null,"x",S.xcoords.map(ae).join(" ")),S.tspan.setAttributeNS(null,"y",$?S.ycoords.map(ae).join(" "):ae(-S.y)),$?S.y-=ke:S.x+=ke*oe,S.tspan.setAttributeNS(null,"font-family",S.fontFamily),S.tspan.setAttributeNS(null,"font-size",`${ae(S.fontSize)}px`),S.fontStyle!==ie.fontStyle&&S.tspan.setAttributeNS(null,"font-style",S.fontStyle),S.fontWeight!==ie.fontWeight&&S.tspan.setAttributeNS(null,"font-weight",S.fontWeight);const Ne=S.textRenderingMode&l.TextRenderingMode.FILL_STROKE_MASK;Ne===l.TextRenderingMode.FILL||Ne===l.TextRenderingMode.FILL_STROKE?(S.fillColor!==ie.fillColor&&S.tspan.setAttributeNS(null,"fill",S.fillColor),S.fillAlpha<1&&S.tspan.setAttributeNS(null,"fill-opacity",S.fillAlpha)):S.tspan.setAttributeNS(null,"fill",S.textRenderingMode===l.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(Ne===l.TextRenderingMode.STROKE||Ne===l.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(S.tspan,1/(S.textMatrixScale||1));let Qe=S.textMatrix;0!==S.textRise&&(Qe=Qe.slice(),Qe[5]+=S.textRise),S.txtElement.setAttributeNS(null,"transform",`${W(Qe)} scale(${ae(oe)}, -1)`),S.txtElement.setAttributeNS(re,"xml:space","preserve"),S.txtElement.appendChild(S.tspan),S.txtgrp.appendChild(S.txtElement),this._ensureTransformGroup().appendChild(S.txtElement)}setLeadingMoveText(A,S){this.setLeading(-S),this.moveText(A,S)}addFontStyle(A){if(!A.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const S=ee(A.data,A.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${A.loadedName}"; src: url(${S}); }\n`}setFont(A){const S=this.current,F=this.commonObjs.get(A[0]);let Q=A[1];S.font=F,this.embedFonts&&!F.missingFile&&!this.embeddedFonts[F.loadedName]&&(this.addFontStyle(F),this.embeddedFonts[F.loadedName]=F),S.fontMatrix=F.fontMatrix||l.FONT_IDENTITY_MATRIX;let N="normal";F.black?N="900":F.bold&&(N="bold");const J=F.italic?"italic":"normal";Q<0?(Q=-Q,S.fontDirection=-1):S.fontDirection=1,S.fontSize=Q,S.fontFamily=F.loadedName,S.fontWeight=N,S.fontStyle=J,S.tspan=this.svgFactory.createElement("svg:tspan"),S.tspan.setAttributeNS(null,"y",ae(-S.y)),S.xcoords=[],S.ycoords=[]}endText(){const A=this.current;A.textRenderingMode&l.TextRenderingMode.ADD_TO_PATH_FLAG&&A.txtElement?.hasChildNodes()&&(A.element=A.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(A){A>0&&(this.current.lineWidth=A)}setLineCap(A){this.current.lineCap=ce[A]}setLineJoin(A){this.current.lineJoin=he[A]}setMiterLimit(A){this.current.miterLimit=A}setStrokeAlpha(A){this.current.strokeAlpha=A}setStrokeRGBColor(A,S,F){this.current.strokeColor=l.Util.makeHexColor(A,S,F)}setFillAlpha(A){this.current.fillAlpha=A}setFillRGBColor(A,S,F){this.current.fillColor=l.Util.makeHexColor(A,S,F),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(A){this.current.strokeColor=this._makeColorN_Pattern(A)}setFillColorN(A){this.current.fillColor=this._makeColorN_Pattern(A)}shadingFill(A){const S=this.viewport.width,F=this.viewport.height,Q=l.Util.inverseTransform(this.transformMatrix),N=l.Util.applyTransform([0,0],Q),J=l.Util.applyTransform([0,F],Q),j=l.Util.applyTransform([S,0],Q),D=l.Util.applyTransform([S,F],Q),oe=Math.min(N[0],J[0],j[0],D[0]),$=Math.min(N[1],J[1],j[1],D[1]),le=Math.max(N[0],J[0],j[0],D[0]),ge=Math.max(N[1],J[1],j[1],D[1]),ye=this.svgFactory.createElement("svg:rect");ye.setAttributeNS(null,"x",oe),ye.setAttributeNS(null,"y",$),ye.setAttributeNS(null,"width",le-oe),ye.setAttributeNS(null,"height",ge-$),ye.setAttributeNS(null,"fill",this._makeShadingPattern(A)),this.current.fillAlpha<1&&ye.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(ye)}_makeColorN_Pattern(A){return"TilingPattern"===A[0]?this._makeTilingPattern(A):this._makeShadingPattern(A)}_makeTilingPattern(A){const S=A[1],F=A[2],Q=A[3]||l.IDENTITY_MATRIX,[N,J,j,D]=A[4],oe=A[5],$=A[6],le=A[7],ge="shading"+Y++,[ye,ke,Ne,Qe]=l.Util.normalizeRect([...l.Util.applyTransform([N,J],Q),...l.Util.applyTransform([j,D],Q)]),[it,ve]=l.Util.singularValueDecompose2dScale(Q),x=oe*it,b=$*ve,M=this.svgFactory.createElement("svg:pattern");M.setAttributeNS(null,"id",ge),M.setAttributeNS(null,"patternUnits","userSpaceOnUse"),M.setAttributeNS(null,"width",x),M.setAttributeNS(null,"height",b),M.setAttributeNS(null,"x",`${ye}`),M.setAttributeNS(null,"y",`${ke}`);const L=this.svg,X=this.transformMatrix,ne=this.current.fillColor,B=this.current.strokeColor,be=this.svgFactory.create(Ne-ye,Qe-ke);if(this.svg=be,this.transformMatrix=Q,2===le){const je=l.Util.makeHexColor(...S);this.current.fillColor=je,this.current.strokeColor=je}return this.executeOpTree(this.convertOpList(F)),this.svg=L,this.transformMatrix=X,this.current.fillColor=ne,this.current.strokeColor=B,M.appendChild(be.childNodes[0]),this.defs.appendChild(M),`url(#${ge})`}_makeShadingPattern(A){switch("string"==typeof A&&(A=this.objs.get(A)),A[0]){case"RadialAxial":const S="shading"+Y++,F=A[3];let Q;switch(A[1]){case"axial":const N=A[4],J=A[5];Q=this.svgFactory.createElement("svg:linearGradient"),Q.setAttributeNS(null,"id",S),Q.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Q.setAttributeNS(null,"x1",N[0]),Q.setAttributeNS(null,"y1",N[1]),Q.setAttributeNS(null,"x2",J[0]),Q.setAttributeNS(null,"y2",J[1]);break;case"radial":const j=A[4],D=A[5],oe=A[6],$=A[7];Q=this.svgFactory.createElement("svg:radialGradient"),Q.setAttributeNS(null,"id",S),Q.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),Q.setAttributeNS(null,"cx",D[0]),Q.setAttributeNS(null,"cy",D[1]),Q.setAttributeNS(null,"r",$),Q.setAttributeNS(null,"fx",j[0]),Q.setAttributeNS(null,"fy",j[1]),Q.setAttributeNS(null,"fr",oe);break;default:throw new Error(`Unknown RadialAxial type: ${A[1]}`)}for(const N of F){const J=this.svgFactory.createElement("svg:stop");J.setAttributeNS(null,"offset",N[0]),J.setAttributeNS(null,"stop-color",N[1]),Q.appendChild(J)}return this.defs.appendChild(Q),`url(#${S})`;case"Mesh":return(0,l.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${A[0]}`)}}setDash(A,S){this.current.dashArray=A,this.current.dashPhase=S}constructPath(A,S){const F=this.current;let Q=F.x,N=F.y,J=[],j=0;for(const D of A)switch(0|D){case l.OPS.rectangle:Q=S[j++],N=S[j++];const le=Q+S[j++],ge=N+S[j++];J.push("M",ae(Q),ae(N),"L",ae(le),ae(N),"L",ae(le),ae(ge),"L",ae(Q),ae(ge),"Z");break;case l.OPS.moveTo:Q=S[j++],N=S[j++],J.push("M",ae(Q),ae(N));break;case l.OPS.lineTo:Q=S[j++],N=S[j++],J.push("L",ae(Q),ae(N));break;case l.OPS.curveTo:Q=S[j+4],N=S[j+5],J.push("C",ae(S[j]),ae(S[j+1]),ae(S[j+2]),ae(S[j+3]),ae(Q),ae(N)),j+=6;break;case l.OPS.curveTo2:J.push("C",ae(Q),ae(N),ae(S[j]),ae(S[j+1]),ae(S[j+2]),ae(S[j+3])),Q=S[j+2],N=S[j+3],j+=4;break;case l.OPS.curveTo3:Q=S[j+2],N=S[j+3],J.push("C",ae(S[j]),ae(S[j+1]),ae(Q),ae(N),ae(Q),ae(N)),j+=4;break;case l.OPS.closePath:J.push("Z")}J=J.join(" "),F.path&&A.length>0&&A[0]!==l.OPS.rectangle&&A[0]!==l.OPS.moveTo?J=F.path.getAttributeNS(null,"d")+J:(F.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(F.path)),F.path.setAttributeNS(null,"d",J),F.path.setAttributeNS(null,"fill","none"),F.element=F.path,F.setCurrentPoint(Q,N)}endPath(){const A=this.current;if(A.path=null,!this.pendingClip)return;if(!A.element)return void(this.pendingClip=null);const S="clippath"+fe++,F=this.svgFactory.createElement("svg:clipPath");F.setAttributeNS(null,"id",S),F.setAttributeNS(null,"transform",W(this.transformMatrix));const Q=A.element.cloneNode(!0);if(Q.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,F.appendChild(Q),this.defs.appendChild(F),A.activeClipUrl){A.clipGroup=null;for(const N of this.extraStack)N.clipGroup=null;F.setAttributeNS(null,"clip-path",A.activeClipUrl)}A.activeClipUrl=`url(#${S})`,this.tgrp=null}clip(A){this.pendingClip=A}closePath(){const A=this.current;if(A.path){const S=`${A.path.getAttributeNS(null,"d")}Z`;A.path.setAttributeNS(null,"d",S)}}setLeading(A){this.current.leading=-A}setTextRise(A){this.current.textRise=A}setTextRenderingMode(A){this.current.textRenderingMode=A}setHScale(A){this.current.textHScale=A/100}setRenderingIntent(A){}setFlatness(A){}setGState(A){for(const[S,F]of A)switch(S){case"LW":this.setLineWidth(F);break;case"LC":this.setLineCap(F);break;case"LJ":this.setLineJoin(F);break;case"ML":this.setMiterLimit(F);break;case"D":this.setDash(F[0],F[1]);break;case"RI":this.setRenderingIntent(F);break;case"FL":this.setFlatness(F);break;case"Font":this.setFont(F);break;case"CA":this.setStrokeAlpha(F);break;case"ca":this.setFillAlpha(F);break;default:(0,l.warn)(`Unimplemented graphic state operator ${S}`)}}fill(){const A=this.current;A.element&&(A.element.setAttributeNS(null,"fill",A.fillColor),A.element.setAttributeNS(null,"fill-opacity",A.fillAlpha),this.endPath())}stroke(){const A=this.current;A.element&&(this._setStrokeAttributes(A.element),A.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(A,S=1){const F=this.current;let Q=F.dashArray;1!==S&&Q.length>0&&(Q=Q.map(function(N){return S*N})),A.setAttributeNS(null,"stroke",F.strokeColor),A.setAttributeNS(null,"stroke-opacity",F.strokeAlpha),A.setAttributeNS(null,"stroke-miterlimit",ae(F.miterLimit)),A.setAttributeNS(null,"stroke-linecap",F.lineCap),A.setAttributeNS(null,"stroke-linejoin",F.lineJoin),A.setAttributeNS(null,"stroke-width",ae(S*F.lineWidth)+"px"),A.setAttributeNS(null,"stroke-dasharray",Q.map(ae).join(" ")),A.setAttributeNS(null,"stroke-dashoffset",ae(S*F.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const A=this.svgFactory.createElement("svg:rect");A.setAttributeNS(null,"x","0"),A.setAttributeNS(null,"y","0"),A.setAttributeNS(null,"width","1px"),A.setAttributeNS(null,"height","1px"),A.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(A)}paintImageXObject(A){const S=A.startsWith("g_")?this.commonObjs.get(A):this.objs.get(A);S?this.paintInlineImageXObject(S):(0,l.warn)(`Dependent image with object ID ${A} is not ready yet`)}paintInlineImageXObject(A,S){const F=A.width,Q=A.height,N=K(A,this.forceDataSchema,!!S),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y","0"),J.setAttributeNS(null,"width",ae(F)),J.setAttributeNS(null,"height",ae(Q)),this.current.element=J,this.clip("nonzero");const j=this.svgFactory.createElement("svg:image");j.setAttributeNS(U,"xlink:href",N),j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y",ae(-Q)),j.setAttributeNS(null,"width",ae(F)+"px"),j.setAttributeNS(null,"height",ae(Q)+"px"),j.setAttributeNS(null,"transform",`scale(${ae(1/F)} ${ae(-1/Q)})`),S?S.appendChild(j):this._ensureTransformGroup().appendChild(j)}paintImageMaskXObject(A){const S=this.current,F=A.width,Q=A.height,N=S.fillColor;S.maskId="mask"+G++;const J=this.svgFactory.createElement("svg:mask");J.setAttributeNS(null,"id",S.maskId);const j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y","0"),j.setAttributeNS(null,"width",ae(F)),j.setAttributeNS(null,"height",ae(Q)),j.setAttributeNS(null,"fill",N),j.setAttributeNS(null,"mask",`url(#${S.maskId})`),this.defs.appendChild(J),this._ensureTransformGroup().appendChild(j),this.paintInlineImageXObject(A,J)}paintFormXObjectBegin(A,S){if(Array.isArray(A)&&6===A.length&&this.transform(A[0],A[1],A[2],A[3],A[4],A[5]),S){const F=S[2]-S[0],Q=S[3]-S[1],N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x",S[0]),N.setAttributeNS(null,"y",S[1]),N.setAttributeNS(null,"width",ae(F)),N.setAttributeNS(null,"height",ae(Q)),this.current.element=N,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(A){const S=this.svgFactory.create(A.width,A.height),F=this.svgFactory.createElement("svg:defs");S.appendChild(F),this.defs=F;const Q=this.svgFactory.createElement("svg:g");return Q.setAttributeNS(null,"transform",W(A.transform)),S.appendChild(Q),this.svg=Q,S}_ensureClipGroup(){if(!this.current.clipGroup){const A=this.svgFactory.createElement("svg:g");A.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(A),this.current.clipGroup=A}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",W(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFNodeStream=void 0;var l=R(1),te=R(26);const O=__webpack_require__(172),pe=__webpack_require__(2001),ie=__webpack_require__(3779),re=__webpack_require__(6558),U=/^file:\/\/\/[a-zA-Z]:\//;I.PDFNodeStream=class he{constructor(Y){this.source=Y,this.url=function ce(G){const Y=re.parse(G);return"file:"===Y.protocol||Y.host?Y:/^[a-z]:[/\\]/i.test(G)?re.parse(`file:///${G}`):(Y.host||(Y.protocol="file:"),Y)}(Y.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&Y.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new W(this):new z(this),this._fullRequestReader}getRangeReader(Y,A){if(A<=this._progressiveDataLength)return null;const S=this.isFsUrl?new fe(this,Y,A):new ae(this,Y,A);return this._rangeRequestReaders.push(S),S}cancelAllRequests(Y){this._fullRequestReader&&this._fullRequestReader.cancel(Y);for(const A of this._rangeRequestReaders.slice(0))A.cancel(Y)}};class ee{constructor(Y){this._url=Y.url,this._done=!1,this._storedError=null,this.onProgress=null;const A=Y.source;this._contentLength=A.length,this._loaded=0,this._filename=null,this._disableRange=A.disableRange||!1,this._rangeChunkSize=A.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!A.disableStream,this._isRangeSupported=!A.disableRange,this._readableStream=null,this._readCapability=(0,l.createPromiseCapability)(),this._headersCapability=(0,l.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var Y=this;return _asyncToGenerator(function*(){if(yield Y._readCapability.promise,Y._done)return{value:void 0,done:!0};if(Y._storedError)throw Y._storedError;const A=Y._readableStream.read();return null===A?(Y._readCapability=(0,l.createPromiseCapability)(),Y.read()):(Y._loaded+=A.length,Y.onProgress&&Y.onProgress({loaded:Y._loaded,total:Y._contentLength}),{value:new Uint8Array(A).buffer,done:!1})})()}cancel(Y){this._readableStream?this._readableStream.destroy(Y):this._error(Y)}_error(Y){this._storedError=Y,this._readCapability.resolve()}_setReadableStream(Y){this._readableStream=Y,Y.on("readable",()=>{this._readCapability.resolve()}),Y.on("end",()=>{Y.destroy(),this._done=!0,this._readCapability.resolve()}),Y.on("error",A=>{this._error(A)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new l.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class K{constructor(Y){this._url=Y.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,l.createPromiseCapability)(),this._isStreamingSupported=!Y.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var Y=this;return _asyncToGenerator(function*(){if(yield Y._readCapability.promise,Y._done)return{value:void 0,done:!0};if(Y._storedError)throw Y._storedError;const A=Y._readableStream.read();return null===A?(Y._readCapability=(0,l.createPromiseCapability)(),Y.read()):(Y._loaded+=A.length,Y.onProgress&&Y.onProgress({loaded:Y._loaded}),{value:new Uint8Array(A).buffer,done:!1})})()}cancel(Y){this._readableStream?this._readableStream.destroy(Y):this._error(Y)}_error(Y){this._storedError=Y,this._readCapability.resolve()}_setReadableStream(Y){this._readableStream=Y,Y.on("readable",()=>{this._readCapability.resolve()}),Y.on("end",()=>{Y.destroy(),this._done=!0,this._readCapability.resolve()}),Y.on("error",A=>{this._error(A)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function se(G,Y){return{protocol:G.protocol,auth:G.auth,host:G.hostname,port:G.port,path:G.path,method:"GET",headers:Y}}class z extends ee{constructor(Y){super(Y);const A=S=>{if(404===S.statusCode){const J=new l.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=J,void this._headersCapability.reject(J)}this._headersCapability.resolve(),this._setReadableStream(S);const F=J=>this._readableStream.headers[J.toLowerCase()],{allowRangeRequests:Q,suggestedLength:N}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:F,isHttp:Y.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Q,this._contentLength=N||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)(F)};this._request=null,this._request="http:"===this._url.protocol?pe.request(se(this._url,Y.httpHeaders),A):ie.request(se(this._url,Y.httpHeaders),A),this._request.on("error",S=>{this._storedError=S,this._headersCapability.reject(S)}),this._request.end()}}class ae extends K{constructor(Y,A,S){super(Y),this._httpHeaders={};for(const Q in Y.httpHeaders){const N=Y.httpHeaders[Q];typeof N>"u"||(this._httpHeaders[Q]=N)}this._httpHeaders.Range=`bytes=${A}-${S-1}`;const F=Q=>{if(404!==Q.statusCode)this._setReadableStream(Q);else{const N=new l.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=N}};this._request=null,this._request="http:"===this._url.protocol?pe.request(se(this._url,this._httpHeaders),F):ie.request(se(this._url,this._httpHeaders),F),this._request.on("error",Q=>{this._storedError=Q}),this._request.end()}}class W extends ee{constructor(Y){super(Y);let A=decodeURIComponent(this._url.path);U.test(this._url.href)&&(A=A.replace(/^\//,"")),O.lstat(A,(S,F)=>{if(S)return"ENOENT"===S.code&&(S=new l.MissingPDFException(`Missing PDF "${A}".`)),this._storedError=S,void this._headersCapability.reject(S);this._contentLength=F.size,this._setReadableStream(O.createReadStream(A)),this._headersCapability.resolve()})}}class fe extends K{constructor(Y,A,S){super(Y);let F=decodeURIComponent(this._url.path);U.test(this._url.href)&&(F=F.replace(/^\//,"")),this._setReadableStream(O.createReadStream(F,{start:A,end:S-1}))}}},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.createResponseStatusError=function re(ce,he){return 404===ce||0===ce&&he.startsWith("file:")?new l.MissingPDFException('Missing PDF "'+he+'".'):new l.UnexpectedResponseException(`Unexpected server response (${ce}) while retrieving PDF "${he}".`,ce)},I.extractFilenameFromHeader=function ie(ce){const he=ce("Content-Disposition");if(he){let ee=(0,te.getFilenameFromContentDispositionHeader)(he);if(ee.includes("%"))try{ee=decodeURIComponent(ee)}catch{}if((0,O.isPdfFile)(ee))return ee}return null},I.validateRangeRequestCapabilities=function pe({getResponseHeader:ce,isHttp:he,rangeChunkSize:ee,disableRange:K}){const se={allowRangeRequests:!1,suggestedLength:void 0},z=parseInt(ce("Content-Length"),10);return!Number.isInteger(z)||(se.suggestedLength=z,z<=2*ee)||K||!he||"bytes"!==ce("Accept-Ranges")||"identity"!==(ce("Content-Encoding")||"identity")||(se.allowRangeRequests=!0),se},I.validateResponseStatus=function U(ce){return 200===ce||206===ce};var l=R(1),te=R(27),O=R(5)},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.getFilenameFromContentDispositionHeader=function te(O){let pe=!0,ie=re("filename\\*","i").exec(O);if(ie){ie=ie[1];let z=ee(ie);return z=unescape(z),z=K(z),z=se(z),ce(z)}if(ie=function he(z){const ae=[];let W;const fe=re("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(W=fe.exec(z));){let[,Y,A,S]=W;if(Y=parseInt(Y,10),Y in ae){if(0===Y)break}else ae[Y]=[A,S]}const G=[];for(let Y=0;Y<ae.length&&Y in ae;++Y){let[A,S]=ae[Y];S=ee(S),A&&(S=unescape(S),0===Y&&(S=K(S))),G.push(S)}return G.join("")}(O),ie)return ce(se(ie));if(ie=re("filename","i").exec(O),ie){ie=ie[1];let z=ee(ie);return z=se(z),ce(z)}function re(z,ae){return new RegExp("(?:^|;)\\s*"+z+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',ae)}function U(z,ae){if(z){if(!/^[\x00-\xFF]+$/.test(ae))return ae;try{const W=new TextDecoder(z,{fatal:!0}),fe=(0,l.stringToBytes)(ae);ae=W.decode(fe),pe=!1}catch{}}return ae}function ce(z){return pe&&/[\x80-\xff]/.test(z)&&(z=U("utf-8",z),pe&&(z=U("iso-8859-1",z))),z}function ee(z){if(z.startsWith('"')){const ae=z.slice(1).split('\\"');for(let W=0;W<ae.length;++W){const fe=ae[W].indexOf('"');-1!==fe&&(ae[W]=ae[W].slice(0,fe),ae.length=W+1),ae[W]=ae[W].replace(/\\(.)/g,"$1")}z=ae.join('"')}return z}function K(z){const ae=z.indexOf("'");return-1===ae?z:U(z.slice(0,ae),z.slice(ae+1).replace(/^[^']*'/,""))}function se(z){return!z.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(z)?z:z.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(ae,W,fe,G){if("q"===fe||"Q"===fe)return U(W,G=(G=G.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(Y,A){return String.fromCharCode(parseInt(A,16))}));try{G=atob(G)}catch{}return U(W,G)})}return""};var l=R(1)},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFNetworkStream=void 0;var l=R(1),te=R(26);class re{constructor(K,se={}){this.url=K,this.isHttp=/^https?:/i.test(K),this.httpHeaders=this.isHttp&&se.httpHeaders||Object.create(null),this.withCredentials=se.withCredentials||!1,this.getXhr=se.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(K,se,z){const ae={begin:K,end:se};for(const W in z)ae[W]=z[W];return this.request(ae)}requestFull(K){return this.request(K)}request(K){const se=this.getXhr(),z=this.currXhrId++,ae=this.pendingRequests[z]={xhr:se};se.open("GET",this.url),se.withCredentials=this.withCredentials;for(const W in this.httpHeaders){const fe=this.httpHeaders[W];typeof fe>"u"||se.setRequestHeader(W,fe)}return this.isHttp&&"begin"in K&&"end"in K?(se.setRequestHeader("Range",`bytes=${K.begin}-${K.end-1}`),ae.expectedStatus=206):ae.expectedStatus=200,se.responseType="arraybuffer",K.onError&&(se.onerror=function(W){K.onError(se.status)}),se.onreadystatechange=this.onStateChange.bind(this,z),se.onprogress=this.onProgress.bind(this,z),ae.onHeadersReceived=K.onHeadersReceived,ae.onDone=K.onDone,ae.onError=K.onError,ae.onProgress=K.onProgress,se.send(null),z}onProgress(K,se){const z=this.pendingRequests[K];!z||z.onProgress?.(se)}onStateChange(K,se){const z=this.pendingRequests[K];if(!z)return;const ae=z.xhr;if(ae.readyState>=2&&z.onHeadersReceived&&(z.onHeadersReceived(),delete z.onHeadersReceived),4!==ae.readyState||!(K in this.pendingRequests))return;if(delete this.pendingRequests[K],0===ae.status&&this.isHttp)return void z.onError?.(ae.status);const W=ae.status||200;if((200!==W||206!==z.expectedStatus)&&W!==z.expectedStatus)return void z.onError?.(ae.status);const G=function ie(ee){const K=ee.response;return"string"!=typeof K?K:(0,l.stringToBytes)(K).buffer}(ae);if(206===W){const Y=ae.getResponseHeader("Content-Range"),A=/bytes (\d+)-(\d+)\/(\d+)/.exec(Y);z.onDone({begin:parseInt(A[1],10),chunk:G})}else G?z.onDone({begin:0,chunk:G}):z.onError?.(ae.status)}getRequestXhr(K){return this.pendingRequests[K].xhr}isPendingRequest(K){return K in this.pendingRequests}abortRequest(K){const se=this.pendingRequests[K].xhr;delete this.pendingRequests[K],se.abort()}}I.PDFNetworkStream=class U{constructor(K){this._source=K,this._manager=new re(K.url,{httpHeaders:K.httpHeaders,withCredentials:K.withCredentials}),this._rangeChunkSize=K.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(K){const se=this._rangeRequestReaders.indexOf(K);se>=0&&this._rangeRequestReaders.splice(se,1)}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ce(this._manager,this._source),this._fullRequestReader}getRangeReader(K,se){const z=new he(this._manager,K,se);return z.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(z),z}cancelAllRequests(K){this._fullRequestReader?.cancel(K);for(const se of this._rangeRequestReaders.slice(0))se.cancel(K)}};class ce{constructor(K,se){this._manager=K;const z={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=se.url,this._fullRequestId=K.requestFull(z),this._headersReceivedCapability=(0,l.createPromiseCapability)(),this._disableRange=se.disableRange||!1,this._contentLength=se.length,this._rangeChunkSize=se.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const K=this._fullRequestId,se=this._manager.getRequestXhr(K),z=fe=>se.getResponseHeader(fe),{allowRangeRequests:ae,suggestedLength:W}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:z,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});ae&&(this._isRangeSupported=!0),this._contentLength=W||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)(z),this._isRangeSupported&&this._manager.abortRequest(K),this._headersReceivedCapability.resolve()}_onDone(K){if(K&&(this._requests.length>0?this._requests.shift().resolve({value:K.chunk,done:!1}):this._cachedChunks.push(K.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(K){this._storedError=(0,te.createResponseStatusError)(K,this._url),this._headersReceivedCapability.reject(this._storedError);for(const se of this._requests)se.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(K){this.onProgress?.({loaded:K.loaded,total:K.lengthComputable?K.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var K=this;return _asyncToGenerator(function*(){if(K._storedError)throw K._storedError;if(K._cachedChunks.length>0)return{value:K._cachedChunks.shift(),done:!1};if(K._done)return{value:void 0,done:!0};const se=(0,l.createPromiseCapability)();return K._requests.push(se),se.promise})()}cancel(K){this._done=!0,this._headersReceivedCapability.reject(K);for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class he{constructor(K,se,z){this._manager=K;const ae={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=K.url,this._requestId=K.requestRange(se,z,ae),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(K){const se=K.chunk;this._requests.length>0?this._requests.shift().resolve({value:se,done:!1}):this._queuedChunk=se,this._done=!0;for(const z of this._requests)z.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(K){this._storedError=(0,te.createResponseStatusError)(K,this._url);for(const se of this._requests)se.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(K){this.isStreamingSupported||this.onProgress?.({loaded:K.loaded})}get isStreamingSupported(){return!1}read(){var K=this;return _asyncToGenerator(function*(){if(K._storedError)throw K._storedError;if(null!==K._queuedChunk){const z=K._queuedChunk;return K._queuedChunk=null,{value:z,done:!1}}if(K._done)return{value:void 0,done:!0};const se=(0,l.createPromiseCapability)();return K._requests.push(se),se.promise})()}cancel(K){this._done=!0;for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(xe,I,R)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFFetchStream=void 0;var l=R(1),te=R(26);function O(ce,he,ee){return{method:"GET",headers:ce,signal:ee?.signal,mode:"cors",credentials:he?"include":"same-origin",redirect:"follow"}}function pe(ce){const he=new Headers;for(const ee in ce){const K=ce[ee];typeof K>"u"||he.append(ee,K)}return he}I.PDFFetchStream=class ie{constructor(he){this.source=he,this.isHttp=/^https?:/i.test(he.url),this.httpHeaders=this.isHttp&&he.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,l.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new re(this),this._fullRequestReader}getRangeReader(he,ee){if(ee<=this._progressiveDataLength)return null;const K=new U(this,he,ee);return this._rangeRequestReaders.push(K),K}cancelAllRequests(he){this._fullRequestReader&&this._fullRequestReader.cancel(he);for(const ee of this._rangeRequestReaders.slice(0))ee.cancel(he)}};class re{constructor(he){this._stream=he,this._reader=null,this._loaded=0,this._filename=null;const ee=he.source;this._withCredentials=ee.withCredentials||!1,this._contentLength=ee.length,this._headersCapability=(0,l.createPromiseCapability)(),this._disableRange=ee.disableRange||!1,this._rangeChunkSize=ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!ee.disableStream,this._isRangeSupported=!ee.disableRange,this._headers=pe(this._stream.httpHeaders);const K=ee.url;fetch(K,O(this._headers,this._withCredentials,this._abortController)).then(se=>{if(!(0,te.validateResponseStatus)(se.status))throw(0,te.createResponseStatusError)(se.status,K);this._reader=se.body.getReader(),this._headersCapability.resolve();const z=fe=>se.headers.get(fe),{allowRangeRequests:ae,suggestedLength:W}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:z,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ae,this._contentLength=W||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)(z),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new l.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var he=this;return _asyncToGenerator(function*(){yield he._headersCapability.promise;const{value:ee,done:K}=yield he._reader.read();return K?{value:ee,done:K}:(he._loaded+=ee.byteLength,he.onProgress&&he.onProgress({loaded:he._loaded,total:he._contentLength}),{value:new Uint8Array(ee).buffer,done:!1})})()}cancel(he){this._reader&&this._reader.cancel(he),this._abortController&&this._abortController.abort()}}class U{constructor(he,ee,K){this._stream=he,this._reader=null,this._loaded=0;const se=he.source;this._withCredentials=se.withCredentials||!1,this._readCapability=(0,l.createPromiseCapability)(),this._isStreamingSupported=!se.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=pe(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ee}-${K-1}`);const z=se.url;fetch(z,O(this._headers,this._withCredentials,this._abortController)).then(ae=>{if(!(0,te.validateResponseStatus)(ae.status))throw(0,te.createResponseStatusError)(ae.status,z);this._readCapability.resolve(),this._reader=ae.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var he=this;return _asyncToGenerator(function*(){yield he._readCapability.promise;const{value:ee,done:K}=yield he._reader.read();return K?{value:ee,done:K}:(he._loaded+=ee.byteLength,he.onProgress&&he.onProgress({loaded:he._loaded}),{value:new Uint8Array(ee).buffer,done:!1})})()}cancel(he){this._reader&&this._reader.cancel(he),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(xe){var I=__webpack_module_cache__[xe];if(void 0!==I)return I.exports;var R=__webpack_module_cache__[xe]={exports:{}};return __webpack_modules__[xe](R,R.exports,__w_pdfjs_require__),R.exports}var __webpack_exports__={};return(()=>{var xe=__webpack_exports__;Object.defineProperty(xe,"__esModule",{value:!0}),Object.defineProperty(xe,"AnnotationLayer",{enumerable:!0,get:function(){return te.AnnotationLayer}}),Object.defineProperty(xe,"AnnotationMode",{enumerable:!0,get:function(){return I.AnnotationMode}}),Object.defineProperty(xe,"CMapCompressionType",{enumerable:!0,get:function(){return I.CMapCompressionType}}),Object.defineProperty(xe,"GlobalWorkerOptions",{enumerable:!0,get:function(){return O.GlobalWorkerOptions}}),Object.defineProperty(xe,"InvalidPDFException",{enumerable:!0,get:function(){return I.InvalidPDFException}}),Object.defineProperty(xe,"LoopbackPort",{enumerable:!0,get:function(){return R.LoopbackPort}}),Object.defineProperty(xe,"MissingPDFException",{enumerable:!0,get:function(){return I.MissingPDFException}}),Object.defineProperty(xe,"OPS",{enumerable:!0,get:function(){return I.OPS}}),Object.defineProperty(xe,"PDFDataRangeTransport",{enumerable:!0,get:function(){return R.PDFDataRangeTransport}}),Object.defineProperty(xe,"PDFDateString",{enumerable:!0,get:function(){return l.PDFDateString}}),Object.defineProperty(xe,"PDFWorker",{enumerable:!0,get:function(){return R.PDFWorker}}),Object.defineProperty(xe,"PasswordResponses",{enumerable:!0,get:function(){return I.PasswordResponses}}),Object.defineProperty(xe,"PermissionFlag",{enumerable:!0,get:function(){return I.PermissionFlag}}),Object.defineProperty(xe,"PixelsPerInch",{enumerable:!0,get:function(){return l.PixelsPerInch}}),Object.defineProperty(xe,"RenderingCancelledException",{enumerable:!0,get:function(){return l.RenderingCancelledException}}),Object.defineProperty(xe,"SVGGraphics",{enumerable:!0,get:function(){return re.SVGGraphics}}),Object.defineProperty(xe,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return I.UNSUPPORTED_FEATURES}}),Object.defineProperty(xe,"UnexpectedResponseException",{enumerable:!0,get:function(){return I.UnexpectedResponseException}}),Object.defineProperty(xe,"Util",{enumerable:!0,get:function(){return I.Util}}),Object.defineProperty(xe,"VerbosityLevel",{enumerable:!0,get:function(){return I.VerbosityLevel}}),Object.defineProperty(xe,"XfaLayer",{enumerable:!0,get:function(){return U.XfaLayer}}),Object.defineProperty(xe,"build",{enumerable:!0,get:function(){return R.build}}),Object.defineProperty(xe,"createPromiseCapability",{enumerable:!0,get:function(){return I.createPromiseCapability}}),Object.defineProperty(xe,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return I.createValidAbsoluteUrl}}),Object.defineProperty(xe,"getDocument",{enumerable:!0,get:function(){return R.getDocument}}),Object.defineProperty(xe,"getFilenameFromUrl",{enumerable:!0,get:function(){return l.getFilenameFromUrl}}),Object.defineProperty(xe,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return l.getPdfFilenameFromUrl}}),Object.defineProperty(xe,"getXfaPageViewport",{enumerable:!0,get:function(){return l.getXfaPageViewport}}),Object.defineProperty(xe,"isPdfFile",{enumerable:!0,get:function(){return l.isPdfFile}}),Object.defineProperty(xe,"loadScript",{enumerable:!0,get:function(){return l.loadScript}}),Object.defineProperty(xe,"renderTextLayer",{enumerable:!0,get:function(){return ie.renderTextLayer}}),Object.defineProperty(xe,"shadow",{enumerable:!0,get:function(){return I.shadow}}),Object.defineProperty(xe,"version",{enumerable:!0,get:function(){return R.version}});var I=__w_pdfjs_require__(1),R=__w_pdfjs_require__(4),l=__w_pdfjs_require__(5),te=__w_pdfjs_require__(20),O=__w_pdfjs_require__(13),pe=__w_pdfjs_require__(3),ie=__w_pdfjs_require__(23),re=__w_pdfjs_require__(24),U=__w_pdfjs_require__(22);if(pe.isNodeJS){const{PDFNodeStream:ee}=__w_pdfjs_require__(25);(0,R.setPDFNetworkStreamFactory)(K=>new ee(K))}else{const{PDFNetworkStream:ee}=__w_pdfjs_require__(28),{PDFFetchStream:K}=__w_pdfjs_require__(29);(0,R.setPDFNetworkStreamFactory)(se=>(0,l.isValidFetchUrl)(se.url)?new K(se):new ee(se))}})(),__webpack_exports__})(),module.exports=R()},2813:function(xe,I,R){var ee,l=R(5661).default,te=R(1860).default,O=R(9159).default,pe=R(5764).default,ie=R(4467).default,re=R(468).default,U=R(7156).default;ee=()=>(()=>{"use strict";var ce=[,(se,z,ae)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.DefaultXfaLayerFactory=z.DefaultTextLayerFactory=z.DefaultStructTreeLayerFactory=z.DefaultAnnotationLayerFactory=void 0;var W=ae(2),fe=ae(4),G=ae(5),Y=ae(7),A=ae(8),S=ae(9);z.DefaultAnnotationLayerFactory=class F{createAnnotationLayerBuilder(D,oe,$=null,le="",ge=!0,ye=fe.NullL10n,ke=!1,Ne=null,Qe=null,it=null,ve=null){return new W.AnnotationLayerBuilder({pageDiv:D,pdfPage:oe,imageResourcesPath:le,renderForms:ge,linkService:new G.SimpleLinkService,l10n:ye,annotationStorage:$,enableScripting:ke,hasJSActionsPromise:Ne,fieldObjectsPromise:it,mouseState:Qe,annotationCanvasMap:ve})}},z.DefaultStructTreeLayerFactory=class Q{createStructTreeLayerBuilder(D){return new Y.StructTreeLayerBuilder({pdfPage:D})}},z.DefaultTextLayerFactory=class N{createTextLayerBuilder(D,oe,$,le=!1,ge,ye){return new A.TextLayerBuilder({textLayerDiv:D,pageIndex:oe,viewport:$,enhanceTextSelection:le,eventBus:ge,highlighter:ye})}},z.DefaultXfaLayerFactory=class J{createXfaLayerBuilder(D,oe,$=null,le=null){return new S.XfaLayerBuilder({pageDiv:D,pdfPage:oe,annotationStorage:$,linkService:new G.SimpleLinkService,xfaHtml:le})}}},(se,z,ae)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.AnnotationLayerBuilder=void 0;var W=ae(3),fe=ae(4);z.AnnotationLayerBuilder=class G{constructor({pageDiv:A,pdfPage:S,linkService:F,downloadManager:Q,annotationStorage:N=null,imageResourcesPath:J="",renderForms:j=!0,l10n:D=fe.NullL10n,enableScripting:oe=!1,hasJSActionsPromise:$=null,fieldObjectsPromise:le=null,mouseState:ge=null,annotationCanvasMap:ye=null}){this.pageDiv=A,this.pdfPage=S,this.linkService=F,this.downloadManager=Q,this.imageResourcesPath=J,this.renderForms=j,this.l10n=D,this.annotationStorage=N,this.enableScripting=oe,this._hasJSActionsPromise=$,this._fieldObjectsPromise=le,this._mouseState=ge,this._annotationCanvasMap=ye,this.div=null,this._cancelled=!1}render(A,S="display"){var F=this;return U(function*(){const[Q,N=!1,J=null]=yield Promise.all([F.pdfPage.getAnnotations({intent:S}),F._hasJSActionsPromise,F._fieldObjectsPromise]);if(F._cancelled||0===Q.length)return;const j={viewport:A.clone({dontFlip:!0}),div:F.div,annotations:Q,page:F.pdfPage,imageResourcesPath:F.imageResourcesPath,renderForms:F.renderForms,linkService:F.linkService,downloadManager:F.downloadManager,annotationStorage:F.annotationStorage,enableScripting:F.enableScripting,hasJSActions:N,fieldObjects:J,mouseState:F._mouseState,annotationCanvasMap:F._annotationCanvasMap};F.div?W.AnnotationLayer.update(j):(F.div=document.createElement("div"),F.div.className="annotationLayer",F.pageDiv.appendChild(F.div),j.div=F.div,W.AnnotationLayer.render(j),F.l10n.translate(F.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},se=>{let z;z=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:R(6036),se.exports=z},(se,z)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.NullL10n=void 0,z.fixupLangCode=function G(S){return fe[S?.toLowerCase()]||S},z.getL10nFallback=W;const ae={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function W(S,F){switch(S){case"find_match_count":S=`find_match_count[${1===F.total?"one":"other"}]`;break;case"find_match_count_limit":S=`find_match_count_limit[${1===F.limit?"one":"other"}]`}return ae[S]||""}const fe={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};z.NullL10n={getLanguage:()=>U(function*(){return"en-us"})(),getDirection:()=>U(function*(){return"ltr"})(),get:(S,F=null,Q=W(S,F))=>U(function*(){return function Y(S,F){return F?S.replace(/\{\{\s*(\w+)\s*\}\}/g,(Q,N)=>N in F?F[N]:"{{"+N+"}}"):S}(Q,F)})(),translate:S=>U(function*(){})()}},(se,z,ae)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.SimpleLinkService=z.PDFLinkService=z.LinkTarget=void 0;var W=ae(6);const G={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function Y(j,{url:D,target:oe,rel:$,enabled:le=!0}={}){if(!D||"string"!=typeof D)throw new Error('A valid "url" parameter must provided.');const ge=(0,W.removeNullCharacters)(D);le?j.href=j.title=ge:(j.href="",j.title=`Disabled: ${ge}`,j.onclick=()=>!1);let ye="";switch(oe){case G.NONE:break;case G.SELF:ye="_self";break;case G.BLANK:ye="_blank";break;case G.PARENT:ye="_parent";break;case G.TOP:ye="_top"}j.target=ye,j.rel="string"==typeof $?$:"noopener noreferrer nofollow"}z.LinkTarget=G;var A=new WeakMap,S=new WeakSet;class F{constructor({eventBus:D,externalLinkTarget:oe=null,externalLinkRel:$=null,ignoreDestinationZoom:le=!1}={}){te(this,S),O(this,A,{writable:!0,value:new Map}),this.eventBus=D,this.externalLinkTarget=oe,this.externalLinkRel=$,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=le,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(D,oe=null){this.baseUrl=oe,this.pdfDocument=D,re(this,A).clear()}setViewer(D){this.pdfViewer=D}setHistory(D){this.pdfHistory=D}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(D){this.pdfViewer.currentPageNumber=D}get rotation(){return this.pdfViewer.pagesRotation}set rotation(D){this.pdfViewer.pagesRotation=D}goToDestination(D){var oe=this;return U(function*(){if(!oe.pdfDocument)return;let $,le;"string"==typeof D?($=D,le=yield oe.pdfDocument.getDestination(D)):($=null,le=yield D),Array.isArray(le)?ie(oe,S,Q).call(oe,D,$,le):console.error(`PDFLinkService.goToDestination: "${le}" is not a valid destination array, for dest="${D}".`)})()}goToPage(D){if(!this.pdfDocument)return;const oe="string"==typeof D&&this.pdfViewer.pageLabelToPageNumber(D)||0|D;Number.isInteger(oe)&&oe>0&&oe<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(oe)),this.pdfViewer.scrollPageIntoView({pageNumber:oe})):console.error(`PDFLinkService.goToPage: "${D}" is not a valid page.`)}addLinkAttributes(D,oe,$=!1){Y(D,{url:oe,target:$?G.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(D){if("string"==typeof D){if(D.length>0)return this.getAnchorUrl("#"+escape(D))}else if(Array.isArray(D)){const oe=JSON.stringify(D);if(oe.length>0)return this.getAnchorUrl("#"+escape(oe))}return this.getAnchorUrl("")}getAnchorUrl(D){return(this.baseUrl||"")+D}setHash(D){if(!this.pdfDocument)return;let oe,$;if(D.includes("=")){const le=(0,W.parseQueryString)(D);if(le.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:le.get("search").replace(/"/g,""),phraseSearch:"true"===le.get("phrase")}),le.has("page")&&(oe=0|le.get("page")||1),le.has("zoom")){const ge=le.get("zoom").split(","),ye=ge[0],ke=parseFloat(ye);ye.includes("Fit")?"Fit"===ye||"FitB"===ye?$=[null,{name:ye}]:"FitH"===ye||"FitBH"===ye||"FitV"===ye||"FitBV"===ye?$=[null,{name:ye},ge.length>1?0|ge[1]:null]:"FitR"===ye?5!==ge.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):$=[null,{name:ye},0|ge[1],0|ge[2],0|ge[3],0|ge[4]]:console.error(`PDFLinkService.setHash: "${ye}" is not a valid zoom value.`):$=[null,{name:"XYZ"},ge.length>1?0|ge[1]:null,ge.length>2?0|ge[2]:null,ke?ke/100:ye]}$?this.pdfViewer.scrollPageIntoView({pageNumber:oe||this.page,destArray:$,allowNegativeOffset:!0}):oe&&(this.page=oe),le.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:le.get("pagemode")}),le.has("nameddest")&&this.goToDestination(le.get("nameddest"))}else{$=unescape(D);try{$=JSON.parse($),Array.isArray($)||($=$.toString())}catch{}if("string"==typeof $||pe(F,F,N).call(F,$))return void this.goToDestination($);console.error(`PDFLinkService.setHash: "${unescape(D)}" is not a valid destination.`)}}executeNamedAction(D){switch(D){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:D})}cachePageRef(D,oe){if(!oe)return;const $=0===oe.gen?`${oe.num}R`:`${oe.num}R${oe.gen}`;re(this,A).set($,D)}_cachedPageNumber(D){if(!D)return null;const oe=0===D.gen?`${D.num}R`:`${D.num}R${D.gen}`;return re(this,A).get(oe)||null}isPageVisible(D){return this.pdfViewer.isPageVisible(D)}isPageCached(D){return this.pdfViewer.isPageCached(D)}}function Q(j,D=null,oe){const $=oe[0];let le;if("object"==typeof $&&null!==$){if(le=this._cachedPageNumber($),!le)return void this.pdfDocument.getPageIndex($).then(ge=>{this.cachePageRef(ge+1,$),ie(this,S,Q).call(this,j,D,oe)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${$}" is not a valid page reference, for dest="${j}".`)})}else{if(!Number.isInteger($))return void console.error(`PDFLinkService.#goToDestinationHelper: "${$}" is not a valid destination reference, for dest="${j}".`);le=$+1}!le||le<1||le>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${le}" is not a valid page number, for dest="${j}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:D,explicitDest:oe,pageNumber:le})),this.pdfViewer.scrollPageIntoView({pageNumber:le,destArray:oe,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function N(j){if(!Array.isArray(j))return!1;const D=j.length;if(D<2)return!1;const oe=j[0];if(!("object"==typeof oe&&Number.isInteger(oe.num)&&Number.isInteger(oe.gen)||Number.isInteger(oe)&&oe>=0))return!1;const $=j[1];if("object"!=typeof $||"string"!=typeof $.name)return!1;let le=!0;switch($.name){case"XYZ":if(5!==D)return!1;break;case"Fit":case"FitB":return 2===D;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==D)return!1;break;case"FitR":if(6!==D)return!1;le=!1;break;default:return!1}for(let ge=2;ge<D;ge++){const ye=j[ge];if(!("number"==typeof ye||le&&null===ye))return!1}return!0}z.PDFLinkService=F,z.SimpleLinkService=class J{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(D){}get rotation(){return 0}set rotation(D){}goToDestination(D){return U(function*(){})()}goToPage(D){}addLinkAttributes(D,oe,$=!1){Y(D,{url:oe,enabled:this.externalLinkEnabled})}getDestinationHash(D){return"#"}getAnchorUrl(D){return"#"}setHash(D){}executeNamedAction(D){}cachePageRef(D,oe){}isPageVisible(D){return!0}isPageCached(D){return!0}}},(se,z)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.animationStarted=z.VERTICAL_PADDING=z.UNKNOWN_SCALE=z.TextLayerMode=z.SpreadMode=z.SidebarView=z.ScrollMode=z.SCROLLBAR_PADDING=z.RenderingStates=z.RendererType=z.ProgressBar=z.PresentationModeState=z.OutputScale=z.MIN_SCALE=z.MAX_SCALE=z.MAX_AUTO_SCALE=z.DEFAULT_SCALE_VALUE=z.DEFAULT_SCALE_DELTA=z.DEFAULT_SCALE=z.AutoPrintRegExp=void 0,z.apiPageLayoutToViewerModes=function Ot(nt){let dt=$.VERTICAL,xt=le.NONE;switch(nt){case"SinglePage":dt=$.PAGE;break;case"OneColumn":break;case"TwoPageLeft":dt=$.PAGE;case"TwoColumnLeft":xt=le.ODD;break;case"TwoPageRight":dt=$.PAGE;case"TwoColumnRight":xt=le.EVEN}return{scrollMode:dt,spreadMode:xt}},z.apiPageModeToSidebarView=function St(nt){switch(nt){case"UseNone":return j.NONE;case"UseThumbs":return j.THUMBS;case"UseOutlines":return j.OUTLINE;case"UseAttachments":return j.ATTACHMENTS;case"UseOC":return j.LAYERS}return j.NONE},z.approximateFraction=function M(nt){if(Math.floor(nt)===nt)return[nt,1];const dt=1/nt;if(dt>8)return[1,8];if(Math.floor(dt)===dt)return[1,dt];const Ze=nt>1?dt:nt;let Le,me=0,Ie=1,ft=1,wt=1;for(;;){const we=me+ft,Oe=Ie+wt;if(Oe>8)break;Ze<=we/Oe?(ft=we,wt=Oe):(me=we,Ie=Oe)}return Le=Ze-me/Ie<ft/wt-Ze?Ze===nt?[me,Ie]:[Ie,me]:Ze===nt?[ft,wt]:[wt,ft],Le},z.backtrackBeforeAllVisibleElements=ne,z.binarySearchFirstItem=b,z.getActiveOrFocusedElement=function Rt(){let nt=document,dt=nt.activeElement||nt.querySelector(":focus");for(;dt?.shadowRoot;)nt=dt.shadowRoot,dt=nt.activeElement||nt.querySelector(":focus");return dt},z.getPageSizeInches=function X({view:nt,userUnit:dt,rotate:xt}){const[Ze,me,Ie,ft]=nt,wt=xt%180!=0,Le=(Ie-Ze)/72*dt,we=(ft-me)/72*dt;return{width:wt?we:Le,height:wt?Le:we}},z.getVisibleElements=function B({scrollEl:nt,views:dt,sortByVisibility:xt=!1,horizontal:Ze=!1,rtl:me=!1}){const Ie=nt.scrollTop,ft=Ie+nt.clientHeight,wt=nt.scrollLeft,Le=wt+nt.clientWidth,rt=[],yt=new Set,Kt=dt.length;let Ye=b(dt,Ze?function Oe(Ae){const Pe=Ae.div,$e=Pe.offsetLeft+Pe.clientLeft;return me?$e<Le:$e+Pe.clientWidth>wt}:function we(Ae){const Pe=Ae.div;return Pe.offsetTop+Pe.clientTop+Pe.clientHeight>Ie});Ye>0&&Ye<Kt&&!Ze&&(Ye=ne(Ye,dt,Ie));let Ee=Ze?Le:-1;for(let Ae=Ye;Ae<Kt;Ae++){const Pe=dt[Ae],$e=Pe.div,ot=$e.offsetLeft+$e.clientLeft,Ct=$e.offsetTop+$e.clientTop,Xt=$e.clientWidth,en=$e.clientHeight,Fn=ot+Xt,Jt=Ct+en;if(-1===Ee)Jt>=ft&&(Ee=Jt);else if((Ze?ot:Ct)>Ee)break;if(Jt<=Ie||Ct>=ft||Fn<=wt||ot>=Le)continue;const tn=Math.max(0,Ie-Ct)+Math.max(0,Jt-ft),On=(Xt-(Math.max(0,wt-ot)+Math.max(0,Fn-Le)))/Xt;rt.push({id:Pe.id,x:ot,y:Ct,view:Pe,percent:(en-tn)/en*On*100|0,widthPercent:100*On|0}),yt.add(Pe.id)}const Te=rt[0],Ce=rt[rt.length-1];return xt&&rt.sort(function(Ae,Pe){const $e=Ae.percent-Pe.percent;return Math.abs($e)>.001?-$e:Ae.id-Pe.id}),{first:Te,last:Ce,views:rt,ids:yt}},z.isPortraitOrientation=function Xe(nt){return nt.width<=nt.height},z.isValidRotation=function Ue(nt){return Number.isInteger(nt)&&nt%90==0},z.isValidScrollMode=function Be(nt){return Number.isInteger(nt)&&Object.values($).includes(nt)&&nt!==$.UNKNOWN},z.isValidSpreadMode=function Ke(nt){return Number.isInteger(nt)&&Object.values(le).includes(nt)&&nt!==le.UNKNOWN},z.noContextMenuHandler=function be(nt){nt.preventDefault()},z.normalizeWheelEventDelta=function Me(nt){let dt=je(nt);return 0===nt.deltaMode?dt/=900:1===nt.deltaMode&&(dt/=30),dt},z.normalizeWheelEventDirection=je,z.parseQueryString=function Qe(nt){const dt=new Map;for(const[xt,Ze]of new URLSearchParams(nt))dt.set(xt.toLowerCase(),Ze);return dt},z.removeNullCharacters=function x(nt,dt=!1){return"string"!=typeof nt?(console.error("The argument must be a string."),nt):(dt&&(nt=nt.replace(ve," ")),nt.replace(it,""))},z.roundToDivide=function L(nt,dt){const xt=nt%dt;return 0===xt?nt:Math.round(nt-xt+dt)},z.scrollIntoView=function ke(nt,dt,xt=!1){let Ze=nt.offsetParent;if(!Ze)return void console.error("offsetParent is not set -- cannot scroll");let me=nt.offsetTop+nt.clientTop,Ie=nt.offsetLeft+nt.clientLeft;for(;Ze.clientHeight===Ze.scrollHeight&&Ze.clientWidth===Ze.scrollWidth||xt&&(Ze.classList.contains("markedContent")||"hidden"===getComputedStyle(Ze).overflow);)if(me+=Ze.offsetTop,Ie+=Ze.offsetLeft,Ze=Ze.offsetParent,!Ze)return;dt&&(void 0!==dt.top&&(me+=dt.top),void 0!==dt.left&&(Ie+=dt.left,Ze.scrollLeft=Ie)),Ze.scrollTop=me},z.watchScroll=function Ne(nt,dt){const xt=function(Ie){me||(me=window.requestAnimationFrame(function(){me=null;const wt=nt.scrollLeft,Le=Ze.lastX;wt!==Le&&(Ze.right=wt>Le),Ze.lastX=wt;const we=nt.scrollTop,Oe=Ze.lastY;we!==Oe&&(Ze.down=we>Oe),Ze.lastY=we,dt(Ze)}))},Ze={right:!0,down:!0,lastX:nt.scrollLeft,lastY:nt.scrollTop,_eventHandler:xt};let me=null;return nt.addEventListener("scroll",xt,!0),Ze},z.DEFAULT_SCALE_VALUE="auto",z.DEFAULT_SCALE=1,z.DEFAULT_SCALE_DELTA=1.1,z.MIN_SCALE=.1,z.MAX_SCALE=10,z.UNKNOWN_SCALE=0,z.MAX_AUTO_SCALE=1.25,z.SCROLLBAR_PADDING=40,z.VERTICAL_PADDING=5,z.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},z.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const j={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};z.SidebarView=j,z.RendererType={CANVAS:"canvas",SVG:"svg"},z.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const $={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};z.ScrollMode=$;const le={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};z.SpreadMode=le,z.AutoPrintRegExp=/\bprint\s*\(/,z.OutputScale=class ye{constructor(){const dt=window.devicePixelRatio||1;this.sx=dt,this.sy=dt}get scaled(){return 1!==this.sx||1!==this.sy}};const it=/\x00/g,ve=/[\x01-\x1F]/g;function b(nt,dt,xt=0){let Ze=xt,me=nt.length-1;if(me<0||!dt(nt[me]))return nt.length;if(dt(nt[Ze]))return Ze;for(;Ze<me;){const Ie=Ze+me>>1;dt(nt[Ie])?me=Ie:Ze=Ie+1}return Ze}function ne(nt,dt,xt){if(nt<2)return nt;let Ze=dt[nt].div,me=Ze.offsetTop+Ze.clientTop;me>=xt&&(Ze=dt[nt-1].div,me=Ze.offsetTop+Ze.clientTop);for(let Ie=nt-2;Ie>=0&&(Ze=dt[Ie].div,!(Ze.offsetTop+Ze.clientTop+Ze.clientHeight<=me));--Ie)nt=Ie;return nt}function je(nt){let dt=Math.hypot(nt.deltaX,nt.deltaY);const xt=Math.atan2(nt.deltaY,nt.deltaX);return-.25*Math.PI<xt&&xt<.75*Math.PI&&(dt=-dt),dt}const mt=new Promise(function(nt){window.requestAnimationFrame(nt)});z.animationStarted=mt;var at=new WeakSet;function ct(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}z.ProgressBar=class _t{constructor(dt){if(te(this,at),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(dt+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(dt){this._indeterminate=isNaN(dt),this._percent=function Dt(nt,dt,xt){return Math.min(Math.max(nt,dt),xt)}(dt,0,100),ie(this,at,ct).call(this)}setWidth(dt){if(!dt)return;const Ze=dt.parentNode.offsetWidth-dt.offsetWidth;Ze>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${Ze}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(se,z)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.StructTreeLayerBuilder=void 0;const ae={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},W=/^H(\d+)$/;z.StructTreeLayerBuilder=class fe{constructor({pdfPage:Y}){this.pdfPage=Y}render(Y){return this._walk(Y)}_setAttributes(Y,A){void 0!==Y.alt&&A.setAttribute("aria-label",Y.alt),void 0!==Y.id&&A.setAttribute("aria-owns",Y.id),void 0!==Y.lang&&A.setAttribute("lang",Y.lang)}_walk(Y){if(!Y)return null;const A=document.createElement("span");if("role"in Y){const{role:S}=Y,F=S.match(W);F?(A.setAttribute("role","heading"),A.setAttribute("aria-level",F[1])):ae[S]&&A.setAttribute("role",ae[S])}if(this._setAttributes(Y,A),Y.children)if(1===Y.children.length&&"id"in Y.children[0])this._setAttributes(Y.children[0],A);else for(const S of Y.children)A.appendChild(this._walk(S));return A}}},(se,z,ae)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.TextLayerBuilder=void 0;var W=ae(3);z.TextLayerBuilder=class G{constructor({textLayerDiv:A,eventBus:S,pageIndex:F,viewport:Q,highlighter:N=null,enhanceTextSelection:J=!1}){this.textLayerDiv=A,this.eventBus=S,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=F+1,this.viewport=Q,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=N,this.enhanceTextSelection=J,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const A=document.createElement("div");A.className="endOfContent",this.textLayerDiv.appendChild(A)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(A=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const S=document.createDocumentFragment();this.textLayerRenderTask=(0,W.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:S,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:A,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(S),this._finishRendering(),this.highlighter?.enable()},function(F){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(A){this.cancel(),this.textContentStream=A}setTextContent(A){this.cancel(),this.textContent=A}_bindMouse(){const A=this.textLayerDiv;let S=null;A.addEventListener("mousedown",F=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(S&&(clearTimeout(S),S=null));const Q=A.querySelector(".endOfContent");if(!Q)return;let N=F.target!==A;if(N=N&&"none"!==window.getComputedStyle(Q).getPropertyValue("-moz-user-select"),N){const J=A.getBoundingClientRect(),j=Math.max(0,(F.pageY-J.top)/J.height);Q.style.top=(100*j).toFixed(2)+"%"}Q.classList.add("active")}),A.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(S=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),S=null},300));const F=A.querySelector(".endOfContent");!F||(F.style.top="",F.classList.remove("active"))})}}},(se,z,ae)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.XfaLayerBuilder=void 0;var W=ae(3);z.XfaLayerBuilder=class fe{constructor({pageDiv:Y,pdfPage:A,annotationStorage:S=null,linkService:F,xfaHtml:Q=null}){this.pageDiv=Y,this.pdfPage=A,this.annotationStorage=S,this.linkService=F,this.xfaHtml=Q,this.div=null,this._cancelled=!1}render(Y,A="display"){if("print"===A){const S={viewport:Y.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:A},F=document.createElement("div");this.pageDiv.appendChild(F),S.div=F;const Q=W.XfaLayer.render(S);return Promise.resolve(Q)}return this.pdfPage.getXfa().then(S=>{if(this._cancelled||!S)return{textDivs:[]};const F={viewport:Y.clone({dontFlip:!0}),div:this.div,xfaHtml:S,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:A};return this.div?W.XfaLayer.update(F):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),F.div=this.div,W.XfaLayer.render(F))}).catch(S=>{console.error(S)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(se,z,ae)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.PDFViewer=z.PDFSinglePageViewer=void 0;var W=ae(6),fe=ae(11);z.PDFViewer=class G extends fe.BaseViewer{},z.PDFSinglePageViewer=class Y extends fe.BaseViewer{_resetView(){super._resetView(),this._scrollMode=W.ScrollMode.PAGE,this._spreadMode=W.SpreadMode.NONE}set scrollMode(S){}_updateScrollMode(){}set spreadMode(S){}_updateSpreadMode(){}}},(se,z,ae)=>{let W;Object.defineProperty(z,"__esModule",{value:!0}),z.PagesCountLimit=z.PDFPageViewBuffer=z.BaseViewer=void 0;var fe=ae(3),G=ae(6),Y=ae(2),A=ae(4),S=ae(12),F=ae(14),Q=ae(5),N=ae(7),J=ae(15),j=ae(8),D=ae(9);const $="enablePermissions",le={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};z.PagesCountLimit=le;var ge=new WeakMap,ye=new WeakMap,ke=new WeakSet;W=Symbol.iterator;class Ne{constructor(me){te(this,ke),O(this,ge,{writable:!0,value:new Set}),O(this,ye,{writable:!0,value:0}),l(this,ye,me)}push(me){const Ie=re(this,ge);Ie.has(me)&&Ie.delete(me),Ie.add(me),Ie.size>re(this,ye)&&ie(this,ke,Qe).call(this)}resize(me,Ie=null){l(this,ye,me);const ft=re(this,ge);if(Ie){const wt=ft.size;let Le=1;for(const we of ft)if(Ie.has(we.id)&&(ft.delete(we),ft.add(we)),++Le>wt)break}for(;ft.size>re(this,ye);)ie(this,ke,Qe).call(this)}has(me){return re(this,ge).has(me)}[W](){return re(this,ge).keys()}}function Qe(){const Ze=re(this,ge).keys().next().value;Ze?.destroy(),re(this,ge).delete(Ze)}z.PDFPageViewBuffer=Ne;var it=new WeakMap,ve=new WeakMap,x=new WeakMap,b=new WeakMap,M=new WeakMap,L=new WeakMap,X=new WeakMap,ne=new WeakSet,B=new WeakSet,be=new WeakSet,je=new WeakSet,Me=new WeakSet,Ue=new WeakSet,Be=new WeakSet,Ke=new WeakSet,Xe=new WeakSet;class mt{constructor(me){if(te(this,Xe),te(this,Ke),te(this,Be),te(this,Ue),te(this,Me),te(this,je),te(this,be),te(this,B),te(this,ne),O(this,it,{writable:!0,value:null}),O(this,ve,{writable:!0,value:fe.AnnotationMode.ENABLE_FORMS}),O(this,x,{writable:!0,value:null}),O(this,b,{writable:!0,value:!1}),O(this,M,{writable:!0,value:0}),O(this,L,{writable:!0,value:null}),O(this,X,{writable:!0,value:null}),this.constructor===mt)throw new Error("Cannot initialize BaseViewer.");const Ie="2.14.305";if(fe.version!==Ie)throw new Error(`The API version "${fe.version}" does not match the Viewer version "${Ie}".`);if(this.container=me.container,this.viewer=me.viewer||me.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=me.eventBus,this.linkService=me.linkService||new Q.SimpleLinkService,this.downloadManager=me.downloadManager||null,this.findController=me.findController||null,this._scriptingManager=me.scriptingManager||null,this.removePageBorders=me.removePageBorders||!1,this.textLayerMode=me.textLayerMode??G.TextLayerMode.ENABLE,l(this,ve,me.annotationMode??fe.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=me.imageResourcesPath||"",this.enablePrintAutoRotate=me.enablePrintAutoRotate||!1,this.renderer=me.renderer||G.RendererType.CANVAS,this.useOnlyCssZoom=me.useOnlyCssZoom||!1,this.maxCanvasPixels=me.maxCanvasPixels,this.l10n=me.l10n||A.NullL10n,l(this,b,me.enablePermissions||!1),this.pageColors=me.pageColors||null,me.pageColors&&(!CSS.supports("color",me.pageColors.background)||!CSS.supports("color",me.pageColors.foreground))&&((me.pageColors.background||me.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!me.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new F.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=me.renderingQueue,this._doc=document.documentElement,this.scroll=(0,G.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=G.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(me){return this._pages[me]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(me){return me?.pdfPage})}get renderForms(){return re(this,ve)===fe.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(me){if(!Number.isInteger(me))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(me,!0)||console.error(`currentPageNumber: "${me}" is not a valid page.`)}_setCurrentPageNumber(me,Ie=!1){if(this._currentPageNumber===me)return Ie&&ie(this,Ue,Ot).call(this),!0;if(!(0<me&&me<=this.pagesCount))return!1;const ft=this._currentPageNumber;return this._currentPageNumber=me,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:me,pageLabel:this._pageLabels?.[me-1]??null,previous:ft}),Ie&&ie(this,Ue,Ot).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(me){if(!this.pdfDocument)return;let Ie=0|me;if(this._pageLabels){const ft=this._pageLabels.indexOf(me);ft>=0&&(Ie=ft+1)}this._setCurrentPageNumber(Ie,!0)||console.error(`currentPageLabel: "${me}" is not a valid page.`)}get currentScale(){return this._currentScale!==G.UNKNOWN_SCALE?this._currentScale:G.DEFAULT_SCALE}set currentScale(me){if(isNaN(me))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(me,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(me){!this.pdfDocument||this._setScale(me,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(me){if(!(0,G.isValidRotation)(me))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((me%=360)<0&&(me+=360),this._pagesRotation===me))return;this._pagesRotation=me;const Ie=this._currentPageNumber,ft={rotation:me};for(const wt of this._pages)wt.update(ft);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:me,pageNumber:Ie}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(me){var Ie=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=me,!me)return;const ft=me.isPureXfa,wt=me.numPages,Le=me.getPage(1),we=me.getOptionalContentConfig(),Oe=re(this,b)?me.getPermissions():Promise.resolve();if(wt>le.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const rt=this._scrollMode=G.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:rt})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:wt})},()=>{}),this._onBeforeDraw=rt=>{const yt=this._pages[rt.pageNumber-1];!yt||re(this,it).push(yt)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=rt=>{rt.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:rt.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,re(this,X)&&(document.removeEventListener("visibilitychange",re(this,X)),l(this,X,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Le,Oe]).then(([rt,yt])=>{if(me!==this.pdfDocument)return;this._firstPageCapability.resolve(rt),this._optionalContentConfigPromise=we,ie(this,ne,Dt).call(this,yt);const Kt=this._scrollMode===G.ScrollMode.PAGE?null:this.viewer,Ye=this.currentScale,Ee=rt.getViewport({scale:Ye*fe.PixelsPerInch.PDF_TO_CSS_UNITS}),Te=this.textLayerMode===G.TextLayerMode.DISABLE||ft?null:this,Ce=re(this,ve)!==fe.AnnotationMode.DISABLE?this:null,Ae=ft?this:null;for(let $e=1;$e<=wt;++$e){const ot=new S.PDFPageView({container:Kt,eventBus:this.eventBus,id:$e,scale:Ye,defaultViewport:Ee.clone(),optionalContentConfigPromise:we,renderingQueue:this.renderingQueue,textLayerFactory:Te,textLayerMode:this.textLayerMode,annotationLayerFactory:Ce,annotationMode:re(this,ve),xfaLayerFactory:Ae,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(ot)}const Pe=this._pages[0];Pe&&(Pe.setPdfPage(rt),this.linkService.cachePageRef(1,rt.ref)),this._scrollMode===G.ScrollMode.PAGE?ie(this,be,_t).call(this):this._spreadMode!==G.SpreadMode.NONE&&this._updateSpreadMode(),ie(this,B,at).call(this).then(U(function*(){if(Ie.findController&&Ie.findController.setDocument(me),Ie._scriptingManager&&Ie._scriptingManager.setDocument(me),me.loadingParams.disableAutoFetch||wt>le.FORCE_LAZY_PAGE_INIT)return void Ie._pagesCapability.resolve();let $e=wt-1;if($e<=0)Ie._pagesCapability.resolve();else for(let ot=2;ot<=wt;++ot){const Ct=me.getPage(ot).then(Xt=>{const en=Ie._pages[ot-1];en.pdfPage||en.setPdfPage(Xt),Ie.linkService.cachePageRef(ot,Xt.ref),0==--$e&&Ie._pagesCapability.resolve()},Xt=>{console.error(`Unable to get page ${ot} to initialize viewer`,Xt),0==--$e&&Ie._pagesCapability.resolve()});ot%le.PAUSE_EAGER_PAGE_INIT==0&&(yield Ct)}})),this.eventBus.dispatch("pagesinit",{source:this}),me.getMetadata().then(({info:$e})=>{me===this.pdfDocument&&$e.Language&&(this.viewer.lang=$e.Language)}),this.defaultRenderingQueue&&this.update()}).catch(rt=>{console.error("Unable to initialize viewer",rt),this._pagesCapability.reject(rt)})}setPageLabels(me){if(this.pdfDocument){me?Array.isArray(me)&&this.pdfDocument.numPages===me.length?this._pageLabels=me:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let Ie=0,ft=this._pages.length;Ie<ft;Ie++)this._pages[Ie].setPageLabel(this._pageLabels?.[Ie]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=G.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,l(this,it,new Ne(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,fe.createPromiseCapability)(),this._onePageRenderedCapability=(0,fe.createPromiseCapability)(),this._pagesCapability=(0,fe.createPromiseCapability)(),this._scrollMode=G.ScrollMode.VERTICAL,this._previousScrollMode=G.ScrollMode.UNKNOWN,this._spreadMode=G.SpreadMode.NONE,l(this,L,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),re(this,X)&&(document.removeEventListener("visibilitychange",re(this,X)),l(this,X,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove($),null!==re(this,x)&&(l(this,ve,re(this,x)),l(this,x,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(me,Ie,ft=!1,wt=!1){if(this._currentScaleValue=Ie.toString(),ie(this,Me,Rt).call(this,me))return void(wt&&this.eventBus.dispatch("scalechanging",{source:this,scale:me,presetValue:Ie}));this._doc.style.setProperty("--zoom-factor",me);const Le={scale:me};for(const we of this._pages)we.update(Le);if(this._currentScale=me,!ft){let Oe,we=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(we=this._location.pageNumber,Oe=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:we,destArray:Oe,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:me,presetValue:wt?Ie:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==G.SpreadMode.NONE&&this._scrollMode!==G.ScrollMode.HORIZONTAL?2:1}_setScale(me,Ie=!1){let ft=parseFloat(me);if(ft>0)this._setScaleUpdatePages(ft,me,Ie,!1);else{const wt=this._pages[this._currentPageNumber-1];if(!wt)return;let Le=G.SCROLLBAR_PADDING,we=G.VERTICAL_PADDING;this.isInPresentationMode?Le=we=4:this.removePageBorders?Le=we=0:this._scrollMode===G.ScrollMode.HORIZONTAL&&([Le,we]=[we,Le]);const Oe=(this.container.clientWidth-Le)/wt.width*wt.scale/this._pageWidthScaleFactor,rt=(this.container.clientHeight-we)/wt.height*wt.scale;switch(me){case"page-actual":ft=1;break;case"page-width":ft=Oe;break;case"page-height":ft=rt;break;case"page-fit":ft=Math.min(Oe,rt);break;case"auto":const yt=(0,G.isPortraitOrientation)(wt)?Oe:Math.min(rt,Oe);ft=Math.min(G.MAX_AUTO_SCALE,yt);break;default:return void console.error(`_setScale: "${me}" is an unknown zoom value.`)}this._setScaleUpdatePages(ft,me,Ie,!0)}}pageLabelToPageNumber(me){if(!this._pageLabels)return null;const Ie=this._pageLabels.indexOf(me);return Ie<0?null:Ie+1}scrollPageIntoView({pageNumber:me,destArray:Ie=null,allowNegativeOffset:ft=!1,ignoreDestinationZoom:wt=!1}){if(!this.pdfDocument)return;const Le=Number.isInteger(me)&&this._pages[me-1];if(!Le)return void console.error(`scrollPageIntoView: "${me}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!Ie)return void this._setCurrentPageNumber(me,!0);let Kt,Ye,we=0,Oe=0,rt=0,yt=0;const Ee=Le.rotation%180!=0,Te=(Ee?Le.height:Le.width)/Le.scale/fe.PixelsPerInch.PDF_TO_CSS_UNITS,Ce=(Ee?Le.width:Le.height)/Le.scale/fe.PixelsPerInch.PDF_TO_CSS_UNITS;let Ae=0;switch(Ie[1].name){case"XYZ":we=Ie[2],Oe=Ie[3],Ae=Ie[4],we=null!==we?we:0,Oe=null!==Oe?Oe:Ce;break;case"Fit":case"FitB":Ae="page-fit";break;case"FitH":case"FitBH":Oe=Ie[2],Ae="page-width",null===Oe&&this._location?(we=this._location.left,Oe=this._location.top):("number"!=typeof Oe||Oe<0)&&(Oe=Ce);break;case"FitV":case"FitBV":we=Ie[2],rt=Te,yt=Ce,Ae="page-height";break;case"FitR":we=Ie[2],Oe=Ie[3],rt=Ie[4]-we,yt=Ie[5]-Oe,Kt=(this.container.clientWidth-(this.removePageBorders?0:G.SCROLLBAR_PADDING))/rt/fe.PixelsPerInch.PDF_TO_CSS_UNITS,Ye=(this.container.clientHeight-(this.removePageBorders?0:G.VERTICAL_PADDING))/yt/fe.PixelsPerInch.PDF_TO_CSS_UNITS,Ae=Math.min(Math.abs(Kt),Math.abs(Ye));break;default:return void console.error(`scrollPageIntoView: "${Ie[1].name}" is not a valid destination type.`)}if(wt||(Ae&&Ae!==this._currentScale?this.currentScaleValue=Ae:this._currentScale===G.UNKNOWN_SCALE&&(this.currentScaleValue=G.DEFAULT_SCALE_VALUE)),"page-fit"===Ae&&!Ie[4])return void ie(this,je,ct).call(this,Le);const Pe=[Le.viewport.convertToViewportPoint(we,Oe),Le.viewport.convertToViewportPoint(we+rt,Oe+yt)];let $e=Math.min(Pe[0][0],Pe[1][0]),ot=Math.min(Pe[0][1],Pe[1][1]);ft||($e=Math.max($e,0),ot=Math.max(ot,0)),ie(this,je,ct).call(this,Le,{left:$e,top:ot})}_updateLocation(me){const Ie=this._currentScale,ft=this._currentScaleValue,wt=parseFloat(ft)===Ie?Math.round(1e4*Ie)/100:ft,Le=me.id,Oe=this.container,rt=this._pages[Le-1].getPagePoint(Oe.scrollLeft-me.x,Oe.scrollTop-me.y),yt=Math.round(rt[0]),Kt=Math.round(rt[1]);let Ye=`#page=${Le}`;this.isInPresentationMode||(Ye+=`&zoom=${wt},${yt},${Kt}`),this._location={pageNumber:Le,scale:wt,top:Kt,left:yt,rotation:this._pagesRotation,pdfOpenParams:Ye}}update(){const me=this._getVisiblePages(),Ie=me.views,ft=Ie.length;if(0===ft)return;const wt=Math.max(10,2*ft+1);re(this,it).resize(wt,me.ids),this.renderingQueue.renderHighestPriority(me);const Le=this._spreadMode===G.SpreadMode.NONE&&(this._scrollMode===G.ScrollMode.PAGE||this._scrollMode===G.ScrollMode.VERTICAL),we=this._currentPageNumber;let Oe=!1;for(const rt of Ie){if(rt.percent<100)break;if(rt.id===we&&Le){Oe=!0;break}}this._setCurrentPageNumber(Oe?we:Ie[0].id),this._updateLocation(me.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(me){return this.container.contains(me)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===G.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===G.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const me=this._scrollMode===G.ScrollMode.PAGE?re(this,L).pages:this._pages,Ie=this._scrollMode===G.ScrollMode.HORIZONTAL;return(0,G.getVisibleElements)({scrollEl:this.container,views:me,sortByVisibility:!0,horizontal:Ie,rtl:Ie&&this._isContainerRtl})}isPageVisible(me){return!!this.pdfDocument&&(Number.isInteger(me)&&me>0&&me<=this.pagesCount?this._getVisiblePages().ids.has(me):(console.error(`isPageVisible: "${me}" is not a valid page.`),!1))}isPageCached(me){if(!this.pdfDocument)return!1;if(!(Number.isInteger(me)&&me>0&&me<=this.pagesCount))return console.error(`isPageCached: "${me}" is not a valid page.`),!1;const Ie=this._pages[me-1];return re(this,it).has(Ie)}cleanup(){for(const me of this._pages)me.renderingState!==G.RenderingStates.FINISHED&&me.reset()}_cancelRendering(){for(const me of this._pages)me.cancelRendering()}forceRendering(me){const Ie=me||this._getVisiblePages(),ft=ie(this,Ke,dt).call(this,Ie),Le=this.renderingQueue.getHighestPriority(Ie,this._pages,ft,this._spreadMode!==G.SpreadMode.NONE&&this._scrollMode!==G.ScrollMode.HORIZONTAL);return ie(this,Xe,xt).call(this,Ie.ids),!!Le&&(ie(this,Be,St).call(this,Le).then(()=>{this.renderingQueue.renderView(Le)}),!0)}createTextLayerBuilder(me,Ie,ft,wt=!1,Le,we){return new j.TextLayerBuilder({textLayerDiv:me,eventBus:Le,pageIndex:Ie,viewport:ft,enhanceTextSelection:!this.isInPresentationMode&&wt,highlighter:we})}createTextHighlighter(me,Ie){return new J.TextHighlighter({eventBus:Ie,pageIndex:me,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(me,Ie,ft=null,wt="",Le=!0,we=A.NullL10n,Oe=null,rt=null,yt=null,Kt=null,Ye=null){return new Y.AnnotationLayerBuilder({pageDiv:me,pdfPage:Ie,annotationStorage:ft||this.pdfDocument?.annotationStorage,imageResourcesPath:wt,renderForms:Le,linkService:this.linkService,downloadManager:this.downloadManager,l10n:we,enableScripting:Oe??this.enableScripting,hasJSActionsPromise:rt||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Kt||this.pdfDocument?.getFieldObjects(),mouseState:yt||this._scriptingManager?.mouseState,annotationCanvasMap:Ye})}createXfaLayerBuilder(me,Ie,ft=null){return new D.XfaLayerBuilder({pageDiv:me,pdfPage:Ie,annotationStorage:ft||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(me){return new N.StructTreeLayerBuilder({pdfPage:me})}get hasEqualPageSizes(){const me=this._pages[0];for(let Ie=1,ft=this._pages.length;Ie<ft;++Ie){const wt=this._pages[Ie];if(wt.width!==me.width||wt.height!==me.height)return!1}return!0}getPagesOverview(){return this._pages.map(me=>{const Ie=me.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,G.isPortraitOrientation)(Ie)?{width:Ie.width,height:Ie.height,rotation:Ie.rotation}:{width:Ie.height,height:Ie.width,rotation:(Ie.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(me){if(!(me instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${me}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=me;const Ie={optionalContentConfigPromise:me};for(const ft of this._pages)ft.update(Ie);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:me})}get scrollMode(){return this._scrollMode}set scrollMode(me){if(this._scrollMode!==me){if(!(0,G.isValidScrollMode)(me))throw new Error(`Invalid scroll mode: ${me}`);this.pagesCount>le.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=me,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:me}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(me=null){const Ie=this._scrollMode,ft=this.viewer;ft.classList.toggle("scrollHorizontal",Ie===G.ScrollMode.HORIZONTAL),ft.classList.toggle("scrollWrapped",Ie===G.ScrollMode.WRAPPED),this.pdfDocument&&me&&(Ie===G.ScrollMode.PAGE?ie(this,be,_t).call(this):this._previousScrollMode===G.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(me,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(me){if(this._spreadMode!==me){if(!(0,G.isValidSpreadMode)(me))throw new Error(`Invalid spread mode: ${me}`);this._spreadMode=me,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:me}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(me=null){if(!this.pdfDocument)return;const Ie=this.viewer,ft=this._pages;if(this._scrollMode===G.ScrollMode.PAGE)ie(this,be,_t).call(this);else if(Ie.textContent="",this._spreadMode===G.SpreadMode.NONE)for(const wt of this._pages)Ie.appendChild(wt.div);else{const wt=this._spreadMode-1;let Le=null;for(let we=0,Oe=ft.length;we<Oe;++we)null===Le?(Le=document.createElement("div"),Le.className="spread",Ie.appendChild(Le)):we%2===wt&&(Le=Le.cloneNode(!1),Ie.appendChild(Le)),Le.appendChild(ft[we].div)}!me||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(me,!0),this.update())}_getPageAdvance(me,Ie=!1){switch(this._scrollMode){case G.ScrollMode.WRAPPED:{const{views:ft}=this._getVisiblePages(),wt=new Map;for(const{id:Le,y:we,percent:Oe,widthPercent:rt}of ft){if(0===Oe||rt<100)continue;let yt=wt.get(we);yt||wt.set(we,yt||(yt=[])),yt.push(Le)}for(const Le of wt.values()){const we=Le.indexOf(me);if(-1===we)continue;const Oe=Le.length;if(1===Oe)break;if(Ie)for(let rt=we-1,yt=0;rt>=yt;rt--){const Ye=Le[rt+1]-1;if(Le[rt]<Ye)return me-Ye}else for(let rt=we+1,yt=Oe;rt<yt;rt++){const Ye=Le[rt-1]+1;if(Le[rt]>Ye)return Ye-me}if(Ie){const rt=Le[0];if(rt<me)return me-rt+1}else{const rt=Le[Oe-1];if(rt>me)return rt-me+1}break}break}case G.ScrollMode.HORIZONTAL:break;case G.ScrollMode.PAGE:case G.ScrollMode.VERTICAL:{if(this._spreadMode===G.SpreadMode.NONE)break;const ft=this._spreadMode-1;if(Ie&&me%2!==ft)break;if(!Ie&&me%2===ft)break;const{views:wt}=this._getVisiblePages(),Le=Ie?me-1:me+1;for(const{id:we,percent:Oe,widthPercent:rt}of wt)if(we===Le){if(Oe>0&&100===rt)return 2;break}break}}return 1}nextPage(){const me=this._currentPageNumber,Ie=this.pagesCount;if(me>=Ie)return!1;const ft=this._getPageAdvance(me,!1)||1;return this.currentPageNumber=Math.min(me+ft,Ie),!0}previousPage(){const me=this._currentPageNumber;if(me<=1)return!1;const Ie=this._getPageAdvance(me,!0)||1;return this.currentPageNumber=Math.max(me-Ie,1),!0}increaseScale(me=1){let Ie=this._currentScale;do{Ie=(Ie*G.DEFAULT_SCALE_DELTA).toFixed(2),Ie=Math.ceil(10*Ie)/10,Ie=Math.min(G.MAX_SCALE,Ie)}while(--me>0&&Ie<G.MAX_SCALE);this.currentScaleValue=Ie}decreaseScale(me=1){let Ie=this._currentScale;do{Ie=(Ie/G.DEFAULT_SCALE_DELTA).toFixed(2),Ie=Math.floor(10*Ie)/10,Ie=Math.max(G.MIN_SCALE,Ie)}while(--me>0&&Ie>G.MIN_SCALE);this.currentScaleValue=Ie}updateContainerHeightCss(){const me=this.container.clientHeight;me!==re(this,M)&&(l(this,M,me),this._doc.style.setProperty("--viewer-container-height",`${me}px`))}}function Dt(Ze){!Ze||(Ze.includes(fe.PermissionFlag.COPY)||this.viewer.classList.add($),!Ze.includes(fe.PermissionFlag.MODIFY_ANNOTATIONS)&&!Ze.includes(fe.PermissionFlag.FILL_INTERACTIVE_FORMS)&&re(this,ve)===fe.AnnotationMode.ENABLE_FORMS&&(l(this,x,re(this,ve)),l(this,ve,fe.AnnotationMode.ENABLE)))}function at(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const Ze=new Promise(me=>{l(this,X,()=>{"hidden"===document.visibilityState&&(me(),document.removeEventListener("visibilitychange",re(this,X)),l(this,X,null))}),document.addEventListener("visibilitychange",re(this,X))});return Promise.race([this._onePageRenderedCapability.promise,Ze])}function _t(){if(this._scrollMode!==G.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const Ze=this._currentPageNumber,me=re(this,L),Ie=this.viewer;if(Ie.textContent="",me.pages.length=0,this._spreadMode!==G.SpreadMode.NONE||this.isInPresentationMode){const ft=new Set,wt=this._spreadMode-1;-1===wt?ft.add(Ze-1):Ze%2!==wt?(ft.add(Ze-1),ft.add(Ze)):(ft.add(Ze-2),ft.add(Ze-1));const Le=document.createElement("div");if(Le.className="spread",this.isInPresentationMode){const we=document.createElement("div");we.className="dummyPage",Le.appendChild(we)}for(const we of ft){const Oe=this._pages[we];!Oe||(Le.appendChild(Oe.div),me.pages.push(Oe))}Ie.appendChild(Le)}else{const ft=this._pages[Ze-1];Ie.appendChild(ft.div),me.pages.push(ft)}me.scrollDown=Ze>=me.previousPageNumber,me.previousPageNumber=Ze}function ct(Ze,me=null){const{div:Ie,id:ft}=Ze;if(this._scrollMode===G.ScrollMode.PAGE&&(this._setCurrentPageNumber(ft),ie(this,be,_t).call(this),this.update()),!me&&!this.isInPresentationMode){const wt=Ie.offsetLeft+Ie.clientLeft,Le=wt+Ie.clientWidth,{scrollLeft:we,clientWidth:Oe}=this.container;(this._scrollMode===G.ScrollMode.HORIZONTAL||wt<we||Le>we+Oe)&&(me={left:0,top:0})}(0,G.scrollIntoView)(Ie,me)}function Rt(Ze){return Ze===this._currentScale||Math.abs(Ze-this._currentScale)<1e-15}function Ot(){const Ze=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),ie(this,je,ct).call(this,Ze)}function St(Ze){return nt.apply(this,arguments)}function nt(){return(nt=U(function*(Ze){if(Ze.pdfPage)return Ze.pdfPage;try{const me=yield this.pdfDocument.getPage(Ze.id);return Ze.pdfPage||Ze.setPdfPage(me),this.linkService._cachedPageNumber?.(me.ref)||this.linkService.cachePageRef(Ze.id,me.ref),me}catch(me){return console.error("Unable to get page for page view",me),null}})).apply(this,arguments)}function dt(Ze){if(1===Ze.first?.id)return!0;if(Ze.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case G.ScrollMode.PAGE:return re(this,L).scrollDown;case G.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function xt(Ze){for(const me of Ze)this._pages[me-1]?.toggleLoadingIconSpinner(!0);for(const me of re(this,it))Ze.has(me.id)||me.toggleLoadingIconSpinner(!1)}z.BaseViewer=mt},(se,z,ae)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.PDFPageView=void 0;var W=ae(3),fe=ae(6),G=ae(13),Y=ae(4);const A=G.compatibilityParams.maxCanvasPixels||16777216;var S=new WeakMap;z.PDFPageView=class F{constructor(N){O(this,S,{writable:!0,value:W.AnnotationMode.ENABLE_FORMS});const J=N.container,j=N.defaultViewport;this.id=N.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=N.scale||fe.DEFAULT_SCALE,this.viewport=j,this.pdfPageRotate=j.rotation,this._optionalContentConfigPromise=N.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=N.textLayerMode??fe.TextLayerMode.ENABLE,l(this,S,N.annotationMode??W.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=N.imageResourcesPath||"",this.useOnlyCssZoom=N.useOnlyCssZoom||!1,this.maxCanvasPixels=N.maxCanvasPixels||A,this.pageColors=N.pageColors||null,this.eventBus=N.eventBus,this.renderingQueue=N.renderingQueue,this.textLayerFactory=N.textLayerFactory,this.annotationLayerFactory=N.annotationLayerFactory,this.xfaLayerFactory=N.xfaLayerFactory,this.textHighlighter=N.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=N.structTreeLayerFactory,this.renderer=N.renderer||fe.RendererType.CANVAS,this.l10n=N.l10n||Y.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=fe.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const D=document.createElement("div");D.className="page",D.style.width=Math.floor(this.viewport.width)+"px",D.style.height=Math.floor(this.viewport.height)+"px",D.setAttribute("data-page-number",this.id),D.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(oe=>{D.setAttribute("aria-label",oe)}),this.div=D,J?.appendChild(D)}setPdfPage(N){this.pdfPage=N,this.pdfPageRotate=N.rotate,this.viewport=N.getViewport({scale:this.scale*W.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var N=this;return U(function*(){let J=null;try{yield N.annotationLayer.render(N.viewport,"display")}catch(j){J=j}finally{N.eventBus.dispatch("annotationlayerrendered",{source:N,pageNumber:N.id,error:J})}})()}_renderXfaLayer(){var N=this;return U(function*(){let J=null;try{const j=yield N.xfaLayer.render(N.viewport,"display");N.textHighlighter&&N._buildXfaTextContentItems(j.textDivs)}catch(j){J=j}finally{N.eventBus.dispatch("xfalayerrendered",{source:N,pageNumber:N.id,error:J})}})()}_buildXfaTextContentItems(N){var J=this;return U(function*(){const j=yield J.pdfPage.getTextContent(),D=[];for(const oe of j.items)D.push(oe.str);J.textHighlighter.setTextMapping(N,D),J.textHighlighter.enable()})()}_resetZoomLayer(N=!1){if(!this.zoomLayer)return;const J=this.zoomLayer.firstChild;this.paintedViewportMap.delete(J),J.width=0,J.height=0,N&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:N=!1,keepAnnotationLayer:J=!1,keepXfaLayer:j=!1}={}){this.cancelRendering({keepAnnotationLayer:J,keepXfaLayer:j}),this.renderingState=fe.RenderingStates.INITIAL;const D=this.div;D.style.width=Math.floor(this.viewport.width)+"px",D.style.height=Math.floor(this.viewport.height)+"px";const oe=D.childNodes,$=N&&this.zoomLayer||null,le=J&&this.annotationLayer?.div||null,ge=j&&this.xfaLayer?.div||null;for(let ye=oe.length-1;ye>=0;ye--){const ke=oe[ye];switch(ke){case $:case le:case ge:continue}ke.remove()}D.removeAttribute("data-loaded"),le&&this.annotationLayer.hide(),ge&&this.xfaLayer.hide(),$||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(ye=>{this.loadingIconDiv?.setAttribute("aria-label",ye)}),D.appendChild(this.loadingIconDiv)}update({scale:N=0,rotation:J=null,optionalContentConfigPromise:j=null}){if(this.scale=N||this.scale,"number"==typeof J&&(this.rotation=J),j instanceof Promise&&(this._optionalContentConfigPromise=j),this.viewport=this.viewport.clone({scale:this.scale*W.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:$}=document.documentElement;$.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let oe=!1;if(this.canvas&&this.maxCanvasPixels>0){const $=this.outputScale;(Math.floor(this.viewport.width)*$.sx|0)*(Math.floor(this.viewport.height)*$.sy|0)>this.maxCanvasPixels&&(oe=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&oe)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:N=!1,keepXfaLayer:J=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!N||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!J||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:N,redrawAnnotationLayer:J=!1,redrawXfaLayer:j=!1}){const D=this.viewport.width,oe=this.viewport.height,$=this.div;N.style.width=N.parentNode.style.width=$.style.width=Math.floor(D)+"px",N.style.height=N.parentNode.style.height=$.style.height=Math.floor(oe)+"px";const le=this.viewport.rotation-this.paintedViewportMap.get(N).rotation,ge=Math.abs(le);let ye=1,ke=1;if((90===ge||270===ge)&&(ye=oe/D,ke=D/oe),N.style.transform=`rotate(${le}deg) scale(${ye}, ${ke})`,this.textLayer){const Ne=this.textLayer.viewport,it=Math.abs(this.viewport.rotation-Ne.rotation);let ve=D/Ne.width;(90===it||270===it)&&(ve=D/Ne.height);const x=this.textLayer.textLayerDiv;let b,M;switch(it){case 0:b=M=0;break;case 90:b=0,M="-"+x.style.height;break;case 180:b="-"+x.style.width,M="-"+x.style.height;break;case 270:b="-"+x.style.width,M=0;break;default:console.error("Bad rotation value.")}x.style.transform=`rotate(${it}deg) scale(${ve}) translate(${b}, ${M})`,x.style.transformOrigin="0% 0%"}J&&this.annotationLayer&&this._renderAnnotationLayer(),j&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(N,J){return this.viewport.convertToPdfPoint(N,J)}toggleLoadingIconSpinner(N=!1){this.loadingIconDiv?.classList.toggle("notVisible",!N)}draw(){var N=this;this.renderingState!==fe.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:J,pdfPage:j}=this;if(!j)return this.renderingState=fe.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=fe.RenderingStates.RUNNING;const D=document.createElement("div");D.style.width=J.style.width,D.style.height=J.style.height,D.classList.add("canvasWrapper"),this.annotationLayer?.div?J.insertBefore(D,this.annotationLayer.div):J.appendChild(D);let oe=null;if(this.textLayerMode!==fe.TextLayerMode.DISABLE&&this.textLayerFactory){const ke=document.createElement("div");ke.className="textLayer",ke.style.width=D.style.width,ke.style.height=D.style.height,this.annotationLayer?.div?J.insertBefore(ke,this.annotationLayer.div):J.appendChild(ke),oe=this.textLayerFactory.createTextLayerBuilder(ke,this.id-1,this.viewport,this.textLayerMode===fe.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=oe,re(this,S)!==W.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(J,j,null,this.imageResourcesPath,re(this,S)===W.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&J.appendChild(this.xfaLayer.div);let $=null;this.renderingQueue&&($=ke=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=fe.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=fe.RenderingStates.RUNNING,ke()});ke()});const le=function(){var ke=U(function*(Ne=null){if(ge===N.paintTask&&(N.paintTask=null),Ne instanceof W.RenderingCancelledException)N._renderError=null;else if(N._renderError=Ne,N.renderingState=fe.RenderingStates.FINISHED,N.loadingIconDiv&&(N.loadingIconDiv.remove(),delete N.loadingIconDiv),N._resetZoomLayer(!0),N.eventBus.dispatch("pagerendered",{source:N,pageNumber:N.id,cssTransform:!1,timestamp:performance.now(),error:N._renderError}),Ne)throw Ne});return function(){return ke.apply(this,arguments)}}(),ge=this.renderer===fe.RendererType.SVG?this.paintOnSvg(D):this.paintOnCanvas(D);ge.onRenderContinue=$,this.paintTask=ge;const ye=ge.promise.then(()=>le(null).then(()=>{if(oe){const ke=j.streamTextContent({includeMarkedContent:!0});oe.setTextContentStream(ke),oe.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(ke){return le(ke)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(J,j,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=ke=>{ke.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(Ne=>{if(!Ne||!this.canvas)return;const Qe=this.structTreeLayer.render(Ne);Qe.classList.add("structTree"),this.canvas.appendChild(Qe)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(j)),J.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),ye}paintOnCanvas(N){const J=(0,W.createPromiseCapability)(),j={promise:J.promise,onRenderContinue(x){x()},cancel(){ve.cancel()}},D=this.viewport,oe=document.createElement("canvas");oe.hidden=!0;let $=!0;const le=function(){$&&(oe.hidden=!1,$=!1)};N.appendChild(oe),this.canvas=oe;const ge=oe.getContext("2d",{alpha:!1}),ye=this.outputScale=new fe.OutputScale;if(this.useOnlyCssZoom){const x=D.clone({scale:W.PixelsPerInch.PDF_TO_CSS_UNITS});ye.sx*=x.width/D.width,ye.sy*=x.height/D.height}if(this.maxCanvasPixels>0){const b=Math.sqrt(this.maxCanvasPixels/(D.width*D.height));ye.sx>b||ye.sy>b?(ye.sx=b,ye.sy=b,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const ke=(0,fe.approximateFraction)(ye.sx),Ne=(0,fe.approximateFraction)(ye.sy);oe.width=(0,fe.roundToDivide)(D.width*ye.sx,ke[0]),oe.height=(0,fe.roundToDivide)(D.height*ye.sy,Ne[0]),oe.style.width=(0,fe.roundToDivide)(D.width,ke[1])+"px",oe.style.height=(0,fe.roundToDivide)(D.height,Ne[1])+"px",this.paintedViewportMap.set(oe,D);const it={canvasContext:ge,transform:ye.scaled?[ye.sx,0,0,ye.sy,0,0]:null,viewport:this.viewport,annotationMode:re(this,S),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},ve=this.pdfPage.render(it);return ve.onContinue=function(x){le(),j.onRenderContinue?j.onRenderContinue(x):x()},ve.promise.then(function(){le(),J.resolve()},function(x){le(),J.reject(x)}),j}paintOnSvg(N){let J=!1;const j=()=>{if(J)throw new W.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},D=this.pdfPage,oe=this.viewport.clone({scale:W.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:D.getOperatorList({annotationMode:re(this,S)}).then(le=>(j(),new W.SVGGraphics(D.commonObjs,D.objs).getSVG(le,oe).then(ye=>{j(),this.svg=ye,this.paintedViewportMap.set(ye,oe),ye.style.width=N.style.width,ye.style.height=N.style.height,this.renderingState=fe.RenderingStates.FINISHED,N.appendChild(ye)}))),onRenderContinue(le){le()},cancel(){J=!0}}}setPageLabel(N){this.pageLabel="string"==typeof N?N:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(se,z)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.compatibilityParams=z.OptionKind=z.AppOptions=void 0;const ae=Object.create(null);z.compatibilityParams=ae;{const A=navigator.userAgent||"",S=navigator.platform||"",F=navigator.maxTouchPoints||1,Q=/Android/.test(A);(/\b(iPad|iPhone|iPod)(?=;)/.test(A)||"MacIntel"===S&&F>1||Q)&&(ae.maxCanvasPixels=5242880)}const W={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};z.OptionKind=W;const fe={annotationMode:{value:2,kind:W.VIEWER+W.PREFERENCE},cursorToolOnLoad:{value:0,kind:W.VIEWER+W.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:W.VIEWER},defaultZoomValue:{value:"",kind:W.VIEWER+W.PREFERENCE},disableHistory:{value:!1,kind:W.VIEWER},disablePageLabels:{value:!1,kind:W.VIEWER+W.PREFERENCE},enablePermissions:{value:!1,kind:W.VIEWER+W.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:W.VIEWER+W.PREFERENCE},enableScripting:{value:!0,kind:W.VIEWER+W.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:W.VIEWER},externalLinkTarget:{value:0,kind:W.VIEWER+W.PREFERENCE},historyUpdateUrl:{value:!1,kind:W.VIEWER+W.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:W.VIEWER+W.PREFERENCE},imageResourcesPath:{value:"./images/",kind:W.VIEWER},maxCanvasPixels:{value:16777216,compatibility:ae.maxCanvasPixels,kind:W.VIEWER},pageColorsBackground:{value:"Canvas",kind:W.VIEWER+W.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:W.VIEWER+W.PREFERENCE},pdfBugEnabled:{value:!1,kind:W.VIEWER+W.PREFERENCE},printResolution:{value:150,kind:W.VIEWER},renderer:{value:"canvas",kind:W.VIEWER},sidebarViewOnLoad:{value:-1,kind:W.VIEWER+W.PREFERENCE},scrollModeOnLoad:{value:-1,kind:W.VIEWER+W.PREFERENCE},spreadModeOnLoad:{value:-1,kind:W.VIEWER+W.PREFERENCE},textLayerMode:{value:1,kind:W.VIEWER+W.PREFERENCE},useOnlyCssZoom:{value:!1,kind:W.VIEWER+W.PREFERENCE},viewerCssTheme:{value:0,kind:W.VIEWER+W.PREFERENCE},viewOnLoad:{value:0,kind:W.VIEWER+W.PREFERENCE},cMapPacked:{value:!0,kind:W.API},cMapUrl:{value:"../web/cmaps/",kind:W.API},disableAutoFetch:{value:!1,kind:W.API+W.PREFERENCE},disableFontFace:{value:!1,kind:W.API+W.PREFERENCE},disableRange:{value:!1,kind:W.API+W.PREFERENCE},disableStream:{value:!1,kind:W.API+W.PREFERENCE},docBaseUrl:{value:"",kind:W.API},enableXfa:{value:!0,kind:W.API+W.PREFERENCE},fontExtraProperties:{value:!1,kind:W.API},isEvalSupported:{value:!0,kind:W.API},maxImageSize:{value:-1,kind:W.API},pdfBug:{value:!1,kind:W.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:W.API},verbosity:{value:1,kind:W.API},workerPort:{value:null,kind:W.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:W.WORKER}};fe.disablePreferences={value:!1,kind:W.VIEWER},fe.locale={value:navigator.language||"en-US",kind:W.VIEWER},fe.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:W.VIEWER},fe.renderer.kind+=W.PREFERENCE;const G=Object.create(null);z.AppOptions=class Y{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(S){const F=G[S];if(void 0!==F)return F;const Q=fe[S];return void 0!==Q?Q.compatibility??Q.value:void 0}static getAll(S=null){const F=Object.create(null);for(const Q in fe){const N=fe[Q];if(S){if(0==(S&N.kind))continue;if(S===W.PREFERENCE){const j=N.value,D=typeof j;if("boolean"===D||"string"===D||"number"===D&&Number.isInteger(j)){F[Q]=j;continue}throw new Error(`Invalid type for preference: ${Q}`)}}const J=G[Q];F[Q]=void 0!==J?J:N.compatibility??N.value}return F}static set(S,F){G[S]=F}static setAll(S){for(const F in S)G[F]=S[F]}static remove(S){delete G[S]}static _hasUserOptions(){return Object.keys(G).length>0}}},(se,z,ae)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.PDFRenderingQueue=void 0;var W=ae(3),fe=ae(6);z.PDFRenderingQueue=class Y{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(S){this.pdfViewer=S}setThumbnailViewer(S){this.pdfThumbnailViewer=S}isHighestPriority(S){return this.highestPriorityPage===S.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(S){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(S)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(S,F,Q,N=!1){const J=S.views,j=J.length;if(0===j)return null;for(let ge=0;ge<j;ge++){const ye=J[ge].view;if(!this.isViewFinished(ye))return ye}const D=S.first.id,oe=S.last.id;if(oe-D+1>j){const ge=S.ids;for(let ye=1,ke=oe-D;ye<ke;ye++){const Ne=Q?D+ye:oe-ye;if(ge.has(Ne))continue;const Qe=F[Ne-1];if(!this.isViewFinished(Qe))return Qe}}let $=Q?oe:D-2,le=F[$];return le&&!this.isViewFinished(le)||N&&($+=Q?1:-1,le=F[$],le&&!this.isViewFinished(le))?le:null}isViewFinished(S){return S.renderingState===fe.RenderingStates.FINISHED}renderView(S){switch(S.renderingState){case fe.RenderingStates.FINISHED:return!1;case fe.RenderingStates.PAUSED:this.highestPriorityPage=S.renderingId,S.resume();break;case fe.RenderingStates.RUNNING:this.highestPriorityPage=S.renderingId;break;case fe.RenderingStates.INITIAL:this.highestPriorityPage=S.renderingId,S.draw().finally(()=>{this.renderHighestPriority()}).catch(F=>{F instanceof W.RenderingCancelledException||console.error(`renderView: "${F}"`)})}return!0}}},(se,z)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.TextHighlighter=void 0,z.TextHighlighter=class ae{constructor({findController:fe,eventBus:G,pageIndex:Y}){this.findController=fe,this.matches=[],this.eventBus=G,this.pageIdx=Y,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(fe,G){this.textDivs=fe,this.textContentItemsStr=G}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=fe=>{(fe.pageIndex===this.pageIdx||-1===fe.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(fe,G){if(!fe)return[];const{textContentItemsStr:Y}=this;let A=0,S=0;const F=Y.length-1,Q=[];for(let N=0,J=fe.length;N<J;N++){let j=fe[N];for(;A!==F&&j>=S+Y[A].length;)S+=Y[A].length,A++;A===Y.length&&console.error("Could not find a matching mapping");const D={begin:{divIdx:A,offset:j-S}};for(j+=G[N];A!==F&&j>S+Y[A].length;)S+=Y[A].length,A++;D.end={divIdx:A,offset:j-S},Q.push(D)}return Q}_renderMatches(fe){if(0===fe.length)return;const{findController:G,pageIdx:Y}=this,{textContentItemsStr:A,textDivs:S}=this,F=Y===G.selected.pageIdx,Q=G.selected.matchIdx;let J=null;function D(ge,ye){const ke=ge.divIdx;return S[ke].textContent="",oe(ke,0,ge.offset,ye)}function oe(ge,ye,ke,Ne){let Qe=S[ge];if(Qe.nodeType===Node.TEXT_NODE){const x=document.createElement("span");Qe.parentNode.insertBefore(x,Qe),x.appendChild(Qe),S[ge]=x,Qe=x}const it=A[ge].substring(ye,ke),ve=document.createTextNode(it);if(Ne){const x=document.createElement("span");return x.className=`${Ne} appended`,x.appendChild(ve),Qe.appendChild(x),Ne.includes("selected")?x.offsetLeft:0}return Qe.appendChild(ve),0}let $=Q,le=$+1;if(G.state.highlightAll)$=0,le=fe.length;else if(!F)return;for(let ge=$;ge<le;ge++){const ye=fe[ge],ke=ye.begin,Ne=ye.end,Qe=F&&ge===Q,it=Qe?" selected":"";let ve=0;if(J&&ke.divIdx===J.divIdx?oe(J.divIdx,J.offset,ke.offset):(null!==J&&oe(J.divIdx,J.offset,undefined),D(ke)),ke.divIdx===Ne.divIdx)ve=oe(ke.divIdx,ke.offset,Ne.offset,"highlight"+it);else{ve=oe(ke.divIdx,ke.offset,undefined,"highlight begin"+it);for(let x=ke.divIdx+1,b=Ne.divIdx;x<b;x++)S[x].className="highlight middle"+it;D(Ne,"highlight end"+it)}J=Ne,Qe&&G.scrollMatchIntoView({element:S[ke.divIdx],selectedLeft:ve,pageIndex:Y,matchIndex:Q})}J&&oe(J.divIdx,J.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:fe,matches:G,pageIdx:Y}=this,{textContentItemsStr:A,textDivs:S}=this;let F=-1;for(let J=0,j=G.length;J<j;J++){const D=G[J];for(let $=Math.max(F,D.begin.divIdx),le=D.end.divIdx;$<=le;$++){const ge=S[$];ge.textContent=A[$],ge.className=""}F=D.end.divIdx+1}fe?.highlightMatches&&(this.matches=this._convertMatches(fe.pageMatches[Y]||null,fe.pageMatchesLength[Y]||null),this._renderMatches(this.matches))}}},(se,z,ae)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.DownloadManager=void 0;var W=ae(3);function fe(Y,A){const S=document.createElement("a");if(!S.click)throw new Error('DownloadManager: "a.click()" is not supported.');S.href=Y,S.target="_parent","download"in S&&(S.download=A),(document.body||document.documentElement).appendChild(S),S.click(),S.remove()}z.DownloadManager=class G{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(A,S){(0,W.createValidAbsoluteUrl)(A,"http://example.com")?fe(A+"#pdfjs.action=download",S):console.error(`downloadUrl - not a valid URL: ${A}`)}downloadData(A,S,F){fe(URL.createObjectURL(new Blob([A],{type:F})),S)}openOrDownloadData(A,S,F){const Q=(0,W.isPdfFile)(F),N=Q?"application/pdf":"";if(Q){let j,J=this._openBlobUrls.get(A);J||(J=URL.createObjectURL(new Blob([S],{type:N})),this._openBlobUrls.set(A,J)),j="?file="+encodeURIComponent(J+"#"+F);try{return window.open(j),!0}catch(D){console.error(`openOrDownloadData: ${D}`),URL.revokeObjectURL(J),this._openBlobUrls.delete(A)}}return this.downloadData(S,F,N),!1}download(A,S,F,Q="download"){fe(URL.createObjectURL(A),F)}}},(se,z)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.WaitOnType=z.EventBus=z.AutomationEventBus=void 0,z.waitOnEventOrTimeout=function W({target:Y,name:A,delay:S=0}){return new Promise(function(F,Q){if("object"!=typeof Y||!A||"string"!=typeof A||!(Number.isInteger(S)&&S>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function N(oe){Y instanceof fe?Y._off(A,J):Y.removeEventListener(A,J),D&&clearTimeout(D),F(oe)}const J=N.bind(null,ae.EVENT);Y instanceof fe?Y._on(A,J):Y.addEventListener(A,J);const j=N.bind(null,ae.TIMEOUT),D=setTimeout(j,S)})};const ae={EVENT:"event",TIMEOUT:"timeout"};z.WaitOnType=ae;class fe{constructor(){this._listeners=Object.create(null)}on(A,S,F=null){this._on(A,S,{external:!0,once:F?.once})}off(A,S,F=null){this._off(A,S,{external:!0,once:F?.once})}dispatch(A,S){const F=this._listeners[A];if(!F||0===F.length)return;let Q;for(const{listener:N,external:J,once:j}of F.slice(0))j&&this._off(A,N),J?(Q||(Q=[])).push(N):N(S);if(Q){for(const N of Q)N(S);Q=null}}_on(A,S,F=null){var N;((N=this._listeners)[A]||(N[A]=[])).push({listener:S,external:!0===F?.external,once:!0===F?.once})}_off(A,S,F=null){const Q=this._listeners[A];if(Q)for(let N=0,J=Q.length;N<J;N++)if(Q[N].listener===S)return void Q.splice(N,1)}}z.EventBus=fe,z.AutomationEventBus=class G extends fe{dispatch(A,S){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(se,z,ae)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.GenericL10n=void 0,ae(19);var W=ae(4);const fe=document.webL10n;z.GenericL10n=class G{constructor(A){this._lang=A,this._ready=new Promise((S,F)=>{fe.setLanguage((0,W.fixupLangCode)(A),()=>{S(fe)})})}getLanguage(){var A=this;return U(function*(){return(yield A._ready).getLanguage()})()}getDirection(){var A=this;return U(function*(){return(yield A._ready).getDirection()})()}get(A,S=null,F=(0,W.getL10nFallback)(A,S)){var Q=this;return U(function*(){return(yield Q._ready).get(A,S,F)})()}translate(A){var S=this;return U(function*(){return(yield S._ready).translate(A)})()}}},()=>{document.webL10n=function(se,z,ae){var W={},fe="",G="textContent",Y="",A={},S="loading";function D(x,b,M){b=b||function(ne){},M=M||function(){};var L=new XMLHttpRequest;L.open("GET",x,!0),L.overrideMimeType&&L.overrideMimeType("text/plain; charset=utf-8"),L.onreadystatechange=function(){4==L.readyState&&(200==L.status||0===L.status?b(L.responseText):M())},L.onerror=M,L.ontimeout=M;try{L.send(null)}catch{M()}}function $(x,b){x&&(x=x.toLowerCase()),b=b||function(){},function le(){W={},fe="",Y=""}(),Y=x;var M=function Q(){return z.querySelectorAll('link[type="application/l10n"]')}(),L=M.length;if(0!==L){var be,je=0;be=function(){++je>=L&&(b(),S="complete")};for(var Ue=0;Ue<L;Ue++)new Me(M[Ue]).load(x,be)}else{var X=function N(){var x=z.querySelector('script[type="application/l10n"]');return x?JSON.parse(x.innerHTML):null}();if(X&&X.locales&&X.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(W=X.locales[x])){var ne=X.default_locale.toLowerCase();for(var B in X.locales){if((B=B.toLowerCase())===x){W=X.locales[x];break}B===ne&&(W=X.locales[ne])}}b()}else console.log("no resource to load, early way out");S="complete"}function Me(Ke){var Xe=Ke.href;this.load=function(mt,Dt){!function oe(x,b,M,L){var X=x.replace(/[^\/]*$/,"")||"./";function ne(be){return be.lastIndexOf("\\")<0?be:be.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}D(x,function(be){fe+=be,function B(be,je){var Me={},Ue=/^\s*|\s*$/,Be=/^\s*#|^\s*$/,Ke=/^\s*\[(.*)\]\s*$/,Xe=/^\s*@import\s+url\((.*)\)\s*$/i,mt=/^([^=\s]*)\s*=\s*(.+)$/;function Dt(_t,ct,Rt){var Ot=_t.replace(Ue,"").split(/[\r\n]+/),St="*",nt=b.split("-",1)[0],dt=!1,xt="";!function Ze(){for(;;){if(!Ot.length)return void Rt();var me=Ot.shift();if(!Be.test(me)){if(ct){if(xt=Ke.exec(me)){St=xt[1].toLowerCase(),dt="*"!==St&&St!==b&&St!==nt;continue}if(dt)continue;if(xt=Xe.exec(me))return void at(X+xt[1],Ze)}var Ie=me.match(mt);Ie&&3==Ie.length&&(Me[Ie[1]]=ne(Ie[2]))}}}()}function at(_t,ct){D(_t,function(Rt){Dt(Rt,!1,ct)},function(){console.warn(_t+" not found."),ct()})}Dt(be,!0,function(){je(Me)})}(be,function(je){for(var Me in je){var Ue,Be,Ke=Me.lastIndexOf(".");Ke>0?(Ue=Me.substring(0,Ke),Be=Me.substring(Ke+1)):(Ue=Me,Be=G),W[Ue]||(W[Ue]={}),W[Ue][Be]=je[Me]}M&&M()})},L)}(Xe,mt,Dt,function(){console.warn(Xe+" not found."),console.warn('"'+mt+'" resource not found'),Y="",Dt()})}}}function ye(x,b,M){var L=W[x];if(!L){if(console.warn("#"+x+" is undefined."),!M)return null;L=M}var X={};for(var ne in L){var B=L[ne];B=Ne(B=ke(B,b,x,ne),b,x),X[ne]=B}return X}function ke(x,b,M,L){var ne=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(x);if(!ne||!ne.length)return x;var je,B=ne[1],be=ne[2];return b&&be in b?je=b[be]:be in W&&(je=W[be]),B in A&&(x=(0,A[B])(x,je,M,L)),x}function Ne(x,b,M){return x.replace(/\{\{\s*(.+?)\s*\}\}/g,function(X,ne){return b&&ne in b?b[ne]:ne in W?W[ne]:(console.log("argument {{"+ne+"}} for #"+M+" is undefined."),X)})}function Qe(x){var b=function j(x){if(!x)return{};var b=x.getAttribute("data-l10n-id"),M=x.getAttribute("data-l10n-args"),L={};if(M)try{L=JSON.parse(M)}catch{console.warn("could not parse arguments for #"+b)}return{id:b,args:L}}(x);if(b.id){var M=ye(b.id,b.args);if(!M)return void console.warn("#"+b.id+" is undefined.");if(M[G]){if(0===function it(x){if(x.children)return x.children.length;if(typeof x.childElementCount<"u")return x.childElementCount;for(var b=0,M=0;M<x.childNodes.length;M++)b+=1===x.nodeType?1:0;return b}(x))x[G]=M[G];else{for(var L=x.childNodes,X=!1,ne=0,B=L.length;ne<B;ne++)3===L[ne].nodeType&&/\S/.test(L[ne].nodeValue)&&(X?L[ne].nodeValue="":(L[ne].nodeValue=M[G],X=!0));if(!X){var be=z.createTextNode(M[G]);x.insertBefore(be,x.firstChild)}}delete M[G]}for(var je in M)x[je]=M[je]}}return A.plural=function(x,b,M,L){var X=parseFloat(b);if(isNaN(X)||L!=G)return x;A._pluralRules||(A._pluralRules=function ge(x){function M(B,be){return-1!==be.indexOf(B)}function L(B,be,je){return be<=B&&B<=je}var X={0:function(B){return"other"},1:function(B){return L(B%100,3,10)?"few":0===B?"zero":L(B%100,11,99)?"many":2==B?"two":1==B?"one":"other"},2:function(B){return 0!==B&&B%10==0?"many":2==B?"two":1==B?"one":"other"},3:function(B){return 1==B?"one":"other"},4:function(B){return L(B,0,1)?"one":"other"},5:function(B){return L(B,0,2)&&2!=B?"one":"other"},6:function(B){return 0===B?"zero":B%10==1&&B%100!=11?"one":"other"},7:function(B){return 2==B?"two":1==B?"one":"other"},8:function(B){return L(B,3,6)?"few":L(B,7,10)?"many":2==B?"two":1==B?"one":"other"},9:function(B){return 0===B||1!=B&&L(B%100,1,19)?"few":1==B?"one":"other"},10:function(B){return L(B%10,2,9)&&!L(B%100,11,19)?"few":B%10!=1||L(B%100,11,19)?"other":"one"},11:function(B){return L(B%10,2,4)&&!L(B%100,12,14)?"few":B%10==0||L(B%10,5,9)||L(B%100,11,14)?"many":B%10==1&&B%100!=11?"one":"other"},12:function(B){return L(B,2,4)?"few":1==B?"one":"other"},13:function(B){return L(B%10,2,4)&&!L(B%100,12,14)?"few":1!=B&&L(B%10,0,1)||L(B%10,5,9)||L(B%100,12,14)?"many":1==B?"one":"other"},14:function(B){return L(B%100,3,4)?"few":B%100==2?"two":B%100==1?"one":"other"},15:function(B){return 0===B||L(B%100,2,10)?"few":L(B%100,11,19)?"many":1==B?"one":"other"},16:function(B){return B%10==1&&11!=B?"one":"other"},17:function(B){return 3==B?"few":0===B?"zero":6==B?"many":2==B?"two":1==B?"one":"other"},18:function(B){return 0===B?"zero":L(B,0,2)&&0!==B&&2!=B?"one":"other"},19:function(B){return L(B,2,10)?"few":L(B,0,1)?"one":"other"},20:function(B){return!L(B%10,3,4)&&B%10!=9||L(B%100,10,19)||L(B%100,70,79)||L(B%100,90,99)?B%1e6==0&&0!==B?"many":B%10!=2||M(B%100,[12,72,92])?B%10!=1||M(B%100,[11,71,91])?"other":"one":"two":"few"},21:function(B){return 0===B?"zero":1==B?"one":"other"},22:function(B){return L(B,0,1)||L(B,11,99)?"one":"other"},23:function(B){return L(B%10,1,2)||B%20==0?"one":"other"},24:function(B){return L(B,3,10)||L(B,13,19)?"few":M(B,[2,12])?"two":M(B,[1,11])?"one":"other"}},ne={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[x.replace(/-.*$/,"")];return ne in X?X[ne]:(console.warn("plural form unknown for ["+x+"]"),function(){return"other"})}(Y));var ne="["+A._pluralRules(X)+"]";return 0===X&&M+"[zero]"in W?x=W[M+"[zero]"][L]:1==X&&M+"[one]"in W?x=W[M+"[one]"][L]:2==X&&M+"[two]"in W?x=W[M+"[two]"][L]:M+ne in W?x=W[M+ne][L]:M+"[other]"in W&&(x=W[M+"[other]"][L]),x},{get:function(x,b,M){var ne,L=x.lastIndexOf("."),X=G;L>0&&(X=x.substring(L+1),x=x.substring(0,L)),M&&((ne={})[X]=M);var B=ye(x,b,ne);return B&&X in B?B[X]:"{{"+x+"}}"},getData:function(){return W},getText:function(){return fe},getLanguage:function(){return Y},setLanguage:function(x,b){$(x,function(){b&&b()})},getDirection:function(){var b=Y.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(b)>=0?"rtl":"ltr"},translate:function ve(x){for(var b=function J(x){return x?x.querySelectorAll("*[data-l10n-id]"):[]}(x=x||z.documentElement),M=b.length,L=0;L<M;L++)Qe(b[L]);Qe(x)},getReadyState:function(){return S},ready:function(x){x&&("complete"==S||"interactive"==S?se.setTimeout(function(){x()}):z.addEventListener&&z.addEventListener("localized",function b(){z.removeEventListener("localized",b),x()}))}}}(window,document)},(se,z,ae)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.PDFFindController=z.FindState=void 0;var W=ae(6),fe=ae(3),G=ae(21);const Y={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};z.FindState=Y;const Q={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},N=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),J=[...N.values()].map(Ye=>String.fromCharCode(Ye)).join(""),j=/\p{M}+/gu,D=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,oe=/([^\p{M}])\p{M}*$/u,$=/^\p{M}*([^\p{M}])/u;let le=null;function ge(Ye){if(!le){const en=Object.keys(Q).join("");le=new RegExp(`([${en}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const Ee=[];let Te;for(;null!==(Te=j.exec(Ye));)Ee.push([Te[0].length,Te.index]);let Ce=Ye.normalize("NFD");const Ae=[[0,0]];let Pe=0,$e=0,ot=0,Ct=0,Xt=!1;return Ce=Ce.replace(le,(en,Fn,Jt,tn,Sn,In)=>{if(In-=ot,Fn){const On=Q[en],Zn=On.length;for(let Tt=1;Tt<Zn;Tt++)Ae.push([In-$e+Tt,$e-Tt]);return $e-=Zn-1,On}if(Jt){const On=Jt.endsWith("\n"),Zn=On?Jt.length-2:Jt.length;Xt=!0;let Tt=Zn;In+Ct===Ee[Pe]?.[1]&&(Tt-=Ee[Pe][0],++Pe);for(let rn=1;rn<Tt+1;rn++)Ae.push([In-1-$e+rn,$e-rn]);return $e-=Tt,ot+=Tt,On?(Ae.push([(In+=Zn-1)-$e+1,1+$e]),$e+=1,ot+=1,Ct+=1,Jt.slice(0,Zn)):Jt}return tn?(Ae.push([In-$e+1,1+$e]),$e+=1,ot+=1,Ct+=1,tn.charAt(0)):(Ae.push([In-$e+1,$e-1]),$e-=1,ot+=1,Ct+=1," ")}),Ae.push([Ce.length,$e]),[Ce,Ae,Xt]}function ye(Ye,Ee,Te){if(!Ye)return[Ee,Te];const Ce=Ee,Ae=Ee+Te;let Pe=(0,W.binarySearchFirstItem)(Ye,ot=>ot[0]>=Ce);Ye[Pe][0]>Ce&&--Pe;let $e=(0,W.binarySearchFirstItem)(Ye,ot=>ot[0]>=Ae,Pe);return Ye[$e][0]>Ae&&--$e,[Ce+Ye[Pe][1],Te+Ye[$e][1]-Ye[Pe][1]]}var ke=new WeakSet,Ne=new WeakSet,Qe=new WeakMap,it=new WeakSet,ve=new WeakSet,x=new WeakSet,b=new WeakSet,M=new WeakSet,L=new WeakSet,X=new WeakSet,ne=new WeakSet,B=new WeakSet,be=new WeakSet,je=new WeakSet,Me=new WeakSet,Ue=new WeakSet,Be=new WeakSet,Ke=new WeakSet,Xe=new WeakSet,mt=new WeakSet;function at(Ye){if(!Ye)return;const Ee=this._pdfDocument,{type:Te}=Ye;(null===this._state||ie(this,it,Rt).call(this,Ye))&&(this._dirtyMatch=!0),this._state=Ye,"highlightallchange"!==Te&&ie(this,mt,Kt).call(this,Y.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Ee&&this._pdfDocument!==Ee)return;ie(this,L,xt).call(this);const Ce=!this._highlightMatches,Ae=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Te?this._dirtyMatch?ie(this,B,Ie).call(this):"again"===Te?(ie(this,B,Ie).call(this),Ce&&this._state.highlightAll&&ie(this,ne,me).call(this)):"highlightallchange"===Te?(Ae?ie(this,B,Ie).call(this):this._highlightMatches=!0,ie(this,ne,me).call(this)):ie(this,B,Ie).call(this):this._findTimeout=setTimeout(()=>{ie(this,B,Ie).call(this),this._findTimeout=null},250)})}function _t(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,fe.createPromiseCapability)()}function ct(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=ge(this._state.query)),this._normalizedQuery}function Rt(Ye){if(Ye.query!==this._state.query)return!0;switch(Ye.type){case"again":const Ee=this._selected.pageIdx+1,Te=this._linkService;return Ee>=1&&Ee<=Te.pagesCount&&Ee!==Te.page&&!Te.isPageVisible(Ee);case"highlightallchange":return!1}return!0}function Ot(Ye,Ee,Te){let Ce=Ye.slice(0,Ee).match(oe);if(Ce){const Ae=Ye.charCodeAt(Ee),Pe=Ce[1].charCodeAt(0);if((0,G.getCharacterType)(Ae)===(0,G.getCharacterType)(Pe))return!1}if(Ce=Ye.slice(Ee+Te).match($),Ce){const Ae=Ye.charCodeAt(Ee+Te-1),Pe=Ce[1].charCodeAt(0);if((0,G.getCharacterType)(Ae)===(0,G.getCharacterType)(Pe))return!1}return!0}function St(Ye,Ee,Te,Ce){const Ae=[],Pe=[],$e=this._pageDiffs[Te];let ot;for(;null!==(ot=Ye.exec(Ce));){if(Ee&&!ie(this,ve,Ot).call(this,Ce,ot.index,ot[0].length))continue;const[Ct,Xt]=ye($e,ot.index,ot[0].length);Xt&&(Ae.push(Ct),Pe.push(Xt))}this._pageMatches[Te]=Ae,this._pageMatchesLength[Te]=Pe}function nt(Ye,Ee){const{matchDiacritics:Te}=this._state;let Ce=!1;return(Ye=Ye.replace(D,(Pe,$e,ot,Ct,Xt,en)=>$e?`[ ]*\\${$e}[ ]*`:ot?`[ ]*${ot}[ ]*`:Ct?"[ ]+":Te?Xt||en:Xt?N.has(Xt.charCodeAt(0))?Xt:"":Ee?(Ce=!0,`${en}\\p{M}*`):en)).endsWith("[ ]*")&&(Ye=Ye.slice(0,Ye.length-"[ ]*".length)),Te&&Ee&&(Ce=!0,Ye=`${Ye}(?=[${J}]|[^\\p{M}]|$)`),[Ce,Ye]}function dt(Ye){let Ee=re(this,Qe);if(0===Ee.length)return;const{caseSensitive:Te,entireWord:Ce,phraseSearch:Ae}=this._state,Pe=this._pageContents[Ye],$e=this._hasDiacritics[Ye];let ot=!1;if(Ae)[ot,Ee]=ie(this,b,nt).call(this,Ee,$e);else{const en=Ee.match(/\S+/g);en&&(Ee=en.sort().reverse().map(Fn=>{const[Jt,tn]=ie(this,b,nt).call(this,Fn,$e);return ot||(ot=Jt),`(${tn})`}).join("|"))}Ee=new RegExp(Ee,`g${ot?"u":""}${Te?"":"i"}`),ie(this,x,St).call(this,Ee,Ce,Ye,Pe),this._state.highlightAll&&ie(this,X,Ze).call(this,Ye),this._resumePageIdx===Ye&&(this._resumePageIdx=null,ie(this,je,wt).call(this));const Xt=this._pageMatches[Ye].length;Xt>0&&(this._matchesCountTotal+=Xt,ie(this,Xe,yt).call(this))}function xt(){if(this._extractTextPromises.length>0)return;let Ye=Promise.resolve();for(let Ee=0,Te=this._linkService.pagesCount;Ee<Te;Ee++){const Ce=(0,fe.createPromiseCapability)();this._extractTextPromises[Ee]=Ce.promise,Ye=Ye.then(()=>this._pdfDocument.getPage(Ee+1).then(Ae=>Ae.getTextContent()).then(Ae=>{const Pe=[];for(const $e of Ae.items)Pe.push($e.str),$e.hasEOL&&Pe.push("\n");[this._pageContents[Ee],this._pageDiffs[Ee],this._hasDiacritics[Ee]]=ge(Pe.join("")),Ce.resolve()},Ae=>{console.error(`Unable to get text content for page ${Ee+1}`,Ae),this._pageContents[Ee]="",this._pageDiffs[Ee]=null,this._hasDiacritics[Ee]=!1,Ce.resolve()}))}}function Ze(Ye){this._scrollMatches&&this._selected.pageIdx===Ye&&(this._linkService.page=Ye+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Ye})}function me(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function Ie(){const Ye=this._state.findPrevious,Ee=this._linkService.page-1,Te=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Ee,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,ie(this,ne,me).call(this);for(let Ae=0;Ae<Te;Ae++)this._pendingFindMatches.has(Ae)||(this._pendingFindMatches.add(Ae),this._extractTextPromises[Ae].then(()=>{this._pendingFindMatches.delete(Ae),ie(this,M,dt).call(this,Ae)}))}if(""===re(this,Qe))return void ie(this,mt,Kt).call(this,Y.FOUND);if(this._resumePageIdx)return;const Ce=this._offset;if(this._pagesToSearch=Te,null!==Ce.matchIdx){const Ae=this._pageMatches[Ce.pageIdx].length;if(!Ye&&Ce.matchIdx+1<Ae||Ye&&Ce.matchIdx>0)return Ce.matchIdx=Ye?Ce.matchIdx-1:Ce.matchIdx+1,void ie(this,Ue,we).call(this,!0);ie(this,Me,Le).call(this,Ye)}ie(this,je,wt).call(this)}function ft(Ye){const Ee=this._offset,Te=Ye.length,Ce=this._state.findPrevious;return Te?(Ee.matchIdx=Ce?Te-1:0,ie(this,Ue,we).call(this,!0),!0):(ie(this,Me,Le).call(this,Ce),!!(Ee.wrapped&&(Ee.matchIdx=null,this._pagesToSearch<0))&&(ie(this,Ue,we).call(this,!1),!0))}function wt(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let Ye=null;do{const Ee=this._offset.pageIdx;if(Ye=this._pageMatches[Ee],!Ye){this._resumePageIdx=Ee;break}}while(!ie(this,be,ft).call(this,Ye))}function Le(Ye){const Ee=this._offset,Te=this._linkService.pagesCount;Ee.pageIdx=Ye?Ee.pageIdx-1:Ee.pageIdx+1,Ee.matchIdx=null,this._pagesToSearch--,(Ee.pageIdx>=Te||Ee.pageIdx<0)&&(Ee.pageIdx=Ye?Te-1:0,Ee.wrapped=!0)}function we(Ye=!1){let Ee=Y.NOT_FOUND;const Te=this._offset.wrapped;if(this._offset.wrapped=!1,Ye){const Ce=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Ee=Te?Y.WRAPPED:Y.FOUND,-1!==Ce&&Ce!==this._selected.pageIdx&&ie(this,X,Ze).call(this,Ce)}ie(this,mt,Kt).call(this,Ee,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,ie(this,X,Ze).call(this,this._selected.pageIdx))}function Oe(Ye){const Ee=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Ee&&this._pdfDocument!==Ee||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),ie(this,mt,Kt).call(this,Y.FOUND),this._highlightMatches=!1,ie(this,ne,me).call(this))})}function rt(){const{pageIdx:Ye,matchIdx:Ee}=this._selected;let Te=0,Ce=this._matchesCountTotal;if(-1!==Ee){for(let Ae=0;Ae<Ye;Ae++)Te+=this._pageMatches[Ae]?.length||0;Te+=Ee+1}return(Te<1||Te>Ce)&&(Te=Ce=0),{current:Te,total:Ce}}function yt(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:ie(this,Ke,rt).call(this)})}function Kt(Ye,Ee=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Ye,previous:Ee,matchesCount:ie(this,Ke,rt).call(this),rawQuery:this._state?.query??null})}z.PDFFindController=class Dt{constructor({linkService:Ee,eventBus:Te}){te(this,mt),te(this,Xe),te(this,Ke),te(this,Be),te(this,Ue),te(this,Me),te(this,je),te(this,be),te(this,B),te(this,ne),te(this,X),te(this,L),te(this,M),te(this,b),te(this,x),te(this,ve),te(this,it),O(this,Qe,{get:ct,set:void 0}),te(this,Ne),te(this,ke),this._linkService=Ee,this._eventBus=Te,ie(this,Ne,_t).call(this),Te._on("find",ie(this,ke,at).bind(this)),Te._on("findbarclose",ie(this,Be,Oe).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(Ee){this._pdfDocument&&ie(this,Ne,_t).call(this),Ee&&(this._pdfDocument=Ee,this._firstPageCapability.resolve())}scrollMatchIntoView({element:Ee=null,selectedLeft:Te=0,pageIndex:Ce=-1,matchIndex:Ae=-1}){this._scrollMatches&&Ee&&-1!==Ae&&Ae===this._selected.matchIdx&&-1!==Ce&&Ce===this._selected.pageIdx&&(this._scrollMatches=!1,(0,W.scrollIntoView)(Ee,{top:-50,left:Te+-400},!0))}}},(se,z)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.CharacterType=void 0,z.getCharacterType=function j(D){return function W(D){return D<11904}(D)?function fe(D){return 0==(65408&D)}(D)?function A(D){return 32===D||9===D||13===D||10===D}(D)?ae.SPACE:function G(D){return D>=97&&D<=122||D>=65&&D<=90}(D)||function Y(D){return D>=48&&D<=57}(D)||95===D?ae.ALPHA_LETTER:ae.PUNCT:function J(D){return 3584==(65408&D)}(D)?ae.THAI_LETTER:160===D?ae.SPACE:ae.ALPHA_LETTER:function S(D){return D>=13312&&D<=40959||D>=63744&&D<=64255}(D)?ae.HAN_LETTER:function F(D){return D>=12448&&D<=12543}(D)?ae.KATAKANA_LETTER:function Q(D){return D>=12352&&D<=12447}(D)?ae.HIRAGANA_LETTER:function N(D){return D>=65376&&D<=65439}(D)?ae.HALFWIDTH_KATAKANA_LETTER:ae.ALPHA_LETTER};const ae={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};z.CharacterType=ae},(se,z,ae)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.PDFHistory=void 0,z.isDestArraysEqual=N,z.isDestHashesEqual=Q;var W=ae(6),fe=ae(17);function S(){return document.location.hash}function Q(J,j){return"string"==typeof J&&"string"==typeof j&&(J===j||(0,W.parseQueryString)(J).get("nameddest")===j)}function N(J,j){function D(oe,$){if(typeof oe!=typeof $||Array.isArray(oe)||Array.isArray($))return!1;if(null!==oe&&"object"==typeof oe&&null!==$){if(Object.keys(oe).length!==Object.keys($).length)return!1;for(const le in oe)if(!D(oe[le],$[le]))return!1;return!0}return oe===$||Number.isNaN(oe)&&Number.isNaN($)}if(!Array.isArray(J)||!Array.isArray(j)||J.length!==j.length)return!1;for(let oe=0,$=J.length;oe<$;oe++)if(!D(J[oe],j[oe]))return!1;return!0}z.PDFHistory=class F{constructor({linkService:j,eventBus:D}){this.linkService=j,this.eventBus=D,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",oe=>{this._isPagesLoaded=!!oe.pagesCount},{once:!0})})}initialize({fingerprint:j,resetHistory:D=!1,updateUrl:oe=!1}){if(!j||"string"!=typeof j)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const $=""!==this._fingerprint&&this._fingerprint!==j;this._fingerprint=j,this._updateUrl=!0===oe,this._initialized=!0,this._bindEvents();const le=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=S(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(le,!0)||D){const{hash:ye,page:ke,rotation:Ne}=this._parseCurrentHash(!0);return!ye||$||D?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:ye,page:ke,rotation:Ne},!0)}const ge=le.destination;this._updateInternalState(ge,le.uid,!0),void 0!==ge.rotation&&(this._initialRotation=ge.rotation),ge.dest?(this._initialBookmark=JSON.stringify(ge.dest),this._destination.page=null):ge.hash?this._initialBookmark=ge.hash:ge.page&&(this._initialBookmark=`page=${ge.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:j=null,explicitDest:D,pageNumber:oe}){if(!this._initialized)return;if(j&&"string"!=typeof j)return void console.error(`PDFHistory.push: "${j}" is not a valid namedDest parameter.`);if(!Array.isArray(D))return void console.error(`PDFHistory.push: "${D}" is not a valid explicitDest parameter.`);if(!this._isValidPage(oe)&&(null!==oe||this._destination))return void console.error(`PDFHistory.push: "${oe}" is not a valid pageNumber parameter.`);const $=j||JSON.stringify(D);if(!$)return;let le=!1;if(this._destination&&(Q(this._destination.hash,$)||N(this._destination.dest,D))){if(this._destination.page)return;le=!0}this._popStateInProgress&&!le||(this._pushOrReplaceState({dest:D,hash:$,page:oe,rotation:this.linkService.rotation},le),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(j){if(this._initialized){if(!this._isValidPage(j))return void console.error(`PDFHistory.pushPage: "${j}" is not a valid page number.`);this._destination?.page!==j&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${j}`,page:j,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const j=window.history.state;this._isValidState(j)&&j.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const j=window.history.state;this._isValidState(j)&&j.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(j,D=!1){const oe=D||!this._destination,$={fingerprint:this._fingerprint,uid:oe?this._uid:this._uid+1,destination:j};let le;if(this._updateInternalState(j,$.uid),this._updateUrl&&j?.hash){const ge=document.location.href.split("#")[0];ge.startsWith("file://")||(le=`${ge}#${j.hash}`)}oe?window.history.replaceState($,"",le):window.history.pushState($,"",le)}_tryPushCurrentPosition(j=!1){if(!this._position)return;let D=this._position;if(j&&(D=Object.assign(Object.create(null),this._position),D.temporary=!0),!this._destination)return void this._pushOrReplaceState(D);if(this._destination.temporary)return void this._pushOrReplaceState(D,!0);if(this._destination.hash===D.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let oe=!1;if(this._destination.page>=D.first&&this._destination.page<=D.page){if(void 0!==this._destination.dest||!this._destination.first)return;oe=!0}this._pushOrReplaceState(D,oe)}_isValidPage(j){return Number.isInteger(j)&&j>0&&j<=this.linkService.pagesCount}_isValidState(j,D=!1){if(!j)return!1;if(j.fingerprint!==this._fingerprint){if(!D)return!1;{if("string"!=typeof j.fingerprint||j.fingerprint.length!==this._fingerprint.length)return!1;const[oe]=performance.getEntriesByType("navigation");if("reload"!==oe?.type)return!1}}return!(!Number.isInteger(j.uid)||j.uid<0||null===j.destination||"object"!=typeof j.destination)}_updateInternalState(j,D,oe=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),oe&&j?.temporary&&delete j.temporary,this._destination=j,this._uid=D,this._maxUid=Math.max(this._maxUid,D),this._numPositionUpdates=0}_parseCurrentHash(j=!1){const D=unescape(S()).substring(1),oe=(0,W.parseQueryString)(D),$=oe.get("nameddest")||"";let le=0|oe.get("page");return(!this._isValidPage(le)||j&&$.length>0)&&(le=null),{hash:D,page:le,rotation:this.linkService.rotation}}_updateViewarea({location:j}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:j.pdfOpenParams.substring(1),page:this.linkService.page,first:j.pageNumber,rotation:j.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:j}){const D=S(),oe=this._currentHash!==D;if(this._currentHash=D,!j){this._uid++;const{hash:le,page:ge,rotation:ye}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:le,page:ge,rotation:ye},!0)}if(!this._isValidState(j))return;this._popStateInProgress=!0,oe&&(this._blockHashChange++,(0,fe.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const $=j.destination;this._updateInternalState($,j.uid,!0),(0,W.isValidRotation)($.rotation)&&(this.linkService.rotation=$.rotation),$.dest?this.linkService.goToDestination($.dest):$.hash?this.linkService.setHash($.hash):$.page&&(this.linkService.page=$.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(se,z,ae)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.PDFScriptingManager=void 0;var W=ae(6),fe=ae(3);z.PDFScriptingManager=class G{constructor({eventBus:A,sandboxBundleSrc:S=null,scriptingFactory:F=null,docPropertiesLookup:Q=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=A,this._sandboxBundleSrc=S,this._scriptingFactory=F,this._docPropertiesLookup=Q,this._scriptingFactory||window.addEventListener("updatefromsandbox",N=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:N.detail})})}setViewer(A){this._pdfViewer=A}setDocument(A){var S=this;return U(function*(){if(S._pdfDocument&&(yield S._destroyScripting()),S._pdfDocument=A,!A)return;const[F,Q,N]=yield Promise.all([A.getFieldObjects(),A.getCalculationOrderIds(),A.getJSActions()]);if(F||N){if(A===S._pdfDocument){try{S._scripting=S._createScripting()}catch(J){return console.error(`PDFScriptingManager.setDocument: "${J?.message}".`),void(yield S._destroyScripting())}S._internalEvents.set("updatefromsandbox",J=>{J?.source===window&&S._updateFromSandbox(J.detail)}),S._internalEvents.set("dispatcheventinsandbox",J=>{S._scripting?.dispatchEventInSandbox(J.detail)}),S._internalEvents.set("pagechanging",({pageNumber:J,previous:j})=>{J!==j&&(S._dispatchPageClose(j),S._dispatchPageOpen(J))}),S._internalEvents.set("pagerendered",({pageNumber:J})=>{!S._pageOpenPending.has(J)||J===S._pdfViewer.currentPageNumber&&S._dispatchPageOpen(J)}),S._internalEvents.set("pagesdestroy",function(){var J=U(function*(j){yield S._dispatchPageClose(S._pdfViewer.currentPageNumber),yield S._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),S._closeCapability?.resolve()});return function(j){return J.apply(this,arguments)}}()),S._domEvents.set("mousedown",J=>{S._mouseState.isDown=!0}),S._domEvents.set("mouseup",J=>{S._mouseState.isDown=!1});for(const[J,j]of S._internalEvents)S._eventBus._on(J,j);for(const[J,j]of S._domEvents)window.addEventListener(J,j,!0);try{const J=yield S._getDocProperties();if(A!==S._pdfDocument)return;yield S._scripting.createSandbox({objects:F,calculationOrder:Q,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...J,actions:N}}),S._eventBus.dispatch("sandboxcreated",{source:S})}catch(J){return console.error(`PDFScriptingManager.setDocument: "${J?.message}".`),void(yield S._destroyScripting())}yield S._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield S._dispatchPageOpen(S._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{A===S._pdfDocument&&(S._ready=!0)})}}else yield S._destroyScripting()})()}dispatchWillSave(A){var S=this;return U(function*(){return S._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(A){var S=this;return U(function*(){return S._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(A){var S=this;return U(function*(){return S._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(A){var S=this;return U(function*(){return S._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,fe.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,fe.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,fe.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,fe.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(A){var S=this;return U(function*(){const F=S._pdfViewer.isInPresentationMode||S._pdfViewer.isChangingPresentationMode,{id:Q,siblings:N,command:J,value:j}=A;if(!Q){switch(J){case"clear":console.clear();break;case"error":console.error(j);break;case"layout":if(F)return;const oe=(0,W.apiPageLayoutToViewerModes)(j);S._pdfViewer.spreadMode=oe.spreadMode;break;case"page-num":S._pdfViewer.currentPageNumber=j+1;break;case"print":yield S._pdfViewer.pagesPromise,S._eventBus.dispatch("print",{source:S});break;case"println":console.log(j);break;case"zoom":if(F)return;S._pdfViewer.currentScaleValue=j;break;case"SaveAs":S._eventBus.dispatch("save",{source:S});break;case"FirstPage":S._pdfViewer.currentPageNumber=1;break;case"LastPage":S._pdfViewer.currentPageNumber=S._pdfViewer.pagesCount;break;case"NextPage":S._pdfViewer.nextPage();break;case"PrevPage":S._pdfViewer.previousPage();break;case"ZoomViewIn":if(F)return;S._pdfViewer.increaseScale();break;case"ZoomViewOut":if(F)return;S._pdfViewer.decreaseScale()}return}if(F&&A.focus)return;delete A.id,delete A.siblings;const D=N?[Q,...N]:[Q];for(const oe of D){const $=document.getElementById(oe);$?$.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:A})):S._pdfDocument?.annotationStorage.setValue(oe,A)}})()}_dispatchPageOpen(A,S=!1){var F=this;return U(function*(){const Q=F._pdfDocument,N=F._visitedPages;if(S&&(F._closeCapability=(0,fe.createPromiseCapability)()),!F._closeCapability)return;const J=F._pdfViewer.getPageView(A-1);if(J?.renderingState!==W.RenderingStates.FINISHED)return void F._pageOpenPending.add(A);F._pageOpenPending.delete(A);const j=U(function*(){const D=yield N.has(A)?null:J.pdfPage?.getJSActions();Q===F._pdfDocument&&(yield F._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:A,actions:D}))})();N.set(A,j)})()}_dispatchPageClose(A){var S=this;return U(function*(){const F=S._pdfDocument,Q=S._visitedPages;if(!S._closeCapability||S._pageOpenPending.has(A))return;const N=Q.get(A);!N||(Q.set(A,null),yield N,F===S._pdfDocument&&(yield S._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:A})))})()}_getDocProperties(){var A=this;return U(function*(){if(A._docPropertiesLookup)return A._docPropertiesLookup(A._pdfDocument);const{docPropertiesLookup:S}=ae(24);return S(A._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,fe.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:A}=ae(24);return new A(this._sandboxBundleSrc)}_destroyScripting(){var A=this;return U(function*(){if(!A._scripting)return A._pdfDocument=null,void A._destroyCapability?.resolve();A._closeCapability&&(yield Promise.race([A._closeCapability.promise,new Promise(S=>{setTimeout(S,1e3)})]).catch(S=>{}),A._closeCapability=null),A._pdfDocument=null;try{yield A._scripting.destroySandbox()}catch{}for(const[S,F]of A._internalEvents)A._eventBus._off(S,F);A._internalEvents.clear();for(const[S,F]of A._domEvents)window.removeEventListener(S,F,!0);A._domEvents.clear(),A._pageOpenPending.clear(),A._visitedPages.clear(),A._scripting=null,delete A._mouseState.isDown,A._ready=!1,A._destroyCapability?.resolve()})()}}},(se,z,ae)=>{Object.defineProperty(z,"__esModule",{value:!0}),z.GenericScripting=void 0,z.docPropertiesLookup=function fe(A){return G.apply(this,arguments)};var W=ae(3);function G(){return(G=U(function*(A){const F="".split("#")[0];let{info:Q,metadata:N,contentDispositionFilename:J,contentLength:j}=yield A.getMetadata();if(!j){const{length:D}=yield A.getDownloadInfo();j=D}return{...Q,baseURL:F,filesize:j,filename:J||(0,W.getPdfFilenameFromUrl)(""),metadata:N?.getRaw(),authors:N?.get("dc:creator"),numPages:A.numPages,URL:""}})).apply(this,arguments)}z.GenericScripting=class Y{constructor(S){this._ready=(0,W.loadScript)(S,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(S){var F=this;return U(function*(){(yield F._ready).create(S)})()}dispatchEventInSandbox(S){var F=this;return U(function*(){const Q=yield F._ready;setTimeout(()=>Q.dispatchEvent(S),0)})()}destroySandbox(){var S=this;return U(function*(){(yield S._ready).nukeSandbox()})()}}}],he={};function ee(se){var z=he[se];if(void 0!==z)return z.exports;var ae=he[se]={exports:{}};return ce[se](ae,ae.exports,ee),ae.exports}var K={};return(()=>{var se=K;Object.defineProperty(se,"__esModule",{value:!0}),Object.defineProperty(se,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return G.AnnotationLayerBuilder}}),Object.defineProperty(se,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return z.DefaultAnnotationLayerFactory}}),Object.defineProperty(se,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return z.DefaultStructTreeLayerFactory}}),Object.defineProperty(se,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return z.DefaultTextLayerFactory}}),Object.defineProperty(se,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return z.DefaultXfaLayerFactory}}),Object.defineProperty(se,"DownloadManager",{enumerable:!0,get:function(){return Y.DownloadManager}}),Object.defineProperty(se,"EventBus",{enumerable:!0,get:function(){return A.EventBus}}),Object.defineProperty(se,"GenericL10n",{enumerable:!0,get:function(){return S.GenericL10n}}),Object.defineProperty(se,"LinkTarget",{enumerable:!0,get:function(){return ae.LinkTarget}}),Object.defineProperty(se,"NullL10n",{enumerable:!0,get:function(){return F.NullL10n}}),Object.defineProperty(se,"PDFFindController",{enumerable:!0,get:function(){return Q.PDFFindController}}),Object.defineProperty(se,"PDFHistory",{enumerable:!0,get:function(){return N.PDFHistory}}),Object.defineProperty(se,"PDFLinkService",{enumerable:!0,get:function(){return ae.PDFLinkService}}),Object.defineProperty(se,"PDFPageView",{enumerable:!0,get:function(){return J.PDFPageView}}),Object.defineProperty(se,"PDFScriptingManager",{enumerable:!0,get:function(){return j.PDFScriptingManager}}),Object.defineProperty(se,"PDFSinglePageViewer",{enumerable:!0,get:function(){return fe.PDFSinglePageViewer}}),Object.defineProperty(se,"PDFViewer",{enumerable:!0,get:function(){return fe.PDFViewer}}),Object.defineProperty(se,"ProgressBar",{enumerable:!0,get:function(){return W.ProgressBar}}),Object.defineProperty(se,"SimpleLinkService",{enumerable:!0,get:function(){return ae.SimpleLinkService}}),Object.defineProperty(se,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return D.StructTreeLayerBuilder}}),Object.defineProperty(se,"TextLayerBuilder",{enumerable:!0,get:function(){return oe.TextLayerBuilder}}),Object.defineProperty(se,"XfaLayerBuilder",{enumerable:!0,get:function(){return $.XfaLayerBuilder}}),Object.defineProperty(se,"parseQueryString",{enumerable:!0,get:function(){return W.parseQueryString}});var z=ee(1),ae=ee(5),W=ee(6),fe=ee(10),G=ee(2),Y=ee(16),A=ee(17),S=ee(18),F=ee(4),Q=ee(20),N=ee(22),J=ee(12),j=ee(23),D=ee(7),oe=ee(8),$=ee(9)})(),K})(),xe.exports=ee()},9751:(xe,I,R)=>{"use strict";R.d(I,{y:()=>ce});var l=R(930),te=R(727),O=R(8822),pe=R(9635),ie=R(2416),re=R(576),U=R(2806);let ce=(()=>{class se{constructor(ae){ae&&(this._subscribe=ae)}lift(ae){const W=new se;return W.source=this,W.operator=ae,W}subscribe(ae,W,fe){const G=function K(se){return se&&se instanceof l.Lv||function ee(se){return se&&(0,re.m)(se.next)&&(0,re.m)(se.error)&&(0,re.m)(se.complete)}(se)&&(0,te.Nn)(se)}(ae)?ae:new l.Hp(ae,W,fe);return(0,U.x)(()=>{const{operator:Y,source:A}=this;G.add(Y?Y.call(G,A):A?this._subscribe(G):this._trySubscribe(G))}),G}_trySubscribe(ae){try{return this._subscribe(ae)}catch(W){ae.error(W)}}forEach(ae,W){return new(W=he(W))((fe,G)=>{const Y=new l.Hp({next:A=>{try{ae(A)}catch(S){G(S),Y.unsubscribe()}},error:G,complete:fe});this.subscribe(Y)})}_subscribe(ae){var W;return null===(W=this.source)||void 0===W?void 0:W.subscribe(ae)}[O.L](){return this}pipe(...ae){return(0,pe.U)(ae)(this)}toPromise(ae){return new(ae=he(ae))((W,fe)=>{let G;this.subscribe(Y=>G=Y,Y=>fe(Y),()=>W(G))})}}return se.create=z=>new se(z),se})();function he(se){var z;return null!==(z=se??ie.v.Promise)&&void 0!==z?z:Promise}},7579:(xe,I,R)=>{"use strict";R.d(I,{x:()=>U});var l=R(9751),te=R(727);const pe=(0,R(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=R(6852),re=R(2806);let U=(()=>{class he extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const se=new ce(this,this);return se.operator=K,se}_throwIfClosed(){if(this.closed)throw new pe}next(K){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(K)}})}error(K){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:se}=this;for(;se.length;)se.shift().error(K)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:se,isStopped:z,observers:ae}=this;return se||z?te.Lc:(this.currentObservers=null,ae.push(K),new te.w0(()=>{this.currentObservers=null,(0,ie.P)(ae,K)}))}_checkFinalizedStatuses(K){const{hasError:se,thrownError:z,isStopped:ae}=this;se?K.error(z):ae&&K.complete()}asObservable(){const K=new l.y;return K.source=this,K}}return he.create=(ee,K)=>new ce(ee,K),he})();class ce extends U{constructor(ee,K){super(),this.destination=ee,this.source=K}next(ee){var K,se;null===(se=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===se||se.call(K,ee)}error(ee){var K,se;null===(se=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===se||se.call(K,ee)}complete(){var ee,K;null===(K=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===K||K.call(ee)}_subscribe(ee){var K,se;return null!==(se=null===(K=this.source)||void 0===K?void 0:K.subscribe(ee))&&void 0!==se?se:te.Lc}}},930:(xe,I,R)=>{"use strict";R.d(I,{Hp:()=>fe,Lv:()=>se});var l=R(576),te=R(727),O=R(2416),pe=R(7849),ie=R(5032);const re=he("C",void 0,void 0);function he(F,Q,N){return{kind:F,value:Q,error:N}}var ee=R(3410),K=R(2806);class se extends te.w0{constructor(Q){super(),this.isStopped=!1,Q?(this.destination=Q,(0,te.Nn)(Q)&&Q.add(this)):this.destination=S}static create(Q,N,J){return new fe(Q,N,J)}next(Q){this.isStopped?A(function ce(F){return he("N",F,void 0)}(Q),this):this._next(Q)}error(Q){this.isStopped?A(function U(F){return he("E",void 0,F)}(Q),this):(this.isStopped=!0,this._error(Q))}complete(){this.isStopped?A(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Q){this.destination.next(Q)}_error(Q){try{this.destination.error(Q)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const z=Function.prototype.bind;function ae(F,Q){return z.call(F,Q)}class W{constructor(Q){this.partialObserver=Q}next(Q){const{partialObserver:N}=this;if(N.next)try{N.next(Q)}catch(J){G(J)}}error(Q){const{partialObserver:N}=this;if(N.error)try{N.error(Q)}catch(J){G(J)}else G(Q)}complete(){const{partialObserver:Q}=this;if(Q.complete)try{Q.complete()}catch(N){G(N)}}}class fe extends se{constructor(Q,N,J){let j;if(super(),(0,l.m)(Q)||!Q)j={next:Q??void 0,error:N??void 0,complete:J??void 0};else{let D;this&&O.v.useDeprecatedNextContext?(D=Object.create(Q),D.unsubscribe=()=>this.unsubscribe(),j={next:Q.next&&ae(Q.next,D),error:Q.error&&ae(Q.error,D),complete:Q.complete&&ae(Q.complete,D)}):j=Q}this.destination=new W(j)}}function G(F){O.v.useDeprecatedSynchronousErrorHandling?(0,K.O)(F):(0,pe.h)(F)}function A(F,Q){const{onStoppedNotification:N}=O.v;N&&ee.z.setTimeout(()=>N(F,Q))}const S={closed:!0,next:ie.Z,error:function Y(F){throw F},complete:ie.Z}},727:(xe,I,R)=>{"use strict";R.d(I,{Lc:()=>re,w0:()=>ie,Nn:()=>U});var l=R(576);const O=(0,R(3888).d)(he=>function(K){he(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((se,z)=>`${z+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var pe=R(6852);class ie{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const ae of K)ae.remove(this);else K.remove(this);const{initialTeardown:se}=this;if((0,l.m)(se))try{se()}catch(ae){ee=ae instanceof O?ae.errors:[ae]}const{_finalizers:z}=this;if(z){this._finalizers=null;for(const ae of z)try{ce(ae)}catch(W){ee=ee??[],W instanceof O?ee=[...ee,...W.errors]:ee.push(W)}}if(ee)throw new O(ee)}}add(ee){var K;if(ee&&ee!==this)if(this.closed)ce(ee);else{if(ee instanceof ie){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(ee)}}_hasParent(ee){const{_parentage:K}=this;return K===ee||Array.isArray(K)&&K.includes(ee)}_addParent(ee){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(ee),K):K?[K,ee]:ee}_removeParent(ee){const{_parentage:K}=this;K===ee?this._parentage=null:Array.isArray(K)&&(0,pe.P)(K,ee)}remove(ee){const{_finalizers:K}=this;K&&(0,pe.P)(K,ee),ee instanceof ie&&ee._removeParent(this)}}ie.EMPTY=(()=>{const he=new ie;return he.closed=!0,he})();const re=ie.EMPTY;function U(he){return he instanceof ie||he&&"closed"in he&&(0,l.m)(he.remove)&&(0,l.m)(he.add)&&(0,l.m)(he.unsubscribe)}function ce(he){(0,l.m)(he)?he():he.unsubscribe()}},2416:(xe,I,R)=>{"use strict";R.d(I,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(xe,I,R)=>{"use strict";R.d(I,{E:()=>te});const te=new(R(9751).y)(ie=>ie.complete())},8996:(xe,I,R)=>{"use strict";R.d(I,{D:()=>Q});var l=R(8421),te=R(5363),O=R(9468),re=R(9751),ce=R(2202),he=R(576),ee=R(9672);function se(N,J){if(!N)throw new Error("Iterable cannot be null");return new re.y(j=>{(0,ee.f)(j,J,()=>{const D=N[Symbol.asyncIterator]();(0,ee.f)(j,J,()=>{D.next().then(oe=>{oe.done?j.complete():j.next(oe.value)})},0,!0)})})}var z=R(3670),ae=R(8239),W=R(1144),fe=R(6495),G=R(2206),Y=R(4532),A=R(3260);function Q(N,J){return J?function F(N,J){if(null!=N){if((0,z.c)(N))return function pe(N,J){return(0,l.Xf)(N).pipe((0,O.R)(J),(0,te.Q)(J))}(N,J);if((0,W.z)(N))return function U(N,J){return new re.y(j=>{let D=0;return J.schedule(function(){D===N.length?j.complete():(j.next(N[D++]),j.closed||this.schedule())})})}(N,J);if((0,ae.t)(N))return function ie(N,J){return(0,l.Xf)(N).pipe((0,O.R)(J),(0,te.Q)(J))}(N,J);if((0,G.D)(N))return se(N,J);if((0,fe.T)(N))return function K(N,J){return new re.y(j=>{let D;return(0,ee.f)(j,J,()=>{D=N[ce.h](),(0,ee.f)(j,J,()=>{let oe,$;try{({value:oe,done:$}=D.next())}catch(le){return void j.error(le)}$?j.complete():j.next(oe)},0,!0)}),()=>(0,he.m)(D?.return)&&D.return()})}(N,J);if((0,A.L)(N))return function S(N,J){return se((0,A.Q)(N),J)}(N,J)}throw(0,Y.z)(N)}(N,J):(0,l.Xf)(N)}},8421:(xe,I,R)=>{"use strict";R.d(I,{Xf:()=>z});var l=R(655),te=R(1144),O=R(8239),pe=R(9751),ie=R(3670),re=R(2206),U=R(4532),ce=R(6495),he=R(3260),ee=R(576),K=R(7849),se=R(8822);function z(F){if(F instanceof pe.y)return F;if(null!=F){if((0,ie.c)(F))return function ae(F){return new pe.y(Q=>{const N=F[se.L]();if((0,ee.m)(N.subscribe))return N.subscribe(Q);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(F);if((0,te.z)(F))return function W(F){return new pe.y(Q=>{for(let N=0;N<F.length&&!Q.closed;N++)Q.next(F[N]);Q.complete()})}(F);if((0,O.t)(F))return function fe(F){return new pe.y(Q=>{F.then(N=>{Q.closed||(Q.next(N),Q.complete())},N=>Q.error(N)).then(null,K.h)})}(F);if((0,re.D)(F))return Y(F);if((0,ce.T)(F))return function G(F){return new pe.y(Q=>{for(const N of F)if(Q.next(N),Q.closed)return;Q.complete()})}(F);if((0,he.L)(F))return function A(F){return Y((0,he.Q)(F))}(F)}throw(0,U.z)(F)}function Y(F){return new pe.y(Q=>{(function S(F,Q){var N,J,j,D;return(0,l.mG)(this,void 0,void 0,function*(){try{for(N=(0,l.KL)(F);!(J=yield N.next()).done;)if(Q.next(J.value),Q.closed)return}catch(oe){j={error:oe}}finally{try{J&&!J.done&&(D=N.return)&&(yield D.call(N))}finally{if(j)throw j.error}}Q.complete()})})(F,Q).catch(N=>Q.error(N))})}},6451:(xe,I,R)=>{"use strict";R.d(I,{T:()=>re});var l=R(8189),te=R(8421),O=R(515),pe=R(3269),ie=R(8996);function re(...U){const ce=(0,pe.yG)(U),he=(0,pe._6)(U,1/0),ee=U;return ee.length?1===ee.length?(0,te.Xf)(ee[0]):(0,l.J)(he)((0,ie.D)(ee,ce)):O.E}},5403:(xe,I,R)=>{"use strict";R.d(I,{x:()=>te});var l=R(930);function te(pe,ie,re,U,ce){return new O(pe,ie,re,U,ce)}class O extends l.Lv{constructor(ie,re,U,ce,he,ee){super(ie),this.onFinalize=he,this.shouldUnsubscribe=ee,this._next=re?function(K){try{re(K)}catch(se){ie.error(se)}}:super._next,this._error=ce?function(K){try{ce(K)}catch(se){ie.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=U?function(){try{U()}catch(K){ie.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(xe,I,R)=>{"use strict";R.d(I,{U:()=>O});var l=R(4482),te=R(5403);function O(pe,ie){return(0,l.e)((re,U)=>{let ce=0;re.subscribe((0,te.x)(U,he=>{U.next(pe.call(ie,he,ce++))}))})}},8189:(xe,I,R)=>{"use strict";R.d(I,{J:()=>O});var l=R(5577),te=R(4671);function O(pe=1/0){return(0,l.z)(te.y,pe)}},5577:(xe,I,R)=>{"use strict";R.d(I,{z:()=>ce});var l=R(4004),te=R(8421),O=R(4482),pe=R(9672),ie=R(5403),U=R(576);function ce(he,ee,K=1/0){return(0,U.m)(ee)?ce((se,z)=>(0,l.U)((ae,W)=>ee(se,ae,z,W))((0,te.Xf)(he(se,z))),K):("number"==typeof ee&&(K=ee),(0,O.e)((se,z)=>function re(he,ee,K,se,z,ae,W,fe){const G=[];let Y=0,A=0,S=!1;const F=()=>{S&&!G.length&&!Y&&ee.complete()},Q=J=>Y<se?N(J):G.push(J),N=J=>{ae&&ee.next(J),Y++;let j=!1;(0,te.Xf)(K(J,A++)).subscribe((0,ie.x)(ee,D=>{z?.(D),ae?Q(D):ee.next(D)},()=>{j=!0},void 0,()=>{if(j)try{for(Y--;G.length&&Y<se;){const D=G.shift();W?(0,pe.f)(ee,W,()=>N(D)):N(D)}F()}catch(D){ee.error(D)}}))};return he.subscribe((0,ie.x)(ee,Q,()=>{S=!0,F()})),()=>{fe?.()}}(se,z,he,K)))}},5363:(xe,I,R)=>{"use strict";R.d(I,{Q:()=>pe});var l=R(9672),te=R(4482),O=R(5403);function pe(ie,re=0){return(0,te.e)((U,ce)=>{U.subscribe((0,O.x)(ce,he=>(0,l.f)(ce,ie,()=>ce.next(he),re),()=>(0,l.f)(ce,ie,()=>ce.complete(),re),he=>(0,l.f)(ce,ie,()=>ce.error(he),re)))})}},3099:(xe,I,R)=>{"use strict";R.d(I,{B:()=>ie});var l=R(8421),te=R(7579),O=R(930),pe=R(4482);function ie(U={}){const{connector:ce=(()=>new te.x),resetOnError:he=!0,resetOnComplete:ee=!0,resetOnRefCountZero:K=!0}=U;return se=>{let z,ae,W,fe=0,G=!1,Y=!1;const A=()=>{ae?.unsubscribe(),ae=void 0},S=()=>{A(),z=W=void 0,G=Y=!1},F=()=>{const Q=z;S(),Q?.unsubscribe()};return(0,pe.e)((Q,N)=>{fe++,!Y&&!G&&A();const J=W=W??ce();N.add(()=>{fe--,0===fe&&!Y&&!G&&(ae=re(F,K))}),J.subscribe(N),!z&&fe>0&&(z=new O.Hp({next:j=>J.next(j),error:j=>{Y=!0,A(),ae=re(S,he,j),J.error(j)},complete:()=>{G=!0,A(),ae=re(S,ee),J.complete()}}),(0,l.Xf)(Q).subscribe(z))})(se)}}function re(U,ce,...he){if(!0===ce)return void U();if(!1===ce)return;const ee=new O.Hp({next:()=>{ee.unsubscribe(),U()}});return ce(...he).subscribe(ee)}},9468:(xe,I,R)=>{"use strict";R.d(I,{R:()=>te});var l=R(4482);function te(O,pe=0){return(0,l.e)((ie,re)=>{re.add(O.schedule(()=>ie.subscribe(re),pe))})}},8505:(xe,I,R)=>{"use strict";R.d(I,{b:()=>ie});var l=R(576),te=R(4482),O=R(5403),pe=R(4671);function ie(re,U,ce){const he=(0,l.m)(re)||U||ce?{next:re,error:U,complete:ce}:re;return he?(0,te.e)((ee,K)=>{var se;null===(se=he.subscribe)||void 0===se||se.call(he);let z=!0;ee.subscribe((0,O.x)(K,ae=>{var W;null===(W=he.next)||void 0===W||W.call(he,ae),K.next(ae)},()=>{var ae;z=!1,null===(ae=he.complete)||void 0===ae||ae.call(he),K.complete()},ae=>{var W;z=!1,null===(W=he.error)||void 0===W||W.call(he,ae),K.error(ae)},()=>{var ae,W;z&&(null===(ae=he.unsubscribe)||void 0===ae||ae.call(he)),null===(W=he.finalize)||void 0===W||W.call(he)}))}):pe.y}},4408:(xe,I,R)=>{"use strict";R.d(I,{o:()=>ie});var l=R(727);class te extends l.w0{constructor(U,ce){super()}schedule(U,ce=0){return this}}const O={setInterval(re,U,...ce){const{delegate:he}=O;return he?.setInterval?he.setInterval(re,U,...ce):setInterval(re,U,...ce)},clearInterval(re){const{delegate:U}=O;return(U?.clearInterval||clearInterval)(re)},delegate:void 0};var pe=R(6852);class ie extends te{constructor(U,ce){super(U,ce),this.scheduler=U,this.work=ce,this.pending=!1}schedule(U,ce=0){if(this.closed)return this;this.state=U;const he=this.id,ee=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(ee,he,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(ee,this.id,ce),this}requestAsyncId(U,ce,he=0){return O.setInterval(U.flush.bind(U,this),he)}recycleAsyncId(U,ce,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ce;O.clearInterval(ce)}execute(U,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(U,ce);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(U,ce){let ee,he=!1;try{this.work(U)}catch(K){he=!0,ee=K||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:U,scheduler:ce}=this,{actions:he}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(he,this),null!=U&&(this.id=this.recycleAsyncId(ce,U,null)),this.delay=null,super.unsubscribe()}}}},7565:(xe,I,R)=>{"use strict";R.d(I,{v:()=>O});var l=R(6063);class te{constructor(ie,re=te.now){this.schedulerActionCtor=ie,this.now=re}schedule(ie,re=0,U){return new this.schedulerActionCtor(this,ie).schedule(U,re)}}te.now=l.l.now;class O extends te{constructor(ie,re=te.now){super(ie,re),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:re}=this;if(this._active)return void re.push(ie);let U;this._active=!0;do{if(U=ie.execute(ie.state,ie.delay))break}while(ie=re.shift());if(this._active=!1,U){for(;ie=re.shift();)ie.unsubscribe();throw U}}}},4986:(xe,I,R)=>{"use strict";R.d(I,{P:()=>pe,z:()=>O});var l=R(4408);const O=new(R(7565).v)(l.o),pe=O},6063:(xe,I,R)=>{"use strict";R.d(I,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(xe,I,R)=>{"use strict";R.d(I,{z:()=>l});const l={setTimeout(te,O,...pe){const{delegate:ie}=l;return ie?.setTimeout?ie.setTimeout(te,O,...pe):setTimeout(te,O,...pe)},clearTimeout(te){const{delegate:O}=l;return(O?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(xe,I,R)=>{"use strict";R.d(I,{h:()=>te});const te=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xe,I,R)=>{"use strict";R.d(I,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(xe,I,R)=>{"use strict";R.d(I,{_6:()=>re,jO:()=>pe,yG:()=>ie});var l=R(576),te=R(3532);function O(U){return U[U.length-1]}function pe(U){return(0,l.m)(O(U))?U.pop():void 0}function ie(U){return(0,te.K)(O(U))?U.pop():void 0}function re(U,ce){return"number"==typeof O(U)?U.pop():ce}},6852:(xe,I,R)=>{"use strict";function l(te,O){if(te){const pe=te.indexOf(O);0<=pe&&te.splice(pe,1)}}R.d(I,{P:()=>l})},3888:(xe,I,R)=>{"use strict";function l(te){const pe=te(ie=>{Error.call(ie),ie.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}R.d(I,{d:()=>l})},2806:(xe,I,R)=>{"use strict";R.d(I,{O:()=>pe,x:()=>O});var l=R(2416);let te=null;function O(ie){if(l.v.useDeprecatedSynchronousErrorHandling){const re=!te;if(re&&(te={errorThrown:!1,error:null}),ie(),re){const{errorThrown:U,error:ce}=te;if(te=null,U)throw ce}}else ie()}function pe(ie){l.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ie)}},9672:(xe,I,R)=>{"use strict";function l(te,O,pe,ie=0,re=!1){const U=O.schedule(function(){pe(),re?te.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(te.add(U),!re)return U}R.d(I,{f:()=>l})},4671:(xe,I,R)=>{"use strict";function l(te){return te}R.d(I,{y:()=>l})},1144:(xe,I,R)=>{"use strict";R.d(I,{z:()=>l});const l=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(xe,I,R)=>{"use strict";R.d(I,{D:()=>te});var l=R(576);function te(O){return Symbol.asyncIterator&&(0,l.m)(O?.[Symbol.asyncIterator])}},576:(xe,I,R)=>{"use strict";function l(te){return"function"==typeof te}R.d(I,{m:()=>l})},3670:(xe,I,R)=>{"use strict";R.d(I,{c:()=>O});var l=R(8822),te=R(576);function O(pe){return(0,te.m)(pe[l.L])}},6495:(xe,I,R)=>{"use strict";R.d(I,{T:()=>O});var l=R(2202),te=R(576);function O(pe){return(0,te.m)(pe?.[l.h])}},8239:(xe,I,R)=>{"use strict";R.d(I,{t:()=>te});var l=R(576);function te(O){return(0,l.m)(O?.then)}},3260:(xe,I,R)=>{"use strict";R.d(I,{L:()=>pe,Q:()=>O});var l=R(655),te=R(576);function O(ie){return(0,l.FC)(this,arguments,function*(){const U=ie.getReader();try{for(;;){const{value:ce,done:he}=yield(0,l.qq)(U.read());if(he)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(ce)}}finally{U.releaseLock()}})}function pe(ie){return(0,te.m)(ie?.getReader)}},3532:(xe,I,R)=>{"use strict";R.d(I,{K:()=>te});var l=R(576);function te(O){return O&&(0,l.m)(O.schedule)}},4482:(xe,I,R)=>{"use strict";R.d(I,{A:()=>te,e:()=>O});var l=R(576);function te(pe){return(0,l.m)(pe?.lift)}function O(pe){return ie=>{if(te(ie))return ie.lift(function(re){try{return pe(re,this)}catch(U){this.error(U)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(xe,I,R)=>{"use strict";function l(){}R.d(I,{Z:()=>l})},9635:(xe,I,R)=>{"use strict";R.d(I,{U:()=>O,z:()=>te});var l=R(4671);function te(...pe){return O(pe)}function O(pe){return 0===pe.length?l.y:1===pe.length?pe[0]:function(re){return pe.reduce((U,ce)=>ce(U),re)}}},7849:(xe,I,R)=>{"use strict";R.d(I,{h:()=>O});var l=R(2416),te=R(3410);function O(pe){te.z.setTimeout(()=>{const{onUnhandledError:ie}=l.v;if(!ie)throw pe;ie(pe)})}},4532:(xe,I,R)=>{"use strict";function l(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(I,{z:()=>l})},655:(xe,I,R)=>{"use strict";function pe($,le){var ge={};for(var ye in $)Object.prototype.hasOwnProperty.call($,ye)&&le.indexOf(ye)<0&&(ge[ye]=$[ye]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var ke=0;for(ye=Object.getOwnPropertySymbols($);ke<ye.length;ke++)le.indexOf(ye[ke])<0&&Object.prototype.propertyIsEnumerable.call($,ye[ke])&&(ge[ye[ke]]=$[ye[ke]])}return ge}function ce($,le,ge,ye){return new(ge||(ge=Promise))(function(Ne,Qe){function it(b){try{x(ye.next(b))}catch(M){Qe(M)}}function ve(b){try{x(ye.throw(b))}catch(M){Qe(M)}}function x(b){b.done?Ne(b.value):function ke(Ne){return Ne instanceof ge?Ne:new ge(function(Qe){Qe(Ne)})}(b.value).then(it,ve)}x((ye=ye.apply($,le||[])).next())})}function G($){return this instanceof G?(this.v=$,this):new G($)}function Y($,le,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,ye=ge.apply($,le||[]),Ne=[];return ke={},Qe("next"),Qe("throw"),Qe("return"),ke[Symbol.asyncIterator]=function(){return this},ke;function Qe(L){ye[L]&&(ke[L]=function(X){return new Promise(function(ne,B){Ne.push([L,X,ne,B])>1||it(L,X)})})}function it(L,X){try{!function ve(L){L.value instanceof G?Promise.resolve(L.value.v).then(x,b):M(Ne[0][2],L)}(ye[L](X))}catch(ne){M(Ne[0][3],ne)}}function x(L){it("next",L)}function b(L){it("throw",L)}function M(L,X){L(X),Ne.shift(),Ne.length&&it(Ne[0][0],Ne[0][1])}}function S($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,le=$[Symbol.asyncIterator];return le?le.call($):($=function se($){var le="function"==typeof Symbol&&Symbol.iterator,ge=le&&$[le],ye=0;if(ge)return ge.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&ye>=$.length&&($=void 0),{value:$&&$[ye++],done:!$}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}($),ge={},ye("next"),ye("throw"),ye("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function ye(Ne){ge[Ne]=$[Ne]&&function(Qe){return new Promise(function(it,ve){!function ke(Ne,Qe,it,ve){Promise.resolve(ve).then(function(x){Ne({value:x,done:it})},Qe)}(it,ve,(Qe=$[Ne](Qe)).done,Qe.value)})}}}R.d(I,{FC:()=>Y,KL:()=>S,_T:()=>pe,mG:()=>ce,qq:()=>G})},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:xe=>{function I(l,te,O,pe,ie,re,U){try{var ce=l[re](U),he=ce.value}catch(ee){return void O(ee)}ce.done?te(he):Promise.resolve(he).then(pe,ie)}xe.exports=function R(l){return function(){var te=this,O=arguments;return new Promise(function(pe,ie){var re=l.apply(te,O);function U(he){I(re,pe,ie,U,ce,"next",he)}function ce(he){I(re,pe,ie,U,ce,"throw",he)}U(void 0)})}},xe.exports.__esModule=!0,xe.exports.default=xe.exports},6521:xe=>{xe.exports=function I(R,l){if(l.has(R))throw new TypeError("Cannot initialize the same private elements twice on an object")},xe.exports.__esModule=!0,xe.exports.default=xe.exports},8912:xe=>{xe.exports=function I(R,l){return l.get?l.get.call(R):l.value},xe.exports.__esModule=!0,xe.exports.default=xe.exports},3448:xe=>{xe.exports=function I(R,l,te){if(l.set)l.set.call(R,te);else{if(!l.writable)throw new TypeError("attempted to set read only private field");l.value=te}},xe.exports.__esModule=!0,xe.exports.default=xe.exports},2625:xe=>{xe.exports=function I(R,l){if(R!==l)throw new TypeError("Private static access of wrong provenance")},xe.exports.__esModule=!0,xe.exports.default=xe.exports},2506:xe=>{xe.exports=function I(R,l){if(void 0===R)throw new TypeError("attempted to "+l+" private static field before its declaration")},xe.exports.__esModule=!0,xe.exports.default=xe.exports},4069:xe=>{xe.exports=function I(R,l,te){if(!l.has(R))throw new TypeError("attempted to "+te+" private field on non-instance");return l.get(R)},xe.exports.__esModule=!0,xe.exports.default=xe.exports},468:(xe,I,R)=>{var l=R(8912),te=R(4069);xe.exports=function O(pe,ie){var re=te(pe,ie,"get");return l(pe,re)},xe.exports.__esModule=!0,xe.exports.default=xe.exports},9159:(xe,I,R)=>{var l=R(6521);xe.exports=function te(O,pe,ie){l(O,pe),pe.set(O,ie)},xe.exports.__esModule=!0,xe.exports.default=xe.exports},5661:(xe,I,R)=>{var l=R(3448),te=R(4069);xe.exports=function O(pe,ie,re){var U=te(pe,ie,"set");return l(pe,U,re),re},xe.exports.__esModule=!0,xe.exports.default=xe.exports},4467:xe=>{xe.exports=function I(R,l,te){if(!l.has(R))throw new TypeError("attempted to get private field on non-instance");return te},xe.exports.__esModule=!0,xe.exports.default=xe.exports},1860:(xe,I,R)=>{var l=R(6521);xe.exports=function te(O,pe){l(O,pe),pe.add(O)},xe.exports.__esModule=!0,xe.exports.default=xe.exports},1280:(xe,I,R)=>{var l=R(8912),te=R(2625),O=R(2506);xe.exports=function pe(ie,re,U){return te(ie,re),O(U,"get"),l(ie,U)},xe.exports.__esModule=!0,xe.exports.default=xe.exports},2306:(xe,I,R)=>{var l=R(3448),te=R(2625),O=R(2506);xe.exports=function pe(ie,re,U,ce){return te(ie,re),O(U,"set"),l(ie,U,ce),ce},xe.exports.__esModule=!0,xe.exports.default=xe.exports},5764:(xe,I,R)=>{var l=R(2625);xe.exports=function te(O,pe,ie){return l(O,pe),ie},xe.exports.__esModule=!0,xe.exports.default=xe.exports},8416:xe=>{xe.exports=function I(R,l,te){return l in R?Object.defineProperty(R,l,{value:te,enumerable:!0,configurable:!0,writable:!0}):R[l]=te,R},xe.exports.__esModule=!0,xe.exports.default=xe.exports},4650:(xe,I,R)=>{"use strict";R.d(I,{$8M:()=>Ks,$Z:()=>PD,AFp:()=>k_,ALo:()=>Xb,AaK:()=>ce,BQk:()=>Lm,CHM:()=>oa,CRH:()=>Gt,CZH:()=>Ia,CqO:()=>ob,D6c:()=>xI,EJc:()=>Lp,EiD:()=>vu,EpF:()=>VC,F$t:()=>UC,F4k:()=>sb,FYo:()=>Qt,FiY:()=>pt,G48:()=>mA,Gf:()=>Ec,GfV:()=>qd,Gpc:()=>K,Hsn:()=>ab,Ikx:()=>wb,JOm:()=>Oo,JVY:()=>Vg,KtG:()=>aa,L6k:()=>Bg,LAX:()=>ky,LFG:()=>ti,LSH:()=>sc,Lbi:()=>Fp,Lck:()=>uh,MAs:()=>FC,MMx:()=>__,NdJ:()=>Vm,O4$:()=>ru,OlP:()=>xn,Oqu:()=>Km,PXZ:()=>Pc,Q6J:()=>ib,QGY:()=>Nm,QP$:()=>an,QbO:()=>Ic,Qsj:()=>xi,R0b:()=>_s,RDi:()=>Dy,Rgc:()=>Go,SBq:()=>It,Sil:()=>od,Suo:()=>D_,TTD:()=>qr,TgZ:()=>Om,Udp:()=>Lu,WFA:()=>Bm,X6Q:()=>_I,XFs:()=>at,Xpm:()=>Ce,Xts:()=>bu,Y36:()=>Xd,YKP:()=>$b,YNc:()=>OC,Yjl:()=>Jt,Yz7:()=>X,ZZ4:()=>Ur,_Bn:()=>zb,_UZ:()=>Fm,_Vd:()=>_e,_c5:()=>II,_uU:()=>XC,aQg:()=>z_,c2e:()=>O_,cJS:()=>B,cg1:()=>op,d8E:()=>Vu,dDg:()=>fA,dqk:()=>Ie,eBb:()=>Py,eFA:()=>Ma,ekj:()=>tp,eoX:()=>v0,f3M:()=>Jl,g9A:()=>xa,h0i:()=>Xu,hGG:()=>Tn,hij:()=>rp,iGM:()=>Mi,ifc:()=>me,ip1:()=>Ai,kL8:()=>t_,lG2:()=>Fn,lcZ:()=>HE,lqb:()=>Ca,lri:()=>Up,mCW:()=>tc,n5z:()=>wo,n_E:()=>Tp,oAB:()=>Ct,oxw:()=>Um,pB0:()=>Ug,q3G:()=>wi,q4F:()=>Ea,qLn:()=>Af,qOj:()=>Zf,qZA:()=>Ou,qzn:()=>va,rWj:()=>jp,sBO:()=>bI,sIi:()=>eh,s_b:()=>Ju,soG:()=>Os,tb:()=>_h,tp0:()=>Yt,uIk:()=>eb,vHH:()=>W,vpe:()=>ks,wAp:()=>cn,xp6:()=>nC,ynx:()=>rh,z2F:()=>kc,z3N:()=>Po,zSh:()=>vf,zs3:()=>Su});var l=R(7579),te=R(727),O=R(9751),pe=R(6451),ie=R(3099);function re(s){for(let o in s)if(s[o]===re)return o;throw Error("Could not find renamed property on target object.")}function U(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function ce(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ce).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function he(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const ee=re({__forward_ref__:re});function K(s){return s.__forward_ref__=K,s.toString=function(){return ce(this())},s}function se(s){return z(s)?s():s}function z(s){return"function"==typeof s&&s.hasOwnProperty(ee)&&s.__forward_ref__===K}class W extends Error{constructor(o,c){super(function fe(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function G(s){return"string"==typeof s?s:null==s?"":String(s)}function Q(s,o){throw new W(-201,!1)}function ve(s,o){null==s&&function x(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}(o,s,null,"!=")}function X(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function B(s){return{providers:s.providers||[],imports:s.imports||[]}}function be(s){return je(s,Ke)||je(s,mt)}function je(s,o){return s.hasOwnProperty(o)?s[o]:null}function Be(s){return s&&(s.hasOwnProperty(Xe)||s.hasOwnProperty(Dt))?s[Xe]:null}const Ke=re({\u0275prov:re}),Xe=re({\u0275inj:re}),mt=re({ngInjectableDef:re}),Dt=re({ngInjectorDef:re});var at=(()=>((at=at||{})[at.Default=0]="Default",at[at.Host=1]="Host",at[at.Self=2]="Self",at[at.SkipSelf=4]="SkipSelf",at[at.Optional=8]="Optional",at))();let _t;function Rt(s){const o=_t;return _t=s,o}function Ot(s,o,c){const d=be(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&at.Optional?null:void 0!==o?o:void Q(ce(s))}function nt(s){return{toString:s}.toString()}var dt=(()=>((dt=dt||{})[dt.OnPush=0]="OnPush",dt[dt.Default=1]="Default",dt))(),me=(()=>{return(s=me||(me={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",me;var s})();const Ie=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Le={},we=[],Oe=re({\u0275cmp:re}),rt=re({\u0275dir:re}),yt=re({\u0275pipe:re}),Kt=re({\u0275mod:re}),Ye=re({\u0275fac:re}),Ee=re({__NG_ELEMENT_ID__:re});let Te=0;function Ce(s){return nt(()=>{const c=!0===s.standalone,d={},h={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||we,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||me.Emulated,id:"c"+Te++,styles:s.styles||we,_:null,setInput:null,schemas:s.schemas||null,tView:null},g=s.dependencies,v=s.features;return h.inputs=en(s.inputs,d),h.outputs=en(s.outputs),v&&v.forEach(E=>E(h)),h.directiveDefs=g?()=>("function"==typeof g?g():g).map(Pe).filter($e):null,h.pipeDefs=g?()=>("function"==typeof g?g():g).map(In).filter($e):null,h})}function Pe(s){return tn(s)||Sn(s)}function $e(s){return null!==s}const ot={};function Ct(s){return nt(()=>{const o={type:s.type,bootstrap:s.bootstrap||we,declarations:s.declarations||we,imports:s.imports||we,exports:s.exports||we,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(ot[s.id]=s.type),o})}function en(s,o){if(null==s)return Le;const c={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],g=h;Array.isArray(h)&&(g=h[1],h=h[0]),c[h]=d,o&&(o[h]=g)}return c}const Fn=Ce;function Jt(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function tn(s){return s[Oe]||null}function Sn(s){return s[rt]||null}function In(s){return s[yt]||null}function On(s,o){const c=s[Kt]||null;if(!c&&!0===o)throw new Error(`Type ${ce(s)} does not have '\u0275mod' property.`);return c}function Li(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ji(s){return Array.isArray(s)&&!0===s[1]}function Jo(s){return 0!=(8&s.flags)}function ea(s){return 2==(2&s.flags)}function ta(s){return 1==(1&s.flags)}function us(s){return null!==s.template}function Va(s){return 0!=(256&s[2])}function js(s,o){return s.hasOwnProperty(Ye)?s[Ye]:null}class kl{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function qr(){return Hs}function Hs(s){return s.type.prototype.ngOnChanges&&(s.setInput=Ba),na}function na(){const s=Yc(this),o=s?.current;if(o){const c=s.previous;if(c===Le)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Ba(s,o,c,d){const h=Yc(s)||function Mg(s,o){return s[Ua]=o}(s,{previous:Le,current:null}),g=h.current||(h.current={}),v=h.previous,E=this.declaredInputs[c],T=v[E];g[E]=new kl(T&&T.currentValue,o,v===Le),s[d]=o}qr.ngInherit=!0;const Ua="__ngSimpleChanges__";function Yc(s){return s[Ua]||null}function si(s){for(;Array.isArray(s);)s=s[0];return s}function Ha(s,o){return si(o[s])}function ui(s,o){return si(o[s.index])}function ia(s,o){return s.data[o]}function As(s,o){return s[o]}function ki(s,o){const c=o[s];return Li(c)?c:c[0]}function Ss(s){return 4==(4&s[2])}function Kr(s){return 64==(64&s[2])}function qi(s,o){return null==o?null:s[o]}function Ga(s){s[18]=0}function ra(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const jt={lFrame:Bl(null),bindingsEnabled:!0};function za(){return jt.bindingsEnabled}function gt(){return jt.lFrame.lView}function Dn(){return jt.lFrame.tView}function oa(s){return jt.lFrame.contextLView=s,s[8]}function aa(s){return jt.lFrame.contextLView=null,s}function Jn(){let s=$a();for(;null!==s&&64===s.type;)s=s.parent;return s}function $a(){return jt.lFrame.currentTNode}function Er(s,o){const c=jt.lFrame;c.currentTNode=s,c.isParent=o}function Wa(){return jt.lFrame.isParent}function Ds(){jt.lFrame.isParent=!1}function la(){return jt.lFrame.bindingIndex++}function Ka(s,o){const c=jt.lFrame;c.bindingIndex=c.bindingRootIndex=s,yo(o)}function yo(s){jt.lFrame.currentDirectiveIndex=s}function Ya(s){const o=jt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Nl(){return jt.lFrame.currentQueryIndex}function Za(s){jt.lFrame.currentQueryIndex=s}function Xa(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function nu(s,o,c){if(c&at.SkipSelf){let h=o,g=s;for(;!(h=h.parent,null!==h||c&at.Host||(h=Xa(g),null===h||(g=g[15],10&h.type))););if(null===h)return!1;o=h,s=g}const d=jt.lFrame=Vl();return d.currentTNode=o,d.lView=s,!0}function Qa(s){const o=Vl(),c=s[1];jt.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function Vl(){const s=jt.lFrame,o=null===s?null:s.child;return null===o?Bl(s):o}function Bl(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Ul(){const s=jt.lFrame;return jt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Ja=Ul;function iu(){const s=Ul();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function yi(){return jt.lFrame.selectedIndex}function Ts(s){jt.lFrame.selectedIndex=s}function Hn(){const s=jt.lFrame;return ia(s.tView,s.selectedIndex)}function ru(){jt.lFrame.currentNamespace="svg"}function Wh(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const g=s.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:H,ngOnDestroy:de}=g;v&&(s.contentHooks||(s.contentHooks=[])).push(-c,v),E&&((s.contentHooks||(s.contentHooks=[])).push(c,E),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,E)),T&&(s.viewHooks||(s.viewHooks=[])).push(-c,T),H&&((s.viewHooks||(s.viewHooks=[])).push(c,H),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,H)),null!=de&&(s.destroyHooks||(s.destroyHooks=[])).push(c,de)}}function qh(s,o,c){kg(s,o,3,c)}function ca(s,o,c,d){(3&s[2])===c&&kg(s,o,c,d)}function zs(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function kg(s,o,c,d){const g=d??-1,v=o.length-1;let E=0;for(let T=void 0!==d?65535&s[18]:0;T<v;T++)if("number"==typeof o[T+1]){if(E=o[T],null!=d&&E>=d)break}else o[T]<0&&(s[18]+=65536),(E<g||-1==g)&&(au(s,c,o,T),s[18]=(4294901760&s[18])+T+2),T++}function au(s,o,c,d){const h=c[d]<0,g=c[d+1],E=s[h?-c[d]:c[d]];if(h){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class el{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function bo(s,o,c){let d=0;for(;d<c.length;){const h=c[d];if("number"==typeof h){if(0!==h)break;d++;const g=c[d++],v=c[d++],E=c[d++];s.setAttribute(o,v,E,g)}else{const g=h,v=c[++d];da(g)?s.setProperty(o,g,v):s.setAttribute(o,g,v),d++}}return d}function xd(s){return 3===s||4===s||6===s}function da(s){return 64===s.charCodeAt(0)}function Gl(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const h=o[d];"number"==typeof h?c=h:0===c||Zh(s,c,h,null,-1===c||2===c?o[++d]:null)}}return s}function Zh(s,o,c,d,h){let g=0,v=s.length;if(-1===o)v=-1;else for(;g<s.length;){const E=s[g++];if("number"==typeof E){if(E===o){v=-1;break}if(E>o){v=g-1;break}}}for(;g<s.length;){const E=s[g];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==h&&(s[g+1]=h));if(d===s[g+1])return void(s[g+2]=h)}g++,null!==d&&g++,null!==h&&g++}-1!==v&&(s.splice(v,0,o),g=v+1),s.splice(g++,0,c),null!==d&&s.splice(g++,0,d),null!==h&&s.splice(g++,0,h)}function Xh(s){return-1!==s}function tl(s){return 32767&s}function Xr(s,o){let c=function Zr(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let Md=!0;function Sr(s){const o=Md;return Md=s,o}let Vt=0;const Mt={};function oi(s,o){const c=il(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,nl(d.data,s),nl(o,null),nl(d.blueprint,null));const h=zl(s,o),g=s.injectorIndex;if(Xh(h)){const v=tl(h),E=Xr(h,o),T=E[1].data;for(let H=0;H<8;H++)o[g+H]=E[v+H]|T[v+H]}return o[g+8]=h,g}function nl(s,o){s.push(0,0,0,0,0,0,0,0,o)}function il(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function zl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,h=o;for(;null!==h;){if(d=gr(h),null===d)return-1;if(c++,h=h[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function $l(s,o,c){!function tr(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Ee)&&(d=c[Ee]),null==d&&(d=c[Ee]=Vt++);const h=255&d;o.data[s+(h>>5)]|=1<<h}(s,o,c)}function Pd(s,o,c){if(c&at.Optional)return s;Q()}function Jr(s,o,c,d){if(c&at.Optional&&void 0===d&&(d=null),0==(c&(at.Self|at.Host))){const h=s[9],g=Rt(void 0);try{return h?h.get(o,d,c&at.Optional):Ot(o,d,c&at.Optional)}finally{Rt(g)}}return Pd(d,0,c)}function $t(s,o,c,d=at.Default,h){if(null!==s){if(1024&o[2]){const v=function fa(s,o,c,d,h){let g=s,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=$s(g,v,c,d|at.Self,Mt);if(E!==Mt)return E;let T=g.parent;if(!T){const H=v[21];if(H){const de=H.get(c,Mt,d);if(de!==Mt)return de}T=gr(v),v=v[15]}g=T}return h}(s,o,c,d,Mt);if(v!==Mt)return v}const g=$s(s,o,c,d,Mt);if(g!==Mt)return g}return Jr(o,c,d,h)}function $s(s,o,c,d,h){const g=function $n(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(Ee)?s[Ee]:void 0;return"number"==typeof o?o>=0?255&o:Kl:o}(c);if("function"==typeof g){if(!nu(o,s,d))return d&at.Host?Pd(h,0,d):Jr(o,c,d,h);try{const v=g(d);if(null!=v||d&at.Optional)return v;Q()}finally{Ja()}}else if("number"==typeof g){let v=null,E=il(s,o),T=-1,H=d&at.Host?o[16][6]:null;for((-1===E||d&at.SkipSelf)&&(T=-1===E?zl(s,o):o[E+8],-1!==T&&ha(d,!1)?(v=o[1],E=tl(T),o=Xr(T,o)):E=-1);-1!==E;){const de=o[1];if(ql(g,E,de.data)){const De=Wl(E,o,c,v,d,H);if(De!==Mt)return De}T=o[E+8],-1!==T&&ha(d,o[1].data[E+8]===H)&&ql(g,E,o)?(v=de,E=tl(T),o=Xr(T,o)):E=-1}}return h}function Wl(s,o,c,d,h,g){const v=o[1],E=v.data[s+8],de=Ws(E,v,c,null==d?ea(E)&&Md:d!=v&&0!=(3&E.type),h&at.Host&&g===E);return null!==de?qs(o,v,de,E):Mt}function Ws(s,o,c,d,h){const g=s.providerIndexes,v=o.data,E=1048575&g,T=s.directiveStart,de=g>>20,He=h?E+de:s.directiveEnd;for(let qe=d?E:E+de;qe<He;qe++){const ht=v[qe];if(qe<T&&c===ht||qe>=T&&ht.type===c)return qe}if(h){const qe=v[T];if(qe&&us(qe)&&qe.type===c)return T}return null}function qs(s,o,c,d){let h=s[c];const g=o.data;if(function Id(s){return s instanceof el}(h)){const v=h;v.resolving&&function A(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new W(-200,`Circular dependency in DI detected for ${s}${c}`)}(function Y(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():G(s)}(g[c]));const E=Sr(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?Rt(v.injectImpl):null;nu(s,d,at.Default);try{h=s[c]=v.factory(void 0,g,s,d),o.firstCreatePass&&c>=d.directiveStart&&function $h(s,o,c){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:g}=o.type.prototype;if(d){const v=Hs(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,v)}h&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,h),g&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,g),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,g))}(c,g[c],o)}finally{null!==T&&Rt(T),Sr(E),v.resolving=!1,Ja()}}return h}function ql(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function ha(s,o){return!(s&at.Self||s&at.Host&&o)}class ds{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return $t(this._tNode,this._lView,o,d,c)}}function Kl(){return new ds(Jn(),gt())}function wo(s){return nt(()=>{const o=s.prototype.constructor,c=o[Ye]||lu(o),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const g=h[Ye]||lu(h);if(g&&g!==c)return g;h=Object.getPrototypeOf(h)}return g=>new g})}function lu(s){return z(s)?()=>{const o=lu(se(s));return o&&o()}:js(s)}function gr(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function Ks(s){return function rl(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let h=0;for(;h<d;){const g=c[h];if(xd(g))break;if(0===g)h+=2;else if("number"==typeof g)for(h++;h<d&&"string"==typeof c[h];)h++;else{if(g===o)return c[h+1];h+=2}}}return null}(Jn(),s)}const qn="__parameters__";function Ki(s,o,c){return nt(()=>{const d=function Dr(s){return function(...c){if(s){const d=s(...c);for(const h in d)this[h]=d[h]}}}(o);function h(...g){if(this instanceof h)return d.apply(this,g),this;const v=new h(...g);return E.annotation=v,E;function E(T,H,de){const De=T.hasOwnProperty(qn)?T[qn]:Object.defineProperty(T,qn,{value:[]})[qn];for(;De.length<=de;)De.push(null);return(De[de]=De[de]||[]).push(v),T}}return c&&(h.prototype=Object.create(c.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class xn{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=X({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ii(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),Ii(d,o)):o!==s&&o.push(d)}return o}function hs(s,o){s.forEach(c=>Array.isArray(c)?hs(c,o):o(c))}function Yl(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function al(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function fs(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function Ui(s,o,c){let d=xs(s,o);return d>=0?s[1|d]=c:(d=~d,function ll(s,o,c,d){let h=s.length;if(h==o)s.push(c,d);else if(1===h)s.push(d,s[0]),s[0]=c;else{for(h--,s.push(s[h-1],s[h]);h>o;)s[h]=s[h-2],h--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function Xl(s,o){const c=xs(s,o);if(c>=0)return s[1|c]}function xs(s,o){return function ei(s,o,c){let d=0,h=s.length>>c;for(;h!==d;){const g=d+(h-d>>1),v=s[g<<c];if(o===v)return g<<c;v>o?h=g:d=g+1}return~(h<<c)}(s,o,1)}const ts={},Ms="__NG_DI_FLAG__",Eo="ngTempTokenPath",dn=/\n/gm,ps="__source";let gs;function Do(s){const o=gs;return gs=s,o}function Ql(s,o=at.Default){if(void 0===gs)throw new W(-203,!1);return null===gs?Ot(s,void 0,o):gs.get(s,o&at.Optional?null:void 0,o)}function ti(s,o=at.Default){return(function ct(){return _t}()||Ql)(se(s),o)}function Jl(s,o=at.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),ti(s,o)}function P(s){const o=[];for(let c=0;c<s.length;c++){const d=se(s[c]);if(Array.isArray(d)){if(0===d.length)throw new W(900,!1);let h,g=at.Default;for(let v=0;v<d.length;v++){const E=d[v],T=ue(E);"number"==typeof T?-1===T?h=E.token:g|=T:h=E}o.push(ti(h,g))}else o.push(ti(d))}return o}function V(s,o){return s[Ms]=o,s.prototype[Ms]=o,s}function ue(s){return s[Ms]}const pt=V(Ki("Optional"),8),Yt=V(Ki("SkipSelf"),4);let sf,Ld;function Dy(s){sf=s}function Xs(s){return function hl(){if(void 0===Ld&&(Ld=null,Ie.trustedTypes))try{Ld=Ie.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Ld}()?.createHTML(s)||s}class Js{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Vd extends Js{getTypeName(){return"HTML"}}class Iy extends Js{getTypeName(){return"Style"}}class cf extends Js{getTypeName(){return"Script"}}class xy extends Js{getTypeName(){return"URL"}}class Ng extends Js{getTypeName(){return"ResourceURL"}}function Po(s){return s instanceof Js?s.changingThisBreaksApplicationSecurity:s}function va(s,o){const c=function My(s){return s instanceof Js&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function Vg(s){return new Vd(s)}function Bg(s){return new Iy(s)}function Py(s){return new cf(s)}function ky(s){return new xy(s)}function Ug(s){return new Ng(s)}class ba{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(Xs(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class uf{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=Xs(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=Xs(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let h=c.length-1;0<h;h--){const v=c.item(h).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&o.removeAttribute(v)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Ps=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Bd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function tc(s){return(s=String(s)).match(Ps)||s.match(Bd)?s:"unsafe:"+s}function Yi(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function nc(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const Hg=Yi("area,br,col,hr,img,wbr"),fl=Yi("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),hf=Yi("rp,rt"),_u=nc(Hg,nc(fl,Yi("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nc(hf,Yi("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),nc(hf,fl)),Ud=Yi("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ko=Yi("srcset"),ic=nc(Ud,ko,Yi("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Yi("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jd=Yi("script,style,template");class $g{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let h=this.checkClobberedElement(c,c.nextSibling);if(h){c=h;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!_u.hasOwnProperty(c))return this.sanitizedSomething=!0,!jd.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let h=0;h<d.length;h++){const g=d.item(h),v=g.name,E=v.toLowerCase();if(!ic.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=g.value;Ud[E]&&(T=tc(T)),ko[E]&&(s=T,T=(s=String(s)).split(",").map(o=>tc(o.trim())).join(", ")),this.buf.push(" ",v,'="',qg(T),'"')}var s;return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();_u.hasOwnProperty(c)&&!Hg.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(qg(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const Wg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,yu=/([^\#-~ |!])/g;function qg(s){return s.replace(/&/g,"&amp;").replace(Wg,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(yu,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let wa;function vu(s,o){let c=null;try{wa=wa||function Ry(s){const o=new uf(s);return function df(){try{return!!(new window.DOMParser).parseFromString(Xs(""),"text/html")}catch{return!1}}()?new ba(o):o}(s);let d=o?String(o):"";c=wa.getInertBodyElement(d);let h=5,g=d;do{if(0===h)throw new Error("Failed to sanitize html because the input is unstable");h--,d=g,g=c.innerHTML,c=wa.getInertBodyElement(d)}while(d!==g);return Xs((new $g).sanitizeChildren(rc(c)||c))}finally{if(c){const d=rc(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function rc(s){return"content"in s&&function Fy(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var wi=(()=>((wi=wi||{})[wi.NONE=0]="NONE",wi[wi.HTML=1]="HTML",wi[wi.STYLE=2]="STYLE",wi[wi.SCRIPT=3]="SCRIPT",wi[wi.URL=4]="URL",wi[wi.RESOURCE_URL=5]="RESOURCE_URL",wi))();function sc(s){const o=function ji(){const s=gt();return s&&s[12]}();return o?o.sanitize(wi.URL,s)||"":va(s,"URL")?Po(s):tc(G(s))}const bu=new xn("ENVIRONMENT_INITIALIZER"),pf=new xn("INJECTOR",-1),Gd=new xn("INJECTOR_DEF_TYPES");class Zg{get(o,c=ts){if(c===ts){const d=new Error(`NullInjectorError: No provider for ${ce(o)}!`);throw d.name="NullInjectorError",d}return c}}function xr(...s){return{\u0275providers:Ro(0,s)}}function Ro(s,...o){const c=[],d=new Set;let h;return hs(o,g=>{const v=g;mf(v,c,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&gf(h,c),c}function gf(s,o){for(let c=0;c<s.length;c++){const{providers:h}=s[c];hs(h,g=>{o.push(g)})}}function mf(s,o,c,d){if(!(s=se(s)))return!1;let h=null,g=Be(s);const v=!g&&tn(s);if(g||v){if(v&&!v.standalone)return!1;h=s}else{const T=s.ngModule;if(g=Be(T),!g)return!1;h=T}const E=d.has(h);if(v){if(E)return!1;if(d.add(h),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const H of T)mf(H,o,c,d)}}else{if(!g)return!1;{if(null!=g.imports&&!E){let H;d.add(h);try{hs(g.imports,de=>{mf(de,o,c,d)&&(H||(H=[]),H.push(de))})}finally{}void 0!==H&&gf(H,o)}if(!E){const H=js(h)||(()=>new h);o.push({provide:h,useFactory:H,deps:we},{provide:Gd,useValue:h,multi:!0},{provide:bu,useValue:()=>ti(h),multi:!0})}const T=g.providers;null==T||E||hs(T,de=>{o.push(de)})}}return h!==s&&void 0!==s.providers}const pl=re({provide:String,useValue:re});function _f(s){return null!==s&&"object"==typeof s&&pl in s}function Hi(s){return"function"==typeof s}const vf=new xn("Set Injector scope."),zd={},jy={};let $d;function Zi(){return void 0===$d&&($d=new Zg),$d}class Ca{}class Wd extends Ca{constructor(o,c,d,h){super(),this.parent=c,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cf(o,v=>this.processProvider(v)),this.records.set(pf,gl(void 0,this)),h.has("environment")&&this.records.set(Ca,gl(void 0,this));const g=this.records.get(vf);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(Gd.multi,we,at.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=Do(this),d=Rt(void 0);try{return o()}finally{Do(c),Rt(d)}}get(o,c=ts,d=at.Default){this.assertNotDestroyed();const h=Do(this),g=Rt(void 0);try{if(!(d&at.SkipSelf)){let E=this.records.get(o);if(void 0===E){const T=function Gy(s){return"function"==typeof s||"object"==typeof s&&s instanceof xn}(o)&&be(o);E=T&&this.injectableDefInScope(T)?gl(ac(o),zd):null,this.records.set(o,E)}if(null!=E)return this.hydrate(o,E)}return(d&at.Self?Zi():this.parent).get(o,c=d&at.Optional&&c===ts?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Eo]=v[Eo]||[]).unshift(ce(o)),h)throw v;return function Re(s,o,c,d){const h=s[Eo];throw o[ps]&&h.unshift(o[ps]),s.message=function ze(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let h=ce(o);if(Array.isArray(o))h=o.map(ce).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let E=o[v];g.push(v+":"+("string"==typeof E?JSON.stringify(E):ce(E)))}h=`{${g.join(", ")}}`}return`${c}${d?"("+d+")":""}[${h}]: ${s.replace(dn,"\n  ")}`}("\n"+s.message,h,c,d),s.ngTokenPath=h,s[Eo]=null,s}(v,o,"R3InjectorError",this.source)}throw v}finally{Rt(g),Do(h)}}resolveInjectorInitializers(){const o=Do(this),c=Rt(void 0);try{const d=this.get(bu.multi,we,at.Self);for(const h of d)h()}finally{Do(o),Rt(c)}}toString(){const o=[],c=this.records;for(const d of c.keys())o.push(ce(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new W(205,!1)}processProvider(o){let c=Hi(o=se(o))?o:se(o&&o.provide);const d=function Cu(s){return _f(s)?gl(void 0,s.useValue):gl(bf(s),zd)}(o);if(Hi(o)||!0!==o.multi)this.records.get(c);else{let h=this.records.get(c);h||(h=gl(void 0,zd,!0),h.factory=()=>P(h.multi),this.records.set(c,h)),c=o,h.multi.push(o)}this.records.set(c,d)}hydrate(o,c){return c.value===zd&&(c.value=jy,c.value=c.factory()),"object"==typeof c.value&&c.value&&function wf(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=se(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function ac(s){const o=be(s),c=null!==o?o.factory:js(s);if(null!==c)return c;if(s instanceof xn)throw new W(204,!1);if(s instanceof Function)return function Mr(s){const o=s.length;if(o>0)throw fs(o,"?"),new W(204,!1);const c=function Me(s){const o=s&&(s[Ke]||s[mt]);if(o){const c=function Ue(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new W(204,!1)}function bf(s,o,c){let d;if(Hi(s)){const h=se(s);return js(h)||ac(h)}if(_f(s))d=()=>se(s.useValue);else if(function oc(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...P(s.deps||[]));else if(function yf(s){return!(!s||!s.useExisting)}(s))d=()=>ti(se(s.useExisting));else{const h=se(s&&(s.useClass||s.provide));if(!function Hy(s){return!!s.deps}(s))return js(h)||ac(h);d=()=>new h(...P(s.deps))}return d}function gl(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function zy(s){return!!s.\u0275providers}function Cf(s,o){for(const c of s)Array.isArray(c)?Cf(c,o):zy(c)?Cf(c.\u0275providers,o):o(c)}class y{}class Z{resolveComponentFactory(o){throw function p(s){const o=Error(`No component factory found for ${ce(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let _e=(()=>{class s{}return s.NULL=new Z,s})();function Ge(){return tt(Jn(),gt())}function tt(s,o){return new It(ui(s,o))}let It=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=Ge,s})();function Ut(s){return s instanceof It?s.nativeElement:s}class Qt{}let xi=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function Pr(){const s=gt(),c=ki(Jn().index,s);return(Li(c)?c:s)[11]}(),s})(),ml=(()=>{class s{}return s.\u0275prov=X({token:s,providedIn:"root",factory:()=>null}),s})();class qd{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Ea=new qd("14.1.1"),Eu={};function im(s){return s.ngOriginalError}class Af{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&im(o);for(;c&&im(c);)c=im(c);return c||null}}const rm=new Map;let kw=0;const Qy="__ngContext__";function Rr(s,o){Li(o)?(s[Qy]=o[20],function nD(s){rm.set(s[20],s)}(o)):s[Qy]=o}function lc(s){const o=s[Qy];return"number"==typeof o?function Rw(s){return rm.get(s)||null}(o):o||null}function Jy(s){const o=lc(s);return o?Li(o)?o:o.lView:null}const nv=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(Ie))();function cc(s){return s instanceof Function?s():s}var Oo=(()=>((Oo=Oo||{})[Oo.Important=1]="Important",Oo[Oo.DashCase=2]="DashCase",Oo))();function rv(s,o){return undefined(s,o)}function Tf(s){const o=s[3];return Ji(o)?o[3]:o}function om(s){return av(s[13])}function ov(s){return av(s[4])}function av(s){for(;null!==s&&!Ji(s);)s=s[4];return s}function Yd(s,o,c,d,h){if(null!=d){let g,v=!1;Ji(d)?g=d:Li(d)&&(v=!0,d=d[0]);const E=si(d);0===s&&null!==c?null==h?Ww(o,c,E):Aa(o,c,E,h||null,!0):1===s&&null!==c?Aa(o,c,E,h||null,!0):2===s?function Pf(s,o,c){const d=Fo(s,o);d&&function qw(s,o,c,d){s.removeChild(o,c,d)}(s,d,o,c)}(o,E,v):3===s&&o.destroyNode(E),null!=g&&function bD(s,o,c,d,h){const g=c[7];g!==si(c)&&Yd(o,s,d,g,h);for(let E=10;E<c.length;E++){const T=c[E];Zd(T[1],T,s,o,d,g)}}(o,s,g,c,h)}}function cv(s,o,c){return s.createElement(o,c)}function uv(s,o){const c=s[9],d=c.indexOf(o),h=o[3];512&o[2]&&(o[2]&=-513,ra(h,-1)),c.splice(d,1)}function yl(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const h=d[17];null!==h&&h!==s&&uv(h,d),o>0&&(s[c-1][4]=d[4]);const g=al(s,10+o);!function pD(s,o){Zd(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const v=g[19];null!==v&&v.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function eo(s,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&Zd(s,o,c,3,null,null),function mD(s){let o=s[13];if(!o)return dv(s[1],s);for(;o;){let c=null;if(Li(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)Li(o)&&dv(o[1],o),o=o[3];null===o&&(o=s),Li(o)&&dv(o[1],o),c=o&&o[4]}o=c}}(o)}}function dv(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function yD(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const h=o[c[d]];if(!(h instanceof el)){const g=c[d+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const E=h[g[v]],T=g[v+1];try{T.call(E)}finally{}}else try{g.call(h)}finally{}}}}(s,o),function Gw(s,o){const c=s.cleanup,d=o[7];let h=-1;if(null!==c)for(let g=0;g<c.length-1;g+=2)if("string"==typeof c[g]){const v=c[g+1],E="function"==typeof v?v(o):si(o[v]),T=d[h=c[g+2]],H=c[g+3];"boolean"==typeof H?E.removeEventListener(c[g],T,H):H>=0?d[h=H]():d[h=-H].unsubscribe(),g+=2}else{const v=d[h=c[g+1]];c[g].call(v)}if(null!==d){for(let g=h+1;g<d.length;g++)(0,d[g])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&Ji(o[3])){c!==o[3]&&uv(c,o);const d=o[19];null!==d&&d.detachView(s)}!function iD(s){rm.delete(s[20])}(o)}}function zw(s,o,c){return function $w(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const h=s.data[d.directiveStart].encapsulation;if(h===me.None||h===me.Emulated)return null}return ui(d,c)}(s,o.parent,c)}function Aa(s,o,c,d,h){s.insertBefore(o,c,d,h)}function Ww(s,o,c){s.appendChild(o,c)}function vl(s,o,c,d,h){null!==d?Aa(s,o,c,d,h):Ww(s,o,c)}function Fo(s,o){return s.parentNode(o)}function If(s,o,c){return fv(s,o,c)}let fv=function hv(s,o,c){return 40&s.type?ui(s,c):null};function xf(s,o,c,d){const h=zw(s,d,o),g=o[11],E=If(d.parent||o[6],d,o);if(null!=h)if(Array.isArray(c))for(let T=0;T<c.length;T++)vl(g,h,c[T],E,!1);else vl(g,h,c,E,!1)}function Mf(s,o){if(null!==o){const c=o.type;if(3&c)return ui(o,s);if(4&c)return cm(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return Mf(s,d);{const h=s[o.index];return Ji(h)?cm(-1,h):si(h)}}if(32&c)return rv(o,s)()||si(s[o.index]);{const d=gv(s,o);return null!==d?Array.isArray(d)?d[0]:Mf(Tf(s[16]),d):Mf(s,o.next)}}return null}function gv(s,o){return null!==o?s[16][6].projection[o.projection]:null}function cm(s,o){const c=10+s+1;if(c<o.length){const d=o[c],h=d[1].firstChild;if(null!==h)return Mf(d,h)}return o[7]}function um(s,o,c,d,h,g,v){for(;null!=c;){const E=d[c.index],T=c.type;if(v&&0===o&&(E&&Rr(si(E),d),c.flags|=4),64!=(64&c.flags))if(8&T)um(s,o,c.child,d,h,g,!1),Yd(o,s,h,E,g);else if(32&T){const H=rv(c,d);let de;for(;de=H();)Yd(o,s,h,de,g);Yd(o,s,h,E,g)}else 16&T?mv(s,o,d,c,h,g):Yd(o,s,h,E,g);c=v?c.projectionNext:c.next}}function Zd(s,o,c,d,h,g){um(c,d,s.firstChild,o,h,g,!1)}function mv(s,o,c,d,h,g){const v=c[16],T=v[6].projection[d.projection];if(Array.isArray(T))for(let H=0;H<T.length;H++)Yd(o,s,h,T[H],g);else um(s,o,T,v[3],h,g,!0)}function _v(s,o,c){s.setAttribute(o,"style",c)}function kf(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function yv(s,o,c){let d=s.length;for(;;){const h=s.indexOf(o,c);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const g=o.length;if(h+g===d||s.charCodeAt(h+g)<=32)return h}c=h+1}}const vv="ng-template";function Xw(s,o,c){let d=0;for(;d<s.length;){let h=s[d++];if(c&&"class"===h){if(h=s[d],-1!==yv(h.toLowerCase(),o,0))return!0}else if(1===h){for(;d<s.length&&"string"==typeof(h=s[d++]);)if(h.toLowerCase()===o)return!0;return!1}}return!1}function bv(s){return 4===s.type&&s.value!==vv}function wv(s,o,c){return o===(4!==s.type||c?s.value:vv)}function dm(s,o,c){let d=4;const h=s.attrs||[],g=function bl(s){for(let o=0;o<s.length;o++)if(xd(s[o]))return o;return s.length}(h);let v=!1;for(let E=0;E<o.length;E++){const T=o[E];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!wv(s,T,c)||""===T&&1===o.length){if(to(d))return!1;v=!0}}else{const H=8&d?T:o[++E];if(8&d&&null!==s.attrs){if(!Xw(s.attrs,H,c)){if(to(d))return!1;v=!0}continue}const De=Qw(8&d?"class":T,h,bv(s),c);if(-1===De){if(to(d))return!1;v=!0;continue}if(""!==H){let He;He=De>g?"":h[De+1].toLowerCase();const qe=8&d?He:null;if(qe&&-1!==yv(qe,H,0)||2&d&&H!==He){if(to(d))return!1;v=!0}}}}else{if(!v&&!to(d)&&!to(T))return!1;if(v&&to(T))continue;v=!1,d=T|1&d}}return to(d)||v}function to(s){return 0==(1&s)}function Qw(s,o,c,d){if(null===o)return-1;let h=0;if(d||!c){let g=!1;for(;h<o.length;){const v=o[h];if(v===s)return h;if(3===v||6===v)g=!0;else{if(1===v||2===v){let E=o[++h];for(;"string"==typeof E;)E=o[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=g?1:2}return-1}return function Jw(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function Cv(s,o,c=!1){for(let d=0;d<o.length;d++)if(dm(s,o[d],c))return!0;return!1}function PP(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function wD(s,o){return s?":not("+o.trim()+")":o}function eC(s){let o=s[0],c=1,d=2,h="",g=!1;for(;c<s.length;){let v=s[c];if("string"==typeof v)if(2&d){const E=s[++c];h+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!to(v)&&(o+=wD(g,h),h=""),d=v,g=g||!to(d);c++}return""!==h&&(o+=wD(g,h)),o}const mn={};function nC(s){hm(Dn(),gt(),yi()+s,!1)}function hm(s,o,c,d){if(!d)if(3==(3&o[2])){const g=s.preOrderCheckHooks;null!==g&&qh(o,g,c)}else{const g=s.preOrderHooks;null!==g&&ca(o,g,0,c)}Ts(c)}function Av(s,o=null,c=null,d){const h=rC(s,o,c,d);return h.resolveInjectorInitializers(),h}function rC(s,o=null,c=null,d,h=new Set){const g=[c||we,xr(s)];return d=d||("object"==typeof s?void 0:ce(s)),new Wd(g,o||Zi(),d||null,h)}let Su=(()=>{class s{static create(c,d){if(Array.isArray(c))return Av({name:""},d,c,"");{const h=c.name??"";return Av({name:h},c.parent,c.providers,h)}}}return s.THROW_IF_NOT_FOUND=ts,s.NULL=new Zg,s.\u0275prov=X({token:s,providedIn:"any",factory:()=>ti(pf)}),s.__NG_ELEMENT_ID__=-1,s})();function Xd(s,o=at.Default){const c=gt();return null===c?ti(s,o):$t(Jn(),c,se(s),o)}function PD(){throw new Error("invalid")}function Bf(s,o){return s<<17|o<<2}function Sa(s){return s>>17&32767}function Cm(s){return 2|s}function Lo(s){return(131068&s)>>2}function Dv(s,o){return-131069&s|o<<2}function Tv(s){return 1|s}function gC(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const h=c[d],g=c[d+1];if(-1!==g){const v=s.data[g];Za(h),v.contentQueries(2,o[g],g)}}}function Vv(s,o,c,d,h,g,v,E,T,H,de){const De=o.blueprint.slice();return De[0]=h,De[2]=76|d,(null!==de||s&&1024&s[2])&&(De[2]|=1024),Ga(De),De[3]=De[15]=s,De[8]=c,De[10]=v||s&&s[10],De[11]=E||s&&s[11],De[12]=T||s&&s[12]||null,De[9]=H||s&&s[9]||null,De[6]=g,De[20]=function tD(){return kw++}(),De[21]=de,De[16]=2==o.type?s[16]:De,De}function hc(s,o,c,d,h){let g=s.data[o];if(null===g)g=function Bv(s,o,c,d,h){const g=$a(),v=Wa(),T=s.data[o]=function CC(s,o,c,d,h,g){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,c,o,d,h);return null===s.firstChild&&(s.firstChild=T),null!==g&&(v?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}(s,o,c,d,h),function Dd(){return jt.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=c,g.value=d,g.attrs=h;const v=function _o(){const s=jt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return Er(g,!0),g}function xu(s,o,c,d){if(0===c)return-1;const h=o.length;for(let g=0;g<c;g++)o.push(d),s.blueprint.push(d),s.data.push(null);return h}function zf(s,o,c){Qa(o);try{const d=s.viewQuery;null!==d&&MC(1,d,c);const h=s.template;null!==h&&Uv(s,o,h,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&gC(s,o),s.staticViewQueries&&MC(2,s.viewQuery,c);const g=s.components;null!==g&&function GD(s,o){for(let c=0;c<o.length;c++)ZD(s,o[c])}(o,g)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,iu()}}function No(s,o,c,d){const h=o[2];if(128!=(128&h)){Qa(o);try{Ga(o),function eu(s){return jt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&Uv(s,o,c,2,d);const v=3==(3&h);if(v){const H=s.preOrderCheckHooks;null!==H&&qh(o,H,null)}else{const H=s.preOrderHooks;null!==H&&ca(o,H,0,null),zs(o,0)}if(function Vo(s){for(let o=om(s);null!==o;o=ov(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const h=c[d],g=h[3];0==(512&h[2])&&ra(g,1),h[2]|=512}}}(o),function _r(s){for(let o=om(s);null!==o;o=ov(o))for(let c=10;c<o.length;c++){const d=o[c],h=d[1];Kr(d)&&No(h,d,h.template,d[8])}}(o),null!==s.contentQueries&&gC(s,o),v){const H=s.contentCheckHooks;null!==H&&qh(o,H)}else{const H=s.contentHooks;null!==H&&ca(o,H,1),zs(o,1)}!function HD(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const h=c[d];if(h<0)Ts(~h);else{const g=h,v=c[++d],E=c[++d];Ka(v,g),E(2,o[g])}}}finally{Ts(-1)}}(s,o);const E=s.components;null!==E&&function mC(s,o){for(let c=0;c<o.length;c++)IC(s,o[c])}(o,E);const T=s.viewQuery;if(null!==T&&MC(2,T,d),v){const H=s.viewCheckHooks;null!==H&&qh(o,H)}else{const H=s.viewHooks;null!==H&&ca(o,H,2),zs(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,ra(o[3],-1))}finally{iu()}}}function zD(s,o,c,d){const h=o[10],v=Ss(o);try{!v&&h.begin&&h.begin(),v&&zf(s,o,d),No(s,o,c,d)}finally{!v&&h.end&&h.end()}}function Uv(s,o,c,d,h){const g=yi(),v=2&d;try{Ts(-1),v&&o.length>22&&hm(s,o,22,!1),c(d,h)}finally{Ts(g)}}function _C(s,o,c){if(Jo(o)){const h=o.directiveEnd;for(let g=o.directiveStart;g<h;g++){const v=s.data[g];v.contentQueries&&v.contentQueries(1,c[g],g)}}}function Sm(s,o,c){!za()||(function XP(s,o,c,d){const h=c.directiveStart,g=c.directiveEnd;s.firstCreatePass||oi(c,o),Rr(d,o);const v=c.initialInputs;for(let E=h;E<g;E++){const T=s.data[E],H=us(T);H&&Dm(o,c,T);const de=qs(o,s,E,c);Rr(de,o),null!==v&&DC(0,E-h,de,T,0,v),H&&(ki(c.index,o)[8]=de)}}(s,o,c,ui(c,o)),128==(128&c.flags)&&function QP(s,o,c){const d=c.directiveStart,h=c.directiveEnd,g=c.index,v=function Gh(){return jt.lFrame.currentDirectiveIndex}();try{Ts(g);for(let E=d;E<h;E++){const T=s.data[E],H=o[E];yo(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&$v(T,H)}}finally{Ts(-1),yo(v)}}(s,o,c))}function jv(s,o,c=ui){const d=o.localNames;if(null!==d){let h=o.index+1;for(let g=0;g<d.length;g+=2){const v=d[g+1],E=-1===v?c(o,s):s[v];s[h++]=E}}}function yC(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=$f(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function $f(s,o,c,d,h,g,v,E,T,H){const de=22+d,De=de+h,He=function vC(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:mn);return c}(de,De),qe="function"==typeof H?H():H;return He[1]={type:s,blueprint:He,template:c,queries:null,viewQuery:E,declTNode:o,data:He.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:De,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:qe,incompleteFirstPass:!1}}function wC(s,o,c,d){const h=QD(o);null===c?h.push(d):(h.push(c),s.firstCreatePass&&JD(s).push(d,h.length-1))}function EC(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const h=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,h):c[d]=[o,h]}return c}function Hv(s,o){const d=o.directiveEnd,h=s.data,g=o.attrs,v=[];let E=null,T=null;for(let H=o.directiveStart;H<d;H++){const de=h[H],De=de.inputs,He=null===g||bv(o)?null:TC(De,g);v.push(He),E=EC(De,H,E),T=EC(de.outputs,H,T)}null!==E&&(E.hasOwnProperty("class")&&(o.flags|=16),E.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=E,o.outputs=T}function ms(s,o,c,d,h,g,v,E){const T=ui(o,c);let de,H=o.inputs;!E&&null!=H&&(de=H[d])?(Jd(s,c,de,d,h),ea(o)&&WD(c,o.index)):3&o.type&&(d=function $D(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,o.value||"",d):h,g.setProperty(T,d,h))}function WD(s,o){const c=ki(o,s);16&c[2]||(c[2]|=32)}function Gv(s,o,c,d){let h=!1;if(za()){const g=function qD(s,o,c){const d=s.directiveRegistry;let h=null;if(d)for(let g=0;g<d.length;g++){const v=d[g];Cv(c,v.selectors,!1)&&(h||(h=[]),$l(oi(c,o),s,v.type),us(v)?(KD(s,c),h.unshift(v)):h.push(v))}return h}(s,o,c),v=null===d?null:{"":-1};if(null!==g){h=!0,lt(c,s.data.length,g.length);for(let de=0;de<g.length;de++){const De=g[de];De.providersResolver&&De.providersResolver(De)}let E=!1,T=!1,H=xu(s,o,g.length,null);for(let de=0;de<g.length;de++){const De=g[de];c.mergedAttrs=Gl(c.mergedAttrs,De.hostAttrs),fc(s,c,o,H,De),ek(H,De,v),null!==De.contentQueries&&(c.flags|=8),(null!==De.hostBindings||null!==De.hostAttrs||0!==De.hostVars)&&(c.flags|=128);const He=De.type.prototype;!E&&(He.ngOnChanges||He.ngOnInit||He.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),E=!0),!T&&(He.ngOnChanges||He.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),T=!0),H++}Hv(s,c)}v&&function JP(s,o,c){if(o){const d=s.localNames=[];for(let h=0;h<o.length;h+=2){const g=c[o[h+1]];if(null==g)throw new W(-301,!1);d.push(o[h],g)}}}(c,d,v)}return c.mergedAttrs=Gl(c.mergedAttrs,c.attrs),h}function zv(s,o,c,d,h,g){const v=g.hostBindings;if(v){let E=s.hostBindingOpCodes;null===E&&(E=s.hostBindingOpCodes=[]);const T=~o.index;(function SC(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(E)!=T&&E.push(T),E.push(d,h,v)}}function $v(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function KD(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function ek(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;us(o)&&(c[""]=s)}}function lt(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function fc(s,o,c,d,h){s.data[d]=h;const g=h.factory||(h.factory=js(h.type)),v=new el(g,us(h),Xd);s.blueprint[d]=v,c[d]=v,zv(s,o,0,d,xu(s,c,h.hostVars,mn),h)}function Dm(s,o,c){const d=ui(o,s),h=yC(c),g=s[10],v=Im(s,Vv(s,h,null,c.onPush?32:16,d,o,g,g.createRenderer(d,c),null,null,null));s[o.index]=v}function Da(s,o,c,d,h,g){const v=ui(s,o);!function Wv(s,o,c,d,h,g,v){if(null==g)s.removeAttribute(o,h,c);else{const E=null==v?G(g):v(g,d||"",h);s.setAttribute(o,h,E,c)}}(o[11],v,g,s.value,c,d,h)}function DC(s,o,c,d,h,g){const v=g[o];if(null!==v){const E=d.setInput;for(let T=0;T<v.length;){const H=v[T++],de=v[T++],De=v[T++];null!==E?d.setInput(c,De,H,de):c[de]=De}}}function TC(s,o){let c=null,d=0;for(;d<o.length;){const h=o[d];if(0!==h)if(5!==h){if("number"==typeof h)break;s.hasOwnProperty(h)&&(null===c&&(c=[]),c.push(h,s[h],o[d+1])),d+=2}else d+=2;else d+=4}return c}function Tm(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function IC(s,o){const c=ki(o,s);if(Kr(c)){const d=c[1];48&c[2]?No(d,c,d.template,c[8]):c[5]>0&&Qd(c)}}function Qd(s){for(let d=om(s);null!==d;d=ov(d))for(let h=10;h<d.length;h++){const g=d[h];if(512&g[2]){const v=g[1];No(v,g,v.template,g[8])}else g[5]>0&&Qd(g)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const h=ki(c[d],s);Kr(h)&&h[5]>0&&Qd(h)}}function ZD(s,o){const c=ki(o,s),d=c[1];(function tk(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),zf(d,c,c[8])}function Im(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function Wf(s){for(;s;){s[2]|=32;const o=Tf(s);if(Va(s)&&!o)return s;s=o}return null}function xC(s){!function XD(s){for(let o=0;o<s.components.length;o++){const c=s.components[o],d=Jy(c);if(null!==d){const h=d[1];zD(h,d,h.template,c)}}}(s[8])}function MC(s,o,c){Za(0),o(s,c)}const ik=(()=>Promise.resolve(null))();function QD(s){return s[7]||(s[7]=[])}function JD(s){return s.cleanup||(s.cleanup=[])}function eT(s,o,c){return(null===s||us(s))&&(c=function Ed(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}function pc(s,o){const c=s[9],d=c?c.get(Af,null):null;d&&d.handleError(o)}function Jd(s,o,c,d,h){for(let g=0;g<c.length;){const v=c[g++],E=c[g++],T=o[v],H=s.data[v];null!==H.setInput?H.setInput(T,h,d,E):T[E]=h}}function Bo(s,o,c){let d=c?s.styles:null,h=c?s.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const E=o[v];"number"==typeof E?g=E:1==g?h=he(h,E):2==g&&(d=he(d,E+": "+o[++v]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=h:s.classesWithoutHost=h}function qf(s,o,c,d,h=!1){for(;null!==c;){const g=o[c.index];if(null!==g&&d.push(si(g)),Ji(g))for(let E=10;E<g.length;E++){const T=g[E],H=T[1].firstChild;null!==H&&qf(T[1],T,H,d)}const v=c.type;if(8&v)qf(s,o,c.child,d);else if(32&v){const E=rv(c,o);let T;for(;T=E();)d.push(T)}else if(16&v){const E=gv(o,c);if(Array.isArray(E))d.push(...E);else{const T=Tf(o[16]);qf(T[1],T,E,d,!0)}}c=h?c.projectionNext:c.next}return d}class Kf{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return qf(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Ji(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(yl(o,d),al(c,d))}this._attachedToViewContainer=!1}eo(this._lView[1],this._lView)}onDestroy(o){wC(this._lView[1],this._lView,null,o)}markForCheck(){Wf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function qv(s,o,c){const d=o[10];d.begin&&d.begin();try{No(s,o,s.template,c)}catch(h){throw pc(o,h),h}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new W(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function MP(s,o){Zd(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new W(902,!1);this._appRef=o}}class tT extends Kf{constructor(o){super(o),this._view=o}detectChanges(){xC(this._view)}checkNoChanges(){}get context(){return null}}class Gi extends _e{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=tn(o);return new Yf(c,this.ngModule)}}function io(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class Kv{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,d){const h=this.injector.get(o,Eu,d);return h!==Eu||c===Eu?h:this.parentInjector.get(o,c,d)}}class Yf extends y{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function tC(s){return s.map(eC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return io(this.componentDef.inputs)}get outputs(){return io(this.componentDef.outputs)}create(o,c,d,h){let g=(h=h||this.ngModule)instanceof Ca?h:h?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new Kv(o,g):o,E=v.get(Qt,null);if(null===E)throw new W(407,!1);const T=v.get(ml,null),H=E.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",De=d?function bC(s,o,c){return s.selectRootElement(o,c===me.ShadowDom)}(H,d,this.componentDef.encapsulation):cv(E.createRenderer(null,this.componentDef),de,function xm(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(de)),He=this.componentDef.onPush?288:272,qe=function sT(s,o){return{components:[],scheduler:s||nv,clean:ik,playerHandler:o||null,flags:0}}(),ht=$f(0,null,null,1,0,null,null,null,null,null),At=Vv(null,ht,qe,He,null,null,E,H,T,v,null);let Ft,Bt;Qa(At);try{const ln=function iT(s,o,c,d,h,g){const v=c[1];c[22]=s;const T=hc(v,22,2,"#host",null),H=T.mergedAttrs=o.hostAttrs;null!==H&&(Bo(T,H,!0),null!==s&&(bo(h,s,H),null!==T.classes&&kf(h,s,T.classes),null!==T.styles&&_v(h,s,T.styles)));const de=d.createRenderer(s,o),De=Vv(c,yC(o),null,o.onPush?32:16,c[22],T,d,de,g||null,null,null);return v.firstCreatePass&&($l(oi(T,c),v,o.type),KD(v,T),lt(T,c.length,1)),Im(c,De),c[22]=De}(De,this.componentDef,At,E,H);if(De)if(d)bo(H,De,["ng-version",Ea.full]);else{const{attrs:bt,classes:nn}=function Ev(s){const o=[],c=[];let d=1,h=2;for(;d<s.length;){let g=s[d];if("string"==typeof g)2===h?""!==g&&o.push(g,s[++d]):8===h&&c.push(g);else{if(!to(h))break;h=g}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);bt&&bo(H,De,bt),nn&&nn.length>0&&kf(H,De,nn.join(" "))}if(Bt=ia(ht,22),void 0!==c){const bt=Bt.projection=[];for(let nn=0;nn<this.ngContentSelectors.length;nn++){const Mn=c[nn];bt.push(null!=Mn?Array.from(Mn):null)}}Ft=function rT(s,o,c,d,h){const g=c[1],v=function AC(s,o,c){const d=Jn();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),fc(s,d,o,xu(s,o,1,null),c),Hv(s,d));const h=qs(o,s,d.directiveStart,d);Rr(h,o);const g=ui(d,o);return g&&Rr(g,o),h}(g,c,o);if(d.components.push(v),s[8]=v,null!==h)for(const T of h)T(v,o);if(o.contentQueries){const T=Jn();o.contentQueries(1,v,T.directiveStart)}const E=Jn();return!g.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ts(E.index),zv(c[1],E,0,E.directiveStart,E.directiveEnd,o),$v(o,v)),v}(ln,this.componentDef,At,qe,[ss]),zf(ht,At,null)}finally{iu()}return new PC(this.componentType,Ft,tt(Bt,At),At,Bt)}}class PC extends class $y{}{constructor(o,c,d,h,g){super(),this.location=d,this._rootLView=h,this._tNode=g,this.instance=c,this.hostView=this.changeDetectorRef=new tT(h),this.componentType=o}setInput(o,c){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[o])){const g=this._rootLView;Jd(g[1],g,h,o,c),WD(g,this._tNode.index)}}get injector(){return new ds(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function ss(){const s=Jn();Wh(gt()[1],s)}function Zf(s){let o=function Zv(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let h;if(us(s))h=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new W(903,!1);h=o.\u0275dir}if(h){if(c){d.push(h);const v=s;v.inputs=Xf(s.inputs),v.declaredInputs=Xf(s.declaredInputs),v.outputs=Xf(s.outputs);const E=h.hostBindings;E&&aT(s,E);const T=h.viewQuery,H=h.contentQueries;if(T&&Xv(s,T),H&&oT(s,H),U(s.inputs,h.inputs),U(s.declaredInputs,h.declaredInputs),U(s.outputs,h.outputs),us(h)&&h.data.animation){const de=s.data;de.animation=(de.animation||[]).concat(h.data.animation)}}const g=h.features;if(g)for(let v=0;v<g.length;v++){const E=g[v];E&&E.ngInherit&&E(s),E===Zf&&(c=!1)}}o=Object.getPrototypeOf(o)}!function Mm(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=o+=h.hostVars,h.hostAttrs=Gl(h.hostAttrs,c=Gl(c,h.hostAttrs))}}(d)}function Xf(s){return s===Le?{}:s===we?[]:s}function Xv(s,o){const c=s.viewQuery;s.viewQuery=c?(d,h)=>{o(d,h),c(d,h)}:o}function oT(s,o){const c=s.contentQueries;s.contentQueries=c?(d,h,g)=>{o(d,h,g),c(d,h,g)}:o}function aT(s,o){const c=s.hostBindings;s.hostBindings=c?(d,h)=>{o(d,h),c(d,h)}:o}let gc=null;function mc(){if(!gc){const s=Ie.Symbol;if(s&&s.iterator)gc=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(gc=d)}}}return gc}function eh(s){return!!Jv(s)&&(Array.isArray(s)||!(s instanceof Map)&&mc()in s)}function Jv(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function yr(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function eb(s,o,c,d){const h=gt();return yr(h,la(),o)&&(Dn(),Da(Hn(),h,s,o,c,d)),eb}function OC(s,o,c,d,h,g,v,E){const T=gt(),H=Dn(),de=s+22,De=H.firstCreatePass?function mT(s,o,c,d,h,g,v,E,T){const H=o.consts,de=hc(o,s,4,v||null,qi(H,E));Gv(o,c,de,qi(H,T)),Wh(o,de);const De=de.tViews=$f(2,de,d,h,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,H);return null!==o.queries&&(o.queries.template(o,de),De.queries=o.queries.embeddedTView(de)),de}(de,H,T,o,c,d,h,g,v):H.data[de];Er(De,!1);const He=T[11].createComment("");xf(H,T,He,De),Rr(He,T),Im(T,T[de]=Tm(He,T,He,De)),ta(De)&&Sm(H,T,De),null!=v&&jv(T,De,E)}function FC(s){return As(function Sd(){return jt.lFrame.contextLView}(),22+s)}function ib(s,o,c){const d=gt();return yr(d,la(),o)&&ms(Dn(),Hn(),d,s,o,d[11],c,!1),ib}function rb(s,o,c,d,h){const v=h?"class":"style";Jd(s,c,o.inputs[v],v,d)}function Om(s,o,c,d){const h=gt(),g=Dn(),v=22+s,E=h[11],T=h[v]=cv(E,o,function ou(){return jt.lFrame.currentNamespace}()),H=g.firstCreatePass?function yT(s,o,c,d,h,g,v){const E=o.consts,H=hc(o,s,2,h,qi(E,g));return Gv(o,c,H,qi(E,v)),null!==H.attrs&&Bo(H,H.attrs,!1),null!==H.mergedAttrs&&Bo(H,H.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,H),H}(v,g,h,0,o,c,d):g.data[v];Er(H,!0);const de=H.mergedAttrs;null!==de&&bo(E,T,de);const De=H.classes;null!==De&&kf(E,T,De);const He=H.styles;return null!==He&&_v(E,T,He),64!=(64&H.flags)&&xf(g,h,T,H),0===function Jc(){return jt.lFrame.elementDepthCount}()&&Rr(T,h),function po(){jt.lFrame.elementDepthCount++}(),ta(H)&&(Sm(g,h,H),_C(g,H,h)),null!==d&&jv(h,H),Om}function Ou(){let s=Jn();Wa()?Ds():(s=s.parent,Er(s,!1));const o=s;!function go(){jt.lFrame.elementDepthCount--}();const c=Dn();return c.firstCreatePass&&(Wh(c,s),Jo(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Kh(s){return 0!=(16&s.flags)}(o)&&rb(c,o,gt(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Rg(s){return 0!=(32&s.flags)}(o)&&rb(c,o,gt(),o.stylesWithoutHost,!1),Ou}function Fm(s,o,c,d){return Om(s,o,c,d),Ou(),Fm}function rh(s,o,c){const d=gt(),h=Dn(),g=s+22,v=h.firstCreatePass?function LC(s,o,c,d,h){const g=o.consts,v=qi(g,d),E=hc(o,s,8,"ng-container",v);return null!==v&&Bo(E,v,!0),Gv(o,c,E,qi(g,h)),null!==o.queries&&o.queries.elementStart(o,E),E}(g,h,d,o,c):h.data[g];Er(v,!0);const E=d[g]=d[11].createComment("");return xf(h,d,E,v),Rr(E,d),ta(v)&&(Sm(h,d,v),_C(h,v,d)),null!=c&&jv(d,v),rh}function Lm(){let s=Jn();const o=Dn();return Wa()?Ds():(s=s.parent,Er(s,!1)),o.firstCreatePass&&(Wh(o,s),Jo(s)&&o.queries.elementEnd(s)),Lm}function VC(){return gt()}function Nm(s){return!!s&&"function"==typeof s.then}function sb(s){return!!s&&"function"==typeof s.subscribe}const ob=sb;function Vm(s,o,c,d){const h=gt(),g=Dn(),v=Jn();return BC(g,h,h[11],v,s,o,0,d),Vm}function Bm(s,o){const c=Jn(),d=gt(),h=Dn();return BC(h,d,eT(Ya(h.data),c,d),c,s,o),Bm}function BC(s,o,c,d,h,g,v,E){const T=ta(d),de=s.firstCreatePass&&JD(s),De=o[8],He=QD(o);let qe=!0;if(3&d.type||E){const Ft=ui(d,o),Bt=E?E(Ft):Ft,ln=He.length,bt=E?Mn=>E(si(Mn[d.index])):d.index;let nn=null;if(!E&&T&&(nn=function ok(s,o,c,d){const h=s.cleanup;if(null!=h)for(let g=0;g<h.length-1;g+=2){const v=h[g];if(v===c&&h[g+1]===d){const E=o[7],T=h[g+2];return E.length>T?E[T]:null}"string"==typeof v&&(g+=2)}return null}(s,o,h,d.index)),null!==nn)(nn.__ngLastListenerFn__||nn).__ngNextListenerFn__=g,nn.__ngLastListenerFn__=g,qe=!1;else{g=bT(d,o,De,g,!1);const Mn=c.listen(Bt,h,g);He.push(g,Mn),de&&de.push(h,bt,ln,ln+1)}}else g=bT(d,o,De,g,!1);const ht=d.outputs;let At;if(qe&&null!==ht&&(At=ht[h])){const Ft=At.length;if(Ft)for(let Bt=0;Bt<Ft;Bt+=2){const ii=o[At[Bt]][At[Bt+1]].subscribe(g),ud=He.length;He.push(g,ii),de&&de.push(h,d.index,ud,-(ud+1))}}}function vT(s,o,c,d){try{return!1!==c(d)}catch(h){return pc(s,h),!1}}function bT(s,o,c,d,h){return function g(v){if(v===Function)return d;Wf(2&s.flags?ki(s.index,o):o);let T=vT(o,0,d,v),H=g.__ngNextListenerFn__;for(;H;)T=vT(o,0,H,v)&&T,H=H.__ngNextListenerFn__;return h&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function Um(s=1){return function jl(s){return(jt.lFrame.contextLView=function Hl(s,o){for(;s>0;)o=o[15],s--;return o}(s,jt.lFrame.contextLView))[8]}(s)}function ak(s,o){let c=null;const d=function rs(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let h=0;h<o.length;h++){const g=o[h];if("*"!==g){if(null===d?Cv(s,g,!0):PP(d,g))return h}else c=h}return c}function UC(s){const o=gt()[16][6];if(!o.projection){const d=o.projection=fs(s?s.length:1,null),h=d.slice();let g=o.child;for(;null!==g;){const v=s?ak(g,s):0;null!==v&&(h[v]?h[v].projectionNext=g:d[v]=g,h[v]=g),g=g.next}}}function ab(s,o=0,c){const d=gt(),h=Dn(),g=hc(h,22+s,16,null,c||null);null===g.projection&&(g.projection=o),Ds(),64!=(64&g.flags)&&function Kw(s,o,c){mv(o[11],0,o,c,zw(s,c,o),If(c.parent||o[6],c,o))}(h,d,g)}function zC(s,o,c,d,h){const g=s[c+1],v=null===o;let E=d?Sa(g):Lo(g),T=!1;for(;0!==E&&(!1===T||v);){const de=s[E+1];dk(s[E],o)&&(T=!0,s[E+1]=d?Tv(de):Cm(de)),E=d?Sa(de):Lo(de)}T&&(s[c+1]=d?Cm(g):Tv(g))}function dk(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&xs(s,o)>=0}function Lu(s,o,c){return Ho(s,o,c,!1),Lu}function tp(s,o){return Ho(s,o,null,!0),tp}function Ho(s,o,c,d){const h=gt(),g=Dn(),v=function Yr(s){const o=jt.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}(2);g.firstUpdatePass&&function Wm(s,o,c,d){const h=s.data;if(null===h[c+1]){const g=h[yi()],v=function Ht(s,o){return o>=s.expandoStartIndex}(s,c);(function ZC(s,o){return 0!=(s.flags&(o?16:32))})(g,d)&&null===o&&!v&&(o=!1),o=function En(s,o,c,d){const h=Ya(s);let g=d?o.residualClasses:o.residualStyles;if(null===h)0===(d?o.classBindings:o.styleBindings)&&(c=Nu(c=hb(null,s,o,c,d),o.attrs,d),g=null);else{const v=o.directiveStylingLast;if(-1===v||s[v]!==h)if(c=hb(h,s,o,c,d),null===g){let T=function qm(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==Lo(d))return s[Sa(d)]}(s,o,d);void 0!==T&&Array.isArray(T)&&(T=hb(null,s,o,T[1],d),T=Nu(T,o.attrs,d),function db(s,o,c,d){s[Sa(c?o.classBindings:o.styleBindings)]=d}(s,o,d,T))}else g=function np(s,o,c){let d;const h=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<h;g++)d=Nu(d,s[g].hostAttrs,c);return Nu(d,o.attrs,c)}(s,o,d)}return void 0!==g&&(d?o.residualClasses=g:o.residualStyles=g),c}(h,g,o,d),function ck(s,o,c,d,h,g){let v=g?o.classBindings:o.styleBindings,E=Sa(v),T=Lo(v);s[d]=c;let de,H=!1;if(Array.isArray(c)){const De=c;de=De[1],(null===de||xs(De,de)>0)&&(H=!0)}else de=c;if(h)if(0!==T){const He=Sa(s[E+1]);s[d+1]=Bf(He,E),0!==He&&(s[He+1]=Dv(s[He+1],d)),s[E+1]=function kD(s,o){return 131071&s|o<<17}(s[E+1],d)}else s[d+1]=Bf(E,0),0!==E&&(s[E+1]=Dv(s[E+1],d)),E=d;else s[d+1]=Bf(T,0),0===E?E=d:s[T+1]=Dv(s[T+1],d),T=d;H&&(s[d+1]=Cm(s[d+1])),zC(s,de,d,!0),zC(s,de,d,!1),function uk(s,o,c,d,h){const g=h?s.residualClasses:s.residualStyles;null!=g&&"string"==typeof o&&xs(g,o)>=0&&(c[d+1]=Tv(c[d+1]))}(o,de,s,d,g),v=Bf(E,T),g?o.classBindings=v:o.styleBindings=v}(h,g,o,c,v,d)}}(g,s,v,d),o!==mn&&yr(h,v,o)&&function or(s,o,c,d,h,g,v,E){if(!(3&o.type))return;const T=s.data,H=T[E+1];zi(function RD(s){return 1==(1&s)}(H)?ip(T,o,c,h,Lo(H),v):void 0)||(zi(g)||function wm(s){return 2==(2&s)}(H)&&(g=ip(T,null,c,h,E,v)),function Yw(s,o,c,d,h){if(o)h?s.addClass(c,d):s.removeClass(c,d);else{let g=-1===d.indexOf("-")?void 0:Oo.DashCase;null==h?s.removeStyle(c,d,g):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),g|=Oo.Important),s.setStyle(c,d,h,g))}}(d,v,Ha(yi(),c),h,g))}(g,g.data[yi()],h,h[11],s,h[v+1]=function bc(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ce(Po(s)))),s}(o,c),d,v)}function hb(s,o,c,d,h){let g=null;const v=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<v&&(g=o[E],d=Nu(d,g.hostAttrs,h),g!==s);)E++;return null!==s&&(c.directiveStylingLast=E),d}function Nu(s,o,c){const d=c?1:2;let h=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ui(s,v,!!c||o[++g]))}return void 0===s?null:s}function ip(s,o,c,d,h,g){const v=null===o;let E;for(;h>0;){const T=s[h],H=Array.isArray(T),de=H?T[1]:T,De=null===de;let He=c[h+1];He===mn&&(He=De?we:void 0);let qe=De?Xl(He,d):de===d?He:void 0;if(H&&!zi(qe)&&(qe=Xl(T,d)),zi(qe)&&(E=qe,v))return E;const ht=s[h+1];h=v?Sa(ht):Lo(ht)}if(null!==o){let T=g?o.residualClasses:o.residualStyles;null!=T&&(E=Xl(T,d))}return E}function zi(s){return void 0!==s}function XC(s,o=""){const c=gt(),d=Dn(),h=s+22,g=d.firstCreatePass?hc(d,h,1,o,null):d.data[h],v=c[h]=function am(s,o){return s.createText(o)}(c[11],o);xf(d,c,v,g),Er(g,!1)}function Km(s){return rp("",s,""),Km}function rp(s,o,c){const d=gt(),h=function Pu(s,o,c,d){return yr(s,la(),c)?o+G(c)+d:mn}(d,s,o,c);return h!==mn&&function wn(s,o,c){const d=Ha(o,s);!function jw(s,o,c){s.setValue(o,c)}(s[11],d,c)}(d,yi(),h),rp}function wb(s,o,c){const d=gt();return yr(d,la(),o)&&ms(Dn(),Hn(),d,s,o,d[11],c,!0),wb}function Vu(s,o,c){const d=gt();if(yr(d,la(),o)){const g=Dn(),v=Hn();ms(g,v,d,s,o,eT(Ya(g.data),v,d),c,!0)}return Vu}const Bu=void 0;var e_=["en",[["a","p"],["AM","PM"],Bu],[["AM","PM"],Bu,Bu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Bu,"{1} 'at' {0}",Bu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kT(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Cl={};function op(s){const o=function fE(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=Cb(o);if(c)return c;const d=o.split("-")[0];if(c=Cb(d),c)return c;if("en"===d)return e_;throw new W(701,!1)}function t_(s){return op(s)[cn.PluralCase]}function Cb(s){return s in Cl||(Cl[s]=Ie.ng&&Ie.ng.common&&Ie.ng.common.locales&&Ie.ng.common.locales[s]),Cl[s]}var cn=(()=>((cn=cn||{})[cn.LocaleId=0]="LocaleId",cn[cn.DayPeriodsFormat=1]="DayPeriodsFormat",cn[cn.DayPeriodsStandalone=2]="DayPeriodsStandalone",cn[cn.DaysFormat=3]="DaysFormat",cn[cn.DaysStandalone=4]="DaysStandalone",cn[cn.MonthsFormat=5]="MonthsFormat",cn[cn.MonthsStandalone=6]="MonthsStandalone",cn[cn.Eras=7]="Eras",cn[cn.FirstDayOfWeek=8]="FirstDayOfWeek",cn[cn.WeekendRange=9]="WeekendRange",cn[cn.DateFormat=10]="DateFormat",cn[cn.TimeFormat=11]="TimeFormat",cn[cn.DateTimeFormat=12]="DateTimeFormat",cn[cn.NumberSymbols=13]="NumberSymbols",cn[cn.NumberFormats=14]="NumberFormats",cn[cn.CurrencyCode=15]="CurrencyCode",cn[cn.CurrencySymbol=16]="CurrencySymbol",cn[cn.CurrencyName=17]="CurrencyName",cn[cn.Currencies=18]="Currencies",cn[cn.Directionality=19]="Directionality",cn[cn.PluralCase=20]="PluralCase",cn[cn.ExtraData=21]="ExtraData",cn))();const Uu="en-US";let ar=Uu;function Hb(s,o,c,d,h){if(s=se(s),Array.isArray(s))for(let g=0;g<s.length;g++)Hb(s[g],o,c,d,h);else{const g=Dn(),v=gt();let E=Hi(s)?s:se(s.provide),T=bf(s);const H=Jn(),de=1048575&H.providerIndexes,De=H.directiveStart,He=H.providerIndexes>>20;if(Hi(s)||!s.multi){const qe=new el(T,h,Xd),ht=Gb(E,o,h?de:de+He,De);-1===ht?($l(oi(H,v),g,E),g_(g,s,o.length),o.push(E),H.directiveStart++,H.directiveEnd++,h&&(H.providerIndexes+=1048576),c.push(qe),v.push(qe)):(c[ht]=qe,v[ht]=qe)}else{const qe=Gb(E,o,de+He,De),ht=Gb(E,o,de,de+He),At=qe>=0&&c[qe],Ft=ht>=0&&c[ht];if(h&&!Ft||!h&&!At){$l(oi(H,v),g,E);const Bt=function wc(s,o,c,d,h){const g=new el(s,c,Xd);return g.multi=[],g.index=o,g.componentProviders=0,PE(g,h,d&&!c),g}(h?$T:zT,c.length,h,d,T);!h&&Ft&&(c[ht].providerFactory=Bt),g_(g,s,o.length,0),o.push(E),H.directiveStart++,H.directiveEnd++,h&&(H.providerIndexes+=1048576),c.push(Bt),v.push(Bt)}else g_(g,s,qe>-1?qe:ht,PE(c[h?ht:qe],T,!h&&d));!h&&d&&Ft&&c[ht].componentProviders++}}}function g_(s,o,c,d){const h=Hi(o),g=function Xg(s){return!!s.useClass}(o);if(h||g){const T=(g?se(o.useClass):o).prototype.ngOnDestroy;if(T){const H=s.destroyHooks||(s.destroyHooks=[]);if(!h&&o.multi){const de=H.indexOf(c);-1===de?H.push(c,[d,T]):H[de+1].push(d,T)}else H.push(c,T)}}}function PE(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function Gb(s,o,c,d){for(let h=c;h<d;h++)if(o[h]===s)return h;return-1}function zT(s,o,c,d){return Zu(this.multi,[])}function $T(s,o,c,d){const h=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=qs(c,c[1],this.providerFactory.index,d);g=E.slice(0,v),Zu(h,g);for(let T=v;T<E.length;T++)g.push(E[T])}else g=[],Zu(h,g);return g}function Zu(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function zb(s,o=[]){return c=>{c.providersResolver=(d,h)=>function yp(s,o,c){const d=Dn();if(d.firstCreatePass){const h=us(s);Hb(c,d.data,d.blueprint,h,!0),Hb(o,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,o)}}class Xu{}class $b{}function uh(s,o){return new kE(s,o??null)}class kE extends Xu{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Gi(this);const d=On(o);this._bootstrapComponents=cc(d.bootstrap),this._r3Injector=rC(o,c,[{provide:Xu,useValue:this},{provide:_e,useValue:this.componentFactoryResolver}],ce(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class m_ extends $b{constructor(o){super(),this.moduleType=o}create(o){return new kE(this.moduleType,o)}}class WT extends Xu{constructor(o,c,d){super(),this.componentFactoryResolver=new Gi(this),this.instance=null;const h=new Wd([...o,{provide:Xu,useValue:this},{provide:_e,useValue:this.componentFactoryResolver}],c||Zi(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function __(s,o,c=null){return new WT(s,o,c).injector}function w_(s,o,c,d,h,g){const v=o+c;return yr(s,v,h)?function Uo(s,o,c){return s[o]=c}(s,v+1,g?d.call(g,h):d(h)):function Ap(s,o){const c=s[o];return c===mn?void 0:c}(s,v+1)}function Xb(s,o){const c=Dn();let d;const h=s+22;c.firstCreatePass?(d=function Qb(s,o){if(o)for(let c=o.length-1;c>=0;c--){const d=o[c];if(s===d.name)return d}}(o,c.pipeRegistry),c.data[h]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(h,d.onDestroy)):d=c.data[h];const g=d.factory||(d.factory=js(d.type)),v=Rt(Xd);try{const E=Sr(!1),T=g();return Sr(E),function _T(s,o,c,d){c>=s.data.length&&(s.data[c]=null,s.blueprint[c]=null),o[c]=d}(c,gt(),h,T),T}finally{Rt(v)}}function HE(s,o,c){const d=s+22,h=gt(),g=As(h,d);return function Qu(s,o){return s[1].data[o].pure}(h,d)?w_(h,function Ni(){const s=jt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}(),o,g.transform,c,g):g.transform(c)}function E_(s){return o=>{setTimeout(s,void 0,o)}}const ks=class e0 extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){let h=o,g=c||(()=>null),v=d;if(o&&"object"==typeof o){const T=o;h=T.next?.bind(T),g=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(g=E_(g),h&&(h=E_(h)),v&&(v=E_(v)));const E=super.subscribe({next:h,error:g,complete:v});return o instanceof te.w0&&o.add(E),E}};function WE(){return this._results[mc()]()}class Tp{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=mc(),d=Tp.prototype;d[c]||(d[c]=WE)}get changes(){return this._changes||(this._changes=new ks)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const h=Ii(o);(this._changesDetected=!function ga(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],g=o[d];if(c&&(h=c(h),g=c(g)),g!==h)return!1}return!0}(d._results,h,c))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Go=(()=>{class s{}return s.__NG_ELEMENT_ID__=YE,s})();const qE=Go,KE=class extends qE{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o,c){const d=this._declarationTContainer.tViews,h=Vv(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,c||null);h[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(h[19]=v.createEmbeddedView(d)),zf(d,h,o),new Kf(h)}};function YE(){return Ip(Jn(),gt())}function Ip(s,o){return 4&s.type?new KE(o,s,tt(s,o)):null}let Ju=(()=>{class s{}return s.__NG_ELEMENT_ID__=Rs,s})();function Rs(){return XE(Jn(),gt())}const ZE=Ju,t0=class extends ZE{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return tt(this._hostTNode,this._hostLView)}get injector(){return new ds(this._hostTNode,this._hostLView)}get parentInjector(){const o=zl(this._hostTNode,this._hostLView);if(Xh(o)){const c=Xr(o,this._hostLView),d=tl(o);return new ds(c[1].data[d+8],c)}return new ds(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=ed(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){let h,g;"number"==typeof d?h=d:null!=d&&(h=d.index,g=d.injector);const v=o.createEmbeddedView(c||{},g);return this.insert(v,h),v}createComponent(o,c,d,h,g){const v=o&&!function mr(s){return"function"==typeof s}(o);let E;if(v)E=c;else{const De=c||{};E=De.index,d=De.injector,h=De.projectableNodes,g=De.environmentInjector||De.ngModuleRef}const T=v?o:new Yf(tn(o)),H=d||this.parentInjector;if(!g&&null==T.ngModule){const He=(v?H:this.parentInjector).get(Ca,null);He&&(g=He)}const de=T.create(H,h,void 0,g);return this.insert(de.hostView,E),de}insert(o,c){const d=o._lView,h=d[1];if(function Ad(s){return Ji(s[3])}(d)){const de=this.indexOf(o);if(-1!==de)this.detach(de);else{const De=d[3],He=new t0(De,De[6],De[3]);He.detach(He.indexOf(o))}}const g=this._adjustIndex(c),v=this._lContainer;!function _D(s,o,c,d){const h=10+d,g=c.length;d>0&&(c[h-1][4]=o),d<g-10?(o[4]=c[h],Yl(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const v=o[17];null!==v&&c!==v&&function Hw(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(v,o);const E=o[19];null!==E&&E.insertView(s),o[2]|=64}(h,d,v,g);const E=cm(g,v),T=d[11],H=Fo(T,v[7]);return null!==H&&function gD(s,o,c,d,h,g){d[0]=h,d[6]=o,Zd(s,d,c,1,h,g)}(h,v[6],T,d,H,E),o.attachToViewContainerRef(),Yl(n0(v),g,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=ed(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=yl(this._lContainer,c);d&&(al(n0(this._lContainer),c),eo(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=yl(this._lContainer,c);return d&&null!=al(n0(this._lContainer),c)?new Kf(d):null}_adjustIndex(o,c=0){return o??this.length+c}};function ed(s){return s[8]}function n0(s){return s[8]||(s[8]=[])}function XE(s,o){let c;const d=o[s.index];if(Ji(d))c=d;else{let h;if(8&s.type)h=si(d);else{const g=o[11];h=g.createComment("");const v=ui(s,o);Aa(g,Fo(g,v),h,function vD(s,o){return s.nextSibling(o)}(g,v),!1)}o[s.index]=c=Tm(d,o,h,s),Im(o,c)}return new t0(c,s,o)}class A_{constructor(o){this.queryList=o,this.matches=null}clone(){return new A_(this.queryList)}setDirty(){this.queryList.setDirty()}}class s0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,h=[];for(let g=0;g<d;g++){const v=c.getByIndex(g);h.push(this.queries[v.indexInDeclarationView].clone())}return new s0(h)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==vt(o,c).matches&&this.queries[c].setDirty()}}class xp{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class o0{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const h=null!==c?c.length:0,g=this.getByIndex(d).embeddedTView(o,h);g&&(g.indexInDeclarationView=d,null!==c?c.push(g):c=[g])}return null!==c?new o0(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class S_{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new S_(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const g=d[h];this.matchTNodeWithReadOption(o,c,lr(c,g)),this.matchTNodeWithReadOption(o,c,Ws(c,o,g,!1,!1))}else d===Go?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,Ws(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===It||h===Ju||h===Go&&4&c.type)this.addMatch(c.index,-2);else{const g=Ws(c,o,h,!1,!1);null!==g&&this.addMatch(c.index,g)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function lr(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function Cc(s,o,c,d){return-1===c?function hh(s,o){return 11&s.type?tt(s,o):4&s.type?Ip(s,o):null}(o,s):-2===c?function a0(s,o,c){return c===It?tt(o,s):c===Go?Ip(o,s):c===Ju?XE(o,s):void 0}(s,o,d):qs(s,s[1],c,o)}function QE(s,o,c,d){const h=o[19].queries[d];if(null===h.matches){const g=s.data,v=c.matches,E=[];for(let T=0;T<v.length;T+=2){const H=v[T];E.push(H<0?null:Cc(o,g[H],v[T+1],c.metadata.read))}h.matches=E}return h.matches}function Et(s,o,c,d){const h=s.queries.getByIndex(c),g=h.matches;if(null!==g){const v=QE(s,o,h,c);for(let E=0;E<g.length;E+=2){const T=g[E];if(T>0)d.push(v[E/2]);else{const H=g[E+1],de=o[-T];for(let De=10;De<de.length;De++){const He=de[De];He[17]===He[3]&&Et(He[1],He,H,d)}if(null!==de[9]){const De=de[9];for(let He=0;He<De.length;He++){const qe=De[He];Et(qe[1],qe,H,d)}}}}}return d}function Mi(s){const o=gt(),c=Dn(),d=Nl();Za(d+1);const h=vt(c,d);if(s.dirty&&Ss(o)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const g=h.crossesNgTemplate?Et(c,o,d,[]):QE(c,o,h,d);s.reset(g,Ut),s.notifyOnChanges()}return!0}return!1}function Ec(s,o,c){const d=Dn();d.firstCreatePass&&(Lt(d,new xp(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),JE(d,gt(),o)}function D_(s,o,c,d){const h=Dn();if(h.firstCreatePass){const g=Jn();Lt(h,new xp(o,c,d),g.index),function st(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(h,s),2==(2&c)&&(h.staticContentQueries=!0)}JE(h,gt(),c)}function Gt(){return function pn(s,o){return s[19].queries[o].queryList}(gt(),Nl())}function JE(s,o,c){const d=new Tp(4==(4&c));wC(s,o,d,d.destroy),null===o[19]&&(o[19]=new s0),o[19].queries.push(new A_(d))}function Lt(s,o,c){null===s.queries&&(s.queries=new o0),s.queries.track(new S_(o,c))}function vt(s,o){return s.queries.getByIndex(o)}function an(s){const o=tn(s)||Sn(s)||In(s);return null!==o&&o.standalone}function P_(...s){}const Ai=new xn("Application Initializer");let Ia=(()=>{class s{constructor(c){this.appInits=c,this.resolve=P_,this.reject=P_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const g=this.appInits[h]();if(Nm(g))c.push(g);else if(ob(g)){const v=new Promise((E,T)=>{g.subscribe({complete:E,error:T})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(h=>{this.reject(h)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(ti(Ai,8))},s.\u0275prov=X({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const k_=new xn("AppId",{providedIn:"root",factory:function f0(){return`${p0()}${p0()}${p0()}`}});function p0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const xa=new xn("Platform Initializer"),Fp=new xn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_h=new xn("appBootstrapListener"),Ic=new xn("AnimationModuleType");let O_=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=X({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const Os=new xn("LocaleId",{providedIn:"root",factory:()=>Jl(Os,at.Optional|at.SkipSelf)||function rd(){return typeof $localize<"u"&&$localize.locale||Uu}()}),Lp=new xn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class g0{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let od=(()=>{class s{compileModuleSync(c){return new m_(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),g=cc(On(c).declarations).reduce((v,E)=>{const T=tn(E);return T&&v.push(new Yf(T)),v},[]);return new g0(d,g)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=X({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const uI=(()=>Promise.resolve(0))();function y0(s){typeof Zone>"u"?uI.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class _s{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ks(!1),this.onMicrotaskEmpty=new ks(!1),this.onStable=new ks(!1),this.onError=new ks(!1),typeof Zone>"u")throw new W(908,!1);Zone.assertZonePatched();const h=this;if(h._nesting=0,h._outer=h._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;h._inner=h._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&c,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function dA(){let s=Ie.requestAnimationFrame,o=Ie.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function dI(s){const o=()=>{!function ni(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Ie,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,V_(s),s.isCheckStableRunning=!0,N_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),V_(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,h,g,v,E)=>{try{return xc(s),c.invokeTask(h,g,v,E)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||s.shouldCoalesceRunChangeDetection)&&o(),hA(s)}},onInvoke:(c,d,h,g,v,E,T)=>{try{return xc(s),c.invoke(h,g,v,E,T)}finally{s.shouldCoalesceRunChangeDetection&&o(),hA(s)}},onHasTask:(c,d,h,g)=>{c.hasTask(h,g),d===h&&("microTask"==g.change?(s._hasPendingMicrotasks=g.microTask,V_(s),N_(s)):"macroTask"==g.change&&(s.hasPendingMacrotasks=g.macroTask))},onHandleError:(c,d,h,g)=>(c.handleError(h,g),s.runOutsideAngular(()=>s.onError.emit(g)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!_s.isInAngularZone())throw new W(909,!1)}static assertNotInAngularZone(){if(_s.isInAngularZone())throw new W(909,!1)}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,h){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+h,o,wr,P_,P_);try{return g.runTask(v,c,d)}finally{g.cancelTask(v)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const wr={};function N_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function V_(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function xc(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function hA(s){s._nesting--,N_(s)}class Bp{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ks,this.onMicrotaskEmpty=new ks,this.onStable=new ks,this.onError=new ks}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,h){return o.apply(c,d)}}const Up=new xn(""),jp=new xn("");let b0,fA=(()=>{class s{constructor(c,d,h){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,b0||(function Cr(s){b0=s}(h),h.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{_s.assertNotInAngularZone(),y0(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())y0(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,h){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:g,updateCb:h})}whenStable(c,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,h){return[]}}return s.\u0275fac=function(c){return new(c||s)(ti(_s),ti(v0),ti(jp))},s.\u0275prov=X({token:s,factory:s.\u0275fac}),s})(),v0=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return b0?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=X({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Mc=null;const pA=new xn("AllowMultipleToken"),B_=new xn("PlatformDestroyListeners");class Pc{constructor(o,c){this.name=o,this.token=c}}function Ma(s,o,c=[]){const d=`Platform: ${o}`,h=new xn(d);return(g=[])=>{let v=Hp();if(!v||v.injector.get(pA,!1)){const E=[...c,...g,{provide:h,useValue:!0}];s?s(E):function yh(s){if(Mc&&!Mc.get(pA,!1))throw new W(400,!1);Mc=s;const o=s.get(U_);(function w0(s){const o=s.get(xa,null);o&&o.forEach(c=>c())})(s)}(function ad(s=[],o){return Su.create({name:o,providers:[{provide:vf,useValue:"platform"},{provide:B_,useValue:new Set([()=>Mc=null])},...s]})}(E,d))}return function gA(s){const o=Hp();if(!o)throw new W(401,!1);return o}()}}function Hp(){return Mc?.get(U_)??null}let U_=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const h=function vh(s,o){let c;return c="noop"===s?new Bp:("zone.js"===s?void 0:s)||new _s(o),c}(d?.ngZone,function j_(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),g=[{provide:_s,useValue:h}];return h.run(()=>{const v=Su.create({providers:g,parent:this.injector,name:c.moduleType.name}),E=c.create(v),T=E.injector.get(Af,null);if(!T)throw new W(402,!1);return h.runOutsideAngular(()=>{const H=h.onError.subscribe({next:de=>{T.handleError(de)}});E.onDestroy(()=>{zp(this._modules,E),H.unsubscribe()})}),function as(s,o,c){try{const d=c();return Nm(d)?d.catch(h=>{throw o.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(T,h,()=>{const H=E.injector.get(Ia);return H.runInitializers(),H.donePromise.then(()=>(function ap(s){ve(s,"Expected localeId to be defined"),"string"==typeof s&&(ar=s.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Os,Uu)||Uu),this._moduleDoBootstrap(E),E))})})}bootstrapModule(c,d=[]){const h=Gp({},d);return function hI(s,o,c){const d=new m_(c);return Promise.resolve(d)}(0,0,c).then(g=>this.bootstrapModuleFactory(g,h))}_moduleDoBootstrap(c){const d=c.injector.get(kc);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!c.instance.ngDoBootstrap)throw new W(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new W(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(B_,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(ti(Su))},s.\u0275prov=X({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Gp(s,o){return Array.isArray(o)?o.reduce(Gp,s):{...s,...o}}let kc=(()=>{class s{constructor(c,d,h){this._zone=c,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new O.y(E=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{_s.assertNotInAngularZone(),y0(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{_s.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{T.unsubscribe(),H.unsubscribe()}});this.isStable=(0,pe.T)(g,v.pipe((0,ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const h=c instanceof y;if(!this._injector.get(Ia).done)throw!h&&an(c),new W(405,false);let v;v=h?c:this._injector.get(_e).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const E=function fI(s){return s.isBoundToModule}(v)?void 0:this._injector.get(Xu),H=v.create(Su.NULL,[],d||v.selector,E),de=H.location.nativeElement,De=H.injector.get(Up,null);return De?.registerApplication(de),H.onDestroy(()=>{this.detachView(H.hostView),zp(this.components,H),De?.unregisterApplication(de)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new W(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;zp(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(_h,[]).concat(this._bootstrapListeners).forEach(h=>h(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>zp(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new W(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(ti(_s),ti(Ca),ti(Af))},s.\u0275prov=X({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function zp(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let E0=!0,A0=!1;function _I(){return A0=!0,E0}function mA(){if(A0)throw new Error("Cannot enable prod mode after platform setup.");E0=!1}let bI=(()=>{class s{}return s.__NG_ELEMENT_ID__=wI,s})();function wI(s){return function _A(s,o,c){if(ea(s)&&!c){const d=ki(s.index,o);return new Kf(d,d)}return 47&s.type?new Kf(o[16],o):null}(Jn(),gt(),16==(16&s))}class D0{constructor(){}supports(o){return eh(o)}create(o){return new Sh(o)}}const wA=(s,o)=>o;class Sh{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||wA}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,h=0,g=null;for(;c||d;){const v=!d||c&&c.currentIndex<Rn(d,h,g)?c:d,E=Rn(v,h,g),T=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)h++;else{g||(g=[]);const H=E-h,de=T-h;if(H!=de){for(let He=0;He<H;He++){const qe=He<g.length?g[He]:g[He]=0,ht=qe+He;de<=ht&&ht<H&&(g[He]=qe+1)}g[v.previousIndex]=de-H}}E!==T&&o(v,E,T)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!eh(o))throw new W(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let h,g,v,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let E=0;E<this.length;E++)g=o[E],v=this._trackByFn(E,g),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,g,v,E)),Object.is(c.item,g)||this._addIdentityChange(c,g)):(c=this._mismatch(c,g,v,E),d=!0),c=c._next}else h=0,function hT(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[mc()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,E=>{v=this._trackByFn(h,E),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,E,v,h)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,v,h),d=!0),c=c._next,h++}),this.length=h;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,h){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,g,h)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,g,h)):o=this._addAfter(new T0(c,d),g,h),o}_verifyReinsertion(o,c,d,h){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?o=this._reinsertAfter(g,o._prev,h):o.currentIndex!=h&&(o.currentIndex=h,this._addToMoves(o,h)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const h=o._prevRemoved,g=o._nextRemoved;return null===h?this._removalsHead=g:h._nextRemoved=g,null===g?this._removalsTail=h:g._prevRemoved=h,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const h=null===c?this._itHead:c._next;return o._next=h,o._prev=c,null===h?this._itTail=o:h._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new Oi),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Oi),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class T0{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class DI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Oi{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new DI,this.map.set(c,d)),d.add(o)}get(o,c){const h=this.map.get(o);return h?h.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Rn(s,o,c){const d=s.previousIndex;if(null===d)return d;let h=0;return c&&d<c.length&&(h=c[d]),d+o+h}class I0{constructor(){}supports(o){return o instanceof Map||Jv(o)}create(){return new CA}}class CA{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||Jv(o)))throw new W(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,h)=>{if(c&&c.key===h)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const g=this._getOrCreateRecordForKey(h,d);c=this._insertBeforeOrAppend(c,g)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const h=this._records.get(o);this._maybeAddToChanges(h,c);const g=h._prev,v=h._next;return g&&(g._next=v),v&&(v._prev=g),h._next=null,h._prev=null,h}const d=new Oc(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class Oc{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function EA(){return new Ur([new D0])}let Ur=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||EA()),deps:[[s,new Yt,new pt]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(null!=d)return d;throw new W(901,!1)}}return s.\u0275prov=X({token:s,providedIn:"root",factory:EA}),s})();function Dh(){return new z_([new I0])}let z_=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const h=d.factories.slice();c=c.concat(h)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||Dh()),deps:[[s,new Yt,new pt]]}}find(c){const d=this.factories.find(h=>h.supports(c));if(d)return d;throw new W(901,!1)}}return s.\u0275prov=X({token:s,providedIn:"root",factory:Dh}),s})();const II=Ma(null,"core",[]);let Tn=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(ti(kc))},s.\u0275mod=Ct({type:s}),s.\u0275inj=B({}),s})();function xI(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(xe,I,R)=>{"use strict";R.d(I,{Z:()=>W});var l=R(2090),te=R(4859),O=R(9681),pe=R(1877);class ie{constructor(G,Y){this._delegate=G,this.firebase=Y,(0,O._addComponent)(G,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=G.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(G){this._delegate.automaticDataCollectionEnabled=G}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(G=>{this._delegate.checkDestroyed(),G()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(G,Y=O._DEFAULT_ENTRY_NAME){var A;this._delegate.checkDestroyed();const S=this._delegate.container.getProvider(G);return!S.isInitialized()&&"EXPLICIT"===(null===(A=S.getComponent())||void 0===A?void 0:A.instantiationMode)&&S.initialize(),S.getImmediate({identifier:Y})}_removeServiceInstance(G,Y=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(G).clearInstance(Y)}_addComponent(G){(0,O._addComponent)(this._delegate,G)}_addOrOverwriteComponent(G){(0,O._addOrOverwriteComponent)(this._delegate,G)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const U=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function he(){const fe=function ce(fe){const G={},Y={__esModule:!0,initializeApp:function F(j,D={}){const oe=O.initializeApp(j,D);if((0,l.r3)(G,oe.name))return G[oe.name];const $=new fe(oe,Y);return G[oe.name]=$,$},app:S,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function N(j){const D=j.name,oe=D.replace("-compat","");if(O._registerComponent(j)&&"PUBLIC"===j.type){const $=(le=S())=>{if("function"!=typeof le[oe])throw U.create("invalid-app-argument",{appName:D});return le[oe]()};void 0!==j.serviceProps&&(0,l.ZB)($,j.serviceProps),Y[oe]=$,fe.prototype[oe]=function(...le){return this._getService.bind(this,D).apply(this,j.multipleInstances?le:[])}}return"PUBLIC"===j.type?Y[oe]:null},removeApp:function A(j){delete G[j]},useAsService:function J(j,D){return"serverAuth"===D?null:D},modularAPIs:O}};function S(j){if(!(0,l.r3)(G,j=j||O._DEFAULT_ENTRY_NAME))throw U.create("no-app",{appName:j});return G[j]}return Y.default=Y,Object.defineProperty(Y,"apps",{get:function Q(){return Object.keys(G).map(j=>G[j])}}),S.App=fe,Y}(ie);return fe.INTERNAL=Object.assign(Object.assign({},fe.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function G(Y){(0,l.ZB)(fe,Y)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),fe}(),K=new pe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const fe=self.firebase.SDK_VERSION;fe&&fe.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const W=ee;!function ae(fe){(0,O.registerVersion)("@firebase/app-compat","0.1.31",fe)}()},9681:(xe,I,R)=>{"use strict";R.r(I),R.d(I,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Ke,_DEFAULT_ENTRY_NAME:()=>ve,_addComponent:()=>L,_addOrOverwriteComponent:()=>X,_apps:()=>b,_clearComponents:()=>je,_components:()=>M,_getProvider:()=>B,_registerComponent:()=>ne,_removeServiceInstance:()=>be,deleteApp:()=>at,getApp:()=>mt,getApps:()=>Dt,initializeApp:()=>Xe,onLog:()=>Rt,registerVersion:()=>ct,setLogLevel:()=>Ot});var l=R(5861),te=R(4859),O=R(1877),pe=R(2090),ie=R(8766);class re{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(Pe=>{if(function U(Ce){return"VERSION"===Ce.getComponent()?.type}(Pe)){const $e=Pe.getImmediate();return`${$e.library}/${$e.version}`}return null}).filter(Pe=>Pe).join(" ")}}const ce="@firebase/app",ee=new O.Yd("@firebase/app"),ve="[DEFAULT]",x={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},b=new Map,M=new Map;function L(Ce,Ae){try{Ce.container.addComponent(Ae)}catch(Pe){ee.debug(`Component ${Ae.name} failed to register with FirebaseApp ${Ce.name}`,Pe)}}function X(Ce,Ae){Ce.container.addOrOverwriteComponent(Ae)}function ne(Ce){const Ae=Ce.name;if(M.has(Ae))return ee.debug(`There were multiple attempts to register component ${Ae}.`),!1;M.set(Ae,Ce);for(const Pe of b.values())L(Pe,Ce);return!0}function B(Ce,Ae){const Pe=Ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Pe&&Pe.triggerHeartbeat(),Ce.container.getProvider(Ae)}function be(Ce,Ae,Pe=ve){B(Ce,Ae).clearInstance(Pe)}function je(){M.clear()}const Ue=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Be{constructor(Ae,Pe,$e){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},Pe),this._name=Pe.name,this._automaticDataCollectionEnabled=Pe.automaticDataCollectionEnabled,this._container=$e,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw Ue.create("app-deleted",{appName:this._name})}}const Ke="9.9.2";function Xe(Ce,Ae={}){"object"!=typeof Ae&&(Ae={name:Ae});const Pe=Object.assign({name:ve,automaticDataCollectionEnabled:!1},Ae),$e=Pe.name;if("string"!=typeof $e||!$e)throw Ue.create("bad-app-name",{appName:String($e)});const ot=b.get($e);if(ot){if((0,pe.vZ)(Ce,ot.options)&&(0,pe.vZ)(Pe,ot.config))return ot;throw Ue.create("duplicate-app",{appName:$e})}const Ct=new te.H0($e);for(const en of M.values())Ct.addComponent(en);const Xt=new Be(Ce,Pe,Ct);return b.set($e,Xt),Xt}function mt(Ce=ve){const Ae=b.get(Ce);if(!Ae)throw Ue.create("no-app",{appName:Ce});return Ae}function Dt(){return Array.from(b.values())}function at(Ce){return _t.apply(this,arguments)}function _t(){return(_t=(0,l.Z)(function*(Ce){const Ae=Ce.name;b.has(Ae)&&(b.delete(Ae),yield Promise.all(Ce.container.getProviders().map(Pe=>Pe.delete())),Ce.isDeleted=!0)})).apply(this,arguments)}function ct(Ce,Ae,Pe){var $e;let ot=null!==($e=x[Ce])&&void 0!==$e?$e:Ce;Pe&&(ot+=`-${Pe}`);const Ct=ot.match(/\s|\//),Xt=Ae.match(/\s|\//);if(Ct||Xt){const en=[`Unable to register library "${ot}" with version "${Ae}":`];return Ct&&en.push(`library name "${ot}" contains illegal characters (whitespace or "/")`),Ct&&Xt&&en.push("and"),Xt&&en.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void ee.warn(en.join(" "))}ne(new te.wA(`${ot}-version`,()=>({library:ot,version:Ae}),"VERSION"))}function Rt(Ce,Ae){if(null!==Ce&&"function"!=typeof Ce)throw Ue.create("invalid-log-argument");(0,O.Am)(Ce,Ae)}function Ot(Ce){(0,O.Ub)(Ce)}const dt="firebase-heartbeat-store";let xt=null;function Ze(){return xt||(xt=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(Ce,Ae)=>{0===Ae&&Ce.createObjectStore(dt)}}).catch(Ce=>{throw Ue.create("idb-open",{originalErrorMessage:Ce.message})})),xt}function Ie(){return(Ie=(0,l.Z)(function*(Ce){var Ae;try{return(yield Ze()).transaction(dt).objectStore(dt).get(Le(Ce))}catch(Pe){if(Pe instanceof pe.ZR)ee.warn(Pe.message);else{const $e=Ue.create("idb-get",{originalErrorMessage:null===(Ae=Pe)||void 0===Ae?void 0:Ae.message});ee.warn($e.message)}}})).apply(this,arguments)}function ft(Ce,Ae){return wt.apply(this,arguments)}function wt(){return(wt=(0,l.Z)(function*(Ce,Ae){var Pe;try{const ot=(yield Ze()).transaction(dt,"readwrite");return yield ot.objectStore(dt).put(Ae,Le(Ce)),ot.done}catch($e){if($e instanceof pe.ZR)ee.warn($e.message);else{const ot=Ue.create("idb-set",{originalErrorMessage:null===(Pe=$e)||void 0===Pe?void 0:Pe.message});ee.warn(ot.message)}}})).apply(this,arguments)}function Le(Ce){return`${Ce.name}!${Ce.options.appId}`}class rt{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const Pe=this.container.getProvider("app").getImmediate();this._storage=new Ye(Pe),this._heartbeatsCachePromise=this._storage.read().then($e=>(this._heartbeatsCache=$e,$e))}triggerHeartbeat(){var Ae=this;return(0,l.Z)(function*(){const $e=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),ot=yt();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==ot&&!Ae._heartbeatsCache.heartbeats.some(Ct=>Ct.date===ot))return Ae._heartbeatsCache.heartbeats.push({date:ot,agent:$e}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(Ct=>{const Xt=new Date(Ct.date).valueOf();return Date.now()-Xt<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,l.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const Pe=yt(),{heartbeatsToSend:$e,unsentEntries:ot}=function Kt(Ce,Ae=1024){const Pe=[];let $e=Ce.slice();for(const ot of Ce){const Ct=Pe.find(Xt=>Xt.agent===ot.agent);if(Ct){if(Ct.dates.push(ot.date),Ee(Pe)>Ae){Ct.dates.pop();break}}else if(Pe.push({agent:ot.agent,dates:[ot.date]}),Ee(Pe)>Ae){Pe.pop();break}$e=$e.slice(1)}return{heartbeatsToSend:Pe,unsentEntries:$e}}(Ae._heartbeatsCache.heartbeats),Ct=(0,pe.L)(JSON.stringify({version:2,heartbeats:$e}));return Ae._heartbeatsCache.lastSentHeartbeatDate=Pe,ot.length>0?(Ae._heartbeatsCache.heartbeats=ot,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Ct})()}}function yt(){return(new Date).toISOString().substring(0,10)}class Ye{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,l.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function me(Ce){return Ie.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var Pe=this;return(0,l.Z)(function*(){var $e;if(yield Pe._canUseIndexedDBPromise){const Ct=yield Pe.read();return ft(Pe.app,{lastSentHeartbeatDate:null!==($e=Ae.lastSentHeartbeatDate)&&void 0!==$e?$e:Ct.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var Pe=this;return(0,l.Z)(function*(){var $e;if(yield Pe._canUseIndexedDBPromise){const Ct=yield Pe.read();return ft(Pe.app,{lastSentHeartbeatDate:null!==($e=Ae.lastSentHeartbeatDate)&&void 0!==$e?$e:Ct.lastSentHeartbeatDate,heartbeats:[...Ct.heartbeats,...Ae.heartbeats]})}})()}}function Ee(Ce){return(0,pe.L)(JSON.stringify({version:2,heartbeats:Ce})).length}!function Te(Ce){ne(new te.wA("platform-logger",Ae=>new re(Ae),"PRIVATE")),ne(new te.wA("heartbeat",Ae=>new rt(Ae),"PRIVATE")),ct(ce,"0.7.30",Ce),ct(ce,"0.7.30","esm2017"),ct("fire-js","")}("")},4859:(xe,I,R)=>{"use strict";R.d(I,{H0:()=>ce,wA:()=>O});var l=R(5861),te=R(2090);class O{constructor(ee,K,se){this.name=ee,this.instanceFactory=K,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const pe="[DEFAULT]";class ie{constructor(ee,K){this.name=ee,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const K=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(K)){const se=new te.BH;if(this.instancesDeferred.set(K,se),this.isInitialized(K)||this.shouldAutoInitialize())try{const z=this.getOrInitializeService({instanceIdentifier:K});z&&se.resolve(z)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(ee){var K;const se=this.normalizeInstanceIdentifier(ee?.identifier),z=null!==(K=ee?.optional)&&void 0!==K&&K;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if(z)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(ae){if(z)return null;throw ae}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function U(he){return"EAGER"===he.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[K,se]of this.instancesDeferred.entries()){const z=this.normalizeInstanceIdentifier(K);try{const ae=this.getOrInitializeService({instanceIdentifier:z});se.resolve(ae)}catch{}}}}clearInstance(ee=pe){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,l.Z)(function*(){const K=Array.from(ee.instances.values());yield Promise.all([...K.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...K.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=pe){return this.instances.has(ee)}getOptions(ee=pe){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:K={}}=ee,se=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const z=this.getOrInitializeService({instanceIdentifier:se,options:K});for(const[ae,W]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(ae)&&W.resolve(z);return z}onInit(ee,K){var se;const z=this.normalizeInstanceIdentifier(K),ae=null!==(se=this.onInitCallbacks.get(z))&&void 0!==se?se:new Set;ae.add(ee),this.onInitCallbacks.set(z,ae);const W=this.instances.get(z);return W&&ee(W,z),()=>{ae.delete(ee)}}invokeOnInitCallbacks(ee,K){const se=this.onInitCallbacks.get(K);if(se)for(const z of se)try{z(ee,K)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:K={}}){let se=this.instances.get(ee);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(he=ee,he===pe?void 0:he),options:K}),this.instances.set(ee,se),this.instancesOptions.set(ee,K),this.invokeOnInitCallbacks(se,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,se)}catch{}var he;return se||null}normalizeInstanceIdentifier(ee=pe){return this.component?this.component.multipleInstances?ee:pe:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const K=this.getProvider(ee.name);if(K.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);K.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const K=new ie(ee,this);return this.providers.set(ee,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(xe,I,R)=>{"use strict";R.d(I,{Am:()=>he,Ub:()=>ce,Yd:()=>U,in:()=>te});const l=[];var te=(()=>{return(ee=te||(te={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",te;var ee})();const O={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},pe=te.INFO,ie={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},re=(ee,K,...se)=>{if(K<ee.logLevel)return;const z=(new Date).toISOString(),ae=ie[K];if(!ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[ae](`[${z}]  ${ee.name}:`,...se)};class U{constructor(K){this.name=K,this._logLevel=pe,this._logHandler=re,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in te))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?O[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...K),this._logHandler(this,te.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...K),this._logHandler(this,te.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,te.INFO,...K),this._logHandler(this,te.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,te.WARN,...K),this._logHandler(this,te.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...K),this._logHandler(this,te.ERROR,...K)}}function ce(ee){l.forEach(K=>{K.setLogLevel(ee)})}function he(ee,K){for(const se of l){let z=null;K&&K.level&&(z=O[K.level]),se.userLogHandler=null===ee?null:(ae,W,...fe)=>{const G=fe.map(Y=>{if(null==Y)return null;if("string"==typeof Y)return Y;if("number"==typeof Y||"boolean"==typeof Y)return Y.toString();if(Y instanceof Error)return Y.message;try{return JSON.stringify(Y)}catch{return null}}).filter(Y=>Y).join(" ");W>=(z??ae.logLevel)&&ee({level:te[W].toLowerCase(),message:G,args:fe,type:ae.name})}}}},8766:(xe,I,R)=>{"use strict";R.d(I,{Lj:()=>F,X3:()=>S});var l=R(5861);let O,pe;const U=new WeakMap,ce=new WeakMap,he=new WeakMap,ee=new WeakMap,K=new WeakMap;let ae={get(D,oe,$){if(D instanceof IDBTransaction){if("done"===oe)return ce.get(D);if("objectStoreNames"===oe)return D.objectStoreNames||he.get(D);if("store"===oe)return $.objectStoreNames[1]?void 0:$.objectStore($.objectStoreNames[0])}return Y(D[oe])},set:(D,oe,$)=>(D[oe]=$,!0),has:(D,oe)=>D instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in D};function G(D){return"function"==typeof D?function fe(D){return D!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(D)?function(...oe){return D.apply(A(this),oe),Y(U.get(this))}:function(...oe){return Y(D.apply(A(this),oe))}:function(oe,...$){const le=D.call(A(this),oe,...$);return he.set(le,oe.sort?oe.sort():[oe]),Y(le)}}(D):(D instanceof IDBTransaction&&function z(D){if(ce.has(D))return;const oe=new Promise(($,le)=>{const ge=()=>{D.removeEventListener("complete",ye),D.removeEventListener("error",ke),D.removeEventListener("abort",ke)},ye=()=>{$(),ge()},ke=()=>{le(D.error||new DOMException("AbortError","AbortError")),ge()};D.addEventListener("complete",ye),D.addEventListener("error",ke),D.addEventListener("abort",ke)});ce.set(D,oe)}(D),((D,oe)=>oe.some($=>D instanceof $))(D,function ie(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(D,ae):D)}function Y(D){if(D instanceof IDBRequest)return function se(D){const oe=new Promise(($,le)=>{const ge=()=>{D.removeEventListener("success",ye),D.removeEventListener("error",ke)},ye=()=>{$(Y(D.result)),ge()},ke=()=>{le(D.error),ge()};D.addEventListener("success",ye),D.addEventListener("error",ke)});return oe.then($=>{$ instanceof IDBCursor&&U.set($,D)}).catch(()=>{}),K.set(oe,D),oe}(D);if(ee.has(D))return ee.get(D);const oe=G(D);return oe!==D&&(ee.set(D,oe),K.set(oe,D)),oe}const A=D=>K.get(D);function S(D,oe,{blocked:$,upgrade:le,blocking:ge,terminated:ye}={}){const ke=indexedDB.open(D,oe),Ne=Y(ke);return le&&ke.addEventListener("upgradeneeded",Qe=>{le(Y(ke.result),Qe.oldVersion,Qe.newVersion,Y(ke.transaction))}),$&&ke.addEventListener("blocked",()=>$()),Ne.then(Qe=>{ye&&Qe.addEventListener("close",()=>ye()),ge&&Qe.addEventListener("versionchange",()=>ge())}).catch(()=>{}),Ne}function F(D,{blocked:oe}={}){const $=indexedDB.deleteDatabase(D);return oe&&$.addEventListener("blocked",()=>oe()),Y($).then(()=>{})}const Q=["get","getKey","getAll","getAllKeys","count"],N=["put","add","delete","clear"],J=new Map;function j(D,oe){if(!(D instanceof IDBDatabase)||oe in D||"string"!=typeof oe)return;if(J.get(oe))return J.get(oe);const $=oe.replace(/FromIndex$/,""),le=oe!==$,ge=N.includes($);if(!($ in(le?IDBIndex:IDBObjectStore).prototype)||!ge&&!Q.includes($))return;const ye=function(){var ke=(0,l.Z)(function*(Ne,...Qe){const it=this.transaction(Ne,ge?"readwrite":"readonly");let ve=it.store;return le&&(ve=ve.index(Qe.shift())),(yield Promise.all([ve[$](...Qe),ge&&it.done]))[0]});return function(Qe){return ke.apply(this,arguments)}}();return J.set(oe,ye),ye}!function W(D){ae=D(ae)}(D=>({...D,get:(oe,$,le)=>j(oe,$)||D.get(oe,$,le),has:(oe,$)=>!!j(oe,$)||D.has(oe,$)}))},5861:(xe,I,R)=>{"use strict";function l(O,pe,ie,re,U,ce,he){try{var ee=O[ce](he),K=ee.value}catch(se){return void ie(se)}ee.done?pe(K):Promise.resolve(K).then(re,U)}function te(O){return function(){var pe=this,ie=arguments;return new Promise(function(re,U){var ce=O.apply(pe,ie);function he(K){l(ce,re,U,he,ee,"next",K)}function ee(K){l(ce,re,U,he,ee,"throw",K)}he(void 0)})}}R.d(I,{Z:()=>te})}},xe=>{xe(xe.s=8737)}]);