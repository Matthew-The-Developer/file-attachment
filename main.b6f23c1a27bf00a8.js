(self.webpackChunkfile_attachment=self.webpackChunkfile_attachment||[]).push([[179],{2011:(Ie,x,R)=>{"use strict";R.d(x,{Dh:()=>ce,GT:()=>re,cc:()=>ae,hO:()=>$,on:()=>ee,pX:()=>ie,xv:()=>he});var s=R(4650),te=R(127),O=R(5813);Ie=R.hmd(Ie);const pe=["ngOnDestroy"],ie=(Z,D,A,F={})=>new Proxy(Z,{get:(X,N)=>A.runOutsideAngular(()=>{var J;if(Z[N])return!(null===(J=F?.spy)||void 0===J)&&J.get&&F.spy.get(N,Z[N]),Z[N];if(pe.indexOf(N)>-1)return()=>{};const j=D.toPromise().then(S=>{const oe=S&&S[N];return"function"==typeof oe?oe.bind(S):oe&&oe.then?oe.then(W=>A.run(()=>W)):A.run(()=>oe)});return new Proxy(()=>{},{get:(S,oe)=>j[oe],apply:(S,oe,W)=>j.then(le=>{var me;const ye=le&&le(...W);return!(null===(me=F?.spy)||void 0===me)&&me.apply&&F.spy.apply(N,W,ye),ye})})})}),re=(Z,D)=>{D.forEach(A=>{Object.getOwnPropertyNames(A.prototype||A).forEach(F=>{Object.defineProperty(Z.prototype,F,Object.getOwnPropertyDescriptor(A.prototype||A,F))})})};class B{constructor(D){return D}}const ce=new s.OlP("angularfire2.app.options"),he=new s.OlP("angularfire2.app.name");function ee(Z,D,A){const X="object"==typeof A&&A||{};X.name=X.name||"string"==typeof A&&A||"[DEFAULT]";const J=te.Z.apps.filter(j=>j&&j.name===X.name)[0]||D.runOutsideAngular(()=>te.Z.initializeApp(Z,X));try{JSON.stringify(Z)!==JSON.stringify(J.options)&&Y("error",`${J.name} Firebase App already initialized with different options${Ie.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new B(J)}const Y=(Z,...D)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Z](...D)},se={provide:B,useFactory:ee,deps:[ce,s.R0b,[new s.FiY,he]]};let $=(()=>{class Z{constructor(A){te.Z.registerVersion("angularfire",O.q4.full,"core"),te.Z.registerVersion("angularfire",O.q4.full,"app-compat"),te.Z.registerVersion("angular",s.q4F.full,A.toString())}static initializeApp(A,F){return{ngModule:Z,providers:[{provide:ce,useValue:A},{provide:he,useValue:F}]}}}return Z.\u0275fac=function(A){return new(A||Z)(s.LFG(s.Lbi))},Z.\u0275mod=s.oAB({type:Z}),Z.\u0275inj=s.cJS({providers:[se]}),Z})();function ae(Z,D,A,F,X){const[,N,J]=globalThis.\u0275AngularfireInstanceCache.find(j=>j[0]===Z)||[];if(N)return function q(Z,D){try{return Z.toString()===D.toString()}catch{return Z===D}}(X,J)||(z("error",`${D} was already initialized on the ${A} Firebase App with different settings.${fe?" You may need to reload as Firebase is not HMR aware.":""}`),z("warn",{is:X,was:J})),N;{const j=F();return globalThis.\u0275AngularfireInstanceCache.push([Z,j,X]),j}}const fe=!!Ie.hot,z=(Z,...D)=>{(0,s.X6Q)()&&typeof console<"u"&&console[Z](...D)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ie,x,R)=>{"use strict";R.d(x,{q4:()=>ac,iC:()=>lc,HU:()=>ko,vb:()=>bd,JM:()=>Io});var s=R(4650),te=R(5867),O=R(5861),pe=R(9681),ie=R(2090),re=R(4859),B=R(1877),ce=R(8766);const he="@firebase/installations",ee="0.5.12",se=`w:${ee}`,$="FIS_v2",D=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function A(P){return P instanceof ie.ZR&&P.code.includes("request-failed")}function F({projectId:P}){return`https://firebaseinstallations.googleapis.com/v1/projects/${P}/installations`}function X(P){return{token:P.token,requestStatus:2,expiresIn:le(P.expiresIn),creationTime:Date.now()}}function N(P,V){return J.apply(this,arguments)}function J(){return(J=(0,O.Z)(function*(P,V){const Oe=(yield V.json()).error;return D.create("request-failed",{requestName:P,serverCode:Oe.code,serverMessage:Oe.message,serverStatus:Oe.status})})).apply(this,arguments)}function j({apiKey:P}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P})}function S(P,{refreshToken:V}){const ue=j(P);return ue.append("Authorization",function me(P){return`${$} ${P}`}(V)),ue}function oe(P){return W.apply(this,arguments)}function W(){return(W=(0,O.Z)(function*(P){const V=yield P();return V.status>=500&&V.status<600?P():V})).apply(this,arguments)}function le(P){return Number(P.replace("s","000"))}function ye(P,V){return Re.apply(this,arguments)}function Re(){return(Re=(0,O.Z)(function*({appConfig:P,heartbeatServiceProvider:V},{fid:ue}){const Oe=F(P),ze=j(P),Je=V.getImmediate({optional:!0});if(Je){const hn=yield Je.getHeartbeatsHeader();hn&&ze.append("x-firebase-client",hn)}const Pt={method:"POST",headers:ze,body:JSON.stringify({fid:ue,authVersion:$,appId:P.appId,sdkVersion:se})},Zt=yield oe(()=>fetch(Oe,Pt));if(Zt.ok){const hn=yield Zt.json();return{fid:hn.fid||ue,registrationStatus:2,refreshToken:hn.refreshToken,authToken:X(hn.authToken)}}throw yield N("Create Installation",Zt)})).apply(this,arguments)}function Ve(P){return new Promise(V=>{setTimeout(V,P)})}const it=/^[cdef][\w-]{21}$/;function M(){try{const P=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(P),P[0]=112+P[0]%16;const ue=function b(P){return function Xe(P){return btoa(String.fromCharCode(...P)).replace(/\+/g,"-").replace(/\//g,"_")}(P).substr(0,22)}(P);return it.test(ue)?ue:""}catch{return""}}function k(P){return`${P.appName}!${P.appId}`}const L=new Map;function Q(P,V){const ue=k(P);be(ue,V),function He(P,V){const ue=function Ue(){return!ke&&"BroadcastChannel"in self&&(ke=new BroadcastChannel("[Firebase] FID Change"),ke.onmessage=P=>{be(P.data.key,P.data.fid)}),ke}();ue&&ue.postMessage({key:P,fid:V}),function Be(){0===L.size&&ke&&(ke.close(),ke=null)}()}(ue,V)}function be(P,V){const ue=L.get(P);if(ue)for(const Oe of ue)Oe(V)}let ke=null;const gt="firebase-installations-store";let Tt=null;function lt(){return Tt||(Tt=(0,ce.X3)("firebase-installations-database",1,{upgrade:(P,V)=>{0===V&&P.createObjectStore(gt)}})),Tt}function _t(P,V){return ct.apply(this,arguments)}function ct(){return(ct=(0,O.Z)(function*(P,V){const ue=k(P),ze=(yield lt()).transaction(gt,"readwrite"),Je=ze.objectStore(gt),pt=yield Je.get(ue);return yield Je.put(V,ue),yield ze.done,(!pt||pt.fid!==V.fid)&&Q(P,V.fid),V})).apply(this,arguments)}function Rt(P){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,O.Z)(function*(P){const V=k(P),Oe=(yield lt()).transaction(gt,"readwrite");yield Oe.objectStore(gt).delete(V),yield Oe.done})).apply(this,arguments)}function At(P,V){return nt.apply(this,arguments)}function nt(){return(nt=(0,O.Z)(function*(P,V){const ue=k(P),ze=(yield lt()).transaction(gt,"readwrite"),Je=ze.objectStore(gt),pt=yield Je.get(ue),Pt=V(pt);return void 0===Pt?yield Je.delete(ue):yield Je.put(Pt,ue),yield ze.done,Pt&&(!pt||pt.fid!==Pt.fid)&&Q(P,Pt.fid),Pt})).apply(this,arguments)}function dt(P){return kt.apply(this,arguments)}function kt(){return(kt=(0,O.Z)(function*(P){let V;const ue=yield At(P.appConfig,Oe=>{const ze=Ke(Oe),Je=ge(P,ze);return V=Je.registrationPromise,Je.installationEntry});return""===ue.fid?{installationEntry:yield V}:{installationEntry:ue,registrationPromise:V}})).apply(this,arguments)}function Ke(P){return Fe(P||{fid:M(),registrationStatus:0})}function ge(P,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(D.create("app-offline"))};const ue={fid:V.fid,registrationStatus:1,registrationTime:Date.now()},Oe=function xe(P,V){return ft.apply(this,arguments)}(P,ue);return{installationEntry:ue,registrationPromise:Oe}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:wt(P)}:{installationEntry:V}}function ft(){return(ft=(0,O.Z)(function*(P,V){try{const ue=yield ye(P,V);return _t(P.appConfig,ue)}catch(ue){throw A(ue)&&409===ue.customData.serverCode?yield Rt(P.appConfig):yield _t(P.appConfig,{fid:V.fid,registrationStatus:0}),ue}})).apply(this,arguments)}function wt(P){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,O.Z)(function*(P){let V=yield we(P.appConfig);for(;1===V.registrationStatus;)yield Ve(100),V=yield we(P.appConfig);if(0===V.registrationStatus){const{installationEntry:ue,registrationPromise:Oe}=yield dt(P);return Oe||ue}return V})).apply(this,arguments)}function we(P){return At(P,V=>{if(!V)throw D.create("installation-not-found");return Fe(V)})}function Fe(P){return function rt(P){return 1===P.registrationStatus&&P.registrationTime+1e4<Date.now()}(P)?{fid:P.fid,registrationStatus:0}:P}function vt(P,V){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,O.Z)(function*({appConfig:P,heartbeatServiceProvider:V},ue){const Oe=Ze(P,ue),ze=S(P,ue),Je=V.getImmediate({optional:!0});if(Je){const hn=yield Je.getHeartbeatsHeader();hn&&ze.append("x-firebase-client",hn)}const Pt={method:"POST",headers:ze,body:JSON.stringify({installation:{sdkVersion:se,appId:P.appId}})},Zt=yield oe(()=>fetch(Oe,Pt));if(Zt.ok)return X(yield Zt.json());throw yield N("Generate Auth Token",Zt)})).apply(this,arguments)}function Ze(P,{fid:V}){return`${F(P)}/${V}/authTokens:generate`}function Ee(P){return Te.apply(this,arguments)}function Te(){return(Te=(0,O.Z)(function*(P,V=!1){let ue;const Oe=yield At(P.appConfig,Je=>{if(!Dt(Je))throw D.create("not-registered");const pt=Je.authToken;if(!V&&Xt(pt))return Je;if(1===pt.requestStatus)return ue=Ce(P,V),Je;{if(!navigator.onLine)throw D.create("app-offline");const Pt=Rn(Je);return ue=We(P,Pt),Pt}});return ue?yield ue:Oe.authToken})).apply(this,arguments)}function Ce(P,V){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,O.Z)(function*(P,V){let ue=yield Pe(P.appConfig);for(;1===ue.authToken.requestStatus;)yield Ve(100),ue=yield Pe(P.appConfig);const Oe=ue.authToken;return 0===Oe.requestStatus?Ee(P,V):Oe})).apply(this,arguments)}function Pe(P){return At(P,V=>{if(!Dt(V))throw D.create("not-registered");return function en(P){return 1===P.requestStatus&&P.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function We(P,V){return at.apply(this,arguments)}function at(){return(at=(0,O.Z)(function*(P,V){try{const ue=yield vt(P,V),Oe=Object.assign(Object.assign({},V),{authToken:ue});return yield _t(P.appConfig,Oe),ue}catch(ue){if(!A(ue)||401!==ue.customData.serverCode&&404!==ue.customData.serverCode){const Oe=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield _t(P.appConfig,Oe)}else yield Rt(P.appConfig);throw ue}})).apply(this,arguments)}function Dt(P){return void 0!==P&&2===P.registrationStatus}function Xt(P){return 2===P.requestStatus&&!function tn(P){const V=Date.now();return V<P.creationTime||P.creationTime+P.expiresIn<V+36e5}(P)}function Rn(P){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},P),{authToken:V})}function bn(){return(bn=(0,O.Z)(function*(P){const V=P,{installationEntry:ue,registrationPromise:Oe}=yield dt(V);return Oe?Oe.catch(console.error):Ee(V).catch(console.error),ue.fid})).apply(this,arguments)}function Pn(){return(Pn=(0,O.Z)(function*(P,V=!1){const ue=P;return yield ni(ue),(yield Ee(ue,V)).token})).apply(this,arguments)}function ni(P){return xt.apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(P){const{registrationPromise:V}=yield dt(P);V&&(yield V)})).apply(this,arguments)}function ys(P){return D.create("missing-app-config-values",{valueName:P})}const vn="installations",$n=P=>{const V=P.getProvider("app").getImmediate(),ue=function _o(P){if(!P||!P.options)throw ys("App Configuration");if(!P.name)throw ys("App Name");const V=["projectId","apiKey","appId"];for(const ue of V)if(!P.options[ue])throw ys(ue);return{appName:P.name,projectId:P.options.projectId,apiKey:P.options.apiKey,appId:P.options.appId}}(V);return{app:V,appConfig:ue,heartbeatServiceProvider:(0,pe._getProvider)(V,"heartbeat"),_delete:()=>Promise.resolve()}},Vl=P=>{const V=P.getProvider("app").getImmediate(),ue=(0,pe._getProvider)(V,vn).getImmediate();return{getId:()=>function nn(P){return bn.apply(this,arguments)}(ue),getToken:ze=>function An(P){return Pn.apply(this,arguments)}(ue,ze)}};(function yo(){(0,pe._registerComponent)(new re.wA(vn,$n,"PUBLIC")),(0,pe._registerComponent)(new re.wA("installations-internal",Vl,"PRIVATE"))})(),(0,pe.registerVersion)(he,ee),(0,pe.registerVersion)(he,ee,"esm2017");const vi="@firebase/remote-config",Xi=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Mh{constructor(V,ue,Oe,ze){this.client=V,this.storage=ue,this.storageCache=Oe,this.logger=ze}isCachedDataFresh(V,ue){if(!ue)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Oe=Date.now()-ue,ze=Oe<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${ze}.`),ze}fetch(V){var ue=this;return(0,O.Z)(function*(){const[Oe,ze]=yield Promise.all([ue.storage.getLastSuccessfulFetchTimestampMillis(),ue.storage.getLastSuccessfulFetchResponse()]);if(ze&&ue.isCachedDataFresh(V.cacheMaxAgeMillis,Oe))return ze;V.eTag=ze&&ze.eTag;const Je=yield ue.client.fetch(V),pt=[ue.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Je.status&&pt.push(ue.storage.setLastSuccessfulFetchResponse(Je)),yield Promise.all(pt),Je})()}}function sd(P=navigator){return P.languages&&P.languages[0]||P.language}class Yc{constructor(V,ue,Oe,ze,Je,pt){this.firebaseInstallations=V,this.sdkVersion=ue,this.namespace=Oe,this.projectId=ze,this.apiKey=Je,this.appId=pt}fetch(V){var ue=this;return(0,O.Z)(function*(){var Oe,ze,Je;const[pt,Pt]=yield Promise.all([ue.firebaseInstallations.getId(),ue.firebaseInstallations.getToken()]),hn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ue.projectId}/namespaces/${ue.namespace}:fetch?key=${ue.apiKey}`,_n={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},Wt={sdk_version:ue.sdkVersion,app_instance_id:pt,app_instance_id_token:Pt,app_id:ue.appId,language_code:sd()},fi={method:"POST",headers:_n,body:JSON.stringify(Wt)},ar=fetch(hn,fi),ml=new Promise((lr,ro)=>{V.signal.addEventListener(()=>{const Kp=new Error("The operation was aborted.");Kp.name="AbortError",ro(Kp)})});let va;try{yield Promise.race([ar,ml]),va=yield ar}catch(lr){let ro="fetch-client-network";throw"AbortError"===(null===(Oe=lr)||void 0===Oe?void 0:Oe.name)&&(ro="fetch-timeout"),Xi.create(ro,{originalErrorMessage:null===(ze=lr)||void 0===ze?void 0:ze.message})}let Ar=va.status;const Oo=va.headers.get("ETag")||void 0;let Fo,ba;if(200===va.status){let lr;try{lr=yield va.json()}catch(ro){throw Xi.create("fetch-client-parse",{originalErrorMessage:null===(Je=ro)||void 0===Je?void 0:Je.message})}Fo=lr.entries,ba=lr.state}if("INSTANCE_STATE_UNSPECIFIED"===ba?Ar=500:"NO_CHANGE"===ba?Ar=304:("NO_TEMPLATE"===ba||"EMPTY_CONFIG"===ba)&&(Fo={}),304!==Ar&&200!==Ar)throw Xi.create("fetch-status",{httpStatus:Ar});return{status:Ar,eTag:Oo,config:Fo}})()}}class Up{constructor(V,ue){this.client=V,this.storage=ue}fetch(V){var ue=this;return(0,O.Z)(function*(){const Oe=(yield ue.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ue.attemptFetch(V,Oe)})()}attemptFetch(V,{throttleEndTimeMillis:ue,backoffCount:Oe}){var ze=this;return(0,O.Z)(function*(){yield function Ti(P,V){return new Promise((ue,Oe)=>{const ze=Math.max(V-Date.now(),0),Je=setTimeout(ue,ze);P.addEventListener(()=>{clearTimeout(Je),Oe(Xi.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,ue);try{const Je=yield ze.client.fetch(V);return yield ze.storage.deleteThrottleMetadata(),Je}catch(Je){if(!function od(P){if(!(P instanceof ie.ZR&&P.customData))return!1;const V=Number(P.customData.httpStatus);return 429===V||500===V||503===V||504===V}(Je))throw Je;const pt={throttleEndTimeMillis:Date.now()+(0,ie.$s)(Oe),backoffCount:Oe+1};return yield ze.storage.setThrottleMetadata(pt),ze.attemptFetch(V,pt)}})()}}class Zc{constructor(V,ue,Oe,ze,Je){this.app=V,this._client=ue,this._storageCache=Oe,this._storage=ze,this._logger=Je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Kc(P,V){var ue;const Oe=P.target.error||void 0;return Xi.create(V,{originalErrorMessage:Oe&&(null===(ue=Oe)||void 0===ue?void 0:ue.message)})}const Ys="app_namespace_store";class kh{constructor(V,ue,Oe,ze=function Gp(){return new Promise((P,V)=>{var ue;try{const Oe=indexedDB.open("firebase_remote_config",1);Oe.onerror=ze=>{V(Kc(ze,"storage-open"))},Oe.onsuccess=ze=>{P(ze.target.result)},Oe.onupgradeneeded=ze=>{0===ze.oldVersion&&ze.target.result.createObjectStore(Ys,{keyPath:"compositeKey"})}}catch(Oe){V(Xi.create("storage-open",{originalErrorMessage:null===(ue=Oe)||void 0===ue?void 0:ue.message}))}})}()){this.appId=V,this.appName=ue,this.namespace=Oe,this.openDbPromise=ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var ue=this;return(0,O.Z)(function*(){const Oe=yield ue.openDbPromise;return new Promise((ze,Je)=>{var pt;const Zt=Oe.transaction([Ys],"readonly").objectStore(Ys),hn=ue.createCompositeKey(V);try{const _n=Zt.get(hn);_n.onerror=Wt=>{Je(Kc(Wt,"storage-get"))},_n.onsuccess=Wt=>{const fi=Wt.target.result;ze(fi?fi.value:void 0)}}catch(_n){Je(Xi.create("storage-get",{originalErrorMessage:null===(pt=_n)||void 0===pt?void 0:pt.message}))}})})()}set(V,ue){var Oe=this;return(0,O.Z)(function*(){const ze=yield Oe.openDbPromise;return new Promise((Je,pt)=>{var Pt;const hn=ze.transaction([Ys],"readwrite").objectStore(Ys),_n=Oe.createCompositeKey(V);try{const Wt=hn.put({compositeKey:_n,value:ue});Wt.onerror=fi=>{pt(Kc(fi,"storage-set"))},Wt.onsuccess=()=>{Je()}}catch(Wt){pt(Xi.create("storage-set",{originalErrorMessage:null===(Pt=Wt)||void 0===Pt?void 0:Pt.message}))}})})()}delete(V){var ue=this;return(0,O.Z)(function*(){const Oe=yield ue.openDbPromise;return new Promise((ze,Je)=>{var pt;const Zt=Oe.transaction([Ys],"readwrite").objectStore(Ys),hn=ue.createCompositeKey(V);try{const _n=Zt.delete(hn);_n.onerror=Wt=>{Je(Kc(Wt,"storage-delete"))},_n.onsuccess=()=>{ze()}}catch(_n){Je(Xi.create("storage-delete",{originalErrorMessage:null===(pt=_n)||void 0===pt?void 0:pt.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class Bl{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,O.Z)(function*(){const ue=V.storage.getLastFetchStatus(),Oe=V.storage.getLastSuccessfulFetchTimestampMillis(),ze=V.storage.getActiveConfig(),Je=yield ue;Je&&(V.lastFetchStatus=Je);const pt=yield Oe;pt&&(V.lastSuccessfulFetchTimestampMillis=pt);const Pt=yield ze;Pt&&(V.activeConfig=Pt)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function Ul(){return Zs.apply(this,arguments)}function Zs(){return(Zs=(0,O.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Cs(){(0,pe._registerComponent)(new re.wA("remote-config",function P(V,{instanceIdentifier:ue}){const Oe=V.getProvider("app").getImmediate(),ze=V.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Xi.create("registration-window");if(!(0,ie.hl)())throw Xi.create("indexed-db-unavailable");const{projectId:Je,apiKey:pt,appId:Pt}=Oe.options;if(!Je)throw Xi.create("registration-project-id");if(!pt)throw Xi.create("registration-api-key");if(!Pt)throw Xi.create("registration-app-id");const Zt=new kh(Pt,Oe.name,ue=ue||"firebase"),hn=new Bl(Zt),_n=new B.Yd(vi);_n.logLevel=B.in.ERROR;const Wt=new Yc(ze,pe.SDK_VERSION,ue,Je,pt,Pt),fi=new Up(Wt,Zt),ar=new Mh(fi,Zt,hn,_n),ml=new Zc(Oe,ar,hn,Zt,_n);return function $s(P){const V=(0,ie.m9)(P);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(ml),ml},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(vi,"0.3.11"),(0,pe.registerVersion)(vi,"0.3.11","esm2017")}();const Hl="/firebase-messaging-sw.js",Hr="/firebase-cloud-messaging-push-scope",Ks="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ga="google.c.a.c_id",za="google.c.a.c_l",Qc="google.c.a.ts",zp="google.c.a.e";var bo=(()=>{return(P=bo||(bo={})).PUSH_RECEIVED="push-received",P.NOTIFICATION_CLICKED="notification-clicked",bo;var P})();function Xn(P){const V=new Uint8Array(P);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jl(P){const ue=(P+"=".repeat((4-P.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Oe=atob(ue),ze=new Uint8Array(Oe.length);for(let Je=0;Je<Oe.length;++Je)ze[Je]=Oe.charCodeAt(Je);return ze}const Gl="fcm_token_details_db",sr="fcm_token_object_Store";function $p(P){return hi.apply(this,arguments)}function hi(){return hi=(0,O.Z)(function*(P){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Je=>Je.name).includes(Gl))return null;let V=null;return(yield(0,ce.X3)(Gl,5,{upgrade:(Oe=(0,O.Z)(function*(ze,Je,pt,Pt){var Zt;if(Je<2||!ze.objectStoreNames.contains(sr))return;const hn=Pt.objectStore(sr),_n=yield hn.index("fcmSenderId").get(P);if(yield hn.clear(),_n)if(2===Je){const Wt=_n;if(!Wt.auth||!Wt.p256dh||!Wt.endpoint)return;V={token:Wt.fcmToken,createTime:null!==(Zt=Wt.createTime)&&void 0!==Zt?Zt:Date.now(),subscriptionOptions:{auth:Wt.auth,p256dh:Wt.p256dh,endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:"string"==typeof Wt.vapidKey?Wt.vapidKey:Xn(Wt.vapidKey)}}}else if(3===Je){const Wt=_n;V={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:Xn(Wt.auth),p256dh:Xn(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:Xn(Wt.vapidKey)}}}else if(4===Je){const Wt=_n;V={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:Xn(Wt.auth),p256dh:Xn(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:Xn(Wt.vapidKey)}}}}),function(Je,pt,Pt,Zt){return Oe.apply(this,arguments)})})).close(),yield(0,ce.Lj)(Gl),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),cd(V)?V:null;var Oe}),hi.apply(this,arguments)}function cd(P){if(!P||!P.subscriptionOptions)return!1;const{subscriptionOptions:V}=P;return"number"==typeof P.createTime&&P.createTime>0&&"string"==typeof P.token&&P.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const gi="firebase-messaging-store";let Jc=null;function oa(){return Jc||(Jc=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(P,V)=>{0===V&&P.createObjectStore(gi)}})),Jc}function os(P){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,O.Z)(function*(P){const V=qa(P),Oe=yield(yield oa()).transaction(gi).objectStore(gi).get(V);if(Oe)return Oe;{const ze=yield $p(P.appConfig.senderId);if(ze)return yield Ds(P,ze),ze}})).apply(this,arguments)}function Ds(P,V){return jr.apply(this,arguments)}function jr(){return(jr=(0,O.Z)(function*(P,V){const ue=qa(P),ze=(yield oa()).transaction(gi,"readwrite");return yield ze.objectStore(gi).put(V,ue),yield ze.done,V})).apply(this,arguments)}function ud(P){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,O.Z)(function*(P){const V=qa(P),Oe=(yield oa()).transaction(gi,"readwrite");yield Oe.objectStore(gi).delete(V),yield Oe.done})).apply(this,arguments)}function qa({appConfig:P}){return P.appId}const jt=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function zl(P,V){return eu.apply(this,arguments)}function eu(){return(eu=(0,O.Z)(function*(P,V){var ue;const Oe=yield Do(P),ze=wn(V),Je={method:"POST",headers:Oe,body:JSON.stringify(ze)};let pt;try{pt=yield(yield fetch(la(P.appConfig),Je)).json()}catch(Pt){throw jt.create("token-subscribe-failed",{errorInfo:null===(ue=Pt)||void 0===ue?void 0:ue.toString()})}if(pt.error)throw jt.create("token-subscribe-failed",{errorInfo:pt.error.message});if(!pt.token)throw jt.create("token-subscribe-no-token");return pt.token})).apply(this,arguments)}function tu(P,V){return wo.apply(this,arguments)}function wo(){return(wo=(0,O.Z)(function*(P,V){var ue;const Oe=yield Do(P),ze=wn(V.subscriptionOptions),Je={method:"PATCH",headers:Oe,body:JSON.stringify(ze)};let pt;try{pt=yield(yield fetch(`${la(P.appConfig)}/${V.token}`,Je)).json()}catch(Pt){throw jt.create("token-update-failed",{errorInfo:null===(ue=Pt)||void 0===ue?void 0:ue.toString()})}if(pt.error)throw jt.create("token-update-failed",{errorInfo:pt.error.message});if(!pt.token)throw jt.create("token-update-no-token");return pt.token})).apply(this,arguments)}function Co(P,V){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,O.Z)(function*(P,V){var ue;const ze={method:"DELETE",headers:yield Do(P)};try{const pt=yield(yield fetch(`${la(P.appConfig)}/${V}`,ze)).json();if(pt.error)throw jt.create("token-unsubscribe-failed",{errorInfo:pt.error.message})}catch(Je){throw jt.create("token-unsubscribe-failed",{errorInfo:null===(ue=Je)||void 0===ue?void 0:ue.toString()})}})).apply(this,arguments)}function la({projectId:P}){return`https://fcmregistrations.googleapis.com/v1/projects/${P}/registrations`}function Do(P){return mt.apply(this,arguments)}function mt(){return(mt=(0,O.Z)(function*({appConfig:P,installations:V}){const ue=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":P.apiKey,"x-goog-firebase-installations-auth":`FIS ${ue}`})})).apply(this,arguments)}function wn({p256dh:P,auth:V,endpoint:ue,vapidKey:Oe}){const ze={web:{endpoint:ue,auth:V,p256dh:P}};return Oe!==Ks&&(ze.web.applicationPubKey=Oe),ze}const ca=6048e5;function ua(P){return si.apply(this,arguments)}function si(){return(si=(0,O.Z)(function*(P){const V=yield dd(P.swRegistration,P.vapidKey),ue={vapidKey:P.vapidKey,swScope:P.swRegistration.scope,endpoint:V.endpoint,auth:Xn(V.getKey("auth")),p256dh:Xn(V.getKey("p256dh"))},Oe=yield os(P.firebaseDependencies);if(Oe){if(Qs(Oe.subscriptionOptions,ue))return Date.now()>=Oe.createTime+ca?br(P,{token:Oe.token,createTime:Date.now(),subscriptionOptions:ue}):Oe.token;try{yield Co(P.firebaseDependencies,Oe.token)}catch(ze){console.warn(ze)}return Es(P.firebaseDependencies,ue)}return Es(P.firebaseDependencies,ue)})).apply(this,arguments)}function Za(P){return Eo.apply(this,arguments)}function Eo(){return(Eo=(0,O.Z)(function*(P){const V=yield os(P.firebaseDependencies);V&&(yield Co(P.firebaseDependencies,V.token),yield ud(P.firebaseDependencies));const ue=yield P.swRegistration.pushManager.getSubscription();return!ue||ue.unsubscribe()})).apply(this,arguments)}function br(P,V){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,O.Z)(function*(P,V){try{const ue=yield tu(P.firebaseDependencies,V),Oe=Object.assign(Object.assign({},V),{token:ue,createTime:Date.now()});return yield Ds(P.firebaseDependencies,Oe),ue}catch(ue){throw yield Za(P),ue}})).apply(this,arguments)}function Es(P,V){return $l.apply(this,arguments)}function $l(){return($l=(0,O.Z)(function*(P,V){const Oe={token:yield zl(P,V),createTime:Date.now(),subscriptionOptions:V};return yield Ds(P,Oe),Oe.token})).apply(this,arguments)}function dd(P,V){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,O.Z)(function*(P,V){return(yield P.pushManager.getSubscription())||P.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jl(V)})})).apply(this,arguments)}function Qs(P,V){return V.vapidKey===P.vapidKey&&V.endpoint===P.endpoint&&V.auth===P.auth&&V.p256dh===P.p256dh}function Ui(P){const V={from:P.from,collapseKey:P.collapse_key,messageId:P.fcmMessageId};return function wr(P,V){if(!V.notification)return;P.notification={};const ue=V.notification.title;ue&&(P.notification.title=ue);const Oe=V.notification.body;Oe&&(P.notification.body=Oe);const ze=V.notification.image;ze&&(P.notification.image=ze)}(V,P),function nu(P,V){!V.data||(P.data=V.data)}(V,P),function da(P,V){var ue,Oe,ze,Je,pt;if(!(V.fcmOptions||null!==(ue=V.notification)&&void 0!==ue&&ue.click_action))return;P.fcmOptions={};const Pt=null!==(ze=null===(Oe=V.fcmOptions)||void 0===Oe?void 0:Oe.link)&&void 0!==ze?ze:null===(Je=V.notification)||void 0===Je?void 0:Je.click_action;Pt&&(P.fcmOptions.link=Pt);const Zt=null===(pt=V.fcmOptions)||void 0===pt?void 0:pt.analytics_label;Zt&&(P.fcmOptions.analyticsLabel=Zt)}(V,P),V}function Gr(P){return"object"==typeof P&&!!P&&Ga in P}function hd(P,V){const ue=[];for(let Oe=0;Oe<P.length;Oe++)ue.push(P.charAt(Oe)),Oe<V.length&&ue.push(V.charAt(Oe));return ue.join("")}function Xa(P){return jt.create("missing-app-config-values",{valueName:P})}hd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),hd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ph{constructor(V,ue,Oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ze=function iu(P){if(!P||!P.options)throw Xa("App Configuration Object");if(!P.name)throw Xa("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:ue}=P;for(const Oe of V)if(!ue[Oe])throw Xa(Oe);return{appName:P.name,projectId:ue.projectId,apiKey:ue.apiKey,appId:ue.appId,senderId:ue.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:ze,installations:ue,analyticsProvider:Oe}}_delete(){return Promise.resolve()}}function Ao(P){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,O.Z)(function*(P){var V;try{P.swRegistration=yield navigator.serviceWorker.register(Hl,{scope:Hr}),P.swRegistration.update().catch(()=>{})}catch(ue){throw jt.create("failed-service-worker-registration",{browserErrorMessage:null===(V=ue)||void 0===V?void 0:V.message})}})).apply(this,arguments)}function Wl(P,V){return el.apply(this,arguments)}function el(){return(el=(0,O.Z)(function*(P,V){if(!V&&!P.swRegistration&&(yield Ao(P)),V||!P.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw jt.create("invalid-sw-registration");P.swRegistration=V}})).apply(this,arguments)}function tl(P,V){return ru.apply(this,arguments)}function ru(){return(ru=(0,O.Z)(function*(P,V){V?P.vapidKey=V:P.vapidKey||(P.vapidKey=Ks)})).apply(this,arguments)}function ql(){return(ql=(0,O.Z)(function*(P,V){if(!navigator)throw jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jt.create("permission-blocked");return yield tl(P,V?.vapidKey),yield Wl(P,V?.serviceWorkerRegistration),ua(P)})).apply(this,arguments)}function Yl(P,V,ue){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,O.Z)(function*(P,V,ue){const Oe=il(V);(yield P.firebaseDependencies.analyticsProvider.get()).logEvent(Oe,{message_id:ue[Ga],message_name:ue[za],message_time:ue[Qc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function il(P){switch(P){case bo.NOTIFICATION_CLICKED:return"notification_open";case bo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Kl(){return(Kl=(0,O.Z)(function*(P,V){const ue=V.data;if(!ue.isFirebaseMessaging)return;P.onMessageHandler&&ue.messageType===bo.PUSH_RECEIVED&&("function"==typeof P.onMessageHandler?P.onMessageHandler(Ui(ue)):P.onMessageHandler.next(Ui(ue)));const Oe=ue.data;Gr(Oe)&&"1"===Oe[zp]&&(yield Yl(P,ue.messageType,Oe))})).apply(this,arguments)}const Ql="@firebase/messaging",As=P=>{const V=new Ph(P.getProvider("app").getImmediate(),P.getProvider("installations-internal").getImmediate(),P.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ue=>function su(P,V){return Kl.apply(this,arguments)}(V,ue)),V},Gn=P=>{const V=P.getProvider("messaging").getImmediate();return{getToken:Oe=>function nl(P,V){return ql.apply(this,arguments)}(V,Oe)}};function Rh(){return Xl.apply(this,arguments)}function Xl(){return(Xl=(0,O.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ou(){(0,pe._registerComponent)(new re.wA("messaging",As,"PUBLIC")),(0,pe._registerComponent)(new re.wA("messaging-internal",Gn,"PRIVATE")),(0,pe.registerVersion)(Ql,"0.9.16"),(0,pe.registerVersion)(Ql,"0.9.16","esm2017")}();const lu="analytics",Ss="firebase_id",fa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",So="https://www.googletagmanager.com/gtag/js",wi=new B.Yd("@firebase/analytics");function Nh(P){return Promise.all(P.map(V=>V.catch(ue=>ue)))}function qp(P,V){const ue=document.createElement("script");ue.src=`${So}?l=${P}&id=${V}`,ue.async=!0,document.head.appendChild(ue)}function Vh(P,V,ue,Oe,ze,Je){return To.apply(this,arguments)}function To(){return(To=(0,O.Z)(function*(P,V,ue,Oe,ze,Je){const pt=Oe[ze];try{if(pt)yield V[pt];else{const Zt=(yield Nh(ue)).find(hn=>hn.measurementId===ze);Zt&&(yield V[Zt.appId])}}catch(Pt){wi.error(Pt)}P("config",ze,Je)})).apply(this,arguments)}function md(P,V,ue,Oe,ze){return pa.apply(this,arguments)}function pa(){return(pa=(0,O.Z)(function*(P,V,ue,Oe,ze){try{let Je=[];if(ze&&ze.send_to){let pt=ze.send_to;Array.isArray(pt)||(pt=[pt]);const Pt=yield Nh(ue);for(const Zt of pt){const hn=Pt.find(Wt=>Wt.measurementId===Zt),_n=hn&&V[hn.appId];if(!_n){Je=[];break}Je.push(_n)}}0===Je.length&&(Je=Object.values(V)),yield Promise.all(Je),P("event",Oe,ze||{})}catch(Je){wi.error(Je)}})).apply(this,arguments)}function Uh(){const P=window.document.getElementsByTagName("script");for(const V of Object.values(P))if(V.src&&V.src.includes(So))return V;return null}const zr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Yp=new class Cr{constructor(V={},ue=1e3){this.throttleMetadata=V,this.intervalMillis=ue}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,ue){this.throttleMetadata[V]=ue}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function zn(P){return new Headers({Accept:"application/json","x-goog-api-key":P})}function Wr(P){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,O.Z)(function*(P){var V;const{appId:ue,apiKey:Oe}=P,ze={method:"GET",headers:zn(Oe)},Je=fa.replace("{app-id}",ue),pt=yield fetch(Je,ze);if(200!==pt.status&&304!==pt.status){let Pt="";try{const Zt=yield pt.json();null!==(V=Zt.error)&&void 0!==V&&V.message&&(Pt=Zt.error.message)}catch{}throw zr.create("config-fetch-failed",{httpStatus:pt.status,responseMessage:Pt})}return pt.json()})).apply(this,arguments)}function yt(P){return oi.apply(this,arguments)}function oi(){return(oi=(0,O.Z)(function*(P,V=Yp,ue){const{appId:Oe,apiKey:ze,measurementId:Je}=P.options;if(!Oe)throw zr.create("no-app-id");if(!ze){if(Je)return{measurementId:Je,appId:Oe};throw zr.create("no-api-key")}const pt=V.getThrottleMetadata(Oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Pt=new tc;return setTimeout((0,O.Z)(function*(){Pt.abort()}),void 0!==ue?ue:6e4),Wn({appId:Oe,apiKey:ze,measurementId:Je},pt,Pt,V)})).apply(this,arguments)}function Wn(P,V,ue){return ol.apply(this,arguments)}function ol(){return(ol=(0,O.Z)(function*(P,{throttleEndTimeMillis:V,backoffCount:ue},Oe,ze=Yp){var Je,pt;const{appId:Pt,measurementId:Zt}=P;try{yield al(Oe,V)}catch(hn){if(Zt)return wi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zt} provided in the "measurementId" field in the local Firebase config. [${null===(Je=hn)||void 0===Je?void 0:Je.message}]`),{appId:Pt,measurementId:Zt};throw hn}try{const hn=yield Wr(P);return ze.deleteThrottleMetadata(Pt),hn}catch(hn){const _n=hn;if(!ec(_n)){if(ze.deleteThrottleMetadata(Pt),Zt)return wi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Zt} provided in the "measurementId" field in the local Firebase config. [${_n?.message}]`),{appId:Pt,measurementId:Zt};throw hn}const Wt=503===Number(null===(pt=_n?.customData)||void 0===pt?void 0:pt.httpStatus)?(0,ie.$s)(ue,ze.intervalMillis,30):(0,ie.$s)(ue,ze.intervalMillis),fi={throttleEndTimeMillis:Date.now()+Wt,backoffCount:ue+1};return ze.setThrottleMetadata(Pt,fi),wi.debug(`Calling attemptFetch again in ${Wt} millis`),Wn(P,fi,Oe,ze)}})).apply(this,arguments)}function al(P,V){return new Promise((ue,Oe)=>{const ze=Math.max(V-Date.now(),0),Je=setTimeout(ue,ze);P.addEventListener(()=>{clearTimeout(Je),Oe(zr.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function ec(P){if(!(P instanceof ie.ZR&&P.customData))return!1;const V=Number(P.customData.httpStatus);return 429===V||500===V||503===V||504===V}class tc{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}let ll,as;function qr(){return(qr=(0,O.Z)(function*(P,V,ue,Oe,ze){if(ze&&ze.global)P("event",ue,Oe);else{const Je=yield V;P("event",ue,Object.assign(Object.assign({},Oe),{send_to:Je}))}})).apply(this,arguments)}function rc(P){as=P}function xo(P){ll=P}function cu(){return ga.apply(this,arguments)}function ga(){return(ga=(0,O.Z)(function*(){var P;if(!(0,ie.hl)())return wi.warn(zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(V){return wi.warn(zr.create("indexeddb-unavailable",{errorInfo:null===(P=V)||void 0===P?void 0:P.toString()}).message),!1}return!0})).apply(this,arguments)}function no(){return(no=(0,O.Z)(function*(P,V,ue,Oe,ze,Je,pt){var Pt;const Zt=yt(P);Zt.then(ar=>{ue[ar.measurementId]=ar.appId,P.options.measurementId&&ar.measurementId!==P.options.measurementId&&wi.warn(`The measurement ID in the local Firebase config (${P.options.measurementId}) does not match the measurement ID fetched from the server (${ar.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ar=>wi.error(ar)),V.push(Zt);const hn=cu().then(ar=>{if(ar)return Oe.getId()}),[_n,Wt]=yield Promise.all([Zt,hn]);Uh()||qp(Je,_n.measurementId),as&&(ze("consent","default",as),rc(void 0)),ze("js",new Date);const fi=null!==(Pt=pt?.config)&&void 0!==Pt?Pt:{};return fi.origin="firebase",fi.update=!0,null!=Wt&&(fi[Ss]=Wt),ze("config",_n.measurementId,fi),ll&&(ze("set",ll),xo(void 0)),_n.measurementId})).apply(this,arguments)}class _a{constructor(V){this.app=V}_delete(){return delete Jn[this.app.options.appId],Promise.resolve()}}let Jn={},or=[];const uu={};let Vn,Hn,Dr="dataLayer",Tn=!1;function ei(P,V,ue){!function ai(){const P=[];if((0,ie.ru)()&&P.push("This is a browser extension environment."),(0,ie.zI)()||P.push("Cookies are not available."),P.length>0){const V=P.map((Oe,ze)=>`(${ze+1}) ${Oe}`).join(" "),ue=zr.create("invalid-analytics-context",{errorInfo:V});wi.warn(ue.message)}}();const Oe=P.options.appId;if(!Oe)throw zr.create("no-app-id");if(!P.options.apiKey){if(!P.options.measurementId)throw zr.create("no-api-key");wi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${P.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Jn[Oe])throw zr.create("already-exists",{id:Oe});if(!Tn){!function g_(P){let V=[];Array.isArray(window[P])?V=window[P]:window[P]=V}(Dr);const{wrappedGtag:Je,gtagCore:pt}=function Bh(P,V,ue,Oe,ze){let Je=function(...pt){window[Oe].push(arguments)};return window[ze]&&"function"==typeof window[ze]&&(Je=window[ze]),window[ze]=function Jl(P,V,ue,Oe){function Je(){return(Je=(0,O.Z)(function*(pt,Pt,Zt){try{"event"===pt?yield md(P,V,ue,Pt,Zt):"config"===pt?yield Vh(P,V,ue,Oe,Pt,Zt):"consent"===pt?P("consent","update",Zt):P("set",Pt)}catch(hn){wi.error(hn)}})).apply(this,arguments)}return function ze(pt,Pt,Zt){return Je.apply(this,arguments)}}(Je,P,V,ue),{gtagCore:Je,wrappedGtag:window[ze]}}(Jn,or,uu,Dr,"gtag");Hn=Je,Vn=pt,Tn=!0}return Jn[Oe]=function mr(P,V,ue,Oe,ze,Je,pt){return no.apply(this,arguments)}(P,or,uu,V,Vn,Dr,ue),new _a(P)}function ji(){return cl.apply(this,arguments)}function cl(){return(cl=(0,O.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const ya="@firebase/analytics";!function ls(){(0,pe._registerComponent)(new re.wA(lu,(V,{options:ue})=>ei(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),ue),"PUBLIC")),(0,pe._registerComponent)(new re.wA("analytics-internal",function P(V){try{const ue=V.getProvider(lu).getImmediate();return{logEvent:(Oe,ze,Je)=>function gr(P,V,ue,Oe){P=(0,ie.m9)(P),function _d(P,V,ue,Oe,ze){return qr.apply(this,arguments)}(Hn,Jn[P.app.options.appId],V,ue,Oe).catch(ze=>wi.error(ze))}(ue,Oe,ze,Je)}}catch(ue){throw zr.create("interop-component-reg-failed",{reason:ue})}},"PRIVATE")),(0,pe.registerVersion)(ya,"0.8.0"),(0,pe.registerVersion)(ya,"0.8.0","esm2017")}();var sc=R(4408),cs=R(7565);const du=new class fn extends cs.v{}(class dl extends sc.o{constructor(V,ue){super(V,ue),this.scheduler=V,this.work=ue}schedule(V,ue=0){return ue>0?super.schedule(V,ue):(this.delay=ue,this.state=V,this.scheduler.flush(this),this)}execute(V,ue){return ue>0||this.closed?super.execute(V,ue):this._execute(V,ue)}requestAsyncId(V,ue,Oe=0){return null!=Oe&&Oe>0||null==Oe&&this.delay>0?super.requestAsyncId(V,ue,Oe):V.flush(this)}});var yd=R(4986),oc=R(8505),Oi=R(9468),Gi=R(5363);const ac=new s.GfV("7.4.1"),Ts="__angularfire_symbol__analyticsIsSupportedValue",jh="__angularfire_symbol__analyticsIsSupported",ci="__angularfire_symbol__remoteConfigIsSupportedValue",Er="__angularfire_symbol__remoteConfigIsSupported",fl="__angularfire_symbol__messagingIsSupportedValue",hu="__angularfire_symbol__messagingIsSupported";function Io(P,V,ue){if(V){if(1===V.length)return V[0];const Je=V.filter(pt=>pt.app===ue);if(1===Je.length)return Je[0]}return ue.container.getProvider(P).getImmediate({optional:!0})}globalThis[jh]||(globalThis[jh]=ji().then(P=>globalThis[Ts]=P).catch(()=>globalThis[Ts]=!1)),globalThis[hu]||(globalThis[hu]=Rh().then(P=>globalThis[fl]=P).catch(()=>globalThis[fl]=!1)),globalThis[Er]||(globalThis[Er]=Ul().then(P=>globalThis[ci]=P).catch(()=>globalThis[ci]=!1));const bd=(P,V)=>{const ue=V?[V]:(0,te.C6)(),Oe=[];return ue.forEach(ze=>{ze.container.getProvider(P).instances.forEach(pt=>{Oe.includes(pt)||Oe.push(pt)})}),Oe};function Yr(){}class xs{constructor(V,ue=du){this.zone=V,this.delegate=ue}now(){return this.delegate.now()}schedule(V,ue,Oe){const ze=this.zone;return this.delegate.schedule(function(pt){ze.runGuarded(()=>{V.apply(this,[pt])})},ue,Oe)}}class Mo{constructor(V){this.zone=V,this.task=null}call(V,ue){const Oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yr,{},Yr,Yr)),ue.pipe((0,oc.b)({next:Oe,complete:Oe,error:Oe})).subscribe(V).add(Oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ko=(()=>{class P{constructor(ue){this.ngZone=ue,this.outsideAngular=ue.runOutsideAngular(()=>new xs(Zone.current)),this.insideAngular=ue.run(()=>new xs(Zone.current,yd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return P.\u0275fac=function(ue){return new(ue||P)(s.LFG(s.R0b))},P.\u0275prov=s.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function cn(){const P=globalThis.\u0275AngularFireScheduler;if(!P)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return P}function lc(P){return cn(),function ui(P){return function(ue){return(ue=ue.lift(new Mo(P.ngZone))).pipe((0,Oi.R)(P.outsideAngular),(0,Gi.Q)(P.insideAngular))}}(cn())(P)}},2090:(Ie,x,R)=>{"use strict";R.d(x,{$s:()=>rt,BH:()=>$,G6:()=>j,L:()=>ce,LL:()=>Re,Mn:()=>N,Sg:()=>ae,UG:()=>z,US:()=>re,ZB:()=>Y,ZR:()=>ye,b$:()=>A,d:()=>F,eu:()=>oe,hl:()=>S,jU:()=>Z,m9:()=>Ze,ne:()=>lt,pd:()=>gt,r3:()=>ne,ru:()=>D,tV:()=>he,uI:()=>fe,vZ:()=>ke,w1:()=>X,xO:()=>Ye,xb:()=>be,z$:()=>q,zI:()=>W,zd:()=>Qe});const pe=function(Ee){const Te=[];let Ce=0;for(let Ae=0;Ae<Ee.length;Ae++){let Pe=Ee.charCodeAt(Ae);Pe<128?Te[Ce++]=Pe:Pe<2048?(Te[Ce++]=Pe>>6|192,Te[Ce++]=63&Pe|128):55296==(64512&Pe)&&Ae+1<Ee.length&&56320==(64512&Ee.charCodeAt(Ae+1))?(Pe=65536+((1023&Pe)<<10)+(1023&Ee.charCodeAt(++Ae)),Te[Ce++]=Pe>>18|240,Te[Ce++]=Pe>>12&63|128,Te[Ce++]=Pe>>6&63|128,Te[Ce++]=63&Pe|128):(Te[Ce++]=Pe>>12|224,Te[Ce++]=Pe>>6&63|128,Te[Ce++]=63&Pe|128)}return Te},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ee,Te){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=Te?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let Pe=0;Pe<Ee.length;Pe+=3){const We=Ee[Pe],at=Pe+1<Ee.length,Dt=at?Ee[Pe+1]:0,Xt=Pe+2<Ee.length,tn=Xt?Ee[Pe+2]:0;let nn=(15&Dt)<<2|tn>>6,bn=63&tn;Xt||(bn=64,at||(nn=64)),Ae.push(Ce[We>>2],Ce[(3&We)<<4|Dt>>4],Ce[nn],Ce[bn])}return Ae.join("")},encodeString(Ee,Te){return this.HAS_NATIVE_SUPPORT&&!Te?btoa(Ee):this.encodeByteArray(pe(Ee),Te)},decodeString(Ee,Te){return this.HAS_NATIVE_SUPPORT&&!Te?atob(Ee):function(Ee){const Te=[];let Ce=0,Ae=0;for(;Ce<Ee.length;){const Pe=Ee[Ce++];if(Pe<128)Te[Ae++]=String.fromCharCode(Pe);else if(Pe>191&&Pe<224){const We=Ee[Ce++];Te[Ae++]=String.fromCharCode((31&Pe)<<6|63&We)}else if(Pe>239&&Pe<365){const Xt=((7&Pe)<<18|(63&Ee[Ce++])<<12|(63&Ee[Ce++])<<6|63&Ee[Ce++])-65536;Te[Ae++]=String.fromCharCode(55296+(Xt>>10)),Te[Ae++]=String.fromCharCode(56320+(1023&Xt))}else{const We=Ee[Ce++],at=Ee[Ce++];Te[Ae++]=String.fromCharCode((15&Pe)<<12|(63&We)<<6|63&at)}}return Te.join("")}(this.decodeStringToByteArray(Ee,Te))},decodeStringToByteArray(Ee,Te){this.init_();const Ce=Te?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let Pe=0;Pe<Ee.length;){const We=Ce[Ee.charAt(Pe++)],Dt=Pe<Ee.length?Ce[Ee.charAt(Pe)]:0;++Pe;const tn=Pe<Ee.length?Ce[Ee.charAt(Pe)]:64;++Pe;const en=Pe<Ee.length?Ce[Ee.charAt(Pe)]:64;if(++Pe,null==We||null==Dt||null==tn||null==en)throw Error();Ae.push(We<<2|Dt>>4),64!==tn&&(Ae.push(Dt<<4&240|tn>>2),64!==en&&Ae.push(tn<<6&192|en))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}},ce=function(Ee){return function(Ee){const Te=pe(Ee);return re.encodeByteArray(Te,!0)}(Ee).replace(/\./g,"")},he=function(Ee){try{return re.decodeString(Ee,!0)}catch(Te){console.error("base64Decode failed: ",Te)}return null};function Y(Ee,Te){if(!(Te instanceof Object))return Te;switch(Te.constructor){case Date:return new Date(Te.getTime());case Object:void 0===Ee&&(Ee={});break;case Array:Ee=[];break;default:return Te}for(const Ce in Te)!Te.hasOwnProperty(Ce)||!se(Ce)||(Ee[Ce]=Y(Ee[Ce],Te[Ce]));return Ee}function se(Ee){return"__proto__"!==Ee}class ${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Te,Ce)=>{this.resolve=Te,this.reject=Ce})}wrapCallback(Te){return(Ce,Ae)=>{Ce?this.reject(Ce):this.resolve(Ae),"function"==typeof Te&&(this.promise.catch(()=>{}),1===Te.length?Te(Ce):Te(Ce,Ae))}}}function ae(Ee,Te){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=Te||"demo-project",Pe=Ee.iat||0,We=Ee.sub||Ee.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const at=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:Pe,exp:Pe+3600,auth_time:Pe,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(at)),""].join(".")}function q(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(q())}function z(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Z(){return"object"==typeof self&&self.self===self}function D(){const Ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ee&&void 0!==Ee.id}function A(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function F(){return q().indexOf("Electron/")>=0}function X(){const Ee=q();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function N(){return q().indexOf("MSAppHost/")>=0}function j(){return!z()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){return"object"==typeof indexedDB}function oe(){return new Promise((Ee,Te)=>{try{let Ce=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",Pe=self.indexedDB.open(Ae);Pe.onsuccess=()=>{Pe.result.close(),Ce||self.indexedDB.deleteDatabase(Ae),Ee(!0)},Pe.onupgradeneeded=()=>{Ce=!1},Pe.onerror=()=>{var We;Te((null===(We=Pe.error)||void 0===We?void 0:We.message)||"")}}catch(Ce){Te(Ce)}})}function W(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ye extends Error{constructor(Te,Ce,Ae){super(Ce),this.code=Te,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Re.prototype.create)}}class Re{constructor(Te,Ce,Ae){this.service=Te,this.serviceName=Ce,this.errors=Ae}create(Te,...Ce){const Ae=Ce[0]||{},Pe=`${this.service}/${Te}`,We=this.errors[Te],at=We?function Ve(Ee,Te){return Ee.replace(Xe,(Ce,Ae)=>{const Pe=Te[Ae];return null!=Pe?String(Pe):`<${Ae}?>`})}(We,Ae):"Error";return new ye(Pe,`${this.serviceName}: ${at} (${Pe}).`,Ae)}}const Xe=/\{\$([^}]+)}/g;function ne(Ee,Te){return Object.prototype.hasOwnProperty.call(Ee,Te)}function be(Ee){for(const Te in Ee)if(Object.prototype.hasOwnProperty.call(Ee,Te))return!1;return!0}function ke(Ee,Te){if(Ee===Te)return!0;const Ce=Object.keys(Ee),Ae=Object.keys(Te);for(const Pe of Ce){if(!Ae.includes(Pe))return!1;const We=Ee[Pe],at=Te[Pe];if(Ue(We)&&Ue(at)){if(!ke(We,at))return!1}else if(We!==at)return!1}for(const Pe of Ae)if(!Ce.includes(Pe))return!1;return!0}function Ue(Ee){return null!==Ee&&"object"==typeof Ee}function Ye(Ee){const Te=[];for(const[Ce,Ae]of Object.entries(Ee))Array.isArray(Ae)?Ae.forEach(Pe=>{Te.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Pe))}):Te.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Ae));return Te.length?"&"+Te.join("&"):""}function Qe(Ee){const Te={};return Ee.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[Pe,We]=Ae.split("=");Te[decodeURIComponent(Pe)]=decodeURIComponent(We)}}),Te}function gt(Ee){const Te=Ee.indexOf("?");if(!Te)return"";const Ce=Ee.indexOf("#",Te);return Ee.substring(Te,Ce>0?Ce:void 0)}function lt(Ee,Te){const Ce=new _t(Ee,Te);return Ce.subscribe.bind(Ce)}class _t{constructor(Te,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{Te(this)}).catch(Ae=>{this.error(Ae)})}next(Te){this.forEachObserver(Ce=>{Ce.next(Te)})}error(Te){this.forEachObserver(Ce=>{Ce.error(Te)}),this.close(Te)}complete(){this.forEachObserver(Te=>{Te.complete()}),this.close()}subscribe(Te,Ce,Ae){let Pe;if(void 0===Te&&void 0===Ce&&void 0===Ae)throw new Error("Missing Observer.");Pe=function Rt(Ee,Te){if("object"!=typeof Ee||null===Ee)return!1;for(const Ce of Te)if(Ce in Ee&&"function"==typeof Ee[Ce])return!0;return!1}(Te,["next","error","complete"])?Te:{next:Te,error:Ce,complete:Ae},void 0===Pe.next&&(Pe.next=Ot),void 0===Pe.error&&(Pe.error=Ot),void 0===Pe.complete&&(Pe.complete=Ot);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Pe.error(this.finalError):Pe.complete()}catch{}}),this.observers.push(Pe),We}unsubscribeOne(Te){void 0===this.observers||void 0===this.observers[Te]||(delete this.observers[Te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Te){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,Te)}sendOne(Te,Ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Te])try{Ce(this.observers[Te])}catch(Ae){typeof console<"u"&&console.error&&console.error(Ae)}})}close(Te){this.finalized||(this.finalized=!0,void 0!==Te&&(this.finalError=Te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ot(){}function rt(Ee,Te=1e3,Ce=2){const Ae=Te*Math.pow(Ce,Ee),Pe=Math.round(.5*Ae*(Math.random()-.5)*2);return Math.min(144e5,Ae+Pe)}function Ze(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}},2350:(Ie,x,R)=>{"use strict";var s=R(4650);let te=null;function O(){return te}const B=new s.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function he(){return(0,s.LFG)(Y)}()},providedIn:"platform"}),n})();const ee=new s.OlP("Location Initialized");let Y=(()=>{class n extends ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){se()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){se()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function $(){return new Y((0,s.LFG)(B))}()},providedIn:"platform"}),n})();function se(){return!!window.history.pushState}function ae(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function q(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function fe(n){return n&&"?"!==n[0]?"?"+n:n}let z=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(D)},providedIn:"root"}),n})();const Z=new s.OlP("appBaseHref");let D=(()=>{class n extends z{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(B).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ae(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+fe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,o){const u=this.prepareExternalUrl(r+fe(o));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){const u=this.prepareExternalUrl(r+fe(o));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ce),s.LFG(Z,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A=(()=>{class n extends z{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ae(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,o){let u=this.prepareExternalUrl(r+fe(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,o){let u=this.prepareExternalUrl(r+fe(o));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ce),s.LFG(Z,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),F=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=q(J(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+fe(i))}normalize(e){return n.stripTrailingSlash(function N(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,J(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fe(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=fe,n.joinWithSlash=ae,n.stripTrailingSlash=q,n.\u0275fac=function(e){return new(e||n)(s.LFG(z))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function X(){return new F((0,s.LFG)(z))}()},providedIn:"root"}),n})();function J(n){return n.replace(/\/index.html$/,"")}var W=(()=>((W=W||{})[W.Format=0]="Format",W[W.Standalone=1]="Standalone",W))(),le=(()=>((le=le||{})[le.Narrow=0]="Narrow",le[le.Abbreviated=1]="Abbreviated",le[le.Wide=2]="Wide",le[le.Short=3]="Short",le))(),me=(()=>((me=me||{})[me.Short=0]="Short",me[me.Medium=1]="Medium",me[me.Long=2]="Long",me[me.Full=3]="Full",me))(),ye=(()=>((ye=ye||{})[ye.Decimal=0]="Decimal",ye[ye.Group=1]="Group",ye[ye.List=2]="List",ye[ye.PercentSign=3]="PercentSign",ye[ye.PlusSign=4]="PlusSign",ye[ye.MinusSign=5]="MinusSign",ye[ye.Exponential=6]="Exponential",ye[ye.SuperscriptingExponent=7]="SuperscriptingExponent",ye[ye.PerMille=8]="PerMille",ye[ye.Infinity=9]="Infinity",ye[ye.NaN=10]="NaN",ye[ye.TimeSeparator=11]="TimeSeparator",ye[ye.CurrencyDecimal=12]="CurrencyDecimal",ye[ye.CurrencyGroup=13]="CurrencyGroup",ye))();function L(n,t){return _t((0,s.cg1)(n)[s.wAp.DateFormat],t)}function Q(n,t){return _t((0,s.cg1)(n)[s.wAp.TimeFormat],t)}function ne(n,t){return _t((0,s.cg1)(n)[s.wAp.DateTimeFormat],t)}function U(n,t){const e=(0,s.cg1)(n),i=e[s.wAp.NumberSymbols][t];if(typeof i>"u"){if(t===ye.CurrencyDecimal)return e[s.wAp.NumberSymbols][ye.Decimal];if(t===ye.CurrencyGroup)return e[s.wAp.NumberSymbols][ye.Group]}return i}function Qe(n){if(!n[s.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[s.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function _t(n,t){for(let e=t;e>-1;e--)if(typeof n[e]<"u")return n[e];throw new Error("Locale data API: locale data undefined")}function ct(n){const[t,e]=n.split(":");return{hours:+t,minutes:+e}}const nt=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,dt={},kt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ke=(()=>((Ke=Ke||{})[Ke.Short=0]="Short",Ke[Ke.ShortGMT=1]="ShortGMT",Ke[Ke.Long=2]="Long",Ke[Ke.Extended=3]="Extended",Ke))(),ge=(()=>((ge=ge||{})[ge.FullYear=0]="FullYear",ge[ge.Month=1]="Month",ge[ge.Date=2]="Date",ge[ge.Hours=3]="Hours",ge[ge.Minutes=4]="Minutes",ge[ge.Seconds=5]="Seconds",ge[ge.FractionalSeconds=6]="FractionalSeconds",ge[ge.Day=7]="Day",ge))(),xe=(()=>((xe=xe||{})[xe.DayPeriods=0]="DayPeriods",xe[xe.Days=1]="Days",xe[xe.Months=2]="Months",xe[xe.Eras=3]="Eras",xe))();function ft(n,t,e,i){let r=function bn(n){if(Pn(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[r,o=1,u=1]=n.split("-").map(h=>+h);return wt(r,o-1,u)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let i;if(i=n.match(nt))return function An(n){const t=new Date(0);let e=0,i=0;const r=n[8]?t.setUTCFullYear:t.setFullYear,o=n[8]?t.setUTCHours:t.setHours;n[9]&&(e=Number(n[9]+n[10]),i=Number(n[9]+n[11])),r.call(t,Number(n[1]),Number(n[2])-1,Number(n[3]));const u=Number(n[4]||0)-e,h=Number(n[5]||0)-i,_=Number(n[6]||0),w=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(t,u,h,_,w),t}(i)}const t=new Date(n);if(!Pn(t))throw new Error(`Unable to convert "${n}" into a date`);return t}(n);t=Ne(e,t)||t;let h,u=[];for(;t;){if(h=kt.exec(t),!h){u.push(t);break}{u=u.concat(h.slice(1));const I=u.pop();if(!I)break;t=I}}let _=r.getTimezoneOffset();i&&(_=Rn(i,_),r=function nn(n,t,e){const i=e?-1:1,r=n.getTimezoneOffset();return function en(n,t){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+t),n}(n,i*(Rn(t,r)-r))}(r,i,!0));let w="";return u.forEach(I=>{const H=function tn(n){if(Xt[n])return Xt[n];let t;switch(n){case"G":case"GG":case"GGG":t=Ze(xe.Eras,le.Abbreviated);break;case"GGGG":t=Ze(xe.Eras,le.Wide);break;case"GGGGG":t=Ze(xe.Eras,le.Narrow);break;case"y":t=vt(ge.FullYear,1,0,!1,!0);break;case"yy":t=vt(ge.FullYear,2,0,!0,!0);break;case"yyy":t=vt(ge.FullYear,3,0,!1,!0);break;case"yyyy":t=vt(ge.FullYear,4,0,!1,!0);break;case"Y":t=Dt(1);break;case"YY":t=Dt(2,!0);break;case"YYY":t=Dt(3);break;case"YYYY":t=Dt(4);break;case"M":case"L":t=vt(ge.Month,1,1);break;case"MM":case"LL":t=vt(ge.Month,2,1);break;case"MMM":t=Ze(xe.Months,le.Abbreviated);break;case"MMMM":t=Ze(xe.Months,le.Wide);break;case"MMMMM":t=Ze(xe.Months,le.Narrow);break;case"LLL":t=Ze(xe.Months,le.Abbreviated,W.Standalone);break;case"LLLL":t=Ze(xe.Months,le.Wide,W.Standalone);break;case"LLLLL":t=Ze(xe.Months,le.Narrow,W.Standalone);break;case"w":t=at(1);break;case"ww":t=at(2);break;case"W":t=at(1,!0);break;case"d":t=vt(ge.Date,1);break;case"dd":t=vt(ge.Date,2);break;case"c":case"cc":t=vt(ge.Day,1);break;case"ccc":t=Ze(xe.Days,le.Abbreviated,W.Standalone);break;case"cccc":t=Ze(xe.Days,le.Wide,W.Standalone);break;case"ccccc":t=Ze(xe.Days,le.Narrow,W.Standalone);break;case"cccccc":t=Ze(xe.Days,le.Short,W.Standalone);break;case"E":case"EE":case"EEE":t=Ze(xe.Days,le.Abbreviated);break;case"EEEE":t=Ze(xe.Days,le.Wide);break;case"EEEEE":t=Ze(xe.Days,le.Narrow);break;case"EEEEEE":t=Ze(xe.Days,le.Short);break;case"a":case"aa":case"aaa":t=Ze(xe.DayPeriods,le.Abbreviated);break;case"aaaa":t=Ze(xe.DayPeriods,le.Wide);break;case"aaaaa":t=Ze(xe.DayPeriods,le.Narrow);break;case"b":case"bb":case"bbb":t=Ze(xe.DayPeriods,le.Abbreviated,W.Standalone,!0);break;case"bbbb":t=Ze(xe.DayPeriods,le.Wide,W.Standalone,!0);break;case"bbbbb":t=Ze(xe.DayPeriods,le.Narrow,W.Standalone,!0);break;case"B":case"BB":case"BBB":t=Ze(xe.DayPeriods,le.Abbreviated,W.Format,!0);break;case"BBBB":t=Ze(xe.DayPeriods,le.Wide,W.Format,!0);break;case"BBBBB":t=Ze(xe.DayPeriods,le.Narrow,W.Format,!0);break;case"h":t=vt(ge.Hours,1,-12);break;case"hh":t=vt(ge.Hours,2,-12);break;case"H":t=vt(ge.Hours,1);break;case"HH":t=vt(ge.Hours,2);break;case"m":t=vt(ge.Minutes,1);break;case"mm":t=vt(ge.Minutes,2);break;case"s":t=vt(ge.Seconds,1);break;case"ss":t=vt(ge.Seconds,2);break;case"S":t=vt(ge.FractionalSeconds,1);break;case"SS":t=vt(ge.FractionalSeconds,2);break;case"SSS":t=vt(ge.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Te(Ke.Short);break;case"ZZZZZ":t=Te(Ke.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Te(Ke.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Te(Ke.Long);break;default:return null}return Xt[n]=t,t}(I);w+=H?H(r,e,_):"''"===I?"'":I.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),w}function wt(n,t,e){const i=new Date(0);return i.setFullYear(n,t,e),i.setHours(0,0,0),i}function Ne(n,t){const e=function Ve(n){return(0,s.cg1)(n)[s.wAp.LocaleId]}(n);if(dt[e]=dt[e]||{},dt[e][t])return dt[e][t];let i="";switch(t){case"shortDate":i=L(n,me.Short);break;case"mediumDate":i=L(n,me.Medium);break;case"longDate":i=L(n,me.Long);break;case"fullDate":i=L(n,me.Full);break;case"shortTime":i=Q(n,me.Short);break;case"mediumTime":i=Q(n,me.Medium);break;case"longTime":i=Q(n,me.Long);break;case"fullTime":i=Q(n,me.Full);break;case"short":const r=Ne(n,"shortTime"),o=Ne(n,"shortDate");i=we(ne(n,me.Short),[r,o]);break;case"medium":const u=Ne(n,"mediumTime"),h=Ne(n,"mediumDate");i=we(ne(n,me.Medium),[u,h]);break;case"long":const _=Ne(n,"longTime"),w=Ne(n,"longDate");i=we(ne(n,me.Long),[_,w]);break;case"full":const I=Ne(n,"fullTime"),H=Ne(n,"fullDate");i=we(ne(n,me.Full),[I,H])}return i&&(dt[e][t]=i),i}function we(n,t){return t&&(n=n.replace(/\{([^}]+)}/g,function(e,i){return null!=t&&i in t?t[i]:e})),n}function Fe(n,t,e="-",i,r){let o="";(n<0||r&&n<=0)&&(r?n=1-n:(n=-n,o=e));let u=String(n);for(;u.length<t;)u="0"+u;return i&&(u=u.slice(u.length-t)),o+u}function vt(n,t,e=0,i=!1,r=!1){return function(o,u){let h=function Yt(n,t){switch(n){case ge.FullYear:return t.getFullYear();case ge.Month:return t.getMonth();case ge.Date:return t.getDate();case ge.Hours:return t.getHours();case ge.Minutes:return t.getMinutes();case ge.Seconds:return t.getSeconds();case ge.FractionalSeconds:return t.getMilliseconds();case ge.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((e>0||h>-e)&&(h+=e),n===ge.Hours)0===h&&-12===e&&(h=12);else if(n===ge.FractionalSeconds)return function rt(n,t){return Fe(n,3).substring(0,t)}(h,t);const _=U(u,ye.MinusSign);return Fe(h,t,_,i,r)}}function Ze(n,t,e=W.Format,i=!1){return function(r,o){return function Ee(n,t,e,i,r,o){switch(e){case xe.Months:return function ve(n,t,e){const i=(0,s.cg1)(n),o=_t([i[s.wAp.MonthsFormat],i[s.wAp.MonthsStandalone]],t);return _t(o,e)}(t,r,i)[n.getMonth()];case xe.Days:return function it(n,t,e){const i=(0,s.cg1)(n),o=_t([i[s.wAp.DaysFormat],i[s.wAp.DaysStandalone]],t);return _t(o,e)}(t,r,i)[n.getDay()];case xe.DayPeriods:const u=n.getHours(),h=n.getMinutes();if(o){const w=function gt(n){const t=(0,s.cg1)(n);return Qe(t),(t[s.wAp.ExtraData][2]||[]).map(i=>"string"==typeof i?ct(i):[ct(i[0]),ct(i[1])])}(t),I=function Tt(n,t,e){const i=(0,s.cg1)(n);Qe(i);const o=_t([i[s.wAp.ExtraData][0],i[s.wAp.ExtraData][1]],t)||[];return _t(o,e)||[]}(t,r,i),H=w.findIndex(De=>{if(Array.isArray(De)){const[Me,Le]=De,$e=u>=Me.hours&&h>=Me.minutes,st=u<Le.hours||u===Le.hours&&h<Le.minutes;if(Me.hours<Le.hours){if($e&&st)return!0}else if($e||st)return!0}else if(De.hours===u&&De.minutes===h)return!0;return!1});if(-1!==H)return I[H]}return function Xe(n,t,e){const i=(0,s.cg1)(n),o=_t([i[s.wAp.DayPeriodsFormat],i[s.wAp.DayPeriodsStandalone]],t);return _t(o,e)}(t,r,i)[u<12?0:1];case xe.Eras:return function M(n,t){return _t((0,s.cg1)(n)[s.wAp.Eras],t)}(t,i)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(r,o,n,t,e,i)}}function Te(n){return function(t,e,i){const r=-1*i,o=U(e,ye.MinusSign),u=r>0?Math.floor(r/60):Math.ceil(r/60);switch(n){case Ke.Short:return(r>=0?"+":"")+Fe(u,2,o)+Fe(Math.abs(r%60),2,o);case Ke.ShortGMT:return"GMT"+(r>=0?"+":"")+Fe(u,1,o);case Ke.Long:return"GMT"+(r>=0?"+":"")+Fe(u,2,o)+":"+Fe(Math.abs(r%60),2,o);case Ke.Extended:return 0===i?"Z":(r>=0?"+":"")+Fe(u,2,o)+":"+Fe(Math.abs(r%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}function We(n){return wt(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function at(n,t=!1){return function(e,i){let r;if(t){const o=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,u=e.getDate();r=1+Math.floor((u+o)/7)}else{const o=We(e),u=function Pe(n){const t=wt(n,0,1).getDay();return wt(n,0,1+(t<=4?4:11)-t)}(o.getFullYear()),h=o.getTime()-u.getTime();r=1+Math.round(h/6048e5)}return Fe(r,n,U(i,ye.MinusSign))}}function Dt(n,t=!1){return function(e,i){return Fe(We(e).getFullYear(),n,U(i,ye.MinusSign),t)}}const Xt={};function Rn(n,t){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?t:e}function Pn(n){return n instanceof Date&&!isNaN(n.valueOf())}function On(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,o]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(o)}return null}let Ha=(()=>{class n{constructor(e,i,r,o){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class vo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bs=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,o,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new vo(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===o?void 0:o);else if(null!==o){const h=i.get(o);i.move(h,u),Ur(h,r)}});for(let r=0,o=i.length;r<o;r++){const h=i.get(r).context;h.index=r,h.count=o,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Ur(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ur(n,t){n.context.$implicit=t.item}let $s=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Vi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){rr("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){rr("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Vi{constructor(){this.$implicit=null,this.ngIf=null}}function rr(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class ra{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let Ws=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),qs=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new ra(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(Ws,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();function Ti(n,t){return new s.vHH(2100,!1)}class od{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Up{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const ws=new Up,Hp=new od;let Zc=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return ws;if((0,s.F4k)(e))return Hp;throw Ti()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})();const Gp=new s.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let kh=(()=>{class n{constructor(e,i){this.locale=e,this.defaultTimezone=i}transform(e,i="mediumDate",r,o){if(null==e||""===e||e!=e)return null;try{return ft(e,i,o||this.locale,r??this.defaultTimezone??void 0)}catch(u){throw Ti()}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.soG,16),s.Y36(Gp,24))},n.\u0275pipe=s.Yjl({name:"date",type:n,pure:!0,standalone:!0}),n})(),Bi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const bo="browser";function sr(n){return"server"===n}let Xc=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new Wa((0,s.LFG)(B),window)}),n})();class Wa{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Jc(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const u=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=gi(this.window.history)||gi(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function gi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class os{}class Ds extends class Ri extends class re{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){te||(te=n)}(new Ds)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function ud(){return jr=jr||document.querySelector("base"),jr?jr.getAttribute("href"):null}();return null==e?null:function qa(n){Ji=Ji||document.createElement("a"),Ji.setAttribute("href",n);const t=Ji.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){jr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return On(document.cookie,t)}}let Ji,jr=null;const aa=new s.OlP("TRANSITION_ID"),zl=[{provide:s.ip1,useFactory:function jt(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=O(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<r.length;o++)i.remove(r[o])})}},deps:[aa,B,s.zs3],multi:!0}];let tu=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const wo=new s.OlP("EventManagerPlugins");let Co=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let o=0;o<r.length;o++){const u=r[o];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(wo),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ya{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=O().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let la=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Do=(()=>{class n extends la{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(o=>{const u=this._doc.createElement("style");u.textContent=o,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(mt),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(mt))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function mt(n){O().remove(n)}const wn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ca=/%COMP%/g;function Es(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Es(n,r,e):(r=r.replace(ca,n),e.push(r))}return e}function $l(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Qa=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Qs(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new da(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new Gr(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Es(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Co),s.LFG(Do),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Qs{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(wn[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(nu(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(nu(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const o=wn[r];o?t.setAttributeNS(o,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=wn[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,$l(i)):this.eventManager.addEventListener(t,e,$l(i))}}function nu(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class da extends Qs{constructor(t,e,i,r){super(t),this.component=i;const o=Es(r+"-"+i.id,i.styles,[]);e.addStyles(o),this.contentAttr=function br(n){return"_ngcontent-%COMP%".replace(ca,n)}(r+"-"+i.id),this.hostAttr=function Ka(n){return"_nghost-%COMP%".replace(ca,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Gr extends Qs{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=Es(r.id,r.styles,[]);for(let u=0;u<o.length;u++){const h=document.createElement("style");h.textContent=o[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let hd=(()=>{class n extends Ya{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const iu=["alt","control","meta","shift"],Ph={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ao={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Ja={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Wl=(()=>{class n extends Ya{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const o=n.parseEventName(i),u=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,o.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let u="";if(iu.forEach(_=>{const w=i.indexOf(_);w>-1&&(i.splice(w,1),u+=_+".")}),u+=o,0!=i.length||0===o.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function el(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&Ao.hasOwnProperty(t)&&(t=Ao[t]))}return Ph[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),iu.forEach(o=>{o!=r&&(0,Ja[o])(e)&&(i+=o+".")}),i+=r,i}static eventCallback(e,i,r){return o=>{n.getEventFullKey(o)===e&&r.runGuarded(()=>i(o))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const su=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:bo},{provide:s.g9A,useValue:function ql(){Ds.makeCurrent()},multi:!0},{provide:B,useFactory:function Zl(){return(0,s.RDi)(document),document},deps:[]}]),Kl=new s.OlP(""),Ql=[{provide:s.rWj,useClass:class eu{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const o=t.findTestabilityInTree(i,r);if(null==o)throw new Error("Could not find testability for element.");return o},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let o=r.length,u=!1;const h=function(_){u=u||_,o--,0==o&&i(u)};r.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],bi=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Yl(){return new s.qLn},deps:[]},{provide:wo,useClass:hd,multi:!0,deps:[B,s.R0b,s.Lbi]},{provide:wo,useClass:Wl,multi:!0,deps:[B]},{provide:Qa,useClass:Qa,deps:[Co,Do,s.AFp]},{provide:s.FYo,useExisting:Qa},{provide:la,useExisting:Do},{provide:Do,useClass:Do,deps:[B]},{provide:Co,useClass:Co,deps:[wo,s.R0b]},{provide:os,useClass:tu,deps:[]},[]];let As=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:aa,useExisting:s.AFp},zl]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Kl,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...bi,...Ql],imports:[Bi,s.hGG]}),n})(),fd=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function Xl(){return new fd((0,s.LFG)(B))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let $r=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(Cr),i},providedIn:"root"}),n})(),Cr=(()=>{class n extends $r{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function gd(n){return new Cr(n.get(B))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var zn=R(8996),Wr=R(3269);function Nt(...n){const t=(0,Wr.yG)(n);return(0,zn.D)(n,t)}var yt=R(7579);class oi extends yt.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var Wn=R(9751);const{isArray:ol}=Array,{getPrototypeOf:al,prototype:ec,keys:tc}=Object;function ll(n){if(1===n.length){const t=n[0];if(ol(t))return{args:t,keys:null};if(function _d(n){return n&&"object"==typeof n&&al(n)===ec}(t)){const e=tc(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var qr=R(4671),Gt=R(4004);const{isArray:Js}=Array;function eo(n){return(0,Gt.U)(t=>function nc(n,t){return Js(t)?n(...t):n(t)}(n,t))}function to(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Zn=R(5403),ic=R(9672);function ma(...n){const t=(0,Wr.yG)(n),e=(0,Wr.jO)(n),{args:i,keys:r}=ll(n);if(0===i.length)return(0,zn.D)([],t);const o=new Wn.y(function as(n,t,e=qr.y){return i=>{rc(t,()=>{const{length:r}=n,o=new Array(r);let u=r,h=r;for(let _=0;_<r;_++)rc(t,()=>{const w=(0,zn.D)(n[_],t);let I=!1;w.subscribe((0,Zn.x)(i,H=>{o[_]=H,I||(I=!0,h--),h||i.next(e(o.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>to(r,u):qr.y));return e?o.pipe(eo(e)):o}function rc(n,t,e){n?(0,ic.f)(e,n,t):t()}var xo=R(8189);function ga(...n){return function cu(){return(0,xo.J)(1)}()((0,zn.D)(n,(0,Wr.yG)(n)))}var mr=R(8421);function no(n){return new Wn.y(t=>{(0,mr.Xf)(n()).subscribe(t)})}var _a=R(9635),Jn=R(576);function or(n,t){const e=(0,Jn.m)(n)?n:()=>n,i=r=>r.error(e());return new Wn.y(t?r=>t.schedule(i,0,r):i)}const Dr=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Hi=R(515),Vn=R(727),Hn=R(4482);function Tn(){return(0,Hn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Zn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,o=e;e=null,r&&(!o||r===o)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class Zp extends Wn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Hn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Vn.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Zn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Vn.w0.EMPTY)}return t}refCount(){return Tn()(this)}}function ai(n,t){return(0,Hn.e)((e,i)=>{let r=null,o=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,Zn.x)(i,_=>{r?.unsubscribe();let w=0;const I=o++;(0,mr.Xf)(n(_,I)).subscribe(r=(0,Zn.x)(i,H=>i.next(t?t(_,H,I,w++):H),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function ei(n){return n<=0?()=>Hi.E:(0,Hn.e)((t,e)=>{let i=0;t.subscribe((0,Zn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function Kn(...n){const t=(0,Wr.yG)(n);return(0,Hn.e)((e,i)=>{(t?ga(n,e,t):ga(n,e)).subscribe(i)})}function Qn(n,t){return(0,Hn.e)((e,i)=>{let r=0;e.subscribe((0,Zn.x)(i,o=>n.call(t,o,r++)&&i.next(o)))})}var ji=R(5577);function cl(n){return(0,Hn.e)((t,e)=>{let i=!1;t.subscribe((0,Zn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function ul(n=__){return(0,Hn.e)((t,e)=>{let i=!1;t.subscribe((0,Zn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function __(){return new Dr}function io(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Qn((r,o)=>n(r,o,i)):qr.y,ei(1),e?cl(t):ul(()=>new Dr))}function qn(n,t){return(0,Jn.m)(t)?(0,ji.z)(n,t,1):(0,ji.z)(n,1)}var li=R(8505);function gr(n){return(0,Hn.e)((t,e)=>{let o,i=null,r=!1;i=t.subscribe((0,Zn.x)(e,void 0,void 0,u=>{o=(0,mr.Xf)(n(u,gr(n)(t))),i?(i.unsubscribe(),i=null,o.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(e))})}function Hh(n,t,e,i,r){return(o,u)=>{let h=e,_=t,w=0;o.subscribe((0,Zn.x)(u,I=>{const H=w++;_=h?n(_,I,H):(h=!0,I),i&&u.next(_)},r&&(()=>{h&&u.next(_),u.complete()})))}}function ya(n,t){return(0,Hn.e)(Hh(n,t,arguments.length>=2,!0))}function xi(n){return n<=0?()=>Hi.E:(0,Hn.e)((t,e)=>{let i=[];t.subscribe((0,Zn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function ls(n,t){const e=arguments.length>=2;return i=>i.pipe(n?Qn((r,o)=>n(r,o,i)):qr.y,xi(1),e?cl(t):ul(()=>new Dr))}function dl(n){return(0,Gt.U)(()=>n)}function cs(n){return(0,Hn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const fn="primary";class du{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function hl(n){return new du(n)}function yd(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const u=i[o],h=n[o];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Oi(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let o=0;o<e.length;o++)if(r=e[o],!Gi(n[r],t[r]))return!1;return!0}function Gi(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,o)=>i[o]===r)}return n===t}function ac(n){return Array.prototype.concat.apply([],n)}function Ts(n){return n.length>0?n[n.length-1]:null}function ci(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function Er(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,zn.D)(Promise.resolve(n)):Nt(n)}const pl={exact:function Io(n,t,e){if(!ds(n.segments,t.segments)||!Mo(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Io(n.children[i],t.children[i],e))return!1;return!0},subset:Yr},Gh={exact:function vd(n,t){return Oi(n,t)},subset:function bd(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Gi(n[e],t[e]))},ignored:()=>!0};function fu(n,t,e){return pl[e.paths](n.root,t.root,e.matrixParams)&&Gh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Yr(n,t,e){return xs(n,t,t.segments,e)}function xs(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ds(r,e)||t.hasChildren()||!Mo(r,e,i))}if(n.segments.length===e.length){if(!ds(n.segments,e)||!Mo(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Yr(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),o=e.slice(n.segments.length);return!!(ds(n.segments,r)&&Mo(n.segments,r,i)&&n.children[fn])&&xs(n.children[fn],t,o,i)}}function Mo(n,t,e){return t.every((i,r)=>Gh[e](n[r].parameters,i.parameters))}class ko{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hl(this.queryParams)),this._queryParamMap}toString(){return wd.serialize(this)}}class cn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,ci(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cc(this)}}class Po{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=hl(this.parameters)),this._parameterMap}toString(){return Pt(this)}}function ds(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class lc{}class ui{parse(t){const e=new Ar(t);return new ko(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${P(t.root,!0)}`,i=function hn(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ue(e)}=${ue(r)}`).join("&"):`${ue(e)}=${ue(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Oe(n){return encodeURI(n)}(t.fragment)}`:""}`}}const wd=new ui;function cc(n){return n.segments.map(t=>Pt(t)).join("/")}function P(n,t){if(!n.hasChildren())return cc(n);if(t){const e=n.children[fn]?P(n.children[fn],!1):"",i=[];return ci(n.children,(r,o)=>{o!==fn&&i.push(`${o}:${P(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Ro(n,t){let e=[];return ci(n.children,(i,r)=>{r===fn&&(e=e.concat(t(i,r)))}),ci(n.children,(i,r)=>{r!==fn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===fn?[P(n.children[fn],!1)]:[`${r}:${P(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[fn]?`${cc(n)}/${e[0]}`:`${cc(n)}/(${e.join("//")})`}}function V(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ue(n){return V(n).replace(/%3B/gi,";")}function ze(n){return V(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Je(n){return decodeURIComponent(n)}function pt(n){return Je(n.replace(/\+/g,"%20"))}function Pt(n){return`${ze(n.path)}${function Zt(n){return Object.keys(n).map(t=>`;${ze(t)}=${ze(n[t])}`).join("")}(n.parameters)}`}const _n=/^[^\/()?;=#]+/;function Wt(n){const t=n.match(_n);return t?t[0]:""}const fi=/^[^=?&#]+/,ml=/^[^&#]+/;class Ar{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new cn([],{}):new cn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[fn]=new cn(t,e)),i}parseSegment(){const t=Wt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(t),new Po(Je(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Wt(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Wt(this.remaining);r&&(i=r,this.capture(i))}t[Je(e)]=Je(i)}parseQueryParam(t){const e=function ar(n){const t=n.match(fi);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function va(n){const t=n.match(ml);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=pt(e),o=pt(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(o)}else t[r]=o}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Wt(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=fn);const u=this.parseChildren();e[o]=1===Object.keys(u).length?u[fn]:new cn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,!1)}}function Oo(n){return n.segments.length>0?new cn([],{[fn]:n}):n}function Fo(n){const t={};for(const i of Object.keys(n.children)){const o=Fo(n.children[i]);(o.segments.length>0||o.hasChildren())&&(t[i]=o)}return function ba(n){if(1===n.numberOfChildren&&n.children[fn]){const t=n.children[fn];return new cn(n.segments.concat(t.segments),t.children)}return n}(new cn(n.segments,t))}function lr(n){return n instanceof ko}function v_(n,t,e,i,r){if(0===e.length)return No(t.root,t.root,t.root,i,r);const o=function Wh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new b_(!0,0,n);let t=0,e=!1;const i=n.reduce((r,o,u)=>{if("object"==typeof o&&null!=o){if(o.outlets){const h={};return ci(o.outlets,(_,w)=>{h[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:h}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===u?(o.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,o]},[]);return new b_(e,t,i)}(e);return o.toRoot()?No(t.root,t.root,new cn([],{}),i,r):function u(_){const w=function w_(n,t,e,i){if(n.isAbsolute)return new pu(t.root,!0,0);if(-1===i)return new pu(e,e===t.root,0);return function Yh(n,t,e){let i=n,r=t,o=e;for(;o>r;){if(o-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new pu(i,!1,r-o)}(e,i+(Lo(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,t,n.snapshot?._urlSegment,_),I=w.processChildren?so(w.segmentGroup,w.index,o.commands):gl(w.segmentGroup,w.index,o.commands);return No(t.root,w.segmentGroup,I,i,r)}(n.snapshot?._lastPathIndex)}function Lo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function uc(n){return"object"==typeof n&&null!=n&&n.outlets}function No(n,t,e,i,r){let u,o={};i&&ci(i,(_,w)=>{o[w]=Array.isArray(_)?_.map(I=>`${I}`):`${_}`}),u=n===t?e:$h(n,t,e);const h=Oo(Fo(u));return new ko(h,o,r)}function $h(n,t,e){const i={};return ci(n.children,(r,o)=>{i[o]=r===t?e:$h(r,t,e)}),new cn(n.segments,i)}class b_{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&Lo(i[0]))throw new s.vHH(4003,!1);const r=i.find(uc);if(r&&r!==Ts(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class pu{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function gl(n,t,e){if(n||(n=new cn([],{})),0===n.segments.length&&n.hasChildren())return so(n,t,e);const i=function C_(n,t,e){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return o;const u=n.segments[r],h=e[i];if(uc(h))break;const _=`${h}`,w=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!gu(_,w,u))return o;i+=2}else{if(!gu(_,{},u))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new cn(n.segments.slice(0,i.pathIndex),{});return o.children[fn]=new cn(n.segments.slice(i.pathIndex),n.children),so(o,0,r)}return i.match&&0===r.length?new cn(n.segments,{}):i.match&&!n.hasChildren()?Zh(n,t,e):i.match?so(n,0,r):Zh(n,t,e)}function so(n,t,e){if(0===e.length)return new cn(n.segments,{});{const i=function Cd(n){return uc(n[0])?n[0].outlets:{[fn]:n}}(e),r={};return ci(i,(o,u)=>{"string"==typeof o&&(o=[o]),null!==o&&(r[u]=gl(n.children[u],t,o))}),ci(n.children,(o,u)=>{void 0===i[u]&&(r[u]=o)}),new cn(n.segments,r)}}function Zh(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const o=e[r];if(uc(o)){const _=f0(o.outlets);return new cn(i,_)}if(0===r&&Lo(e[0])){i.push(new Po(n.segments[t].path,mu(e[0]))),r++;continue}const u=uc(o)?o.outlets[fn]:`${o}`,h=r<e.length-1?e[r+1]:null;u&&h&&Lo(h)?(i.push(new Po(u,mu(h))),r+=2):(i.push(new Po(u,{})),r++)}return new cn(i,{})}function f0(n){const t={};return ci(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Zh(new cn([],{}),0,e))}),t}function mu(n){const t={};return ci(n,(e,i)=>t[i]=`${e}`),t}function gu(n,t,e){return n==e.path&&Oi(t,e.parameters)}class oo{constructor(t,e){this.id=t,this.url=e}}class Dd extends oo{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wa extends oo{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ao extends oo{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ed extends oo{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class D_ extends oo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kh extends oo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class E_ extends oo{constructor(t,e,i,r,o){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qp extends oo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vo extends oo{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ca{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class A_{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xp{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jp{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class S_{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class T_{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class em{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Da{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Qh(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=Qh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Xh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Xh(t,this._root).map(e=>e.value)}}function Qh(n,t){if(n===t.value)return t;for(const e of t.children){const i=Qh(n,e);if(i)return i}return null}function Xh(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Xh(n,e);if(i.length)return i.unshift(t),i}return[]}class Is{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function _u(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class Ad extends Da{constructor(t,e){super(t),this.snapshot=e,im(this,t)}toString(){return this.snapshot.toString()}}function dc(n,t){const e=function tm(n,t){const u=new _l([],{},{},"",{},fn,t,null,n.root,-1,{});return new Jh("",new Is(u,[]))}(n,t),i=new oi([new Po("",{})]),r=new oi({}),o=new oi({}),u=new oi({}),h=new oi(""),_=new er(i,r,u,h,o,fn,t,e.root);return _.snapshot=e.root,new Ad(new Is(_,[]),e)}class er{constructor(t,e,i,r,o,u,h,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Gt.U)(t=>hl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Gt.U)(t=>hl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function hc(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],o=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function nm(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class _l{constructor(t,e,i,r,o,u,h,_,w,I,H,De){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=u,this.component=h,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=I,this._correctedLastPathIndex=De??I,this._resolve=H}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=hl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=hl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jh extends Da{constructor(t,e){super(e),this.url=t,im(this,e)}toString(){return I_(this._root)}}function im(n,t){t.value._routerState=n,t.children.forEach(e=>im(n,e))}function I_(n){const t=n.children.length>0?` { ${n.children.map(I_).join(", ")} } `:"";return`${n.value}${t}`}function rm(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Oi(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Oi(t.params,e.params)||n.params.next(e.params),function oc(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Oi(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Oi(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function yu(n,t){const e=Oi(n.params,t.params)&&function us(n,t){return ds(n,t)&&n.every((e,i)=>Oi(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||yu(n.parent,t.parent))}function Bo(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function p0(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Bo(n,i,r);return Bo(n,i)})}(n,t,e);return new Is(i,r)}{if(n.shouldAttach(t.value)){const o=n.retrieve(t.value);if(null!==o){const u=o.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Bo(n,h)),u}}const i=function m0(n){return new er(new oi(n.url),new oi(n.params),new oi(n.queryParams),new oi(n.fragment),new oi(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(o=>Bo(n,o));return new Is(i,r)}}const fc="ngNavigationCancelingError";function Td(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=lr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=sm(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function sm(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[fc]=!0,i.cancellationCode=t,e&&(i.url=e),i}function om(n){return vu(n)&&lr(n.url)}function vu(n){return n&&n[fc]}class am{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ea,this.attachRef=null}}class Ea{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new am,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const bu=!1;let pc=(()=>{class n{constructor(e,i,r,o,u){this.parentContexts=e,this.location=i,this.changeDetector=o,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||fn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,bu);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,bu);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,bu);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,bu);this._activatedRoute=e;const r=this.location,u=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,_=new M_(e,h,r.injector);if(i&&function Ci(n){return!!n.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(u);this.activated=r.createComponent(w,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ea),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class M_{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===er?this.route:t===Ea?this.childContexts:this.parent.get(t,e)}}let lm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[pc],encapsulation:2}),n})();function cm(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function xd(n){const t=n.children&&n.children.map(xd),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==fn&&(e.component=lm),e}function zi(n){return n.outlet||fn}function wu(n,t){const e=n.filter(i=>zi(i)===t);return e.push(...n.filter(i=>zi(i)!==t)),e}function tf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class um{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),rm(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=_u(e);t.children.forEach(o=>{const u=o.value.outlet;this.deactivateRoutes(o,r[u],i),delete r[u]}),ci(r,(o,u)=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(r===o)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else o&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=_u(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,o=_u(t);for(const u of Object.keys(o))this.deactivateRouteAndItsChildren(o[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=_u(e);t.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new T_(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Jp(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,o=e?e.value:null;if(rm(r),r===o)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),rm(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=tf(r.snapshot),_=h?.get(s._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class Sr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Uo{constructor(t,e){this.component=t,this.route=e}}function nf(n,t,e){const i=n._root;return yl(i,t?t._root:null,e,[i.value])}function Cu(n,t,e){return(tf(t)??e).get(n)}function yl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=_u(t);return n.children.forEach(u=>{(function sf(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&o.routeConfig===u.routeConfig){const _=function af(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ds(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ds(n.url,t.url)||!Oi(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yu(n,t)||!Oi(n.queryParams,t.queryParams);default:return!yu(n,t)}}(u,o,o.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Sr(i)):(o.data=u.data,o._resolvedData=u._resolvedData),yl(n,t,o.component?h?h.children:null:e,i,r),_&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new Uo(h.outlet.component,u))}else u&&gc(t,h,r),r.canActivateChecks.push(new Sr(i)),yl(n,null,o.component?h?h.children:null:e,i,r)})(u,o[u.value.outlet],e,i.concat([u.value]),r),delete o[u.value.outlet]}),ci(o,(u,h)=>gc(u,e.getContext(h),r)),r}function gc(n,t,e){const i=_u(n),r=n.value;ci(i,(o,u)=>{gc(o,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new Uo(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function $i(n){return"function"==typeof n}const _c=Symbol("INITIAL_VALUE");function Tr(){return ai(n=>ma(n.map(t=>t.pipe(ei(1),Kn(_c)))).pipe((0,Gt.U)(t=>{for(const e of t)if(!0!==e){if(e===_c)return _c;if(!1===e||e instanceof ko)return e}return!0}),Qn(t=>t!==_c),ei(1)))}function y(n){return(0,_a.z)((0,li.b)(t=>{if(lr(t))throw Td(0,t)}),(0,Gt.U)(t=>!0===t))}const g={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function C(n,t,e,i,r){const o=K(n,t,e);return o.matched?function p(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Nt(r.map(u=>{const h=n.get(u),_=function tr(n){return n&&$i(n.canMatch)}(h)?h.canMatch(t,e):h(t,e);return Er(_)})).pipe(Tr(),y()):Nt(!0)}(i=cm(t,i),t,e).pipe((0,Gt.U)(u=>!0===u?o:{...g})):Nt(o)}function K(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...g}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||yd)(e,n,t);if(!r)return{...g};const o={};ci(r.posParams,(h,_)=>{o[_]=h.path});const u=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function _e(n,t,e,i,r="corrected"){if(e.length>0&&function It(n,t,e){return e.some(i=>sn(n,t,i)&&zi(i)!==fn)}(n,e,i)){const u=new cn(t,function tt(n,t,e,i){const r={};r[fn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const o of e)if(""===o.path&&zi(o)!==fn){const u=new cn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[zi(o)]=u}return r}(n,t,i,new cn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function Ht(n,t,e){return e.some(i=>sn(n,t,i))}(n,e,i)){const u=new cn(n.segments,function Ge(n,t,e,i,r,o){const u={};for(const h of i)if(sn(n,e,h)&&!r[zi(h)]){const _=new cn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===o?n.segments.length:t.length,u[zi(h)]=_}return{...r,...u}}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const o=new cn(n.segments,n.children);return o._sourceSegment=n,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:e}}function sn(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Jt(n,t,e,i){return!!(zi(n)===i||i!==fn&&sn(t,e,n))&&("**"===n.path||K(t,n,e).matched)}function Ii(n,t,e){return 0===t.length&&!n.children[e]}const xr=!1;class bl{constructor(t){this.segmentGroup=t||null}}class Rd{constructor(t){this.urlTree=t}}function Sa(n){return or(new bl(n))}function Eu(n){return or(new Rd(n))}class H_{constructor(t,e,i,r,o){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=o,this.allowRedirects=!0}apply(){const t=_e(this.urlTree.root,[],[],this.config).segmentGroup,e=new cn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,fn).pipe((0,Gt.U)(o=>this.createUrlTree(Fo(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(gr(o=>{if(o instanceof Rd)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof bl?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,fn).pipe((0,Gt.U)(r=>this.createUrlTree(Fo(r),t.queryParams,t.fragment))).pipe(gr(r=>{throw r instanceof bl?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,xr)}createUrlTree(t,e,i){const r=Oo(t);return new ko(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,Gt.U)(o=>new cn([],o))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return(0,zn.D)(r).pipe(qn(o=>{const u=i.children[o],h=wu(e,o);return this.expandSegmentGroup(t,h,u,o).pipe((0,Gt.U)(_=>({segment:_,outlet:o})))}),ya((o,u)=>(o[u.outlet]=u.segment,o),{}),ls())}expandSegment(t,e,i,r,o,u){return(0,zn.D)(i).pipe(qn(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,o,u).pipe(gr(w=>{if(w instanceof bl)return Nt(null);throw w}))),io(h=>!!h),gr((h,_)=>{if(h instanceof Dr||"EmptyError"===h.name)return Ii(e,r,o)?Nt(new cn([],{})):Sa(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,o,u,h){return Jt(r,e,o,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,o,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u):Sa(e):Sa(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const o=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?Eu(o):this.lineralizeSegments(i,o).pipe((0,ji.z)(u=>{const h=new cn(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,o,u){const{matched:h,consumedSegments:_,remainingSegments:w,positionalParamSegments:I}=K(e,r,o);if(!h)return Sa(e);const H=this.applyRedirectCommands(_,r.redirectTo,I);return r.redirectTo.startsWith("/")?Eu(H):this.lineralizeSegments(r,H).pipe((0,ji.z)(De=>this.expandSegment(t,e,i,De.concat(w),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,o){return"**"===i.path?(t=cm(i,t),i.loadChildren?(i._loadedRoutes?Nt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,Gt.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new cn(r,{})))):Nt(new cn(r,{}))):C(e,i,r,t).pipe(ai(({matched:u,consumedSegments:h,remainingSegments:_})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,ji.z)(I=>{const H=I.injector??t,De=I.routes,{segmentGroup:Me,slicedSegments:Le}=_e(e,h,_,De),$e=new cn(Me.segments,Me.children);if(0===Le.length&&$e.hasChildren())return this.expandChildren(H,De,$e).pipe((0,Gt.U)(Kt=>new cn(h,Kt)));if(0===De.length&&0===Le.length)return Nt(new cn(h,{}));const st=zi(i)===o;return this.expandSegment(H,$e,De,Le,st?fn:o,!0).pipe((0,Gt.U)(Ut=>new cn(h.concat(Ut.segments),Ut.children)))})):Sa(e)))}getChildConfig(t,e,i){return e.children?Nt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Nt({routes:e._loadedRoutes,injector:e._loadedInjector}):function U_(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Nt(!0):Nt(r.map(u=>{const h=n.get(u),_=function lf(n){return n&&$i(n.canLoad)}(h)?h.canLoad(t,e):h(t,e);return Er(_)})).pipe(Tr(),y())}(t,e,i).pipe((0,ji.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,li.b)(o=>{e._loadedRoutes=o.routes,e._loadedInjector=o.injector})):function hf(n){return or(sm(xr,3))}())):Nt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Nt(i);if(r.numberOfChildren>1||!r.children[fn])return or(new s.vHH(4e3,xr));r=r.children[fn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const o=this.createSegmentGroup(t,e.root,i,r);return new ko(o,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return ci(t,(r,o)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[o]=e[h]}else i[o]=r}),i}createSegmentGroup(t,e,i,r){const o=this.createSegments(t,e.segments,i,r);let u={};return ci(e.children,(h,_)=>{u[_]=this.createSegmentGroup(t,h,i,r)}),new cn(o,u)}createSegments(t,e,i,r){return e.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,r):this.findOrReturn(o,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,xr);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class _0{}class TR{constructor(t,e,i,r,o,u,h,_){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=_}recognize(){const t=_e(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,fn).pipe((0,Gt.U)(e=>{if(null===e)return null;const i=new _l([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},fn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Is(i,e),o=new Jh(this.url,r);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const e=t.value,i=hc(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,zn.D)(Object.keys(i.children)).pipe(qn(r=>{const o=i.children[r],u=wu(e,r);return this.processSegmentGroup(t,u,o,r)}),ya((r,o)=>r&&o?(r.push(...o),r):null),function sc(n,t=!1){return(0,Hn.e)((e,i)=>{let r=0;e.subscribe((0,Zn.x)(i,o=>{const u=n(o,r++);(u||t)&&i.next(o),!u&&i.complete()}))})}(r=>null!==r),cl(null),ls(),(0,Gt.U)(r=>{if(null===r)return null;const o=mm(r);return function xR(n){n.sort((t,e)=>t.value.outlet===fn?-1:e.value.outlet===fn?1:t.value.outlet.localeCompare(e.value.outlet))}(o),o}))}processSegment(t,e,i,r,o){return(0,zn.D)(e).pipe(qn(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,o)),io(u=>!!u),gr(u=>{if(u instanceof Dr)return Ii(i,r,o)?Nt([]):Nt(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,o){if(e.redirectTo||!Jt(e,i,r,o))return Nt(null);let u;if("**"===e.path){const h=r.length>0?Ts(r).parameters:{},_=G_(i)+r.length;u=Nt({snapshot:new _l(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w0(e),zi(e),e.component??e._loadedComponent??null,e,j_(i),_,_m(e),_),consumedSegments:[],remainingSegments:[]})}else u=C(i,e,r,t).pipe((0,Gt.U)(({matched:h,consumedSegments:_,remainingSegments:w,parameters:I})=>{if(!h)return null;const H=G_(i)+_.length;return{snapshot:new _l(_,I,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,w0(e),zi(e),e.component??e._loadedComponent??null,e,j_(i),H,_m(e),H),consumedSegments:_,remainingSegments:w}}));return u.pipe(ai(h=>{if(null===h)return Nt(null);const{snapshot:_,consumedSegments:w,remainingSegments:I}=h;t=e._injector??t;const H=e._loadedInjector??t,De=function PA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Me,slicedSegments:Le}=_e(i,w,I,De.filter(st=>void 0===st.redirectTo),this.relativeLinkResolution);if(0===Le.length&&Me.hasChildren())return this.processChildren(H,De,Me).pipe((0,Gt.U)(st=>null===st?null:[new Is(_,st)]));if(0===De.length&&0===Le.length)return Nt([new Is(_,[])]);const $e=zi(e)===o;return this.processSegment(H,De,Me,Le,$e?fn:o).pipe((0,Gt.U)(st=>null===st?null:[new Is(_,st)]))}))}}function v0(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function mm(n){const t=[],e=new Set;for(const i of n){if(!v0(i)){t.push(i);continue}const r=t.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=mm(i.children);t.push(new Is(i.value,r))}return t.filter(i=>!e.has(i))}function j_(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function G_(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function w0(n){return n.data||{}}function _m(n){return n.resolve||{}}const z_=Symbol("RouteTitle");function D0(n){return"string"==typeof n.title||null===n.title}function $_(n){return ai(t=>{const e=n(t);return e?(0,zn.D)(e).pipe((0,Gt.U)(()=>t)):Nt(t)})}let ym=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===fn);return i}getResolvedTitleForRoute(e){return e.data[z_]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(E0)},providedIn:"root"}),n})(),E0=(()=>{class n extends ym{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fd))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class NA{}class A0 extends class VA{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const W_=new s.OlP("",{providedIn:"root",factory:()=>({})}),pf=new s.OlP("ROUTES");let vm=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Nt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=Er(e.loadComponent()).pipe((0,li.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=o}),cs(()=>{this.componentLoaders.delete(e)})),r=new Zp(i,()=>new yt.x).pipe(Tn());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Nt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,Gt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,w,I=!1;Array.isArray(h)?w=h:(_=h.create(e).injector,w=ac(_.get(pf,[],s.XFs.Self|s.XFs.Optional)));return{routes:w.map(xd),injector:_}}),cs(()=>{this.childrenLoaders.delete(i)})),u=new Zp(o,()=>new yt.x).pipe(Tn());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return Er(e()).pipe((0,ji.z)(i=>i instanceof s.YKP||Array.isArray(i)?Nt(i):(0,zn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class q_{}class Mr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Y_(n){throw n}function UA(n,t,e){return t.parse("/")}const HA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},S0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Z_(){const n=(0,s.f3M)(lc),t=(0,s.f3M)(Ea),e=(0,s.f3M)(F),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),o=(0,s.f3M)(pf,{optional:!0})??[],u=(0,s.f3M)(W_,{optional:!0})??{},h=(0,s.f3M)(E0),_=(0,s.f3M)(ym,{optional:!0}),w=(0,s.f3M)(q_,{optional:!0}),I=(0,s.f3M)(NA,{optional:!0}),H=new Zr(null,n,t,e,i,r,ac(o));return w&&(H.urlHandlingStrategy=w),I&&(H.routeReuseStrategy=I),H.titleStrategy=_??h,function jA(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,H),H}let Zr=(()=>{class n{constructor(e,i,r,o,u,h,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=o,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new yt.x,this.errorHandler=Y_,this.malformedUriErrorHandler=UA,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Nt(void 0),this.urlHandlingStrategy=new Mr,this.routeReuseStrategy=new A0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(vm),this.configLoader.onLoadEndListener=De=>this.triggerEvent(new A_(De)),this.configLoader.onLoadStartListener=De=>this.triggerEvent(new Ca(De)),this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const H=u.get(s.R0b);this.isNgZoneEnabled=H instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function hu(){return new ko(new cn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=dc(this.currentUrlTree,this.rootComponentType),this.transitions=new oi({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(Qn(r=>0!==r.id),(0,Gt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),ai(r=>{let o=!1,u=!1;return Nt(r).pipe((0,li.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ai(h=>{const _=this.browserUrlTree.toString(),w=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return x0(h.source)&&(this.browserUrlTree=h.extractedUrl),Nt(h).pipe(ai(H=>{const De=this.transitions.getValue();return i.next(new Dd(H.id,this.serializeUrl(H.extractedUrl),H.source,H.restoredState)),De!==this.transitions.getValue()?Hi.E:Promise.resolve(H)}),function fm(n,t,e,i){return ai(r=>function Od(n,t,e,i,r){return new H_(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,Gt.U)(o=>({...r,urlAfterRedirects:o}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,li.b)(H=>{this.currentNavigation={...this.currentNavigation,finalUrl:H.urlAfterRedirects},r.urlAfterRedirects=H.urlAfterRedirects}),function ff(n,t,e,i,r,o){return(0,ji.z)(u=>function y0(n,t,e,i,r,o,u="emptyOnly",h="legacy"){return new TR(n,t,e,i,r,u,h,o).recognize().pipe(ai(_=>null===_?function pm(n){return new Wn.y(t=>t.error(n))}(new _0):Nt(_)))}(n,t,e,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,o).pipe((0,Gt.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,li.b)(H=>{if(r.targetSnapshot=H.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!H.extras.skipLocationChange){const Me=this.urlHandlingStrategy.merge(H.urlAfterRedirects,H.rawUrl);this.setBrowserUrl(Me,H)}this.browserUrlTree=H.urlAfterRedirects}const De=new D_(H.id,this.serializeUrl(H.extractedUrl),this.serializeUrl(H.urlAfterRedirects),H.targetSnapshot);i.next(De)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:De,extractedUrl:Me,source:Le,restoredState:$e,extras:st}=h,Mt=new Dd(De,this.serializeUrl(Me),Le,$e);i.next(Mt);const Ut=dc(Me,this.rootComponentType).snapshot;return Nt(r={...h,targetSnapshot:Ut,urlAfterRedirects:Me,extras:{...st,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),Hi.E}),(0,li.b)(h=>{const _=new Kh(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,Gt.U)(h=>r={...h,guards:nf(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function Du(n,t){return(0,ji.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:u}}=e;return 0===u.length&&0===o.length?Nt({...e,guardsResult:!0}):function cf(n,t,e,i){return(0,zn.D)(n).pipe((0,ji.z)(r=>function df(n,t,e,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Nt(o.map(h=>{const _=Cu(h,t,r);return Er(function kd(n){return n&&$i(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):_(n,t,e,i)).pipe(io())})).pipe(Tr()):Nt(!0)}(r.component,r.route,e,t,i)),io(r=>!0!==r,!0))}(u,i,r,n).pipe((0,ji.z)(h=>h&&function dm(n){return"boolean"==typeof n}(h)?function vl(n,t,e,i){return(0,zn.D)(t).pipe(qn(r=>ga(function uf(n,t){return null!==n&&t&&t(new Xp(n)),Nt(!0)}(r.route.parent,i),function N_(n,t){return null!==n&&t&&t(new S_(n)),Nt(!0)}(r.route,i),function B_(n,t,e){const i=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(u=>function rf(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>no(()=>Nt(u.guards.map(_=>{const w=Cu(_,u.node,e);return Er(function L_(n){return n&&$i(n.canActivateChild)}(w)?w.canActivateChild(i,n):w(i,n)).pipe(io())})).pipe(Tr())));return Nt(o).pipe(Tr())}(n,r.path,e),function V_(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Nt(!0);const r=i.map(o=>no(()=>{const u=Cu(o,t,e);return Er(function Md(n){return n&&$i(n.canActivate)}(u)?u.canActivate(t,n):u(t,n)).pipe(io())}));return Nt(r).pipe(Tr())}(n,r.route,e))),io(r=>!0!==r,!0))}(i,o,n,t):Nt(h)),(0,Gt.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,li.b)(h=>{if(r.guardsResult=h.guardsResult,lr(h.guardsResult))throw Td(0,h.guardsResult);const _=new E_(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),Qn(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),$_(h=>{if(h.guards.canActivateChecks.length)return Nt(h).pipe((0,li.b)(_=>{const w=new Qp(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),ai(_=>{let w=!1;return Nt(_).pipe(function RA(n,t){return(0,ji.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Nt(e);let o=0;return(0,zn.D)(r).pipe(qn(u=>function OA(n,t,e,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!D0(r)&&(o[z_]=r.title),function C0(n,t,e,i){const r=function FA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Nt({});const o={};return(0,zn.D)(r).pipe((0,ji.z)(u=>function LA(n,t,e,i){const r=Cu(n,t,i);return Er(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe(io(),(0,li.b)(h=>{o[u]=h}))),xi(1),dl(o),gr(u=>u instanceof Dr?Hi.E:or(u)))}(o,n,t,i).pipe((0,Gt.U)(u=>(n._resolvedData=u,n.data=hc(n,e).resolve,r&&D0(r)&&(n.data[z_]=r.title),null)))}(u.route,i,n,t)),(0,li.b)(()=>o++),xi(1),(0,ji.z)(u=>o===r.length?Nt(e):Hi.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,li.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,li.b)(_=>{const w=new Vo(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),$_(h=>{const _=w=>{const I=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&I.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,li.b)(H=>{w.component=H}),(0,Gt.U)(()=>{})));for(const H of w.children)I.push(..._(H));return I};return ma(_(h.targetSnapshot.root)).pipe(cl(),ei(1))}),$_(()=>this.afterPreactivation()),(0,Gt.U)(h=>{const _=function Sd(n,t,e){const i=Bo(n,t._root,e?e._root:void 0);return new Ad(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:_}}),(0,li.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,Gt.U)(i=>(new um(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,li.b)({next(){o=!0},complete(){o=!0}}),cs(()=>{o||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),gr(h=>{if(u=!0,vu(h)){om(h)||(this.navigated=!0,this.restoreHistory(r,!0));const _=new ao(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(_),om(h)){const w=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),I={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||x0(r.source)};this.scheduleNavigation(w,"imperative",null,I,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new Ed(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(_);try{r.resolve(this.errorHandler(h))}catch(w){r.reject(w)}}return Hi.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},o=e.state?.navigationId?e.state:null;if(o){const h={...o};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,i,o,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(xd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:o,fragment:u,queryParamsHandling:h,preserveFragment:_}=i,w=r||this.routerState.root,I=_?this.currentUrlTree.fragment:u;let H=null;switch(h){case"merge":H={...this.currentUrlTree.queryParams,...o};break;case"preserve":H=this.currentUrlTree.queryParams;break;default:H=o||null}return null!==H&&(H=this.removeEmptyProps(H)),v_(w,this.currentUrlTree,e,H,I??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=lr(e)?e:this.parseUrl(e),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function T0(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...HA}:!1===i?{...S0}:i,lr(e))return fu(this.currentUrlTree,e,r);const o=this.parseUrl(e);return fu(this.currentUrlTree,o,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const o=e[r];return null!=o&&(i[r]=o),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new wa(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,o,u){if(this.disposed)return Promise.resolve(!1);let h,_,w;u?(h=u.resolve,_=u.reject,w=u.promise):w=new Promise((De,Me)=>{h=De,_=Me});const I=++this.navigationId;let H;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),H=r&&r.\u0275routerPageId?r.\u0275routerPageId:o.replaceUrl||o.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):H=0,this.setTransition({id:I,targetPageId:H,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:o,resolve:h,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(De=>Promise.reject(De))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),o={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",o):this.location.go(r,"",o)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const o=new ao(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(o),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return Z_()},providedIn:"root"}),n})();function x0(n){return"imperative"!==n}let bm=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=u,this.commands=null,this.onChanges=new yt.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Zr),s.Y36(er),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),K_=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new yt.x,this.subscription=e.events.subscribe(o=>{o instanceof wa&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,o,u){if(0!==e||i||r||o||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Zr),s.Y36(er),s.Y36(z))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),I0=(()=>{class n{constructor(e,i,r,o,u,h){this.router=e,this.element=i,this.renderer=r,this.cdr=o,this.link=u,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(_=>{_ instanceof wa&&this.update()})}ngAfterContentInit(){Nt(this.links.changes,this.linksWithHrefs.changes,Nt(null)).pipe((0,xo.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,zn.D)(e).pipe((0,xo.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function GA(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Zr),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(bm,8),s.Y36(K_,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,bm,5),s.Suo(r,K_,5)),2&e){let o;s.iGM(o=s.CRH())&&(i.links=o),s.iGM(o=s.CRH())&&(i.linksWithHrefs=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[s.TTD]}),n})();class M0{}let k0=(()=>{class n{constructor(e,i,r,o,u){this.router=e,this.injector=r,this.preloadingStrategy=o,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Qn(e=>e instanceof wa),qn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=(0,s.MMx)(o.providers,e,`Route: ${o.path}`));const u=o._injector??e,h=o._loadedInjector??u;o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent?r.push(this.preloadConfig(u,o)):(o.children||o._loadedRoutes)&&r.push(this.processRoutes(h,o.children??o._loadedRoutes))}return(0,zn.D)(r).pipe((0,xo.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Nt(null);const o=r.pipe((0,ji.z)(u=>null===u?Nt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,zn.D)([o,u]).pipe((0,xo.J)())}return o})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Zr),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(M0),s.LFG(vm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const P0=new s.OlP("");let IR=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Dd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof wa&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof em&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new em(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const $A=new s.OlP("ROUTER_FORROOT_GUARD"),Ho=new s.OlP(""),Q_=[F,{provide:lc,useClass:ui},{provide:Zr,useFactory:Z_},Ea,{provide:er,useFactory:function X_(n){return n.routerState.root},deps:[Zr]},vm];function WA(){return new s.PXZ("Router",Zr)}let J_=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[Q_,[],wm(e),{provide:$A,useFactory:R0,deps:[[Zr,new s.FiY,new s.tp0]]},{provide:W_,useValue:i||{}},i?.useHash?{provide:z,useClass:A}:{provide:z,useClass:D},{provide:P0,useFactory:()=>{const n=(0,s.f3M)(Zr),t=(0,s.f3M)(Xc),e=(0,s.f3M)(W_);return e.scrollOffset&&t.setOffset(e.scrollOffset),new IR(n,t,e)}},i?.preloadingStrategy?KA(i.preloadingStrategy):[],{provide:s.PXZ,multi:!0,useFactory:WA},i?.initialNavigation?MR(i):[],[{provide:ty,useFactory:ey},{provide:s.tb,multi:!0,useExisting:ty}]]}}static forChild(e){return{ngModule:n,providers:[wm(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($A,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function R0(n){return"guarded"}function wm(n){return[{provide:pf,multi:!0,useValue:n}]}function ey(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(Zr),r=n.get(Cm);1===n.get(ny)&&i.initialNavigation(),n.get(Ho,null,s.XFs.Optional)?.setUpPreloading(),n.get(P0,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const ty=new s.OlP("");function MR(n){return["disabled"===n.initialNavigation?[{provide:s.ip1,multi:!0,useFactory:()=>{const n=(0,s.f3M)(Zr);return()=>{n.setUpLocationChangeListener()}}},{provide:ny,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:ny,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:n=>{const t=n.get(ee,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(r=>{const o=n.get(Zr),u=n.get(Cm);(function i(r){n.get(Zr).events.pipe(Qn(u=>u instanceof wa||u instanceof ao||u instanceof Ed),(0,Gt.U)(u=>u instanceof wa||u instanceof ao&&(0===u.code||1===u.code)&&null),Qn(u=>null!==u),ei(1)).subscribe(()=>{r()})})(()=>{r(!0),e=!0}),o.afterPreactivation=()=>(r(!0),e||u.closed?Nt(void 0):u),o.initialNavigation()}))}}]:[]]}const Cm=new s.OlP("",{factory:()=>new yt.x}),ny=new s.OlP("",{providedIn:"root",factory:()=>1});function KA(n){return[k0,{provide:Ho,useExisting:k0},{provide:M0,useExisting:n}]}let ry;try{ry=typeof Intl<"u"&&Intl.v8BreakIterator}catch{ry=!1}let Su,Fi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function $a(n){return n===bo}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!ry)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dm=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function sy(){if(Su)return Su;if("object"!=typeof document||!document)return Su=new Set(Dm),Su;let n=document.createElement("input");return Su=new Set(Dm.filter(t=>(n.setAttribute("type",t),n.type===t))),Su}let Tu,bc,Em;function Ta(n){return function QA(){if(null==Tu&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Tu=!0}))}finally{Tu=Tu||!1}return Tu}()?n:!!n.capture}function xu(){if(null==bc){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return bc=!1,bc;if("scrollBehavior"in document.documentElement.style)bc=!0;else{const n=Element.prototype.scrollTo;bc=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return bc}function oy(n){if(function JA(){if(null==Em){const n=typeof document<"u"?document.head:null;Em=!(!n||!n.createShadowRoot&&!n.attachShadow)}return Em}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Ld(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function jo(n){return n.composedPath?n.composedPath()[0]:n.target}function Am(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Mu(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Cf=R(4986);function Z0(n,t=Cf.z){return(0,Hn.e)((e,i)=>{let r=null,o=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const w=o;o=null,i.next(w)}};function _(){const w=u+n,I=t.now();if(I<w)return r=this.schedule(void 0,w-I),void i.add(r);h()}e.subscribe((0,Zn.x)(i,w=>{o=w,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{o=r=null}))})}function K0(n){return Qn((t,e)=>n<=e)}function Q0(n,t=qr.y){return n=n??Ac,(0,Hn.e)((e,i)=>{let r,o=!0;e.subscribe((0,Zn.x)(i,u=>{const h=t(u);(o||!n(r,h))&&(o=!1,r=h,i.next(u))}))})}function Ac(n,t){return n===t}var Mm=R(5032);function _i(n){return(0,Hn.e)((t,e)=>{(0,mr.Xf)(n).subscribe((0,Zn.x)(e,()=>e.complete(),Mm.Z)),!e.closed&&t.subscribe(e)})}function ti(n){return null!=n&&"false"!=`${n}`}function Ia(n,t=0){return function X0(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Vd(n){return Array.isArray(n)?n:[n]}function Wi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Yn(n){return n instanceof s.SBq?n.nativeElement:n}let J0=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),py=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Yn(e);return new Wn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new yt.x,r=this._mutationObserverFactory.create(o=>i.next(o));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(J0))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ew=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ti(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=Ia(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Z0(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(py),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),km=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[J0]}),n})();const tw=new Set;let Dl,Bd=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ud}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function my(n){if(!tw.has(n))try{Dl||(Dl=document.createElement("style"),Dl.setAttribute("type","text/css"),document.head.appendChild(Dl)),Dl.sheet&&(Dl.sheet.insertRule(`@media ${n} {body{ }}`,0),tw.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ud(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Hd=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new yt.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return jd(Vd(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let o=ma(jd(Vd(e)).map(u=>this._registerQuery(u).observable));return o=ga(o.pipe(ei(1)),o.pipe(K0(1),Z0(0))),o.pipe((0,Gt.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:w})=>{h.matches=h.matches||_,h.breakpoints[w]=_}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),o={observable:new Wn.y(u=>{const h=_=>this._zone.run(()=>u.next(_));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(Kn(i),(0,Gt.U)(({matches:u})=>({query:e,matches:u})),_i(this._destroySubject)),mql:i};return this._queries.set(e,o),o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Bd),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function jd(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}class yy extends class iw{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new yt.x,this._typeaheadSubscription=Vn.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new yt.x,this.change=new yt.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,li.b)(e=>this._pressedLetters.push(e)),Z0(t),Qn(()=>this._pressedLetters.length>0),(0,Gt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,u=i[o];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!t[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Mu(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Df=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function w1(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function RS(n){try{return n.frameElement}catch{return null}}(function VS(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===by(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),o=by(e);return e.hasAttribute("contenteditable")?-1!==o:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function NS(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==o:"video"===r?-1!==o&&(null!==o||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function ow(n){return!function vy(n){return function FS(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function OS(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function rw(n){return function LS(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||sw(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function sw(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function by(n){if(!sw(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class BS{constructor(t,e,i,r,o=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,o||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(ei(1)).subscribe(t)}}let Rm=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new BS(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Df),s.LFG(s.R0b),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function wy(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Ef(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const HS=new s.OlP("cdk-input-modality-detector-options"),jS={ignoreKeys:[18,17,224,91,16]},Sc=Ta({passive:!0,capture:!0});let GS=(()=>{class n{constructor(e,i,r,o){this._platform=e,this._mostRecentTarget=null,this._modality=new oi(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=jo(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(wy(u)?"keyboard":"mouse"),this._mostRecentTarget=jo(u))},this._onTouchstart=u=>{Ef(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=jo(u))},this._options={...jS,...o},this.modalityDetected=this._modality.pipe(K0(1)),this.modalityChanged=this.modalityDetected.pipe(Q0()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Sc),r.addEventListener("mousedown",this._onMousedown,Sc),r.addEventListener("touchstart",this._onTouchstart,Sc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Sc),document.removeEventListener("mousedown",this._onMousedown,Sc),document.removeEventListener("touchstart",this._onTouchstart,Sc))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fi),s.LFG(s.R0b),s.LFG(B),s.LFG(HS,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const zS=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function Om(){return null}}),Cy=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let cw=(()=>{class n{constructor(e,i,r,o){this._ngZone=i,this._defaultOptions=o,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let o,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[o,u]=i,this.clear(),clearTimeout(this._previousTimeout),o||(o=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",o),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let o=0;o<i.length;o++)i[o].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(zS,8),s.LFG(s.R0b),s.LFG(B),s.LFG(Cy,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dy=new s.OlP("cdk-focus-monitor-default-options"),Af=Ta({passive:!0,capture:!0});let ku=(()=>{class n{constructor(e,i,r,o,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new yt.x,this._rootNodeFocusAndBlurListener=h=>{for(let w=jo(h);w;w=w.parentElement)"focus"===h.type?this._onFocus(h,w):this._onBlur(h,w)},this._document=o,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=Yn(e);if(!this._platform.isBrowser||1!==r.nodeType)return Nt(null);const o=oy(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new yt.x,rootNode:o};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=Yn(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const o=Yn(e);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([h,_])=>this._originChanged(h,i,_)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),o=jo(e);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Af),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Af)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(_i(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Af),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Af),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,o)=>{(o===e||r.checkChildren&&o.contains(e))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const o=e.labels;if(o)for(let u=0;u<o.length;u++)if(o[u].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Fi),s.LFG(GS),s.LFG(B,8),s.LFG(Dy,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WS=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new s.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ku))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const Fm="cdk-high-contrast-black-on-white",qS="cdk-high-contrast-white-on-black",Ey="cdk-high-contrast-active";let Ay=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(Hd).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),o){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Ey,Fm,qS),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Ey,Fm):2===i&&e.add(Ey,qS)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fi),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sf=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ay))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[km]}),n})();const uw=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function dw(){return(0,s.f3M)(B)}}),Sy=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let _r=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function Al(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?Sy.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(uw,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const ZS=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function x1(){return!0}});let Fn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Am()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ay),s.LFG(ZS,8),s.LFG(B))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Sl,Sl]}),n})();function Gd(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=ti(t)}}}function Tc(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Pu(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ti(t)}}}function KS(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==t&&(this.errorState=o,this.stateChanges.next())}}}const QS=new s.OlP("MAT_DATE_LOCALE",{providedIn:"root",factory:function XS(){return(0,s.f3M)(s.soG)}});class Kr{constructor(){this._localeChanges=new yt.x,this.localeChanges=this._localeChanges}getValidDateOrNull(t){return this.isDateInstance(t)&&this.isValid(t)?t:null}deserialize(t){return null==t||this.isDateInstance(t)&&this.isValid(t)?t:this.invalid()}setLocale(t){this.locale=t,this._localeChanges.next()}compareDate(t,e){return this.getYear(t)-this.getYear(e)||this.getMonth(t)-this.getMonth(e)||this.getDate(t)-this.getDate(e)}sameDate(t,e){if(t&&e){let i=this.isValid(t),r=this.isValid(e);return i&&r?!this.compareDate(t,e):i==r}return t==e}clampDate(t,e,i){return e&&this.compareDate(t,e)<0?e:i&&this.compareDate(t,i)>0?i:t}}const Ru=new s.OlP("mat-date-formats"),Nm=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Tl(n,t){const e=Array(n);for(let i=0;i<n;i++)e[i]=t(i);return e}let P1=(()=>{class n extends Kr{constructor(e,i){super(),this.useUtcForDisplay=!1,super.setLocale(e)}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){const i=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Tl(12,r=>this._format(i,new Date(2017,r,1)))}getDateNames(){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Tl(31,i=>this._format(e,new Date(2017,0,i+1)))}getDayOfWeekNames(e){const i=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Tl(7,r=>this._format(i,new Date(2017,0,r+1)))}getYearName(e){const i=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._format(i,e)}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,i,r){let o=this._createDateWithOverflow(e,i,r);return o.getMonth(),o}today(){return new Date}parse(e,i){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,i){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");const r=new Intl.DateTimeFormat(this.locale,{...i,timeZone:"utc"});return this._format(r,e)}addCalendarYears(e,i){return this.addCalendarMonths(e,12*i)}addCalendarMonths(e,i){let r=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+i,this.getDate(e));return this.getMonth(r)!=((this.getMonth(e)+i)%12+12)%12&&(r=this._createDateWithOverflow(this.getYear(r),this.getMonth(r),0)),r}addCalendarDays(e,i){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+i)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(Nm.test(e)){let i=new Date(e);if(this.isValid(i))return i}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,i,r){const o=new Date;return o.setFullYear(e,i,r),o.setHours(0,0,0,0),o}_2digit(e){return("00"+e).slice(-2)}_format(e,i){const r=new Date;return r.setUTCFullYear(i.getFullYear(),i.getMonth(),i.getDate()),r.setUTCHours(i.getHours(),i.getMinutes(),i.getSeconds(),i.getMilliseconds()),e.format(r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(QS,8),s.LFG(Fi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Tf={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let JS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:Kr,useClass:P1}]}),n})(),eT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[{provide:Ru,useValue:Tf}],imports:[JS]}),n})(),_w=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function qi(n,t,e){n.nativeElement.classList.toggle(t,e)}let xc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Fn,Fn]}),n})();class Vm{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Ms={enterDuration:225,exitDuration:150},Ic=Ta({passive:!0}),Ou=["mousedown","touchstart"],Fu=["mouseup","mouseleave","touchend","touchcancel"];class $d{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Yn(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...Ms,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function Wd(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,_=e-r.top,w=o.enterDuration,I=document.createElement("div");I.classList.add("mat-ripple-element"),I.style.left=h-u+"px",I.style.top=_-u+"px",I.style.height=2*u+"px",I.style.width=2*u+"px",null!=i.color&&(I.style.backgroundColor=i.color),I.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(I);const H=window.getComputedStyle(I),Me=H.transitionDuration,Le="none"===H.transitionProperty||"0s"===Me||"0s, 0s"===Me,$e=new Vm(this,I,i,Le);I.style.transform="scale3d(1, 1, 1)",$e.state=0,i.persistent||(this._mostRecentTransientRipple=$e);let st=null;return!Le&&(w||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const Mt=()=>this._finishRippleTransition($e),Ut=()=>this._destroyRipple($e);I.addEventListener("transitionend",Mt),I.addEventListener("transitioncancel",Ut),st={onTransitionEnd:Mt,onTransitionCancel:Ut}}),this._activeRipples.set($e,st),(Le||!w)&&this._finishRippleTransition($e),$e}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...Ms,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Yn(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Ou))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Fu),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=wy(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Ef(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,Ic)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Ou.forEach(t=>{this._triggerElement.removeEventListener(t,this,Ic)}),this._pointerUpEventsRegistered&&Fu.forEach(t=>{this._triggerElement.removeEventListener(t,this,Ic)}))}}const qd=new s.OlP("mat-ripple-global-options");let uo=(()=>{class n{constructor(e,i,r,o,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new $d(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(Fi),s.Y36(qd,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),xl=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Fn,Fn]}),n})(),Iy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Fn]}),n})();const yw=["mat-button",""],My=["*"],Bm=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],Um=Tc(Gd(Pu(class{constructor(n){this._elementRef=n}})));let Ma=(()=>{class n extends Um{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const o of Bm)this._hasHostAttributes(o)&&this._getHostElement().classList.add(o);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ku),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(uo,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:yw,ngContentSelectors:My,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[uo],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Zd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xl,Fn,Fn]}),n})();const Hm=["*",[["mat-card-footer"]]],bw=["*","mat-card-footer"],ww=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],ky=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let xf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),Py=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),jm=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),Cw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),n})(),Kd=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:bw,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(Hm),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),Dw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:ky,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(s.F$t(ww),s.Hsn(0),s.TgZ(1,"div",0),s.Hsn(2,1),s.qZA(),s.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),Ew=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Fn,Fn]}),n})();var ks=R(6451),Aw=R(1144);const Sw=["addListener","removeListener"],Tw=["addEventListener","removeEventListener"],xw=["on","off"];function Qd(n,t,e,i){if((0,Jn.m)(e)&&(i=e,e=void 0),i)return Qd(n,t,e).pipe(eo(i));const[r,o]=function bT(n){return(0,Jn.m)(n.addEventListener)&&(0,Jn.m)(n.removeEventListener)}(n)?Tw.map(u=>h=>n[u](t,h,e)):function vT(n){return(0,Jn.m)(n.addListener)&&(0,Jn.m)(n.removeListener)}(n)?Sw.map(Iw(n,t)):function Mw(n){return(0,Jn.m)(n.on)&&(0,Jn.m)(n.off)}(n)?xw.map(Iw(n,t)):[];if(!r&&(0,Aw.z)(n))return(0,ji.z)(u=>Qd(u,t,e))((0,mr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new Wn.y(u=>{const h=(..._)=>u.next(1<_.length?_:_[0]);return r(h),()=>o(h)})}function Iw(n,t){return e=>i=>n[e](t,i)}class Yi{}const Il="*";function Ml(n,t){return{type:7,name:n,definitions:t,options:{}}}function cr(n,t=null){return{type:4,styles:t,timings:n}}function Pw(n,t=null){return{type:3,steps:n,options:t}}function Ry(n,t=null){return{type:2,steps:n,options:t}}function kn(n){return{type:6,styles:n,offset:null}}function nr(n,t,e){return{type:0,name:n,styles:t,options:e}}function yr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function Rw(n=null){return{type:9,options:n}}function DT(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function Gm(n){Promise.resolve(null).then(n)}class hs{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Gm(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class Fw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const o=this.players.length;0==o?Gm(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==o&&this._onFinish()}),u.onDestroy(()=>{++i==o&&this._onDestroy()}),u.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const ka=["connectionContainer"],$o=["inputContainer"],Wo=["label"];function Lw(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function Nw(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function ET(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function AT(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function ST(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function TT(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.YNc(2,ET,4,1,"ng-container",12),s.YNc(3,AT,1,0,"ng-content",12),s.YNc(4,ST,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function Ly(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function If(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function xT(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Vw(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function IT(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,Vw,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const Bw=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],Uw=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let zm=0;const Hw=new s.OlP("MatError");let jw=(()=>{class n{constructor(e,i){this.id="mat-error-"+zm++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:Hw,useExisting:n}])]}),n})();const Gw={transitionMessages:Ml("transitionMessages",[nr("enter",kn({opacity:1,transform:"translateY(0%)"})),yr("void => enter",[kn({opacity:0,transform:"translateY(-5px)"}),cr("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Mf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const $w=new s.OlP("MatHint");let kf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),Ww=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const qw=new s.OlP("MatPrefix"),Yw=new s.OlP("MatSuffix");let RT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:Yw,useExisting:n}])]}),n})(),Zw=0;const FT=Tc(class{constructor(n){this._elementRef=n}},"primary"),LT=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),Vy=new s.OlP("MatFormField");let $m=(()=>{class n extends FT{constructor(e,i,r,o,u,h,_){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=o,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new yt.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Zw++,this._labelId="mat-form-field-label-"+Zw++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=o?.appearance||"legacy",o&&(this._hideRequiredMarker=Boolean(o.hideRequiredMarker),o.color&&(this.color=this.defaultColor=o.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ti(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(Kn(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(_i(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(_i(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,ks.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(Kn(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(Kn(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(_i(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Qd(this._label.nativeElement,"transitionend").pipe(ei(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",o=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const I=i.querySelectorAll(`${r}, ${o}`);for(let H=0;H<I.length;H++)I[H].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const _=i.querySelectorAll(r),w=i.querySelectorAll(o);if(this._label&&this._label.nativeElement.children.length){const I=i.getBoundingClientRect();if(0===I.width&&0===I.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const H=this._getStartEnd(I),De=e.children,Me=this._getStartEnd(De[0].getBoundingClientRect());let Le=0;for(let $e=0;$e<De.length;$e++)Le+=De[$e].offsetWidth;u=Math.abs(Me-H)-5,h=Le>0?.75*Le+10:0}for(let I=0;I<_.length;I++)_[I].style.width=`${u}px`;for(let I=0;I<w.length;I++)w[I].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(_r,8),s.Y36(LT,8),s.Y36(Fi),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Mf,5),s.Suo(r,Mf,7),s.Suo(r,kf,5),s.Suo(r,kf,7),s.Suo(r,Ww,5),s.Suo(r,Hw,5),s.Suo(r,$w,5),s.Suo(r,qw,5),s.Suo(r,Yw,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._controlNonStatic=o.first),s.iGM(o=s.CRH())&&(i._controlStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildNonStatic=o.first),s.iGM(o=s.CRH())&&(i._labelChildStatic=o.first),s.iGM(o=s.CRH())&&(i._placeholderChild=o.first),s.iGM(o=s.CRH())&&(i._errorChildren=o),s.iGM(o=s.CRH())&&(i._hintChildren=o),s.iGM(o=s.CRH())&&(i._prefixChildren=o),s.iGM(o=s.CRH())&&(i._suffixChildren=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(ka,7),s.Gf($o,5),s.Gf(Wo,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:Vy,useExisting:n}]),s.qOj],ngContentSelectors:Uw,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(Bw),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(o){return i._control.onContainerClick&&i._control.onContainerClick(o)}),s.YNc(3,Lw,9,0,"ng-container",3),s.YNc(4,Nw,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,TT,5,16,"label",8),s.qZA()(),s.YNc(10,Ly,2,0,"div",9),s.qZA(),s.YNc(11,If,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,xT,2,1,"div",12),s.YNc(14,IT,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[$s,Ws,qs,ew],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Gw.transitionMessages]},changeDetection:0}),n})(),By=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bi,Fn,km,Fn]}),n})();const Qw=Ta({passive:!0});let NT=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return Hi.E;const i=Yn(e),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new yt.x,u="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>o.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,Qw),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",h,Qw)}}),o}stopMonitoring(e){const i=Yn(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fi),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Xw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function Jw(...n){const t=(0,Wr.jO)(n),{args:e,keys:i}=ll(n),r=new Wn.y(o=>{const{length:u}=e;if(!u)return void o.complete();const h=new Array(u);let _=u,w=u;for(let I=0;I<u;I++){let H=!1;(0,mr.Xf)(e[I]).subscribe((0,Zn.x)(o,De=>{H||(H=!0,w--),h[I]=De},()=>_--,void 0,()=>{(!_||!H)&&(w||o.next(i?to(i,h):h),o.complete())}))}});return t?r.pipe(eo(t)):r}let eC=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Mc=(()=>{class n extends eC{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Ps=new s.OlP("NgValueAccessor"),nC={provide:Ps,useExisting:(0,s.Gpc)(()=>Pf),multi:!0},rC=new s.OlP("CompositionEventMode");let Pf=(()=>{class n extends eC{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function iC(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(rC,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[s._Bn([nC]),s.qOj]}),n})();function Pa(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Wm(n){return null!=n&&"number"==typeof n.length}const Di=new s.OlP("NgValidators"),kc=new s.OlP("NgAsyncValidators"),VT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ra{static min(t){return function BT(n){return t=>{if(Pa(t.value)||Pa(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function qm(n){return t=>{if(Pa(t.value)||Pa(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function UT(n){return Pa(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Hy(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function jy(n){return Pa(n.value)||VT.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function HT(n){return t=>Pa(t.value)||!Wm(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function an(n){return t=>Wm(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function oC(n){if(!n)return Ym;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Pa(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return jT(t)}static composeAsync(t){return Gy(t)}}function Ym(n){return null}function aC(n){return null!=n}function Lu(n){return(0,s.QGY)(n)?(0,zn.D)(n):n}function lC(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Rf(n,t){return t.map(e=>e(n))}function Ei(n){return n.map(t=>function Zm(n){return!n.validate}(t)?t:e=>t.validate(e))}function jT(n){if(!n)return null;const t=n.filter(aC);return 0==t.length?null:function(e){return lC(Rf(e,t))}}function Km(n){return null!=n?jT(Ei(n)):null}function Gy(n){if(!n)return null;const t=n.filter(aC);return 0==t.length?null:function(e){return Jw(Rf(e,t).map(Lu)).pipe((0,Gt.U)(lC))}}function zy(n){return null!=n?Gy(Ei(n)):null}function $y(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function Wy(n){return n._rawValidators}function qy(n){return n._rawAsyncValidators}function Qm(n){return n?Array.isArray(n)?n:[n]:[]}function Xm(n,t){return Array.isArray(n)?n.includes(t):n===t}function cC(n,t){const e=Qm(t);return Qm(n).forEach(r=>{Xm(e,r)||e.push(r)}),e}function uC(n,t){return Qm(t).filter(e=>!Xm(n,e))}class Xd{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Km(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=zy(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Qr extends Xd{get formDirective(){return null}get path(){return null}}class kl extends Xd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class dC{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Zy=(()=>{class n extends dC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(kl,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),Ky=(()=>{class n extends dC{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Qr,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const Rc="VALID",eg="INVALID",Jd="PENDING",eh="DISABLED";function Nu(n){return(tg(n)?n.validators:n)||null}function hC(n){return Array.isArray(n)?Km(n):n||null}function Jy(n,t){return(tg(t)?t.asyncValidators:n)||null}function fC(n){return Array.isArray(n)?zy(n):n||null}function tg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function pC(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")}function ev(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})}class ng{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=hC(this._rawValidators),this._composedAsyncValidatorFn=fC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Rc}get invalid(){return this.status===eg}get pending(){return this.status==Jd}get disabled(){return this.status===eh}get enabled(){return this.status!==eh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=hC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=fC(t)}addValidators(t){this.setValidators(cC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(cC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(uC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(uC(t,this._rawAsyncValidators))}hasValidator(t){return Xm(this._rawValidators,t)}hasAsyncValidator(t){return Xm(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Jd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=eh,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Rc,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Rc||this.status===Jd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?eh:Rc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Jd,this._hasOwnPendingAsyncValidator=!0;const e=Lu(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?eh:this.errors?eg:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Jd)?Jd:this._anyControlsHaveStatus(eg)?eg:Rc}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){tg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class ig extends ng{constructor(t,e,i){super(Nu(e),Jy(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){ev(this,0,t),Object.keys(t).forEach(i=>{pC(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,o)=>{i=e(i,r,o)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Nf(n,t){nv(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function gC(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&_C(n,t)})}(n,t),function XT(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function QT(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&_C(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function tv(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function Vf(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),Bf(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function rg(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function nv(n,t){const e=Wy(n);null!==t.validator?n.setValidators($y(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=qy(n);null!==t.asyncValidator?n.setAsyncValidators($y(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();rg(t._rawValidators,r),rg(t._rawAsyncValidators,r)}function Bf(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=Wy(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.validator);o.length!==r.length&&(e=!0,n.setValidators(o))}}if(null!==t.asyncValidator){const r=qy(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(u=>u!==t.asyncValidator);o.length!==r.length&&(e=!0,n.setAsyncValidators(o))}}}const i=()=>{};return rg(t._rawValidators,i),rg(t._rawAsyncValidators,i),e}function _C(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sg(n,t){nv(n,t)}function vC(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const bC={provide:Qr,useExisting:(0,s.Gpc)(()=>og)},Uf=(()=>Promise.resolve(null))();let og=(()=>{class n extends Qr{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new ig({},Km(e),zy(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Uf.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Nf(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Uf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Uf.then(()=>{const i=this._findContainer(e.path),r=new ig({});sg(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Uf.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Uf.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,vC(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Di,10),s.Y36(kc,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([bC]),s.qOj]}),n})();function sv(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function wC(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Hf=class extends ng{constructor(t=null,e,i){super(Nu(e),Jy(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=wC(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){sv(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){sv(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){wC(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let AC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),lg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const cg=new s.OlP("NgModelWithFormControlWarning"),ax={provide:Qr,useExisting:(0,s.Gpc)(()=>jf)};let jf=(()=>{class n extends Qr{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Bf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Nf(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){Vf(e.control||null,e,!1),function ix(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,vC(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(Vf(i||null,e),(n=>n instanceof Hf)(r)&&(Nf(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);sg(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function JT(n,t){return Bf(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){nv(this.form,this),this._oldForm&&Bf(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Di,10),s.Y36(kc,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([ax]),s.qOj,s.TTD]}),n})();const cx={provide:kl,useExisting:(0,s.Gpc)(()=>gv)};let gv=(()=>{class n extends kl{constructor(e,i,r,o,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function rv(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(o=>{o.constructor===Pf?e=o:function nx(n){return Object.getPrototypeOf(n.constructor)===Mc}(o)?i=o:r=o}),r||i||e||null}(0,o)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function iv(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function Lf(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Qr,13),s.Y36(Di,10),s.Y36(kc,10),s.Y36(Ps,10),s.Y36(cg,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([cx]),s.qOj,s.TTD]}),n})(),$f=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[lg]}),n})(),Wf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$f]}),n})(),jC=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:cg,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$f]}),n})();class GC extends ng{constructor(t,e,i){super(Nu(e),Jy(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){ev(this,0,t),t.forEach((i,r)=>{pC(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function qf(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let gx=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let o={};return qf(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new ig(r,o)}control(e,i,r){let o={};return this.useNonNullable?(qf(i)?o=i:(o.validators=i,o.asyncValidators=r),new Hf(e,{...o,nonNullable:!0})):new Hf(e,i,r)}array(e,i,r){const o=e.map(u=>this._createControl(u));return new GC(o,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof Hf||e instanceof ng?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:jC}),n})();const Ev=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),vx=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let bx=0;const cO=KS(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new yt.x}});let dg=(()=>{class n extends cO{constructor(e,i,r,o,u,h,_,w,I,H){super(h,o,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=w,this._formField=H,this._uid="mat-input-"+bx++,this.focused=!1,this.stateChanges=new yt.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Le=>sy().has(Le)),this._iOSKeyupListener=Le=>{const $e=Le.target;!$e.value&&0===$e.selectionStart&&0===$e.selectionEnd&&($e.setSelectionRange(1,1),$e.setSelectionRange(0,0))};const De=this._elementRef.nativeElement,Me=De.nodeName.toLowerCase();this._inputValueAccessor=_||De,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&I.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Me,this._isTextarea="textarea"===Me,this._isInFormField=!!H,this._isNativeSelect&&(this.controlType=De.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=ti(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Ra.required)??!1}set required(e){this._required=ti(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&sy().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ti(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){vx.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Fi),s.Y36(kl,10),s.Y36(og,8),s.Y36(jf,8),s.Y36(_w),s.Y36(Ev,10),s.Y36(NT),s.Y36(s.R0b),s.Y36(Vy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:Mf,useExisting:n}]),s.qOj,s.TTD]}),n})(),Av=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[_w],imports:[Xw,By,Fn,Xw,By]}),n})();function hg(n,t){return t?e=>ga(t.pipe(ei(1),function $C(){return(0,Hn.e)((n,t)=>{n.subscribe((0,Zn.x)(t,Mm.Z))})}()),e.pipe(hg(n))):(0,ji.z)((e,i)=>n(e,i).pipe(ei(1),dl(e)))}var Sv=R(3532);function fg(n=0,t,e=Cf.P){let i=-1;return null!=t&&((0,Sv.K)(t)?e=t:i=t),new Wn.y(r=>{let o=function wx(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;o<0&&(o=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function th(n,t=Cf.z){const e=fg(n,t);return hg(()=>e)}let Cx=(()=>{class n{constructor(){this._files=new oi([{fileID:0,attachedToRecordID:122324,name:"pdf-test",extensionID:4,extension:"pdf",documentDate:new Date(1659762822100),byteSize:2534446,groupTypeID:1,groupName:"Transplant",typeName:"Activation",url:"https://github.com/Matthew-The-Developer/file-attachment/blob/master/src/assets/pdf-test.pdf"},{fileID:0,attachedToRecordID:122324,name:"Programming-Memes-Programmer-while-sleeping",extensionID:3,extension:"jpg",documentDate:new Date(1661779977375),byteSize:59868,groupTypeID:0,groupName:"Transplant",typeName:"Acceptance",url:"https://www.thecoderpedia.com/wp-content/uploads/2020/06/Programming-Memes-Programmer-while-sleeping.jpg?x34900"},{fileID:0,attachedToRecordID:122324,name:"example03",extensionID:7,extension:"docx",documentDate:new Date(1659672717869),byteSize:108816,groupTypeID:3,groupName:"Transplant",typeName:"Deactivation",url:"./assets/example03.docx"}]),this._groups=new oi([{groupTypeID:0,groupID:0,groupName:"Transplant",typeID:0,typeName:"Acceptance"},{groupTypeID:1,groupID:0,groupName:"Transplant",typeID:1,typeName:"Activation"},{groupTypeID:2,groupID:0,groupName:"Transplant",typeID:2,typeName:"Declination"},{groupTypeID:3,groupID:0,groupName:"Transplant",typeID:3,typeName:"Deactivation"},{groupTypeID:4,groupID:1,groupName:"Patient",typeID:4,typeName:"Profile Picture"},{groupTypeID:5,groupID:1,groupName:"Patient",typeID:5,typeName:"Insurance Card"},{groupTypeID:6,groupID:1,groupName:"Patient",typeID:6,typeName:"HIPPA Wavier"},{groupTypeID:7,groupID:2,groupName:"Billing",typeID:7,typeName:"Treatment List"},{groupTypeID:8,groupID:2,groupName:"Billing",typeID:8,typeName:"In House Treatment"}]),this._extensions=new oi([{extensionID:0,extension:"bmp",MIMEType:"image/bmp",description:"Standard Windows Bitmap image"},{extensionID:1,extension:"gif",MIMEType:"image/gif",description:"Graphics interchange file format"},{extensionID:2,extension:"jpeg",MIMEType:"image/jpeg",description:"JPEG bitmap image format file"},{extensionID:3,extension:"jpg",MIMEType:"image/jpeg",description:"JPEG bitmap image format file"},{extensionID:4,extension:"pdf",MIMEType:"application/pdf",description:"Adobe Portable document format"},{extensionID:5,extension:"csv",MIMEType:"application/vnd.ms-excel",description:"Comma Separated Value file"},{extensionID:6,extension:"doc",MIMEType:"application/msword",description:"Microsoft Word 97 to 2003 document file"},{extensionID:7,extension:"docx",MIMEType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",description:"Microsoft Word 2007/2010 Open XML document file"}])}getPatientFiles(e){return this._files.asObservable().pipe(th(5e3))}createPatientFile(e,i){return this._files.next([e,...this._files.value]),this.getPatientFiles(i)}deletePatientFile(e,i){return this._files.next(this._files.value.filter(r=>r!==e)),this.getPatientFiles(i)}updatePatientFileGroupType(e,i,r){const o=this._files.value,u=o.findIndex(h=>h===e);return o[u].groupTypeID=i.groupTypeID,o[u].groupName=i.groupName,o[u].typeName=i.typeName,this._files.next(o),this.getPatientFiles(r)}updatePatientFileDate(e,i,r){const o=this._files.value,u=o.findIndex(h=>h===e);return o[u].documentDate=i,this._files.next(o),this.getPatientFiles(r)}getFileGroups(e=[]){return e.length>0?this._groups.asObservable().pipe((0,Gt.U)(i=>i.filter(r=>e.includes(r.groupID))),th(500)):this._groups.asObservable().pipe(th(5e3))}getFileExtensions(){return this._extensions.asObservable().pipe(th(5e3))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Tv=R(4408);const Uu={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Uu;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(o=>{e=void 0,n(o)});return new Vn.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Uu;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Uu;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var xv=R(7565);const Iv=new class qC extends xv.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class WC extends Tv.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Uu.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Uu.cancelAnimationFrame(e),t._scheduled=void 0)}});let pg,YC=1;const mg={};function Mv(n){return n in mg&&(delete mg[n],!0)}const ZC={setImmediate(n){const t=YC++;return mg[t]=!0,pg||(pg=Promise.resolve()),pg.then(()=>Mv(t)&&n()),t},clearImmediate(n){Mv(n)}},{setImmediate:nh,clearImmediate:Dx}=ZC,gg={setImmediate(...n){const{delegate:t}=gg;return(t?.setImmediate||nh)(...n)},clearImmediate(n){const{delegate:t}=gg;return(t?.clearImmediate||Dx)(n)},delegate:void 0},_g=new class hO extends xv.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class dO extends Tv.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=gg.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(gg.clearImmediate(e),t._scheduled=void 0)}});function KC(n,t=Cf.z){return function Yf(n){return(0,Hn.e)((t,e)=>{let i=!1,r=null,o=null,u=!1;const h=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const w=r;r=null,e.next(w)}u&&e.complete()},_=()=>{o=null,u&&e.complete()};t.subscribe((0,Zn.x)(e,w=>{i=!0,r=w,o||(0,mr.Xf)(n(w)).subscribe(o=(0,Zn.x)(e,h,_))},()=>{u=!0,(!i||!o||o.closed)&&e.complete()}))})}(()=>fg(n,t))}let kv=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new yt.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Wn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(KC(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Nt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(Qn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,e)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Yn(i),o=e.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Qd(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(Fi),s.LFG(B,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Oa=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new yt.x,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,o=r.getBoundingClientRect();return{top:-o.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(KC(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Fi),s.LFG(s.R0b),s.LFG(B,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Qf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),tD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Sl,Qf,Sl,Qf]}),n})();class Pv{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Hu extends Pv{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class ju extends Pv{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Rx extends Pv{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class yg{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Hu?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof ju?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Rx?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class nD extends yg{constructor(t,e,i,r,o){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=o}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Fa=(()=>{class n extends yg{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=o=>{const u=o.element,h=this._document.createComment("dom-portal");o.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=o,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,o=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(o,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(B))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),Gu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Rv=xu();class CO{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Wi(-this._previousScrollPosition.left),t.style.top=Wi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,o=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Rv&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Rv&&(i.scrollBehavior=o,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class DO{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Vx{enable(){}disable(){}attach(){}}function iD(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Bx(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class EO{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();iD(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let AO=(()=>{class n{constructor(e,i,r,o){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Vx,this.close=u=>new DO(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new CO(this._viewportRuler,this._document),this.reposition=u=>new EO(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=o}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kv),s.LFG(Oa),s.LFG(s.R0b),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zu{constructor(t){if(this.scrollStrategy=new Vx,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class vg{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Gx=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ov=(()=>{class n extends Gx{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let u=o.length-1;u>-1;u--)if(o[u]._keydownEvents.observers.length>0){const h=o[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rD=(()=>{class n extends Gx{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=jo(o)},this._clickListener=o=>{const u=jo(o),h="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const I=_[w];if(I._outsidePointerEvents.observers.length<1||!I.hasAttached())continue;if(I.overlayElement.contains(u)||I.overlayElement.contains(h))break;const H=I._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>H.next(o)):H.next(o)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(Fi),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bg=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Am()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(e),Am()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(Fi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ih{constructor(t,e,i,r,o,u,h,_,w,I=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=u,this._document=h,this._location=_,this._outsideClickDispatcher=w,this._animationsDisabled=I,this._backdropElement=null,this._backdropClick=new yt.x,this._attachments=new yt.x,this._detachments=new yt.x,this._locationChanges=Vn.w0.EMPTY,this._backdropClickHandler=H=>this._backdropClick.next(H),this._backdropTransitionendHandler=H=>{this._disposeBackdrop(H.target)},this._keydownEvents=new yt.x,this._outsidePointerEvents=new yt.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(ei(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Wi(this._config.width),t.height=Wi(this._config.height),t.minWidth=Wi(this._config.minWidth),t.minHeight=Wi(this._config.minHeight),t.maxWidth=Wi(this._config.maxWidth),t.maxHeight=Wi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Vd(e||[]).filter(o=>!!o);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(_i((0,ks.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const zx="cdk-overlay-connected-position-bounding-box",$x=/([A-Za-z%]+)$/;class Wx{constructor(t,e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new yt.x,this._resizeSubscription=Vn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(zx),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let u;for(let h of this._preferredPositions){let _=this._getOriginPoint(t,r,h),w=this._getOverlayPoint(_,e,h),I=this._getOverlayFit(w,e,i,h);if(I.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(I,w,i)?o.push({position:h,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!u||u.overlayFit.visibleArea<I.visibleArea)&&(u={overlayFit:I,overlayPoint:w,originPoint:_,position:h,overlayRect:e})}if(o.length){let h=null,_=-1;for(const w of o){const I=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);I>_&&(_=I,h=w)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&$u(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(zx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,o;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),o="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(o-=e.top),{x:r,y:o}}_getOverlayPoint(t,e,i){let r,o;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,o="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+o}}_getOverlayFit(t,e,i,r){const o=sD(e);let{x:u,y:h}=t,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(u+=_),w&&(h+=w);let De=0-h,Me=h+o.height-i.height,Le=this._subtractOverflows(o.width,0-u,u+o.width-i.width),$e=this._subtractOverflows(o.height,De,Me),st=Le*$e;return{visibleArea:st,isCompletelyWithinViewport:o.width*o.height===st,fitsInViewportVertically:$e===o.height,fitsInViewportHorizontally:Le==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,o=i.right-e.x,u=Xf(this._overlayRef.getConfig().minHeight),h=Xf(this._overlayRef.getConfig().minWidth),w=t.fitsInViewportHorizontally||null!=h&&h<=o;return(t.fitsInViewportVertically||null!=u&&u<=r)&&w}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=sD(e),o=this._viewportRect,u=Math.max(t.x+r.width-o.width,0),h=Math.max(t.y+r.height-o.height,0),_=Math.max(o.top-i.top-t.y,0),w=Math.max(o.left-i.left-t.x,0);let I=0,H=0;return I=r.width<=o.width?w||-u:t.x<this._viewportMargin?o.left-i.left-t.x:0,H=r.height<=o.height?_||-h:t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:I,y:H},{x:t.x+I,y:t.y+H}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new vg(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let o,u,h,I,H,De;if("top"===e.overlayY)u=t.y,o=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,o=i.height-h+this._viewportMargin;else{const Me=Math.min(i.bottom-t.y+i.top,t.y),Le=this._lastBoundingBoxSize.height;o=2*Me,u=t.y-Me,o>Le&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-Le/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)De=i.width-t.x+this._viewportMargin,I=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)H=t.x,I=i.right-t.x;else{const Me=Math.min(i.right-t.x+i.left,t.x),Le=this._lastBoundingBoxSize.width;I=2*Me,H=t.x-Me,I>Le&&!this._isInitialRender&&!this._growAfterOpen&&(H=t.x-Le/2)}return{top:u,left:H,bottom:h,right:De,width:I,height:o}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Wi(i.height),r.top=Wi(i.top),r.bottom=Wi(i.bottom),r.width=Wi(i.width),r.left=Wi(i.left),r.right=Wi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=Wi(o)),u&&(r.maxWidth=Wi(u))}this._lastBoundingBoxSize=i,$u(this._boundingBox.style,r)}_resetBoundingBoxStyles(){$u(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){$u(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const I=this._viewportRuler.getViewportScrollPosition();$u(i,this._getExactOverlayY(e,t,I)),$u(i,this._getExactOverlayX(e,t,I))}else i.position="static";let h="",_=this._getOffset(e,"x"),w=this._getOffset(e,"y");_&&(h+=`translateX(${_}px) `),w&&(h+=`translateY(${w}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=Wi(u.maxHeight):o&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Wi(u.maxWidth):o&&(i.maxWidth="")),$u(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=Wi(o.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=Wi(o.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Bx(t,i),isOriginOutsideView:iD(t,i),isOverlayClipped:Bx(e,i),isOverlayOutsideView:iD(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Vd(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function $u(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Xf(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split($x);return e&&"px"!==e?null:parseFloat(t)}return n||null}function sD(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const qx="cdk-global-overlay-wrapper";class Yx{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(qx),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:u,maxHeight:h}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==o&&"100vh"!==o||h&&"100%"!==h&&"100vh"!==h),I=this._xPosition,H=this._xOffset,De="rtl"===this._overlayRef.getConfig().direction;let Me="",Le="",$e="";_?$e="flex-start":"center"===I?($e="center",De?Le=H:Me=H):De?"left"===I||"end"===I?($e="flex-end",Me=H):("right"===I||"start"===I)&&($e="flex-start",Le=H):"left"===I||"start"===I?($e="flex-start",Me=H):("right"===I||"end"===I)&&($e="flex-end",Le=H),t.position=this._cssPosition,t.marginLeft=_?"0":Me,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=_?"0":Le,e.justifyContent=$e,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(qx),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let Zx=(()=>{class n{constructor(e,i,r,o){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Yx}flexibleConnectedTo(e){return new Wx(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Oa),s.LFG(B),s.LFG(Fi),s.LFG(bg))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Kx=0,qo=(()=>{class n{constructor(e,i,r,o,u,h,_,w,I,H,De,Me){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=u,this._injector=h,this._ngZone=_,this._document=w,this._directionality=I,this._location=H,this._outsideClickDispatcher=De,this._animationsModuleType=Me}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),u=new zu(e);return u.direction=u.direction||this._directionality.value,new ih(o,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Kx++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new nD(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(AO),s.LFG(bg),s.LFG(s._Vd),s.LFG(Zx),s.LFG(Ov),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(B),s.LFG(_r),s.LFG(F),s.LFG(rD),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Xx={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[qo],useFactory:function Yo(n){return()=>n.scrollStrategies.reposition()}};let Oc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[qo,Xx],imports:[Sl,Gu,tD,tD]}),n})();function Rs(n,t){}class wg{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let lD=(()=>{class n extends yg{constructor(e,i,r,o,u,h,_,w){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=o,this._interactivityChecker=u,this._ngZone=h,this._overlayRef=_,this._focusMonitor=w,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=I=>{this._portalOutlet.hasAttached();const H=this._portalOutlet.attachDomPortal(I);return this._contentAttached(),H},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=Ld(),o=this._elementRef.nativeElement;(!r||r===this._document.body||r===o||o.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=Ld();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ld())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Rm),s.Y36(B,8),s.Y36(wg),s.Y36(Df),s.Y36(s.R0b),s.Y36(ih),s.Y36(ku))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(Fa,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,Rs,0,0,"ng-template",0)},dependencies:[Fa],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class Fv{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new yt.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Mu(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const Cg=new s.OlP("DialogScrollStrategy"),cD=new s.OlP("DialogData"),uD=new s.OlP("DefaultDialogConfig"),dD={provide:Cg,deps:[qo],useFactory:function Jx(n){return()=>n.scrollStrategies.block()}};let hD=0,fD=(()=>{class n{constructor(e,i,r,o,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=o,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new yt.x,this._afterOpenedAtThisLevel=new yt.x,this._ariaHiddenElements=new Map,this.afterAllClosed=no(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Kn(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new wg,...i}).id=i.id||"cdk-dialog-"+hD++,i.id&&this.getDialogById(i.id);const o=this._getOverlayConfig(i),u=this._overlay.create(o),h=new Fv(u,i),_=this._attachContainer(u,h,i);return h.containerInstance=_,this._attachDialogContent(e,h,_,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){Dg(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){Dg(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),Dg(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new zu({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const o=r.injector??r.viewContainerRef?.injector,u=[{provide:wg,useValue:r},{provide:Fv,useValue:i},{provide:ih,useValue:e}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,u.push(...r.container.providers(r))):h=lD;const _=new Hu(h,r.viewContainerRef,s.zs3.create({parent:o||this._injector,providers:u}),r.componentFactoryResolver);return e.attach(_).instance}_attachDialogContent(e,i,r,o){const u=this._createInjector(o,i,r);if(e instanceof s.Rgc){let h={$implicit:o.data,dialogRef:i};o.templateContext&&(h={...h,..."function"==typeof o.templateContext?o.templateContext():o.templateContext}),r.attachTemplatePortal(new ju(e,null,h,u))}else{const h=r.attachComponentPortal(new Hu(e,o.viewContainerRef,u,o.componentFactoryResolver));i.componentInstance=h.instance}}_createInjector(e,i,r){const o=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:cD,useValue:e.data},{provide:Fv,useValue:i}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(i,e,r)):u.push(...e.providers)),e.direction&&(!o||!o.get(_r,null,s.XFs.Optional))&&u.push({provide:_r,useValue:{value:e.direction,change:Nt()}}),s.zs3.create({parent:e.injector||o||this._injector,providers:u})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,u)=>{o?u.setAttribute("aria-hidden",o):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const o=i[r];o!==e&&"SCRIPT"!==o.nodeName&&"STYLE"!==o.nodeName&&!o.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qo),s.LFG(s.zs3),s.LFG(uD,8),s.LFG(n,12),s.LFG(bg),s.LFG(Cg))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Dg(n,t){let e=n.length;for(;e--;)t(n[e])}let eI=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[fD,dD],imports:[Oc,Gu,Sf,Gu]}),n})();function Lv(n,t){}const Os={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},pD={dialogContainer:Ml("dialogContainer",[nr("void, exit",kn({opacity:0,transform:"scale(0.7)"})),nr("enter",kn({transform:"none"})),yr("* => enter",Pw([cr("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",kn({transform:"none",opacity:1})),DT("@*",Rw(),{optional:!0})]),Os),yr("* => void, * => exit",Pw([cr("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",kn({opacity:0})),DT("@*",Rw(),{optional:!0})]),Os)])};class rh{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Os.params.enterAnimationDuration,this.exitAnimationDuration=Os.params.exitAnimationDuration}}let Rl=(()=>{class n extends lD{constructor(e,i,r,o,u,h,_,w){super(e,i,r,o,u,h,_,w),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Rm),s.Y36(B,8),s.Y36(rh),s.Y36(Df),s.Y36(s.R0b),s.Y36(ih),s.Y36(ku))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),tI=(()=>{class n extends Rl{constructor(e,i,r,o,u,h,_,w,I){super(e,i,r,o,u,h,_,I),this._changeDetectorRef=w,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Os.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Os.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Rm),s.Y36(B,8),s.Y36(rh),s.Y36(Df),s.Y36(s.R0b),s.Y36(ih),s.Y36(s.sBO),s.Y36(ku))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(o){return i._onAnimationStart(o)})("@dialogContainer.done",function(o){return i._onAnimationDone(o)}),2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._getAnimationState()))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,Lv,0,0,"ng-template",0)},dependencies:[Fa],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[pD.dialogContainer]}}),n})();class mD{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new yt.x,this._beforeClosed=new yt.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(Qn(r=>"opened"===r.state),ei(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(Qn(r=>"closed"===r.state),ei(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,ks.T)(this.backdropClick(),this.keydownEvents().pipe(Qn(r=>27===r.keyCode&&!this.disableClose&&!Mu(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),gD(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(Qn(e=>"closing"===e.state),ei(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function gD(n,t,e){return n._closeInteractionType=t,n.close(e)}const _D=new s.OlP("MatDialogData"),nI=new s.OlP("mat-dialog-default-options"),yD=new s.OlP("mat-dialog-scroll-strategy"),vD={provide:yD,deps:[qo],useFactory:function xO(n){return()=>n.scrollStrategies.block()}};let rI=0,bD=(()=>{class n{constructor(e,i,r,o,u,h,_,w,I,H){this._overlay=e,this._defaultOptions=r,this._parentDialog=o,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=I,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new yt.x,this._afterOpenedAtThisLevel=new yt.x,this._idPrefix="mat-dialog-",this.afterAllClosed=no(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Kn(void 0))),this._scrollStrategy=h,this._dialog=i.get(fD)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new rh,...i}).id=i.id||`${this._idPrefix}${rI++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const o=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:rh,useValue:i},{provide:wg,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,h,_)=>(r=new this._dialogRefConstructor(u,i,_),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=o.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Eg=(()=>{class n extends bD{constructor(e,i,r,o,u,h,_,w){super(e,i,o,h,_,u,mD,tI,_D,w)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qo),s.LFG(s.zs3),s.LFG(F,8),s.LFG(nI,8),s.LFG(yD),s.LFG(n,12),s.LFG(bg),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Nv=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function CD(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){gD(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mD,8),s.Y36(s.SBq),s.Y36(Eg))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._onButtonClick(o)}),2&e&&s.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[s.TTD]}),n})(),Ag=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Eg,vD],imports:[eI,Oc,Gu,Fn,Fn]}),n})();const Sg=["mat-calendar-body",""];function DD(n,t){if(1&n&&(s.TgZ(0,"tr",2)(1,"td",3),s._uU(2),s.qZA()()),2&n){const e=s.oxw();s.xp6(1),s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e.numCols),s.xp6(1),s.hij(" ",e.label," ")}}function aI(n,t){if(1&n&&(s.TgZ(0,"td",3),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Udp("padding-top",e._cellPadding)("padding-bottom",e._cellPadding),s.uIk("colspan",e._firstRowOffset),s.xp6(1),s.hij(" ",e._firstRowOffset>=e.labelMinRequiredCells?e.label:""," ")}}function ED(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"td",7)(1,"button",8),s.NdJ("click",function(r){const u=s.CHM(e).$implicit,h=s.oxw(2);return s.KtG(h._cellClicked(u,r))})("focus",function(r){const u=s.CHM(e).$implicit,h=s.oxw(2);return s.KtG(h._emitActiveDateChange(u,r))}),s.TgZ(2,"div",9),s._uU(3),s.qZA(),s._UZ(4,"div",10),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw().index,o=s.oxw();s.Udp("width",o._cellWidth)("padding-top",o._cellPadding)("padding-bottom",o._cellPadding),s.uIk("data-mat-row",r)("data-mat-col",i),s.xp6(1),s.ekj("mat-calendar-body-disabled",!e.enabled)("mat-calendar-body-active",o._isActiveCell(r,i))("mat-calendar-body-range-start",o._isRangeStart(e.compareValue))("mat-calendar-body-range-end",o._isRangeEnd(e.compareValue))("mat-calendar-body-in-range",o._isInRange(e.compareValue))("mat-calendar-body-comparison-bridge-start",o._isComparisonBridgeStart(e.compareValue,r,i))("mat-calendar-body-comparison-bridge-end",o._isComparisonBridgeEnd(e.compareValue,r,i))("mat-calendar-body-comparison-start",o._isComparisonStart(e.compareValue))("mat-calendar-body-comparison-end",o._isComparisonEnd(e.compareValue))("mat-calendar-body-in-comparison-range",o._isInComparisonRange(e.compareValue))("mat-calendar-body-preview-start",o._isPreviewStart(e.compareValue))("mat-calendar-body-preview-end",o._isPreviewEnd(e.compareValue))("mat-calendar-body-in-preview",o._isInPreview(e.compareValue)),s.Q6J("ngClass",e.cssClasses)("tabindex",o._isActiveCell(r,i)?0:-1),s.uIk("aria-label",e.ariaLabel)("aria-disabled",!e.enabled||null)("aria-pressed",o._isSelected(e.compareValue))("aria-current",o.todayValue===e.compareValue?"date":null),s.xp6(1),s.ekj("mat-calendar-body-selected",o._isSelected(e.compareValue))("mat-calendar-body-comparison-identical",o._isComparisonIdentical(e.compareValue))("mat-calendar-body-today",o.todayValue===e.compareValue),s.xp6(1),s.hij(" ",e.displayValue," ")}}function AD(n,t){if(1&n&&(s.TgZ(0,"tr",4),s.YNc(1,aI,2,6,"td",5),s.YNc(2,ED,5,47,"td",6),s.qZA()),2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.xp6(1),s.Q6J("ngIf",0===i&&r._firstRowOffset),s.xp6(1),s.Q6J("ngForOf",e)}}function lI(n,t){if(1&n&&(s.TgZ(0,"th",5)(1,"span",6),s._uU(2),s.qZA(),s.TgZ(3,"span",7),s._uU(4),s.qZA()()),2&n){const e=t.$implicit;s.xp6(2),s.Oqu(e.long),s.xp6(2),s.Oqu(e.narrow)}}const cI=["*"];function MO(n,t){}function kO(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-month-view",5),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("_userSelection",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._dateSelected(r))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)("comparisonStart",e.comparisonStart)("comparisonEnd",e.comparisonEnd)}}function SD(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-year-view",6),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("monthSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._monthSelectedInYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"month"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}function uI(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-multi-year-view",7),s.NdJ("activeDateChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.activeDate=r)})("yearSelected",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._yearSelectedInMultiYearView(r))})("selectedChange",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._goToDateInView(r,"year"))}),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("activeDate",e.activeDate)("selected",e.selected)("dateFilter",e.dateFilter)("maxDate",e.maxDate)("minDate",e.minDate)("dateClass",e.dateClass)}}let Bv=(()=>{class n{constructor(){this.changes=new yt.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Uv{constructor(t,e,i,r,o={},u=t,h){this.value=t,this.displayValue=e,this.ariaLabel=i,this.enabled=r,this.cssClasses=o,this.compareValue=u,this.rawValue=h}}let Wu=(()=>{class n{constructor(e,i){this._elementRef=e,this._ngZone=i,this._focusActiveCellAfterViewChecked=!1,this.numCols=7,this.activeCell=0,this.isRange=!1,this.cellAspectRatio=1,this.previewStart=null,this.previewEnd=null,this.selectedValueChange=new s.vpe,this.previewChange=new s.vpe,this.activeDateChange=new s.vpe,this._enterHandler=r=>{if(this._skipNextFocus&&"focus"===r.type)this._skipNextFocus=!1;else if(r.target&&this.isRange){const o=this._getCellFromElement(r.target);o&&this._ngZone.run(()=>this.previewChange.emit({value:o.enabled?o:null,event:r}))}},this._leaveHandler=r=>{null!==this.previewEnd&&this.isRange&&r.target&&this._getCellFromElement(r.target)&&this._ngZone.run(()=>this.previewChange.emit({value:null,event:r}))},i.runOutsideAngular(()=>{const r=e.nativeElement;r.addEventListener("mouseenter",this._enterHandler,!0),r.addEventListener("focus",this._enterHandler,!0),r.addEventListener("mouseleave",this._leaveHandler,!0),r.addEventListener("blur",this._leaveHandler,!0)})}ngAfterViewChecked(){this._focusActiveCellAfterViewChecked&&(this._focusActiveCell(),this._focusActiveCellAfterViewChecked=!1)}_cellClicked(e,i){e.enabled&&this.selectedValueChange.emit({value:e.value,event:i})}_emitActiveDateChange(e,i){e.enabled&&this.activeDateChange.emit({value:e.value,event:i})}_isSelected(e){return this.startValue===e||this.endValue===e}ngOnChanges(e){const i=e.numCols,{rows:r,numCols:o}=this;(e.rows||i)&&(this._firstRowOffset=r&&r.length&&r[0].length?o-r[0].length:0),(e.cellAspectRatio||i||!this._cellPadding)&&(this._cellPadding=50*this.cellAspectRatio/o+"%"),(i||!this._cellWidth)&&(this._cellWidth=100/o+"%")}ngOnDestroy(){const e=this._elementRef.nativeElement;e.removeEventListener("mouseenter",this._enterHandler,!0),e.removeEventListener("focus",this._enterHandler,!0),e.removeEventListener("mouseleave",this._leaveHandler,!0),e.removeEventListener("blur",this._leaveHandler,!0)}_isActiveCell(e,i){let r=e*this.numCols+i;return e&&(r-=this._firstRowOffset),r==this.activeCell}_focusActiveCell(e=!0){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ei(1)).subscribe(()=>{setTimeout(()=>{const i=this._elementRef.nativeElement.querySelector(".mat-calendar-body-active");i&&(e||(this._skipNextFocus=!0),i.focus())})})})}_scheduleFocusActiveCellAfterViewChecked(){this._focusActiveCellAfterViewChecked=!0}_isRangeStart(e){return Tg(e,this.startValue,this.endValue)}_isRangeEnd(e){return Jf(e,this.startValue,this.endValue)}_isInRange(e){return ep(e,this.startValue,this.endValue,this.isRange)}_isComparisonStart(e){return Tg(e,this.comparisonStart,this.comparisonEnd)}_isComparisonBridgeStart(e,i,r){if(!this._isComparisonStart(e)||this._isRangeStart(e)||!this._isInRange(e))return!1;let o=this.rows[i][r-1];if(!o){const u=this.rows[i-1];o=u&&u[u.length-1]}return o&&!this._isRangeEnd(o.compareValue)}_isComparisonBridgeEnd(e,i,r){if(!this._isComparisonEnd(e)||this._isRangeEnd(e)||!this._isInRange(e))return!1;let o=this.rows[i][r+1];if(!o){const u=this.rows[i+1];o=u&&u[0]}return o&&!this._isRangeStart(o.compareValue)}_isComparisonEnd(e){return Jf(e,this.comparisonStart,this.comparisonEnd)}_isInComparisonRange(e){return ep(e,this.comparisonStart,this.comparisonEnd,this.isRange)}_isComparisonIdentical(e){return this.comparisonStart===this.comparisonEnd&&e===this.comparisonStart}_isPreviewStart(e){return Tg(e,this.previewStart,this.previewEnd)}_isPreviewEnd(e){return Jf(e,this.previewStart,this.previewEnd)}_isInPreview(e){return ep(e,this.previewStart,this.previewEnd,this.isRange)}_getCellFromElement(e){let i;if(Fc(e)?i=e:Fc(e.parentNode)&&(i=e.parentNode),i){const r=i.getAttribute("data-mat-row"),o=i.getAttribute("data-mat-col");if(r&&o)return this.rows[parseInt(r)][parseInt(o)]}return null}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-calendar-body",""]],hostAttrs:[1,"mat-calendar-body"],inputs:{label:"label",rows:"rows",todayValue:"todayValue",startValue:"startValue",endValue:"endValue",labelMinRequiredCells:"labelMinRequiredCells",numCols:"numCols",activeCell:"activeCell",isRange:"isRange",cellAspectRatio:"cellAspectRatio",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd",previewStart:"previewStart",previewEnd:"previewEnd"},outputs:{selectedValueChange:"selectedValueChange",previewChange:"previewChange",activeDateChange:"activeDateChange"},exportAs:["matCalendarBody"],features:[s.TTD],attrs:Sg,decls:2,vars:2,consts:[["aria-hidden","true",4,"ngIf"],["role","row",4,"ngFor","ngForOf"],["aria-hidden","true"],[1,"mat-calendar-body-label"],["role","row"],["class","mat-calendar-body-label",3,"paddingTop","paddingBottom",4,"ngIf"],["role","gridcell","class","mat-calendar-body-cell-container",3,"width","paddingTop","paddingBottom",4,"ngFor","ngForOf"],["role","gridcell",1,"mat-calendar-body-cell-container"],["type","button",1,"mat-calendar-body-cell",3,"ngClass","tabindex","click","focus"],[1,"mat-calendar-body-cell-content","mat-focus-indicator"],["aria-hidden","true",1,"mat-calendar-body-cell-preview"]],template:function(e,i){1&e&&(s.YNc(0,DD,3,6,"tr",0),s.YNc(1,AD,3,2,"tr",1)),2&e&&(s.Q6J("ngIf",i._firstRowOffset<i.labelMinRequiredCells),s.xp6(1),s.Q6J("ngForOf",i.rows))},dependencies:[Ha,bs,$s],styles:['.mat-calendar-body{min-width:224px}.mat-calendar-body-label{height:0;line-height:0;text-align:left;padding-left:4.7142857143%;padding-right:4.7142857143%}.mat-calendar-body-cell-container{position:relative;height:0;line-height:0}.mat-calendar-body-cell{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);position:absolute;top:0;left:0;width:100%;height:100%;background:none;text-align:center;outline:none;font-family:inherit;margin:0}.mat-calendar-body-cell::-moz-focus-inner{border:0}.mat-calendar-body-cell::before,.mat-calendar-body-cell::after,.mat-calendar-body-cell-preview{content:"";position:absolute;top:5%;left:0;z-index:0;box-sizing:border-box;height:90%;width:100%}.mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-start::after,.mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,.mat-calendar-body-comparison-start::after,.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:5%;width:95%;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-range-start:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-start:not(.mat-calendar-body-comparison-bridge-start)::before,[dir=rtl] .mat-calendar-body-comparison-start::after,[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{left:0;border-radius:0;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,.mat-calendar-body-comparison-end::after,.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}[dir=rtl] .mat-calendar-body-range-end:not(.mat-calendar-body-in-comparison-range)::before,[dir=rtl] .mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-end:not(.mat-calendar-body-comparison-bridge-end)::before,[dir=rtl] .mat-calendar-body-comparison-end::after,[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{left:5%;border-radius:0;border-top-left-radius:999px;border-bottom-left-radius:999px}[dir=rtl] .mat-calendar-body-comparison-bridge-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-bridge-end.mat-calendar-body-range-start::after{width:95%;border-top-right-radius:999px;border-bottom-right-radius:999px}.mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,[dir=rtl] .mat-calendar-body-comparison-start.mat-calendar-body-range-end::after,.mat-calendar-body-comparison-end.mat-calendar-body-range-start::after,[dir=rtl] .mat-calendar-body-comparison-end.mat-calendar-body-range-start::after{width:90%}.mat-calendar-body-in-preview .mat-calendar-body-cell-preview{border-top:dashed 1px;border-bottom:dashed 1px}.mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:dashed 1px}[dir=rtl] .mat-calendar-body-preview-start .mat-calendar-body-cell-preview{border-left:0;border-right:dashed 1px}.mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:dashed 1px}[dir=rtl] .mat-calendar-body-preview-end .mat-calendar-body-cell-preview{border-right:0;border-left:dashed 1px}.mat-calendar-body-disabled{cursor:default}.cdk-high-contrast-active .mat-calendar-body-disabled{opacity:.5}.mat-calendar-body-cell-content{top:5%;left:5%;z-index:1;display:flex;align-items:center;justify-content:center;box-sizing:border-box;width:90%;height:90%;line-height:1;border-width:1px;border-style:solid;border-radius:999px}.mat-calendar-body-cell-content.mat-focus-indicator{position:absolute}.cdk-high-contrast-active .mat-calendar-body-cell-content{border:none}.cdk-high-contrast-active .mat-datepicker-popup:not(:empty),.cdk-high-contrast-active .mat-calendar-body-cell:not(.mat-calendar-body-in-range) .mat-calendar-body-selected{outline:solid 1px}.cdk-high-contrast-active .mat-calendar-body-today{outline:dotted 1px}.cdk-high-contrast-active .mat-calendar-body-cell::before,.cdk-high-contrast-active .mat-calendar-body-cell::after,.cdk-high-contrast-active .mat-calendar-body-selected{background:none}.cdk-high-contrast-active .mat-calendar-body-in-range::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-start::before,.cdk-high-contrast-active .mat-calendar-body-comparison-bridge-end::before{border-top:solid 1px;border-bottom:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-start::before{border-left:0;border-right:solid 1px}.cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:solid 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-range-end::before{border-right:0;border-left:solid 1px}.cdk-high-contrast-active .mat-calendar-body-in-comparison-range::before{border-top:dashed 1px;border-bottom:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-start::before{border-left:0;border-right:dashed 1px}.cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:dashed 1px}[dir=rtl] .cdk-high-contrast-active .mat-calendar-body-comparison-end::before{border-right:0;border-left:dashed 1px}[dir=rtl] .mat-calendar-body-label{text-align:right}'],encapsulation:2,changeDetection:0}),n})();function Fc(n){return"TD"===n.nodeName}function Tg(n,t,e){return null!==e&&t!==e&&n<e&&n===t}function Jf(n,t,e){return null!==t&&t!==e&&n>=t&&n===e}function ep(n,t,e,i){return i&&null!==t&&null!==e&&t!==e&&n>=t&&n<=e}class Fs{constructor(t,e){this.start=t,this.end=e}}let Lc=(()=>{class n{constructor(e,i){this.selection=e,this._adapter=i,this._selectionChanged=new yt.x,this.selectionChanged=this._selectionChanged,this.selection=e}updateSelection(e,i){const r=this.selection;this.selection=e,this._selectionChanged.next({selection:e,source:i,oldValue:r})}ngOnDestroy(){this._selectionChanged.complete()}_isValidDateInstance(e){return this._adapter.isDateInstance(e)&&this._adapter.isValid(e)}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Hv=(()=>{class n extends Lc{constructor(e){super(null,e)}add(e){super.updateSelection(e,this)}isValid(){return null!=this.selection&&this._isValidDateInstance(this.selection)}isComplete(){return null!=this.selection}clone(){const e=new n(this._adapter);return e.updateSelection(this.selection,this),e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Kr))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const LO={provide:Lc,deps:[[new s.FiY,new s.tp0,Lc],Kr],useFactory:function FO(n,t){return n||new Hv(t)}},Ig=new s.OlP("MAT_DATE_RANGE_SELECTION_STRATEGY");let Gv=(()=>{class n{constructor(e,i,r,o,u){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rangeStrategy=u,this._rerenderSubscription=Vn.w0.EMPTY,this.selectedChange=new s.vpe,this._userSelection=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){const i=this._activeDate,r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._hasSameMonthAndYear(i,this._activeDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Fs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setRanges(this._selected)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Kn(null)).subscribe(()=>this._init())}ngOnChanges(e){const i=e.comparisonStart||e.comparisonEnd;i&&!i.firstChange&&this._setRanges(this.selected)}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_dateSelected(e){const i=e.value,r=this._getDateFromDayOfMonth(i);let o,u;this._selected instanceof Fs?(o=this._getDateInCurrentMonth(this._selected.start),u=this._getDateInCurrentMonth(this._selected.end)):o=u=this._getDateInCurrentMonth(this._selected),(o!==i||u!==i)&&this.selectedChange.emit(r),this._userSelection.emit({value:r,event:e.event}),this._previewStart=this._previewEnd=null,this._changeDetectorRef.markForCheck()}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromDayOfMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this._activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,-7);break;case 40:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,7);break;case 36:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,1-this._dateAdapter.getDate(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarDays(this._activeDate,this._dateAdapter.getNumDaysInMonth(this._activeDate)-this._dateAdapter.getDate(this._activeDate));break;case 33:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,-1):this._dateAdapter.addCalendarMonths(this._activeDate,-1);break;case 34:this.activeDate=e.altKey?this._dateAdapter.addCalendarYears(this._activeDate,1):this._dateAdapter.addCalendarMonths(this._activeDate,1);break;case 13:case 32:return this._selectionKeyPressed=!0,void(this._canSelect(this._activeDate)&&e.preventDefault());case 27:return void(null!=this._previewEnd&&!Mu(e)&&(this._previewStart=this._previewEnd=null,this.selectedChange.emit(null),this._userSelection.emit({value:null,event:e}),e.preventDefault(),e.stopPropagation()));default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._canSelect(this._activeDate)&&this._dateSelected({value:this._dateAdapter.getDate(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setRanges(this.selected),this._todayDate=this._getCellCompareValue(this._dateAdapter.today()),this._monthLabel=this._dateFormats.display.monthLabel?this._dateAdapter.format(this.activeDate,this._dateFormats.display.monthLabel):this._dateAdapter.getMonthNames("short")[this._dateAdapter.getMonth(this.activeDate)].toLocaleUpperCase();let e=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),1);this._firstWeekOffset=(7+this._dateAdapter.getDayOfWeek(e)-this._dateAdapter.getFirstDayOfWeek())%7,this._initWeekdays(),this._createWeekCells(),this._changeDetectorRef.markForCheck()}_focusActiveCell(e){this._matCalendarBody._focusActiveCell(e)}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_previewChanged({event:e,value:i}){if(this._rangeStrategy){const o=this._rangeStrategy.createPreview(i?i.rawValue:null,this.selected,e);this._previewStart=this._getCellCompareValue(o.start),this._previewEnd=this._getCellCompareValue(o.end),this._changeDetectorRef.detectChanges()}}_getDateFromDayOfMonth(e){return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),e)}_initWeekdays(){const e=this._dateAdapter.getFirstDayOfWeek(),i=this._dateAdapter.getDayOfWeekNames("narrow");let o=this._dateAdapter.getDayOfWeekNames("long").map((u,h)=>({long:u,narrow:i[h]}));this._weekdays=o.slice(e).concat(o.slice(0,e))}_createWeekCells(){const e=this._dateAdapter.getNumDaysInMonth(this.activeDate),i=this._dateAdapter.getDateNames();this._weeks=[[]];for(let r=0,o=this._firstWeekOffset;r<e;r++,o++){7==o&&(this._weeks.push([]),o=0);const u=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),this._dateAdapter.getMonth(this.activeDate),r+1),h=this._shouldEnableDate(u),_=this._dateAdapter.format(u,this._dateFormats.display.dateA11yLabel),w=this.dateClass?this.dateClass(u,"month"):void 0;this._weeks[this._weeks.length-1].push(new Uv(r+1,i[r],_,h,w,this._getCellCompareValue(u),u))}}_shouldEnableDate(e){return!!e&&(!this.minDate||this._dateAdapter.compareDate(e,this.minDate)>=0)&&(!this.maxDate||this._dateAdapter.compareDate(e,this.maxDate)<=0)&&(!this.dateFilter||this.dateFilter(e))}_getDateInCurrentMonth(e){return e&&this._hasSameMonthAndYear(e,this.activeDate)?this._dateAdapter.getDate(e):null}_hasSameMonthAndYear(e,i){return!(!e||!i||this._dateAdapter.getMonth(e)!=this._dateAdapter.getMonth(i)||this._dateAdapter.getYear(e)!=this._dateAdapter.getYear(i))}_getCellCompareValue(e){if(e){const i=this._dateAdapter.getYear(e),r=this._dateAdapter.getMonth(e),o=this._dateAdapter.getDate(e);return new Date(i,r,o).getTime()}return null}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setRanges(e){e instanceof Fs?(this._rangeStart=this._getCellCompareValue(e.start),this._rangeEnd=this._getCellCompareValue(e.end),this._isRange=!0):(this._rangeStart=this._rangeEnd=this._getCellCompareValue(e),this._isRange=!1),this._comparisonRangeStart=this._getCellCompareValue(this.comparisonStart),this._comparisonRangeEnd=this._getCellCompareValue(this.comparisonEnd)}_canSelect(e){return!this.dateFilter||this.dateFilter(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Ru,8),s.Y36(Kr,8),s.Y36(_r,8),s.Y36(Ig,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-month-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Wu,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",_userSelection:"_userSelection",activeDateChange:"activeDateChange"},exportAs:["matMonthView"],features:[s.TTD],decls:7,vars:13,consts:[["role","grid",1,"mat-calendar-table"],[1,"mat-calendar-table-header"],["scope","col",4,"ngFor","ngForOf"],["aria-hidden","true","colspan","7",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","comparisonStart","comparisonEnd","previewStart","previewEnd","isRange","labelMinRequiredCells","activeCell","selectedValueChange","activeDateChange","previewChange","keyup","keydown"],["scope","col"],[1,"cdk-visually-hidden"],["aria-hidden","true"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s.YNc(3,lI,5,2,"th",2),s.qZA(),s.TgZ(4,"tr"),s._UZ(5,"th",3),s.qZA()(),s.TgZ(6,"tbody",4),s.NdJ("selectedValueChange",function(o){return i._dateSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("previewChange",function(o){return i._previewChanged(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngForOf",i._weekdays),s.xp6(3),s.Q6J("label",i._monthLabel)("rows",i._weeks)("todayValue",i._todayDate)("startValue",i._rangeStart)("endValue",i._rangeEnd)("comparisonStart",i._comparisonRangeStart)("comparisonEnd",i._comparisonRangeEnd)("previewStart",i._previewStart)("previewEnd",i._previewEnd)("isRange",i._isRange)("labelMinRequiredCells",3)("activeCell",i._dateAdapter.getDate(i.activeDate)-1))},dependencies:[bs,Wu],encapsulation:2,changeDetection:0}),n})(),TD=(()=>{class n{constructor(e,i,r){this._changeDetectorRef=e,this._dateAdapter=i,this._dir=r,this._rerenderSubscription=Vn.w0.EMPTY,this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),xD(this._dateAdapter,i,this._activeDate,this.minDate,this.maxDate)||this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Fs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedYear(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Kn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_init(){this._todayYear=this._dateAdapter.getYear(this._dateAdapter.today());const i=this._dateAdapter.getYear(this._activeDate)-sh(this._dateAdapter,this.activeDate,this.minDate,this.maxDate);this._years=[];for(let r=0,o=[];r<24;r++)o.push(i+r),4==o.length&&(this._years.push(o.map(u=>this._createCellForYear(u))),o=[]);this._changeDetectorRef.markForCheck()}_yearSelected(e){const i=e.value,r=this._dateAdapter.createDate(i,0,1),o=this._getDateFromYear(i);this.yearSelected.emit(r),this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromYear(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,-sh(this._dateAdapter,this.activeDate,this.minDate,this.maxDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,24-sh(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)-1);break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-240:-24);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?240:24);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked(),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._yearSelected({value:this._dateAdapter.getYear(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_getActiveCell(){return sh(this._dateAdapter,this.activeDate,this.minDate,this.maxDate)}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getDateFromYear(e){const i=this._dateAdapter.getMonth(this.activeDate),r=this._dateAdapter.getNumDaysInMonth(this._dateAdapter.createDate(e,i,1));return this._dateAdapter.createDate(e,i,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForYear(e){const i=this._dateAdapter.createDate(e,0,1),r=this._dateAdapter.getYearName(i),o=this.dateClass?this.dateClass(i,"multi-year"):void 0;return new Uv(e,r,r,this._shouldEnableYear(e),o)}_shouldEnableYear(e){if(null==e||this.maxDate&&e>this._dateAdapter.getYear(this.maxDate)||this.minDate&&e<this._dateAdapter.getYear(this.minDate))return!1;if(!this.dateFilter)return!0;for(let r=this._dateAdapter.createDate(e,0,1);this._dateAdapter.getYear(r)==e;r=this._dateAdapter.addCalendarDays(r,1))if(this.dateFilter(r))return!0;return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedYear(e){if(this._selectedYear=null,e instanceof Fs){const i=e.start||e.end;i&&(this._selectedYear=this._dateAdapter.getYear(i))}else e&&(this._selectedYear=this._dateAdapter.getYear(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Kr,8),s.Y36(_r,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-multi-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Wu,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",activeDateChange:"activeDateChange"},exportAs:["matMultiYearView"],decls:5,vars:7,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"rows","todayValue","startValue","endValue","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._yearSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("rows",i._years)("todayValue",i._todayYear)("startValue",i._selectedYear)("endValue",i._selectedYear)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._getActiveCell()))},dependencies:[Wu],encapsulation:2,changeDetection:0}),n})();function xD(n,t,e,i,r){const o=n.getYear(t),u=n.getYear(e),h=kg(n,i,r);return Math.floor((o-h)/24)===Math.floor((u-h)/24)}function sh(n,t,e,i){return function BO(n,t){return(n%t+t)%t}(n.getYear(t)-kg(n,e,i),24)}function kg(n,t,e){let i=0;return e?i=n.getYear(e)-24+1:t&&(i=n.getYear(t)),i}let zv=(()=>{class n{constructor(e,i,r,o){this._changeDetectorRef=e,this._dateFormats=i,this._dateAdapter=r,this._dir=o,this._rerenderSubscription=Vn.w0.EMPTY,this.selectedChange=new s.vpe,this.monthSelected=new s.vpe,this.activeDateChange=new s.vpe,this._activeDate=this._dateAdapter.today()}get activeDate(){return this._activeDate}set activeDate(e){let i=this._activeDate;const r=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))||this._dateAdapter.today();this._activeDate=this._dateAdapter.clampDate(r,this.minDate,this.maxDate),this._dateAdapter.getYear(i)!==this._dateAdapter.getYear(this._activeDate)&&this._init()}get selected(){return this._selected}set selected(e){this._selected=e instanceof Fs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e)),this._setSelectedMonth(e)}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}ngAfterContentInit(){this._rerenderSubscription=this._dateAdapter.localeChanges.pipe(Kn(null)).subscribe(()=>this._init())}ngOnDestroy(){this._rerenderSubscription.unsubscribe()}_monthSelected(e){const i=e.value,r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),i,1);this.monthSelected.emit(r);const o=this._getDateFromMonth(i);this.selectedChange.emit(o)}_updateActiveDate(e){const r=this._activeDate;this.activeDate=this._getDateFromMonth(e.value),this._dateAdapter.compareDate(r,this.activeDate)&&this.activeDateChange.emit(this.activeDate)}_handleCalendarBodyKeydown(e){const i=this._activeDate,r=this._isRtl();switch(e.keyCode){case 37:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?1:-1);break;case 39:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,r?-1:1);break;case 38:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-4);break;case 40:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,4);break;case 36:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,-this._dateAdapter.getMonth(this._activeDate));break;case 35:this.activeDate=this._dateAdapter.addCalendarMonths(this._activeDate,11-this._dateAdapter.getMonth(this._activeDate));break;case 33:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?-10:-1);break;case 34:this.activeDate=this._dateAdapter.addCalendarYears(this._activeDate,e.altKey?10:1);break;case 13:case 32:this._selectionKeyPressed=!0;break;default:return}this._dateAdapter.compareDate(i,this.activeDate)&&(this.activeDateChange.emit(this.activeDate),this._focusActiveCellAfterViewChecked()),e.preventDefault()}_handleCalendarBodyKeyup(e){(32===e.keyCode||13===e.keyCode)&&(this._selectionKeyPressed&&this._monthSelected({value:this._dateAdapter.getMonth(this._activeDate),event:e}),this._selectionKeyPressed=!1)}_init(){this._setSelectedMonth(this.selected),this._todayMonth=this._getMonthInCurrentYear(this._dateAdapter.today()),this._yearLabel=this._dateAdapter.getYearName(this.activeDate);let e=this._dateAdapter.getMonthNames("short");this._months=[[0,1,2,3],[4,5,6,7],[8,9,10,11]].map(i=>i.map(r=>this._createCellForMonth(r,e[r]))),this._changeDetectorRef.markForCheck()}_focusActiveCell(){this._matCalendarBody._focusActiveCell()}_focusActiveCellAfterViewChecked(){this._matCalendarBody._scheduleFocusActiveCellAfterViewChecked()}_getMonthInCurrentYear(e){return e&&this._dateAdapter.getYear(e)==this._dateAdapter.getYear(this.activeDate)?this._dateAdapter.getMonth(e):null}_getDateFromMonth(e){const i=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),r=this._dateAdapter.getNumDaysInMonth(i);return this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,Math.min(this._dateAdapter.getDate(this.activeDate),r))}_createCellForMonth(e,i){const r=this._dateAdapter.createDate(this._dateAdapter.getYear(this.activeDate),e,1),o=this._dateAdapter.format(r,this._dateFormats.display.monthYearA11yLabel),u=this.dateClass?this.dateClass(r,"year"):void 0;return new Uv(e,i.toLocaleUpperCase(),o,this._shouldEnableMonth(e),u)}_shouldEnableMonth(e){const i=this._dateAdapter.getYear(this.activeDate);if(null==e||this._isYearAndMonthAfterMaxDate(i,e)||this._isYearAndMonthBeforeMinDate(i,e))return!1;if(!this.dateFilter)return!0;for(let o=this._dateAdapter.createDate(i,e,1);this._dateAdapter.getMonth(o)==e;o=this._dateAdapter.addCalendarDays(o,1))if(this.dateFilter(o))return!0;return!1}_isYearAndMonthAfterMaxDate(e,i){if(this.maxDate){const r=this._dateAdapter.getYear(this.maxDate),o=this._dateAdapter.getMonth(this.maxDate);return e>r||e===r&&i>o}return!1}_isYearAndMonthBeforeMinDate(e,i){if(this.minDate){const r=this._dateAdapter.getYear(this.minDate),o=this._dateAdapter.getMonth(this.minDate);return e<r||e===r&&i<o}return!1}_isRtl(){return this._dir&&"rtl"===this._dir.value}_setSelectedMonth(e){this._selectedMonth=e instanceof Fs?this._getMonthInCurrentYear(e.start)||this._getMonthInCurrentYear(e.end):this._getMonthInCurrentYear(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(Ru,8),s.Y36(Kr,8),s.Y36(_r,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-year-view"]],viewQuery:function(e,i){if(1&e&&s.Gf(Wu,5),2&e){let r;s.iGM(r=s.CRH())&&(i._matCalendarBody=r.first)}},inputs:{activeDate:"activeDate",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass"},outputs:{selectedChange:"selectedChange",monthSelected:"monthSelected",activeDateChange:"activeDateChange"},exportAs:["matYearView"],decls:5,vars:9,consts:[["role","grid",1,"mat-calendar-table"],["aria-hidden","true",1,"mat-calendar-table-header"],["colspan","4",1,"mat-calendar-table-header-divider"],["mat-calendar-body","",3,"label","rows","todayValue","startValue","endValue","labelMinRequiredCells","numCols","cellAspectRatio","activeCell","selectedValueChange","activeDateChange","keyup","keydown"]],template:function(e,i){1&e&&(s.TgZ(0,"table",0)(1,"thead",1)(2,"tr"),s._UZ(3,"th",2),s.qZA()(),s.TgZ(4,"tbody",3),s.NdJ("selectedValueChange",function(o){return i._monthSelected(o)})("activeDateChange",function(o){return i._updateActiveDate(o)})("keyup",function(o){return i._handleCalendarBodyKeyup(o)})("keydown",function(o){return i._handleCalendarBodyKeydown(o)}),s.qZA()()),2&e&&(s.xp6(4),s.Q6J("label",i._yearLabel)("rows",i._months)("todayValue",i._todayMonth)("startValue",i._selectedMonth)("endValue",i._selectedMonth)("labelMinRequiredCells",2)("numCols",4)("cellAspectRatio",4/7)("activeCell",i._dateAdapter.getMonth(i.activeDate)))},dependencies:[Wu],encapsulation:2,changeDetection:0}),n})(),$v=0,fI=(()=>{class n{constructor(e,i,r,o,u){this._intl=e,this.calendar=i,this._dateAdapter=r,this._dateFormats=o,this._buttonDescriptionId="mat-calendar-button-"+$v++,this.calendar.stateChanges.subscribe(()=>u.markForCheck())}get periodButtonText(){if("month"==this.calendar.currentView)return this._dateAdapter.format(this.calendar.activeDate,this._dateFormats.display.monthYearLabel).toLocaleUpperCase();if("year"==this.calendar.currentView)return this._dateAdapter.getYearName(this.calendar.activeDate);const i=this._dateAdapter.getYear(this.calendar.activeDate)-sh(this._dateAdapter,this.calendar.activeDate,this.calendar.minDate,this.calendar.maxDate),r=i+24-1,o=this._dateAdapter.getYearName(this._dateAdapter.createDate(i,0,1)),u=this._dateAdapter.getYearName(this._dateAdapter.createDate(r,0,1));return this._intl.formatYearRange(o,u)}get periodButtonLabel(){return"month"==this.calendar.currentView?this._intl.switchToMultiYearViewLabel:this._intl.switchToMonthViewLabel}get prevButtonLabel(){return{month:this._intl.prevMonthLabel,year:this._intl.prevYearLabel,"multi-year":this._intl.prevMultiYearLabel}[this.calendar.currentView]}get nextButtonLabel(){return{month:this._intl.nextMonthLabel,year:this._intl.nextYearLabel,"multi-year":this._intl.nextMultiYearLabel}[this.calendar.currentView]}currentPeriodClicked(){this.calendar.currentView="month"==this.calendar.currentView?"multi-year":"month"}previousClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,-1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?-1:-24)}nextClicked(){this.calendar.activeDate="month"==this.calendar.currentView?this._dateAdapter.addCalendarMonths(this.calendar.activeDate,1):this._dateAdapter.addCalendarYears(this.calendar.activeDate,"year"==this.calendar.currentView?1:24)}previousEnabled(){return!this.calendar.minDate||!this.calendar.minDate||!this._isSameView(this.calendar.activeDate,this.calendar.minDate)}nextEnabled(){return!this.calendar.maxDate||!this._isSameView(this.calendar.activeDate,this.calendar.maxDate)}_isSameView(e,i){return"month"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i)&&this._dateAdapter.getMonth(e)==this._dateAdapter.getMonth(i):"year"==this.calendar.currentView?this._dateAdapter.getYear(e)==this._dateAdapter.getYear(i):xD(this._dateAdapter,e,i,this.calendar.minDate,this.calendar.maxDate)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bv),s.Y36((0,s.Gpc)(()=>ID)),s.Y36(Kr,8),s.Y36(Ru,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar-header"]],exportAs:["matCalendarHeader"],ngContentSelectors:cI,decls:11,vars:10,consts:[[1,"mat-calendar-header"],[1,"mat-calendar-controls"],["mat-button","","type","button","aria-live","polite",1,"mat-calendar-period-button",3,"click"],["viewBox","0 0 10 5","focusable","false",1,"mat-calendar-arrow"],["points","0,0 5,5 10,0"],[1,"mat-calendar-spacer"],["mat-icon-button","","type","button",1,"mat-calendar-previous-button",3,"disabled","click"],["mat-icon-button","","type","button",1,"mat-calendar-next-button",3,"disabled","click"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"div",0)(1,"div",1)(2,"button",2),s.NdJ("click",function(){return i.currentPeriodClicked()}),s.TgZ(3,"span"),s._uU(4),s.qZA(),s.O4$(),s.TgZ(5,"svg",3),s._UZ(6,"polygon",4),s.qZA()(),s.kcU(),s._UZ(7,"div",5),s.Hsn(8),s.TgZ(9,"button",6),s.NdJ("click",function(){return i.previousClicked()}),s.qZA(),s.TgZ(10,"button",7),s.NdJ("click",function(){return i.nextClicked()}),s.qZA()()()),2&e&&(s.xp6(2),s.uIk("aria-label",i.periodButtonLabel)("aria-describedby",i._buttonDescriptionId),s.xp6(1),s.uIk("id",i._buttonDescriptionId),s.xp6(1),s.Oqu(i.periodButtonText),s.xp6(1),s.ekj("mat-calendar-invert","month"!==i.calendar.currentView),s.xp6(4),s.Q6J("disabled",!i.previousEnabled()),s.uIk("aria-label",i.prevButtonLabel),s.xp6(1),s.Q6J("disabled",!i.nextEnabled()),s.uIk("aria-label",i.nextButtonLabel))},dependencies:[Ma],encapsulation:2,changeDetection:0}),n})(),ID=(()=>{class n{constructor(e,i,r,o){this._dateAdapter=i,this._dateFormats=r,this._changeDetectorRef=o,this._moveFocusOnNextTick=!1,this.startView="month",this.selectedChange=new s.vpe,this.yearSelected=new s.vpe,this.monthSelected=new s.vpe,this.viewChanged=new s.vpe(!0),this._userSelection=new s.vpe,this.stateChanges=new yt.x,this._intlChanges=e.changes.subscribe(()=>{o.markForCheck(),this.stateChanges.next()})}get startAt(){return this._startAt}set startAt(e){this._startAt=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get selected(){return this._selected}set selected(e){this._selected=e instanceof Fs?e:this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get minDate(){return this._minDate}set minDate(e){this._minDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get maxDate(){return this._maxDate}set maxDate(e){this._maxDate=this._dateAdapter.getValidDateOrNull(this._dateAdapter.deserialize(e))}get activeDate(){return this._clampedActiveDate}set activeDate(e){this._clampedActiveDate=this._dateAdapter.clampDate(e,this.minDate,this.maxDate),this.stateChanges.next(),this._changeDetectorRef.markForCheck()}get currentView(){return this._currentView}set currentView(e){const i=this._currentView!==e?e:null;this._currentView=e,this._moveFocusOnNextTick=!0,this._changeDetectorRef.markForCheck(),i&&this.viewChanged.emit(i)}ngAfterContentInit(){this._calendarHeaderPortal=new Hu(this.headerComponent||fI),this.activeDate=this.startAt||this._dateAdapter.today(),this._currentView=this.startView}ngAfterViewChecked(){this._moveFocusOnNextTick&&(this._moveFocusOnNextTick=!1,this.focusActiveCell())}ngOnDestroy(){this._intlChanges.unsubscribe(),this.stateChanges.complete()}ngOnChanges(e){const i=e.minDate&&!this._dateAdapter.sameDate(e.minDate.previousValue,e.minDate.currentValue)?e.minDate:void 0,r=e.maxDate&&!this._dateAdapter.sameDate(e.maxDate.previousValue,e.maxDate.currentValue)?e.maxDate:void 0,o=i||r||e.dateFilter;if(o&&!o.firstChange){const u=this._getCurrentViewComponent();u&&(this._changeDetectorRef.detectChanges(),u._init())}this.stateChanges.next()}focusActiveCell(){this._getCurrentViewComponent()._focusActiveCell(!1)}updateTodaysDate(){this._getCurrentViewComponent()._init()}_dateSelected(e){const i=e.value;(this.selected instanceof Fs||i&&!this._dateAdapter.sameDate(i,this.selected))&&this.selectedChange.emit(i),this._userSelection.emit(e)}_yearSelectedInMultiYearView(e){this.yearSelected.emit(e)}_monthSelectedInYearView(e){this.monthSelected.emit(e)}_goToDateInView(e,i){this.activeDate=e,this.currentView=i}_getCurrentViewComponent(){return this.monthView||this.yearView||this.multiYearView}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Bv),s.Y36(Kr,8),s.Y36(Ru,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-calendar"]],viewQuery:function(e,i){if(1&e&&(s.Gf(Gv,5),s.Gf(zv,5),s.Gf(TD,5)),2&e){let r;s.iGM(r=s.CRH())&&(i.monthView=r.first),s.iGM(r=s.CRH())&&(i.yearView=r.first),s.iGM(r=s.CRH())&&(i.multiYearView=r.first)}},hostAttrs:[1,"mat-calendar"],inputs:{headerComponent:"headerComponent",startAt:"startAt",startView:"startView",selected:"selected",minDate:"minDate",maxDate:"maxDate",dateFilter:"dateFilter",dateClass:"dateClass",comparisonStart:"comparisonStart",comparisonEnd:"comparisonEnd"},outputs:{selectedChange:"selectedChange",yearSelected:"yearSelected",monthSelected:"monthSelected",viewChanged:"viewChanged",_userSelection:"_userSelection"},exportAs:["matCalendar"],features:[s._Bn([LO]),s.TTD],decls:5,vars:5,consts:[[3,"cdkPortalOutlet"],["cdkMonitorSubtreeFocus","","tabindex","-1",1,"mat-calendar-content",3,"ngSwitch"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange",4,"ngSwitchCase"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","comparisonStart","comparisonEnd","activeDateChange","_userSelection"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","monthSelected","selectedChange"],[3,"activeDate","selected","dateFilter","maxDate","minDate","dateClass","activeDateChange","yearSelected","selectedChange"]],template:function(e,i){1&e&&(s.YNc(0,MO,0,0,"ng-template",0),s.TgZ(1,"div",1),s.YNc(2,kO,1,8,"mat-month-view",2),s.YNc(3,SD,1,6,"mat-year-view",3),s.YNc(4,uI,1,6,"mat-multi-year-view",4),s.qZA()),2&e&&(s.Q6J("cdkPortalOutlet",i._calendarHeaderPortal),s.xp6(1),s.Q6J("ngSwitch",i.currentView),s.xp6(1),s.Q6J("ngSwitchCase","month"),s.xp6(1),s.Q6J("ngSwitchCase","year"),s.xp6(1),s.Q6J("ngSwitchCase","multi-year"))},dependencies:[Ws,qs,WS,Fa,Gv,zv,TD],styles:['.mat-calendar{display:block}.mat-calendar-header{padding:8px 8px 0 8px}.mat-calendar-content{padding:0 8px 8px 8px;outline:none}.mat-calendar-controls{display:flex;margin:5% calc(4.7142857143% - 16px)}.mat-calendar-controls .mat-icon-button:hover .mat-button-focus-overlay{opacity:.04}.mat-calendar-spacer{flex:1 1 auto}.mat-calendar-period-button{min-width:0}.mat-calendar-arrow{display:inline-block;width:10px;height:5px;margin:0 0 0 5px;vertical-align:middle}.mat-calendar-arrow.mat-calendar-invert{transform:rotate(180deg)}[dir=rtl] .mat-calendar-arrow{margin:0 5px 0 0}.cdk-high-contrast-active .mat-calendar-arrow{fill:CanvasText}.mat-calendar-previous-button,.mat-calendar-next-button{position:relative}.mat-calendar-previous-button::after,.mat-calendar-next-button::after{top:0;left:0;right:0;bottom:0;position:absolute;content:"";margin:15.5px;border:0 solid currentColor;border-top-width:2px}[dir=rtl] .mat-calendar-previous-button,[dir=rtl] .mat-calendar-next-button{transform:rotate(180deg)}.mat-calendar-previous-button::after{border-left-width:2px;transform:translateX(2px) rotate(-45deg)}.mat-calendar-next-button::after{border-right-width:2px;transform:translateX(-2px) rotate(45deg)}.mat-calendar-table{border-spacing:0;border-collapse:collapse;width:100%}.mat-calendar-table-header th{text-align:center;padding:0 0 8px 0}.mat-calendar-table-header-divider{position:relative;height:1px}.mat-calendar-table-header-divider::after{content:"";position:absolute;top:0;left:-8px;right:-8px;height:1px}.mat-calendar-body-cell-content::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.mat-calendar-body-cell:focus .mat-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0}),n})();const gI={provide:new s.OlP("mat-datepicker-scroll-strategy"),deps:[qo],useFactory:function mI(n){return()=>n.scrollStrategies.reposition()}};let Se=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Bv,gI],imports:[Bi,Zd,Oc,Sf,Gu,Fn,Qf]}),n})(),je=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=ti(e)}get inset(){return this._inset}set inset(e){this._inset=ti(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),qe=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Fn,Fn]}),n})();var ht=R(3099);class Et{}class Ft{}class Vt{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),o=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(u):this.headers.set(o,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Vt?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Vt;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Vt?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const o=t.value;if(o){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===o.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class bt{encodeKey(t){return Nc(t)}encodeValue(t){return Nc(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const xn=/%(\d[a-f0-9])/gi,pi={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Nc(n){return encodeURIComponent(n).replace(xn,(t,e)=>pi[e]??t)}function oh(n){return`${n}`}class La{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new bt,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function on(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[u,h]=-1==o?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,o)),t.decodeValue(r.slice(o+1))],_=e.get(u)||[];_.push(h),e.set(u,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(oh):[oh(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(o=>{e.push({param:i,value:o,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new La({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(oh(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(oh(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class qv{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function Pg(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Rg(n){return typeof Blob<"u"&&n instanceof Blob}function Og(n){return typeof FormData<"u"&&n instanceof FormData}class Kv{constructor(t,e,i,r){let o;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function Yv(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Vt),this.context||(this.context=new qv),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new La,this.urlWithParams=e}serializeBody(){return null===this.body?null:Pg(this.body)||Rg(this.body)||Og(this.body)||function Zv(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof La?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Og(this.body)?null:Rg(this.body)?this.body.type||null:Pg(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof La?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,o=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,w=t.params||this.params;const I=t.context??this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((H,De)=>H.set(De,t.setHeaders[De]),_)),t.setParams&&(w=Object.keys(t.setParams).reduce((H,De)=>H.set(De,t.setParams[De]),w)),new Kv(e,i,o,{params:w,headers:_,context:I,reportProgress:h,responseType:r,withCredentials:u})}}var ur=(()=>((ur=ur||{})[ur.Sent=0]="Sent",ur[ur.UploadProgress=1]="UploadProgress",ur[ur.ResponseHeader=2]="ResponseHeader",ur[ur.DownloadProgress=3]="DownloadProgress",ur[ur.Response=4]="Response",ur[ur.User=5]="User",ur))();class vI{constructor(t,e=200,i="OK"){this.headers=t.headers||new Vt,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class bI extends vI{constructor(t={}){super(t),this.type=ur.ResponseHeader}clone(t={}){return new bI({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class kD extends vI{constructor(t={}){super(t),this.type=ur.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new kD({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class GO extends vI{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function wI(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let CI=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let o;if(e instanceof Kv)o=e;else{let _,w;_=r.headers instanceof Vt?r.headers:new Vt(r.headers),r.params&&(w=r.params instanceof La?r.params:new La({fromObject:r.params})),o=new Kv(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Nt(o).pipe(qn(_=>this.handler.handle(_)));if(e instanceof Kv||"events"===r.observe)return u;const h=u.pipe(Qn(_=>_ instanceof kD));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return h.pipe((0,Gt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,Gt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,Gt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,Gt.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new La).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,wI(r,i))}post(e,i,r={}){return this.request("POST",e,wI(r,i))}put(e,i,r={}){return this.request("PUT",e,wI(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Et))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class zO{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const $O=new s.OlP("HTTP_INTERCEPTORS");let VH=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const BH=/^\)\]\}',?\n/;let WO=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Wn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((Me,Le)=>r.setRequestHeader(Me,Le.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Me=e.detectContentTypeHeader();null!==Me&&r.setRequestHeader("Content-Type",Me)}if(e.responseType){const Me=e.responseType.toLowerCase();r.responseType="json"!==Me?Me:"text"}const o=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const Me=r.statusText||"OK",Le=new Vt(r.getAllResponseHeaders()),$e=function UH(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new bI({headers:Le,status:r.status,statusText:Me,url:$e}),u},_=()=>{let{headers:Me,status:Le,statusText:$e,url:st}=h(),Mt=null;204!==Le&&(Mt=typeof r.response>"u"?r.responseText:r.response),0===Le&&(Le=Mt?200:0);let Ut=Le>=200&&Le<300;if("json"===e.responseType&&"string"==typeof Mt){const Kt=Mt;Mt=Mt.replace(BH,"");try{Mt=""!==Mt?JSON.parse(Mt):null}catch(zt){Mt=Kt,Ut&&(Ut=!1,Mt={error:zt,text:Mt})}}Ut?(i.next(new kD({body:Mt,headers:Me,status:Le,statusText:$e,url:st||void 0})),i.complete()):i.error(new GO({error:Mt,headers:Me,status:Le,statusText:$e,url:st||void 0}))},w=Me=>{const{url:Le}=h(),$e=new GO({error:Me,status:r.status||0,statusText:r.statusText||"Unknown Error",url:Le||void 0});i.error($e)};let I=!1;const H=Me=>{I||(i.next(h()),I=!0);let Le={type:ur.DownloadProgress,loaded:Me.loaded};Me.lengthComputable&&(Le.total=Me.total),"text"===e.responseType&&!!r.responseText&&(Le.partialText=r.responseText),i.next(Le)},De=Me=>{let Le={type:ur.UploadProgress,loaded:Me.loaded};Me.lengthComputable&&(Le.total=Me.total),i.next(Le)};return r.addEventListener("load",_),r.addEventListener("error",w),r.addEventListener("timeout",w),r.addEventListener("abort",w),e.reportProgress&&(r.addEventListener("progress",H),null!==o&&r.upload&&r.upload.addEventListener("progress",De)),r.send(o),i.next({type:ur.Sent}),()=>{r.removeEventListener("error",w),r.removeEventListener("abort",w),r.removeEventListener("load",_),r.removeEventListener("timeout",w),e.reportProgress&&(r.removeEventListener("progress",H),null!==o&&r.upload&&r.upload.removeEventListener("progress",De)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(os))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const DI=new s.OlP("XSRF_COOKIE_NAME"),EI=new s.OlP("XSRF_HEADER_NAME");class qO{}let HH=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=On(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(s.Lbi),s.LFG(DI))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),AI=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const o=this.tokenService.getToken();return null!==o&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,o)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qO),s.LFG(EI))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),jH=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get($O,[]);this.chain=i.reduceRight((r,o)=>new zO(r,o),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ft),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),GH=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:AI,useClass:VH}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:DI,useValue:e.cookieName}:[],e.headerName?{provide:EI,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[AI,{provide:$O,useExisting:AI,multi:!0},{provide:qO,useClass:HH},{provide:DI,useValue:"XSRF-TOKEN"},{provide:EI,useValue:"X-XSRF-TOKEN"}]}),n})(),zH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[CI,{provide:Et,useClass:jH},WO,{provide:Ft,useExisting:WO}],imports:[GH.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();const $H=["*"];let PD;function Qv(n){return function WH(){if(void 0===PD&&(PD=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(PD=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return PD}()?.createHTML(n)||n}function YO(n){return Error(`Unable to find icon with the name "${n}"`)}function ZO(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function KO(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class tp{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let RD=(()=>{class n{constructor(e,i,r,o){this._httpClient=e,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,o){return this._addSvgIconConfig(e,i,new tp(r,null,o))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,o){const u=this._sanitizer.sanitize(s.q3G.HTML,r);if(!u)throw KO(r);const h=Qv(u);return this._addSvgIconConfig(e,i,new tp("",h,o))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new tp(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const o=this._sanitizer.sanitize(s.q3G.HTML,i);if(!o)throw KO(i);const u=Qv(o);return this._addSvgIconSetConfig(e,new tp("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw ZO(e);const r=this._cachedIconsByUrl.get(i);return r?Nt(OD(r)):this._loadSvgIconFromConfig(new tp(e,null)).pipe((0,li.b)(o=>this._cachedIconsByUrl.set(i,o)),(0,Gt.U)(o=>OD(o)))}getNamedSvgIcon(e,i=""){const r=QO(i,e);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,e),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):or(YO(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Nt(OD(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Gt.U)(i=>OD(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Nt(r):Jw(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(gr(h=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(w)),Nt(null)})))).pipe((0,Gt.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw YO(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(o),h=this._extractSvgIconFromSet(u,e,o.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,li.b)(i=>e.svgText=i),(0,Gt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Nt(null):this._fetchIcon(e).pipe((0,li.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const o=e.querySelector(`[id="${i}"]`);if(!o)return null;const u=o.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(Qv("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(Qv("<svg></svg>")),r=e.attributes;for(let o=0;o<r.length;o++){const{name:u,value:h}=r[o];"id"!==u&&i.setAttribute(u,h)}for(let o=0;o<e.childNodes.length;o++)e.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,o=r?.withCredentials??!1;if(!this._httpClient)throw function qH(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!u)throw ZO(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const _=this._httpClient.get(u,{responseType:"text",withCredentials:o}).pipe((0,Gt.U)(w=>Qv(w)),cs(()=>this._inProgressUrlFetches.delete(u)),(0,ht.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(QO(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,e);if(o)return ZH(o)?new tp(o.url,null,o.options):new tp(o,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(CI,8),s.LFG($r),s.LFG(B,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function OD(n){return n.cloneNode(!0)}function QO(n,t){return n+":"+t}function ZH(n){return!(!n.url||!n.options)}const KH=Tc(class{constructor(n){this._elementRef=n}}),QH=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),XH=new s.OlP("mat-icon-location",{providedIn:"root",factory:function JH(){const n=(0,s.f3M)(B),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),XO=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ej=XO.map(n=>`[${n}]`).join(", "),tj=/^url\(['"]?#(.*?)['"]?\)$/;let SI=(()=>{class n extends KH{constructor(e,i,r,o,u,h){super(e),this._iconRegistry=i,this._location=o,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Vn.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=ti(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(u=>{o.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(ej),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)XO.forEach(u=>{const h=i[o],_=h.getAttribute(u),w=_?_.match(tj):null;if(w){let I=r.get(h);I||(I=[],r.set(h,I)),I.push({name:u,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(ei(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(RD),s.$8M("aria-hidden"),s.Y36(XH),s.Y36(s.qLn),s.Y36(QH,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:$H,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),nj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Fn,Fn]}),n})();const eF=["*"],ij=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],rj=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],cj=Gd(Pu(class{})),uj=Pu(class{}),nF=new s.OlP("MatList"),dj=new s.OlP("MatNavList");let hj=(()=>{class n extends cj{constructor(e){super(),this._elementRef=e,this._stateChanges=new yt.x,"action-list"===this._getListType()&&e.nativeElement.classList.add("mat-action-list")}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[s._Bn([{provide:nF,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:eF,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),iF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),rF=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),fj=(()=>{class n extends uj{constructor(e,i,r,o){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new yt.x,this._disabled=!1,this._isInteractiveList=!!(r||o&&"action-list"===o._getListType()),this._list=r||o;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(_i(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=ti(e)}ngAfterContentInit(){!function zd(n,t,e="mat"){n.changes.pipe(Kn(n)).subscribe(({length:i})=>{qi(t,`${e}-2-line`,!1),qi(t,`${e}-3-line`,!1),qi(t,`${e}-multi-line`,!1),2===i||3===i?qi(t,`${e}-${i}-line`,!0):i>3&&qi(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(dj,8),s.Y36(nF,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,iF,5),s.Suo(r,rF,5),s.Suo(r,zo,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._avatar=o.first),s.iGM(o=s.CRH())&&(i._icon=o.first),s.iGM(o=s.CRH())&&(i._lines=o)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[s.qOj],ngContentSelectors:rj,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(s.F$t(ij),s.TgZ(0,"span",0),s._UZ(1,"span",1),s.Hsn(2),s.TgZ(3,"span",2),s.Hsn(4,1),s.qZA(),s.Hsn(5,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[uo],encapsulation:2,changeDetection:0}),n})(),vj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xc,xl,Fn,Iy,Bi,xc,Fn,Iy,qe]}),n})();const bj=["mat-menu-item",""];function wj(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",2),s._UZ(1,"polygon",3),s.qZA())}const oF=["*"];function Cj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",0),s.NdJ("keydown",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._handleKeydown(r))})("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationStart(r))})("@transformMenu.done",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._onAnimationDone(r))}),s.TgZ(1,"div",1),s.Hsn(2),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),s.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const FD={transformMenu:Ml("transformMenu",[nr("void",kn({opacity:0,transform:"scale(0.8)"})),yr("void => enter",cr("120ms cubic-bezier(0, 0, 0.2, 1)",kn({opacity:1,transform:"scale(1)"}))),yr("* => void",cr("100ms 25ms linear",kn({opacity:0})))]),fadeInItems:Ml("fadeInItems",[nr("showing",kn({opacity:1})),yr("void => *",[kn({opacity:0}),cr("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},aF=new s.OlP("MatMenuContent");let Dj=(()=>{class n{constructor(e,i,r,o,u,h,_){this._template=e,this._componentFactoryResolver=i,this._appRef=r,this._injector=o,this._viewContainerRef=u,this._document=h,this._changeDetectorRef=_,this._attached=new yt.x}attach(e={}){this._portal||(this._portal=new ju(this._template,this._viewContainerRef)),this.detach(),this._outlet||(this._outlet=new nD(this._document.createElement("div"),this._componentFactoryResolver,this._appRef,this._injector));const i=this._template.elementRef.nativeElement;i.parentNode.insertBefore(this._outlet.outletElement,i),this._changeDetectorRef?.markForCheck(),this._portal.attach(this._outlet,e),this._attached.next()}detach(){this._portal.isAttached&&this._portal.detach()}ngOnDestroy(){this._outlet&&this._outlet.dispose()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Rgc),s.Y36(s._Vd),s.Y36(s.z2F),s.Y36(s.zs3),s.Y36(s.s_b),s.Y36(B),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n}),n})(),Ej=(()=>{class n extends Dj{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["ng-template","matMenuContent",""]],features:[s._Bn([{provide:aF,useExisting:n}]),s.qOj]}),n})();const TI=new s.OlP("MAT_MENU_PANEL"),Aj=Pu(Gd(class{}));let LD=(()=>{class n extends Aj{constructor(e,i,r,o,u){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new yt.x,this._focused=new yt.x,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(B),s.Y36(ku),s.Y36(TI,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._checkDisabled(o)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(s.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),s.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[s.qOj],attrs:bj,ngContentSelectors:oF,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(s.F$t(),s.Hsn(0),s._UZ(1,"div",0),s.YNc(2,wj,2,0,"svg",1)),2&e&&(s.xp6(1),s.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),s.xp6(1),s.Q6J("ngIf",i._triggersSubmenu))},dependencies:[$s,uo],encapsulation:2,changeDetection:0}),n})();const lF=new s.OlP("mat-menu-default-options",{providedIn:"root",factory:function Sj(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Tj=0,Xv=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=o,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new s.n_E,this._tabSubscription=Vn.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new yt.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new s.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Tj++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=ti(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=ti(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new yy(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(Kn(this._directDescendantItems),ai(e=>(0,ks.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(Kn(this._directDescendantItems),ai(i=>(0,ks.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Mu(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(ei(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(Kn(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(lF),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,aF,5),s.Suo(r,LD,5),s.Suo(r,LD,4)),2&e){let o;s.iGM(o=s.CRH())&&(i.lazyContent=o.first),s.iGM(o=s.CRH())&&(i._allItems=o),s.iGM(o=s.CRH())&&(i.items=o)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),xj=(()=>{class n extends Xv{constructor(e,i,r,o){super(e,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(lF),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&s.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[s._Bn([{provide:TI,useExisting:n}]),s.qOj],ngContentSelectors:oF,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,Cj,3,6,"ng-template"))},dependencies:[Ha],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[FD.transformMenu,FD.fadeInItems]},changeDetection:0}),n})();const cF=new s.OlP("mat-menu-scroll-strategy"),Mj={provide:cF,deps:[qo],useFactory:function Ij(n){return()=>n.scrollStrategies.reposition()}},uF=Ta({passive:!0});let kj=(()=>{class n{constructor(e,i,r,o,u,h,_,w,I){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=_,this._focusMonitor=w,this._ngZone=I,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Vn.w0.EMPTY,this._hoverSubscription=Vn.w0.EMPTY,this._menuCloseSubscription=Vn.w0.EMPTY,this._handleTouchStart=H=>{Ef(H)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new s.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new s.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=u instanceof Xv?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,uF),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,uF),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),o=r.positionStrategy;this._setPosition(e,o),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Xv&&(e._startAnimation(),e._directDescendantItems.changes.pipe(_i(e.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Xv?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(Qn(r=>"void"===r.toState),ei(1),_i(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new zu({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(o,u)):e.setPositionClasses(o,u)})}_setPosition(e,i){let[r,o]="before"===e.xPosition?["end","start"]:["start","end"],[u,h]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[_,w]=[u,h],[I,H]=[r,o],De=0;if(this.triggersSubmenu()){if(H=r="before"===e.xPosition?"start":"end",o=I="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Me=this._parentMaterialMenu.items.first;this._parentInnerPadding=Me?Me._getHostElement().offsetTop:0}De="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(_="top"===u?"bottom":"top",w="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:_,overlayX:I,overlayY:u,offsetY:De},{originX:o,originY:_,overlayX:H,overlayY:u,offsetY:De},{originX:r,originY:w,overlayX:I,overlayY:h,offsetY:-De},{originX:o,originY:w,overlayX:H,overlayY:h,offsetY:-De}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Nt(),o=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(Qn(u=>u!==this._menuItemInstance),Qn(()=>this._menuOpen)):Nt();return(0,ks.T)(e,r,o,i)}_handleMousedown(e){wy(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(Qn(e=>e===this._menuItemInstance&&!e.disabled),th(0,_g)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Xv&&this.menu._isAnimating?this.menu._animationDone.pipe(ei(1),th(0,_g),_i(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new ju(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(qo),s.Y36(s.SBq),s.Y36(s.s_b),s.Y36(cF),s.Y36(TI,8),s.Y36(LD,10),s.Y36(_r,8),s.Y36(ku),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(o){return i._handleClick(o)})("mousedown",function(o){return i._handleMousedown(o)})("keydown",function(o){return i._handleKeydown(o)}),2&e&&s.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),Pj=(()=>{class n extends kj{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[s.qOj]}),n})(),Rj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Mj],imports:[Bi,Fn,xl,Oc,Qf,Fn]}),n})();function Oj(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("animation-name","mat-progress-spinner-stroke-rotate-"+e._spinnerAnimationLabel)("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}function Fj(n,t){if(1&n&&(s.O4$(),s._UZ(0,"circle",4)),2&n){const e=s.oxw(),i=s.MAs(1);s.Udp("stroke-dashoffset",e._getStrokeDashOffset(),"px")("stroke-dasharray",e._getStrokeCircumference(),"px")("stroke-width",e._getCircleStrokeWidth(),"%")("transform-origin",e._getCircleTransformOrigin(i)),s.uIk("r",e._getCircleRadius())}}const Nj=Tc(class{constructor(n){this._elementRef=n}},"primary"),Vj=new s.OlP("mat-progress-spinner-default-options",{providedIn:"root",factory:function Bj(){return{diameter:100}}});class qu extends Nj{constructor(t,e,i,r,o,u,h,_){super(t),this._document=i,this._diameter=100,this._value=0,this._resizeSubscription=Vn.w0.EMPTY,this.mode="determinate";const w=qu._diameters;this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),w.has(i.head)||w.set(i.head,new Set([100])),this._noopAnimations="NoopAnimations"===r&&!!o&&!o._forceAnimations,"mat-spinner"===t.nativeElement.nodeName.toLowerCase()&&(this.mode="indeterminate"),o&&(o.color&&(this.color=this.defaultColor=o.color),o.diameter&&(this.diameter=o.diameter),o.strokeWidth&&(this.strokeWidth=o.strokeWidth)),e.isBrowser&&e.SAFARI&&h&&u&&_&&(this._resizeSubscription=h.change(150).subscribe(()=>{"indeterminate"===this.mode&&_.run(()=>u.markForCheck())}))}get diameter(){return this._diameter}set diameter(t){this._diameter=Ia(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),this._styleRoot&&this._attachStyleNode()}get strokeWidth(){return this._strokeWidth||this.diameter/10}set strokeWidth(t){this._strokeWidth=Ia(t)}get value(){return"determinate"===this.mode?this._value:0}set value(t){this._value=Math.max(0,Math.min(100,Ia(t)))}ngOnInit(){const t=this._elementRef.nativeElement;this._styleRoot=oy(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate-animation")}ngOnDestroy(){this._resizeSubscription.unsubscribe()}_getCircleRadius(){return(this.diameter-10)/2}_getViewBox(){const t=2*this._getCircleRadius()+this.strokeWidth;return`0 0 ${t} ${t}`}_getStrokeCircumference(){return 2*Math.PI*this._getCircleRadius()}_getStrokeDashOffset(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:null}_getCircleStrokeWidth(){return this.strokeWidth/this.diameter*100}_getCircleTransformOrigin(t){const e=50*(t.currentScale??1);return`${e}% ${e}%`}_attachStyleNode(){const t=this._styleRoot,e=this._diameter,i=qu._diameters;let r=i.get(t);if(!r||!r.has(e)){const o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),r||(r=new Set,i.set(t,r)),r.add(e)}}_getAnimationText(){const t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,`${this._spinnerAnimationLabel}`)}_getSpinnerAnimationLabel(){return this.diameter.toString().replace(".","_")}}qu._diameters=new WeakMap,qu.\u0275fac=function(t){return new(t||qu)(s.Y36(s.SBq),s.Y36(Fi),s.Y36(B,8),s.Y36(s.QbO,8),s.Y36(Vj),s.Y36(s.sBO),s.Y36(Oa),s.Y36(s.R0b))},qu.\u0275cmp=s.Xpm({type:qu,selectors:[["mat-progress-spinner"],["mat-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner","mat-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(s.uIk("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.ekj("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",diameter:"diameter",strokeWidth:"strokeWidth",mode:"mode",value:"value"},exportAs:["matProgressSpinner"],features:[s.qOj],decls:4,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["svg",""],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width","transform-origin",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(s.O4$(),s.TgZ(0,"svg",0,1),s.YNc(2,Oj,1,11,"circle",2),s.YNc(3,Fj,1,9,"circle",3),s.qZA()),2&t&&(s.Udp("width",e.diameter,"px")("height",e.diameter,"px"),s.Q6J("ngSwitch","indeterminate"===e.mode),s.uIk("viewBox",e._getViewBox()),s.xp6(2),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngSwitchCase",!1))},dependencies:[Ws,qs],styles:[".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:rgba(0,0,0,0);transition:stroke-dashoffset 225ms linear}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:CanvasText}.mat-progress-spinner[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}.mat-progress-spinner[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}.mat-progress-spinner._mat-animation-noopable svg,.mat-progress-spinner._mat-animation-noopable circle{animation:none;transition:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}"],encapsulation:2,changeDetection:0});let Hj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Fn,Bi,Fn]}),n})(),II=(()=>{class n{constructor(){this.spacer="",this.flex="1 1 auto"}ngOnInit(){this.flex=this.spacer?`0 0 ${this.spacer}`:this.flex}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","spacer",""]],hostVars:2,hostBindings:function(e,i){2&e&&s.Udp("flex",i.flex)},inputs:{spacer:"spacer"}}),n})(),jj=(()=>{class n{transform(e){const i=e/1073741824;if(i>1)return`${i.toFixed(1)}GB`;{const r=e/1048576;return r>1?`${r.toFixed(2)}MB`:`${(e/1024).toFixed(0)}KB`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"fileSize",type:n,pure:!0}),n})();function Gj(n,t){1&n&&(s.ynx(0),s.TgZ(1,"span",8),s._uU(2,"Files loading..."),s.qZA(),s.BQk())}function zj(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.ALo(2,"async"),s.qZA()),2&n){const e=s.oxw(3);let i;s.xp6(1),s.hij("(+",null!==(i=null==(i=s.lcZ(2,1,e.selectedFiles$))?null:i.length)&&void 0!==i?i:0,")")}}function $j(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.ALo(2,"async"),s.YNc(3,zj,3,3,"span",4),s.ALo(4,"async"),s.qZA()),2&n){const e=s.oxw(2);let i,r;s.xp6(1),s.hij(" Files ",null!==(i=null==(i=s.lcZ(2,2,e.existingFiles$))?null:i.length)&&void 0!==i?i:0," "),s.xp6(2),s.Q6J("ngIf",null!==(r=null==(r=s.lcZ(4,4,e.selectedFiles$))?null:r.length)&&void 0!==r&&r)}}function Wj(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Gj,3,0,"ng-container",1),s.ALo(2,"async"),s.YNc(3,$j,5,6,"ng-template",null,7,s.W1O),s.BQk()),2&n){const e=s.MAs(4),i=s.oxw();s.xp6(1),s.Q6J("ngIf",!s.lcZ(2,2,i.existingFiles$))("ngIfElse",e)}}function qj(n,t){if(1&n&&(s.TgZ(0,"span",8),s._uU(1),s.ALo(2,"async"),s.qZA()),2&n){const e=s.oxw();let i;s.xp6(1),s.hij(" Selected Files ",null!==(i=null==(i=s.lcZ(2,1,e.selectedFiles$))?null:i.length)&&void 0!==i?i:0," ")}}function Yj(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"button",9),s.NdJ("click",function(){s.CHM(e);const r=s.MAs(6);return s.KtG(r.click())}),s.ALo(2,"async"),s.ALo(3,"async"),s._uU(4," Select Files "),s.qZA(),s.TgZ(5,"input",10,11),s.NdJ("change",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o.selected(r))}),s.ALo(7,"async"),s.qZA(),s.BQk()}if(2&n){const e=s.oxw();s.xp6(1),s.Q6J("disabled",!s.lcZ(2,3,e.attachmentTypes$)&&!s.lcZ(3,5,e.extensions$)),s.xp6(4),s.Q6J("multiple",!e.singleFile)("accept",s.lcZ(7,7,e.acceptableExtensions$))}}function Zj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",25)(1,"span",26),s._uU(2),s.qZA()(),s.TgZ(3,"div",27),s.NdJ("click",function(r){return r.stopPropagation()}),s.TgZ(4,"mat-calendar",28),s.NdJ("selectedChange",function(r){s.CHM(e);const o=s.oxw().$implicit,u=s.MAs(8);return s.oxw().selectedFileDateChange(o,r),s.KtG(u.closeMenu())}),s.qZA()()}if(2&n){const e=s.oxw().$implicit,i=s.oxw();s.xp6(2),s.Oqu(i.documentDateLabel),s.xp6(2),s.Q6J("selected",e.documentDate)}}function Kj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2).$implicit,h=s.oxw();return s.KtG(h.selectedFileTypeChange(u,o))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.typeName," ")}}function Qj(n,t){if(1&n&&(s.ynx(0),s.YNc(1,Kj,2,1,"button",29),s.ALo(2,"async"),s.BQk()),2&n){const e=s.oxw(2);s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,e.attachmentTypes$))}}function Xj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(3).$implicit,h=s.oxw();return s.KtG(h.selectedFileTypeChange(u,o))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.typeName," ")}}function Jj(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"button",32),s._uU(2),s.qZA(),s.TgZ(3,"mat-menu",null,33),s.YNc(5,Xj,2,1,"button",29),s.qZA(),s.BQk()),2&n){const e=t.$implicit,i=s.MAs(4);s.xp6(1),s.Q6J("matMenuTriggerFor",i),s.xp6(1),s.Oqu(e.groupName),s.xp6(3),s.Q6J("ngForOf",e.types)}}function e3(n,t){if(1&n&&(s.YNc(0,Jj,6,3,"ng-container",31),s.ALo(1,"async")),2&n){const e=s.oxw(2);s.Q6J("ngForOf",s.lcZ(1,1,e.attachmentTypeGroups$))}}function t3(n,t){1&n&&(s.TgZ(0,"button",34)(1,"mat-icon"),s._uU(2,"file_upload"),s.qZA()())}function n3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-list-item",12)(1,"span",13),s._uU(2),s.qZA(),s.TgZ(3,"span",14),s._uU(4),s.ALo(5,"fileSize"),s.qZA(),s._UZ(6,"span",3),s.TgZ(7,"button",15,16),s._uU(9),s.ALo(10,"date"),s.TgZ(11,"mat-icon",17),s._uU(12,"today"),s.qZA()(),s.TgZ(13,"mat-menu",18,19),s.YNc(15,Zj,5,2,"ng-template",20),s.qZA(),s.TgZ(16,"button",15),s._uU(17),s.TgZ(18,"mat-icon"),s._uU(19,"arrow_drop_down"),s.qZA()(),s.TgZ(20,"mat-menu",null,21),s.YNc(22,Qj,3,3,"ng-container",1),s.ALo(23,"async"),s.YNc(24,e3,2,3,"ng-template",null,22,s.W1O),s.qZA(),s.TgZ(26,"button",23),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.deselectFile(o))}),s.TgZ(27,"mat-icon"),s._uU(28,"close"),s.qZA()(),s.YNc(29,t3,3,0,"button",24),s.qZA()}if(2&n){const e=t.$implicit,i=s.MAs(14),r=s.MAs(21),o=s.MAs(25),u=s.oxw();s.xp6(2),s.AsE(" ",e.name,".",e.extension," "),s.xp6(2),s.Oqu(s.lcZ(5,10,e.byteSize)),s.xp6(3),s.Q6J("matMenuTriggerFor",i),s.xp6(2),s.hij(" ",s.xi3(10,12,e.documentDate,"shortDate"),""),s.xp6(7),s.Q6J("matMenuTriggerFor",r),s.xp6(1),s.hij(" ",e.typeName," "),s.xp6(5),s.Q6J("ngIf",s.lcZ(23,15,u.attachmentTypeGroups$).length<2)("ngIfElse",o),s.xp6(7),s.Q6J("ngIf",!u.singleFile)}}function r3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",25)(1,"span",26),s._uU(2),s.qZA()(),s.TgZ(3,"div",27),s.NdJ("click",function(r){return r.stopPropagation()}),s.TgZ(4,"mat-calendar",28),s.NdJ("selectedChange",function(r){s.CHM(e);const o=s.oxw().$implicit,u=s.MAs(8);return s.oxw(2).existingFileDateChange(o,r),s.KtG(u.closeMenu())}),s.qZA()()}if(2&n){const e=s.oxw().$implicit,i=s.oxw(2);s.xp6(2),s.Oqu(i.documentDateLabel),s.xp6(2),s.Q6J("selected",e.documentDate)}}function s3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(2).$implicit,h=s.oxw(2);return s.KtG(h.selectedFileTypeChange(u,o))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.typeName," ")}}function o3(n,t){if(1&n&&(s.ynx(0),s.YNc(1,s3,2,1,"button",29),s.ALo(2,"async"),s.BQk()),2&n){const e=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,e.attachmentTypes$))}}function a3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",30),s.NdJ("click",function(){const o=s.CHM(e).$implicit,u=s.oxw(3).$implicit,h=s.oxw(2);return s.KtG(h.selectedFileTypeChange(u,o))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e.typeName," ")}}function l3(n,t){if(1&n&&(s.ynx(0),s.TgZ(1,"button",32),s._uU(2),s.qZA(),s.TgZ(3,"mat-menu",null,33),s.YNc(5,a3,2,1,"button",29),s.qZA(),s.BQk()),2&n){const e=t.$implicit,i=s.MAs(4);s.xp6(1),s.Q6J("matMenuTriggerFor",i),s.xp6(1),s.Oqu(e.groupName),s.xp6(3),s.Q6J("ngForOf",e.types)}}function c3(n,t){if(1&n&&(s.YNc(0,l3,6,3,"ng-container",31),s.ALo(1,"async")),2&n){const e=s.oxw(3);s.Q6J("ngForOf",s.lcZ(1,1,e.attachmentTypeGroups$))}}function u3(n,t){if(1&n&&(s.TgZ(0,"mat-list-item",12)(1,"span",13),s._uU(2),s.qZA(),s.TgZ(3,"span",14),s._uU(4),s.ALo(5,"fileSize"),s.qZA(),s._UZ(6,"span",3),s.TgZ(7,"button",15,16),s._uU(9),s.ALo(10,"date"),s.TgZ(11,"mat-icon",17),s._uU(12,"today"),s.qZA()(),s.TgZ(13,"mat-menu",18,19),s.YNc(15,r3,5,2,"ng-template",20),s.qZA(),s.TgZ(16,"button",15),s._uU(17),s.TgZ(18,"mat-icon"),s._uU(19,"arrow_drop_down"),s.qZA()(),s.TgZ(20,"mat-menu",null,21),s.YNc(22,o3,3,3,"ng-container",1),s.ALo(23,"async"),s.YNc(24,c3,2,3,"ng-template",null,22,s.W1O),s.qZA(),s.TgZ(26,"button",35)(27,"mat-icon"),s._uU(28,"more_horiz"),s.qZA()(),s.TgZ(29,"mat-menu",36,37)(31,"button",38)(32,"mat-icon"),s._uU(33,"file_download"),s.qZA(),s.TgZ(34,"span"),s._uU(35,"Download"),s.qZA()(),s.TgZ(36,"button",38)(37,"mat-icon",39),s._uU(38,"delete"),s.qZA(),s.TgZ(39,"span"),s._uU(40,"Delete"),s.qZA()()()()),2&n){const e=t.$implicit,i=s.MAs(14),r=s.MAs(21),o=s.MAs(25),u=s.MAs(30),h=s.oxw(2);s.xp6(2),s.AsE(" ",e.name,".",e.extension," "),s.xp6(2),s.Oqu(s.lcZ(5,10,e.byteSize)),s.xp6(3),s.Q6J("matMenuTriggerFor",i),s.xp6(2),s.hij(" ",s.xi3(10,12,e.documentDate,"shortDate"),""),s.xp6(7),s.Q6J("matMenuTriggerFor",r),s.xp6(1),s.hij(" ",e.typeName," "),s.xp6(5),s.Q6J("ngIf",s.lcZ(23,15,h.attachmentTypeGroups$).length<2)("ngIfElse",o),s.xp6(4),s.Q6J("matMenuTriggerFor",u)}}function d3(n,t){if(1&n&&(s.ynx(0),s.YNc(1,u3,41,17,"mat-list-item",5),s.ALo(2,"async"),s.BQk()),2&n){const e=s.oxw();s.xp6(1),s.Q6J("ngForOf",s.lcZ(2,1,e.existingFiles$))}}function h3(n,t){1&n&&(s.ynx(0),s.TgZ(1,"mat-list-item",40),s._UZ(2,"mat-spinner",41),s.qZA(),s.BQk())}function f3(n,t){1&n&&(s.TgZ(0,"mat-list-item",40)(1,"span",44),s._uU(2,"No Files Attached"),s.qZA()())}function p3(n,t){if(1&n&&(s.ynx(0),s.YNc(1,f3,3,0,"mat-list-item",43),s.ALo(2,"async"),s.BQk()),2&n){const e=s.oxw(2);let i;s.xp6(1),s.Q6J("ngIf",0==(null==(i=s.lcZ(2,1,e.existingFiles$))?null:i.length))}}function m3(n,t){1&n&&(s.TgZ(0,"mat-list-item",40)(1,"span",44),s._uU(2,"No Files Selected"),s.qZA()())}function g3(n,t){if(1&n&&(s.YNc(0,m3,3,0,"mat-list-item",43),s.ALo(1,"async")),2&n){const e=s.oxw(2);let i;s.Q6J("ngIf",0==(null==(i=s.lcZ(1,1,e.selectedFiles$))?null:i.length))}}function _3(n,t){if(1&n&&(s.YNc(0,p3,3,3,"ng-container",1),s.YNc(1,g3,2,3,"ng-template",null,42,s.W1O)),2&n){const e=s.MAs(2),i=s.oxw();s.Q6J("ngIf",i.getExisting)("ngIfElse",e)}}let MI=(()=>{class n{constructor(e,i){this.documentService=e,this.dialog=i,this.defaultAttachmentTypeID=void 0,this.getExisting=!1,this.singleFile=!1,this.readonly=!1,this.documentDateLabel="Document Date",this._selectedFiles=new oi([]),this._existingFiles=new oi(null),this._attachmentTypes=new oi(null),this._attachmentTypeGroups=new oi([]),this._extensions=new oi(null)}ngOnInit(){this.documentService.getFileExtensions().subscribe(this._extensions),this.documentService.getFileGroups(this.groupIDs).subscribe(this._attachmentTypes),this.attachmentTypes$.pipe(Qn(e=>!!e),(0,Gt.U)(e=>{const i=new Map(e.map(o=>[o.groupID,o.groupName])),r=[];return Array.from(i.keys()).forEach(o=>r.push({groupName:i.get(o),types:e.filter(u=>u.groupID===o)})),r})).subscribe(this._attachmentTypeGroups),this.getExisting&&this.documentService.getPatientFiles(this.options).subscribe(this._existingFiles)}get existingFiles$(){return this._existingFiles.asObservable()}get selectedFiles$(){return this._selectedFiles.asObservable()}get attachmentTypes$(){return this._attachmentTypes.asObservable()}get attachmentTypeGroups$(){return this._attachmentTypeGroups.asObservable()}get extensions$(){return this._extensions.asObservable()}get acceptableExtensions$(){return this._extensions.asObservable().pipe(Qn(e=>!!e),(0,Gt.U)(e=>e.map(i=>i.extension).join(",")))}selected(e){if(console.log(e),e.target.files.length>0){const i=Array.from(e.target.files).map(r=>{const o=r.name.split("."),u=o.slice(0,-1).join("."),h=this._extensions.value.find(w=>w.extension===o[o.length-1]);let _=null;return _=this.defaultAttachmentTypeID?this._attachmentTypes.value.find(w=>w.groupTypeID===this.defaultAttachmentTypeID):this._attachmentTypes.value[0],{file:r,name:u,byteSize:r.size,extensionID:h.extensionID,extension:h.extension,documentDate:new Date(r.lastModified),groupTypeID:_.groupTypeID,typeName:_.typeName,groupName:_.groupName}});this._selectedFiles.next(i),e.target.value=null}}deselectFile(e){this._selectedFiles.next(this._selectedFiles.value.filter(r=>r!==e))}deleteFile(e){}selectedFileDateChange(e,i){i&&(e.documentDate=i)}selectedFileTypeChange(e,i){e.groupTypeID=i.groupTypeID,e.groupName=i.groupName,e.typeName=i.typeName}existingFileDateChange(e,i){}existingFileTypeChange(e,i){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Cx),s.Y36(Eg))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-document-attachment"]],inputs:{options:"options",groupIDs:"groupIDs",defaultAttachmentTypeID:"defaultAttachmentTypeID",getExisting:"getExisting",singleFile:"singleFile",readonly:"readonly",documentDateLabel:"documentDateLabel"},decls:19,vars:17,consts:[[1,"row"],[4,"ngIf","ngIfElse"],["uploadOnlyCount",""],["spacer",""],[4,"ngIf"],["class","file",4,"ngFor","ngForOf"],["loaded",""],["existingCountLoaded",""],[1,"mat-body-strong","caption"],["color","accent","mat-button","",3,"disabled","click"],["type","file","hidden","",1,"file-upload",3,"multiple","accept","change"],["fileInput",""],[1,"file"],[1,"name"],[1,"mat-caption","size"],["mat-button","",1,"suffixIcon",3,"matMenuTriggerFor"],["dateMenuTrigger","matMenuTrigger"],[1,"date-icon"],[1,"date-menu"],["dateMenu","matMenu"],["matMenuContent",""],["groupMenu","matMenu"],["multipleGroups",""],["color","warn","mat-button","",1,"square",3,"click"],["color","accent","class","square","mat-button","",4,"ngIf"],[1,"label"],[1,"mat-h3"],[3,"click"],[3,"selected","selectedChange"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["mat-menu-item","",3,"click"],[4,"ngFor","ngForOf"],["mat-menu-item","",3,"matMenuTriggerFor"],["typeMenu","matMenu"],["color","accent","mat-button","",1,"square"],["color","primary","mat-button","",1,"square",3,"matMenuTriggerFor"],["xPosition","before"],["actionMenu","matMenu"],["mat-menu-item",""],["color","warn"],[1,"no-files"],["diameter","24"],["uploadOnly",""],["class","no-files",4,"ngIf"],[1,"mat-body"]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0),s.YNc(1,Wj,5,4,"ng-container",1),s.YNc(2,qj,3,3,"ng-template",null,2,s.W1O),s._UZ(4,"span",3),s.YNc(5,Yj,8,9,"ng-container",4),s.qZA(),s._UZ(6,"mat-divider"),s.TgZ(7,"mat-list"),s.YNc(8,n3,30,17,"mat-list-item",5),s.ALo(9,"async"),s.YNc(10,d3,3,3,"ng-container",4),s.ALo(11,"async"),s.YNc(12,h3,3,0,"ng-container",1),s.ALo(13,"async"),s.ALo(14,"async"),s.ALo(15,"async"),s.YNc(16,_3,3,2,"ng-template",null,6,s.W1O),s.qZA(),s._UZ(18,"mat-divider")),2&e){const r=s.MAs(3),o=s.MAs(17);s.xp6(1),s.Q6J("ngIf",i.getExisting)("ngIfElse",r),s.xp6(4),s.Q6J("ngIf",!i.readonly),s.xp6(3),s.Q6J("ngForOf",s.lcZ(9,7,i.selectedFiles$)),s.xp6(2),s.Q6J("ngIf",i.getExisting&&s.lcZ(11,9,i.existingFiles$)),s.xp6(2),s.Q6J("ngIf",i.getExisting&&!s.lcZ(13,11,i.existingFiles$)||!s.lcZ(14,13,i.attachmentTypes$)&&!s.lcZ(15,15,i.extensions$))("ngIfElse",o)}},dependencies:[bs,$s,Ma,ID,je,SI,hj,fj,xj,LD,Pj,Ej,qu,II,Zc,kh,jj],styles:["[_nghost-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]   .caption[_ngcontent-%COMP%]{padding:0 1rem;color:#0009}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]:first-child{padding-top:.5rem}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]:last-child{padding-bottom:.5rem}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{max-width:55%}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{margin-left:.5rem;font-weight:400;color:#0009}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   .square[_ngcontent-%COMP%]{min-width:36px;padding:0}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]   .date-icon[_ngcontent-%COMP%]{margin-left:.25rem;color:#0009}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .no-files[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1rem 0;font-weight:400;color:#0009}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin:0 .5rem}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:.5rem}"]}),n})(),y3=(()=>{class n{constructor(){this.options={attachmentWorkItemID:33},this.groupIDs=[1,2]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-form"]],decls:47,vars:3,consts:[[1,"example-form"],["appearance","fill",1,"example-full-width"],["matInput","","disabled","","value","Google"],["cellspacing","0",1,"example-full-width"],["matInput",""],["matInput","","placeholder","Ex. 100 Main St"],["matInput","","placeholder","Ex. San Francisco"],["matInput","","placeholder","Ex. California"],[3,"options","groupIDs","getExisting"],["align","end"],["mat-stroked-button",""],["mat-flat-button","","color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card")(1,"mat-card-content")(2,"form",0)(3,"mat-form-field",1)(4,"mat-label"),s._uU(5,"Company (disabled)"),s.qZA(),s._UZ(6,"input",2),s.qZA(),s.TgZ(7,"table",3)(8,"tr")(9,"td")(10,"mat-form-field",1)(11,"mat-label"),s._uU(12,"First name"),s.qZA(),s._UZ(13,"input",4),s.qZA()(),s.TgZ(14,"td")(15,"mat-form-field",1)(16,"mat-label"),s._uU(17,"Long Last Name That Will Be Truncated"),s.qZA(),s._UZ(18,"input",4),s.qZA()()()(),s.TgZ(19,"p")(20,"mat-form-field",1)(21,"mat-label"),s._uU(22,"Address"),s.qZA(),s.TgZ(23,"textarea",5),s._uU(24,"1600 Amphitheatre Pkwy"),s.qZA()(),s.TgZ(25,"mat-form-field",1)(26,"mat-label"),s._uU(27,"Address 2"),s.qZA(),s._UZ(28,"textarea",4),s.qZA()(),s.TgZ(29,"table",3)(30,"tr")(31,"td")(32,"mat-form-field",1)(33,"mat-label"),s._uU(34,"City"),s.qZA(),s._UZ(35,"input",6),s.qZA()(),s.TgZ(36,"td")(37,"mat-form-field",1)(38,"mat-label"),s._uU(39,"State"),s.qZA(),s._UZ(40,"input",7),s.qZA()()()()(),s._UZ(41,"app-document-attachment",8),s.qZA(),s.TgZ(42,"mat-card-actions",9)(43,"button",10),s._uU(44,"Cancel"),s.qZA(),s.TgZ(45,"button",11),s._uU(46,"Save"),s.qZA()()()),2&e&&(s.xp6(41),s.Q6J("options",i.options)("groupIDs",i.groupIDs)("getExisting",!0))},dependencies:[Ma,Kd,xf,jm,$m,kf,dg,MI],styles:["[_nghost-%COMP%]{height:calc(100vh - 64px);display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{width:50%;padding-bottom:1.5rem}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:0 .5rem}"]}),n})();function kI(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function Fg(n,t){const e=t?"":"none";kI(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function dF(n,t,e){kI(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function ND(n,t){return t&&"none"!=t?n+" "+t:n}function hF(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function PI(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function RI(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function OI(n,t,e){const{top:i,bottom:r,left:o,right:u}=n;return e>=i&&e<=r&&t>=o&&t<=u}function Jv(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function fF(n,t,e,i){const{top:r,right:o,bottom:u,left:h,width:_,height:w}=n,I=_*t,H=w*t;return i>r-H&&i<u+H&&e>h-I&&e<o+I}class pF{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:RI(e)})})}handleScroll(t){const e=jo(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let o,u;if(e===this._document){const w=this.getViewportScrollPosition();o=w.top,u=w.left}else o=e.scrollTop,u=e.scrollLeft;const h=r.top-o,_=r.left-u;return this.positions.forEach((w,I)=>{w.clientRect&&e!==I&&e.contains(I)&&Jv(w.clientRect,h,_)}),r.top=o,r.left=u,{top:h,left:_}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function mF(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?yF(n,t):("input"===i||"select"===i||"textarea"===i)&&_F(n,t),gF("canvas",n,t,yF),gF("input, textarea, select",n,t,_F),t}function gF(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const o=e.querySelectorAll(n);for(let u=0;u<r.length;u++)i(r[u],o[u])}}let w3=0;function _F(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${w3++}`)}function yF(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const vF=Ta({passive:!0}),VD=Ta({passive:!1}),FI=new Set(["position"]);class D3{constructor(t,e,i,r,o,u){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=o,this._dragDropRegistry=u,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new yt.x,this._pointerMoveSubscription=Vn.w0.EMPTY,this._pointerUpSubscription=Vn.w0.EMPTY,this._scrollSubscription=Vn.w0.EMPTY,this._resizeSubscription=Vn.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new yt.x,this.started=new yt.x,this.released=new yt.x,this.ended=new yt.x,this.entered=new yt.x,this.exited=new yt.x,this.dropped=new yt.x,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const _=this._getTargetHandle(h);_&&!this._disabledHandles.has(_)&&!this.disabled&&this._initializeDragSequence(_,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const _=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(_.x-this._pickupPositionOnPage.x)+Math.abs(_.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Me=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),Le=this._dropContainer;if(!Me)return void this._endDragSequence(h);(!Le||!Le.isDragging()&&!Le.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}h.preventDefault();const w=this._getConstrainedPointerPosition(_);if(this._hasMoved=!0,this._lastKnownPointerPosition=_,this._updatePointerDirectionDelta(w),this._dropContainer)this._updateActiveDropContainer(w,_);else{const I=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,H=this._activeTransform;H.x=w.x-I.x+this._passiveTransform.x,H.y=w.y-I.y+this._passiveTransform.y,this._applyRootElementTransform(H.x,H.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:w,event:h,distance:this._getDragDistance(w),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this._nativeDragStart=h=>{if(this._handles.length){const _=this._getTargetHandle(h);_&&!this._disabledHandles.has(_)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new pF(i),u.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=ti(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Fg(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Yn(i)),this._handles.forEach(i=>Fg(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Yn(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,VD),e.addEventListener("touchstart",this._pointerDown,vF),e.addEventListener("dragstart",this._nativeDragStart,VD)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Yn(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Fg(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Fg(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){eb(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,o=this._placeholder=this._createPlaceholderElement(),u=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();r.insertBefore(u,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),dF(i,!1,FI),this._document.body.appendChild(r.replaceChild(o,i)),this._getPreviewInsertionPoint(r,h).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=eb(e),o=!r&&0!==e.button,u=this._rootElement,h=jo(e),_=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),w=r?Ef(e):wy(e);if(h&&h.draggable&&"mousedown"===e.type&&e.preventDefault(),i||o||_||w)return;if(this._handles.length){const De=u.style;this._rootElementTapHighlight=De.webkitTapHighlightColor||"",De.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(De=>this._updateOnScroll(De)),this._boundaryElement&&(this._boundaryRect=RI(this._boundaryElement));const I=this._previewTemplate;this._pickupPositionInElement=I&&I.template&&!I.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const H=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:H.x,y:H.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){dF(this._rootElement,!0,FI),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),o=this._getDragDistance(r),u=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:o,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:u,distance:o,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,u,o,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let o=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!o&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(o=this._initialContainer),o&&o!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=o,this._dropContainer.enter(this,t,e,o===this._initialContainer&&o.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:o,currentIndex:o.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const o=t.matchSize?this._initialClientRect:null,u=t.viewContainer.createEmbeddedView(i,t.context);u.detectChanges(),r=wF(u,this._document),this._previewRef=u,t.matchSize?CF(r,o):r.style.transform=BD(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=mF(this._rootElement),CF(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return kI(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},FI),Fg(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(o=>r.classList.add(o)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function b3(n){const t=getComputedStyle(n),e=PI(t,"transition-property"),i=e.find(h=>"transform"===h||"all"===h);if(!i)return 0;const r=e.indexOf(i),o=PI(t,"transition-duration"),u=PI(t,"transition-delay");return hF(o[r])+hF(u[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=u=>{(!u||jo(u)===this._preview&&"transform"===u.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(o))},o=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=wF(this._placeholderRef,this._document)):i=mF(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,o=r?r.getBoundingClientRect():t,u=eb(i)?i.targetTouches[0]:i,h=this._getViewportScrollPosition();return{x:o.left-t.left+(u.pageX-o.left-h.left),y:o.top-t.top+(u.pageY-o.top-h.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=eb(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,o=i.pageY-e.top;if(this._ownerSVGElement){const u=this._ownerSVGElement.getScreenCTM();if(u){const h=this._ownerSVGElement.createSVGPoint();return h.x=r,h.y=o,h.matrixTransform(u.inverse())}}return{x:r,y:o}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:o,y:u}=this._pickupPositionInElement,h=this._boundaryRect,{width:_,height:w}=this._getPreviewRect(),I=h.top+u,H=h.bottom-(w-u);i=bF(i,h.left+o,h.right-(_-o)),r=bF(r,I,H)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,o=this._pointerPositionAtLastDirectionChange,u=Math.abs(e-o.x),h=Math.abs(i-o.y);return u>this._config.pointerDirectionChangeThreshold&&(r.x=e>o.x?1:-1,o.x=e),h>this._config.pointerDirectionChangeThreshold&&(r.y=i>o.y?1:-1,o.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Fg(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,VD),t.removeEventListener("touchstart",this._pointerDown,vF),t.removeEventListener("dragstart",this._nativeDragStart,VD)}_applyRootElementTransform(t,e){const i=BD(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=ND(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=BD(t,e);this._preview.style.transform=ND(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const o=r.left-i.left,u=i.right-r.right,h=r.top-i.top,_=i.bottom-r.bottom;r.width>i.width?(o>0&&(t+=o),u>0&&(t-=u)):t=0,r.height>i.height?(h>0&&(e+=h),_>0&&(e-=_)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:eb(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=jo(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Jv(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=oy(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Yn(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function BD(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function bF(n,t,e){return Math.max(t,Math.min(e,n))}function eb(n){return"t"===n.type[0]}function wF(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function CF(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=BD(t.left,t.top)}function tb(n,t){return Math.max(0,Math.min(t,n))}class A3{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const o=this._itemPositions,u=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===u&&o.length>0)return null;const h="horizontal"===this.orientation,_=o.findIndex(st=>st.drag===t),w=o[u],H=w.clientRect,De=_>u?1:-1,Me=this._getItemOffsetPx(o[_].clientRect,H,De),Le=this._getSiblingOffsetPx(_,o,De),$e=o.slice();return function E3(n,t,e){const i=tb(t,n.length-1),r=tb(e,n.length-1);if(i===r)return;const o=n[i],u=r<i?-1:1;for(let h=i;h!==r;h+=u)n[h]=n[h+u];n[r]=o}(o,_,u),o.forEach((st,Mt)=>{if($e[Mt]===st)return;const Ut=st.drag===t,Kt=Ut?Me:Le,zt=Ut?t.getPlaceholderElement():st.drag.getRootElement();st.offset+=Kt,h?(zt.style.transform=ND(`translate3d(${Math.round(st.offset)}px, 0, 0)`,st.initialTransform),Jv(st.clientRect,0,Kt)):(zt.style.transform=ND(`translate3d(0, ${Math.round(st.offset)}px, 0)`,st.initialTransform),Jv(st.clientRect,Kt,0))}),this._previousSwap.overlaps=OI(H,e,i),this._previousSwap.drag=w.drag,this._previousSwap.delta=h?r.x:r.y,{previousIndex:_,currentIndex:u}}enter(t,e,i,r){const o=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,u=this._activeDraggables,h=u.indexOf(t),_=t.getPlaceholderElement();let w=u[o];if(w===t&&(w=u[o+1]),!w&&(null==o||-1===o||o<u.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(w=u[0]),h>-1&&u.splice(h,1),w&&!this._dragDropRegistry.isDragging(w)){const I=w.getRootElement();I.parentElement.insertBefore(_,I),u.splice(o,0,t)}else Yn(this._element).appendChild(_),u.push(t);_.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Jv(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:RI(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let o=r?e.left-t.left:e.top-t.top;return-1===i&&(o+=r?e.width-t.width:e.height-t.height),o}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,o=e[t].clientRect,u=e[t+-1*i];let h=o[r?"width":"height"]*i;if(u){const _=r?"left":"top",w=r?"right":"bottom";-1===i?h-=u.clientRect[_]-o[w]:h+=o[_]-u.clientRect[w]}return h}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const u=i[i.length-1].clientRect;return r?t>=u.right:e>=u.bottom}{const u=i[0].clientRect;return r?t<=u.left:e<=u.top}}_getItemIndexFromPointerPosition(t,e,i,r){const o="horizontal"===this.orientation,u=this._itemPositions.findIndex(({drag:h,clientRect:_})=>{if(h===t)return!1;if(r){const w=o?r.x:r.y;if(h===this._previousSwap.drag&&this._previousSwap.overlaps&&w===this._previousSwap.delta)return!1}return o?e>=Math.floor(_.left)&&e<Math.floor(_.right):i>=Math.floor(_.top)&&i<Math.floor(_.bottom)});return-1!==u&&this._sortPredicate(u,t)?u:-1}}class S3{constructor(t,e,i,r,o){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=o,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new yt.x,this.entered=new yt.x,this.exited=new yt.x,this.dropped=new yt.x,this.sorted=new yt.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Vn.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new yt.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function v3(n=0,t=Cf.z){return n<0&&(n=0),fg(n,n,t)}(0,Iv).pipe(_i(this._stopScrollTimers)).subscribe(()=>{const u=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?u.scrollBy(0,-h):2===this._verticalScrollDirection&&u.scrollBy(0,h),1===this._horizontalScrollDirection?u.scrollBy(-h,0):2===this._horizontalScrollDirection&&u.scrollBy(h,0)})},this.element=Yn(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new pF(i),this._sortStrategy=new A3(this.element,e),this._sortStrategy.withSortPredicate((u,h)=>this.sortPredicate(u,h,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,o,u,h,_={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:o,distance:u,dropPoint:h,event:_})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Yn(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!fF(this._clientRect,.05,e,i))return;const o=this._sortStrategy.sort(t,e,i,r);o&&this.sorted.next({previousIndex:o.previousIndex,currentIndex:o.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,o=0;if(this._parentPositions.positions.forEach((u,h)=>{h===this._document||!u.clientRect||i||fF(u.clientRect,.05,t,e)&&([r,o]=function T3(n,t,e,i){const r=AF(t,i),o=SF(t,e);let u=0,h=0;if(r){const _=n.scrollTop;1===r?_>0&&(u=1):n.scrollHeight-_>n.clientHeight&&(u=2)}if(o){const _=n.scrollLeft;1===o?_>0&&(h=1):n.scrollWidth-_>n.clientWidth&&(h=2)}return[u,h]}(h,u.clientRect,t,e),(r||o)&&(i=h))}),!r&&!o){const{width:u,height:h}=this._viewportRuler.getViewportSize(),_={width:u,height:h,top:0,right:u,bottom:h,left:0};r=AF(_,e),o=SF(_,t),i=window}i&&(r!==this._verticalScrollDirection||o!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=o,this._scrollNode=i,(r||o)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Yn(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Yn(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Yn(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&OI(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!OI(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const o=Yn(this.element);return r===o||o.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=oy(Yn(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function AF(n,t){const{top:e,bottom:i,height:r}=n,o=.05*r;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}function SF(n,t){const{left:e,right:i,width:r}=n,o=.05*r;return t>=e-o&&t<=e+o?1:t>=i-o&&t<=i+o?2:0}const UD=Ta({passive:!1,capture:!0});let x3=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new yt.x,this.pointerUp=new yt.x,this.scroll=new yt.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,UD)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,UD)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:o=>this.pointerUp.next(o),options:!0}).set("scroll",{handler:o=>this.scroll.next(o),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:UD}),r||this._globalListeners.set("mousemove",{handler:o=>this.pointerMove.next(o),options:UD}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((o,u)=>{this._document.addEventListener(u,o.handler,o.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new Wn.y(r=>this._ngZone.runOutsideAngular(()=>{const u=h=>{this._activeDragInstances.length&&r.next(h)};return e.addEventListener("scroll",u,!0),()=>{e.removeEventListener("scroll",u,!0)}}))),(0,ks.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const I3={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let TF=(()=>{class n{constructor(e,i,r,o){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o}createDrag(e,i=I3){return new D3(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new S3(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(s.R0b),s.LFG(Oa),s.LFG(x3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const LI=new s.OlP("CDK_DRAG_PARENT"),M3=new s.OlP("CDK_DRAG_CONFIG"),k3=new s.OlP("CdkDropList"),NI=new s.OlP("CdkDragHandle");let P3=(()=>{class n{constructor(e,i){this.element=e,this._stateChanges=new yt.x,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(e){this._disabled=ti(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(LI,12))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[s._Bn([{provide:NI,useExisting:n}])]}),n})();const R3=new s.OlP("CdkDragPlaceholder"),O3=new s.OlP("CdkDragPreview");let L3=(()=>{class n{constructor(e,i,r,o,u,h,_,w,I,H,De){this.element=e,this.dropContainer=i,this._ngZone=o,this._viewContainerRef=u,this._dir=_,this._changeDetectorRef=I,this._selfHandle=H,this._parentDrag=De,this._destroyed=new yt.x,this.started=new s.vpe,this.released=new s.vpe,this.ended=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.dropped=new s.vpe,this.moved=new Wn.y(Me=>{const Le=this._dragRef.moved.pipe((0,Gt.U)($e=>({source:this,pointerPosition:$e.pointerPosition,event:$e.event,delta:$e.delta,distance:$e.distance}))).subscribe(Me);return()=>{Le.unsubscribe()}}),this._dragRef=w.createDrag(e,{dragStartThreshold:h&&null!=h.dragStartThreshold?h.dragStartThreshold:5,pointerDirectionChangeThreshold:h&&null!=h.pointerDirectionChangeThreshold?h.pointerDirectionChangeThreshold:5,zIndex:h?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),h&&this._assignDefaults(h),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=ti(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(ei(1),_i(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):Yn(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,o=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,u=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:Ia(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(o).withPreviewTemplate(u).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(ei(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:o,previewClass:u,boundaryElement:h,draggingDisabled:_,rootElementSelector:w,previewContainer:I}=e;this.disabled=_??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),o&&(this.constrainPosition=o),u&&(this.previewClass=u),h&&(this.boundaryElement=h),w&&(this.rootElementSelector=w),I&&(this.previewContainer=I)}_setupHandlesListener(){this._handles.changes.pipe(Kn(this._handles),(0,li.b)(e=>{const i=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),ai(e=>(0,ks.T)(...e.map(i=>i._stateChanges.pipe(Kn(i))))),_i(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(k3,12),s.Y36(B),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(M3,8),s.Y36(_r,8),s.Y36(TF),s.Y36(s.sBO),s.Y36(NI,10),s.Y36(LI,12))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,O3,5),s.Suo(r,R3,5),s.Suo(r,NI,5)),2&e){let o;s.iGM(o=s.CRH())&&(i._previewTemplate=o.first),s.iGM(o=s.CRH())&&(i._placeholderTemplate=o.first),s.iGM(o=s.CRH())&&(i._handles=o)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[s._Bn([{provide:LI,useExisting:n}]),s.TTD]}),n})(),N3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[TF],imports:[Qf]}),n})();const V3=["*",[["mat-toolbar-row"]]],B3=["*","mat-toolbar-row"],U3=Tc(class{constructor(n){this._elementRef=n}});let H3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),xF=(()=>{class n extends U3{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(Fi),s.Y36(B))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,H3,5),2&e){let o;s.iGM(o=s.CRH())&&(i._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:B3,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(V3),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),j3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Fn,Fn]}),n})(),G3=(()=>{class n{constructor(e){this.data=e,this.options={attachmentWorkItemID:29},this.groupIDs=[0]}ngOnInit(){this.options.attachmentReferenceID=this.data}openDocumentAttachment(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(_D))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-document-dialog"]],decls:22,vars:2,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary",".cdk-overlay-container"],["cdkDragHandle","","color","primary"],[1,"mat-subheading-2"],[3,"options","groupIDs"],[1,"item"],["color","accent"],[1,"mat-body"],["spacer",""],["mat-stroked-button","","mat-dialog-close",""],["mat-flat-button","","color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"mat-toolbar",1)(2,"span",2),s._uU(3,"Attach Files"),s.qZA()(),s.TgZ(4,"mat-card-content"),s._UZ(5,"app-document-attachment",3),s.qZA(),s.TgZ(6,"mat-card-actions")(7,"div",4)(8,"mat-icon",5),s._uU(9,"account_circle"),s.qZA(),s.TgZ(10,"span",6),s._uU(11,"123456"),s.qZA()(),s.TgZ(12,"div",4)(13,"mat-icon",5),s._uU(14,"local_hospital"),s.qZA(),s.TgZ(15,"span",6),s._uU(16,"TN VALLEY HEALTHCARE TRANSPLANT, NASHVILLE, TN"),s.qZA()(),s._UZ(17,"span",7),s.TgZ(18,"button",8),s._uU(19,"Cancel"),s.qZA(),s.TgZ(20,"button",9),s._uU(21,"Attach All"),s.qZA()()()),2&e&&(s.xp6(5),s.Q6J("options",i.options)("groupIDs",i.groupIDs))},dependencies:[Ma,Kd,xf,jm,Nv,L3,P3,SI,xF,MI,II],styles:["mat-card[_ngcontent-%COMP%]{padding:0 0 1.25rem}mat-card[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{height:36px;display:flex;flex-direction:row;align-items:center}mat-card[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{margin:0;padding-top:.5rem}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;padding:.75rem 1.25rem 1.25rem}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:.75rem}"]}),n})(),z3=(()=>{class n{constructor(e){this.dialog=e}ngOnInit(){}openDocumentAttachment(){this.dialog.open(G3,{maxWidth:"75vw",minWidth:"55vw",panelClass:"document-dialog",autoFocus:!1,hasBackdrop:!1})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Eg))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-modal"]],decls:2,vars:0,consts:[["mat-stroked-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"button",0),s.NdJ("click",function(){return i.openDocumentAttachment()}),s._uU(1,"Attach Files"),s.qZA())},dependencies:[Ma],styles:["[_nghost-%COMP%]{height:calc(100vh - 64px);display:flex;justify-content:center;align-items:center}"]}),n})();function $3(n,t){1&n&&s.Hsn(0)}const IF=["*"];function W3(n,t){}const q3=function(n){return{animationDuration:n}},Y3=function(n,t){return{value:n,params:t}},Z3=["tabListContainer"],K3=["tabList"],Q3=["tabListInner"],X3=["nextPaginator"],J3=["previousPaginator"],eG=["tabBodyWrapper"],tG=["tabHeader"];function nG(n,t){}function iG(n,t){if(1&n&&s.YNc(0,nG,0,0,"ng-template",10),2&n){const e=s.oxw().$implicit;s.Q6J("cdkPortalOutlet",e.templateLabel)}}function rG(n,t){if(1&n&&s._uU(0),2&n){const e=s.oxw().$implicit;s.Oqu(e.textLabel)}}function sG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",6),s.NdJ("click",function(){const r=s.CHM(e),o=r.$implicit,u=r.index,h=s.oxw(),_=s.MAs(1);return s.KtG(h._handleClick(o,_,u))})("cdkFocusChange",function(r){const u=s.CHM(e).index,h=s.oxw();return s.KtG(h._tabFocusChanged(r,u))}),s.TgZ(1,"div",7),s.YNc(2,iG,1,1,"ng-template",8),s.YNc(3,rG,1,1,"ng-template",null,9,s.W1O),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.MAs(4),o=s.oxw();s.ekj("mat-tab-label-active",o.selectedIndex===i),s.Q6J("id",o._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||o.disableRipple),s.uIk("tabIndex",o._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",o._tabs.length)("aria-controls",o._getTabContentId(i))("aria-selected",o.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),s.xp6(2),s.Q6J("ngIf",e.templateLabel)("ngIfElse",r)}}function oG(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-tab-body",11),s.NdJ("_onCentered",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){s.CHM(e);const o=s.oxw();return s.KtG(o._setTabBodyWrapperHeight(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.ekj("mat-tab-body-active",r.selectedIndex===i),s.Q6J("id",r._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),s.uIk("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const aG=new s.OlP("MatInkBarPositioner",{providedIn:"root",factory:function lG(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let MF=(()=>{class n{constructor(e,i,r,o){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=o}alignToElement(e){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe(ei(1)).subscribe(()=>{const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(aG),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const cG=new s.OlP("MatTabContent"),uG=new s.OlP("MatTabLabel"),dG=new s.OlP("MAT_TAB"),hG=Gd(class{}),kF=new s.OlP("MAT_TAB_GROUP");let PF=(()=>{class n extends hG{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new yt.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new ju(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(kF,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,uG,5),s.Suo(r,cG,7,s.Rgc)),2&e){let o;s.iGM(o=s.CRH())&&(i.templateLabel=o.first),s.iGM(o=s.CRH())&&(i._explicitContent=o.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,7),2&e){let r;s.iGM(r=s.CRH())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[s._Bn([{provide:dG,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:IF,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.YNc(0,$3,1,0,"ng-template"))},encapsulation:2}),n})();const fG={translateTab:Ml("translateTab",[nr("center, void, left-origin-center, right-origin-center",kn({transform:"none"})),nr("left",kn({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),nr("right",kn({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),yr("* => left, * => right, left => center, right => center",cr("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),yr("void => left-origin-center",[kn({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),cr("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),yr("void => right-origin-center",[kn({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),cr("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let pG=(()=>{class n extends Fa{constructor(e,i,r,o){super(e,i,o),this._host=r,this._centeringSub=Vn.w0.EMPTY,this._leavingSub=Vn.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(Kn(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36((0,s.Gpc)(()=>RF)),s.Y36(B))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[s.qOj]}),n})(),mG=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Vn.w0.EMPTY,this._translateTabComplete=new yt.x,this._onCentering=new s.vpe,this._beforeCentering=new s.vpe,this._afterLeavingCenter=new s.vpe,this._onCentered=new s.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(o=>{this._computePositionAnimationState(o),r.markForCheck()})),this._translateTabComplete.pipe(Q0((o,u)=>o.fromState===u.fromState&&o.toState===u.toState)).subscribe(o=>{this._isCenterPosition(o.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(o.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(_r,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),RF=(()=>{class n extends mG{constructor(e,i,r){super(e,i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(_r,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&s.Gf(Fa,5),2&e){let r;s.iGM(r=s.CRH())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[s.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("@translateTab.start",function(o){return i._onTranslateTabStarted(o)})("@translateTab.done",function(o){return i._translateTabComplete.next(o)}),s.YNc(2,W3,0,0,"ng-template",2),s.qZA()),2&e&&s.Q6J("@translateTab",s.WLB(3,Y3,i._position,s.VKq(1,q3,i.animationDuration)))},dependencies:[pG],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[fG.translateTab]}}),n})();const OF=new s.OlP("MAT_TABS_CONFIG"),gG=Gd(class{});let FF=(()=>{class n extends gG{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(s.uIk("aria-disabled",!!i.disabled),s.ekj("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[s.qOj]}),n})();const LF=Ta({passive:!0});let vG=(()=>{class n{constructor(e,i,r,o,u,h,_){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=o,this._ngZone=u,this._platform=h,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new yt.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new yt.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new s.vpe,this.indexFocused=new s.vpe,u.runOutsideAngular(()=>{Qd(e.nativeElement,"mouseleave").pipe(_i(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=ti(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=Ia(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Qd(this._previousPaginator.nativeElement,"touchstart",LF).pipe(_i(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Qd(this._nextPaginator.nativeElement,"touchstart",LF).pipe(_i(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Nt("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new yy(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(ei(1)).subscribe(r),(0,ks.T)(e,i,this._items.changes,this._itemsResized()).pipe(_i(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(_i(this._destroyed)).subscribe(o=>{this.indexFocused.emit(o),this._setTabFocus(o)})}_itemsResized(){return"function"!=typeof ResizeObserver?Hi.E:this._items.changes.pipe(Kn(this._items),ai(e=>new Wn.y(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(()=>{i.next()});return e.forEach(o=>{r.observe(o.elementRef.nativeElement)}),()=>{r.disconnect()}}))),K0(1))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Mu(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:o,offsetWidth:u}=i.elementRef.nativeElement;let h,_;"ltr"==this._getLayoutDirection()?(h=o,_=h+u):(_=this._tabListInner.nativeElement.offsetWidth-o,h=_-u);const w=this.scrollDistance,I=this.scrollDistance+r;h<w?this.scrollDistance-=w-h+60:_>I&&(this.scrollDistance+=_-I+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),fg(650,100).pipe(_i((0,ks.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:o}=this._scrollHeader(e);(0===o||o>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Oa),s.Y36(_r,8),s.Y36(s.R0b),s.Y36(Fi),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),bG=(()=>{class n extends vG{constructor(e,i,r,o,u,h,_){super(e,i,r,o,u,h,_),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ti(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Oa),s.Y36(_r,8),s.Y36(s.R0b),s.Y36(Fi),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[s.qOj]}),n})(),wG=(()=>{class n extends bG{constructor(e,i,r,o,u,h,_){super(e,i,r,o,u,h,_)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Oa),s.Y36(_r,8),s.Y36(s.R0b),s.Y36(Fi),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,FF,4),2&e){let o;s.iGM(o=s.CRH())&&(i._items=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(MF,7),s.Gf(Z3,7),s.Gf(K3,7),s.Gf(Q3,7),s.Gf(X3,5),s.Gf(J3,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._inkBar=r.first),s.iGM(r=s.CRH())&&(i._tabListContainer=r.first),s.iGM(r=s.CRH())&&(i._tabList=r.first),s.iGM(r=s.CRH())&&(i._tabListInner=r.first),s.iGM(r=s.CRH())&&(i._nextPaginator=r.first),s.iGM(r=s.CRH())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[s.qOj],ngContentSelectors:IF,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"button",0,1),s.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(o){return i._handlePaginatorPress("before",o)})("touchend",function(){return i._stopInterval()}),s._UZ(2,"div",2),s.qZA(),s.TgZ(3,"div",3,4),s.NdJ("keydown",function(o){return i._handleKeydown(o)}),s.TgZ(5,"div",5,6),s.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),s.TgZ(7,"div",7,8),s.Hsn(9),s.qZA(),s._UZ(10,"mat-ink-bar"),s.qZA()(),s.TgZ(11,"button",9,10),s.NdJ("mousedown",function(o){return i._handlePaginatorPress("after",o)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),s._UZ(13,"div",2),s.qZA()),2&e&&(s.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),s.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),s.xp6(5),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),s.xp6(6),s.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),s.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},dependencies:[uo,ew,MF],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}"],encapsulation:2}),n})(),CG=0;class DG{}const EG=Tc(Pu(class{constructor(n){this._elementRef=n}}),"primary");let AG=(()=>{class n extends EG{constructor(e,i,r,o){super(e),this._changeDetectorRef=i,this._animationMode=o,this._tabs=new s.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Vn.w0.EMPTY,this._tabLabelSubscription=Vn.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new s.vpe,this.focusChange=new s.vpe,this.animationDone=new s.vpe,this.selectedTabChange=new s.vpe(!0),this._groupId=CG++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=r?.contentTabIndex??null,this.preserveContent=!!r?.preserveContent}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=ti(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=Ia(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=Ia(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=ti(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=ti(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,o)=>r.isActive=o===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let r;for(let o=0;o<i.length;o++)if(i[o].isActive){this._indexToSelect=this._selectedIndex=o,this._lastFocusedTabIndex=null,r=i[o];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(Kn(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new DG;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,ks.T)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){e.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(e,i){return e.disabled?null:i===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(OF,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[s.qOj]}),n})(),SG=(()=>{class n extends AG{constructor(e,i,r,o){super(e,i,r,o)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(OF,8),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,PF,5),2&e){let o;s.iGM(o=s.CRH())&&(i._allTabs=o)}},viewQuery:function(e,i){if(1&e&&(s.Gf(eG,5),s.Gf(tG,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._tabBodyWrapper=r.first),s.iGM(r=s.CRH())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[s._Bn([{provide:kF,useExisting:n}]),s.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-tab-header",0,1),s.NdJ("indexFocused",function(o){return i._focusChanged(o)})("selectFocusedIndex",function(o){return i.selectedIndex=o}),s.YNc(2,sG,5,15,"div",2),s.qZA(),s.TgZ(3,"div",3,4),s.YNc(5,oG,1,11,"mat-tab-body",5),s.qZA()),2&e&&(s.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),s.xp6(2),s.Q6J("ngForOf",i._tabs),s.xp6(1),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),s.xp6(2),s.Q6J("ngForOf",i._tabs))},dependencies:[Ha,bs,$s,Fa,uo,WS,FF,RF,wG],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2}),n})(),TG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bi,Fn,Gu,xl,km,Sf,Fn]}),n})();const xG=[{path:"",redirectTo:"/modal",pathMatch:"full"},{path:"form",component:y3},{path:"modal",component:z3},{path:"tabs",component:(()=>{class n{constructor(){this.options={attachmentWorkItemID:14}}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-tabs"]],decls:6,vars:3,consts:[["selectedIndex","2"],["label","Details","disabled",""],["label","History","disabled",""],["label","Douments"],[3,"options","getExisting","readonly"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card")(1,"mat-tab-group",0),s._UZ(2,"mat-tab",1)(3,"mat-tab",2),s.TgZ(4,"mat-tab",3),s._UZ(5,"app-document-attachment",4),s.qZA()()()),2&e&&(s.xp6(5),s.Q6J("options",i.options)("getExisting",!0)("readonly",!0))},dependencies:[Kd,SG,PF,MI],styles:["[_nghost-%COMP%]{height:calc(100vh - 64px);display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{width:55%;padding:0}mat-card[_ngcontent-%COMP%]   .mat-tab-body[_ngcontent-%COMP%]{padding:1rem}"]}),n})()}];let IG=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[J_.forRoot(xG),J_]}),n})();var ut=R(5861),HD=R(5363),MG=R(6063);class kG extends yt.x{constructor(t=1/0,e=1/0,i=MG.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:u}=this;e||(i.push(t),!r&&i.push(o.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let u=0;u<o.length&&!t.closed;u+=i?1:2)t.next(o[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*t;if(t<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const u=e.now();let h=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)h=_;h&&i.splice(0,h+1)}}}function VF(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,ht.B)({connector:()=>new kG(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function BF(n,t){return(0,Jn.m)(t)?ai(()=>n,t):ai(()=>n)}var VI=R(9468),Xr=R(5813),Ol=R(2011);R(5867);var np=R(9681),GD=R(4859),In=R(2090),ah=R(1877);const HF=new Map,LG={activated:!1,tokenObservers:[]},NG={initialized:!1,enabled:!1};function kr(n){return HF.get(n)||LG}function Fl(n,t){HF.set(n,t)}function zD(){return NG}class jG{constructor(t,e,i,r,o){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=r,r>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ut.Z)(function*(){e.stop();try{e.pending=new In.BH,yield function GG(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new In.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ls=new In.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function GF(n){if(!kr(n).activated)throw Ls.create("use-before-activation",{appName:n.name})}function jI(n,t){return GI.apply(this,arguments)}function GI(){return(GI=(0,ut.Z)(function*({url:n,body:t},e){var i,r;const o={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const Me=yield u.getHeartbeatsHeader();Me&&(o["X-Firebase-Client"]=Me)}const h={method:"POST",body:JSON.stringify(t),headers:o};let _,w;try{_=yield fetch(n,h)}catch(Me){throw Ls.create("fetch-network-error",{originalErrorMessage:null===(i=Me)||void 0===i?void 0:i.message})}if(200!==_.status)throw Ls.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(Me){throw Ls.create("fetch-parse-error",{originalErrorMessage:null===(r=Me)||void 0===r?void 0:r.message})}const I=w.ttl.match(/^([\d.]+)(s)$/);if(!I||!I[2]||isNaN(Number(I[1])))throw Ls.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const H=1e3*Number(I[1]),De=Date.now();return{token:w.token,expireTimeMillis:De+H,issuedAtTimeMillis:De}})).apply(this,arguments)}function qG(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const nb="firebase-app-check-store";let qD=null;function $F(){return qD||(qD=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var o;t(Ls.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(nb,{keyPath:"compositeKey"})}}catch(i){t(Ls.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),qD)}function zI(){return(zI=(0,ut.Z)(function*(n,t){const i=(yield $F()).transaction(nb,"readwrite"),o=i.objectStore(nb).put({compositeKey:n,value:t});return new Promise((u,h)=>{o.onsuccess=_=>{u()},i.onerror=_=>{var w;h(Ls.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const ib=new ah.Yd("@firebase/app-check");function ZF(n,t){return(0,In.hl)()?function QG(n,t){return function WF(n,t){return zI.apply(this,arguments)}(function YF(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{ib.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function KF(){return zD().enabled}function QF(){return YI.apply(this,arguments)}function YI(){return(YI=(0,ut.Z)(function*(){const n=zD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const iz={error:"UNKNOWN_ERROR"};function rz(n){return In.US.encodeString(JSON.stringify(n),!1)}function YD(n){return ZI.apply(this,arguments)}function ZI(){return(ZI=(0,ut.Z)(function*(n,t=!1){const e=n.app;GF(e);const i=kr(e);let o,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&ZD(_)&&(r=_)}if(!t&&r&&ZD(r))return{token:r.token};let h,u=!1;if(KF()){i.exchangeTokenPromise||(i.exchangeTokenPromise=jI(qG(e,yield QF()),n.heartbeatServiceProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),u=!0);const _=yield i.exchangeTokenPromise;return yield ZF(e,_),Fl(e,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?ib.warn(_.message):ib.error(_),o=_}return r?(h={token:r.token},Fl(e,Object.assign(Object.assign({},i),{token:r})),yield ZF(e,r)):h=oz(o),u&&JF(e,h),h})).apply(this,arguments)}function QI(n,t){const e=kr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Fl(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function XF(n){const{app:t}=n,e=kr(t);let i=e.tokenRefresher;i||(i=function sz(n){const{app:t}=n;return new jG((0,ut.Z)(function*(){let i;if(i=kr(t).token?yield YD(n,!0):yield YD(n),i.error)throw i.error}),()=>!0,()=>{const e=kr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Fl(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function JF(n,t){const e=kr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function ZD(n){return n.expireTimeMillis-Date.now()>0}function oz(n){return{token:rz(iz),error:n}}class az{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=kr(this.app);for(const e of t)QI(this.app,e.next);return Promise.resolve()}}const aL="app-check-internal";!function wz(){(0,np._registerComponent)(new GD.wA("app-check",n=>function lz(n,t){return new az(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(aL).initialize()})),(0,np._registerComponent)(new GD.wA(aL,n=>function cz(n){return{getToken:t=>YD(n,t),addTokenListener:t=>function KI(n,t,e,i){const{app:r}=n,o=kr(r),u={next:e,error:i,type:t};if(Fl(r,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,u]})),o.token&&ZD(o.token)){const h=o.token;Promise.resolve().then(()=>{e({token:h.token}),XF(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>XF(n))}(n,"INTERNAL",t),removeTokenListener:t=>QI(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,np.registerVersion)("@firebase/app-check","0.5.12")}();class tM{constructor(){return(0,Xr.vb)("app-check")}}typeof window<"u"&&window;var Sz=R(127);const cL=new s.OlP("angularfire2.auth.use-emulator"),uL=new s.OlP("angularfire2.auth.settings"),dL=new s.OlP("angularfire2.auth.tenant-id"),hL=new s.OlP("angularfire2.auth.langugage-code"),fL=new s.OlP("angularfire2.auth.use-device-language"),pL=new s.OlP("angularfire.auth.persistence"),mL=(n,t,e,i,r,o,u,h)=>(0,Ol.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,o&&_.useDeviceLanguage(),u)for(const[w,I]of Object.entries(u))_.settings[w]=I;return h&&_.setPersistence(h),_},[e,i,r,o,u,h]);let iM=(()=>{class n{constructor(e,i,r,o,u,h,_,w,I,H,De,Me){const Le=new yt.x,$e=Nt(void 0).pipe((0,HD.Q)(u.outsideAngular),ai(()=>o.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,1451)))),(0,Gt.U)(()=>(0,Ol.on)(e,o,i)),(0,Gt.U)(st=>mL(st,o,h,w,I,H,_,De)),VF({bufferSize:1,refCount:!1}));if(sr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Nt(null);else{$e.pipe(io()).subscribe();const Mt=$e.pipe(ai(zt=>zt.getRedirectResult().then(dn=>dn,()=>null)),Xr.iC,VF({bufferSize:1,refCount:!1})),Ut=$e.pipe(ai(zt=>new Wn.y(dn=>({unsubscribe:o.runOutsideAngular(()=>zt.onAuthStateChanged(mn=>dn.next(mn),mn=>dn.error(mn),()=>dn.complete()))})))),Kt=$e.pipe(ai(zt=>new Wn.y(dn=>({unsubscribe:o.runOutsideAngular(()=>zt.onIdTokenChanged(mn=>dn.next(mn),mn=>dn.error(mn),()=>dn.complete()))}))));this.authState=Mt.pipe(BF(Ut),(0,VI.R)(u.outsideAngular),(0,HD.Q)(u.insideAngular)),this.user=Mt.pipe(BF(Kt),(0,VI.R)(u.outsideAngular),(0,HD.Q)(u.insideAngular)),this.idToken=this.user.pipe(ai(zt=>zt?(0,zn.D)(zt.getIdToken()):Nt(null))),this.idTokenResult=this.user.pipe(ai(zt=>zt?(0,zn.D)(zt.getIdTokenResult()):Nt(null))),this.credential=(0,ks.T)(Mt,Le,this.authState.pipe(Qn(zt=>!zt))).pipe((0,Gt.U)(zt=>zt?.user?zt:null),(0,VI.R)(u.outsideAngular),(0,HD.Q)(u.insideAngular))}return(0,Ol.pX)(this,$e,o,{spy:{apply:(st,Mt,Ut)=>{(st.startsWith("signIn")||st.startsWith("createUser"))&&Ut.then(Kt=>Le.next(Kt))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ol.Dh),s.LFG(Ol.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Xr.HU),s.LFG(cL,8),s.LFG(uL,8),s.LFG(dL,8),s.LFG(hL,8),s.LFG(fL,8),s.LFG(pL,8),s.LFG(tM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function rM(){return(0,Hn.e)((n,t)=>{let e,i=!1;n.subscribe((0,Zn.x)(t,r=>{const o=e;e=r,i&&t.next([o,r]),i=!0}))})}R(1451);var $t,xz=R(3942),Iz=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yu={},sM=sM||{},Dn=Iz||self;function QD(){}function oM(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function rb(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var aM="closure_uid_"+(1e9*Math.random()>>>0),kz=0;function Pz(n,t,e){return n.call.apply(n.bind,arguments)}function Rz(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Jr(n,t,e){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Pz:Rz).apply(null,arguments)}function XD(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function es(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,o){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function lh(){this.s=this.s,this.o=this.o}var Fz={};lh.prototype.s=!1,lh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function Mz(n){return Object.prototype.hasOwnProperty.call(n,aM)&&n[aM]||(n[aM]=++kz)}(this);delete Fz[n]}},lh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const gL=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},_L=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<i;o++)o in r&&t.call(e,r[o],o,n)};function yL(n){return Array.prototype.concat.apply([],arguments)}function lM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function JD(n){return/^[\s\xa0]*$/.test(n)}var Vs,vL=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Ns(n,t){return-1!=n.indexOf(t)}function cM(n,t){return n<t?-1:n>t?1:0}e:{var bL=Dn.navigator;if(bL){var wL=bL.userAgent;if(wL){Vs=wL;break e}}Vs=""}function uM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function CL(n){const t={};for(const e in n)t[e]=n[e];return t}var DL="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function EL(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let o=0;o<DL.length;o++)e=DL[o],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function dM(n){return dM[" "](n),n}dM[" "]=QD;var eE,n,Vz=Ns(Vs,"Opera"),Lg=Ns(Vs,"Trident")||Ns(Vs,"MSIE"),AL=Ns(Vs,"Edge"),hM=AL||Lg,SL=Ns(Vs,"Gecko")&&!(Ns(Vs.toLowerCase(),"webkit")&&!Ns(Vs,"Edge"))&&!(Ns(Vs,"Trident")||Ns(Vs,"MSIE"))&&!Ns(Vs,"Edge"),Bz=Ns(Vs.toLowerCase(),"webkit")&&!Ns(Vs,"Edge");function TL(){var n=Dn.document;return n?n.documentMode:void 0}e:{var fM="",pM=(n=Vs,SL?/rv:([^\);]+)(\)|;)/.exec(n):AL?/Edge\/([\d\.]+)/.exec(n):Lg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Bz?/WebKit\/(\S+)/.exec(n):Vz?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(pM&&(fM=pM?pM[1]:""),Lg){var mM=TL();if(null!=mM&&mM>parseFloat(fM)){eE=String(mM);break e}}eE=fM}var Uz={};var jz=Dn.document&&Lg&&(TL()||parseInt(eE,10))||void 0,Gz=function(){if(!Dn.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Dn.addEventListener("test",QD,t),Dn.removeEventListener("test",QD,t)}catch{}return n}();function ms(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function sb(n,t){if(ms.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(SL){e:{try{dM(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:zz[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&sb.Z.h.call(this)}}ms.prototype.h=function(){this.defaultPrevented=!0},es(sb,ms);var zz={2:"touch",3:"pen",4:"mouse"};sb.prototype.h=function(){sb.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ob="closure_listenable_"+(1e6*Math.random()|0),$z=0;function Wz(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++$z,this.ca=this.fa=!1}function tE(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function nE(n){this.src=n,this.g={},this.h=0}function _M(n,t){var e=t.type;if(e in n.g){var o,i=n.g[e],r=gL(i,t);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(tE(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function yM(n,t,e,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.ca&&o.listener==t&&o.capture==!!e&&o.ia==i)return r}return-1}nE.prototype.add=function(n,t,e,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var u=yM(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new Wz(t,this.src,o,!!i,r)).fa=e,n.push(t)),t};var vM="closure_lm_"+(1e6*Math.random()|0),bM={};function IL(n,t,e,i,r){if(i&&i.once)return kL(n,t,e,i,r);if(Array.isArray(t)){for(var o=0;o<t.length;o++)IL(n,t[o],e,i,r);return null}return e=EM(e),n&&n[ob]?n.N(t,e,rb(i)?!!i.capture:!!i,r):ML(n,t,e,!1,i,r)}function ML(n,t,e,i,r,o){if(!t)throw Error("Invalid event type");var u=rb(r)?!!r.capture:!!r,h=CM(n);if(h||(n[vM]=h=new nE(n)),(e=h.add(t,e,i,u,o)).proxy)return e;if(i=function qz(){var t=Yz;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)Gz||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(RL(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function kL(n,t,e,i,r){if(Array.isArray(t)){for(var o=0;o<t.length;o++)kL(n,t[o],e,i,r);return null}return e=EM(e),n&&n[ob]?n.O(t,e,rb(i)?!!i.capture:!!i,r):ML(n,t,e,!0,i,r)}function PL(n,t,e,i,r){if(Array.isArray(t))for(var o=0;o<t.length;o++)PL(n,t[o],e,i,r);else i=rb(i)?!!i.capture:!!i,e=EM(e),n&&n[ob]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=yM(o=n.g[t],e,i,r))&&(tE(o[e]),Array.prototype.splice.call(o,e,1),0==o.length&&(delete n.g[t],n.h--))):n&&(n=CM(n))&&(t=n.g[t.toString()],n=-1,t&&(n=yM(t,e,i,r)),(e=-1<n?t[n]:null)&&wM(e))}function wM(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[ob])_M(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(RL(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=CM(t))?(_M(e,n),0==e.h&&(e.src=null,t[vM]=null)):tE(n)}}}function RL(n){return n in bM?bM[n]:bM[n]="on"+n}function Yz(n,t){if(n.ca)n=!0;else{t=new sb(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&wM(n),n=e.call(i,t)}return n}function CM(n){return(n=n[vM])instanceof nE?n:null}var DM="__closure_events_fn_"+(1e9*Math.random()>>>0);function EM(n){return"function"==typeof n?n:(n[DM]||(n[DM]=function(t){return n.handleEvent(t)}),n[DM])}function Pr(){lh.call(this),this.i=new nE(this),this.P=this,this.I=null}function ts(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new ms(t,n);else if(t instanceof ms)t.target=t.target||n;else{var r=t;EL(t=new ms(i,n),r)}if(r=!0,e)for(var o=e.length-1;0<=o;o--){var u=t.g=e[o];r=iE(u,i,!0,t)&&r}if(r=iE(u=t.g=n,i,!0,t)&&r,r=iE(u,i,!1,t)&&r,e)for(o=0;o<e.length;o++)r=iE(u=t.g=e[o],i,!1,t)&&r}function iE(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,o=0;o<t.length;++o){var u=t[o];if(u&&!u.ca&&u.capture==e){var h=u.listener,_=u.ia||u.src;u.fa&&_M(n.i,u),r=!1!==h.call(_,i)&&r}}return r&&!i.defaultPrevented}es(Pr,lh),Pr.prototype[ob]=!0,Pr.prototype.removeEventListener=function(n,t,e,i){PL(this,n,t,e,i)},Pr.prototype.M=function(){if(Pr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)tE(e[i]);delete n.g[t],n.h--}}this.I=null},Pr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},Pr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var AM=Dn.JSON.stringify;function Zz(){var n=FL;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var TM,OL=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Qz,n=>n.reset());class Qz{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Xz(n){Dn.setTimeout(()=>{throw n},0)}function SM(n,t){TM||function Jz(){var n=Dn.Promise.resolve(void 0);TM=function(){n.then(e$)}}(),xM||(TM(),xM=!0),FL.add(n,t)}var xM=!1,FL=new class Kz{constructor(){this.h=this.g=null}add(t,e){const i=OL.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function e$(){for(var n;n=Zz();){try{n.h.call(n.g)}catch(e){Xz(e)}var t=OL;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}xM=!1}function rE(n,t){Pr.call(this),this.h=n||1,this.g=t||Dn,this.j=Jr(this.kb,this),this.l=Date.now()}function IM(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function MM(n,t,e){if("function"==typeof n)e&&(n=Jr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jr(n.handleEvent,n)}return 2147483647<Number(t)?-1:Dn.setTimeout(n,t||0)}function LL(n){n.g=MM(()=>{n.g=null,n.i&&(n.i=!1,LL(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}es(rE,Pr),($t=rE.prototype).da=!1,$t.S=null,$t.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ts(this,"tick"),this.da&&(IM(this),this.start()))}},$t.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$t.M=function(){rE.Z.M.call(this),IM(this),delete this.g};class t$ extends lh{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:LL(this)}M(){super.M(),this.g&&(Dn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ab(n){lh.call(this),this.h=n,this.g={}}es(ab,lh);var NL=[];function VL(n,t,e,i){Array.isArray(e)||(e&&(NL[0]=e.toString()),e=NL);for(var r=0;r<e.length;r++){var o=IL(t,e[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function BL(n){uM(n.g,function(t,e){this.g.hasOwnProperty(e)&&wM(t)},n),n.g={}}function sE(){this.g=!0}function Ng(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function s$(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var u=1;u<r.length;u++)r[u]=""}}}return AM(e)}catch{return t}}(n,e)+(i?" "+i:"")})}ab.prototype.M=function(){ab.Z.M.call(this),BL(this)},ab.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},sE.prototype.Aa=function(){this.g=!1},sE.prototype.info=function(){};var ip={},UL=null;function oE(){return UL=UL||new Pr}function HL(n){ms.call(this,ip.Ma,n)}function lb(n){const t=oE();ts(t,new HL(t,n))}function jL(n,t){ms.call(this,ip.STAT_EVENT,n),this.stat=t}function Bs(n){const t=oE();ts(t,new jL(t,n))}function GL(n,t){ms.call(this,ip.Na,n),this.size=t}function cb(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Dn.setTimeout(function(){n()},t)}ip.Ma="serverreachability",es(HL,ms),ip.STAT_EVENT="statevent",es(jL,ms),ip.Na="timingevent",es(GL,ms);var aE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},zL={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function kM(){}function WL(){}kM.prototype.h=null;var OM,ub={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function PM(){ms.call(this,"d")}function RM(){ms.call(this,"c")}function lE(){}function db(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new ab(this),this.P=o$,this.W=new rE(n=hM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new qL}function qL(){this.i=null,this.g="",this.h=!1}es(PM,ms),es(RM,ms),es(lE,kM),lE.prototype.g=function(){return new XMLHttpRequest},lE.prototype.i=function(){return{}},OM=new lE;var o$=45e3,FM={},cE={};function LM(n,t,e){n.K=1,n.v=pE(Zu(t)),n.s=e,n.U=!0,YL(n,null)}function YL(n,t){n.F=Date.now(),hb(n),n.A=Zu(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),iN(e.h,"t",i),n.C=0,e=n.l.H,n.h=new qL,n.g=SN(n.l,e?t:null,!n.s),0<n.O&&(n.L=new t$(Jr(n.Ia,n,n.g),n.O)),VL(n.V,n.g,"readystatechange",n.gb),t=n.H?CL(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),lb(1),function n$(n,t,e,i,r,o){n.info(function(){if(n.g)if(o)for(var u="",h=o.split("&"),_=0;_<h.length;_++){var w=h[_].split("=");if(1<w.length){var I=w[0];w=w[1];var H=I.split("_");u=2<=H.length&&"type"==H[1]?u+(I+"=")+w+"&":u+(I+"=redacted&")}}else u=null;else u=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function ZL(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function KL(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=a$(n,e),r==cE){4==t&&(n.o=4,Bs(14),i=!1),Ng(n.j,n.m,null,"[Incomplete Response]");break}if(r==FM){n.o=4,Bs(15),Ng(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Ng(n.j,n.m,r,null),NM(n,r)}ZL(n)&&r!=cE&&r!=FM&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Bs(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),YM(t),t.L=!0,Bs(11))):(Ng(n.j,n.m,e,"[Invalid Chunked Response]"),rp(n),fb(n))}function a$(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?cE:(e=Number(t.substring(e,i)),isNaN(e)?FM:(i+=1)+e>t.length?cE:(t=t.substr(i,e),n.C=i+e,t))}function hb(n){n.Y=Date.now()+n.P,QL(n,n.P)}function QL(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=cb(Jr(n.eb,n),t)}function uE(n){n.B&&(Dn.clearTimeout(n.B),n.B=null)}function fb(n){0==n.l.G||n.I||CN(n.l,n)}function rp(n){uE(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,IM(n.W),BL(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function NM(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||UM(e.i,n)))if(e.I=n.N,!n.J&&UM(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;bE(e),yE(e)}qM(e),Bs(18)}}else e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=cb(Jr(e.ab,e),6e3));if(1>=oN(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else ap(e,11)}else if((n.J||e.g==n)&&bE(e),!JD(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let w=r[t];if(e.U=w[0],w=w[1],2==e.G)if("c"==w[0]){e.J=w[1],e.la=w[2];const I=w[3];null!=I&&(e.ma=I,e.h.info("VER="+e.ma));const H=w[4];null!=H&&(e.za=H,e.h.info("SVER="+e.za));const De=w[5];null!=De&&"number"==typeof De&&0<De&&(e.K=i=1.5*De,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const Me=n.g;if(Me){const Le=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Le){var o=i.i;!o.g&&(Ns(Le,"spdy")||Ns(Le,"quic")||Ns(Le,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(HM(o,o.h),o.h=null))}if(i.D){const $e=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;$e&&(i.sa=$e,Mi(i.F,i.D,$e))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=AN(i,i.H?i.la:null,i.W),u.J){aN(i.i,u);var h=u,_=i.K;_&&h.setTimeout(_),h.B&&(uE(h),hb(h)),i.g=u}else bN(i);0<e.l.length&&vE(e)}else"stop"!=w[0]&&"close"!=w[0]||ap(e,7);else 3==e.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?ap(e,7):$M(e):"noop"!=w[0]&&e.j&&e.j.wa(w),e.A=0)}lb(4)}catch{}}function VM(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(oM(n)||"string"==typeof n)_L(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(oM(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function l$(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(oM(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var o=0;o<r;o++)t.call(void 0,i[o],e&&e[o],n)}}function Vg(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Vg)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function BM(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];sp(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)sp(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function sp(n,t){return Object.prototype.hasOwnProperty.call(n,t)}($t=db.prototype).setTimeout=function(n){this.P=n},$t.gb=function(n){n=n.target;const t=this.L;t&&3==Ku(n)?t.l():this.Ia(n)},$t.Ia=function(n){try{if(n==this.g)e:{const I=Ku(this.g);var t=this.g.Da();const H=this.g.ba();if(!(3>I)&&(3!=I||hM||this.g&&(this.h.h||this.g.ga()||mN(this.g)))){this.I||4!=I||7==t||lb(8==t||0>=H?3:2),uE(this);var e=this.g.ba();this.N=e;t:if(ZL(this)){var i=mN(this.g);n="";var r=i.length,o=4==Ku(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){rp(this),fb(this);var u="";break t}this.h.i=new Dn.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:o&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function i$(n,t,e,i,r,o,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+o+" "+u})}(this.j,this.u,this.A,this.m,this.X,I,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!JD(h)){var w=h;break t}}w=null}if(!(e=w)){this.i=!1,this.o=3,Bs(12),rp(this),fb(this);break e}Ng(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,NM(this,e)}this.U?(KL(this,I,u),hM&&this.i&&3==I&&(VL(this.V,this.W,"tick",this.fb),this.W.start())):(Ng(this.j,this.m,u,null),NM(this,u)),4==I&&rp(this),this.i&&!this.I&&(4==I?CN(this.l,this):(this.i=!1,hb(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Bs(12)):(this.o=0,Bs(13)),rp(this),fb(this)}}}catch{}},$t.fb=function(){if(this.g){var n=Ku(this.g),t=this.g.ga();this.C<t.length&&(uE(this),KL(this,n,t),this.i&&4!=n&&hb(this))}},$t.cancel=function(){this.I=!0,rp(this)},$t.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function r$(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(lb(3),Bs(17)),rp(this),this.o=2,fb(this)):QL(this,this.Y-n)},($t=Vg.prototype).R=function(){BM(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},$t.T=function(){return BM(this),this.g.concat()},$t.get=function(n,t){return sp(this.h,n)?this.h[n]:t},$t.set=function(n,t){sp(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},$t.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],o=this.get(r);n.call(t,o,r,this)}};var XL=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function op(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof op){this.g=void 0!==t?t:n.g,dE(this,n.j),this.s=n.s,hE(this,n.i),fE(this,n.m),this.l=n.l,t=n.h;var e=new gb;e.i=t.i,t.g&&(e.g=new Vg(t.g),e.h=t.h),JL(this,e),this.o=n.o}else n&&(e=String(n).match(XL))?(this.g=!!t,dE(this,e[1]||"",!0),this.s=pb(e[2]||""),hE(this,e[3]||"",!0),fE(this,e[4]),this.l=pb(e[5]||"",!0),JL(this,e[6]||"",!0),this.o=pb(e[7]||"")):(this.g=!!t,this.h=new gb(null,this.g))}function Zu(n){return new op(n)}function dE(n,t,e){n.j=e?pb(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function hE(n,t,e){n.i=e?pb(t,!0):t}function fE(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function JL(n,t,e){t instanceof gb?(n.h=t,function _$(n,t){t&&!n.j&&(ch(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(tN(this,i),iN(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=mb(t,m$)),n.h=new gb(t,n.g))}function Mi(n,t,e){n.h.set(t,e)}function pE(n){return Mi(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function pb(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function mb(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,h$),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function h$(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}op.prototype.toString=function(){var n=[],t=this.j;t&&n.push(mb(t,eN,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(mb(t,eN,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(mb(e,"/"==e.charAt(0)?p$:f$,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",mb(e,g$)),n.join("")};var eN=/[#\/\?@]/g,f$=/[#\?:]/g,p$=/[#\?]/g,m$=/[#\?@]/g,g$=/#/g;function gb(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function ch(n){n.g||(n.g=new Vg,n.h=0,n.i&&function c$(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var o=n[e].substring(0,i);r=n[e].substring(i+1)}else o=n[e];t(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function tN(n,t){ch(n),t=Bg(n,t),sp(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,sp((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&BM(n)))}function nN(n,t){return ch(n),t=Bg(n,t),sp(n.g.h,t)}function iN(n,t,e){tN(n,t),0<e.length&&(n.i=null,n.g.set(Bg(n,t),lM(e)),n.h+=e.length)}function Bg(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function rN(n){this.l=n||v$,n=Dn.PerformanceNavigationTiming?0<(n=Dn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Dn.g&&Dn.g.Ea&&Dn.g.Ea()&&Dn.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($t=gb.prototype).add=function(n,t){ch(this),this.i=null,n=Bg(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},$t.forEach=function(n,t){ch(this),this.g.forEach(function(e,i){_L(e,function(r){n.call(t,r,i,this)},this)},this)},$t.T=function(){ch(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],o=0;o<r.length;o++)e.push(t[i]);return e},$t.R=function(n){ch(this);var t=[];if("string"==typeof n)nN(this,n)&&(t=yL(t,this.g.get(Bg(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=yL(t,n[e])}return t},$t.set=function(n,t){return ch(this),this.i=null,nN(this,n=Bg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},$t.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},$t.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var o=0;o<i.length;o++){var u=r;""!==i[o]&&(u+="="+encodeURIComponent(String(i[o]))),n.push(u)}}return this.i=n.join("&")};var v$=10;function sN(n){return!!n.h||!!n.g&&n.g.size>=n.j}function oN(n){return n.h?1:n.g?n.g.size:0}function UM(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function HM(n,t){n.g?n.g.add(t):n.h=t}function aN(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function lN(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return lM(n.i)}function jM(){}function b$(){this.g=new jM}function w$(n,t,e){const i=e||"";try{VM(n,function(r,o){let u=r;rb(r)&&(u=AM(r)),t.push(i+o+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function mE(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function _b(n){this.l=n.$b||null,this.j=n.ib||!1}function gE(n,t){Pr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=GM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}rN.prototype.cancel=function(){if(this.i=lN(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},jM.prototype.stringify=function(n){return Dn.JSON.stringify(n,void 0)},jM.prototype.parse=function(n){return Dn.JSON.parse(n,void 0)},es(_b,kM),_b.prototype.g=function(){return new gE(this.l,this.j)},_b.prototype.i=function(n){return function(){return n}}({}),es(gE,Pr);var GM=0;function cN(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function yb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,vb(n)}function vb(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($t=gE.prototype).open=function(n,t){if(this.readyState!=GM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,vb(this)},$t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||Dn).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},$t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,yb(this)),this.readyState=GM},$t.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,vb(this)),this.g&&(this.readyState=3,vb(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof Dn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;cN(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},$t.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?yb(this):vb(this),3==this.readyState&&cN(this)}},$t.Ua=function(n){this.g&&(this.response=this.responseText=n,yb(this))},$t.Ta=function(n){this.g&&(this.response=n,yb(this))},$t.ha=function(){this.g&&yb(this)},$t.setRequestHeader=function(n,t){this.v.append(n,t)},$t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(gE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var D$=Dn.JSON.parse;function dr(n){Pr.call(this),this.headers=new Vg,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=uN,this.K=this.L=!1}es(dr,Pr);var uN="",E$=/^https?$/i,A$=["POST","PUT"];function T$(n){return"content-type"==n.toLowerCase()}function dN(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,hN(n),_E(n)}function hN(n){n.D||(n.D=!0,ts(n,"complete"),ts(n,"error"))}function fN(n){if(n.h&&typeof sM<"u"&&(!n.C[1]||4!=Ku(n)||2!=n.ba()))if(n.v&&4==Ku(n))MM(n.Fa,0,n);else if(ts(n,"readystatechange"),4==Ku(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(XL)[1]||null;if(!r&&Dn.self&&Dn.self.location){var o=Dn.self.location.protocol;r=o.substr(0,o.length-1)}i=!E$.test(r?r.toLowerCase():"")}e=i}if(e)ts(n,"complete"),ts(n,"success");else{n.m=6;try{var u=2<Ku(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.ba()+"]",hN(n)}}finally{_E(n)}}}function _E(n,t){if(n.g){pN(n);const e=n.g,i=n.C[0]?QD:null;n.g=null,n.C=null,t||ts(n,"ready");try{e.onreadystatechange=i}catch{}}}function pN(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Dn.clearTimeout(n.A),n.A=null)}function Ku(n){return n.g?n.g.readyState:0}function mN(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case uN:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function zM(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function x$(n){let t="";return uM(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):Mi(n,t,e))}function bb(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function gN(n){this.za=0,this.l=[],this.h=new sE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=bb("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=bb("baseRetryDelayMs",5e3,n),this.$a=bb("retryDelaySeedMs",1e4,n),this.Ya=bb("forwardChannelMaxRetries",2,n),this.ra=bb("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new rN(n&&n.concurrentRequestLimit),this.Ca=new b$,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function $M(n){if(_N(n),3==n.G){var t=n.V++,e=Zu(n.F);Mi(e,"SID",n.J),Mi(e,"RID",t),Mi(e,"TYPE","terminate"),wb(n,e),(t=new db(n,n.h,t,void 0)).K=2,t.v=pE(Zu(e)),e=!1,Dn.navigator&&Dn.navigator.sendBeacon&&(e=Dn.navigator.sendBeacon(t.v.toString(),"")),!e&&Dn.Image&&((new Image).src=t.v,e=!0),e||(t.g=SN(t.l,null),t.g.ea(t.v)),t.F=Date.now(),hb(t)}EN(n)}function yE(n){n.g&&(YM(n),n.g.cancel(),n.g=null)}function _N(n){yE(n),n.u&&(Dn.clearTimeout(n.u),n.u=null),bE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Dn.clearTimeout(n.m),n.m=null)}function WM(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&vE(n)}function vE(n){sN(n.i)||n.m||(n.m=!0,SM(n.Ha,n),n.C=0)}function yN(n,t){var e;e=t?t.m:n.V++;const i=Zu(n.F);Mi(i,"SID",n.J),Mi(i,"RID",e),Mi(i,"AID",n.U),wb(n,i),n.o&&n.s&&zM(i,n.o,n.s),e=new db(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=vN(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),HM(n.i,e),LM(e,i,t)}function wb(n,t){n.j&&VM({},function(e,i){Mi(t,i,e)})}function vN(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Jr(n.j.Oa,n.j,n):null;e:{var r=n.l;let o=-1;for(;;){const u=["count="+e];-1==o?0<e?(o=r[0].h,u.push("ofs="+o)):o=0:u.push("ofs="+o);let h=!0;for(let _=0;_<e;_++){let w=r[_].h;const I=r[_].g;if(w-=o,0>w)o=Math.max(0,r[_].h-100),h=!1;else try{w$(I,u,"req"+w+"_")}catch{i&&i(I)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function bN(n){n.g||n.u||(n.Y=1,SM(n.Ga,n),n.A=0)}function qM(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=cb(Jr(n.Ga,n),DN(n,n.A)),n.A++,0))}function YM(n){null!=n.B&&(Dn.clearTimeout(n.B),n.B=null)}function wN(n){n.g=new db(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Zu(n.oa);Mi(t,"RID","rpc"),Mi(t,"SID",n.J),Mi(t,"CI",n.N?"0":"1"),Mi(t,"AID",n.U),wb(n,t),Mi(t,"TYPE","xmlhttp"),n.o&&n.s&&zM(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=pE(Zu(t)),e.s=null,e.U=!0,YL(e,n)}function bE(n){null!=n.v&&(Dn.clearTimeout(n.v),n.v=null)}function CN(n,t){var e=null;if(n.g==t){bE(n),YM(n),n.g=null;var i=2}else{if(!UM(n.i,t))return;e=t.D,aN(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;ts(i=oE(),new GL(i,e,t,r)),vE(n)}else bN(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function I$(n,t){return!(oN(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=cb(Jr(n.Ha,n,t),DN(n,n.C)),n.C++,0)))}(n,t)||2==i&&qM(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:ap(n,5);break;case 4:ap(n,10);break;case 3:ap(n,6);break;default:ap(n,2)}}function DN(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function ap(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Jr(n.jb,n);e||(e=new op("//www.google.com/images/cleardot.gif"),Dn.location&&"http"==Dn.location.protocol||dE(e,"https"),pE(e)),function C$(n,t){const e=new sE;if(Dn.Image){const i=new Image;i.onload=XD(mE,e,i,"TestLoadImage: loaded",!0,t),i.onerror=XD(mE,e,i,"TestLoadImage: error",!1,t),i.onabort=XD(mE,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=XD(mE,e,i,"TestLoadImage: timeout",!1,t),Dn.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Bs(2);n.G=0,n.j&&n.j.va(t),EN(n),_N(n)}function EN(n){n.G=0,n.I=-1,n.j&&((0!=lN(n.i).length||0!=n.l.length)&&(n.i.i.length=0,lM(n.l),n.l.length=0),n.j.ua())}function AN(n,t,e){let i=function u$(n){return n instanceof op?Zu(n):new op(n,void 0)}(e);if(""!=i.i)t&&hE(i,t+"."+i.i),fE(i,i.m);else{const r=Dn.location;i=function d$(n,t,e,i){var r=new op(null,void 0);return n&&dE(r,n),t&&hE(r,t),e&&fE(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&uM(n.aa,function(r,o){Mi(i,o,r)}),e=n.sa,(t=n.D)&&e&&Mi(i,t,e),Mi(i,"VER",n.ma),wb(n,i),i}function SN(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new dr(e&&n.Ba&&!n.qa?new _b({ib:!0}):n.qa)).L=n.H,t}function TN(){}function wE(){if(Lg&&!(10<=Number(jz)))throw Error("Environmental error: no available transport.")}function Zo(n,t){Pr.call(this),this.g=new gN(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!JD(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!JD(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Ug(this)}function xN(n){PM.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function IN(){RM.call(this),this.status=1}function Ug(n){this.g=n}($t=dr.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():OM.g(),this.C=function $L(n){return n.h||(n.h=n.i())}(this.u?this.u:OM),this.g.onreadystatechange=Jr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(o){return void dN(this,o)}n=e||"";const r=new Vg(this.headers);i&&VM(i,function(o,u){r.set(u,o)}),i=function Lz(n){e:{var t=T$;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=Dn.FormData&&n instanceof Dn.FormData,!(0<=gL(A$,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(o,u){this.g.setRequestHeader(u,o)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{pN(this),0<this.B&&((this.K=function S$(n){return Lg&&function Hz(){return function Nz(n){var t=Uz;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=vL(String(eE)).split("."),e=vL("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",o=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==r[0].length&&0==o[0].length)break;n=cM(0==r[1].length?0:parseInt(r[1],10),0==o[1].length?0:parseInt(o[1],10))||cM(0==r[2].length,0==o[2].length)||cM(r[2],o[2]),r=r[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.pa,this)):this.A=MM(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){dN(this,o)}},$t.pa=function(){typeof sM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ts(this,"timeout"),this.abort(8))},$t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ts(this,"complete"),ts(this,"abort"),_E(this))},$t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),_E(this,!0)),dr.Z.M.call(this)},$t.Fa=function(){this.s||(this.F||this.v||this.l?fN(this):this.cb())},$t.cb=function(){fN(this)},$t.ba=function(){try{return 2<Ku(this)?this.g.status:-1}catch{return-1}},$t.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},$t.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),D$(t)}},$t.Da=function(){return this.m},$t.La=function(){return"string"==typeof this.j?this.j:String(this.j)},($t=gN.prototype).ma=8,$t.G=1,$t.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},$t.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new db(this,this.h,n,void 0);let o=this.s;if(this.P&&(o?(o=CL(o),EL(o,this.P)):o=this.P),null===this.o&&(r.H=o),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=vN(this,r,t),Mi(e=Zu(this.F),"RID",n),Mi(e,"CVER",22),this.D&&Mi(e,"X-HTTP-Session-Id",this.D),wb(this,e),this.o&&o&&zM(e,this.o,o),HM(this.i,r),this.Ra&&Mi(e,"TYPE","init"),this.ja?(Mi(e,"$req",t),Mi(e,"SID","null"),r.$=!0,LM(r,e,null)):LM(r,e,t),this.G=2}}else 3==this.G&&(n?yN(this,n):0==this.l.length||sN(this.i)||yN(this))},$t.Ga=function(){if(this.u=null,wN(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=cb(Jr(this.bb,this),n)}},$t.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Bs(10),yE(this),wN(this))},$t.ab=function(){null!=this.v&&(this.v=null,yE(this),qM(this),Bs(19))},$t.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Bs(2)):(this.h.info("Failed to ping google.com"),Bs(1))},($t=TN.prototype).xa=function(){},$t.wa=function(){},$t.va=function(){},$t.ua=function(){},$t.Oa=function(){},wE.prototype.g=function(n,t){return new Zo(n,t)},es(Zo,Pr),Zo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),SM(Jr(n.hb,n,t))),Bs(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=AN(n,null,n.W),vE(n)},Zo.prototype.close=function(){$M(this.g)},Zo.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,WM(this.g,t)}else this.v?((t={}).__data__=AM(n),WM(this.g,t)):WM(this.g,n)},Zo.prototype.M=function(){this.g.j=null,delete this.j,$M(this.g),delete this.g,Zo.Z.M.call(this)},es(xN,PM),es(IN,RM),es(Ug,TN),Ug.prototype.xa=function(){ts(this.g,"a")},Ug.prototype.wa=function(n){ts(this.g,new xN(n))},Ug.prototype.va=function(n){ts(this.g,new IN(n))},Ug.prototype.ua=function(){ts(this.g,"b")},wE.prototype.createWebChannel=wE.prototype.g,Zo.prototype.send=Zo.prototype.u,Zo.prototype.open=Zo.prototype.m,Zo.prototype.close=Zo.prototype.close,aE.NO_ERROR=0,aE.TIMEOUT=8,aE.HTTP_ERROR=6,zL.COMPLETE="complete",WL.EventType=ub,ub.OPEN="a",ub.CLOSE="b",ub.ERROR="c",ub.MESSAGE="d",Pr.prototype.listen=Pr.prototype.N,dr.prototype.listenOnce=dr.prototype.O,dr.prototype.getLastError=dr.prototype.La,dr.prototype.getLastErrorCode=dr.prototype.Da,dr.prototype.getStatus=dr.prototype.ba,dr.prototype.getResponseJson=dr.prototype.Qa,dr.prototype.getResponseText=dr.prototype.ga,dr.prototype.send=dr.prototype.ea;var M$=Yu.createWebChannelTransport=function(){return new wE},k$=Yu.getStatEventTarget=function(){return oE()},ZM=Yu.ErrorCode=aE,P$=Yu.EventType=zL,R$=Yu.Event=ip,MN=Yu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},O$=Yu.FetchXmlHttpFactory=_b,CE=Yu.WebChannel=WL,F$=Yu.XhrIo=dr;const kN="@firebase/firestore";class Rr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");let Hg="9.9.2";const uh=new ah.Yd("@firebase/firestore");function KM(){return uh.logLevel}function St(n,...t){if(uh.logLevel<=ah.in.DEBUG){const e=t.map(QM);uh.debug(`Firestore (${Hg}): ${n}`,...e)}}function ir(n,...t){if(uh.logLevel<=ah.in.ERROR){const e=t.map(QM);uh.error(`Firestore (${Hg}): ${n}`,...e)}}function lp(n,...t){if(uh.logLevel<=ah.in.WARN){const e=t.map(QM);uh.warn(`Firestore (${Hg}): ${n}`,...e)}}function QM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function qt(n="Unexpected state"){const t=`FIRESTORE (${Hg}) INTERNAL ASSERTION FAILED: `+n;throw ir(t),new Error(t)}function yn(n,t){n||qt()}function Bt(n,t){return n}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends In.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class PN{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class V${getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Rr.UNAUTHENTICATED))}shutdown(){}}class B${constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class U${constructor(t){this.t=t,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const o=w=>this.i!==r?(r=this.i,e(w)):Promise.resolve();let u=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Or,t.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const w=u;t.enqueueRetryable((0,ut.Z)(function*(){yield w.promise,yield o(i.currentUser)}))},_=w=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Or)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(yn("string"==typeof i.accessToken),new PN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return yn(null===t||"string"==typeof t),new Rr(t)}}class H${constructor(t,e,i){this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class j${constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new H$(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class G${constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=o=>{null!=o.error&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.p;return this.p=o.token,St("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable(()=>i(o))};const r=o=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.g.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.g.getImmediate({optional:!0});o?r(o):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(yn("string"==typeof e.token),this.p=e.token,new RN(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function z$(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class ON{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=z$(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%t.length))}return i}}function En(n,t){return n<t?-1:n>t?1:0}function jg(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function FN(n){return n+"\0"}class ki{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ct(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ki.fromMillis(Date.now())}static fromDate(t){return ki.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new ki(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?En(this.nanoseconds,t.nanoseconds):En(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class pn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new pn(t)}static min(){return new pn(new ki(0,0))}static max(){return new pn(new ki(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Cb{constructor(t,e,i){void 0===e?e=0:e>t.length&&qt(),void 0===i?i=t.length-e:i>t.length-e&&qt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===Cb.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Cb?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=t.get(r),u=e.get(r);if(o<u)return-1;if(o>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Bn extends Cb{construct(t,e,i){return new Bn(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ct(ot.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Bn(e)}static emptyPath(){return new Bn([])}}const $$=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zi extends Cb{construct(t,e,i){return new Zi(t,e,i)}static isValidIdentifier(t){return $$.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Zi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(0===i.length)throw new Ct(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Ct(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ct(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(o(),r++)}if(o(),u)throw new Ct(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Zi(e)}static emptyPath(){return new Zi([])}}class Lt{constructor(t){this.path=t}static fromPath(t){return new Lt(Bn.fromString(t))}static fromName(t){return new Lt(Bn.fromString(t).popFirst(5))}static empty(){return new Lt(Bn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Bn.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Bn.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Lt(new Bn(t.slice()))}}class DE{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function XM(n){return n.fields.find(t=>2===t.kind)}function cp(n){return n.fields.filter(t=>2!==t.kind)}DE.UNKNOWN_ID=-1;class EE{constructor(t,e){this.fieldPath=t,this.kind=e}}class Db{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new Db(0,Ko.min())}}function LN(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=pn.fromTimestamp(1e9===i?new ki(e+1,0):new ki(e,i));return new Ko(r,Lt.empty(),t)}function NN(n){return new Ko(n.readTime,n.key,-1)}class Ko{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Ko(pn.min(),Lt.empty(),-1)}static max(){return new Ko(pn.max(),Lt.empty(),-1)}}function JM(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Lt.comparator(n.documentKey,t.documentKey),0!==e?e:En(n.largestBatchId,t.largestBatchId))}const VN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class BN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function dh(n){return ek.apply(this,arguments)}function ek(){return ek=(0,ut.Z)(function*(n){if(n.code!==ot.FAILED_PRECONDITION||n.message!==VN)throw n;St("LocalStore","Unexpectedly lost primary lease")}),ek.apply(this,arguments)}class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):et.reject(e)}static resolve(t){return new et((e,i)=>{e(t)})}static reject(t){return new et((e,i)=>{i(t)})}static waitFor(t){return new et((e,i)=>{let r=0,o=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++o,u&&o===r&&e()},_=>i(_))}),u=!0,o===r&&e()})}static or(t){let e=et.resolve(!1);for(const i of t)e=e.next(r=>r?et.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,o)=>{i.push(e.call(this,r,o))}),this.waitFor(i)}static mapArray(t,e){return new et((i,r)=>{const o=t.length,u=new Array(o);let h=0;for(let _=0;_<o;_++){const w=_;e(t[w]).next(I=>{u[w]=I,++h,h===o&&i(u)},I=>r(I))}})}static doWhile(t,e){return new et((i,r)=>{const o=()=>{!0===t()?e().next(()=>{o()},r):i()};o()})}}class AE{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new Or,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new Eb(t,e.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=tk(i.target.error);this.T.reject(new Eb(t,r))}}static open(t,e,i,r){try{return new AE(e,t.transaction(r,i))}catch(o){throw new Eb(e,o)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(St("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Z$(e)}}class Ll{constructor(t,e,i){this.name=t,this.version=e,this.P=i,12.2===Ll.v((0,In.z$)())&&ir("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return St("SimpleDb","Removing database:",t),up(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,In.hl)())return!1;if(Ll.S())return!0;const t=(0,In.z$)(),e=Ll.v(t),i=0<e&&e<10,r=Ll.D(t),o=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||o)}static S(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(t){var e=this;return(0,ut.Z)(function*(){return e.db||(St("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const o=indexedDB.open(e.name,e.version);o.onsuccess=u=>{i(u.target.result)},o.onblocked=()=>{r(new Eb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Ct(ot.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ct(ot.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Eb(t,h))},o.onupgradeneeded=u=>{St("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.P.M(u.target.result,o.transaction,u.oldVersion,e.version).next(()=>{St("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.O&&(e.db.onversionchange=i=>e.O(i)),e.db})()}F(t){this.O=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var o=this;return(0,ut.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{o.db=yield o.k(t);const _=AE.open(o.db,t,u?"readonly":"readwrite",i),w=r(_).next(I=>(_.R(),I)).catch(I=>(_.abort(I),et.reject(I))).toPromise();return w.catch(()=>{}),yield _.A,w}catch(_){const w=_,I="FirebaseError"!==w.name&&h<3;if(St("SimpleDb","Transaction failed with error:",w.message,"Retrying:",I),o.close(),!I)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Y${constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return up(this.$.delete())}}class Eb extends Ct{constructor(t,e){super(ot.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function hh(n){return"IndexedDbTransactionError"===n.name}class Z${constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(St("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(St("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),up(i)}add(t){return St("SimpleDb","ADD",this.store.name,t,t),up(this.store.add(t))}get(t){return up(this.store.get(t)).next(e=>(void 0===e&&(e=null),St("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return St("SimpleDb","DELETE",this.store.name,t),up(this.store.delete(t))}count(){return St("SimpleDb","COUNT",this.store.name),up(this.store.count())}K(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),o=[];return this.G(r,(u,h)=>{o.push(h)}).next(()=>o)}{const r=this.store.getAll(i.range);return new et((o,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{o(h.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new et((r,o)=>{i.onerror=u=>{o(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}W(t,e){St("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.G(r,(o,u,h)=>h.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Y(t){const e=this.cursor({});return new et((i,r)=>{e.onerror=o=>{const u=tk(o.target.error);r(u)},e.onsuccess=o=>{const u=o.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}G(t,e){const i=[];return new et((r,o)=>{t.onerror=u=>{o(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const _=new Y$(h),w=e(h.primaryKey,h.value,_);if(w instanceof et){const I=w.catch(H=>(_.done(),et.reject(H)));i.push(I)}_.isDone?r():null===_.U?h.continue():h.continue(_.U)}}).next(()=>et.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function up(n){return new et((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=tk(i.target.error);e(r)}})}let UN=!1;function tk(n){const t=Ll.v((0,In.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return UN||(UN=!0,setTimeout(()=>{throw i},0)),i}}return n}class K${constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;St("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ut.Z)(function*(){e.task=null;try{St("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(i){hh(i)?St("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield dh(i)}yield e.Z(1)}))}}class Q${constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,ut.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.et(i,t))})()}et(t,e){const i=new Set;let r=e,o=!0;return et.doWhile(()=>!0===o&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return St("IndexBackiller",`Processing collection: ${u}`),this.nt(t,u,r).next(h=>{r-=h,i.add(u)});o=!1})).next(()=>e-r)}nt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(o=>{const u=o.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.st(r,o)).next(h=>(St("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}st(t,e){let i=t;return e.changes.forEach((r,o)=>{const u=NN(o);JM(u,i)>0&&(i=u)}),new Ko(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class ho{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.it(i),this.rt=i=>e.writeSequenceNumber(i))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function HN(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function dp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function jN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}ho.ot=-1;class Ki{constructor(t,e){this.comparator=t,this.root=e||ns.EMPTY}insert(t,e){return new Ki(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ns.BLACK,null,null))}remove(t){return new Ki(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ns.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new SE(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new SE(this.root,t,this.comparator,!1)}getReverseIterator(){return new SE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new SE(this.root,t,this.comparator,!0)}}class SE{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(0===o){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ns{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??ns.RED,this.left=r??ns.EMPTY,this.right=o??ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new ns(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===o?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ns.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ns.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const t=this.left.check();if(t!==this.right.check())throw qt();return t+(this.isRed()?0:1)}}ns.EMPTY=null,ns.RED=!0,ns.BLACK=!1,ns.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new ns(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class di{constructor(t){this.comparator=t,this.data=new Ki(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new GN(this.data.getIterator())}getIteratorFrom(t){return new GN(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof di)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new di(this.comparator);return e.data=t,e}}class GN{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Gg(n){return n.hasNext()?n.getNext():void 0}class Qo{constructor(t){this.fields=t,t.sort(Zi.comparator)}static empty(){return new Qo([])}unionWith(t){let e=new di(Zi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Qo(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return jg(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class vr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new vr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let o=0;o<i.length;++o)r+=String.fromCharCode(i[o]);return r}(t);return new vr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return En(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}vr.EMPTY_BYTE_STRING=new vr("");const J$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fh(n){if(yn(!!n),"string"==typeof n){let t=0;const e=J$.exec(n);if(yn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Qi(n.seconds),nanos:Qi(n.nanos)}}function Qi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function hp(n){return"string"==typeof n?vr.fromBase64String(n):vr.fromUint8Array(n)}function nk(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function zN(n){const t=n.mapValue.fields.__previous_value__;return nk(t)?zN(t):t}function Ab(n){const t=fh(n.mapValue.fields.__local_write_time__.timestampValue);return new ki(t.seconds,t.nanos)}class e6{constructor(t,e,i,r,o,u,h,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class Qu{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Qu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Qu&&t.projectId===this.projectId&&t.database===this.database}}function Sb(n){return null==n}function Tb(n){return 0===n&&1/n==-1/0}function $N(n){return"number"==typeof n&&Number.isInteger(n)&&!Tb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const ph={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},TE={nullValue:"NULL_VALUE"};function fp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nk(n)?4:ZN(n)?9007199254740991:10:qt()}function Vc(n,t){if(n===t)return!0;const e=fp(n);if(e!==fp(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ab(n).isEqual(Ab(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const o=fh(i.timestampValue),u=fh(r.timestampValue);return o.seconds===u.seconds&&o.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,hp(n.bytesValue).isEqual(hp(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Qi(i.geoPointValue.latitude)===Qi(r.geoPointValue.latitude)&&Qi(i.geoPointValue.longitude)===Qi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Qi(i.integerValue)===Qi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const o=Qi(i.doubleValue),u=Qi(r.doubleValue);return o===u?Tb(o)===Tb(u):isNaN(o)&&isNaN(u)}return!1}(n,t);case 9:return jg(n.arrayValue.values||[],t.arrayValue.values||[],Vc);case 10:return function(i,r){const o=i.mapValue.fields||{},u=r.mapValue.fields||{};if(HN(o)!==HN(u))return!1;for(const h in o)if(o.hasOwnProperty(h)&&(void 0===u[h]||!Vc(o[h],u[h])))return!1;return!0}(n,t);default:return qt()}var r}function xb(n,t){return void 0!==(n.values||[]).find(e=>Vc(e,t))}function mh(n,t){if(n===t)return 0;const e=fp(n),i=fp(t);if(e!==i)return En(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return En(n.booleanValue,t.booleanValue);case 2:return function(r,o){const u=Qi(r.integerValue||r.doubleValue),h=Qi(o.integerValue||o.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return WN(n.timestampValue,t.timestampValue);case 4:return WN(Ab(n),Ab(t));case 5:return En(n.stringValue,t.stringValue);case 6:return function(r,o){const u=hp(r),h=hp(o);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,o){const u=r.split("/"),h=o.split("/");for(let _=0;_<u.length&&_<h.length;_++){const w=En(u[_],h[_]);if(0!==w)return w}return En(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,o){const u=En(Qi(r.latitude),Qi(o.latitude));return 0!==u?u:En(Qi(r.longitude),Qi(o.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,o){const u=r.values||[],h=o.values||[];for(let _=0;_<u.length&&_<h.length;++_){const w=mh(u[_],h[_]);if(w)return w}return En(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,o){if(r===ph.mapValue&&o===ph.mapValue)return 0;if(r===ph.mapValue)return 1;if(o===ph.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),_=o.fields||{},w=Object.keys(_);h.sort(),w.sort();for(let I=0;I<h.length&&I<w.length;++I){const H=En(h[I],w[I]);if(0!==H)return H;const De=mh(u[h[I]],_[w[I]]);if(0!==De)return De}return En(h.length,w.length)}(n.mapValue,t.mapValue);default:throw qt()}}function WN(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return En(n,t);const e=fh(n),i=fh(t),r=En(e.seconds,i.seconds);return 0!==r?r:En(e.nanos,i.nanos)}function zg(n){return ik(n)}function ik(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=fh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?hp(n.bytesValue).toBase64():"referenceValue"in n?Lt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",o=!0;for(const u of i.values||[])o?o=!1:r+=",",r+=ik(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let o="{",u=!0;for(const h of r)u?u=!1:o+=",",o+=`${h}:${ik(i.fields[h])}`;return o+"}"}(n.mapValue):qt();var t}function pp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function rk(n){return!!n&&"integerValue"in n}function Ib(n){return!!n&&"arrayValue"in n}function qN(n){return!!n&&"nullValue"in n}function YN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xE(n){return!!n&&"mapValue"in n}function Mb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return dp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=Mb(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Mb(n.arrayValue.values[e]);return t}return Object.assign({},n)}function ZN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function t6(n){return"nullValue"in n?TE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?pp(Qu.empty(),Lt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:qt()}function n6(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?pp(Qu.empty(),Lt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?ph:qt()}function KN(n,t){const e=mh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function QN(n,t){const e=mh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class is{constructor(t){this.value=t}static empty(){return new is({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!xE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Mb(e)}setAll(t){let e=Zi.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=Mb(u):r.push(h.lastSegment())});const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());xE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Vc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];xE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){dp(e,(r,o)=>t[r]=o);for(const r of i)delete t[r]}clone(){return new is(Mb(this.value))}}function XN(n){const t=[];return dp(n.fields,(e,i)=>{const r=new Zi([e]);if(xE(i)){const o=XN(i.mapValue).fields;if(0===o.length)t.push(r);else for(const u of o)t.push(r.child(u))}else t.push(r)}),new Qo(t)}class yi{constructor(t,e,i,r,o,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=o,this.documentState=u}static newInvalidDocument(t){return new yi(t,0,pn.min(),pn.min(),is.empty(),0)}static newFoundDocument(t,e,i){return new yi(t,1,e,pn.min(),i,0)}static newNoDocument(t,e){return new yi(t,2,e,pn.min(),is.empty(),0)}static newUnknownDocument(t,e){return new yi(t,3,e,pn.min(),is.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof yi&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new yi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class r6{constructor(t,e=null,i=[],r=[],o=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=u,this.endAt=h,this.ut=null}}function JN(n,t=null,e=[],i=[],r=null,o=null,u=null){return new r6(n,t,e,i,r,o,u)}function mp(n){const t=Bt(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+zg(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Sb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>zg(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>zg(i)).join(",")),t.ut=e}return t.ut}function kb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!f6(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Vc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!rV(n.startAt,t.startAt)&&rV(n.endAt,t.endAt)}function IE(n){return Lt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function ME(n,t){return n.filters.filter(e=>e instanceof rs&&e.field.isEqual(t))}function eV(n,t,e){let i=TE,r=!0;for(const o of ME(n,t)){let u=TE,h=!0;switch(o.op){case"<":case"<=":u=t6(o.value);break;case"==":case"in":case">=":u=o.value;break;case">":u=o.value,h=!1;break;case"!=":case"not-in":u=TE}KN({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];KN({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function tV(n,t,e){let i=ph,r=!0;for(const o of ME(n,t)){let u=ph,h=!0;switch(o.op){case">=":case">":u=n6(o.value),h=!1;break;case"==":case"in":case"<=":u=o.value;break;case"<":u=o.value,h=!1;break;case"!=":case"not-in":u=ph}QN({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(t)){const u=e.position[o];QN({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class rs extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new o6(t,e,i):"array-contains"===e?new c6(t,i):"in"===e?new u6(t,i):"not-in"===e?new d6(t,i):"array-contains-any"===e?new h6(t,i):new rs(t,e,i)}static ct(t,e,i){return"in"===e?new a6(t,i):new l6(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(mh(e,this.value)):null!==e&&fp(this.value)===fp(e)&&this.at(mh(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return qt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class o6 extends rs{constructor(t,e,i){super(t,e,i),this.key=Lt.fromName(i.referenceValue)}matches(t){const e=Lt.comparator(t.key,this.key);return this.at(e)}}class a6 extends rs{constructor(t,e){super(t,"in",e),this.keys=nV(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class l6 extends rs{constructor(t,e){super(t,"not-in",e),this.keys=nV(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function nV(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Lt.fromName(i.referenceValue))}class c6 extends rs{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ib(e)&&xb(e.arrayValue,this.value)}}class u6 extends rs{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&xb(this.value.arrayValue,e)}}class d6 extends rs{constructor(t,e){super(t,"not-in",e)}matches(t){if(xb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!xb(this.value.arrayValue,e)}}class h6 extends rs{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ib(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>xb(this.value.arrayValue,i))}}class gh{constructor(t,e){this.position=t,this.inclusive=e}}class $g{constructor(t,e="asc"){this.field=t,this.dir=e}}function f6(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function iV(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],u=n.position[r];if(i=o.field.isKeyField()?Lt.comparator(Lt.fromName(u.referenceValue),e.key):mh(u,e.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function rV(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Vc(n.position[e],t.position[e]))return!1;return!0}class Xu{constructor(t,e=null,i=[],r=[],o=null,u="F",h=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=u,this.startAt=h,this.endAt=_,this.lt=null,this.ft=null}}function sV(n,t,e,i,r,o,u,h){return new Xu(n,t,e,i,r,o,u,h)}function Wg(n){return new Xu(n)}function oV(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function sk(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ok(n){for(const t of n.filters)if(t.ht())return t.field;return null}function ak(n){return null!==n.collectionGroup}function qg(n){const t=Bt(n);if(null===t.lt){t.lt=[];const e=ok(t),i=sk(t);if(null!==e&&null===i)e.isKeyField()||t.lt.push(new $g(e)),t.lt.push(new $g(Zi.keyField(),"asc"));else{let r=!1;for(const o of t.explicitOrderBy)t.lt.push(o),o.field.isKeyField()&&(r=!0);if(!r){const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new $g(Zi.keyField(),o))}}}return t.lt}function fo(n){const t=Bt(n);if(!t.ft)if("F"===t.limitType)t.ft=JN(t.path,t.collectionGroup,qg(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const o of qg(t))e.push(new $g(o.field,"desc"===o.dir?"asc":"desc"));const i=t.endAt?new gh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new gh(t.startAt.position,t.startAt.inclusive):null;t.ft=JN(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.ft}function kE(n,t,e){return new Xu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Pb(n,t){return kb(fo(n),fo(t))&&n.limitType===t.limitType}function aV(n){return`${mp(fo(n))}|lt:${n.limitType}`}function lk(n){return`Query(target=${function s6(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${zg(i.value)}`;var i}).join(", ")}]`),Sb(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>zg(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>zg(e)).join(",")),`Target(${t})`}(fo(n))}; limitType=${n.limitType})`}function ck(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Lt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,o,u){const h=iV(r,o,u);return r.inclusive?h<=0:h<0}(e.startAt,qg(e),i)||e.endAt&&!function(r,o,u){const h=iV(r,o,u);return r.inclusive?h>=0:h>0}(e.endAt,qg(e),i)));var e,i}function lV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function cV(n){return(t,e)=>{let i=!1;for(const r of qg(n)){const o=p6(r,t,e);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function p6(n,t,e){const i=n.field.isKeyField()?Lt.comparator(t.key,e.key):function(r,o,u){const h=o.data.field(r),_=u.data.field(r);return null!==h&&null!==_?mh(h,_):qt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return qt()}}function uV(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tb(t)?"-0":t}}function dV(n){return{integerValue:""+n}}function hV(n,t){return $N(t)?dV(t):uV(n,t)}class PE{constructor(){this._=void 0}}function m6(n,t,e){return n instanceof Yg?function(i,r){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(o.fields.__previous_value__=r),{mapValue:o}}(e,t):n instanceof gp?pV(n,t):n instanceof _p?mV(n,t):function(i,r){const o=fV(i,r),u=gV(o)+gV(i._t);return rk(o)&&rk(i._t)?dV(u):uV(i.wt,u)}(n,t)}function g6(n,t,e){return n instanceof gp?pV(n,t):n instanceof _p?mV(n,t):e}function fV(n,t){return n instanceof Zg?rk(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Yg extends PE{}class gp extends PE{constructor(t){super(),this.elements=t}}function pV(n,t){const e=_V(t);for(const i of n.elements)e.some(r=>Vc(r,i))||e.push(i);return{arrayValue:{values:e}}}class _p extends PE{constructor(t){super(),this.elements=t}}function mV(n,t){let e=_V(t);for(const i of n.elements)e=e.filter(r=>!Vc(r,i));return{arrayValue:{values:e}}}class Zg extends PE{constructor(t,e){super(),this.wt=t,this._t=e}}function gV(n){return Qi(n.integerValue||n.doubleValue)}function _V(n){return Ib(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Rb{constructor(t,e){this.field=t,this.transform=e}}class y6{constructor(t,e){this.version=t,this.transformResults=e}}class Li{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Li}static exists(t){return new Li(void 0,t)}static updateTime(t){return new Li(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function RE(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class OE{}function yV(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Qg(n.key,Li.none()):new Kg(n.key,n.data,Li.none());{const e=n.data,i=is.empty();let r=new di(Zi.comparator);for(let o of t.fields)if(!r.has(o)){let u=e.field(o);null===u&&o.length>1&&(o=o.popLast(),u=e.field(o)),null===u?i.delete(o):i.set(o,u),r=r.add(o)}return new Ju(n.key,i,new Qo(r.toArray()),Li.none())}}function v6(n,t,e){n instanceof Kg?function(i,r,o){const u=i.value.clone(),h=wV(i.fieldTransforms,r,o.transformResults);u.setAll(h),r.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(n,t,e):n instanceof Ju?function(i,r,o){if(!RE(i.precondition,r))return void r.convertToUnknownDocument(o.version);const u=wV(i.fieldTransforms,r,o.transformResults),h=r.data;h.setAll(bV(i)),h.setAll(u),r.convertToFoundDocument(o.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function Ob(n,t,e,i){return n instanceof Kg?function(r,o,u,h){if(!RE(r.precondition,o))return u;const _=r.value.clone(),w=CV(r.fieldTransforms,h,o);return _.setAll(w),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null}(n,t,e,i):n instanceof Ju?function(r,o,u,h){if(!RE(r.precondition,o))return u;const _=CV(r.fieldTransforms,h,o),w=o.data;return w.setAll(bV(r)),w.setAll(_),o.convertToFoundDocument(o.version,w).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(I=>I.field))}(n,t,e,i):(u=e,RE(n.precondition,o=t)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):u);var o,u}function b6(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=fV(i.transform,r||null);null!=o&&(null===e&&(e=is.empty()),e.set(i.field,o))}return e||null}function vV(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&jg(e,i,(r,o)=>function _6(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof gp&&i instanceof gp||e instanceof _p&&i instanceof _p?jg(e.elements,i.elements,Vc):e instanceof Zg&&i instanceof Zg?Vc(e._t,i._t):e instanceof Yg&&i instanceof Yg);var e,i}(r,o))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Kg extends OE{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ju extends OE{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function bV(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function wV(n,t,e){const i=new Map;yn(n.length===e.length);for(let r=0;r<e.length;r++){const o=n[r],u=o.transform,h=t.data.field(o.field);i.set(o.field,g6(u,h,e[r]))}return i}function CV(n,t,e){const i=new Map;for(const r of n){const o=r.transform,u=e.data.field(r.field);i.set(r.field,m6(o,u,t))}return i}class Qg extends OE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class uk extends OE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class w6{constructor(t){this.count=t}}var hr,Un;function DV(n){switch(n){default:return qt();case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0}}function EV(n){if(void 0===n)return ir("GRPC error has no .code"),ot.UNKNOWN;switch(n){case hr.OK:return ot.OK;case hr.CANCELLED:return ot.CANCELLED;case hr.UNKNOWN:return ot.UNKNOWN;case hr.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case hr.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case hr.INTERNAL:return ot.INTERNAL;case hr.UNAVAILABLE:return ot.UNAVAILABLE;case hr.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case hr.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case hr.NOT_FOUND:return ot.NOT_FOUND;case hr.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case hr.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case hr.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case hr.ABORTED:return ot.ABORTED;case hr.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case hr.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case hr.DATA_LOSS:return ot.DATA_LOSS;default:return qt()}}(Un=hr||(hr={}))[Un.OK=0]="OK",Un[Un.CANCELLED=1]="CANCELLED",Un[Un.UNKNOWN=2]="UNKNOWN",Un[Un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Un[Un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Un[Un.NOT_FOUND=5]="NOT_FOUND",Un[Un.ALREADY_EXISTS=6]="ALREADY_EXISTS",Un[Un.PERMISSION_DENIED=7]="PERMISSION_DENIED",Un[Un.UNAUTHENTICATED=16]="UNAUTHENTICATED",Un[Un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Un[Un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Un[Un.ABORTED=10]="ABORTED",Un[Un.OUT_OF_RANGE=11]="OUT_OF_RANGE",Un[Un.UNIMPLEMENTED=12]="UNIMPLEMENTED",Un[Un.INTERNAL=13]="INTERNAL",Un[Un.UNAVAILABLE=14]="UNAVAILABLE",Un[Un.DATA_LOSS=15]="DATA_LOSS";class _h{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,t))return o}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){dp(this.inner,(e,i)=>{for(const[r,o]of i)t(r,o)})}isEmpty(){return jN(this.inner)}size(){return this.innerSize}}const C6=new Ki(Lt.comparator);function po(){return C6}const AV=new Ki(Lt.comparator);function Fb(...n){let t=AV;for(const e of n)t=t.insert(e.key,e);return t}function SV(n){let t=AV;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function Bc(){return Lb()}function TV(){return Lb()}function Lb(){return new _h(n=>n.toString(),(n,t)=>n.isEqual(t))}const D6=new Ki(Lt.comparator),E6=new di(Lt.comparator);function Sn(...n){let t=E6;for(const e of n)t=t.add(e);return t}const A6=new di(En);function FE(){return A6}class Nb{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Vb.createSynthesizedTargetChangeForCurrentChange(t,e)),new Nb(pn.min(),i,FE(),po(),Sn())}}class Vb{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Vb(vr.EMPTY_BYTE_STRING,e,Sn(),Sn(),Sn())}}class LE{constructor(t,e,i,r){this.gt=t,this.removedTargetIds=e,this.key=i,this.yt=r}}class xV{constructor(t,e){this.targetId=t,this.It=e}}class IV{constructor(t,e,i=vr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class MV{constructor(){this.Tt=0,this.Et=PV(),this.At=vr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=Sn(),e=Sn(),i=Sn();return this.Et.forEach((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:qt()}}),new Vb(this.At,this.Rt,t,e,i)}Dt(){this.bt=!1,this.Et=PV()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class S6{constructor(t){this.Ot=t,this.Ft=new Map,this.$t=po(),this.Bt=kV(),this.Lt=new di(En)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const i=this.Qt(e);switch(t.state){case 0:this.jt(e)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(i.Mt(),i.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),i.Vt(t.resumeToken));break;default:qt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((i,r)=>{this.jt(r)&&e(r)})}zt(t){const e=t.targetId,i=t.It.count,r=this.Ht(e);if(r){const o=r.target;if(IE(o))if(0===i){const u=new Lt(o.path);this.Kt(e,u,yi.newNoDocument(u,pn.min()))}else yn(1===i);else this.Jt(e)!==i&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((o,u)=>{const h=this.Ht(u);if(h){if(o.current&&IE(h.target)){const _=new Lt(h.target.path);null!==this.$t.get(_)||this.Xt(u,_)||this.Kt(u,_,yi.newNoDocument(_,t))}o.vt&&(e.set(u,o.St()),o.Dt())}});let i=Sn();this.Bt.forEach((o,u)=>{let h=!0;u.forEachWhile(_=>{const w=this.Ht(_);return!w||2===w.purpose||(h=!1,!1)}),h&&(i=i.add(o))}),this.$t.forEach((o,u)=>u.setReadTime(t));const r=new Nb(t,e,this.Lt,this.$t,i);return this.$t=po(),this.Bt=kV(),this.Lt=new di(En),r}qt(t,e){if(!this.jt(t))return;const i=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,i),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,i){if(!this.jt(t))return;const r=this.Qt(t);this.Xt(t,e)?r.Ct(e,1):r.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),i&&(this.$t=this.$t.insert(e,i))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Ot.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new MV,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new di(En),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||St("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Ot.te(t)}Wt(t){this.Ft.set(t,new MV),this.Ot.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Ot.getRemoteKeysForTarget(t).has(e)}}function kV(){return new Ki(Lt.comparator)}function PV(){return new Ki(Lt.comparator)}const T6={asc:"ASCENDING",desc:"DESCENDING"},x6={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class I6{constructor(t,e){this.databaseId=t,this.dt=e}}function Bb(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RV(n,t){return n.dt?t.toBase64():t.toUint8Array()}function M6(n,t){return Bb(n,t.toTimestamp())}function Fr(n){return yn(!!n),pn.fromTimestamp(function(t){const e=fh(t);return new ki(e.seconds,e.nanos)}(n))}function dk(n,t){return(e=n,new Bn(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function OV(n){const t=Bn.fromString(n);return yn(GV(t)),t}function Ub(n,t){return dk(n.databaseId,t.path)}function Uc(n,t){const e=OV(t);if(e.get(1)!==n.databaseId.projectId)throw new Ct(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ct(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Lt(LV(e))}function hk(n,t){return dk(n.databaseId,t)}function FV(n){const t=OV(n);return 4===t.length?Bn.emptyPath():LV(t)}function Hb(n){return new Bn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function LV(n){return yn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function NV(n,t,e){return{name:Ub(n,t),fields:e.value.mapValue.fields}}function VV(n,t,e){const i=Uc(n,t.name),r=Fr(t.updateTime),o=new is({mapValue:{fields:t.fields}}),u=yi.newFoundDocument(i,r,o);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function jb(n,t){let e;if(t instanceof Kg)e={update:NV(n,t.key,t.value)};else if(t instanceof Qg)e={delete:Ub(n,t.key)};else if(t instanceof Ju)e={update:NV(n,t.key,t.data),updateMask:B6(t.fieldMask)};else{if(!(t instanceof uk))return qt();e={verify:Ub(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,o){const u=o.transform;if(u instanceof Yg)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof gp)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof _p)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Zg)return{fieldPath:o.field.canonicalString(),increment:u._t};throw qt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:M6(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:qt()),e;var r}function fk(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Li.updateTime(Fr(r.updateTime)):void 0!==r.exists?Li.exists(r.exists):Li.none():Li.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(o,u){let h=null;"setToServerValue"in u?(yn("REQUEST_TIME"===u.setToServerValue),h=new Yg):"appendMissingElements"in u?h=new gp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new _p(u.removeAllFromArray.values||[]):"increment"in u?h=new Zg(o,u.increment):qt();const _=Zi.fromServerFormat(u.fieldPath);return new Rb(_,h)}(n,r)):[];var r;if(t.update){const r=Uc(n,t.update.name),o=new is({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Qo((t.updateMask.fieldPaths||[]).map(w=>Zi.fromServerFormat(w)));return new Ju(r,o,u,e,i)}return new Kg(r,o,e,i)}if(t.delete){const r=Uc(n,t.delete);return new Qg(r,e)}if(t.verify){const r=Uc(n,t.verify);return new uk(r,e)}return qt()}function BV(n,t){return{documents:[hk(n,t.path)]}}function UV(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=hk(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=hk(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const w=_.map(I=>function(H){if("=="===H.op){if(YN(H.value))return{unaryFilter:{field:Xg(H.field),op:"IS_NAN"}};if(qN(H.value))return{unaryFilter:{field:Xg(H.field),op:"IS_NULL"}}}else if("!="===H.op){if(YN(H.value))return{unaryFilter:{field:Xg(H.field),op:"IS_NOT_NAN"}};if(qN(H.value))return{unaryFilter:{field:Xg(H.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xg(H.field),op:L6(H.op),value:H.value}}}(I));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(t.filters);r&&(e.structuredQuery.where=r);const o=function(_){if(0!==_.length)return _.map(w=>{return{field:Xg((I=w).field),direction:F6(I.dir)};var I})}(t.orderBy);o&&(e.structuredQuery.orderBy=o);const u=(w=t.limit,n.dt||Sb(w)?w:{value:w});var w,h,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function HV(n){let t=FV(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){yn(1===i);const I=e.from[0];I.allDescendants?r=I.collectionId:t=t.child(I.collectionId)}let o=[];e.where&&(o=jV(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(I=>{return new $g(Jg((H=I).field),function(De){switch(De){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(H.direction));var H}));let h=null;e.limit&&(h=function(I){let H;return H="object"==typeof I?I.value:I,Sb(H)?null:H}(e.limit));let _=null;var I;e.startAt&&(_=new gh((I=e.startAt).values||[],!!I.before));let w=null;return e.endAt&&(w=function(I){return new gh(I.values||[],!I.before)}(e.endAt)),sV(t,r,u,o,h,"F",_,w)}function jV(n){return n?void 0!==n.unaryFilter?[V6(n)]:void 0!==n.fieldFilter?[N6(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>jV(t)).reduce((t,e)=>t.concat(e)):qt():[]}function F6(n){return T6[n]}function L6(n){return x6[n]}function Xg(n){return{fieldPath:n.canonicalString()}}function Jg(n){return Zi.fromServerFormat(n.fieldPath)}function N6(n){return rs.create(Jg(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qt()}}(n.fieldFilter.op),n.fieldFilter.value)}function V6(n){switch(n.unaryFilter.op){case"IS_NAN":const t=Jg(n.unaryFilter.field);return rs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=Jg(n.unaryFilter.field);return rs.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Jg(n.unaryFilter.field);return rs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Jg(n.unaryFilter.field);return rs.create(r,"!=",{nullValue:"NULL_VALUE"});default:return qt()}}function B6(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function GV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Us(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=zV(t)),t=U6(n.get(e),t);return zV(t)}function U6(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=o}}return e}function zV(n){return n+"\x01\x01"}function Hc(n){const t=n.length;if(yn(t>=2),2===t)return yn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Bn.emptyPath();const e=t-2,i=[];let r="";for(let o=0;o<t;){const u=n.indexOf("\x01",o);switch((u<0||u>e)&&qt(),n.charAt(u+1)){case"\x01":const h=n.substring(o,u);let _;0===r.length?_=h:(r+=h,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(o,u),r+="\0";break;case"\x11":r+=n.substring(o,u+1);break;default:qt()}o=u+2}return new Bn(i)}const $V=["userId","batchId"];function NE(n,t){return[n,Us(t)]}function WV(n,t,e){return[n,Us(t),e]}const H6={},j6=["prefixPath","collectionGroup","readTime","documentId"],G6=["prefixPath","collectionGroup","documentId"],z6=["collectionGroup","readTime","prefixPath","documentId"],$6=["canonicalId","targetId"],W6=["targetId","path"],q6=["path","targetId"],Y6=["collectionId","parent"],Z6=["indexId","uid"],K6=["uid","sequenceNumber"],Q6=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],X6=["indexId","uid","orderedDocumentKey"],J6=["userId","collectionPath","documentId"],eW=["userId","collectionPath","largestBatchId"],tW=["userId","collectionGroup","largestBatchId"],qV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nW=[...qV,"documentOverlays"],YV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ZV=YV,iW=[...ZV,"indexConfiguration","indexState","indexEntries"];class pk extends BN{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function Lr(n,t){const e=Bt(n);return Ll.N(e.ee,t)}class mk{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&v6(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Ob(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Ob(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=TV();return this.mutations.forEach(r=>{const o=t.get(r.key),u=o.overlayedDocument;let h=this.applyToLocalView(u,o.mutatedFields);h=e.has(r.key)?null:h;const _=yV(u,h);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(pn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Sn())}isEqual(t){return this.batchId===t.batchId&&jg(this.mutations,t.mutations,(e,i)=>vV(e,i))&&jg(this.baseMutations,t.baseMutations,(e,i)=>vV(e,i))}}class gk{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){yn(t.mutations.length===i.length);let r=D6;const o=t.mutations;for(let u=0;u<o.length;u++)r=r.insert(o[u].key,i[u].version);return new gk(t,e,i,r)}}class _k{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yh{constructor(t,e,i,r,o=pn.min(),u=pn.min(),h=vr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new yh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new yh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new yh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class KV{constructor(t){this.ne=t}}function QV(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:VE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Ub(r=n.ne,(o=t).key),fields:o.data.value.mapValue.fields,updateTime:Bb(r,o.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:yp(t.version)};else{if(!t.isUnknownDocument())return qt();i.unknownDocument={path:e.path.toArray(),version:yp(t.version)}}var r,o;return i}function VE(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function yp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function vp(n){const t=new ki(n.seconds,n.nanoseconds);return pn.fromTimestamp(t)}function bp(n,t){const e=(t.baseMutations||[]).map(o=>fk(n.ne,o));for(let o=0;o<t.mutations.length-1;++o){const u=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(u.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const i=t.mutations.map(o=>fk(n.ne,o)),r=ki.fromMillis(t.localWriteTimeMs);return new mk(t.batchId,r,e,i)}function Gb(n){const t=vp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?vp(n.lastLimboFreeSnapshotVersion):pn.min();let i;var r;return void 0!==n.query.documents?(yn(1===(r=n.query).documents.length),i=fo(Wg(FV(r.documents[0])))):i=fo(HV(n.query)),new yh(i,n.targetId,0,n.lastListenSequenceNumber,t,e,vr.fromBase64String(n.resumeToken))}function XV(n,t){const e=yp(t.snapshotVersion),i=yp(t.lastLimboFreeSnapshotVersion);let r;r=IE(t.target)?BV(n.ne,t.target):UV(n.ne,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:mp(t.target),readTime:e,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function yk(n){const t=HV({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?kE(t,t.limit,"L"):t}function vk(n,t){return new _k(t.largestBatchId,fk(n.ne,t.overlayMutation))}function JV(n,t){const e=t.path.lastSegment();return[n,Us(t.path.popLast()),e]}function eB(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:yp(i.readTime),documentKey:Us(i.documentKey.path),largestBatchId:i.largestBatchId}}class sW{getBundleMetadata(t,e){return tB(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:vp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return tB(t).put({bundleId:(i=e).id,createTime:yp(Fr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return nB(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:yk(r.bundledQuery),readTime:vp(r.readTime)};var r})}saveNamedQuery(t,e){return nB(t).put({name:(i=e).name,readTime:yp(Fr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function tB(n){return Lr(n,"bundles")}function nB(n){return Lr(n,"namedQueries")}class BE{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new BE(t,e.uid||"")}getOverlay(t,e){return zb(t).get(JV(this.userId,e)).next(i=>i?vk(this.wt,i):null)}getOverlays(t,e){const i=Bc();return et.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((o,u)=>{const h=new _k(e,u);r.push(this.ie(t,h))}),et.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(Us(u.getCollectionPath())));const o=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);o.push(zb(t).W("collectionPathOverlayIndex",h))}),et.waitFor(o)}getOverlaysForCollection(t,e,i){const r=Bc(),o=Us(e),u=IDBKeyRange.bound([this.userId,o,i],[this.userId,o,Number.POSITIVE_INFINITY],!0);return zb(t).K("collectionPathOverlayIndex",u).next(h=>{for(const _ of h){const w=vk(this.wt,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const o=Bc();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return zb(t).J({index:"collectionGroupOverlayIndex",range:h},(_,w,I)=>{const H=vk(this.wt,w);o.size()<r||H.largestBatchId===u?(o.set(H.getKey(),H),u=H.largestBatchId):I.done()}).next(()=>o)}ie(t,e){return zb(t).put(function(i,r,o){const[u,h,_]=JV(r,o.mutation.key);return{userId:r,collectionPath:h,documentId:_,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:jb(i.ne,o.mutation)}}(this.wt,this.userId,e))}}function zb(n){return Lr(n,"documentOverlays")}class wp{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(Qi(t.integerValue));else if("doubleValue"in t){const i=Qi(t.doubleValue);isNaN(i)?this.ce(e,13):(this.ce(e,15),Tb(i)?e.ae(0):e.ae(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he(`${i.seconds||""}`),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(hp(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ce(e,45),e.ae(i.latitude||0),e.ae(i.longitude||0)}else"mapValue"in t?ZN(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):qt()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const i=t.fields||{};this.ce(e,55);for(const r of Object.keys(i))this.le(r,e),this.oe(i[r],e)}me(t,e){const i=t.values||[];this.ce(e,50);for(const r of i)this.oe(r,e)}_e(t,e){this.ce(e,37),Lt.fromName(t).path.forEach(i=>{this.ce(e,60),this.ge(i,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function oW(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function iB(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const o=oW(255&e[r]);if(i+=o,8!==o)break}return i}(n);return Math.ceil(t/8)}wp.ye=new wp;class aW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ie(i.value),i=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=e.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(t){const e=this.Ve(t),i=iB(e);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}De(t){const e=this.Ve(t),i=iB(e);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Me(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(r){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,r,!1),new Uint8Array(o.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class lW{constructor(t){this.Oe=t}de(t){this.Oe.pe(t)}he(t){this.Oe.be(t)}ae(t){this.Oe.ve(t)}ue(){this.Oe.Ce()}}class cW{constructor(t){this.Oe=t}de(t){this.Oe.Ee(t)}he(t){this.Oe.Pe(t)}ae(t){this.Oe.De(t)}ue(){this.Oe.Ne()}}class $b{constructor(){this.Oe=new aW,this.Fe=new lW(this.Oe),this.$e=new cW(this.Oe)}seed(t){this.Oe.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class Cp{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new Cp(this.indexId,this.documentKey,this.arrayValue,i)}}function Dp(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=rB(n.arrayValue,t.arrayValue),0!==e?e:(e=rB(n.directionalValue,t.directionalValue),0!==e?e:Lt.comparator(n.documentKey,t.documentKey)))}function rB(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class uW{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const i=e;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(t){const e=XM(t);if(void 0!==e&&!this.Qe(e))return!1;const i=cp(t);let r=0,o=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const u=i[r];if(!this.je(this.Ke,u)||!this.We(this.Ue[o++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(o>=this.Ue.length||!this.We(this.Ue[o++],u))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class dW{constructor(){this.ze=new bk}addToCollectionParentIndex(t,e){return this.ze.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(Ko.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(Ko.min())}updateCollectionGroup(t,e,i){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class bk{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new di(Bn.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new di(Bn.comparator)).toArray()}}const UE=new Uint8Array(0);class hW{constructor(t,e){this.user=t,this.databaseId=e,this.He=new bk,this.Je=new _h(i=>mp(i),(i,r)=>kb(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const o={collectionId:i,parent:Us(r)};return sB(t).put(o)}return et.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[FN(e),""],!1,!0);return sB(t).K(r).next(o=>{for(const u of o){if(u.collectionId!==e)break;i.push(Hc(u.parent))}return i})}addFieldIndex(t,e){const i=HE(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const o=i.add(r);if(e.indexState){const u=qb(t);return o.next(h=>{u.put(eB(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return o.next()}deleteFieldIndex(t,e){const i=HE(t),r=qb(t),o=Wb(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=Wb(t);let r=!0;const o=new Map;return et.forEach(this.Ye(e),u=>this.Xe(t,u).next(h=>{r&&(r=!!h),o.set(u,h)})).next(()=>{if(r){let u=Sn();const h=[];return et.forEach(o,(_,w)=>{var I;St("IndexedDbIndexManager",`Using index ${I=_,`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(Kt=>`${Kt.fieldPath}:${Kt.kind}`).join(",")}`} to execute ${mp(e)}`);const H=function(Kt,zt){const dn=XM(zt);if(void 0===dn)return null;for(const mn of ME(Kt,dn.fieldPath))switch(mn.op){case"array-contains-any":return mn.value.arrayValue.values||[];case"array-contains":return[mn.value]}return null}(w,_),De=function(Kt,zt){const dn=new Map;for(const mn of cp(zt))for(const Nn of ME(Kt,mn.fieldPath))switch(Nn.op){case"==":case"in":dn.set(mn.fieldPath.canonicalString(),Nn.value);break;case"not-in":case"!=":return dn.set(mn.fieldPath.canonicalString(),Nn.value),Array.from(dn.values())}return null}(w,_),Me=function(Kt,zt){const dn=[];let mn=!0;for(const Nn of cp(zt)){const Gs=0===Nn.kind?eV(Kt,Nn.fieldPath,Kt.startAt):tV(Kt,Nn.fieldPath,Kt.startAt);dn.push(Gs.value),mn&&(mn=Gs.inclusive)}return new gh(dn,mn)}(w,_),Le=function(Kt,zt){const dn=[];let mn=!0;for(const Nn of cp(zt)){const Gs=0===Nn.kind?tV(Kt,Nn.fieldPath,Kt.endAt):eV(Kt,Nn.fieldPath,Kt.endAt);dn.push(Gs.value),mn&&(mn=Gs.inclusive)}return new gh(dn,mn)}(w,_),$e=this.Ze(_,w,Me),st=this.Ze(_,w,Le),Mt=this.tn(_,w,De),Ut=this.en(_.indexId,H,$e,Me.inclusive,st,Le.inclusive,Mt);return et.forEach(Ut,Kt=>i.j(Kt,e.limit).next(zt=>{zt.forEach(dn=>{const mn=Lt.fromSegments(dn.documentKey);u.has(mn)||(u=u.add(mn),h.push(mn))})}))}).next(()=>h)}return et.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,i,r,o,u,h){const _=(null!=e?e.length:1)*Math.max(i.length,o.length),w=_/(null!=e?e.length:1),I=[];for(let H=0;H<_;++H){const De=e?this.nn(e[H/w]):UE,Me=this.sn(t,De,i[H%w],r),Le=this.rn(t,De,o[H%w],u),$e=h.map(st=>this.sn(t,De,st,!0));I.push(...this.createRange(Me,Le,$e))}return I}sn(t,e,i,r){const o=new Cp(t,Lt.empty(),e,i);return r?o:o.Le()}rn(t,e,i,r){const o=new Cp(t,Lt.empty(),e,i);return r?o.Le():o}Xe(t,e){const i=new uW(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(o=>{let u=null;for(const h of o)i.Ge(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return et.forEach(this.Ye(e),r=>this.Xe(t,r).next(o=>{o?0!==i&&o.fields.length<function(u){let h=new di(Zi.comparator),_=!1;for(const w of u.filters){const I=w;I.field.isKeyField()||("array-contains"===I.op||"array-contains-any"===I.op?_=!0:h=h.add(I.field))}for(const w of u.orderBy)w.field.isKeyField()||(h=h.add(w.field));return h.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(t,e){const i=new $b;for(const r of cp(t)){const o=e.data.field(r.fieldPath);if(null==o)return null;const u=i.Be(r.kind);wp.ye.re(o,u)}return i.Me()}nn(t){const e=new $b;return wp.ye.re(t,e.Be(0)),e.Me()}un(t,e){const i=new $b;return wp.ye.re(pp(this.databaseId,e),i.Be(function(r){const o=cp(r);return 0===o.length?0:o[o.length-1].kind}(t))),i.Me()}tn(t,e,i){if(null===i)return[];let r=[];r.push(new $b);let o=0;for(const u of cp(t)){const h=i[o++];for(const _ of r)if(this.cn(e,u.fieldPath)&&Ib(h))r=this.an(r,u,h);else{const w=_.Be(u.kind);wp.ye.re(h,w)}}return this.hn(r)}Ze(t,e,i){return this.tn(t,e,i.position)}hn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Me();return e}an(t,e,i){const r=[...t],o=[];for(const u of i.arrayValue.values||[])for(const h of r){const _=new $b;_.seed(h.Me()),wp.ye.re(u,_.Be(e.kind)),o.push(_)}return o}cn(t,e){return!!t.filters.find(i=>i instanceof rs&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=HE(t),r=qb(t);return(e?i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.K()).next(o=>{const u=[];return et.forEach(o,h=>r.get([h.indexId,this.uid]).next(_=>{u.push(function(w,I){const H=I?new Db(I.sequenceNumber,new Ko(vp(I.readTime),new Lt(Hc(I.documentKey)),I.largestBatchId)):Db.empty(),De=w.fields.map(([Me,Le])=>new EE(Zi.fromServerFormat(Me),Le));return new DE(w.indexId,w.collectionGroup,De,H)}(h,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const o=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==o?o:En(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=HE(t),o=qb(t);return this.ln(t).next(u=>r.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>et.forEach(h,_=>o.put(eB(_.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return et.forEach(e,(r,o)=>{const u=i.get(r.collectionGroup);return(u?et.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),et.forEach(h,_=>this.fn(t,r,_).next(w=>{const I=this.dn(o,_);return w.isEqual(I)?et.resolve():this._n(t,o,_,w,I)}))))})}wn(t,e,i,r){return Wb(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,e.key),documentKey:e.key.path.toArray()})}mn(t,e,i,r){return Wb(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,e.key),e.key.path.toArray()])}fn(t,e,i){const r=Wb(t);let o=new di(Dp);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,e)])},(u,h)=>{o=o.add(new Cp(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>o)}dn(t,e){let i=new di(Dp);const r=this.on(e,t);if(null==r)return i;const o=XM(e);if(null!=o){const u=t.data.field(o.fieldPath);if(Ib(u))for(const h of u.arrayValue.values||[])i=i.add(new Cp(e.indexId,t.key,this.nn(h),r))}else i=i.add(new Cp(e.indexId,t.key,UE,r));return i}_n(t,e,i,r,o){St("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,_,w,I,H){const De=h.getIterator(),Me=_.getIterator();let Le=Gg(De),$e=Gg(Me);for(;Le||$e;){let st=!1,Mt=!1;if(Le&&$e){const Ut=w(Le,$e);Ut<0?Mt=!0:Ut>0&&(st=!0)}else null!=Le?Mt=!0:st=!0;st?(I($e),$e=Gg(Me)):Mt?(H(Le),Le=Gg(De)):(Le=Gg(De),$e=Gg(Me))}}(r,o,Dp,h=>{u.push(this.wn(t,e,i,h))},h=>{u.push(this.mn(t,e,i,h))}),et.waitFor(u)}ln(t){let e=1;return qb(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,o)=>{o.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>Dp(u,h)).filter((u,h,_)=>!h||0!==Dp(u,_[h-1]));const r=[];r.push(t);for(const u of i){const h=Dp(u,t),_=Dp(u,e);if(0===h)r[0]=t.Le();else if(h>0&&_<0)r.push(u),r.push(u.Le());else if(_>0)break}r.push(e);const o=[];for(let u=0;u<r.length;u+=2)o.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,UE,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,UE,[]]));return o}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(oB)}getMinOffset(t,e){return et.mapArray(this.Ye(e),i=>this.Xe(t,i).next(r=>r||qt())).next(oB)}}function sB(n){return Lr(n,"collectionParents")}function Wb(n){return Lr(n,"indexEntries")}function HE(n){return Lr(n,"indexConfiguration")}function qb(n){return Lr(n,"indexState")}function oB(n){yn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;JM(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Ko(t.readTime,t.documentKey,e)}const aB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class mo{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new mo(t,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function lB(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),o=[],u=IDBKeyRange.only(e.batchId);let h=0;const _=i.J({range:u},(I,H,De)=>(h++,De.delete()));o.push(_.next(()=>{yn(1===h)}));const w=[];for(const I of e.mutations){const H=WV(t,I.key.path,e.batchId);o.push(r.delete(H)),w.push(I.key)}return et.waitFor(o).next(()=>w)}function jE(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw qt();t=n.noDocument}return JSON.stringify(t).length}mo.DEFAULT_COLLECTION_PERCENTILE=10,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mo.DEFAULT=new mo(41943040,mo.DEFAULT_COLLECTION_PERCENTILE,mo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mo.DISABLED=new mo(-1,0,0);class GE{constructor(t,e,i,r){this.userId=t,this.wt=e,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(t,e,i,r){yn(""!==t.uid);const o=t.isAuthenticated()?t.uid:"";return new GE(o,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return vh(t).J({index:"userMutationsIndex",range:i},(r,o,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const o=e_(t),u=vh(t);return u.add({}).next(h=>{yn("number"==typeof h);const _=new mk(h,e,i,r),w=function(De,Me,Le){const $e=Le.baseMutations.map(Mt=>jb(De.ne,Mt)),st=Le.mutations.map(Mt=>jb(De.ne,Mt));return{userId:Me,batchId:Le.batchId,localWriteTimeMs:Le.localWriteTime.toMillis(),baseMutations:$e,mutations:st}}(this.wt,this.userId,_),I=[];let H=new di((De,Me)=>En(De.canonicalString(),Me.canonicalString()));for(const De of r){const Me=WV(this.userId,De.key.path,h);H=H.add(De.key.path.popLast()),I.push(u.put(w)),I.push(o.put(Me,H6))}return H.forEach(De=>{I.push(this.indexManager.addToCollectionParentIndex(t,De))}),t.addOnCommittedListener(()=>{this.gn[h]=_.keys()}),et.waitFor(I).next(()=>_)})}lookupMutationBatch(t,e){return vh(t).get(e).next(i=>i?(yn(i.userId===this.userId),bp(this.wt,i)):null)}yn(t,e){return this.gn[e]?et.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.gn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let o=null;return vh(t).J({index:"userMutationsIndex",range:r},(u,h,_)=>{h.userId===this.userId&&(yn(h.batchId>=i),o=bp(this.wt,h)),_.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return vh(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,o,u)=>{i=o.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return vh(t).K("userMutationsIndex",e).next(i=>i.map(r=>bp(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=NE(this.userId,e.path),r=IDBKeyRange.lowerBound(i),o=[];return e_(t).J({range:r},(u,h,_)=>{const[w,I,H]=u,De=Hc(I);if(w===this.userId&&e.path.isEqual(De))return vh(t).get(H).next(Me=>{if(!Me)throw qt();yn(Me.userId===this.userId),o.push(bp(this.wt,Me))});_.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new di(En);const r=[];return e.forEach(o=>{const u=NE(this.userId,o.path),h=IDBKeyRange.lowerBound(u),_=e_(t).J({range:h},(w,I,H)=>{const[De,Me,Le]=w,$e=Hc(Me);De===this.userId&&o.path.isEqual($e)?i=i.add(Le):H.done()});r.push(_)}),et.waitFor(r).next(()=>this.pn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,o=NE(this.userId,i),u=IDBKeyRange.lowerBound(o);let h=new di(En);return e_(t).J({range:u},(_,w,I)=>{const[H,De,Me]=_,Le=Hc(De);H===this.userId&&i.isPrefixOf(Le)?Le.length===r&&(h=h.add(Me)):I.done()}).next(()=>this.pn(t,h))}pn(t,e){const i=[],r=[];return e.forEach(o=>{r.push(vh(t).get(o).next(u=>{if(null===u)throw qt();yn(u.userId===this.userId),i.push(bp(this.wt,u))}))}),et.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return lB(t.ee,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),et.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return et.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return e_(t).J({range:i},(o,u,h)=>{if(o[0]===this.userId){const _=Hc(o[1]);r.push(_)}else h.done()}).next(()=>{yn(0===r.length)})})}containsKey(t,e){return cB(t,this.userId,e)}Tn(t){return uB(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function cB(n,t,e){const i=NE(t,e.path),r=i[1],o=IDBKeyRange.lowerBound(i);let u=!1;return e_(n).J({range:o,H:!0},(h,_,w)=>{const[I,H,De]=h;I===t&&H===r&&(u=!0),w.done()}).next(()=>u)}function vh(n){return Lr(n,"mutations")}function e_(n){return Lr(n,"documentMutations")}function uB(n){return Lr(n,"mutationQueues")}class Ep{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new Ep(0)}static Rn(){return new Ep(-1)}}class fW{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const i=new Ep(e.highestTargetId);return e.highestTargetId=i.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>pn.fromTimestamp(new ki(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Pn(t,r)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(i=>(i.targetCount+=1,this.Vn(e,i),this.Pn(t,i))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>t_(t).delete(e.targetId)).next(()=>this.bn(t)).next(i=>(yn(i.targetCount>0),i.targetCount-=1,this.Pn(t,i)))}removeTargets(t,e,i){let r=0;const o=[];return t_(t).J((u,h)=>{const _=Gb(h);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,o.push(this.removeTargetData(t,_)))}).next(()=>et.waitFor(o)).next(()=>r)}forEachTarget(t,e){return t_(t).J((i,r)=>{const o=Gb(r);e(o)})}bn(t){return dB(t).get("targetGlobalKey").next(e=>(yn(null!==e),e))}Pn(t,e){return dB(t).put("targetGlobalKey",e)}vn(t,e){return t_(t).put(XV(this.wt,e))}Vn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=mp(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let o=null;return t_(t).J({range:r,index:"queryTargetsIndex"},(u,h,_)=>{const w=Gb(h);kb(e,w.target)&&(o=w,_.done())}).next(()=>o)}addMatchingKeys(t,e,i){const r=[],o=bh(t);return e.forEach(u=>{const h=Us(u.path);r.push(o.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),et.waitFor(r)}removeMatchingKeys(t,e,i){const r=bh(t);return et.forEach(e,o=>{const u=Us(o.path);return et.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,o)])})}removeMatchingKeysForTargetId(t,e){const i=bh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=bh(t);let o=Sn();return r.J({range:i,H:!0},(u,h,_)=>{const w=Hc(u[1]),I=new Lt(w);o=o.add(I)}).next(()=>o)}containsKey(t,e){const i=Us(e.path),r=IDBKeyRange.bound([i],[FN(i)],!1,!0);let o=0;return bh(t).J({index:"documentTargetsIndex",H:!0,range:r},([u,h],_,w)=>{0!==u&&(o++,w.done())}).next(()=>o>0)}te(t,e){return t_(t).get(e).next(i=>i?Gb(i):null)}}function t_(n){return Lr(n,"targets")}function dB(n){return Lr(n,"targetGlobal")}function bh(n){return Lr(n,"targetDocuments")}function hB([n,t],[e,i]){const r=En(n,e);return 0===r?En(t,i):r}class pW{constructor(t){this.Sn=t,this.buffer=new di(hB),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();hB(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class mW{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;St("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ut.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){hh(i)?St("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield dh(i)}yield e.kn(3e5)}))}}class gW{constructor(t,e){this.Mn=t,this.params=e}calculateTargetCount(t,e){return this.Mn.On(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return et.resolve(ho.ot);const i=new pW(e);return this.Mn.forEachTarget(t,r=>i.xn(r.sequenceNumber)).next(()=>this.Mn.Fn(t,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Mn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Mn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(aB)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aB):this.$n(t,e))}getCacheSize(t){return this.Mn.getCacheSize(t)}$n(t,e){let i,r,o,u,h,_,w;const I=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(H=>(H>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${H}`),r=this.params.maximumSequenceNumbersToCollect):r=H,u=Date.now(),this.nthSequenceNumber(t,r))).next(H=>(i=H,h=Date.now(),this.removeTargets(t,i,e))).next(H=>(o=H,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(H=>(w=Date.now(),KM()<=ah.in.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-I}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${o} targets in `+(_-h)+`ms\n\tRemoved ${H} documents in `+(w-_)+`ms\nTotal Duration: ${w-I}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:H})))}}class _W{constructor(t,e){this.db=t,this.garbageCollector=new gW(this,e)}On(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Bn(t){let e=0;return this.Fn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(i,r)=>e(r))}addReference(t,e,i){return zE(t,i)}removeReference(t,e,i){return zE(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return zE(t,e)}Un(t,e){return function(i,r){let o=!1;return uB(i).Y(u=>cB(i,u,r).next(h=>(h&&(o=!0),et.resolve(!h)))).next(()=>o)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let o=0;return this.Ln(t,(u,h)=>{if(h<=e){const _=this.Un(t,u).next(w=>{if(!w)return o++,i.getEntry(t,u).next(()=>(i.removeEntry(u,pn.min()),bh(t).delete([0,Us(u.path)])))});r.push(_)}}).next(()=>et.waitFor(r)).next(()=>i.apply(t)).next(()=>o)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return zE(t,e)}Ln(t,e){const i=bh(t);let r,o=ho.ot;return i.J({index:"documentTargetsIndex"},([u,h],{path:_,sequenceNumber:w})=>{0===u?(o!==ho.ot&&e(new Lt(Hc(r)),o),o=w,r=_):o=ho.ot}).next(()=>{o!==ho.ot&&e(new Lt(Hc(r)),o)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function zE(n,t){return bh(n).put((i=n.currentSequenceNumber,{targetId:0,path:Us(t.path),sequenceNumber:i}));var i}class fB{constructor(){this.changes=new _h(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,yi.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?et.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class yW{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return Ap(t).put(i)}removeEntry(t,e,i){return Ap(t).delete(function(r,o){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],VE(o),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.qn(t,i)))}getEntry(t,e){let i=yi.newInvalidDocument(e);return Ap(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Yb(e))},(r,o)=>{i=this.Kn(e,o)}).next(()=>i)}Gn(t,e){let i={size:0,document:yi.newInvalidDocument(e)};return Ap(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Yb(e))},(r,o)=>{i={document:this.Kn(e,o),size:jE(o)}}).next(()=>i)}getEntries(t,e){let i=po();return this.Qn(t,e,(r,o)=>{const u=this.Kn(r,o);i=i.insert(r,u)}).next(()=>i)}jn(t,e){let i=po(),r=new Ki(Lt.comparator);return this.Qn(t,e,(o,u)=>{const h=this.Kn(o,u);i=i.insert(o,h),r=r.insert(o,jE(u))}).next(()=>({documents:i,Wn:r}))}Qn(t,e,i){if(e.isEmpty())return et.resolve();let r=new di(_B);e.forEach(_=>r=r.add(_));const o=IDBKeyRange.bound(Yb(r.first()),Yb(r.last())),u=r.getIterator();let h=u.getNext();return Ap(t).J({index:"documentKeyIndex",range:o},(_,w,I)=>{const H=Lt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;h&&_B(h,H)<0;)i(h,null),h=u.getNext();h&&h.isEqual(H)&&(i(h,w),h=u.hasNext()?u.getNext():null),h?I.q(Yb(h)):I.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),VE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],o=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Ap(t).K(IDBKeyRange.bound(r,o,!0)).next(u=>{let h=po();for(const _ of u){const w=this.Kn(Lt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);h=h.insert(w.key,w)}return h})}getAllFromCollectionGroup(t,e,i,r){let o=po();const u=gB(e,i),h=gB(e,Ko.max());return Ap(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(_,w,I)=>{const H=this.Kn(Lt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);o=o.insert(H.key,H),o.size===r&&I.done()}).next(()=>o)}newChangeBuffer(t){return new vW(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return mB(t).get("remoteDocumentGlobalKey").next(e=>(yn(!!e),e))}qn(t,e){return mB(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const i=function rW(n,t){let e;if(t.document)e=VV(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Lt.fromSegments(t.noDocument.path),r=vp(t.noDocument.readTime);e=yi.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return qt();{const i=Lt.fromSegments(t.unknownDocument.path),r=vp(t.unknownDocument.version);e=yi.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new ki(i[0],i[1]);return pn.fromTimestamp(r)}(t.readTime)),e}(this.wt,e);if(!i.isNoDocument()||!i.version.isEqual(pn.min()))return i}return yi.newInvalidDocument(t)}}function pB(n){return new yW(n)}class vW extends fB{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new _h(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new di((o,u)=>En(o.canonicalString(),u.canonicalString()));return this.changes.forEach((o,u)=>{const h=this.Hn.get(o);if(e.push(this.zn.removeEntry(t,o,h.readTime)),u.isValidDocument()){const _=QV(this.zn.wt,u);r=r.add(o.path.popLast()),i+=jE(_)-h.size,e.push(this.zn.addEntry(t,o,_))}else if(i-=h.size,this.trackRemovals){const _=QV(this.zn.wt,u.convertToNoDocument(pn.min()));e.push(this.zn.addEntry(t,o,_))}}),r.forEach(o=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,o))}),e.push(this.zn.updateMetadata(t,i)),et.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(i=>(this.Hn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:i,Wn:r})=>(r.forEach((o,u)=>{this.Hn.set(o,{size:u,readTime:i.get(o).readTime})}),i))}}function mB(n){return Lr(n,"remoteDocumentGlobal")}function Ap(n){return Lr(n,"remoteDocumentsV14")}function Yb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function gB(n,t){const e=t.documentKey.path.toArray();return[n,VE(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function _B(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let o=0;o<e.length-2&&o<i.length-2;++o)if(r=En(e[o],i[o]),r)return r;return r=En(e.length,i.length),r||(r=En(e[e.length-2],i[i.length-2]),r||En(e[e.length-1],i[i.length-1]))}class bW{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class yB{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&Ob(i.mutation,r,Qo.empty(),ki.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Sn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Sn()){const r=Bc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(o=>{let u=Fb();return o.forEach((h,_)=>{u=u.insert(h,_.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=Bc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Sn()))}populateOverlays(t,e,i){const r=[];return i.forEach(o=>{e.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(t,r).next(o=>{o.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let o=po();const u=Lb(),h=Lb();return e.forEach((_,w)=>{const I=i.get(w.key);r.has(w.key)&&(void 0===I||I.mutation instanceof Ju)?o=o.insert(w.key,w):void 0!==I&&(u.set(w.key,I.mutation.getFieldMask()),Ob(I.mutation,w,I.mutation.getFieldMask(),ki.now()))}),this.recalculateAndSaveOverlays(t,o).next(_=>(_.forEach((w,I)=>u.set(w,I)),e.forEach((w,I)=>{var H;return h.set(w,new bW(I,null!==(H=u.get(w))&&void 0!==H?H:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Lb();let r=new Ki((u,h)=>u-h),o=Sn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(_=>{const w=e.get(_);if(null===w)return;let I=i.get(_)||Qo.empty();I=h.applyToLocalView(w,I),i.set(_,I);const H=(r.get(h.batchId)||Sn()).add(_);r=r.insert(h.batchId,H)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),w=_.key,I=_.value,H=TV();I.forEach(De=>{if(!o.has(De)){const Me=yV(e.get(De),i.get(De));null!==Me&&H.set(De,Me),o=o.add(De)}}),u.push(this.documentOverlayCache.saveOverlays(t,w,H))}return et.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Lt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):ak(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(o=>{const u=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):et.resolve(Bc());let h=-1,_=o;return u.next(w=>et.forEach(w,(I,H)=>(h<H.largestBatchId&&(h=H.largestBatchId),o.get(I)?et.resolve():this.getBaseDocument(t,I,H).next(De=>{_=_.insert(I,De)}))).next(()=>this.populateOverlays(t,w,o)).next(()=>this.computeViews(t,_,w,Sn())).next(I=>({batchId:h,changes:SV(I)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Lt(e)).next(i=>{let r=Fb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let o=Fb();return this.indexManager.getCollectionParents(t,r).next(u=>et.forEach(u,h=>{const _=(w=e,I=h.child(r),new Xu(I,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,I;return this.getDocumentsMatchingCollectionQuery(t,_,i).next(w=>{w.forEach((I,H)=>{o=o.insert(I,H)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(o=>(r=o,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(o=>{o.forEach((h,_)=>{const w=_.getKey();null===r.get(w)&&(r=r.insert(w,yi.newInvalidDocument(w)))});let u=Fb();return r.forEach((h,_)=>{const w=o.get(h);void 0!==w&&Ob(w.mutation,_,Qo.empty(),ki.now()),ck(e,_)&&(u=u.insert(h,_))}),u})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):et.resolve(yi.newInvalidDocument(e))}}class wW{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return et.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var i;return this.Jn.set(e.id,{id:(i=e).id,version:i.version,createTime:Fr(i.createTime)}),et.resolve()}getNamedQuery(t,e){return et.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(i=e).name,query:yk(i.bundledQuery),readTime:Fr(i.readTime)}),et.resolve();var i}}class CW{constructor(){this.overlays=new Ki(Lt.comparator),this.Xn=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Bc();return et.forEach(e,r=>this.getOverlay(t,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,o)=>{this.ie(t,e,o)}),et.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.Xn.delete(i)),et.resolve()}getOverlaysForCollection(t,e,i){const r=Bc(),o=e.length+1,u=new Lt(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const _=h.getNext().value,w=_.getKey();if(!e.isPrefixOf(w.path))break;w.path.length===o&&_.largestBatchId>i&&r.set(_.getKey(),_)}return et.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Ki((w,I)=>w-I);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===e&&w.largestBatchId>i){let I=o.get(w.largestBatchId);null===I&&(I=Bc(),o=o.insert(w.largestBatchId,I)),I.set(w.getKey(),w)}}const h=Bc(),_=o.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,I)=>h.set(w,I)),!(h.size()>=r)););return et.resolve(h)}ie(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new _k(e,i));let o=this.Xn.get(e);void 0===o&&(o=Sn(),this.Xn.set(e,o)),this.Xn.set(e,o.add(i.key))}}class wk{constructor(){this.Zn=new di(Nr.ts),this.es=new di(Nr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new Nr(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new Nr(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new Lt(new Bn([])),i=new Nr(e,t),r=new Nr(e,t+1),o=[];return this.es.forEachInRange([i,r],u=>{this.rs(u),o.push(u.key)}),o}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new Lt(new Bn([])),i=new Nr(e,t),r=new Nr(e,t+1);let o=Sn();return this.es.forEachInRange([i,r],u=>{o=o.add(u.key)}),o}containsKey(t){const e=new Nr(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Nr{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return Lt.comparator(t.key,e.key)||En(t.ls,e.ls)}static ns(t,e){return En(t.ls,e.ls)||Lt.comparator(t.key,e.key)}}class DW{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new di(Nr.ts)}checkEmpty(t){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const o=this.fs;this.fs++;const u=new mk(o,e,i,r);this.mutationQueue.push(u);for(const h of r)this.ds=this.ds.add(new Nr(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return et.resolve(u)}lookupMutationBatch(t,e){return et.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ws(e+1),o=r<0?0:r;return et.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Nr(e,0),r=new Nr(e,Number.POSITIVE_INFINITY),o=[];return this.ds.forEachInRange([i,r],u=>{const h=this._s(u.ls);o.push(h)}),et.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new di(En);return e.forEach(r=>{const o=new Nr(r,0),u=new Nr(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([o,u],h=>{i=i.add(h.ls)})}),et.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Lt.isDocumentKey(o)||(o=o.child(""));const u=new Nr(new Lt(o),0);let h=new di(En);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(h=h.add(_.ls)),!0)},u),et.resolve(this.gs(h))}gs(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){yn(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return et.forEach(e.mutations,r=>{const o=new Nr(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}In(t){}containsKey(t,e){const i=new Nr(e,0),r=this.ds.firstAfterOrEqual(i);return et.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return et.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class EW{constructor(t){this.ps=t,this.docs=new Ki(Lt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,u=this.ps(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return et.resolve(i?i.document.mutableCopy():yi.newInvalidDocument(e))}getEntries(t,e){let i=po();return e.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():yi.newInvalidDocument(r))}),et.resolve(i)}getAllFromCollection(t,e,i){let r=po();const o=new Lt(e.child("")),u=this.docs.getIteratorFrom(o);for(;u.hasNext();){const{key:h,value:{document:_}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||JM(NN(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return et.resolve(r)}getAllFromCollectionGroup(t,e,i,r){qt()}Is(t,e){return et.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new AW(this)}getSize(t){return et.resolve(this.size)}}class AW extends fB{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.zn.addEntry(t,r)):this.zn.removeEntry(i)}),et.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class SW{constructor(t){this.persistence=t,this.Ts=new _h(e=>mp(e),kb),this.lastRemoteSnapshotVersion=pn.min(),this.highestTargetId=0,this.Es=0,this.As=new wk,this.targetCount=0,this.Rs=Ep.An()}forEachTarget(t,e){return this.Ts.forEach((i,r)=>e(r)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Es&&(this.Es=e),et.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Ep(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.vn(e),et.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.Ts.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Ts.delete(u),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),et.waitFor(o).next(()=>r)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const i=this.Ts.get(e)||null;return et.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),et.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach(u=>{o.push(r.markPotentiallyOrphaned(t,u))}),et.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),et.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return et.resolve(i)}containsKey(t,e){return et.resolve(this.As.containsKey(e))}}class vB{constructor(t,e){this.bs={},this.overlays={},this.Ps=new ho(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new SW(this),this.indexManager=new dW,this.remoteDocumentCache=new EW(i=>this.referenceDelegate.Ss(i)),this.wt=new KV(e),this.Ds=new wW(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new CW,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.bs[t.toKey()];return i||(i=new DW(e,this.referenceDelegate),this.bs[t.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,i){St("MemoryPersistence","Starting transaction:",t);const r=new TW(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(o=>this.referenceDelegate.xs(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Ns(t,e){return et.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class TW extends BN{constructor(t){super(),this.currentSequenceNumber=t}}class $E{constructor(t){this.persistence=t,this.ks=new wk,this.Ms=null}static Os(t){return new $E(t)}get Fs(){if(this.Ms)return this.Ms;throw qt()}addReference(t,e,i){return this.ks.addReference(i,e),this.Fs.delete(i.toString()),et.resolve()}removeReference(t,e,i){return this.ks.removeReference(i,e),this.Fs.add(i.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),et.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(o=>this.Fs.add(o.toString()))}).next(()=>i.removeTargetData(t,e))}Cs(){this.Ms=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Fs,i=>{const r=Lt.fromPath(i);return this.$s(t,r).next(o=>{o||e.removeEntry(r,pn.min())})}).next(()=>(this.Ms=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return et.or([()=>et.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class xW{constructor(t){this.wt=t}M(t,e,i,r){const o=new AE("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$V,{unique:!0}),h.createObjectStore("documentMutations"),bB(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=et.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),bB(t)),u=u.next(()=>function(h){const _=h.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:pn.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(o))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,_){return _.store("mutations").K().next(w=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",$V,{unique:!0});const I=_.store("mutations"),H=w.map(De=>I.put(De));return et.waitFor(H)})}(t,o))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Bs(o))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(o)))),i<7&&r>=7&&(u=u.next(()=>this.Us(o))),i<8&&r>=8&&(u=u.next(()=>this.qs(t,o))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.Ks(o))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:J6});_.createIndex("collectionPathOverlayIndex",eW,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",tW,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:j6});_.createIndex("documentKeyIndex",G6),_.createIndex("collectionGroupIndex",z6)}(t)).next(()=>this.Gs(t,o)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.Qs(t,o))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Z6}).createIndex("sequenceNumberIndex",K6,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:Q6}).createIndex("documentKeyIndex",X6,{unique:!1})}(t))),u}Ls(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=jE(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.K().next(r=>et.forEach(r,o=>{const u=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",u).next(h=>et.forEach(h,_=>{yn(_.userId===o.userId);const w=bp(this.wt,_);return lB(t,o.userId,w).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const o=[];return i.J((u,h)=>{const _=new Bn(u),w=[0,Us(_)];o.push(e.get(w).next(I=>I?et.resolve():e.put({targetId:0,path:Us(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>et.waitFor(o))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:Y6});const i=e.store("collectionParents"),r=new bk,o=u=>{if(r.add(u)){const h=u.lastSegment(),_=u.popLast();return i.put({collectionId:h,parent:Us(_)})}};return e.store("remoteDocuments").J({H:!0},(u,h)=>{const _=new Bn(u);return o(_.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([u,h,_],w)=>{const I=Hc(h);return o(I.popLast())}))}Ks(t){const e=t.store("targets");return e.J((i,r)=>{const o=Gb(r),u=XV(this.wt,o);return e.put(u)})}Gs(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((o,u)=>{const h=e.store("remoteDocumentsV14"),_=(w=u,w.document?new Lt(Bn.fromString(w.document.name).popFirst(5)):w.noDocument?Lt.fromSegments(w.noDocument.path):w.unknownDocument?Lt.fromSegments(w.unknownDocument.path):qt()).path.toArray();var w;const I={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(I))}).next(()=>et.waitFor(r))}Qs(t,e){const i=e.store("mutations"),r=pB(this.wt),o=new vB($E.Os,this.wt.ne);return i.K().next(u=>{const h=new Map;return u.forEach(_=>{var w;let I=null!==(w=h.get(_.userId))&&void 0!==w?w:Sn();bp(this.wt,_).keys().forEach(H=>I=I.add(H)),h.set(_.userId,I)}),et.forEach(h,(_,w)=>{const I=new Rr(w),H=BE.se(this.wt,I),De=o.getIndexManager(I),Me=GE.se(I,this.wt,De,o.referenceDelegate);return new yB(r,Me,H,De).recalculateAndSaveOverlaysForDocumentKeys(new pk(e,ho.ot),_).next()})})}}function bB(n){n.createObjectStore("targetDocuments",{keyPath:W6}).createIndex("documentTargetsIndex",q6,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",$6,{unique:!0}),n.createObjectStore("targetGlobal")}const Ck="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Dk{constructor(t,e,i,r,o,u,h,_,w,I,H=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.js=o,this.window=u,this.document=h,this.Ws=w,this.zs=I,this.Hs=H,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=De=>Promise.resolve(),!Dk.V())throw new Ct(ot.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _W(this,r),this.ei=e+"main",this.wt=new KV(_),this.ni=new Ll(this.ei,this.Hs,new xW(this.wt)),this.Vs=new fW(this.referenceDelegate,this.wt),this.remoteDocumentCache=pB(this.wt),this.Ds=new sW,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===I&&ir("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ct(ot.FAILED_PRECONDITION,Ck);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new ho(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var i=(0,ut.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,ut.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,ut.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>WE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(hh(t))return St("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return St("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return Zb(t).get("owner").next(e=>et.resolve(this.di(e)))}_i(t){return WE(t).delete(this.clientId)}wi(){var t=this;return(0,ut.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Lr(i,"clientMetadata");return r.K().next(o=>{const u=t.gi(o,18e5),h=o.filter(_=>-1===u.indexOf(_));return et.forEach(h,_=>r.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(t.si)for(const i of e)t.si.removeItem(t.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?et.resolve(!0):Zb(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new Ct(ot.FAILED_PRECONDITION,Ck);return!1}}return!(!this.networkEnabled||!this.inForeground)||WE(t).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&St("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ut.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new pk(e,ho.ot);return t.li(i).next(()=>t._i(i))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(i=>this.mi(i.updateTimeMs,e)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>WE(t).K().next(e=>this.gi(e,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return GE.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new hW(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return BE.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,i){St("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",o=15===(u=this.Hs)?iW:14===u?ZV:13===u?YV:12===u?nW:11===u?qV:void qt();var u;let h;return this.ni.runTransaction(t,r,o,_=>(h=new pk(_,this.Ps?this.Ps.next():ho.ot),"readwrite-primary"===e?this.ai(h).next(w=>!!w||this.hi(h)).next(w=>{if(!w)throw ir(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Ct(ot.FAILED_PRECONDITION,VN);return i(h)}).next(w=>this.fi(h).next(()=>w)):this.bi(h).next(()=>i(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}bi(t){return Zb(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ct(ot.FAILED_PRECONDITION,Ck)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zb(t).put("owner",e)}static V(){return Ll.V()}li(t){const e=Zb(t);return e.get("owner").next(i=>this.di(i)?(St("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):et.resolve())}mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(ir(`Detected an update time that is in the future: ${t} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,In.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const i=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return St("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return ir("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){ir("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function Zb(n){return Lr(n,"owner")}function WE(n){return Lr(n,"clientMetadata")}function Ek(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class Ak{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Pi=i,this.vi=r}static Vi(t,e){let i=Sn(),r=Sn();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new Ak(t,e.fromCache,i,r)}}class wB{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ci(t,e).next(o=>o||this.xi(t,e,r,i)).next(o=>o||this.Ni(t,e))}Ci(t,e){if(oV(e))return et.resolve(null);let i=fo(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=kE(e,null,"F"),i=fo(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(o=>{const u=Sn(...o);return this.Di.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(_=>{const w=this.ki(e,h);return this.Mi(e,w,u,_.readTime)?this.Ci(t,kE(e,null,"F")):this.Oi(t,w,e,_)}))})))}xi(t,e,i,r){return oV(e)||r.isEqual(pn.min())?this.Ni(t,e):this.Di.getDocuments(t,i).next(o=>{const u=this.ki(e,o);return this.Mi(e,u,i,r)?this.Ni(t,e):(KM()<=ah.in.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lk(e)),this.Oi(t,u,e,LN(r,-1)))})}ki(t,e){let i=new di(cV(t));return e.forEach((r,o)=>{ck(t,o)&&(i=i.add(o))}),i}Mi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const o="F"===t.limitType?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ni(t,e){return KM()<=ah.in.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",lk(e)),this.Di.getDocumentsMatchingQuery(t,e,Ko.min())}Oi(t,e,i,r){return this.Di.getDocumentsMatchingQuery(t,i,r).next(o=>(e.forEach(u=>{o=o.insert(u.key,u)}),o))}}class IW{constructor(t,e,i,r){this.persistence=t,this.Fi=e,this.wt=r,this.$i=new Ki(En),this.Bi=new _h(o=>mp(o),kb),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(i)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yB(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function CB(n,t,e,i){return new IW(n,t,e,i)}function DB(n,t){return Sk.apply(this,arguments)}function Sk(){return Sk=(0,ut.Z)(function*(n,t){const e=Bt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,e.qi(t),e.mutationQueue.getAllMutationBatches(i))).next(o=>{const u=[],h=[];let _=Sn();for(const w of r){u.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}for(const w of o){h.push(w.batchId);for(const I of w.mutations)_=_.add(I.key)}return e.localDocuments.getDocuments(i,_).next(w=>({Ki:w,removedBatchIds:u,addedBatchIds:h}))})})}),Sk.apply(this,arguments)}function MW(n,t){const e=Bt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),o=e.Ui.newChangeBuffer({trackRemovals:!0});return function(u,h,_,w){const I=_.batch,H=I.keys();let De=et.resolve();return H.forEach(Me=>{De=De.next(()=>w.getEntry(h,Me)).next(Le=>{const $e=_.docVersions.get(Me);yn(null!==$e),Le.version.compareTo($e)<0&&(I.applyToRemoteDocument(Le,_),Le.isValidDocument()&&(Le.setReadTime(_.commitVersion),w.addEntry(Le)))})}),De.next(()=>u.mutationQueue.removeMutationBatch(h,I))}(e,i,t,o).next(()=>o.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Sn();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(h=h.add(u.batch.mutations[_].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function EB(n){const t=Bt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function kW(n,t){const e=Bt(n),i=t.snapshotVersion;let r=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const u=e.Ui.newChangeBuffer({trackRemovals:!0});r=e.$i;const h=[];t.targetChanges.forEach((I,H)=>{const De=r.get(H);if(!De)return;h.push(e.Vs.removeMatchingKeys(o,I.removedDocuments,H).next(()=>e.Vs.addMatchingKeys(o,I.addedDocuments,H)));let Me=De.withSequenceNumber(o.currentSequenceNumber);var Le,$e,st;t.targetMismatches.has(H)?Me=Me.withResumeToken(vr.EMPTY_BYTE_STRING,pn.min()).withLastLimboFreeSnapshotVersion(pn.min()):I.resumeToken.approximateByteSize()>0&&(Me=Me.withResumeToken(I.resumeToken,i)),r=r.insert(H,Me),$e=Me,st=I,(0===(Le=De).resumeToken.approximateByteSize()||$e.snapshotVersion.toMicroseconds()-Le.snapshotVersion.toMicroseconds()>=3e8||st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0)&&h.push(e.Vs.updateTargetData(o,Me))});let _=po(),w=Sn();if(t.documentUpdates.forEach(I=>{t.resolvedLimboDocuments.has(I)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,I))}),h.push(AB(o,u,t.documentUpdates).next(I=>{_=I.Gi,w=I.Qi})),!i.isEqual(pn.min())){const I=e.Vs.getLastRemoteSnapshotVersion(o).next(H=>e.Vs.setTargetsMetadata(o,o.currentSequenceNumber,i));h.push(I)}return et.waitFor(h).next(()=>u.apply(o)).next(()=>e.localDocuments.getLocalViewOfDocuments(o,_,w)).next(()=>_)}).then(o=>(e.$i=r,o))}function AB(n,t,e){let i=Sn(),r=Sn();return e.forEach(o=>i=i.add(o)),t.getEntries(n,i).next(o=>{let u=po();return e.forEach((h,_)=>{const w=o.get(h);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(h)),_.isNoDocument()&&_.version.isEqual(pn.min())?(t.removeEntry(h,_.readTime),u=u.insert(h,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(t.addEntry(_),u=u.insert(h,_)):St("LocalStore","Ignoring outdated watch update for ",h,". Current version:",w.version," Watch version:",_.version)}),{Gi:u,Qi:r}})}function PW(n,t){const e=Bt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function n_(n,t){const e=Bt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Vs.getTargetData(i,t).next(o=>o?(r=o,et.resolve(r)):e.Vs.allocateTargetId(i).next(u=>(r=new yh(t,u,0,i.currentSequenceNumber),e.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.$i=e.$i.insert(i.targetId,i),e.Bi.set(t,i.targetId)),i})}function i_(n,t,e){return Tk.apply(this,arguments)}function Tk(){return Tk=(0,ut.Z)(function*(n,t,e){const i=Bt(n),r=i.$i.get(t),o=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",o,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!hh(u))throw u;St("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.$i=i.$i.remove(t),i.Bi.delete(r.target)}),Tk.apply(this,arguments)}function qE(n,t,e){const i=Bt(n);let r=pn.min(),o=Sn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,_,w){const I=Bt(h),H=I.Bi.get(w);return void 0!==H?et.resolve(I.$i.get(H)):I.Vs.getTargetData(_,w)}(i,u,fo(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(u,h.targetId).next(_=>{o=_})}).next(()=>i.Fi.getDocumentsMatchingQuery(u,t,e?r:pn.min(),e?o:Sn())).next(h=>(xB(i,lV(t),h),{documents:h,ji:o})))}function SB(n,t){const e=Bt(n),i=Bt(e.Vs),r=e.$i.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",o=>i.te(o,t).next(u=>u?u.target:null))}function TB(n,t){const e=Bt(n),i=e.Li.get(t)||pn.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Ui.getAllFromCollectionGroup(r,t,LN(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(xB(e,t,r),r))}function xB(n,t,e){let i=pn.min();e.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.Li.set(t,i)}function xk(){return xk=(0,ut.Z)(function*(n,t,e,i){const r=Bt(n);let o=Sn(),u=po();for(const w of e){const I=t.Wi(w.metadata.name);w.document&&(o=o.add(I));const H=t.zi(w);H.setReadTime(t.Hi(w.metadata.readTime)),u=u.insert(I,H)}const h=r.Ui.newChangeBuffer({trackRemovals:!0}),_=yield n_(r,(w=i,fo(Wg(Bn.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>AB(w,h,u).next(I=>(h.apply(w),I)).next(I=>r.Vs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Vs.addMatchingKeys(w,o,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,I.Gi,I.Qi)).next(()=>I.Gi)))}),xk.apply(this,arguments)}function OW(n,t){return Ik.apply(this,arguments)}function Ik(){return Ik=(0,ut.Z)(function*(n,t,e=Sn()){const i=yield n_(n,fo(yk(t.bundledQuery))),r=Bt(n);return r.persistence.runTransaction("Save named query","readwrite",o=>{const u=Fr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ds.saveNamedQuery(o,t);const h=i.withResumeToken(vr.EMPTY_BYTE_STRING,u);return r.$i=r.$i.insert(h.targetId,h),r.Vs.updateTargetData(o,h).next(()=>r.Vs.removeMatchingKeysForTargetId(o,i.targetId)).next(()=>r.Vs.addMatchingKeys(o,e,i.targetId)).next(()=>r.Ds.saveNamedQuery(o,t))})}),Ik.apply(this,arguments)}function IB(n,t){return`firestore_clients_${n}_${t}`}function MB(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function Mk(n,t){return`firestore_targets_${n}_${t}`}class YE{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let o,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(o=new Ct(r.error.code,r.error.message))),u?new YE(t,e,r.state,o):(ir("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Kb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code,o&&(r=new Ct(i.error.code,i.error.message))),o?new Kb(t,i.state,r):(ir("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class ZE{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,o=FE();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=$N(i.activeTargetIds[u]),o=o.add(i.activeTargetIds[u]);return r?new ZE(t,o):(ir("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class kk{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new kk(e.clientId,e.onlineState):(ir("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Pk{constructor(){this.activeTargetIds=FE()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Rk{constructor(t,e,i,r,o){this.window=t,this.js=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ki(En),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.rr=IB(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new Pk),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ut.Z)(function*(){const e=yield t.syncEngine.Ri();for(const r of e){if(r===t.tr)continue;const o=t.getItem(IB(t.persistenceKey,r));if(o){const u=ZE.Ji(r,o);u&&(t.sr=t.sr.insert(u.clientId,u))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(Mk(this.persistenceKey,t));if(i){const r=Kb.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(Mk(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return St("SharedClientState","READ",t,e),e}setItem(t,e){St("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){St("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(St("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void ir("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,ut.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.ar.test(i.key)){if(null!==i.newValue){const r=e.vr(i.key,i.newValue);if(r)return e.Vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(o){let u=ho.ot;if(null!=o)try{const h=JSON.parse(o);yn("number"==typeof h),u=h}catch(h){ir("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==ho.ot&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(o=>e.syncEngine.Nr(o)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new YE(this.currentUser,t,e,i),o=MB(this.persistenceKey,this.currentUser,t);this.setItem(o,r.Yi())}pr(t){const e=MB(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=Mk(this.persistenceKey,t),o=new Kb(t,e,i);this.setItem(r,o.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return ZE.Ji(i,e)}vr(t,e){const i=this.ar.exec(t),r=Number(i[1]);return YE.Ji(new Rr(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return Kb.Ji(r,e)}wr(t){return kk.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,ut.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);St("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),o=this.gr(i),u=[],h=[];return o.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{o.has(_)||h.push(_)}),this.syncEngine.Or(u,h).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=FE();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class kB{constructor(){this.Fr=new Pk,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new Pk,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class FW{Br(t){}shutdown(){}}class PB{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const LW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class NW{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class VW extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,o){const u=this.oo(t,e);St("RestConnection","Sending: ",u,i);const h={};return this.uo(h,r,o),this.co(t,u,h,i).then(_=>(St("RestConnection","Received: ",_),_),_=>{throw lp("RestConnection",`${t} failed with error: `,_,"url: ",u,"request:",i),_})}ao(t,e,i,r,o,u){return this.ro(t,e,i,r,o)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Hg,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,o)=>t[o]=r),i&&i.headers.forEach((r,o)=>t[o]=r)}oo(t,e){return`${this.so}/v1/${e}:${LW[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((o,u)=>{const h=new F$;h.listenOnce(P$.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case ZM.NO_ERROR:const w=h.getResponseJson();St("Connection","XHR received:",JSON.stringify(w)),o(w);break;case ZM.TIMEOUT:St("Connection",'RPC "'+t+'" timed out'),u(new Ct(ot.DEADLINE_EXCEEDED,"Request time out"));break;case ZM.HTTP_ERROR:const I=h.getStatus();if(St("Connection",'RPC "'+t+'" failed with status:',I,"response text:",h.getResponseText()),I>0){const H=h.getResponseJson().error;if(H&&H.status&&H.message){const De=function(Me){const Le=Me.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(Le)>=0?Le:ot.UNKNOWN}(H.status);u(new Ct(De,H.message))}else u(new Ct(ot.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ct(ot.UNAVAILABLE,"Connection failed."));break;default:qt()}}finally{St("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(r);h.send(e,"POST",_,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=M$(),u=k$(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new O$({})),this.uo(h.initMessageHeaders,e,i),(0,In.uI)()||(0,In.b$)()||(0,In.d)()||(0,In.w1)()||(0,In.Mn)()||(0,In.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");St("Connection","Creating WebChannel: "+_,h);const w=o.createWebChannel(_,h);let I=!1,H=!1;const De=new NW({jr:Le=>{H?St("Connection","Not sending because WebChannel is closed:",Le):(I||(St("Connection","Opening WebChannel transport."),w.open(),I=!0),St("Connection","WebChannel sending:",Le),w.send(Le))},Wr:()=>w.close()}),Me=(Le,$e,st)=>{Le.listen($e,Mt=>{try{st(Mt)}catch(Ut){setTimeout(()=>{throw Ut},0)}})};return Me(w,CE.EventType.OPEN,()=>{H||St("Connection","WebChannel transport opened.")}),Me(w,CE.EventType.CLOSE,()=>{H||(H=!0,St("Connection","WebChannel transport closed"),De.eo())}),Me(w,CE.EventType.ERROR,Le=>{H||(H=!0,lp("Connection","WebChannel transport errored:",Le),De.eo(new Ct(ot.UNAVAILABLE,"The operation could not be completed")))}),Me(w,CE.EventType.MESSAGE,Le=>{var $e;if(!H){const st=Le.data[0];yn(!!st);const Mt=st,Ut=Mt.error||(null===($e=Mt[0])||void 0===$e?void 0:$e.error);if(Ut){St("Connection","WebChannel received error:",Ut);const Kt=Ut.status;let zt=function(mn){const Nn=hr[mn];if(void 0!==Nn)return EV(Nn)}(Kt),dn=Ut.message;void 0===zt&&(zt=ot.INTERNAL,dn="Unknown error status: "+Kt+" with message "+Ut.message),H=!0,De.eo(new Ct(zt,dn)),w.close()}else St("Connection","WebChannel received:",st),De.no(st)}}),Me(u,R$.STAT_EVENT,Le=>{Le.stat===MN.PROXY?St("Connection","Detected buffering proxy"):Le.stat===MN.NOPROXY&&St("Connection","Detected no buffering proxy")}),setTimeout(()=>{De.Zr()},0),De}}function RB(){return typeof window<"u"?window:null}function KE(){return typeof document<"u"?document:null}function Qb(n){return new I6(n,!0)}class Ok{constructor(t,e,i=1e3,r=1.5,o=6e4){this.js=t,this.timerId=e,this.lo=i,this.fo=r,this._o=o,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&St("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class OB{constructor(t,e,i,r,o,u,h,_){this.js=t,this.Ao=i,this.Ro=r,this.bo=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new Ok(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,ut.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(t){this.Fo(),this.stream.send(t)}Mo(){var t=this;return(0,ut.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,ut.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===ot.RESOURCE_EXHAUSTED?(ir(e.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===ot.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new Ct(ot.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,ut.Z)(function*(){t.state=0,t.start()}))}qo(t){return St("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BW extends OB{constructor(t,e,i,r,o,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.wt=o}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function P6(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:qt(),r=t.targetChange.targetIds||[],o=function(_,w){return _.dt?(yn(void 0===w||"string"==typeof w),vr.fromBase64String(w||"")):(yn(void 0===w||w instanceof Uint8Array),vr.fromUint8Array(w||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(_){const w=void 0===_.code?ot.UNKNOWN:EV(_.code);return new Ct(w,_.message||"")}(u);e=new IV(i,r,o,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Uc(n,i.document.name),o=Fr(i.document.updateTime),u=new is({mapValue:{fields:i.document.fields}}),h=yi.newFoundDocument(r,o,u);e=new LE(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=Uc(n,i.document),o=i.readTime?Fr(i.readTime):pn.min(),u=yi.newNoDocument(r,o);e=new LE([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Uc(n,i.document);e=new LE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return qt();{const i=t.filter,o=new w6(i.count||0);e=new xV(i.targetId,o)}}var _;return e}(this.wt,t),i=function(r){if(!("targetChange"in r))return pn.min();const o=r.targetChange;return o.targetIds&&o.targetIds.length?pn.min():o.readTime?Fr(o.readTime):pn.min()}(t);return this.listener.Go(e,i)}Qo(t){const e={};e.database=Hb(this.wt),e.addTarget=function(r,o){let u;const h=o.target;return u=IE(h)?{documents:BV(r,h)}:{query:UV(r,h)},u.targetId=o.targetId,o.resumeToken.approximateByteSize()>0?u.resumeToken=RV(r,o.resumeToken):o.snapshotVersion.compareTo(pn.min())>0&&(u.readTime=Bb(r,o.snapshotVersion.toTimestamp())),u}(this.wt,t);const i=function O6(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Oo(e)}jo(t){const e={};e.database=Hb(this.wt),e.removeTarget=t,this.Oo(e)}}class UW extends OB{constructor(t,e,i,r,o,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.wt=o,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(yn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function R6(n,t){return n&&n.length>0?(yn(void 0!==t),n.map(e=>function(i,r){let o=Fr(i.updateTime?i.updateTime:r);return o.isEqual(pn.min())&&(o=Fr(r)),new y6(o,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Fr(t.commitTime);return this.listener.Jo(i,e)}return yn(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=Hb(this.wt),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>jb(this.wt,i))};this.Oo(e)}}class HW extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Ct(ot.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.bo.ro(t,e,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ct(ot.UNKNOWN,r.toString())})}ao(t,e,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,u])=>this.bo.ao(t,e,i,o,u,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Ct(ot.UNKNOWN,o.toString())})}terminate(){this.Zo=!0}}class jW{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(ir(e),this.su=!1):St("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class GW{constructor(t,e,i,r,o){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=o,this.du.Br(h=>{i.enqueueAndForget((0,ut.Z)(function*(){var _;wh(u)&&(St("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ut.Z)(function*(w){const I=Bt(w);I.lu.add(4),yield r_(I),I._u.set("Unknown"),I.lu.delete(4),yield Xb(I)}),function(w){return _.apply(this,arguments)})(u))}))}),this._u=new jW(i,r)}}function Xb(n){return Fk.apply(this,arguments)}function Fk(){return Fk=(0,ut.Z)(function*(n){if(wh(n))for(const t of n.fu)yield t(!0)}),Fk.apply(this,arguments)}function r_(n){return Lk.apply(this,arguments)}function Lk(){return Lk=(0,ut.Z)(function*(n){for(const t of n.fu)yield t(!1)}),Lk.apply(this,arguments)}function QE(n,t){const e=Bt(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),Bk(e)?Vk(e):o_(e).Co()&&Nk(e,t))}function Jb(n,t){const e=Bt(n),i=o_(e);e.hu.delete(t),i.Co()&&FB(e,t),0===e.hu.size&&(i.Co()?i.ko():wh(e)&&e._u.set("Unknown"))}function Nk(n,t){n.wu.Nt(t.targetId),o_(n).Qo(t)}function FB(n,t){n.wu.Nt(t),o_(n).jo(t)}function Vk(n){n.wu=new S6({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),o_(n).start(),n._u.iu()}function Bk(n){return wh(n)&&!o_(n).Do()&&n.hu.size>0}function wh(n){return 0===Bt(n).lu.size}function LB(n){n.wu=void 0}function zW(n){return Uk.apply(this,arguments)}function Uk(){return Uk=(0,ut.Z)(function*(n){n.hu.forEach((t,e)=>{Nk(n,t)})}),Uk.apply(this,arguments)}function $W(n,t){return Hk.apply(this,arguments)}function Hk(){return Hk=(0,ut.Z)(function*(n,t){LB(n),Bk(n)?(n._u.uu(t),Vk(n)):n._u.set("Unknown")}),Hk.apply(this,arguments)}function WW(n,t,e){return jk.apply(this,arguments)}function jk(){return jk=(0,ut.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof IV&&2===t.state&&t.cause)try{yield(i=(0,ut.Z)(function*(r,o){const u=o.cause;for(const h of o.targetIds)r.hu.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.hu.delete(h),r.wu.removeTarget(h))}),function(r,o){return i.apply(this,arguments)})(n,t)}catch(i){St("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield XE(n,i)}else if(t instanceof LE?n.wu.Ut(t):t instanceof xV?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(pn.min()))try{const i=yield EB(n.localStore);e.compareTo(i)>=0&&(yield function(r,o){const u=r.wu.Yt(o);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const w=r.hu.get(_);w&&r.hu.set(_,w.withResumeToken(h.resumeToken,o))}}),u.targetMismatches.forEach(h=>{const _=r.hu.get(h);if(!_)return;r.hu.set(h,_.withResumeToken(vr.EMPTY_BYTE_STRING,_.snapshotVersion)),FB(r,h);const w=new yh(_.target,h,1,_.sequenceNumber);Nk(r,w)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){St("RemoteStore","Failed to raise snapshot:",i),yield XE(n,i)}var i}),jk.apply(this,arguments)}function XE(n,t,e){return Gk.apply(this,arguments)}function Gk(){return Gk=(0,ut.Z)(function*(n,t,e){if(!hh(t))throw t;n.lu.add(1),yield r_(n),n._u.set("Offline"),e||(e=()=>EB(n.localStore)),n.asyncQueue.enqueueRetryable((0,ut.Z)(function*(){St("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield Xb(n)}))}),Gk.apply(this,arguments)}function NB(n,t){return t().catch(e=>XE(n,e,t))}function s_(n){return zk.apply(this,arguments)}function zk(){return zk=(0,ut.Z)(function*(n){const t=Bt(n),e=Ch(t);let i=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;qW(t);)try{const r=yield PW(t.localStore,i);if(null===r){0===t.au.length&&e.ko();break}i=r.batchId,YW(t,r)}catch(r){yield XE(t,r)}VB(t)&&BB(t)}),zk.apply(this,arguments)}function qW(n){return wh(n)&&n.au.length<10}function YW(n,t){n.au.push(t);const e=Ch(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function VB(n){return wh(n)&&!Ch(n).Do()&&n.au.length>0}function BB(n){Ch(n).start()}function ZW(n){return $k.apply(this,arguments)}function $k(){return $k=(0,ut.Z)(function*(n){Ch(n).Xo()}),$k.apply(this,arguments)}function KW(n){return Wk.apply(this,arguments)}function Wk(){return Wk=(0,ut.Z)(function*(n){const t=Ch(n);for(const e of n.au)t.Ho(e.mutations)}),Wk.apply(this,arguments)}function QW(n,t,e){return qk.apply(this,arguments)}function qk(){return qk=(0,ut.Z)(function*(n,t,e){const i=n.au.shift(),r=gk.from(i,t,e);yield NB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield s_(n)}),qk.apply(this,arguments)}function XW(n,t){return Yk.apply(this,arguments)}function Yk(){return Yk=(0,ut.Z)(function*(n,t){var e;t&&Ch(n).zo&&(yield(e=(0,ut.Z)(function*(i,r){if(DV(o=r.code)&&o!==ot.ABORTED){const u=i.au.shift();Ch(i).No(),yield NB(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield s_(i)}var o}),function(i,r){return e.apply(this,arguments)})(n,t)),VB(n)&&BB(n)}),Yk.apply(this,arguments)}function UB(n,t){return Zk.apply(this,arguments)}function Zk(){return Zk=(0,ut.Z)(function*(n,t){const e=Bt(n);e.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const i=wh(e);e.lu.add(3),yield r_(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield Xb(e)}),Zk.apply(this,arguments)}function Kk(n,t){return Qk.apply(this,arguments)}function Qk(){return Qk=(0,ut.Z)(function*(n,t){const e=Bt(n);t?(e.lu.delete(2),yield Xb(e)):t||(e.lu.add(2),yield r_(e),e._u.set("Unknown"))}),Qk.apply(this,arguments)}function o_(n){return n.mu||(n.mu=function(t,e,i){const r=Bt(t);return r.tu(),new BW(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:zW.bind(null,n),Jr:$W.bind(null,n),Go:WW.bind(null,n)}),n.fu.push(function(){var t=(0,ut.Z)(function*(e){e?(n.mu.No(),Bk(n)?Vk(n):n._u.set("Unknown")):(yield n.mu.stop(),LB(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function Ch(n){return n.gu||(n.gu=function(t,e,i){const r=Bt(t);return r.tu(),new UW(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:ZW.bind(null,n),Jr:XW.bind(null,n),Yo:KW.bind(null,n),Jo:QW.bind(null,n)}),n.fu.push(function(){var t=(0,ut.Z)(function*(e){e?(n.gu.No(),yield s_(n)):(yield n.gu.stop(),n.au.length>0&&(St("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class Xk{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,o){const u=Date.now()+i,h=new Xk(t,e,u,r,o);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a_(n,t){if(ir("AsyncQueue",`${t}: ${n}`),hh(n))return new Ct(ot.UNAVAILABLE,`${t}: ${n}`);throw n}class l_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Lt.comparator(e.key,i.key):(e,i)=>Lt.comparator(e.key,i.key),this.keyedMap=Fb(),this.sortedSet=new Ki(this.comparator)}static emptySet(t){return new l_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof l_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new l_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class HB{constructor(){this.yu=new Ki(Lt.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):qt():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class c_{constructor(t,e,i,r,o,u,h,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_}static fromInitialDocuments(t,e,i,r){const o=[];return e.forEach(u=>{o.push({type:0,doc:u})}),new c_(t,e,l_.emptySet(e),o,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Pb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class JW{constructor(){this.Iu=void 0,this.listeners=[]}}class e4{constructor(){this.queries=new _h(t=>aV(t),Pb),this.onlineState="Unknown",this.Tu=new Set}}function Jk(n,t){return eP.apply(this,arguments)}function eP(){return eP=(0,ut.Z)(function*(n,t){const e=Bt(n),i=t.query;let r=!1,o=e.queries.get(i);if(o||(r=!0,o=new JW),r)try{o.Iu=yield e.onListen(i)}catch(u){const h=a_(u,`Initialization of query '${lk(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,o),o.listeners.push(t),t.Eu(e.onlineState),o.Iu&&t.Au(o.Iu)&&iP(e)}),eP.apply(this,arguments)}function tP(n,t){return nP.apply(this,arguments)}function nP(){return nP=(0,ut.Z)(function*(n,t){const e=Bt(n),i=t.query;let r=!1;const o=e.queries.get(i);if(o){const u=o.listeners.indexOf(t);u>=0&&(o.listeners.splice(u,1),r=0===o.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),nP.apply(this,arguments)}function t4(n,t){const e=Bt(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Au(r)&&(i=!0);u.Iu=r}}i&&iP(e)}function n4(n,t,e){const i=Bt(n),r=i.queries.get(t);if(r)for(const o of r.listeners)o.onError(e);i.queries.delete(t)}function iP(n){n.Tu.forEach(t=>{t.next()})}class rP{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new c_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=c_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class r4{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class jB{constructor(t){this.wt=t}Wi(t){return Uc(this.wt,t)}zi(t){return t.metadata.exists?VV(this.wt,t.document,!1):yi.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return Fr(t)}}class s4{constructor(t,e,i){this.xu=t,this.localStore=e,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=GB(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=Bn.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new jB(this.wt);for(const r of t)if(r.metadata.queries){const o=i.Wi(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Sn()).add(o);e.set(u,h)}}return e}complete(){var t=this;return(0,ut.Z)(function*(){const e=yield function RW(n,t,e,i){return xk.apply(this,arguments)}(t.localStore,new jB(t.wt),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield OW(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Mu:t.collectionGroups,Ou:e}})()}}function GB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class zB{constructor(t){this.key=t}}class $B{constructor(t){this.key=t}}class WB{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=Sn(),this.mutatedKeys=Sn(),this.Lu=cV(t),this.Uu=new l_(this.Lu)}get qu(){return this.Fu}Ku(t,e){const i=e?e.Gu:new HB,r=e?e.Uu:this.Uu;let o=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((I,H)=>{const De=r.get(I),Me=ck(this.query,H)?H:null,Le=!!De&&this.mutatedKeys.has(De.key),$e=!!Me&&(Me.hasLocalMutations||this.mutatedKeys.has(Me.key)&&Me.hasCommittedMutations);let st=!1;De&&Me?De.data.isEqual(Me.data)?Le!==$e&&(i.track({type:3,doc:Me}),st=!0):this.Qu(De,Me)||(i.track({type:2,doc:Me}),st=!0,(_&&this.Lu(Me,_)>0||w&&this.Lu(Me,w)<0)&&(h=!0)):!De&&Me?(i.track({type:0,doc:Me}),st=!0):De&&!Me&&(i.track({type:1,doc:De}),st=!0,(_||w)&&(h=!0)),st&&(Me?(u=u.add(Me),o=$e?o.add(I):o.delete(I)):(u=u.delete(I),o=o.delete(I)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const I="F"===this.query.limitType?u.last():u.first();u=u.delete(I.key),o=o.delete(I.key),i.track({type:1,doc:I})}return{Uu:u,Gu:i,Mi:h,mutatedKeys:o}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const o=t.Gu.pu();o.sort((w,I)=>function(H,De){const Me=Le=>{switch(Le){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt()}};return Me(H)-Me(De)}(w.type,I.type)||this.Lu(w.doc,I.doc)),this.ju(i);const u=e?this.Wu():[],h=0===this.Bu.size&&this.current?1:0,_=h!==this.$u;return this.$u=h,0!==o.length||_?{snapshot:new c_(this.query,t.Uu,r,o,t.mutatedKeys,0===h,_,!1),zu:u}:{zu:u}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new HB,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Sn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new $B(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new zB(i))}),e}Ju(t){this.Fu=t.ji,this.Bu=Sn();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return c_.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class o4{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class a4{constructor(t){this.key=t,this.Xu=!1}}class l4{constructor(t,e,i,r,o,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Zu={},this.tc=new _h(h=>aV(h),Pb),this.ec=new Map,this.nc=new Set,this.sc=new Ki(Lt.comparator),this.ic=new Map,this.rc=new wk,this.oc={},this.uc=new Map,this.cc=Ep.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function c4(n,t){return sP.apply(this,arguments)}function sP(){return sP=(0,ut.Z)(function*(n,t){const e=xP(n);let i,r;const o=e.tc.get(t);if(o)i=o.targetId,e.sharedClientState.addLocalQueryTarget(i),r=o.view.Yu();else{const u=yield n_(e.localStore,fo(t));e.isPrimaryClient&&QE(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield oP(e,t,i,"current"===h)}return r}),sP.apply(this,arguments)}function oP(n,t,e,i){return aP.apply(this,arguments)}function aP(){return aP=(0,ut.Z)(function*(n,t,e,i){n.hc=(I,H,De)=>{return(Me=(0,ut.Z)(function*(Le,$e,st,Mt){let Ut=$e.view.Ku(st);Ut.Mi&&(Ut=yield qE(Le.localStore,$e.query,!1).then(({documents:dn})=>$e.view.Ku(dn,Ut)));const Kt=Mt&&Mt.targetChanges.get($e.targetId),zt=$e.view.applyChanges(Ut,Le.isPrimaryClient,Kt);return _P(Le,$e.targetId,zt.zu),zt.snapshot}),function(Le,$e,st,Mt){return Me.apply(this,arguments)})(n,I,H,De);var Me};const r=yield qE(n.localStore,t,!0),o=new WB(t,r.ji),u=o.Ku(r.documents),h=Vb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),_=o.applyChanges(u,n.isPrimaryClient,h);_P(n,e,_.zu);const w=new o4(t,e,o);return n.tc.set(t,w),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),_.snapshot}),aP.apply(this,arguments)}function u4(n,t){return lP.apply(this,arguments)}function lP(){return lP=(0,ut.Z)(function*(n,t){const e=Bt(n),i=e.tc.get(t),r=e.ec.get(i.targetId);if(r.length>1)return e.ec.set(i.targetId,r.filter(o=>!Pb(o,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield i_(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Jb(e.remoteStore,i.targetId),u_(e,i.targetId)}).catch(dh))):(u_(e,i.targetId),yield i_(e.localStore,i.targetId,!0))}),lP.apply(this,arguments)}function cP(){return cP=(0,ut.Z)(function*(n,t,e){const i=IP(n);try{const r=yield function(o,u){const h=Bt(o),_=ki.now(),w=u.reduce((De,Me)=>De.add(Me.key),Sn());let I,H;return h.persistence.runTransaction("Locally write mutations","readwrite",De=>{let Me=po(),Le=Sn();return h.Ui.getEntries(De,w).next($e=>{Me=$e,Me.forEach((st,Mt)=>{Mt.isValidDocument()||(Le=Le.add(st))})}).next(()=>h.localDocuments.getOverlayedDocuments(De,Me)).next($e=>{I=$e;const st=[];for(const Mt of u){const Ut=b6(Mt,I.get(Mt.key).overlayedDocument);null!=Ut&&st.push(new Ju(Mt.key,Ut,XN(Ut.value.mapValue),Li.exists(!0)))}return h.mutationQueue.addMutationBatch(De,_,st,u)}).next($e=>{H=$e;const st=$e.applyToLocalDocumentSet(I,Le);return h.documentOverlayCache.saveOverlays(De,$e.batchId,st)})}).then(()=>({batchId:H.batchId,changes:SV(I)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(o,u,h){let _=o.oc[o.currentUser.toKey()];_||(_=new Ki(En)),_=_.insert(u,h),o.oc[o.currentUser.toKey()]=_}(i,r.batchId,e),yield ed(i,r.changes),yield s_(i.remoteStore)}catch(r){const o=a_(r,"Failed to persist write");e.reject(o)}}),cP.apply(this,arguments)}function qB(n,t){return uP.apply(this,arguments)}function uP(){return uP=(0,ut.Z)(function*(n,t){const e=Bt(n);try{const i=yield kW(e.localStore,t);t.targetChanges.forEach((r,o)=>{const u=e.ic.get(o);u&&(yn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Xu=!0:r.modifiedDocuments.size>0?yn(u.Xu):r.removedDocuments.size>0&&(yn(u.Xu),u.Xu=!1))}),yield ed(e,i,t)}catch(i){yield dh(i)}}),uP.apply(this,arguments)}function YB(n,t,e){const i=Bt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.tc.forEach((o,u)=>{const h=u.view.Eu(t);h.snapshot&&r.push(h.snapshot)}),function(o,u){const h=Bt(o);h.onlineState=u;let _=!1;h.queries.forEach((w,I)=>{for(const H of I.listeners)H.Eu(u)&&(_=!0)}),_&&iP(h)}(i.eventManager,t),r.length&&i.Zu.Go(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function h4(n,t,e){return dP.apply(this,arguments)}function dP(){return dP=(0,ut.Z)(function*(n,t,e){const i=Bt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ic.get(t),o=r&&r.key;if(o){let u=new Ki(Lt.comparator);u=u.insert(o,yi.newNoDocument(o,pn.min()));const h=Sn().add(o),_=new Nb(pn.min(),new Map,new di(En),u,h);yield qB(i,_),i.sc=i.sc.remove(o),i.ic.delete(t),yP(i)}else yield i_(i.localStore,t,!1).then(()=>u_(i,t,e)).catch(dh)}),dP.apply(this,arguments)}function f4(n,t){return hP.apply(this,arguments)}function hP(){return hP=(0,ut.Z)(function*(n,t){const e=Bt(n),i=t.batch.batchId;try{const r=yield MW(e.localStore,t);gP(e,i,null),mP(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield ed(e,r)}catch(r){yield dh(r)}}),hP.apply(this,arguments)}function p4(n,t,e){return fP.apply(this,arguments)}function fP(){return fP=(0,ut.Z)(function*(n,t,e){const i=Bt(n);try{const r=yield function(o,u){const h=Bt(o);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return h.mutationQueue.lookupMutationBatch(_,u).next(I=>(yn(null!==I),w=I.keys(),h.mutationQueue.removeMutationBatch(_,I))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>h.localDocuments.getDocuments(_,w))})}(i.localStore,t);gP(i,t,e),mP(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield ed(i,r)}catch(r){yield dh(r)}}),fP.apply(this,arguments)}function pP(){return pP=(0,ut.Z)(function*(n,t){const e=Bt(n);wh(e.remoteStore)||St("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(o){const u=Bt(o);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.uc.get(i)||[];r.push(t),e.uc.set(i,r)}catch(i){const r=a_(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),pP.apply(this,arguments)}function mP(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function gP(n,t,e){const i=Bt(n);let r=i.oc[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.oc[i.currentUser.toKey()]=r}}function u_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ec.get(t))n.tc.delete(i),e&&n.Zu.lc(i,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(i=>{n.rc.containsKey(i)||ZB(n,i)})}function ZB(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(Jb(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),yP(n))}function _P(n,t,e){for(const i of e)i instanceof zB?(n.rc.addReference(i.key,t),g4(n,i)):i instanceof $B?(St("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,t),n.rc.containsKey(i.key)||ZB(n,i.key)):qt()}function g4(n,t){const e=t.key,i=e.path.canonicalString();n.sc.get(e)||n.nc.has(i)||(St("SyncEngine","New document in limbo: "+e),n.nc.add(i),yP(n))}function yP(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new Lt(Bn.fromString(t)),i=n.cc.next();n.ic.set(i,new a4(e)),n.sc=n.sc.insert(e,i),QE(n.remoteStore,new yh(fo(Wg(e.path)),i,2,ho.ot))}}function ed(n,t,e){return vP.apply(this,arguments)}function vP(){return vP=(0,ut.Z)(function*(n,t,e){const i=Bt(n),r=[],o=[],u=[];var h;i.tc.isEmpty()||(i.tc.forEach((h,_)=>{u.push(i.hc(_,t,e).then(w=>{if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),r.push(w);const I=Ak.Vi(_.targetId,w);o.push(I)}}))}),yield Promise.all(u),i.Zu.Go(r),yield(h=(0,ut.Z)(function*(_,w){const I=Bt(_);try{yield I.persistence.runTransaction("notifyLocalViewChanges","readwrite",H=>et.forEach(w,De=>et.forEach(De.Pi,Me=>I.persistence.referenceDelegate.addReference(H,De.targetId,Me)).next(()=>et.forEach(De.vi,Me=>I.persistence.referenceDelegate.removeReference(H,De.targetId,Me)))))}catch(H){if(!hh(H))throw H;St("LocalStore","Failed to update sequence numbers: "+H)}for(const H of w){const De=H.targetId;if(!H.fromCache){const Me=I.$i.get(De),$e=Me.withLastLimboFreeSnapshotVersion(Me.snapshotVersion);I.$i=I.$i.insert(De,$e)}}}),function(_,w){return h.apply(this,arguments)})(i.localStore,o))}),vP.apply(this,arguments)}function _4(n,t){return bP.apply(this,arguments)}function bP(){return bP=(0,ut.Z)(function*(n,t){const e=Bt(n);if(!e.currentUser.isEqual(t)){St("SyncEngine","User change. New user:",t.toKey());const i=yield DB(e.localStore,t);e.currentUser=t,(r=e).uc.forEach(u=>{u.forEach(h=>{h.reject(new Ct(ot.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield ed(e,i.Ki)}var r}),bP.apply(this,arguments)}function y4(n,t){const e=Bt(n),i=e.ic.get(t);if(i&&i.Xu)return Sn().add(i.key);{let r=Sn();const o=e.ec.get(t);if(!o)return r;for(const u of o){const h=e.tc.get(u);r=r.unionWith(h.view.qu)}return r}}function v4(n,t){return wP.apply(this,arguments)}function wP(){return wP=(0,ut.Z)(function*(n,t){const e=Bt(n),i=yield qE(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&_P(e,t.targetId,r.zu),r}),wP.apply(this,arguments)}function b4(n,t){return CP.apply(this,arguments)}function CP(){return CP=(0,ut.Z)(function*(n,t){const e=Bt(n);return TB(e.localStore,t).then(i=>ed(e,i))}),CP.apply(this,arguments)}function w4(n,t,e,i){return DP.apply(this,arguments)}function DP(){return DP=(0,ut.Z)(function*(n,t,e,i){const r=Bt(n),o=yield function(u,h){const _=Bt(u),w=Bt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",I=>w.yn(I,h).next(H=>H?_.localDocuments.getDocuments(I,H):et.resolve(null)))}(r.localStore,t);var h;null!==o?("pending"===e?yield s_(r.remoteStore):"acknowledged"===e||"rejected"===e?(gP(r,t,i||null),mP(r,t),h=t,Bt(Bt(r.localStore).mutationQueue).In(h)):qt(),yield ed(r,o)):St("SyncEngine","Cannot apply mutation batch with id: "+t)}),DP.apply(this,arguments)}function EP(){return EP=(0,ut.Z)(function*(n,t){const e=Bt(n);if(xP(e),IP(e),!0===t&&!0!==e.ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield KB(e,i.toArray());e.ac=!0,yield Kk(e.remoteStore,!0);for(const o of r)QE(e.remoteStore,o)}else if(!1===t&&!1!==e.ac){const i=[];let r=Promise.resolve();e.ec.forEach((o,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(u_(e,u),i_(e.localStore,u,!0))),Jb(e.remoteStore,u)}),yield r,yield KB(e,i),function(o){const u=Bt(o);u.ic.forEach((h,_)=>{Jb(u.remoteStore,_)}),u.rc.cs(),u.ic=new Map,u.sc=new Ki(Lt.comparator)}(e),e.ac=!1,yield Kk(e.remoteStore,!1)}}),EP.apply(this,arguments)}function KB(n,t,e){return AP.apply(this,arguments)}function AP(){return AP=(0,ut.Z)(function*(n,t,e){const i=Bt(n),r=[],o=[];for(const u of t){let h;const _=i.ec.get(u);if(_&&0!==_.length){h=yield n_(i.localStore,fo(_[0]));for(const w of _){const I=i.tc.get(w),H=yield v4(i,I);H.snapshot&&o.push(H.snapshot)}}else{const w=yield SB(i.localStore,u);h=yield n_(i.localStore,w),yield oP(i,QB(w),u,!1)}r.push(h)}return i.Zu.Go(o),r}),AP.apply(this,arguments)}function QB(n){return sV(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function D4(n){const t=Bt(n);return Bt(Bt(t.localStore).persistence).Ri()}function E4(n,t,e,i){return SP.apply(this,arguments)}function SP(){return SP=(0,ut.Z)(function*(n,t,e,i){const r=Bt(n);if(r.ac)return void St("SyncEngine","Ignoring unexpected query state notification.");const o=r.ec.get(t);if(o&&o.length>0)switch(e){case"current":case"not-current":{const u=yield TB(r.localStore,lV(o[0])),h=Nb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield ed(r,u,h);break}case"rejected":yield i_(r.localStore,t,!0),u_(r,t,i);break;default:qt()}}),SP.apply(this,arguments)}function A4(n,t,e){return TP.apply(this,arguments)}function TP(){return TP=(0,ut.Z)(function*(n,t,e){const i=xP(n);if(i.ac){for(const r of t){if(i.ec.has(r)){St("SyncEngine","Adding an already active target "+r);continue}const o=yield SB(i.localStore,r),u=yield n_(i.localStore,o);yield oP(i,QB(o),u.targetId,!1),QE(i.remoteStore,u)}for(const r of e)i.ec.has(r)&&(yield i_(i.localStore,r,!1).then(()=>{Jb(i.remoteStore,r),u_(i,r)}).catch(dh))}}),TP.apply(this,arguments)}function xP(n){const t=Bt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=qB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=y4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=h4.bind(null,t),t.Zu.Go=t4.bind(null,t.eventManager),t.Zu.lc=n4.bind(null,t.eventManager),t}function IP(n){const t=Bt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=f4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=p4.bind(null,t),t}class XB{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ut.Z)(function*(){e.wt=Qb(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return CB(this.persistence,new wB,t.initialUser,this.wt)}_c(t){return new vB($E.Os,this.wt)}dc(t){return new kB}terminate(){var t=this;return(0,ut.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class JB extends XB{constructor(t,e,i){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ut.Z)(function*(){yield e().call(i,t),yield i.yc.initialize(i,t),yield IP(i.yc.syncEngine),yield s_(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return CB(this.persistence,new wB,t.initialUser,this.wt)}mc(t,e){return new mW(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const i=new Q$(e,this.persistence);return new K$(t.asyncQueue,i)}_c(t){const e=Ek(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?mo.withCacheSize(this.cacheSizeBytes):mo.DEFAULT;return new Dk(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,RB(),KE(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new kB}}class T4 extends JB{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ut.Z)(function*(){yield e().call(i,t);const r=i.yc.syncEngine;i.sharedClientState instanceof Rk&&(i.sharedClientState.syncEngine={kr:w4.bind(null,r),Mr:E4.bind(null,r),Or:A4.bind(null,r),Ri:D4.bind(null,r),Nr:b4.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var o=(0,ut.Z)(function*(u){yield function C4(n,t){return EP.apply(this,arguments)}(i.yc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return o.apply(this,arguments)}}())})()}dc(t){const e=RB();if(!Rk.V(e))throw new Ct(ot.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=Ek(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Rk(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class MP{initialize(t,e){var i=this;return(0,ut.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>YB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=_4.bind(null,i.syncEngine),yield Kk(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new e4}createDatastore(t){const e=Qb(t.databaseInfo.databaseId),i=new VW(t.databaseInfo);return new HW(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,o=h=>YB(this.syncEngine,h,0),u=PB.V()?new PB:new FW,new GW(e,i,r,o,u);var e,i,r,o,u}createSyncEngine(t,e){return function(i,r,o,u,h,_,w){const I=new l4(i,r,o,u,h,_);return w&&(I.ac=!0),I}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ut.Z)(function*(e){const i=Bt(e);St("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield r_(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function e2(n,t=10240){let e=0;return{read:()=>(0,ut.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ut.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class JE{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):ir("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class x4{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new Or,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,ut.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,ut.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,ut.Z)(function*(){const e=yield t.bc();if(null===e)return null;const i=t.Ac.decode(e),r=Number(i);isNaN(r)&&t.Pc(`length string (${i}) is not valid number`);const o=yield t.vc(r);return new r4(JSON.parse(o),e.length+r)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,ut.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}vc(t){var e=this;return(0,ut.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const i=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,ut.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class I4{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ut.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ct(ot.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ut.Z)(function*(o,u){const h=Bt(o),_=Hb(h.wt)+"/documents",w={documents:u.map(Me=>Ub(h.wt,Me))},I=yield h.ao("BatchGetDocuments",_,w,u.length),H=new Map;I.forEach(Me=>{const Le=function k6(n,t){return"found"in t?function(e,i){yn(!!i.found);const r=Uc(e,i.found.name),o=Fr(i.found.updateTime),u=new is({mapValue:{fields:i.found.fields}});return yi.newFoundDocument(r,o,u)}(n,t):"missing"in t?function(e,i){yn(!!i.missing),yn(!!i.readTime);const r=Uc(e,i.missing),o=Fr(i.readTime);return yi.newNoDocument(r,o)}(n,t):qt()}(h.wt,Me);H.set(Le.key.toString(),Le)});const De=[];return u.forEach(Me=>{const Le=H.get(Me.toString());yn(!!Le),De.push(Le)}),De}),function(o,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Qg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ut.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const o=Lt.fromPath(r);t.mutations.push(new uk(o,t.precondition(o)))}),yield(i=(0,ut.Z)(function*(r,o){const u=Bt(r),h=Hb(u.wt)+"/documents",_={writes:o.map(w=>jb(u.wt,w))};yield u.ro("Commit",h,_)}),function(r,o){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw qt();e=pn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ct(ot.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Li.updateTime(e):Li.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(pn.min()))throw new Ct(ot.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Li.updateTime(e)}return Li.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class M4{constructor(t,e,i,r,o){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=o,this.Dc=i.maxAttempts,this.So=new Ok(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,ut.Z)(function*(){const e=new I4(t.datastore),i=t.xc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(o=>{t.Nc(o)}))}).catch(r=>{t.Nc(r)})}))}xc(t){try{const e=this.updateFunction(t);return!Sb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!DV(e)}return!1}}class k4{constructor(t,e,i,r){var o=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Rr.UNAUTHENTICATED,this.clientId=ON.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ut.Z)(function*(h){St("FirestoreClient","Received user=",h.uid),yield o.authCredentialListener(h),o.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(St("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,ut.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ct(ot.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ut.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=a_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function t2(n,t){return kP.apply(this,arguments)}function kP(){return kP=(0,ut.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ut.Z)(function*(o){i.isEqual(o)||(yield DB(t.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),kP.apply(this,arguments)}function n2(n,t){return PP.apply(this,arguments)}function PP(){return PP=(0,ut.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield RP(n);St("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>UB(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>UB(t.remoteStore,o)),n.onlineComponents=t}),PP.apply(this,arguments)}function RP(n){return OP.apply(this,arguments)}function OP(){return OP=(0,ut.Z)(function*(n){return n.offlineComponents||(St("FirestoreClient","Using default OfflineComponentProvider"),yield t2(n,new XB)),n.offlineComponents}),OP.apply(this,arguments)}function eA(n){return FP.apply(this,arguments)}function FP(){return FP=(0,ut.Z)(function*(n){return n.onlineComponents||(St("FirestoreClient","Using default OnlineComponentProvider"),yield n2(n,new MP)),n.onlineComponents}),FP.apply(this,arguments)}function r2(n){return RP(n).then(t=>t.persistence)}function tA(n){return RP(n).then(t=>t.localStore)}function s2(n){return eA(n).then(t=>t.remoteStore)}function LP(n){return eA(n).then(t=>t.syncEngine)}function d_(n){return NP.apply(this,arguments)}function NP(){return NP=(0,ut.Z)(function*(n){const t=yield eA(n),e=t.eventManager;return e.onListen=c4.bind(null,t.syncEngine),e.onUnlisten=u4.bind(null,t.syncEngine),e}),NP.apply(this,arguments)}function o2(n,t,e={}){const i=new Or;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function(r,o,u,h,_){const w=new JE({next:H=>{o.enqueueAndForget(()=>tP(r,I));const De=H.docs.has(u);!De&&H.fromCache?_.reject(new Ct(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):De&&H.fromCache&&h&&"server"===h.source?_.reject(new Ct(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(H)},error:H=>_.reject(H)}),I=new rP(Wg(u.path),w,{includeMetadataChanges:!0,Du:!0});return Jk(r,I)}(yield d_(n),n.asyncQueue,t,e,i)})),i.promise}function a2(n,t,e={}){const i=new Or;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function(r,o,u,h,_){const w=new JE({next:H=>{o.enqueueAndForget(()=>tP(r,I)),H.fromCache&&"server"===h.source?_.reject(new Ct(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(H)},error:H=>_.reject(H)}),I=new rP(u,w,{includeMetadataChanges:!0,Du:!0});return Jk(r,I)}(yield d_(n),n.asyncQueue,t,e,i)})),i.promise}const l2=new Map;function VP(n,t,e){if(!e)throw new Ct(ot.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function c2(n,t,e,i){if(!0===t&&!0===i)throw new Ct(ot.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function u2(n){if(!Lt.isDocumentKey(n))throw new Ct(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function d2(n){if(Lt.isDocumentKey(n))throw new Ct(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function nA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":qt()}function Ln(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ct(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=nA(n);throw new Ct(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function h2(n,t){if(t<=0)throw new Ct(ot.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class f2{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ct(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ct(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,c2("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class e0{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new f2({}),this._settingsFrozen=!1,t instanceof Qu?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ct(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qu(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ct(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ct(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new f2(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new V$;switch(e.type){case"gapi":const i=e.client;return yn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new j$(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ct(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=l2.get(t);e&&(St("ComponentProvider","Removing Datastore"),l2.delete(t),e.terminate())}(this),Promise.resolve()}}class Ai{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new jc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ai(this.firestore,t,this._key)}}class gs{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new gs(this.firestore,t,this._query)}}class jc extends gs{constructor(t,e,i){super(t,e,Wg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ai(this.firestore,null,new Lt(t))}withConverter(t){return new jc(this.firestore,t,this._path)}}function p2(n,t,...e){if(n=(0,In.m9)(n),VP("collection","path",t),n instanceof e0){const i=Bn.fromString(t,...e);return d2(i),new jc(n,null,i)}{if(!(n instanceof Ai||n instanceof jc))throw new Ct(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Bn.fromString(t,...e));return d2(i),new jc(n.firestore,null,i)}}function iA(n,t,...e){if(n=(0,In.m9)(n),1===arguments.length&&(t=ON.I()),VP("doc","path",t),n instanceof e0){const i=Bn.fromString(t,...e);return u2(i),new Ai(n,null,new Lt(i))}{if(!(n instanceof Ai||n instanceof jc))throw new Ct(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Bn.fromString(t,...e));return u2(i),new Ai(n.firestore,n instanceof jc?n.converter:null,new Lt(i))}}function m2(n,t){return n=(0,In.m9)(n),t=(0,In.m9)(t),(n instanceof Ai||n instanceof jc)&&(t instanceof Ai||t instanceof jc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function g2(n,t){return n=(0,In.m9)(n),t=(0,In.m9)(t),n instanceof gs&&t instanceof gs&&n.firestore===t.firestore&&Pb(n._query,t._query)&&n.converter===t.converter}class j4{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new Ok(this,"async_queue_retry"),this.Kc=()=>{const e=KE();e&&St("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=KE();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=KE();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new Or;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Oc.push(t),this.jc()))}jc(){var t=this;return(0,ut.Z)(function*(){if(0!==t.Oc.length){try{yield t.Oc[0](),t.Oc.shift(),t.So.reset()}catch(e){if(!hh(e))throw e;St("AsyncQueue","Operation failed with retryable error: "+e)}t.Oc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Mc.then(()=>(this.Lc=!0,t().catch(i=>{throw this.Bc=i,this.Lc=!1,ir("INTERNAL UNHANDLED ERROR: ",function(o){let u=o.message||"";return o.stack&&(u=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),u}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Mc=e,e}enqueueAfterDelay(t,e,i){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const r=Xk.createAndSchedule(this,t,e,i,o=>this.Wc(o));return this.$c.push(r),r}Gc(){this.Bc&&qt()}verifyOperationInProgress(){}zc(){var t=this;return(0,ut.Z)(function*(){let e;do{e=t.Mc,yield e}while(e!==t.Mc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function BP(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class G4{constructor(){this._progressObserver={},this._taskCompletionResolver=new Or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Pi extends e0{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new j4,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||_2(this),this._firestoreClient.terminate()}}function fr(n){return n._firestoreClient||_2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function _2(n){var t;const e=n._freezeSettings(),i=(o=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new e6(n._databaseId,o,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var o,h;n._firestoreClient=new k4(n._authCredentials,n._appCheckCredentials,n._queue,i)}function y2(n,t,e){const i=new Or;return n.asyncQueue.enqueue((0,ut.Z)(function*(){try{yield t2(n,e),yield n2(n,t),i.resolve()}catch(r){const o=r;if(!("FirebaseError"===(u=o).name?u.code===ot.FAILED_PRECONDITION||u.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw o;lp("Error enabling offline persistence. Falling back to persistence disabled: "+o),i.reject(o)}var u})).then(()=>i.promise)}function v2(n){if(n._initialized||n._terminated)throw new Ct(ot.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class td{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ct(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Gc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Gc(vr.fromBase64String(t))}catch(e){throw new Ct(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Gc(vr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Sp{constructor(t){this._methodName=t}}class rA{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return En(this._lat,t._lat)||En(this._long,t._long)}}const J4=/^__.*__$/;class eq{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new Ju(t,this.data,this.fieldMask,e,this.fieldTransforms):new Kg(t,this.data,e,this.fieldTransforms)}}class b2{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Ju(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function w2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt()}}class sA{constructor(t,e,i,r,o,u){this.settings=t,this.databaseId=e,this.wt=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Xc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new sA(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.sa(t),r}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return lA(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(w2(this.Zc)&&J4.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class tq{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=i||Qb(t)}aa(t,e,i,r=!1){return new sA({Zc:t,methodName:e,ca:i,path:Zi.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function Tp(n){const t=n._freezeSettings(),e=Qb(n._databaseId);return new tq(n._databaseId,!!t.ignoreUndefinedProperties,e)}function oA(n,t,e,i,r,o={}){const u=n.aa(o.merge||o.mergeFields?2:0,t,e,r);GP("Data must be an object, but it was:",u,i);const h=E2(i,u);let _,w;if(o.merge)_=new Qo(u.fieldMask),w=u.fieldTransforms;else if(o.mergeFields){const I=[];for(const H of o.mergeFields){const De=zP(t,H,e);if(!u.contains(De))throw new Ct(ot.INVALID_ARGUMENT,`Field '${De}' is specified in your field mask but missing from your input data.`);S2(I,De)||I.push(De)}_=new Qo(I),w=u.fieldTransforms.filter(H=>_.covers(H.field))}else _=null,w=u.fieldTransforms;return new eq(new is(h),_,w)}class t0 extends Sp{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof t0}}function C2(n,t,e){return new sA({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class UP extends Sp{_toFieldTransform(t){return new Rb(t.path,new Yg)}isEqual(t){return t instanceof UP}}class nq extends Sp{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=C2(this,t,!0),i=this.ha.map(o=>xp(o,e)),r=new gp(i);return new Rb(t.path,r)}isEqual(t){return this===t}}class iq extends Sp{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=C2(this,t,!0),i=this.ha.map(o=>xp(o,e)),r=new _p(i);return new Rb(t.path,r)}isEqual(t){return this===t}}class rq extends Sp{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new Zg(t.wt,hV(t.wt,this.la));return new Rb(t.path,e)}isEqual(t){return this===t}}function HP(n,t,e,i){const r=n.aa(1,t,e);GP("Data must be an object, but it was:",r,i);const o=[],u=is.empty();dp(i,(_,w)=>{const I=aA(t,_,e);w=(0,In.m9)(w);const H=r.ia(I);if(w instanceof t0)o.push(I);else{const De=xp(w,H);null!=De&&(o.push(I),u.set(I,De))}});const h=new Qo(o);return new b2(u,h,r.fieldTransforms)}function jP(n,t,e,i,r,o){const u=n.aa(1,t,e),h=[zP(t,i,e)],_=[r];if(o.length%2!=0)throw new Ct(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let De=0;De<o.length;De+=2)h.push(zP(t,o[De])),_.push(o[De+1]);const w=[],I=is.empty();for(let De=h.length-1;De>=0;--De)if(!S2(w,h[De])){const Me=h[De];let Le=_[De];Le=(0,In.m9)(Le);const $e=u.ia(Me);if(Le instanceof t0)w.push(Me);else{const st=xp(Le,$e);null!=st&&(w.push(Me),I.set(Me,st))}}const H=new Qo(w);return new b2(I,H,u.fieldTransforms)}function D2(n,t,e,i=!1){return xp(e,n.aa(i?4:3,t))}function xp(n,t){if(A2(n=(0,In.m9)(n)))return GP("Unsupported field value:",t,n),E2(n,t);if(n instanceof Sp)return function(e,i){if(!w2(i.Zc))throw i.oa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,i){const r=[];let o=0;for(const u of e){let h=xp(u,i.ra(o));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),o++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,In.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return hV(i.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=ki.fromDate(e);return{timestampValue:Bb(i.wt,r)}}if(e instanceof ki){const r=new ki(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Bb(i.wt,r)}}if(e instanceof rA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Gc)return{bytesValue:RV(i.wt,e._byteString)};if(e instanceof Ai){const r=i.databaseId,o=e.firestore._databaseId;if(!o.isEqual(r))throw i.oa(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:dk(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.oa(`Unsupported field value: ${nA(e)}`)}(n,t)}function E2(n,t){const e={};return jN(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):dp(n,(i,r)=>{const o=xp(r,t.ea(i));null!=o&&(e[i]=o)}),{mapValue:{fields:e}}}function A2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof ki||n instanceof rA||n instanceof Gc||n instanceof Ai||n instanceof Sp)}function GP(n,t,e){if(!A2(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=nA(e);throw t.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function zP(n,t,e){if((t=(0,In.m9)(t))instanceof td)return t._internalPath;if("string"==typeof t)return aA(n,t);throw lA("Field path arguments must be of type string or ",n,!1,void 0,e)}const sq=new RegExp("[~\\*/\\[\\]]");function aA(n,t,e){if(t.search(sq)>=0)throw lA(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new td(...t.split("."))._internalPath}catch{throw lA(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function lA(n,t,e,i,r){const o=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(o||u)&&(_+=" (found",o&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Ct(ot.INVALID_ARGUMENT,h+n+_)}function S2(n,t){return n.some(e=>e.isEqual(t))}class n0{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Ai(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new oq(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(cA("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class oq extends n0{data(){return super.data()}}function cA(n,t){return"string"==typeof t?aA(n,t):t instanceof td?t._internalPath:t._delegate._internalPath}class Ip{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class nd extends n0{constructor(t,e,i,r,o,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new r0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(cA("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class r0 extends nd{data(t={}){return super.data(t)}}class Dh{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ip(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new r0(this._firestore,this._userDataWriter,i.key,i,new Ip(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new r0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ip(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new r0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Ip(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=o.indexOf(u.doc.key),o=o.delete(u.doc.key)),1!==u.type&&(o=o.add(u.doc),w=o.indexOf(u.doc.key)),{type:aq(u.type),doc:h,oldIndex:_,newIndex:w}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function aq(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt()}}function T2(n,t){return n instanceof nd&&t instanceof nd?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof Dh&&t instanceof Dh&&n._firestore===t._firestore&&g2(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function x2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ct(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class s0{}function Eh(n,...t){for(const e of t)n=e._apply(n);return n}class lq extends s0{constructor(t,e,i){super(),this.fa=t,this.da=e,this._a=i,this.type="where"}_apply(t){const e=Tp(t.firestore),i=function(r,o,u,h,_,w,I){let H;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ct(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){O2(I,w);const Me=[];for(const Le of I)Me.push(R2(h,r,Le));H={arrayValue:{values:Me}}}else H=R2(h,r,I)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||O2(I,w),H=D2(u,"where",I,"in"===w||"not-in"===w);const De=rs.create(_,w,H);return function(Me,Le){if(Le.ht()){const st=ok(Me);if(null!==st&&!st.isEqual(Le.field))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${st.toString()}' and '${Le.field.toString()}'`);const Mt=sk(Me);null!==Mt&&F2(0,Le.field,Mt)}const $e=function(st,Mt){for(const Ut of st.filters)if(Mt.indexOf(Ut.op)>=0)return Ut.op;return null}(Me,function(st){switch(st){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Le.op));if(null!==$e)throw new Ct(ot.INVALID_ARGUMENT,$e===Le.op?`Invalid query. You cannot use more than one '${Le.op.toString()}' filter.`:`Invalid query. You cannot use '${Le.op.toString()}' filters with '${$e.toString()}' filters.`)}(r,De),De}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new gs(t.firestore,t.converter,function(r,o){const u=r.filters.concat([o]);return new Xu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class uq extends s0{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(i,r,o){if(null!==i.startAt)throw new Ct(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ct(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new $g(r,o);return function(h,_){if(null===sk(h)){const w=ok(h);null!==w&&F2(0,w,_.field)}}(i,u),u}(t._query,this.fa,this.wa);return new gs(t.firestore,t.converter,function(i,r){const o=i.explicitOrderBy.concat([r]);return new Xu(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class I2 extends s0{constructor(t,e,i){super(),this.type=t,this.ma=e,this.ga=i}_apply(t){return new gs(t.firestore,t.converter,kE(t._query,this.ma,this.ga))}}class M2 extends s0{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=P2(t,this.type,this.ya,this.pa);return new gs(t.firestore,t.converter,(r=e,new Xu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class k2 extends s0{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=P2(t,this.type,this.ya,this.pa);return new gs(t.firestore,t.converter,(r=e,new Xu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function P2(n,t,e,i){if(e[0]=(0,In.m9)(e[0]),e[0]instanceof n0)return function(r,o,u,h,_){if(!h)throw new Ct(ot.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const I of qg(r))if(I.field.isKeyField())w.push(pp(o,h.key));else{const H=h.data.field(I.field);if(nk(H))throw new Ct(ot.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+I.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===H){const De=I.field.canonicalString();throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${De}' (used as the orderBy) does not exist.`)}w.push(H)}return new gh(w,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=Tp(n.firestore);return function(o,u,h,_,w,I){const H=o.explicitOrderBy;if(w.length>H.length)throw new Ct(ot.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const De=[];for(let Me=0;Me<w.length;Me++){const Le=w[Me];if(H[Me].field.isKeyField()){if("string"!=typeof Le)throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Le}`);if(!ak(o)&&-1!==Le.indexOf("/"))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Le}' contains a slash.`);const $e=o.path.child(Bn.fromString(Le));if(!Lt.isDocumentKey($e))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${$e}' is not because it contains an odd number of segments.`);const st=new Lt($e);De.push(pp(u,st))}else{const $e=D2(h,_,Le);De.push($e)}}return new gh(De,I)}(n._query,n.firestore._databaseId,r,t,e,i)}}function R2(n,t,e){if("string"==typeof(e=(0,In.m9)(e))){if(""===e)throw new Ct(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ak(t)&&-1!==e.indexOf("/"))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Bn.fromString(e));if(!Lt.isDocumentKey(i))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return pp(n,new Lt(i))}if(e instanceof Ai)return pp(n,e._key);throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nA(e)}.`)}function O2(n,t){if(!Array.isArray(n)||0===n.length)throw new Ct(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ct(ot.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function F2(n,t,e){if(!e.isEqual(t))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const yq={maxAttempts:5};class $P{convertValue(t,e="none"){switch(fp(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Qi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(hp(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw qt()}}convertObject(t,e){const i={};return dp(t.fields,(r,o)=>{i[r]=this.convertValue(o,e)}),i}convertGeoPoint(t){return new rA(Qi(t.latitude),Qi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=zN(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Ab(t));default:return null}}convertTimestamp(t){const e=fh(t);return new ki(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Bn.fromString(t);yn(GV(i));const r=new Qu(i.get(1),i.get(3)),o=new Lt(i.popFirst(5));return r.isEqual(e)||ir(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function uA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class vq extends $P{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ai(this.firestore,null,e)}}class L2{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Tp(t)}set(t,e,i){this._verifyNotCommitted();const r=Ah(t,this._firestore),o=uA(r.converter,e,i),u=oA(this._dataReader,"WriteBatch.set",r._key,o,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Li.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Ah(t,this._firestore);let u;return u="string"==typeof(e=(0,In.m9)(e))||e instanceof td?jP(this._dataReader,"WriteBatch.update",o._key,e,i,r):HP(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(u.toMutation(o._key,Li.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ah(t,this._firestore);return this._mutations=this._mutations.concat(new Qg(e._key,Li.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ct(ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ah(n,t){if((n=(0,In.m9)(n)).firestore!==t)throw new Ct(ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Mp extends $P{constructor(t){super(),this.firestore=t}convertBytes(t){return new Gc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Ai(this.firestore,null,e)}}function N2(n,t,e){n=Ln(n,Ai);const i=Ln(n.firestore,Pi),r=uA(n.converter,t,e);return h_(i,[oA(Tp(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Li.none())])}function V2(n,t,e,...i){n=Ln(n,Ai);const r=Ln(n.firestore,Pi),o=Tp(r);let u;return u="string"==typeof(t=(0,In.m9)(t))||t instanceof td?jP(o,"updateDoc",n._key,t,e,i):HP(o,"updateDoc",n._key,t),h_(r,[u.toMutation(n._key,Li.exists(!0))])}function B2(n,...t){var e,i,r;n=(0,In.m9)(n);let o={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||BP(t[u])||(o=t[u],u++);const h={includeMetadataChanges:o.includeMetadataChanges};if(BP(t[u])){const H=t[u];t[u]=null===(e=H.next)||void 0===e?void 0:e.bind(H),t[u+1]=null===(i=H.error)||void 0===i?void 0:i.bind(H),t[u+2]=null===(r=H.complete)||void 0===r?void 0:r.bind(H)}let _,w,I;if(n instanceof Ai)w=Ln(n.firestore,Pi),I=Wg(n._key.path),_={next:H=>{t[u]&&t[u](WP(w,n,H))},error:t[u+1],complete:t[u+2]};else{const H=Ln(n,gs);w=Ln(H.firestore,Pi),I=H._query;const De=new Mp(w);_={next:Me=>{t[u]&&t[u](new Dh(w,De,H,Me))},error:t[u+1],complete:t[u+2]},x2(n._query)}return function(H,De,Me,Le){const $e=new JE(Le),st=new rP(De,$e,Me);return H.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return Jk(yield d_(H),st)})),()=>{$e.Tc(),H.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return tP(yield d_(H),st)}))}}(fr(w),I,h,_)}function h_(n,t){return function(e,i){const r=new Or;return e.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function d4(n,t,e){return cP.apply(this,arguments)}(yield LP(e),i,r)})),r.promise}(fr(n),t)}function WP(n,t,e){const i=e.docs.get(t._key),r=new Mp(n);return new nd(n,r,t._key,i,new Ip(e.hasPendingWrites,e.fromCache),t.converter)}class Iq extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Tp(t)}get(t){const e=Ah(t,this._firestore),i=new vq(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return qt();const o=r[0];if(o.isFoundDocument())return new n0(this._firestore,i,o.key,o,e.converter);if(o.isNoDocument())return new n0(this._firestore,i,e._key,null,e.converter);throw qt()})}set(t,e,i){const r=Ah(t,this._firestore),o=uA(r.converter,e,i),u=oA(this._dataReader,"Transaction.set",r._key,o,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const o=Ah(t,this._firestore);let u;return u="string"==typeof(e=(0,In.m9)(e))||e instanceof td?jP(this._dataReader,"Transaction.update",o._key,e,i,r):HP(this._dataReader,"Transaction.update",o._key,e),this._transaction.update(o._key,u),this}delete(t){const e=Ah(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=Ah(t,this._firestore),i=new Mp(this._firestore);return super.get(t).then(r=>new nd(this._firestore,i,e._key,r._document,new Ip(!1,!1),e.converter))}}function qP(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ct("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function H2(){if(typeof Uint8Array>"u")throw new Ct("unimplemented","Uint8Arrays are not available in this environment.")}function j2(){if(!function X$(){return typeof atob<"u"}())throw new Ct("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Hg=np.SDK_VERSION,(0,np._registerComponent)(new GD.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),o=new Pi(r,new U$(e.getProvider("auth-internal")),new G$(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC")),(0,np.registerVersion)(kN,"3.4.14",n),(0,np.registerVersion)(kN,"3.4.14","esm2017")}();class o0{constructor(t){this._delegate=t}static fromBase64String(t){return j2(),new o0(Gc.fromBase64String(t))}static fromUint8Array(t){return H2(),new o0(Gc.fromUint8Array(t))}toBase64(){return j2(),this._delegate.toBase64()}toUint8Array(){return H2(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function YP(n){return function Vq(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class Bq{enableIndexedDbPersistence(t,e){return function $4(n,t){v2(n=Ln(n,Pi));const e=fr(n),i=n._freezeSettings(),r=new MP;return y2(e,r,new JB(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function W4(n){v2(n=Ln(n,Pi));const t=fr(n),e=n._freezeSettings(),i=new MP;return y2(t,i,new T4(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function q4(n){if(n._initialized&&!n._terminated)throw new Ct(ot.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Or;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ut.Z)(function*(){try{yield(e=(0,ut.Z)(function*(i){if(!Ll.V())return Promise.resolve();const r=i+"main";yield Ll.delete(r)}),function(i){return e.apply(this,arguments)})(Ek(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class G2{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof Qu||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&lp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function U4(n,t,e,i={}){var r;const o=(n=Ln(n,e0))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&lp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Rr.MOCK_USER;else{u=(0,In.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ct(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Rr(_)}n._authCredentials=new B$(new PN(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function Z4(n){return function P4(n){return n.asyncQueue.enqueue((0,ut.Z)(function*(){const t=yield r2(n),e=yield s2(n);return t.setNetworkEnabled(!0),function(i){const r=Bt(i);return r.lu.delete(0),Xb(r)}(e)}))}(fr(n=Ln(n,Pi)))}(this._delegate)}disableNetwork(){return function K4(n){return function R4(n){return n.asyncQueue.enqueue((0,ut.Z)(function*(){const t=yield r2(n),e=yield s2(n);return t.setNetworkEnabled(!1),(i=(0,ut.Z)(function*(r){const o=Bt(r);o.lu.add(0),yield r_(o),o._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(fr(n=Ln(n,Pi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,c2("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function Y4(n){return function(t){const e=new Or;return t.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function m4(n,t){return pP.apply(this,arguments)}(yield LP(t),e)})),e.promise}(fr(n=Ln(n,Pi)))}(this._delegate)}onSnapshotsInSync(t){return function xq(n,t){return function L4(n,t){const e=new JE(t);return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return i=yield d_(n),r=e,Bt(i).Tu.add(r),void r.next();var i,r})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return i=yield d_(n),r=e,void Bt(i).Tu.delete(r);var i,r}))}}(fr(n=Ln(n,Pi)),BP(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ct("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new f_(this,p2(this._delegate,t))}catch(e){throw Hs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Na(this,iA(this._delegate,t))}catch(e){throw Hs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new js(this,function H4(n,t){if(n=Ln(n,e0),VP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ct(ot.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new gs(n,null,(e=t,new Xu(Bn.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Hs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function Mq(n,t,e){n=Ln(n,Pi);const i=Object.assign(Object.assign({},yq),e);return function(r){if(r.maxAttempts<1)throw new Ct(ot.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function N4(n,t,e){const i=new Or;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){const r=yield(o=n,eA(o).then(u=>u.datastore));var o;new M4(n.asyncQueue,r,e,t,i).run()})),i.promise}(fr(n),r=>t(new Iq(n,r)),i)}(this._delegate,e=>t(new z2(this,e)))}batch(){return fr(this._delegate),new $2(new L2(this._delegate,t=>h_(this._delegate,t)))}loadBundle(t){return function Q4(n,t){const e=fr(n=Ln(n,Pi)),i=new G4;return function V4(n,t,e,i){const r=function(o,u){let h;return h="string"==typeof o?(new TextEncoder).encode(o):o,_=function(_,w){if(_ instanceof Uint8Array)return e2(_,w);if(_ instanceof ArrayBuffer)return e2(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new x4(_,u);var _}(e,Qb(t));n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){!function S4(n,t,e){const i=Bt(n);var r;(r=(0,ut.Z)(function*(o,u,h){try{const _=yield u.getMetadata();if(yield function(De,Me){const Le=Bt(De),$e=Fr(Me.createTime);return Le.persistence.runTransaction("hasNewerBundle","readonly",st=>Le.Ds.getBundleMetadata(st,Me.id)).then(st=>!!st&&st.createTime.compareTo($e)>=0)}(o.localStore,_))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(De=_).totalDocuments,bytesLoaded:De.totalBytes,totalDocuments:De.totalDocuments,totalBytes:De.totalBytes}),Promise.resolve(new Set);h._updateProgress(GB(_));const w=new s4(_,o.localStore,u.wt);let I=yield u.fc();for(;I;){const De=yield w.Nu(I);De&&h._updateProgress(De),I=yield u.fc()}const H=yield w.complete();return yield ed(o,H.Ou,void 0),yield function(De,Me){const Le=Bt(De);return Le.persistence.runTransaction("Save bundle","readwrite",$e=>Le.Ds.saveBundleMetadata($e,Me))}(o.localStore,_),h._completeWith(H.progress),Promise.resolve(H.Mu)}catch(_){return lp("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var De}),function(o,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield LP(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function X4(n,t){return function B4(n,t){return n.asyncQueue.enqueue((0,ut.Z)(function*(){return function(e,i){const r=Bt(e);return r.persistence.runTransaction("Get named query","readonly",o=>r.Ds.getNamedQuery(o,i))}(yield tA(n),t)}))}(fr(n=Ln(n,Pi)),t).then(e=>e?new gs(n,null,e.query):null)}(this._delegate,t).then(e=>e?new js(this,e):null)}}class dA extends $P{constructor(t){super(),this.firestore=t}convertBytes(t){return new o0(new Gc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Na.forKey(e,this.firestore,null)}}class z2{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new dA(t)}get(t){const e=Pp(t);return this._delegate.get(e).then(i=>new a0(this._firestore,new nd(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Pp(t);return i?(qP("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Pp(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Pp(t);return this._delegate.delete(e),this}}class $2{constructor(t){this._delegate=t}set(t,e,i){const r=Pp(t);return i?(qP("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const o=Pp(t);return 2===arguments.length?this._delegate.update(o,e):this._delegate.update(o,e,i,...r),this}delete(t){const e=Pp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class kp{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new r0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new l0(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=kp.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let o=r.get(e);return o||(o=new kp(t,new dA(t),e),r.set(e,o)),o}}kp.INSTANCES=new WeakMap;class Na{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new dA(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ct("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Na(e,new Ai(e._delegate,i,new Lt(t)))}static forKey(t,e,i){return new Na(e,new Ai(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new f_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new f_(this.firestore,p2(this._delegate,t))}catch(e){throw Hs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,In.m9)(t))instanceof Ai&&m2(this._delegate,t)}set(t,e){e=qP("DocumentReference.set",e);try{return e?N2(this._delegate,t,e):N2(this._delegate,t)}catch(i){throw Hs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?V2(this._delegate,t):V2(this._delegate,t,e,...i)}catch(r){throw Hs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function Sq(n){return h_(Ln(n.firestore,Pi),[new Qg(n._key,Li.none())])}(this._delegate)}onSnapshot(...t){const e=W2(t),i=q2(t,r=>new a0(this.firestore,new nd(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return B2(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function wq(n){n=Ln(n,Ai);const t=Ln(n.firestore,Pi),e=fr(t),i=new Mp(t);return function O4(n,t){const e=new Or;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return(i=(0,ut.Z)(function*(r,o,u){try{const h=yield function(_,w){const I=Bt(_);return I.persistence.runTransaction("read document","readonly",H=>I.localDocuments.getDocument(H,w))}(r,o);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Ct(ot.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=a_(h,`Failed to get document '${o} from cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield tA(n),t,e);var i})),e.promise}(e,n._key).then(r=>new nd(t,i,n._key,r,new Ip(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function Cq(n){n=Ln(n,Ai);const t=Ln(n.firestore,Pi);return o2(fr(t),n._key,{source:"server"}).then(e=>WP(t,n,e))}(this._delegate):function bq(n){n=Ln(n,Ai);const t=Ln(n.firestore,Pi);return o2(fr(t),n._key).then(e=>WP(t,n,e))}(this._delegate),e.then(i=>new a0(this.firestore,new nd(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Na(this.firestore,this._delegate.withConverter(t?kp.getInstance(this.firestore,t):null))}}function Hs(n,t,e){return n.message=n.message.replace(t,e),n}function W2(n){for(const t of n)if("object"==typeof t&&!YP(t))return t;return{}}function q2(n,t){var e,i;let r;return r=YP(n[0])?n[0]:YP(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{r.next&&r.next(t(o))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class a0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Na(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return T2(this._delegate,t._delegate)}}class l0 extends a0{data(t){const e=this._delegate.data(t);return function N$(n,t){n||qt()}(void 0!==e),e}}class js{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new dA(t)}where(t,e,i){try{return new js(this.firestore,Eh(this._delegate,function cq(n,t,e){const i=t,r=cA("where",n);return new lq(r,i,e)}(t,e,i)))}catch(r){throw Hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new js(this.firestore,Eh(this._delegate,function dq(n,t="asc"){const e=t,i=cA("orderBy",n);return new uq(i,e)}(t,e)))}catch(i){throw Hs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new js(this.firestore,Eh(this._delegate,function hq(n){return h2("limit",n),new I2("limit",n,"F")}(t)))}catch(e){throw Hs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new js(this.firestore,Eh(this._delegate,function fq(n){return h2("limitToLast",n),new I2("limitToLast",n,"L")}(t)))}catch(e){throw Hs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new js(this.firestore,Eh(this._delegate,function pq(...n){return new M2("startAt",n,!0)}(...t)))}catch(e){throw Hs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new js(this.firestore,Eh(this._delegate,function mq(...n){return new M2("startAfter",n,!1)}(...t)))}catch(e){throw Hs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new js(this.firestore,Eh(this._delegate,function gq(...n){return new k2("endBefore",n,!1)}(...t)))}catch(e){throw Hs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new js(this.firestore,Eh(this._delegate,function _q(...n){return new k2("endAt",n,!0)}(...t)))}catch(e){throw Hs(e,"endAt()","Query.endAt()")}}isEqual(t){return g2(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function Eq(n){n=Ln(n,gs);const t=Ln(n.firestore,Pi),e=fr(t),i=new Mp(t);return function F4(n,t){const e=new Or;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return(i=(0,ut.Z)(function*(r,o,u){try{const h=yield qE(r,o,!0),_=new WB(o,h.ji),w=_.Ku(h.documents),I=_.applyChanges(w,!1);u.resolve(I.snapshot)}catch(h){const _=a_(h,`Failed to execute query '${o} against cache`);u.reject(_)}}),function(r,o,u){return i.apply(this,arguments)})(yield tA(n),t,e);var i})),e.promise}(e,n._query).then(r=>new Dh(t,i,n,r))}(this._delegate):"server"===t?.source?function Aq(n){n=Ln(n,gs);const t=Ln(n.firestore,Pi),e=fr(t),i=new Mp(t);return a2(e,n._query,{source:"server"}).then(r=>new Dh(t,i,n,r))}(this._delegate):function Dq(n){n=Ln(n,gs);const t=Ln(n.firestore,Pi),e=fr(t),i=new Mp(t);return x2(n._query),a2(e,n._query).then(r=>new Dh(t,i,n,r))}(this._delegate),e.then(i=>new ZP(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=W2(t),i=q2(t,r=>new ZP(this.firestore,new Dh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return B2(this._delegate,e,i)}withConverter(t){return new js(this.firestore,this._delegate.withConverter(t?kp.getInstance(this.firestore,t):null))}}class Hq{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new l0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class ZP{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new l0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new Hq(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new l0(this._firestore,i))})}isEqual(t){return T2(this._delegate,t._delegate)}}class f_ extends js{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Na(this.firestore,t):null}doc(t){try{return new Na(this.firestore,void 0===t?iA(this._delegate):iA(this._delegate,t))}catch(e){throw Hs(e,"doc()","CollectionReference.doc()")}}add(t){return function Tq(n,t){const e=Ln(n.firestore,Pi),i=iA(n),r=uA(n.converter,t);return h_(e,[oA(Tp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Li.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Na(this.firestore,e))}isEqual(t){return m2(this._delegate,t._delegate)}withConverter(t){return new f_(this.firestore,this._delegate.withConverter(t?kp.getInstance(this.firestore,t):null))}}function Pp(n){return Ln(n,Ai)}class KP{constructor(...t){this._delegate=new td(...t)}static documentId(){return new KP(Zi.keyField().canonicalString())}isEqual(t){return(t=(0,In.m9)(t))instanceof td&&this._delegate._internalPath.isEqual(t._internalPath)}}class Rp{constructor(t){this._delegate=t}static serverTimestamp(){const t=function Pq(){return new UP("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Rp(t)}static delete(){const t=function kq(){return new t0("deleteField")}();return t._methodName="FieldValue.delete",new Rp(t)}static arrayUnion(...t){const e=function Rq(...n){return new nq("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Rp(e)}static arrayRemove(...t){const e=function Oq(...n){return new iq("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Rp(e)}static increment(t){const e=function Fq(n){return new rq("increment",n)}(t);return e._methodName="FieldValue.increment",new Rp(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const jq={Firestore:G2,GeoPoint:rA,Timestamp:ki,Blob:o0,Transaction:z2,WriteBatch:$2,DocumentReference:Na,DocumentSnapshot:a0,Query:js,QueryDocumentSnapshot:l0,QuerySnapshot:ZP,CollectionReference:f_,FieldPath:KP,FieldValue:Rp,setLogLevel:function Uq(n){!function L$(n){uh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function Y2(n,t){return function $q(n,t=Cf.z){return new Wn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function QP(n,t){return Y2(n,t).pipe((0,Gt.U)(e=>({payload:e,type:"query"})))}function hA(n,t){return QP(n,t).pipe(Kn(void 0),rM(),(0,Gt.U)(([e,i])=>{const r=i.payload.docChanges(),o=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const _=r.find(I=>I.doc.ref.isEqual(u.ref)),w=e?.payload.docs.find(I=>I.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||o.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),o}))}function Z2(n,t,e){return hA(n,e).pipe(ya((i,r)=>function qq(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function Yq(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return XP(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return XP(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return XP(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(o=>o.payload),t),[]),Q0(),(0,Gt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function XP(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function K2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function zq(n){(function Gq(n,t){n.INTERNAL.registerComponent(new GD.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},jq)))})(n,(t,e)=>new G2(t,e,new Bq)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(xz.Z);class Q2{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=hA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Gt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(Kn(void 0),rM(),Qn(([i,r])=>r.length>0||!i),(0,Gt.U)(([i,r])=>r),Xr.iC)}auditTrail(t){return this.stateChanges(t).pipe(ya((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=K2(t);return Z2(this.query,e,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(t={}){return QP(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Xr.iC)}get(t){return(0,zn.D)(this.query.get(t)).pipe(Xr.iC)}add(t){return this.ref.add(t)}doc(t){return new X2(this.ref.doc(t),this.afs)}}class X2{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:o}=tU(i,e);return new Q2(r,o,this.afs)}snapshotChanges(){return function Wq(n,t){return Y2(n,t).pipe(Kn(void 0),rM(),(0,Gt.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Gt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,zn.D)(this.ref.get(t)).pipe(Xr.iC)}}class Zq{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?hA(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),Qn(e=>e.length>0),Xr.iC):hA(this.query,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}auditTrail(t){return this.stateChanges(t).pipe(ya((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=K2(t);return Z2(this.query,e,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(t={}){return QP(this.query,this.afs.schedulers.outsideAngular).pipe((0,Gt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Xr.iC)}get(t){return(0,zn.D)(this.query.get(t)).pipe(Xr.iC)}}const J2=new s.OlP("angularfire2.enableFirestorePersistence"),eU=new s.OlP("angularfire2.firestore.persistenceSettings"),Kq=new s.OlP("angularfire2.firestore.settings"),Qq=new s.OlP("angularfire2.firestore.use-emulator");function tU(n,t=(e=>e)){return{query:t(n),ref:n}}let nU=(()=>{class n{constructor(e,i,r,o,u,h,_,w,I,H,De,Me,Le,$e,st,Mt,Ut){this.schedulers=_;const Kt=(0,Ol.on)(e,h,i),zt=I;H&&mL(Kt,h,De,Le,$e,st,Me,Mt),[this.firestore,this.persistenceEnabled$]=(0,Ol.cc)(`${Kt.name}.firestore`,"AngularFirestore",Kt.name,()=>{const dn=h.runOutsideAngular(()=>Kt.firestore());if(o&&dn.settings(o),zt&&dn.useEmulator(...zt),r&&!sr(u)){const mn=()=>{try{return(0,zn.D)(dn.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Nn){return typeof console<"u"&&console.warn(Nn),Nt(!1)}};return[dn,h.runOutsideAngular(mn)]}return[dn,Nt(!1)]},[o,zt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:o,query:u}=tU(r,i),h=this.schedulers.ngZone.run(()=>o);return new Q2(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),o=this.firestore.collectionGroup(e);return new Zq(r(o),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new X2(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Ol.Dh),s.LFG(Ol.xv,8),s.LFG(J2,8),s.LFG(Kq,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Xr.HU),s.LFG(eU,8),s.LFG(Qq,8),s.LFG(iM,8),s.LFG(cL,8),s.LFG(uL,8),s.LFG(dL,8),s.LFG(hL,8),s.LFG(fL,8),s.LFG(pL,8),s.LFG(tM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Xq=(()=>{class n{constructor(){Sz.Z.registerVersion("angularfire",Xr.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:J2,useValue:!0},{provide:eU,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[nU]}),n})(),JP=(()=>{class n{constructor(e,i){this.fireAuth=e,this.firestore=i,this.user$=this.fireAuth.authState.pipe(ai(r=>r?this.firestore.doc(`users/${r.uid}`).valueChanges():Nt(null)))}emailSignIn(e,i){var r=this;return(0,ut.Z)(function*(){const o=yield r.fireAuth.signInWithEmailAndPassword(e,i);return r.updateUserData(o.user)})()}signOut(){var e=this;return(0,ut.Z)(function*(){yield e.fireAuth.signOut()})()}updateUserData(e){const i=this.firestore.doc(`users/${e.uid}`),r={uid:e.uid,...e.email&&{email:e.email},...e.displayName&&{displayName:e.displayName},...e.photoURL&&{photoURL:e.photoURL}};return i.set(r,{merge:!0})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(iM),s.LFG(nU))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Jq(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"button",3),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.action())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.data.action)}}function e5(n,t){}const iU=new s.OlP("MatSnackBarData");class fA{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const t5=Math.pow(2,31)-1;class eR{constructor(t,e){this._overlayRef=e,this._afterDismissed=new yt.x,this._afterOpened=new yt.x,this._onAction=new yt.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,t5))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let n5=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(eR),s.Y36(iU))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0),s._uU(1),s.qZA(),s.YNc(2,Jq,3,1,"div",1)),2&e&&(s.xp6(1),s.Oqu(i.data.message),s.xp6(1),s.Q6J("ngIf",i.hasAction))},dependencies:[$s,Ma],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const r5={snackBarState:Ml("state",[nr("void, hidden",kn({transform:"scale(0.8)",opacity:0})),nr("visible",kn({transform:"scale(1)",opacity:1})),yr("* => visible",cr("150ms cubic-bezier(0, 0, 0.2, 1)")),yr("* => void, * => hidden",cr("75ms cubic-bezier(0.4, 0.0, 1, 1)",kn({opacity:0})))])};let s5=(()=>{class n extends yg{constructor(e,i,r,o,u){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=o,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new yt.x,this._onExit=new yt.x,this._onEnter=new yt.x,this._animationState="void",this.attachDomPortal=h=>{this._assertNotAttached();const _=this._portalOutlet.attachDomPortal(h);return this._afterPortalAttached(),_},this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const o=this._onEnter;this._ngZone.run(()=>{o.next(),o.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(ei(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Fi),s.Y36(fA))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(Fa,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),o5=(()=>{class n extends s5{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&s.WFA("@state.done",function(o){return i.onAnimationEnd(o)}),2&e&&s.d8E("@state",i._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,e5,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&e&&(s.xp6(2),s.uIk("aria-live",i._live)("role",i._role))},dependencies:[Fa],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[r5.snackBarState]}}),n})(),rU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Oc,Gu,Bi,Zd,Fn,Fn]}),n})();const sU=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function a5(){return new fA}});let l5=(()=>{class n{constructor(e,i,r,o,u,h){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=o,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const o={...this._defaultConfig,...r};return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const o=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:fA,useValue:i}]}),u=new Hu(this.snackBarContainerComponent,i.viewContainerRef,o),h=e.attach(u);return h.instance.snackBarConfig=i,h.instance}_attach(e,i){const r={...new fA,...this._defaultConfig,...i},o=this._createOverlay(r),u=this._attachSnackBarContainer(o,r),h=new eR(u,o);if(e instanceof s.Rgc){const _=new ju(e,null,{$implicit:r.data,snackBarRef:h});h.instance=u.attachTemplatePortal(_)}else{const _=this._createInjector(r,h),w=new Hu(e,void 0,_),I=u.attachComponentPortal(w);h.instance=I.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(_i(o.detachments())).subscribe(_=>{o.overlayElement.classList.toggle(this.handsetCssClass,_.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(h,r),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new zu;i.direction=e.direction;let r=this._overlay.position().global();const o="rtl"===e.direction,u="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!o||"end"===e.horizontalPosition&&o,h=!u&&"center"!==e.horizontalPosition;return u?r.left("0"):h?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:eR,useValue:i},{provide:iU,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qo),s.LFG(cw),s.LFG(s.zs3),s.LFG(Hd),s.LFG(n,12),s.LFG(sU))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),c5=(()=>{class n extends l5{constructor(e,i,r,o,u,h){super(e,i,r,o,u,h),this.simpleSnackBarComponent=n5,this.snackBarContainerComponent=o5,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(qo),s.LFG(cw),s.LFG(s.zs3),s.LFG(Hd),s.LFG(n,12),s.LFG(sU))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:rU}),n})();const u5=["matErrorMessaging",""];let d5=(()=>{class n{constructor(e,i){this.injector=e,this.cdr=i,this.overrideMap={},this.name="",this.updateErrors=r=>{if("INVALID"===r){const o=this.input.ngControl?.errors||{},u=Object.keys(o)[0];this.error=this.errorMap[u]?this.errorMap[u](this.name):o[u],this.cdr.detectChanges()}}}ngAfterViewInit(){this.errorMap={required:r=>`${r} is required`,minlength:r=>`${r} should be longer`,maxlength:r=>`${r} should be shorter`,pattern:r=>`Invalid ${r} format`,min:r=>`${r} is too low`,max:r=>`${r} is too high`,matDatePickerMax:r=>`${r} cannot be in the future`,incorrectDescription:r=>`The ${r} doesn't match the content`,email:r=>`Invalid ${r} format`,...this.overrideMap};const e=this.injector.get($m);this.input=e._control,this.name=this.input.ngControl.name.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),this.input.ngControl?.statusChanges?.pipe(Kn(this.input.ngControl.status)).subscribe(this.updateErrors)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.zs3),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","matErrorMessaging",""]],inputs:{overrideMap:"overrideMap"},attrs:u5,decls:1,vars:1,template:function(e,i){1&e&&s._uU(0),2&e&&s.Oqu(i.error)},encapsulation:2}),n})(),oU=(()=>{class n{constructor(e){this.matformfield=e,this.updateCompact=()=>{this.input.touched&&null!=this.input.errors?this.element.nativeElement.classList.remove("compact"):this.element.nativeElement.classList.add("compact")}}ngOnInit(){this.element=this.matformfield._elementRef,this.element.nativeElement.classList.add("compactable"),this.element.nativeElement.classList.add("compact")}ngAfterViewInit(){this.input=this.matformfield._control.ngControl,this.element.nativeElement.querySelector("input").addEventListener("blur",this.updateCompact),this.input.statusChanges?.subscribe(this.updateCompact)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36($m))},n.\u0275dir=s.lG2({type:n,selectors:[["","compact",""]]}),n})(),h5=(()=>{class n{constructor(e,i,r,o){this.dialogRef=e,this.fb=i,this.authService=r,this.snackBar=o,this.show=!1,this.loading=!1}ngOnInit(){this.loginGroup=this.fb.group({email:[null,[Ra.required,Ra.email]],password:[null,Ra.required]})}get passwordType(){return this.show?"text":"password"}get visibilityIcon(){return this.show?"visibility":"visibility_off"}login(){if(this.loginGroup.markAllAsTouched(),this.loginGroup.updateValueAndValidity(),this.loginGroup.valid){const{email:e,password:i}=this.loginGroup.value;this.loading=!0,this.authService.emailSignIn(e,i).then(()=>{this.loading=!1,this.dialogRef.close()}).catch(r=>{console.log(r),this.loading=!1,this.snackBar.open("Unable to login","Dismiss")})}else this.snackBar.open("Invalid login form","Dismiss")}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(mD),s.Y36(gx),s.Y36(JP),s.Y36(c5))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:26,vars:5,consts:[["mat-card-avatar",""],["color","primary"],[1,"mat-display-1"],[3,"formGroup"],["appearance","outline","compact",""],["matInput","","type","email","formControlName","email"],["matErrorMessaging",""],["matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card")(1,"mat-card-header")(2,"div",0)(3,"mat-icon",1),s._uU(4,"person"),s.qZA()(),s.TgZ(5,"mat-card-title",2),s._uU(6,"Login"),s.qZA()(),s.TgZ(7,"mat-card-content")(8,"form",3)(9,"mat-form-field",4)(10,"mat-label"),s._uU(11,"Email"),s.qZA(),s._UZ(12,"input",5)(13,"mat-error",6),s.qZA(),s.TgZ(14,"mat-form-field",4)(15,"mat-label"),s._uU(16,"Password"),s.qZA(),s._UZ(17,"input",7),s.TgZ(18,"mat-icon",8),s.NdJ("click",function(){return i.show=!i.show}),s._uU(19),s.qZA(),s._UZ(20,"mat-error",6),s.qZA()()(),s.TgZ(21,"mat-card-actions",9)(22,"button",10),s._uU(23,"Cancel"),s.qZA(),s.TgZ(24,"button",11),s.NdJ("click",function(){return i.login()}),s._uU(25,"Login"),s.qZA()()()),2&e&&(s.xp6(8),s.Q6J("formGroup",i.loginGroup),s.xp6(9),s.Q6J("type",i.passwordType),s.xp6(2),s.Oqu(i.visibilityIcon),s.xp6(5),s.ekj("spinner",i.loading))},dependencies:[Ma,Kd,Dw,xf,Py,jm,Cw,Nv,jw,$m,kf,RT,SI,dg,AC,Pf,Zy,Ky,jf,gv,d5,oU],styles:["mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .mat-card-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#0c267826}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{margin-bottom:0}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#0009}"]}),n})(),f5=(()=>{class n{constructor(e,i){this.authService=e,this.dialog=i}openLogin(){this.dialog.open(h5,{width:"340px",panelClass:"login-dialog",autoFocus:!1})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(JP),s.Y36(Eg))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:11,vars:0,consts:[["spacer",""],["mat-button","","routerLink","/modal","routerLinkActive","active"],["mat-button","","routerLink","/form","routerLinkActive","active"],["mat-button","","routerLink","/tabs","routerLinkActive","active"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-toolbar")(1,"span"),s._uU(2,"File Attachment"),s.qZA(),s._UZ(3,"span",0),s.TgZ(4,"button",1),s._uU(5,"Modal"),s.qZA(),s.TgZ(6,"button",2),s._uU(7,"Form"),s.qZA(),s.TgZ(8,"button",3),s._uU(9,"Tabs"),s.qZA()(),s._UZ(10,"router-outlet"))},dependencies:[pc,bm,I0,Ma,xF,II],styles:[".active[_ngcontent-%COMP%]{color:#0c2678}"]}),n})();function aU(n){return new s.vHH(3e3,!1)}function Y5(){return typeof window<"u"&&typeof window.document<"u"}function tR(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Sh(n){switch(n.length){case 0:return new hs;case 1:return n[0];default:return new Fw(n)}}function lU(n,t,e,i,r=new Map,o=new Map){const u=[],h=[];let _=-1,w=null;if(i.forEach(I=>{const H=I.get("offset"),De=H==_,Me=De&&w||new Map;I.forEach((Le,$e)=>{let st=$e,Mt=Le;if("offset"!==$e)switch(st=t.normalizePropertyName(st,u),Mt){case"!":Mt=r.get($e);break;case Il:Mt=o.get($e);break;default:Mt=t.normalizeStyleValue($e,st,Mt,u)}Me.set(st,Mt)}),De||h.push(Me),w=Me,_=H}),u.length)throw function L5(n){return new s.vHH(3502,!1)}();return h}function nR(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&iR(e,"start",n)));break;case"done":n.onDone(()=>i(e&&iR(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&iR(e,"destroy",n)))}}function iR(n,t,e){const o=rR(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(o._data=u),o}function rR(n,t,e,i,r="",o=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:o,disabled:!!u}}function Xo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function cU(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let sR=(n,t)=>!1,uU=(n,t,e)=>[],dU=null;function oR(n){const t=n.parentNode||n.host;return t===dU?null:t}(tR()||typeof Element<"u")&&(Y5()?(dU=(()=>document.documentElement)(),sR=(n,t)=>{for(;t;){if(t===n)return!0;t=oR(t)}return!1}):sR=(n,t)=>n.contains(t),uU=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let Op=null,hU=!1;const fU=sR,pU=uU;let mU=(()=>{class n{validateStyleProperty(e){return function K5(n){Op||(Op=function Q5(){return typeof document<"u"?document.body:null}()||{},hU=!!Op.style&&"WebkitAppearance"in Op.style);let t=!0;return Op.style&&!function Z5(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in Op.style,!t&&hU&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Op.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return fU(e,i)}getParentElement(e){return oR(e)}query(e,i,r){return pU(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,o,u,h=[],_){return new hs(r,o)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),aR=(()=>{class n{}return n.NOOP=new mU,n})();const lR="ng-enter",pA="ng-leave",mA="ng-trigger",gA=".ng-trigger",_U="ng-animating",cR=".ng-animating";function Th(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:uR(parseFloat(t[1]),t[2])}function uR(n,t){return"s"===t?1e3*n:n}function _A(n,t,e){return n.hasOwnProperty("duration")?n:function eY(n,t,e){let r,o=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(aU()),{duration:0,delay:0,easing:""};r=uR(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(o=uR(parseFloat(_),h[4]));const w=h[5];w&&(u=w)}else r=n;if(!e){let h=!1,_=t.length;r<0&&(t.push(function p5(){return new s.vHH(3100,!1)}()),h=!0),o<0&&(t.push(function m5(){return new s.vHH(3101,!1)}()),h=!0),h&&t.splice(_,0,aU())}return{duration:r,delay:o,easing:u}}(n,t,e)}function c0(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function yU(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function xh(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function bU(n,t,e){return e?t+":"+e+";":""}function wU(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=bU(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=bU(0,rY(e),n.style[e]));n.setAttribute("style",t)}function zc(n,t,e){n.style&&(t.forEach((i,r)=>{const o=hR(r);e&&!e.has(r)&&e.set(r,n.style[o]),n.style[o]=i}),tR()&&wU(n))}function Fp(n,t){n.style&&(t.forEach((e,i)=>{const r=hR(i);n.style[r]=""}),tR()&&wU(n))}function u0(n){return Array.isArray(n)?1==n.length?n[0]:Ry(n):n}const dR=new RegExp("{{\\s*(.+?)\\s*}}","g");function CU(n){let t=[];if("string"==typeof n){let e;for(;e=dR.exec(n);)t.push(e[1]);dR.lastIndex=0}return t}function yA(n,t,e){const i=n.toString(),r=i.replace(dR,(o,u)=>{let h=t[u];return null==h&&(e.push(function _5(n){return new s.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function vA(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const iY=/-+([a-z0-9])/g;function hR(n){return n.replace(iY,(...t)=>t[1].toUpperCase())}function rY(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Jo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function y5(n){return new s.vHH(3004,!1)}()}}function DU(n,t){return window.getComputedStyle(n)[t]}function uY(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function dY(n,t,e){if(":"==n[0]){const _=function hY(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function P5(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function k5(n){return new s.vHH(3015,!1)}()),t;const r=i[1],o=i[2],u=i[3];t.push(EU(r,u));"<"==o[0]&&!("*"==r&&"*"==u)&&t.push(EU(u,r))}(i,e,t)):e.push(n),e}const DA=new Set(["true","1"]),EA=new Set(["false","0"]);function EU(n,t){const e=DA.has(n)||EA.has(n),i=DA.has(t)||EA.has(t);return(r,o)=>{let u="*"==n||n==r,h="*"==t||t==o;return!u&&e&&"boolean"==typeof r&&(u=r?DA.has(n):EA.has(n)),!h&&i&&"boolean"==typeof o&&(h=o?DA.has(t):EA.has(t)),u&&h}}const fY=new RegExp("s*:selfs*,?","g");function fR(n,t,e,i){return new pY(n).build(t,e,i)}class pY{constructor(t){this._driver=t}build(t,e,i){const r=new _Y(e);return this._resetContextStyleTimingState(r),Jo(this,u0(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const o=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function b5(){return new s.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const _=h,w=_.name;w.toString().split(/\s*,\s*/).forEach(I=>{_.name=I,o.push(this.visitState(_,e))}),_.name=w}else if(1==h.type){const _=this.visitTransition(h,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push(function w5(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:o,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const o=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(_=>{CU(_).forEach(w=>{u.hasOwnProperty(w)||o.add(w)})})}),o.size&&(vA(o.values()),e.errors.push(function C5(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Jo(this,u0(t.animation),e);return{type:1,matchers:uY(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Lp(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Jo(this,i,e)),options:Lp(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const o=t.steps.map(u=>{e.currentTime=i;const h=Jo(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:o,options:Lp(t.options)}}visitAnimate(t,e){const i=function vY(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return pR(_A(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=pR(0,0,"");return o.dynamic=!0,o.strValue=e,o}const r=_A(e,t);return pR(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,o=t.styles?t.styles:kn({});if(5==o.type)r=this.visitKeyframes(o,e);else{let u=t.styles,h=!1;if(!u){h=!0;const w={};i.easing&&(w.easing=i.easing),u=kn(w)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=h,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===Il?i.push(h):e.errors.push(new s.vHH(3002,!1)):i.push(yU(h));let o=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!o))for(let _ of h.values())if(_.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,_)=>{const w=e.collectedStyles.get(e.currentQuerySelector),I=w.get(_);let H=!0;I&&(o!=r&&o>=I.startTime&&r<=I.endTime&&(e.errors.push(function E5(n,t,e,i,r){return new s.vHH(3010,!1)}()),H=!1),o=I.startTime),H&&w.set(_,{startTime:o,endTime:r}),e.options&&function nY(n,t,e){const i=t.params||{},r=CU(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||e.push(function g5(n){return new s.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function A5(){return new s.vHH(3011,!1)}()),i;let o=0;const u=[];let h=!1,_=!1,w=0;const I=t.steps.map(Mt=>{const Ut=this._makeStyleAst(Mt,e);let Kt=null!=Ut.offset?Ut.offset:function yY(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Ut.styles),zt=0;return null!=Kt&&(o++,zt=Ut.offset=Kt),_=_||zt<0||zt>1,h=h||zt<w,w=zt,u.push(zt),Ut});_&&e.errors.push(function S5(){return new s.vHH(3012,!1)}()),h&&e.errors.push(function T5(){return new s.vHH(3200,!1)}());const H=t.steps.length;let De=0;o>0&&o<H?e.errors.push(function x5(){return new s.vHH(3202,!1)}()):0==o&&(De=1/(H-1));const Me=H-1,Le=e.currentTime,$e=e.currentAnimateTimings,st=$e.duration;return I.forEach((Mt,Ut)=>{const Kt=De>0?Ut==Me?1:De*Ut:u[Ut],zt=Kt*st;e.currentTime=Le+$e.delay+zt,$e.duration=zt,this._validateStyleAst(Mt,e),Mt.offset=Kt,i.styles.push(Mt)}),i}visitReference(t,e){return{type:8,animation:Jo(this,u0(t.animation),e),options:Lp(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Lp(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Lp(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[o,u]=function mY(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(fY,"")),n=n.replace(/@\*/g,gA).replace(/@\w+/g,e=>gA+"-"+e.slice(1)).replace(/:animating/g,cR),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+o:o,Xo(e.collectedStyles,e.currentQuerySelector,new Map);const h=Jo(this,u0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Lp(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function I5(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:_A(t.timings,e.errors,!0);return{type:12,animation:Jo(this,u0(t.animation),e),timings:i,options:null}}}class _Y{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Lp(n){return n?(n=c0(n)).params&&(n.params=function gY(n){return n?c0(n):null}(n.params)):n={},n}function pR(n,t,e){return{duration:n,delay:t,easing:e}}function mR(n,t,e,i,r,o,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:u,subTimeline:h}}class AA{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const CY=new RegExp(":enter","g"),EY=new RegExp(":leave","g");function gR(n,t,e,i,r,o=new Map,u=new Map,h,_,w=[]){return(new AY).buildKeyframes(n,t,e,i,r,o,u,h,_,w)}class AY{buildKeyframes(t,e,i,r,o,u,h,_,w,I=[]){w=w||new AA;const H=new _R(t,e,w,r,o,I,[]);H.options=_;const De=_.delay?Th(_.delay):0;H.currentTimeline.delayNextStep(De),H.currentTimeline.setStyles([u],null,H.errors,_),Jo(this,i,H);const Me=H.timelines.filter(Le=>Le.containsAnimation());if(Me.length&&h.size){let Le;for(let $e=Me.length-1;$e>=0;$e--){const st=Me[$e];if(st.element===e){Le=st;break}}Le&&!Le.allowOnlyTimelineStyles()&&Le.setStyles([h],null,H.errors,_)}return Me.length?Me.map(Le=>Le.buildKeyframes()):[mR(e,[],[],[],0,De,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),o=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);o!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let o=e.currentTimeline.currentTime;const u=null!=i.duration?Th(i.duration):null,h=null!=i.delay?Th(i.delay):null;return 0!==u&&t.forEach(_=>{const w=e.appendInstructionToTimeline(_,u,h);o=Math.max(o,w.duration+w.delay)}),o}visitReference(t,e){e.updateOptions(t.options,!0),Jo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const o=t.options;if(o&&(o.params||o.delay)&&(r=e.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=SA);const u=Th(o.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Jo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const o=t.options&&t.options.delay?Th(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);o&&h.delayNextStep(o),Jo(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return _A(e.params?yA(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const o=t.style;5==o.type?this.visitKeyframes(o,e):(e.incrementTime(i.duration),this.visitStyle(o,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(o):i.setStyles(t.styles,o,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,o=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(_=>{h.forwardTime((_.offset||0)*o),h.setStyles(_.styles,_.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+o),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?Th(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=SA);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let _=null;h.forEach((w,I)=>{e.currentQueryIndex=I;const H=e.createSubContext(t.options,w);o&&H.delayNextStep(o),w===e.element&&(_=H.currentTimeline),Jo(this,t.animation,H),H.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,H.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,o=t.timings,u=Math.abs(o.duration),h=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":_=h-_;break;case"full":_=i.currentStaggerTime}const I=e.currentTimeline;_&&I.delayNextStep(_);const H=I.currentTime;Jo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-H+(r.startTime-i.currentTimeline.startTime)}}const SA={};class _R{constructor(t,e,i,r,o,u,h,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=SA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new TA(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=Th(i.duration)),null!=i.delay&&(r.delay=Th(i.delay));const o=i.params;if(o){let u=r.params;u||(u=this.options.params={}),Object.keys(o).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=yA(o[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,o=new _R(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(t),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(t){return this.previousNode=SA,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},o=new SY(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,o,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(CY,"."+this._enterClassName)).replace(EY,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),h.push(...w)}return!o&&0==h.length&&u.push(function M5(n){return new s.vHH(3014,!1)}()),h}}class TA{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new TA(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Il),this._currentKeyframe.set(e,Il);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const o=r&&r.params||{},u=function TY(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let o of i)e.set(o,Il)}else xh(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,_]of u){const w=yA(_,o,i);this._pendingStyles.set(h,w),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Il),this._updateStyle(h,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,_)=>{const w=xh(h,new Map,this._backFill);w.forEach((I,H)=>{"!"===I?t.add(H):I===Il&&e.add(H)}),i||w.set("offset",_/this.duration),r.push(w)});const o=t.size?vA(t.values()):[],u=e.size?vA(e.values()):[];if(i){const h=r[0],_=new Map(h);h.set("offset",0),_.set("offset",1),r=[h,_]}return mR(this.element,r,o,u,this.duration,this.startTime,this.easing,!1)}}class SY extends TA{constructor(t,e,i,r,o,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const o=[],u=i+e,h=e/u,_=xh(t[0]);_.set("offset",0),o.push(_);const w=xh(t[0]);w.set("offset",TU(h)),o.push(w);const I=t.length-1;for(let H=1;H<=I;H++){let De=xh(t[H]);const Me=De.get("offset");De.set("offset",TU((e+Me*i)/u)),o.push(De)}i=u,e=0,r="",t=o}return mR(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function TU(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class yR{}const xY=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class IY extends yR{normalizePropertyName(t,e){return hR(t)}normalizeStyleValue(t,e,i,r){let o="";const u=i.toString().trim();if(xY.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function v5(n,t){return new s.vHH(3005,!1)}())}return u+o}}function xU(n,t,e,i,r,o,u,h,_,w,I,H,De){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:o,toState:i,toStyles:u,timelines:h,queriedElements:_,preStyleProps:w,postStyleProps:I,totalTime:H,errors:De}}const vR={};class IU{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function MY(n,t,e,i,r){return n.some(o=>o(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,o,u,h,_,w,I){const H=[],De=this.ast.options&&this.ast.options.params||vR,Le=this.buildStyles(i,h&&h.params||vR,H),$e=_&&_.params||vR,st=this.buildStyles(r,$e,H),Mt=new Set,Ut=new Map,Kt=new Map,zt="void"===r,dn={params:kY($e,De),delay:this.ast.options?.delay},mn=I?[]:gR(t,e,this.ast.animation,o,u,Le,st,dn,w,H);let Nn=0;if(mn.forEach(id=>{Nn=Math.max(id.duration+id.delay,Nn)}),H.length)return xU(e,this._triggerName,i,r,zt,Le,st,[],[],Ut,Kt,Nn,H);mn.forEach(id=>{const rd=id.element,YU=Xo(Ut,rd,new Set);id.preStyleProps.forEach(Np=>YU.add(Np));const h0=Xo(Kt,rd,new Set);id.postStyleProps.forEach(Np=>h0.add(Np)),rd!==e&&Mt.add(rd)});const Gs=vA(Mt.values());return xU(e,this._triggerName,i,r,zt,Le,st,mn,Gs,Ut,Kt,Nn)}}function kY(n,t){const e=c0(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class PY{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=c0(this.defaultParams);return Object.keys(t).forEach(o=>{const u=t[o];null!==u&&(r[o]=u)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((u,h)=>{u&&(u=yA(u,r,e));const _=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,_,u,e),i.set(_,u)})}),i}}class OY{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new PY(r.style,r.options&&r.options.params||{},i))}),MU(this.states,"true","1"),MU(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new IU(t,r,this.states))}),this.fallbackTransition=function FY(n,t,e){return new IU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function MU(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const LY=new AA;class NY{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],o=fR(this._driver,e,i,[]);if(i.length)throw function N5(n){return new s.vHH(3503,!1)}();this._animations.set(t,o)}_buildPlayer(t,e,i){const r=t.element,o=lU(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,o,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],o=this._animations.get(t);let u;const h=new Map;if(o?(u=gR(this._driver,e,o,lR,pA,new Map,new Map,i,LY,r),u.forEach(I=>{const H=Xo(h,I.element,new Map);I.postStyleProps.forEach(De=>H.set(De,null))})):(r.push(function V5(){return new s.vHH(3300,!1)}()),u=[]),r.length)throw function B5(n){return new s.vHH(3504,!1)}();h.forEach((I,H)=>{I.forEach((De,Me)=>{I.set(Me,this._driver.computeStyle(H,Me,Il))})});const w=Sh(u.map(I=>{const H=h.get(I.element);return this._buildPlayer(I,new Map,H)}));return this._playersById.set(t,w),w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function U5(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const o=rR(e,"","","");return nR(this._getPlayer(t),i,o,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const o=this._getPlayer(t);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const kU="ng-animate-queued",bR="ng-animate-disabled",jY=[],PU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},GY={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Va="__ng_removed";class wR{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function qY(n){return n??null}(i?t.value:t),i){const o=c0(t);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const d0="void",CR=new wR(d0);class zY{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ba(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function H5(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function j5(n){return new s.vHH(3303,!1)}();if(!function YY(n){return"start"==n||"done"==n}(i))throw function G5(n,t){return new s.vHH(3400,!1)}();const o=Xo(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};o.push(u);const h=Xo(this._engine.statesByElement,t,new Map);return h.has(e)||(Ba(t,mA),Ba(t,mA+"-"+e),h.set(e,CR)),()=>{this._engine.afterFlush(()=>{const _=o.indexOf(u);_>=0&&o.splice(_,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function z5(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const o=this._getTrigger(e),u=new DR(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Ba(t,mA),Ba(t,mA+"-"+e),this._engine.statesByElement.set(t,h=new Map));let _=h.get(e);const w=new wR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),h.set(e,w),_||(_=CR),w.value!==d0&&_.value===w.value){if(!function QY(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const o=e[r];if(!t.hasOwnProperty(o)||n[o]!==t[o])return!1}return!0}(_.params,w.params)){const $e=[],st=o.matchStyles(_.value,_.params,$e),Mt=o.matchStyles(w.value,w.params,$e);$e.length?this._engine.reportError($e):this._engine.afterFlush(()=>{Fp(t,st),zc(t,Mt)})}return}const De=Xo(this._engine.playersByElement,t,[]);De.forEach($e=>{$e.namespaceId==this.id&&$e.triggerName==e&&$e.queued&&$e.destroy()});let Me=o.matchTransition(_.value,w.value,t,w.params),Le=!1;if(!Me){if(!r)return;Me=o.fallbackTransition,Le=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Me,fromState:_,toState:w,player:u,isFallbackTransition:Le}),Le||(Ba(t,kU),u.onStart(()=>{p_(t,kU)})),u.onDone(()=>{let $e=this.players.indexOf(u);$e>=0&&this.players.splice($e,1);const st=this._engine.playersByElement.get(t);if(st){let Mt=st.indexOf(u);Mt>=0&&st.splice(Mt,1)}}),this.players.push(u),De.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,gA,!0);i.forEach(r=>{if(r[Va])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const o=this._engine.statesByElement.get(t),u=new Map;if(o){const h=[];if(o.forEach((_,w)=>{if(u.set(w,_.value),this._triggers.has(w)){const I=this.trigger(t,w,d0,r);I&&h.push(I)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&Sh(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(o=>{const u=o.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,w=i.get(u)||CR,I=new wR(d0),H=new DR(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:w,toState:I,player:H,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const o=t[Va];(!o||o===PU)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ba(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,u=this._elementListeners.get(o);u&&u.forEach(h=>{if(h.name==i.triggerName){const _=rR(o,i.triggerName,i.fromState.value,i.toState.value);_._data=t,nR(i.player,h.phase,_,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const o=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==o||0==u?o-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class $Y{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new zY(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const _=r.get(h);if(_){const w=i.indexOf(_);i.splice(w+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&e.add(o)}return e}trigger(t,e,i,r){if(xA(e)){const o=this._fetchNamespace(t);if(o)return o.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!xA(e))return;const o=e[Va];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ba(t,bR)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),p_(t,bR))}removeNode(t,e,i,r){if(xA(e)){const o=t?this._fetchNamespace(t):null;if(o?o.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,o){this.collectedLeaveElements.push(e),e[Va]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(t,e,i,r,o){return xA(e)?this._fetchNamespace(t).listen(e,i,r,o):()=>{}}_buildInstruction(t,e,i,r,o){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,o)}destroyInnerAnimations(t){let e=this.driver.query(t,gA,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,cR,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Sh(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Va];if(e&&e.setForRemoval){if(t[Va]=PU,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(bR)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ba(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?Sh(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function $5(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new AA,r=[],o=new Map,u=[],h=new Map,_=new Map,w=new Map,I=new Set;this.disabledNodes.forEach(Qt=>{I.add(Qt);const ln=this.driver.query(Qt,".ng-animate-queued",!0);for(let gn=0;gn<ln.length;gn++)I.add(ln[gn])});const H=this.bodyNode,De=Array.from(this.statesByElement.keys()),Me=FU(De,this.collectedEnterElements),Le=new Map;let $e=0;Me.forEach((Qt,ln)=>{const gn=lR+$e++;Le.set(ln,gn),Qt.forEach(jn=>Ba(jn,gn))});const st=[],Mt=new Set,Ut=new Set;for(let Qt=0;Qt<this.collectedLeaveElements.length;Qt++){const ln=this.collectedLeaveElements[Qt],gn=ln[Va];gn&&gn.setForRemoval&&(st.push(ln),Mt.add(ln),gn.hasAnimation?this.driver.query(ln,".ng-star-inserted",!0).forEach(jn=>Mt.add(jn)):Ut.add(ln))}const Kt=new Map,zt=FU(De,Array.from(Mt));zt.forEach((Qt,ln)=>{const gn=pA+$e++;Kt.set(ln,gn),Qt.forEach(jn=>Ba(jn,gn))}),t.push(()=>{Me.forEach((Qt,ln)=>{const gn=Le.get(ln);Qt.forEach(jn=>p_(jn,gn))}),zt.forEach((Qt,ln)=>{const gn=Kt.get(ln);Qt.forEach(jn=>p_(jn,gn))}),st.forEach(Qt=>{this.processLeaveNode(Qt)})});const dn=[],mn=[];for(let Qt=this._namespaceList.length-1;Qt>=0;Qt--)this._namespaceList[Qt].drainQueuedTransitions(e).forEach(gn=>{const jn=gn.player,Vr=gn.element;if(dn.push(jn),this.collectedEnterElements.length){const _s=Vr[Va];if(_s&&_s.setForMove){if(_s.previousTriggersValues&&_s.previousTriggersValues.has(gn.triggerName)){const Vp=_s.previousTriggersValues.get(gn.triggerName),Ua=this.statesByElement.get(gn.element);if(Ua&&Ua.has(gn.triggerName)){const kA=Ua.get(gn.triggerName);kA.value=Vp,Ua.set(gn.triggerName,kA)}}return void jn.destroy()}}const $c=!H||!this.driver.containsElement(H,Vr),ea=Kt.get(Vr),Ih=Le.get(Vr),Ni=this._buildInstruction(gn,i,Ih,ea,$c);if(Ni.errors&&Ni.errors.length)return void mn.push(Ni);if($c)return jn.onStart(()=>Fp(Vr,Ni.fromStyles)),jn.onDestroy(()=>zc(Vr,Ni.toStyles)),void r.push(jn);if(gn.isFallbackTransition)return jn.onStart(()=>Fp(Vr,Ni.fromStyles)),jn.onDestroy(()=>zc(Vr,Ni.toStyles)),void r.push(jn);const QU=[];Ni.timelines.forEach(_s=>{_s.stretchStartingKeyframe=!0,this.disabledNodes.has(_s.element)||QU.push(_s)}),Ni.timelines=QU,i.append(Vr,Ni.timelines),u.push({instruction:Ni,player:jn,element:Vr}),Ni.queriedElements.forEach(_s=>Xo(h,_s,[]).push(jn)),Ni.preStyleProps.forEach((_s,Vp)=>{if(_s.size){let Ua=_.get(Vp);Ua||_.set(Vp,Ua=new Set),_s.forEach((kA,SR)=>Ua.add(SR))}}),Ni.postStyleProps.forEach((_s,Vp)=>{let Ua=w.get(Vp);Ua||w.set(Vp,Ua=new Set),_s.forEach((kA,SR)=>Ua.add(SR))})});if(mn.length){const Qt=[];mn.forEach(ln=>{Qt.push(function W5(n,t){return new s.vHH(3505,!1)}())}),dn.forEach(ln=>ln.destroy()),this.reportError(Qt)}const Nn=new Map,Gs=new Map;u.forEach(Qt=>{const ln=Qt.element;i.has(ln)&&(Gs.set(ln,ln),this._beforeAnimationBuild(Qt.player.namespaceId,Qt.instruction,Nn))}),r.forEach(Qt=>{const ln=Qt.element;this._getPreviousPlayers(ln,!1,Qt.namespaceId,Qt.triggerName,null).forEach(jn=>{Xo(Nn,ln,[]).push(jn),jn.destroy()})});const id=st.filter(Qt=>NU(Qt,_,w)),rd=new Map;OU(rd,this.driver,Ut,w,Il).forEach(Qt=>{NU(Qt,_,w)&&id.push(Qt)});const h0=new Map;Me.forEach((Qt,ln)=>{OU(h0,this.driver,new Set(Qt),_,"!")}),id.forEach(Qt=>{const ln=rd.get(Qt),gn=h0.get(Qt);rd.set(Qt,new Map([...Array.from(ln?.entries()??[]),...Array.from(gn?.entries()??[])]))});const Np=[],ZU=[],KU={};u.forEach(Qt=>{const{element:ln,player:gn,instruction:jn}=Qt;if(i.has(ln)){if(I.has(ln))return gn.onDestroy(()=>zc(ln,jn.toStyles)),gn.disabled=!0,gn.overrideTotalTime(jn.totalTime),void r.push(gn);let Vr=KU;if(Gs.size>1){let ea=ln;const Ih=[];for(;ea=ea.parentNode;){const Ni=Gs.get(ea);if(Ni){Vr=Ni;break}Ih.push(ea)}Ih.forEach(Ni=>Gs.set(Ni,Vr))}const $c=this._buildAnimation(gn.namespaceId,jn,Nn,o,h0,rd);if(gn.setRealPlayer($c),Vr===KU)Np.push(gn);else{const ea=this.playersByElement.get(Vr);ea&&ea.length&&(gn.parentPlayer=Sh(ea)),r.push(gn)}}else Fp(ln,jn.fromStyles),gn.onDestroy(()=>zc(ln,jn.toStyles)),ZU.push(gn),I.has(ln)&&r.push(gn)}),ZU.forEach(Qt=>{const ln=o.get(Qt.element);if(ln&&ln.length){const gn=Sh(ln);Qt.setRealPlayer(gn)}}),r.forEach(Qt=>{Qt.parentPlayer?Qt.syncPlayerEvents(Qt.parentPlayer):Qt.destroy()});for(let Qt=0;Qt<st.length;Qt++){const ln=st[Qt],gn=ln[Va];if(p_(ln,pA),gn&&gn.hasAnimation)continue;let jn=[];if(h.size){let $c=h.get(ln);$c&&$c.length&&jn.push(...$c);let ea=this.driver.query(ln,cR,!0);for(let Ih=0;Ih<ea.length;Ih++){let Ni=h.get(ea[Ih]);Ni&&Ni.length&&jn.push(...Ni)}}const Vr=jn.filter($c=>!$c.destroyed);Vr.length?ZY(this,ln,Vr):this.processLeaveNode(ln)}return st.length=0,Np.forEach(Qt=>{this.players.push(Qt),Qt.onDone(()=>{Qt.destroy();const ln=this.players.indexOf(Qt);this.players.splice(ln,1)}),Qt.play()}),Np}elementContainsData(t,e){let i=!1;const r=e[Va];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,o){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const _=!o||o==d0;h.forEach(w=>{w.queued||!_&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const o=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const w=_.element,I=w!==o,H=Xo(i,w,[]);this._getPreviousPlayers(w,I,u,h,e.toState).forEach(Me=>{const Le=Me.getRealPlayer();Le.beforeDestroy&&Le.beforeDestroy(),Me.destroy(),H.push(Me)})}Fp(o,e.fromStyles)}_buildAnimation(t,e,i,r,o,u){const h=e.triggerName,_=e.element,w=[],I=new Set,H=new Set,De=e.timelines.map(Le=>{const $e=Le.element;I.add($e);const st=$e[Va];if(st&&st.removedBeforeQueried)return new hs(Le.duration,Le.delay);const Mt=$e!==_,Ut=function KY(n){const t=[];return LU(n,t),t}((i.get($e)||jY).map(Nn=>Nn.getRealPlayer())).filter(Nn=>!!Nn.element&&Nn.element===$e),Kt=o.get($e),zt=u.get($e),dn=lU(0,this._normalizer,0,Le.keyframes,Kt,zt),mn=this._buildPlayer(Le,dn,Ut);if(Le.subTimeline&&r&&H.add($e),Mt){const Nn=new DR(t,h,$e);Nn.setRealPlayer(mn),w.push(Nn)}return mn});w.forEach(Le=>{Xo(this.playersByQueriedElement,Le.element,[]).push(Le),Le.onDone(()=>function WY(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,Le.element,Le))}),I.forEach(Le=>Ba(Le,_U));const Me=Sh(De);return Me.onDestroy(()=>{I.forEach(Le=>p_(Le,_U)),zc(_,e.toStyles)}),H.forEach(Le=>{Xo(r,Le,[]).push(Me)}),Me}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new hs(t.duration,t.delay)}}class DR{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new hs,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>nR(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Xo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function xA(n){return n&&1===n.nodeType}function RU(n,t){const e=n.style.display;return n.style.display=t??"none",e}function OU(n,t,e,i,r){const o=[];e.forEach(_=>o.push(RU(_)));const u=[];i.forEach((_,w)=>{const I=new Map;_.forEach(H=>{const De=t.computeStyle(w,H,r);I.set(H,De),(!De||0==De.length)&&(w[Va]=GY,u.push(w))}),n.set(w,I)});let h=0;return e.forEach(_=>RU(_,o[h++])),u}function FU(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),o=new Map;function u(h){if(!h)return 1;let _=o.get(h);if(_)return _;const w=h.parentNode;return _=e.has(w)?w:r.has(w)?1:u(w),o.set(h,_),_}return t.forEach(h=>{const _=u(h);1!==_&&e.get(_).push(h)}),e}function Ba(n,t){n.classList?.add(t)}function p_(n,t){n.classList?.remove(t)}function ZY(n,t,e){Sh(e).onDone(()=>n.processLeaveNode(t))}function LU(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof Fw?LU(i.players,t):t.push(i)}}function NU(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(o=>r.add(o)):t.set(n,i),e.delete(n),!0}class IA{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new $Y(t,e,i),this._timelineEngine=new NY(t,e,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(t,e,i,r,o){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const _=[],I=fR(this._driver,o,_,[]);if(_.length)throw function F5(n,t){return new s.vHH(3404,!1)}();h=function RY(n,t,e){return new OY(n,t,e)}(r,I,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[o,u]=cU(i);this._timelineEngine.command(o,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,o){if("@"==i.charAt(0)){const[u,h]=cU(i);return this._timelineEngine.listen(u,e,h,o)}return this._transitionEngine.listen(t,e,i,r,o)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let JY=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(e);o||n.initialStylesByElement.set(e,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&zc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(zc(this._element,this._initialStyles),this._endStyles&&(zc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Fp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Fp(this._element,this._endStyles),this._endStyles=null),zc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function ER(n){let t=null;return n.forEach((e,i)=>{(function e8(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class VU{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:DU(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class t8{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return fU(t,e)}getParentElement(t){return oR(t)}query(t,e,i){return pU(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,o,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(_.easing=o);const w=new Map,I=u.filter(Me=>Me instanceof VU);(function sY(n,t){return 0===n||0===t})(i,r)&&I.forEach(Me=>{Me.currentSnapshot.forEach((Le,$e)=>w.set($e,Le))});let H=function tY(n){return n.length?n[0]instanceof Map?n:n.map(t=>yU(t)):[]}(e).map(Me=>xh(Me));H=function oY(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((o,u)=>{i.has(u)||r.push(u),i.set(u,o)}),r.length)for(let o=1;o<t.length;o++){let u=t[o];r.forEach(h=>u.set(h,DU(n,h)))}}return t}(t,H,w);const De=function XY(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=ER(t[0]),t.length>1&&(i=ER(t[t.length-1]))):t instanceof Map&&(e=ER(t)),e||i?new JY(n,e,i):null}(t,H);return new VU(t,H,_,De)}}let n8=(()=>{class n extends Yi{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Ry(e):e;return BU(this._renderer,null,i,"register",[r]),new i8(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class i8 extends class kw{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new r8(this._id,t,e||{},this._renderer)}}class r8{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return BU(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function BU(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const UU="@.disabled";let s8=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(o,u)=>{const h=u?.parentNode(o);h&&u.removeChild(h,o)}}createRenderer(e,i){const o=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let I=this._rendererCache.get(o);return I||(I=new HU("",o,this.engine),this._rendererCache.set(o,I)),I}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const _=I=>{Array.isArray(I)?I.forEach(_):this.engine.registerTrigger(u,h,e,I.name,I)};return i.data.animation.forEach(_),new o8(this,h,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[u,h]=o;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(IA),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class HU{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==UU?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class o8 extends HU{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==UU?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function a8(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let o=e.slice(1),u="";return"@"!=o.charAt(0)&&([o,u]=function l8(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(o)),this.engine.listen(this.namespaceId,r,o,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let c8=(()=>{class n extends IA{constructor(e,i,r,o){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(aR),s.LFG(yR),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const jU=[{provide:Yi,useClass:n8},{provide:yR,useFactory:function u8(){return new IY}},{provide:IA,useClass:c8},{provide:s.FYo,useFactory:function d8(n,t,e){return new s8(n,t,e)},deps:[Qa,IA,s.R0b]}],AR=[{provide:aR,useFactory:()=>new t8},{provide:s.QbO,useValue:"BrowserAnimations"},...jU],GU=[{provide:aR,useClass:mU},{provide:s.QbO,useValue:"NoopAnimations"},...jU];let h8=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?GU:AR}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:AR,imports:[As]}),n})();const g8={provide:new s.OlP("mat-tooltip-scroll-strategy"),deps:[qo],useFactory:function m8(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}};let y8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[g8],imports:[Sf,Bi,Oc,Fn,Fn,Qf]}),n})(),zU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Zd,Ew,Se,Ag,qe,N3,By,nj,Av,vj,Rj,eT,Hj,rU,TG,j3,y8]}),n})();var $U=R(6036),v8=R.t($U,2);R(2813),function C8(){return typeof window>"u"}()||function w8(n,t,e){n[t]=e}(v8,"verbosity",$U.VerbosityLevel.INFOS);let WU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),D8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[JP,oU],imports:[Bi,zU,WU,Wf,jC,zH]}),n})();const qU_firebase={apiKey:"AIzaSyBsy03qoAlCIgVWTIAgFpETXrCcIdNwK-4",authDomain:"file-attachment-57ac0.firebaseapp.com",projectId:"file-attachment-57ac0",storageBucket:"file-attachment-57ac0.appspot.com",messagingSenderId:"4632517516",appId:"1:4632517516:web:ec900dad10a07a55a614a9"};let E8=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[f5]}),n.\u0275inj=s.cJS({imports:[As,IG,h8,zU,WU,Ol.hO.initializeApp(qU_firebase),Xq,D8]}),n})();(0,s.G48)(),su().bootstrapModule(E8).catch(n=>console.error(n))},5867:(Ie,x,R)=>{"use strict";R.d(x,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=R(9681);(0,s.registerVersion)("firebase","9.9.2","app")},127:(Ie,x,R)=>{"use strict";R.d(x,{Z:()=>s.Z});var s=R(3942);s.Z.registerVersion("firebase","9.9.2","app-compat")},1451:(Ie,x,R)=>{"use strict";R.r(x);var s=R(5861),te=R(3942),O=R(2090),pe=R(9681),ie=R(655),re=R(1877),B=R(4859);const q=function $(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},fe=function ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},z=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),D=new re.Yd("@firebase/auth");function A(y,...p){D.logLevel<=re.in.ERROR&&D.error(`Auth (${pe.SDK_VERSION}): ${y}`,...p)}function F(y,...p){throw j(y,...p)}function X(y,...p){return j(y,...p)}function N(y,p,g){const C=Object.assign(Object.assign({},fe()),{[p]:g});return new O.LL("auth","Firebase",C).create(p,{appName:y.name})}function J(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&F(y,"argument-error"),N(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function j(y,...p){if("string"!=typeof y){const g=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(g,...C)}return z.create(y,...p)}function S(y,p,...g){if(!y)throw j(p,...g)}function oe(y){const p="INTERNAL ASSERTION FAILED: "+y;throw A(p),new Error(p)}function W(y,p){y||oe(p)}const le=new Map;function me(y){W(y instanceof Function,"Expected a class definition");let p=le.get(y);return p?(W(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,le.set(y,p),p)}function Ve(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Xe(){return"http:"===it()||"https:"===it()}function it(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class b{constructor(p,g){this.shortDelay=p,this.longDelay=g,W(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function ve(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xe()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function k(y,p){W(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class L{static initialize(p,g,C){this.fetchImpl=p,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ne=new b(3e4,6e4);function U(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function be(y,p,g,C){return He.apply(this,arguments)}function He(){return(He=(0,s.Z)(function*(y,p,g,C,K={}){return ke(y,K,(0,s.Z)(function*(){let _e={},Ge={};C&&("GET"===p?Ge=C:_e={body:JSON.stringify(C)});const tt=(0,O.xO)(Object.assign({key:y.config.apiKey},Ge)).slice(1),It=yield y._getAdditionalHeaders();return It["Content-Type"]="application/json",y.languageCode&&(It["X-Firebase-Locale"]=y.languageCode),L.fetch()(Qe(y,y.config.apiHost,g,tt),Object.assign({method:p,headers:It,referrerPolicy:"no-referrer"},_e))}))})).apply(this,arguments)}function ke(y,p,g){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,s.Z)(function*(y,p,g){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},Q),p);try{const K=new gt(y),_e=yield Promise.race([g(),K.promise]);K.clearNetworkTimeout();const Ge=yield _e.json();if("needConfirmation"in Ge)throw Tt(y,"account-exists-with-different-credential",Ge);if(_e.ok&&!("errorMessage"in Ge))return Ge;{const tt=_e.ok?Ge.errorMessage:Ge.error.message,[It,Ht]=tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===It)throw Tt(y,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===It)throw Tt(y,"email-already-in-use",Ge);if("USER_DISABLED"===It)throw Tt(y,"user-disabled",Ge);const sn=C[It]||It.toLowerCase().replace(/[_\s]+/g,"-");if(Ht)throw N(y,sn,Ht);F(y,sn)}}catch(K){if(K instanceof O.ZR)throw K;F(y,"network-request-failed")}})).apply(this,arguments)}function Be(y,p,g,C){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,s.Z)(function*(y,p,g,C,K={}){const _e=yield be(y,p,g,C,K);return"mfaPendingCredential"in _e&&F(y,"multi-factor-auth-required",{_serverResponse:_e}),_e})).apply(this,arguments)}function Qe(y,p,g,C){const K=`${p}${g}?${C}`;return y.config.emulator?k(y.config,K):`${y.config.apiScheme}://${K}`}class gt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(X(this.auth,"network-request-failed")),ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tt(y,p,g){const C={appName:y.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const K=X(y,p,C);return K.customData._tokenResponse=g,K}function _t(){return(_t=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ct(y,p){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ot(y,p){return At.apply(this,arguments)}function At(){return(At=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function nt(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ke(){return(Ke=(0,s.Z)(function*(y,p=!1){const g=(0,O.m9)(y),C=yield g.getIdToken(p),K=xe(C);S(K&&K.exp&&K.auth_time&&K.iat,g.auth,"internal-error");const _e="object"==typeof K.firebase?K.firebase:void 0,Ge=_e?.sign_in_provider;return{claims:K,token:C,authTime:nt(ge(K.auth_time)),issuedAtTime:nt(ge(K.iat)),expirationTime:nt(ge(K.exp)),signInProvider:Ge||null,signInSecondFactor:_e?.sign_in_second_factor||null}})).apply(this,arguments)}function ge(y){return 1e3*Number(y)}function xe(y){var p;const[g,C,K]=y.split(".");if(void 0===g||void 0===C||void 0===K)return A("JWT malformed, contained fewer than 3 sections"),null;try{const _e=(0,O.tV)(C);return _e?JSON.parse(_e):(A("Failed to decode base64 JWT payload"),null)}catch(_e){return A("Caught error parsing JWT payload as JSON",null===(p=_e)||void 0===p?void 0:p.toString()),null}}function wt(y,p){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,s.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(C){throw C instanceof O.ZR&&we(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function we({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Fe{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const K=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,K)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield g.iteration()}),C)}iteration(){var p=this;return(0,s.Z)(function*(){var g;try{yield p.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(g=C)||void 0===g?void 0:g.code)&&p.schedule(!0))}p.schedule()})()}}class rt{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=nt(this.lastLoginAt),this.creationTime=nt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vt(y){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,s.Z)(function*(y){var p;const g=y.auth,C=yield y.getIdToken(),K=yield wt(y,Ot(g,{idToken:C}));S(K?.users.length,g,"internal-error");const _e=K.users[0];y._notifyReloadListener(_e);const Ge=null!==(p=_e.providerUserInfo)&&void 0!==p&&p.length?Ce(_e.providerUserInfo):[],tt=Te(y.providerData,Ge),sn=!!y.isAnonymous&&!(y.email&&_e.passwordHash||tt?.length),Jt={uid:_e.localId,displayName:_e.displayName||null,photoURL:_e.photoUrl||null,email:_e.email||null,emailVerified:_e.emailVerified||!1,phoneNumber:_e.phoneNumber||null,tenantId:_e.tenantId||null,providerData:tt,metadata:new rt(_e.createdAt,_e.lastLoginAt),isAnonymous:sn};Object.assign(y,Jt)})).apply(this,arguments)}function Ee(){return(Ee=(0,s.Z)(function*(y){const p=(0,O.m9)(y);yield vt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Te(y,p){return[...y.filter(C=>!p.some(K=>K.providerId===C.providerId)),...p]}function Ce(y){return y.map(p=>{var{providerId:g}=p,C=(0,ie._T)(p,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function Pe(){return(Pe=(0,s.Z)(function*(y,p){const g=yield ke(y,{},(0,s.Z)(function*(){const C=(0,O.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:K,apiKey:_e}=y.config,Ge=Qe(y,K,"/v1/token",`key=${_e}`),tt=yield y._getAdditionalHeaders();return tt["Content-Type"]="application/x-www-form-urlencoded",L.fetch()(Ge,{method:"POST",headers:tt,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class We{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){S(p.idToken,"internal-error"),S(typeof p.idToken<"u","internal-error"),S(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ft(y){const p=xe(y);return S(p,"internal-error"),S(typeof p.exp<"u","internal-error"),S(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var C=this;return(0,s.Z)(function*(){return S(!C.accessToken||C.refreshToken,p,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var C=this;return(0,s.Z)(function*(){const{accessToken:K,refreshToken:_e,expiresIn:Ge}=yield function Ae(y,p){return Pe.apply(this,arguments)}(p,g);C.updateTokensAndExpiration(K,_e,Number(Ge))})()}updateTokensAndExpiration(p,g,C){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,g){const{refreshToken:C,accessToken:K,expirationTime:_e}=g,Ge=new We;return C&&(S("string"==typeof C,"internal-error",{appName:p}),Ge.refreshToken=C),K&&(S("string"==typeof K,"internal-error",{appName:p}),Ge.accessToken=K),_e&&(S("number"==typeof _e,"internal-error",{appName:p}),Ge.expirationTime=_e),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new We,this.toJSON())}_performRefresh(){return oe("not implemented")}}function at(y,p){S("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Dt{constructor(p){var{uid:g,auth:C,stsTokenManager:K}=p,_e=(0,ie._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=K,this.accessToken=K.accessToken,this.displayName=_e.displayName||null,this.email=_e.email||null,this.emailVerified=_e.emailVerified||!1,this.phoneNumber=_e.phoneNumber||null,this.photoURL=_e.photoURL||null,this.isAnonymous=_e.isAnonymous||!1,this.tenantId=_e.tenantId||null,this.providerData=_e.providerData?[..._e.providerData]:[],this.metadata=new rt(_e.createdAt||void 0,_e.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,s.Z)(function*(){const C=yield wt(g,g.stsTokenManager.getToken(g.auth,p));return S(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(p){return function kt(y){return Ke.apply(this,arguments)}(this,p)}reload(){return function Ze(y){return Ee.apply(this,arguments)}(this)}_assign(p){this!==p&&(S(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Dt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var C=this;return(0,s.Z)(function*(){let K=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),K=!0),g&&(yield vt(C)),yield C.auth._persistUserIfCurrent(C),K&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,s.Z)(function*(){const g=yield p.getIdToken();return yield wt(p,function lt(y,p){return _t.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var C,K,_e,Ge,tt,It,Ht,sn;const Jt=null!==(C=g.displayName)&&void 0!==C?C:void 0,Ii=null!==(K=g.email)&&void 0!==K?K:void 0,xr=null!==(_e=g.phoneNumber)&&void 0!==_e?_e:void 0,bl=null!==(Ge=g.photoURL)&&void 0!==Ge?Ge:void 0,Rd=null!==(tt=g.tenantId)&&void 0!==tt?tt:void 0,Sa=null!==(It=g._redirectEventId)&&void 0!==It?It:void 0,Eu=null!==(Ht=g.createdAt)&&void 0!==Ht?Ht:void 0,hm=null!==(sn=g.lastLoginAt)&&void 0!==sn?sn:void 0,{uid:hf,emailVerified:Od,isAnonymous:H_,providerData:fm,stsTokenManager:wl}=g;S(hf&&wl,p,"internal-error");const _0=We.fromJSON(this.name,wl);S("string"==typeof hf,p,"internal-error"),at(Jt,p.name),at(Ii,p.name),S("boolean"==typeof Od,p,"internal-error"),S("boolean"==typeof H_,p,"internal-error"),at(xr,p.name),at(bl,p.name),at(Rd,p.name),at(Sa,p.name),at(Eu,p.name),at(hm,p.name);const pm=new Dt({uid:hf,auth:p,email:Ii,emailVerified:Od,displayName:Jt,isAnonymous:H_,photoURL:bl,phoneNumber:xr,tenantId:Rd,stsTokenManager:_0,createdAt:Eu,lastLoginAt:hm});return fm&&Array.isArray(fm)&&(pm.providerData=fm.map(y0=>Object.assign({},y0))),Sa&&(pm._redirectEventId=Sa),pm}static _fromIdTokenResponse(p,g,C=!1){return(0,s.Z)(function*(){const K=new We;K.updateFromServerResponse(g);const _e=new Dt({uid:g.localId,auth:p,stsTokenManager:K,isAnonymous:C});return yield vt(_e),_e})()}}const tn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(g,C){var K=this;return(0,s.Z)(function*(){K.storage[g]=C})()}_get(g){var C=this;return(0,s.Z)(function*(){const K=C.storage[g];return void 0===K?null:K})()}_remove(g){var C=this;return(0,s.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return y.type="NONE",y})();function Rn(y,p,g){return`firebase:${y}:${p}:${g}`}class en{constructor(p,g,C){this.persistence=p,this.auth=g,this.userKey=C;const{config:K,name:_e}=this.auth;this.fullUserKey=Rn(this.userKey,K.apiKey,_e),this.fullPersistenceKey=Rn("persistence",K.apiKey,_e),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Dt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,s.Z)(function*(){if(g.persistence===p)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,C="authUser"){return(0,s.Z)(function*(){if(!g.length)return new en(me(tn),p,C);const K=(yield Promise.all(g.map(function(){var Ht=(0,s.Z)(function*(sn){if(yield sn._isAvailable())return sn});return function(sn){return Ht.apply(this,arguments)}}()))).filter(Ht=>Ht);let _e=K[0]||me(tn);const Ge=Rn(C,p.config.apiKey,p.name);let tt=null;for(const Ht of g)try{const sn=yield Ht._get(Ge);if(sn){const Jt=Dt._fromJSON(p,sn);Ht!==_e&&(tt=Jt),_e=Ht;break}}catch{}const It=K.filter(Ht=>Ht._shouldAllowMigration);return _e._shouldAllowMigration&&It.length?(_e=It[0],tt&&(yield _e._set(Ge,tt.toJSON())),yield Promise.all(g.map(function(){var Ht=(0,s.Z)(function*(sn){if(sn!==_e)try{yield sn._remove(Ge)}catch{}});return function(sn){return Ht.apply(this,arguments)}}())),new en(_e,p,C)):new en(_e,p,C)})()}}function nn(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ni(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(bn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(rn(p))return"Blackberry";if(Mn(p))return"Webos";if(An(p))return"Safari";if((p.includes("chrome/")||Pn(p))&&!p.includes("edge/"))return"Chrome";if(xt(p))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function bn(y=(0,O.z$)()){return/firefox\//i.test(y)}function An(y=(0,O.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Pn(y=(0,O.z$)()){return/crios\//i.test(y)}function ni(y=(0,O.z$)()){return/iemobile/i.test(y)}function xt(y=(0,O.z$)()){return/android/i.test(y)}function rn(y=(0,O.z$)()){return/blackberry/i.test(y)}function Mn(y=(0,O.z$)()){return/webos/i.test(y)}function Si(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ri(y=(0,O.z$)()){return Si(y)||xt(y)||Mn(y)||rn(y)||/windows phone/i.test(y)||ni(y)}function ys(y,p=[]){let g;switch(y){case"Browser":g=nn((0,O.z$)());break;case"Worker":g=`${nn((0,O.z$)())}-${y}`;break;default:g=y}const C=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${pe.SDK_VERSION}/${C}`}class vn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const C=_e=>new Promise((Ge,tt)=>{try{Ge(p(_e))}catch(It){tt(It)}});C.onAbort=g,this.queue.push(C);const K=this.queue.length-1;return()=>{this.queue[K]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,s.Z)(function*(){var C;if(g.auth.currentUser===p)return;const K=[];try{for(const _e of g.queue)yield _e(p),_e.onAbort&&K.push(_e.onAbort)}catch(_e){K.reverse();for(const Ge of K)try{Ge()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=_e)||void 0===C?void 0:C.message})}})()}}class Nl{constructor(p,g,C){this.app=p,this.heartbeatServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Vl(this),this.idTokenSubscription=new Vl(this),this.beforeStateQueue=new vn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,g){var C=this;return g&&(this._popupRedirectResolver=me(g)),this._initializationPromise=this.queue((0,s.Z)(function*(){var K,_e;if(!C._deleted&&(C.persistenceManager=yield en.create(C,p),!C._deleted)){if(null!==(K=C._popupRedirectResolver)&&void 0!==K&&K._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(_e=C.currentUser)||void 0===_e?void 0:_e.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,s.Z)(function*(){var C;const K=yield g.assertedPersistence.getCurrentUser();let _e=K,Ge=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const tt=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,It=_e?._redirectEventId,Ht=yield g.tryRedirectSignIn(p);(!tt||tt===It)&&Ht?.user&&(_e=Ht.user,Ge=!0)}if(!_e)return g.directlySetCurrentUser(null);if(!_e._redirectEventId){if(Ge)try{yield g.beforeStateQueue.runMiddleware(_e)}catch(tt){_e=K,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(tt))}return _e?g.reloadAndSetCurrentUserOrClear(_e):g.directlySetCurrentUser(null)}return S(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===_e._redirectEventId?g.directlySetCurrentUser(_e):g.reloadAndSetCurrentUserOrClear(_e)})()}tryRedirectSignIn(p){var g=this;return(0,s.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,s.Z)(function*(){var C;try{yield vt(p)}catch(K){if("auth/network-request-failed"!==(null===(C=K)||void 0===C?void 0:C.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function M(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,s.Z)(function*(){const C=p?(0,O.m9)(p):null;return C&&S(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(p,g=!1){var C=this;return(0,s.Z)(function*(){if(!C._deleted)return p&&S(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,s.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,s.Z)(function*(){yield g.assertedPersistence.setPersistence(me(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new O.LL("auth","Firebase",p())}onAuthStateChanged(p,g,C){return this.registerStateListener(this.authStateSubscription,p,g,C)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,C){return this.registerStateListener(this.idTokenSubscription,p,g,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var C=this;return(0,s.Z)(function*(){const K=yield C.getOrInitRedirectPersistenceManager(g);return null===p?K.removeCurrentUser():K.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,s.Z)(function*(){if(!g.redirectPersistenceManager){const C=p&&me(p)||g._popupRedirectResolver;S(C,g,"argument-error"),g.redirectPersistenceManager=yield en.create(g,[me(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,s.Z)(function*(){var C,K;return g._isInitialized&&(yield g.queue((0,s.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===p?g._currentUser:(null===(K=g.redirectUser)||void 0===K?void 0:K._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,s.Z)(function*(){if(p===g.currentUser)return g.queue((0,s.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,C,K){if(this._deleted)return()=>{};const _e="function"==typeof g?g:g.next.bind(g),Ge=this._isInitialized?Promise.resolve():this._initializationPromise;return S(Ge,this,"internal-error"),Ge.then(()=>_e(this.currentUser)),"function"==typeof g?p.addObserver(g,C,K):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,s.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ys(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var g;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const K=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return K&&(C["X-Firebase-Client"]=K),C})()}}function $n(y){return(0,O.m9)(y)}class Vl{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function vi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function vs(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Br{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return oe("not implemented")}_getIdTokenResponse(p){return oe("not implemented")}_linkToIdToken(p,g){return oe("not implemented")}_getReauthenticationResolver(p){return oe("not implemented")}}function Xi(y,p){return On.apply(this,arguments)}function On(){return(On=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:resetPassword",U(y,p))})).apply(this,arguments)}function Ha(y,p){return Wc.apply(this,arguments)}function Wc(){return(Wc=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function na(y,p){return ia.apply(this,arguments)}function ia(){return(ia=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",U(y,p))})).apply(this,arguments)}function bs(){return(bs=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithPassword",U(y,p))})).apply(this,arguments)}function Ur(y,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:sendOobCode",U(y,p))})).apply(this,arguments)}function $s(y,p){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,s.Z)(function*(y,p){return Ur(y,p)})).apply(this,arguments)}function rr(y,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,s.Z)(function*(y,p){return Ur(y,p)})).apply(this,arguments)}function Ws(y,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,s.Z)(function*(y,p){return Ur(y,p)})).apply(this,arguments)}function ss(y,p){return ja.apply(this,arguments)}function ja(){return(ja=(0,s.Z)(function*(y,p){return Ur(y,p)})).apply(this,arguments)}function qc(){return(qc=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithEmailLink",U(y,p))})).apply(this,arguments)}function sd(){return(sd=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithEmailLink",U(y,p))})).apply(this,arguments)}class Yc extends Br{constructor(p,g,C,K=null){super("password",C),this._email=p,this._password=g,this._tenantId=K}static _fromEmailAndPassword(p,g){return new Yc(p,g,"password")}static _fromEmailAndCode(p,g,C=null){return new Yc(p,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,s.Z)(function*(){switch(g.signInMethod){case"password":return function vo(y,p){return bs.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Bp(y,p){return qc.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:F(p,"internal-error")}})()}_linkToIdToken(p,g){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return Ha(p,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function Mh(y,p){return sd.apply(this,arguments)}(p,{idToken:g,email:C._email,oobCode:C._password});default:F(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ti(y,p){return od.apply(this,arguments)}function od(){return(od=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithIdp",U(y,p))})).apply(this,arguments)}class ws extends Br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new ws(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):F("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:K}=g,_e=(0,ie._T)(g,["providerId","signInMethod"]);if(!C||!K)return null;const Ge=new ws(C,K);return Ge.idToken=_e.idToken||void 0,Ge.accessToken=_e.accessToken||void 0,Ge.secret=_e.secret,Ge.nonce=_e.nonce,Ge.pendingToken=_e.pendingToken||null,Ge}_getIdTokenResponse(p){return Ti(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,Ti(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Ti(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,O.xO)(g)}return p}}function Hp(y,p){return Zc.apply(this,arguments)}function Zc(){return(Zc=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:sendVerificationCode",U(y,p))})).apply(this,arguments)}function Ys(){return(Ys=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithPhoneNumber",U(y,p))})).apply(this,arguments)}function ad(){return(ad=(0,s.Z)(function*(y,p){const g=yield Be(y,"POST","/v1/accounts:signInWithPhoneNumber",U(y,p));if(g.temporaryProof)throw Tt(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Gp={USER_NOT_FOUND:"user-not-found"};function Bl(){return(Bl=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithPhoneNumber",U(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Gp)})).apply(this,arguments)}class Cs extends Br{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Cs({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Cs({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Kc(y,p){return Ys.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function jp(y,p){return ad.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function kh(y,p){return Bl.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:C,verificationCode:K}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:C,code:K}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:C,phoneNumber:K,temporaryProof:_e}=p;return C||g||K||_e?new Cs({verificationId:g,verificationCode:C,phoneNumber:K,temporaryProof:_e}):null}}class Ul{constructor(p){var g,C,K,_e,Ge,tt;const It=(0,O.zd)((0,O.pd)(p)),Ht=null!==(g=It.apiKey)&&void 0!==g?g:null,sn=null!==(C=It.oobCode)&&void 0!==C?C:null,Jt=function m_(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(K=It.mode)&&void 0!==K?K:null);S(Ht&&sn&&Jt,"argument-error"),this.apiKey=Ht,this.operation=Jt,this.code=sn,this.continueUrl=null!==(_e=It.continueUrl)&&void 0!==_e?_e:null,this.languageCode=null!==(Ge=It.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(tt=It.tenantId)&&void 0!==tt?tt:null}static parseLink(p){const g=function ld(y){const p=(0,O.zd)((0,O.pd)(y)).link,g=p?(0,O.zd)((0,O.pd)(p)).deep_link_id:null,C=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(C?(0,O.zd)((0,O.pd)(C)).link:null)||C||g||p||y}(p);try{return new Ul(g)}catch{return null}}}let Hl=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,C){return Yc._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const K=Ul.parseLink(C);return S(K,"argument-error"),Yc._fromEmailAndCode(g,K.code,K.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Hr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ks extends Hr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class sa extends Ks{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return S("providerId"in g&&"signInMethod"in g,"argument-error"),ws._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return S(p.idToken||p.accessToken,"argument-error"),ws._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return sa.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return sa.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:K,pendingToken:_e,nonce:Ge,providerId:tt}=p;if(!C&&!K&&!g&&!_e||!tt)return null;try{return new sa(tt)._credential({idToken:g,accessToken:C,nonce:Ge,pendingToken:_e})}catch{return null}}}let Ga=(()=>{class y extends Ks{constructor(){super("facebook.com")}static credential(g){return ws._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),za=(()=>{class y extends Ks{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return ws._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:K}=g;if(!C&&!K)return null;try{return y.credential(C,K)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),Qc=(()=>{class y extends Ks{constructor(){super("github.com")}static credential(g){return ws._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Bi extends Br{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Ti(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,Ti(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Ti(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:K,pendingToken:_e}=g;return C&&K&&_e&&C===K?new Bi(C,_e):null}static _create(p,g){return new Bi(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Xn extends Hr{constructor(p){S(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Xn.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Xn.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Bi.fromJSON(p);return S(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:C}=p;if(!g||!C)return null;try{return Bi._create(C,g)}catch{return null}}}let jl=(()=>{class y extends Ks{constructor(){super("twitter.com")}static credential(g,C){return ws._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:K}=g;if(!C||!K)return null;try{return y.credential(C,K)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function Gl(y,p){return $a.apply(this,arguments)}function $a(){return($a=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signUp",U(y,p))})).apply(this,arguments)}class sr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,C,K=!1){return(0,s.Z)(function*(){const _e=yield Dt._fromIdTokenResponse(p,C,K),Ge=$p(C);return new sr({user:_e,providerId:Ge,_tokenResponse:C,operationType:g})})()}static _forOperation(p,g,C){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const K=$p(C);return new sr({user:p,providerId:K,_tokenResponse:C,operationType:g})})()}}function $p(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function cd(){return(cd=(0,s.Z)(function*(y){var p;const g=$n(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new sr({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield Gl(g,{returnSecureToken:!0}),K=yield sr._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(K.user),K})).apply(this,arguments)}class Xc extends O.ZR{constructor(p,g,C,K){var _e;super(g.code,g.message),this.operationType=C,this.user=K,Object.setPrototypeOf(this,Xc.prototype),this.customData={appName:p.name,tenantId:null!==(_e=p.tenantId)&&void 0!==_e?_e:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,g,C,K){return new Xc(p,g,C,K)}}function Wa(y,p,g,C){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(_e=>{throw"auth/multi-factor-auth-required"===_e.code?Xc._fromErrorAndOperation(y,_e,p,C):_e})}function gi(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function oa(){return(oa=(0,s.Z)(function*(y,p){const g=(0,O.m9)(y);yield Ds(!0,g,p);const{providerUserInfo:C}=yield ct(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),K=gi(C||[]);return g.providerData=g.providerData.filter(_e=>K.has(_e.providerId)),K.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function os(y,p){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,s.Z)(function*(y,p,g=!1){const C=yield wt(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return sr._forOperation(y,"link",C)})).apply(this,arguments)}function Ds(y,p,g){return jr.apply(this,arguments)}function jr(){return(jr=(0,s.Z)(function*(y,p,g){yield vt(p);const K=!1===y?"provider-already-linked":"no-such-provider";S(gi(p.providerData).has(g)===y,p.auth,K)})).apply(this,arguments)}function ud(y,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,s.Z)(function*(y,p,g=!1){var C;const{auth:K}=y,_e="reauthenticate";try{const Ge=yield wt(y,Wa(K,_e,p,y),g);S(Ge.idToken,K,"internal-error");const tt=xe(Ge.idToken);S(tt,K,"internal-error");const{sub:It}=tt;return S(y.uid===It,K,"user-mismatch"),sr._forOperation(y,_e,Ge)}catch(Ge){throw"auth/user-not-found"===(null===(C=Ge)||void 0===C?void 0:C.code)&&F(K,"user-mismatch"),Ge}})).apply(this,arguments)}function qa(y,p){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(y,p,g=!1){const C="signIn",K=yield Wa(y,C,p),_e=yield sr._fromIdTokenResponse(y,C,K);return g||(yield y._updateCurrentUser(_e.user)),_e})).apply(this,arguments)}function jt(y,p){return zl.apply(this,arguments)}function zl(){return(zl=(0,s.Z)(function*(y,p){return qa($n(y),p)})).apply(this,arguments)}function eu(y,p){return tu.apply(this,arguments)}function tu(){return(tu=(0,s.Z)(function*(y,p){const g=(0,O.m9)(y);return yield Ds(!1,g,p.providerId),os(g,p)})).apply(this,arguments)}function wo(y,p){return Co.apply(this,arguments)}function Co(){return(Co=(0,s.Z)(function*(y,p){return ud((0,O.m9)(y),p)})).apply(this,arguments)}function Ya(y,p){return la.apply(this,arguments)}function la(){return(la=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithCustomToken",U(y,p))})).apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(y,p){const g=$n(y),C=yield Ya(g,{token:p,returnSecureToken:!0}),K=yield sr._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(K.user),K})).apply(this,arguments)}class wn{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ca._fromServerResponse(p,g):F(p,"internal-error")}}class ca extends wn{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ca(g)}}function ua(y,p,g){var C;S((null===(C=g.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),S(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(S(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(S(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Za(){return(Za=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y),K={requestType:"PASSWORD_RESET",email:p};g&&ua(C,K,g),yield rr(C,K)})).apply(this,arguments)}function br(){return(br=(0,s.Z)(function*(y,p,g){yield Xi((0,O.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Es(){return(Es=(0,s.Z)(function*(y,p){yield na((0,O.m9)(y),{oobCode:p})})).apply(this,arguments)}function $l(y,p){return dd.apply(this,arguments)}function dd(){return(dd=(0,s.Z)(function*(y,p){const g=(0,O.m9)(y),C=yield Xi(g,{oobCode:p}),K=C.requestType;switch(S(K,g,"internal-error"),K){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":S(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":S(C.mfaInfo,g,"internal-error");default:S(C.email,g,"internal-error")}let _e=null;return C.mfaInfo&&(_e=wn._fromServerResponse($n(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:_e},operation:K}})).apply(this,arguments)}function Qs(){return(Qs=(0,s.Z)(function*(y,p){const{data:g}=yield $l((0,O.m9)(y),p);return g.email})).apply(this,arguments)}function wr(){return(wr=(0,s.Z)(function*(y,p,g){const C=$n(y),K=yield Gl(C,{returnSecureToken:!0,email:p,password:g}),_e=yield sr._fromIdTokenResponse(C,"signIn",K);return yield C._updateCurrentUser(_e.user),_e})).apply(this,arguments)}function Gr(){return(Gr=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y),K={requestType:"EMAIL_SIGNIN",email:p};S(g.handleCodeInApp,C,"argument-error"),g&&ua(C,K,g),yield Ws(C,K)})).apply(this,arguments)}function Xa(){return(Xa=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y),K=Hl.credentialWithLink(p,g||Ve());return S(K._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),jt(C,K)})).apply(this,arguments)}function Ph(y,p){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:createAuthUri",U(y,p))})).apply(this,arguments)}function Wl(){return(Wl=(0,s.Z)(function*(y,p){const C={identifier:p,continueUri:Xe()?Ve():"http://localhost"},{signinMethods:K}=yield Ph((0,O.m9)(y),C);return K||[]})).apply(this,arguments)}function tl(){return(tl=(0,s.Z)(function*(y,p){const g=(0,O.m9)(y),K={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ua(g.auth,K,p);const{email:_e}=yield $s(g.auth,K);_e!==y.email&&(yield y.reload())})).apply(this,arguments)}function nl(){return(nl=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y),_e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&ua(C.auth,_e,g);const{email:Ge}=yield ss(C.auth,_e);Ge!==y.email&&(yield y.reload())})).apply(this,arguments)}function ql(y,p){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function il(){return(il=(0,s.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const C=(0,O.m9)(y),_e={idToken:yield C.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Ge=yield wt(C,ql(C.auth,_e));C.displayName=Ge.displayName||null,C.photoURL=Ge.photoUrl||null;const tt=C.providerData.find(({providerId:It})=>"password"===It);tt&&(tt.displayName=C.displayName,tt.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Ge)})).apply(this,arguments)}function Ql(y,p,g){return bi.apply(this,arguments)}function bi(){return(bi=(0,s.Z)(function*(y,p,g){const{auth:C}=y,_e={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(_e.email=p),g&&(_e.password=g);const Ge=yield wt(y,Ha(C,_e));yield y._updateTokensIfNecessary(Ge,!0)})).apply(this,arguments)}class Gn{constructor(p,g,C={}){this.isNewUser=p,this.providerId=g,this.profile=C}}class ou extends Gn{constructor(p,g,C,K){super(p,g,C),this.username=K}}class Rh extends Gn{constructor(p,g){super(p,"facebook.com",g)}}class Xl extends ou{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class fd extends Gn{constructor(p,g){super(p,"google.com",g)}}class au extends ou{constructor(p,g,C){super(p,"twitter.com",g,C)}}function Oh(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function As(y){var p,g;if(!y)return null;const{providerId:C}=y,K=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},_e=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&y?.idToken){const Ge=null===(g=null===(p=xe(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ge)return new Gn(_e,"anonymous"!==Ge&&"custom"!==Ge?Ge:null)}if(!C)return null;switch(C){case"facebook.com":return new Rh(_e,K);case"github.com":return new Xl(_e,K);case"google.com":return new fd(_e,K);case"twitter.com":return new au(_e,K,y.screenName||null);case"custom":case"anonymous":return new Gn(_e,null);default:return new Gn(_e,C,K)}}(g)}class fa{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new fa("enroll",p)}static _fromMfaPendingCredential(p){return new fa("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,C;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return fa._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return fa._fromIdtoken(p.multiFactorSession.idToken)}return null}}class So{constructor(p,g,C){this.session=p,this.hints=g,this.signInResolver=C}static _fromError(p,g){const C=$n(p),K=g.customData._serverResponse,_e=(K.mfaInfo||[]).map(tt=>wn._fromServerResponse(C,tt));S(K.mfaPendingCredential,C,"internal-error");const Ge=fa._fromMfaPendingCredential(K.mfaPendingCredential);return new So(Ge,_e,function(){var tt=(0,s.Z)(function*(It){const Ht=yield It._process(C,Ge);delete K.mfaInfo,delete K.mfaPendingCredential;const sn=Object.assign(Object.assign({},K),{idToken:Ht.idToken,refreshToken:Ht.refreshToken});switch(g.operationType){case"signIn":const Jt=yield sr._fromIdTokenResponse(C,g.operationType,sn);return yield C._updateCurrentUser(Jt.user),Jt;case"reauthenticate":return S(g.user,C,"internal-error"),sr._forOperation(g.user,g.operationType,sn);default:F(C,"internal-error")}});return function(It){return tt.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,s.Z)(function*(){return g.signInResolver(p)})()}}function Nh(y,p){return be(y,"POST","/v2/accounts/mfaEnrollment:start",U(y,p))}class Vh{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>wn._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new Vh(p)}getSession(){var p=this;return(0,s.Z)(function*(){return fa._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var C=this;return(0,s.Z)(function*(){const K=p,_e=yield C.getSession(),Ge=yield wt(C.user,K._process(C.user.auth,_e,g));return yield C.user._updateTokensIfNecessary(Ge),C.user.reload()})()}unenroll(p){var g=this;return(0,s.Z)(function*(){var C;const K="string"==typeof p?p:p.uid,_e=yield g.user.getIdToken(),Ge=yield wt(g.user,function g_(y,p){return be(y,"POST","/v2/accounts/mfaEnrollment:withdraw",U(y,p))}(g.user.auth,{idToken:_e,mfaEnrollmentId:K}));g.enrolledFactors=g.enrolledFactors.filter(({uid:tt})=>tt!==K),yield g.user._updateTokensIfNecessary(Ge);try{yield g.user.reload()}catch(tt){if("auth/user-token-expired"!==(null===(C=tt)||void 0===C?void 0:C.code))throw tt}})()}}const To=new WeakMap,pa="__sak";class Jl{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(pa,"1"),this.storage.removeItem(pa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const $r=(()=>{class y extends Jl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Bh(){const y=(0,O.z$)();return An(y)||Si(y)}()&&function _o(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ri(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const K=this.storage.getItem(C),_e=this.localCache[C];K!==_e&&g(C,_e,K)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((tt,It,Ht)=>{this.notifyListeners(tt,Ht)});const K=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tt=this.storage.getItem(K);if(g.newValue!==tt)null!==g.newValue?this.storage.setItem(K,g.newValue):this.storage.removeItem(K);else if(this.localCache[K]===g.newValue&&!C)return}const _e=()=>{const tt=this.storage.getItem(K);!C&&this.localCache[K]===tt||this.notifyListeners(K,tt)},Ge=this.storage.getItem(K);!function go(){return(0,O.w1)()&&10===document.documentMode}()||Ge===g.newValue||g.newValue===g.oldValue?_e():setTimeout(_e,10)}notifyListeners(g,C){this.localCache[g]=C;const K=this.listeners[g];if(K)for(const _e of Array.from(K))_e(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,K)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:K}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var K=()=>super._set,_e=this;return(0,s.Z)(function*(){yield K().call(_e,g,C),_e.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,K=this;return(0,s.Z)(function*(){const _e=yield C().call(K,g);return K.localCache[g]=JSON.stringify(_e),_e})()}_remove(g){var C=()=>super._remove,K=this;return(0,s.Z)(function*(){yield C().call(K,g),delete K.localCache[g]})()}}return y.type="LOCAL",y})(),Cr=(()=>{class y extends Jl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return y.type="SESSION",y})();let zn=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(_e=>_e.isListeningto(g));if(C)return C;const K=new y(g);return this.receivers.push(K),K}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,s.Z)(function*(){const K=g,{eventId:_e,eventType:Ge,data:tt}=K.data,It=C.handlersMap[Ge];if(!It?.size)return;K.ports[0].postMessage({status:"ack",eventId:_e,eventType:Ge});const Ht=Array.from(It).map(function(){var Jt=(0,s.Z)(function*(Ii){return Ii(K.origin,tt)});return function(Ii){return Jt.apply(this,arguments)}}()),sn=yield function Yp(y){return Promise.all(y.map(function(){var p=(0,s.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return p.apply(this,arguments)}}()))}(Ht);K.ports[0].postMessage({status:"done",eventId:_e,eventType:Ge,response:sn})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Wr(y="",p=10){let g="";for(let C=0;C<p;C++)g+=Math.floor(10*Math.random());return y+g}class Nt{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,C=50){var K=this;return(0,s.Z)(function*(){const _e=typeof MessageChannel<"u"?new MessageChannel:null;if(!_e)throw new Error("connection_unavailable");let Ge,tt;return new Promise((It,Ht)=>{const sn=Wr("",20);_e.port1.start();const Jt=setTimeout(()=>{Ht(new Error("unsupported_event"))},C);tt={messageChannel:_e,onMessage(Ii){const xr=Ii;if(xr.data.eventId===sn)switch(xr.data.status){case"ack":clearTimeout(Jt),Ge=setTimeout(()=>{Ht(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),It(xr.data.response);break;default:clearTimeout(Jt),clearTimeout(Ge),Ht(new Error("invalid_response"))}}},K.handlers.add(tt),_e.port1.addEventListener("message",tt.onMessage),K.target.postMessage({eventType:p,eventId:sn,data:g},[_e.port2])}).finally(()=>{tt&&K.removeMessageHandler(tt)})})()}}function yt(){return window}function Wn(){return typeof yt().WorkerGlobalScope<"u"&&"function"==typeof yt().importScripts}function al(){return(al=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const ll="firebaseLocalStorageDb",qr="firebaseLocalStorage",Gt="fbase_key";class Js{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function nc(y,p){return y.transaction([qr],p?"readwrite":"readonly").objectStore(qr)}function to(){const y=indexedDB.open(ll,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(qr,{keyPath:Gt})}catch(K){g(K)}}),y.addEventListener("success",(0,s.Z)(function*(){const C=y.result;C.objectStoreNames.contains(qr)?p(C):(C.close(),yield function eo(){const y=indexedDB.deleteDatabase(ll);return new Js(y).toPromise()}(),p(yield to()))}))})}function Zn(y,p,g){return ic.apply(this,arguments)}function ic(){return(ic=(0,s.Z)(function*(y,p,g){const C=nc(y,!0).put({[Gt]:p,value:g});return new Js(C).toPromise()})).apply(this,arguments)}function as(){return(as=(0,s.Z)(function*(y,p){const g=nc(y,!1).get(p),C=yield new Js(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function rc(y,p){const g=nc(y,!0).delete(p);return new Js(g).toPromise()}const mr=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,s.Z)(function*(){return g.db||(g.db=yield to()),g.db})()}_withRetries(g){var C=this;return(0,s.Z)(function*(){let K=0;for(;;)try{const _e=yield C._openDb();return yield g(_e)}catch(_e){if(K++>3)throw _e;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,s.Z)(function*(){return Wn()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,s.Z)(function*(){g.receiver=zn._getInstance(function tc(){return Wn()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,s.Z)(function*(K,_e){return{keyProcessed:(yield g._poll()).includes(_e.key)}});return function(K,_e){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,s.Z)(function*(K,_e){return["keyChanged"]});return function(K,_e){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,s.Z)(function*(){var C,K;if(g.activeServiceWorker=yield function ol(){return al.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Nt(g.activeServiceWorker);const _e=yield g.sender._send("ping",{},800);!_e||(null===(C=_e[0])||void 0===C?void 0:C.fulfilled)&&(null===(K=_e[0])||void 0===K?void 0:K.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,s.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function ec(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const g=yield to();return yield Zn(g,pa,"1"),yield rc(g,pa),!0}catch{}return!1})()}_withPendingWrite(g){var C=this;return(0,s.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var K=this;return(0,s.Z)(function*(){return K._withPendingWrite((0,s.Z)(function*(){return yield K._withRetries(_e=>Zn(_e,g,C)),K.localCache[g]=C,K.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,s.Z)(function*(){const K=yield C._withRetries(_e=>function ma(y,p){return as.apply(this,arguments)}(_e,g));return C.localCache[g]=K,K})()}_remove(g){var C=this;return(0,s.Z)(function*(){return C._withPendingWrite((0,s.Z)(function*(){return yield C._withRetries(K=>rc(K,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,s.Z)(function*(){const C=yield g._withRetries(Ge=>{const tt=nc(Ge,!1).getAll();return new Js(tt).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const K=[],_e=new Set;for(const{fbase_key:Ge,value:tt}of C)_e.add(Ge),JSON.stringify(g.localCache[Ge])!==JSON.stringify(tt)&&(g.notifyListeners(Ge,tt),K.push(Ge));for(const Ge of Object.keys(g.localCache))g.localCache[Ge]&&!_e.has(Ge)&&(g.notifyListeners(Ge,null),K.push(Ge));return K})()}notifyListeners(g,C){this.localCache[g]=C;const K=this.listeners[g];if(K)for(const _e of Array.from(K))_e(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function no(y,p){return be(y,"POST","/v2/accounts/mfaSignIn:start",U(y,p))}function or(){return(or=(0,s.Z)(function*(y){return(yield be(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Dr(y){return new Promise((p,g)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=p,C.onerror=K=>{const _e=X("internal-error");_e.customData=K,g(_e)},C.type="text/javascript",C.charset="UTF-8",function uu(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(C)})}function Hi(y){return`__${y}${Math.floor(1e6*Math.random())}`}const Tn=1e12;class Zp{constructor(p){this.auth=p,this.counter=Tn,this._widgets=new Map}render(p,g){const C=this.counter;return this._widgets.set(C,new ai(p,this.auth.name,g||{})),this.counter++,C}reset(p){var g;const C=p||Tn;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(p){var g;return(null===(g=this._widgets.get(p||Tn))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,s.Z)(function*(){var C;return null===(C=g._widgets.get(p||Tn))||void 0===C||C.execute(),""})()}}class ai{constructor(p,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const K="string"==typeof p?document.getElementById(p):p;S(K,"argument-error",{appName:g}),this.container=K,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ei(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Kn=Hi("rcb"),Qn=new b(3e4,6e4);class cl{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=yt().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return S(function ul(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(yt().grecaptcha):new Promise((C,K)=>{const _e=yt().setTimeout(()=>{K(X(p,"network-request-failed"))},Qn.get());yt()[Kn]=()=>{yt().clearTimeout(_e),delete yt()[Kn];const tt=yt().grecaptcha;if(!tt)return void K(X(p,"internal-error"));const It=tt.render;tt.render=(Ht,sn)=>{const Jt=It(Ht,sn);return this.counter++,Jt},this.hostLanguage=g,C(tt)},Dr(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:Kn,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(_e),K(X(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=yt().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class __{load(p){return(0,s.Z)(function*(){return new Zp(p)})()}clearedOneInstance(){}}const io="recaptcha",qn={theme:"light",type:"image"};class li{constructor(p,g=Object.assign({},qn),C){this.parameters=g,this.type=io,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=$n(C),this.isInvisible="invisible"===this.parameters.size,S(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const K="string"==typeof p?document.getElementById(p):p;S(K,this.auth,"argument-error"),this.container=K,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new __:new cl,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(g)||new Promise(_e=>{const Ge=tt=>{!tt||(p.tokenChangeListeners.delete(Ge),_e(tt))};p.tokenChangeListeners.add(Ge),p.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){S(!this.parameters.sitekey,this.auth,"argument-error"),S(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),S(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof p)p(g);else if("string"==typeof p){const C=yt()[p];"function"==typeof C&&C(g)}}}assertNotDestroyed(){S(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){S(Xe()&&!Wn(),p.auth,"internal-error"),yield function gr(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Jn(y){return or.apply(this,arguments)}(p.auth);S(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return S(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Hh{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Cs._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function xi(){return(xi=(0,s.Z)(function*(y,p,g){const C=$n(y),K=yield fn(C,p,(0,O.m9)(g));return new Hh(K,_e=>jt(C,_e))})).apply(this,arguments)}function sc(){return(sc=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y);yield Ds(!1,C,"phone");const K=yield fn(C.auth,p,(0,O.m9)(g));return new Hh(K,_e=>eu(C,_e))})).apply(this,arguments)}function cs(){return(cs=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y),K=yield fn(C.auth,p,(0,O.m9)(g));return new Hh(K,_e=>wo(C,_e))})).apply(this,arguments)}function fn(y,p,g){return du.apply(this,arguments)}function du(){return(du=(0,s.Z)(function*(y,p,g){var C;const K=yield g.verify();try{let _e;if(S("string"==typeof K,y,"argument-error"),S(g.type===io,y,"argument-error"),_e="string"==typeof p?{phoneNumber:p}:p,"session"in _e){const Ge=_e.session;if("phoneNumber"in _e)return S("enroll"===Ge.type,y,"internal-error"),(yield Nh(y,{idToken:Ge.credential,phoneEnrollmentInfo:{phoneNumber:_e.phoneNumber,recaptchaToken:K}})).phoneSessionInfo.sessionInfo;{S("signin"===Ge.type,y,"internal-error");const tt=(null===(C=_e.multiFactorHint)||void 0===C?void 0:C.uid)||_e.multiFactorUid;return S(tt,y,"missing-multi-factor-info"),(yield no(y,{mfaPendingCredential:Ge.credential,mfaEnrollmentId:tt,phoneSignInInfo:{recaptchaToken:K}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ge}=yield Hp(y,{phoneNumber:_e.phoneNumber,recaptchaToken:K});return Ge}}finally{g._reset()}})).apply(this,arguments)}function yd(){return(yd=(0,s.Z)(function*(y,p){yield os((0,O.m9)(y),p)})).apply(this,arguments)}let oc=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=$n(g)}verifyPhoneNumber(g,C){return fn(this.auth,g,(0,O.m9)(C))}static credential(g,C){return Cs._fromVerification(g,C)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:K}=g;return C&&K?Cs._fromTokenResponse(C,K):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Oi(y,p){return p?me(p):(S(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Gi extends Br{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ti(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Ti(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Ti(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function ac(y){return qa(y.auth,new Gi(y),y.bypassAuthState)}function Ts(y){const{auth:p,user:g}=y;return S(g,p,"internal-error"),ud(g,new Gi(y),y.bypassAuthState)}function jh(y){return ci.apply(this,arguments)}function ci(){return(ci=(0,s.Z)(function*(y){const{auth:p,user:g}=y;return S(g,p,"internal-error"),os(g,new Gi(y),y.bypassAuthState)})).apply(this,arguments)}class Er{constructor(p,g,C,K,_e=!1){this.auth=p,this.resolver=C,this.user=K,this.bypassAuthState=_e,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,s.Z)(function*(C,K){p.pendingPromise={resolve:C,reject:K};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(_e){p.reject(_e)}});return function(C,K){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,s.Z)(function*(){const{urlResponse:C,sessionId:K,postBody:_e,tenantId:Ge,error:tt,type:It}=p;if(tt)return void g.reject(tt);const Ht={auth:g.auth,requestUri:C,sessionId:K,tenantId:Ge||void 0,postBody:_e||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(It)(Ht))}catch(sn){g.reject(sn)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return ac;case"linkViaPopup":case"linkViaRedirect":return jh;case"reauthViaPopup":case"reauthViaRedirect":return Ts;default:F(this.auth,"internal-error")}}resolve(p){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fl=new b(2e3,1e4);function pl(){return(pl=(0,s.Z)(function*(y,p,g){const C=$n(y);J(y,p,Hr);const K=Oi(C,g);return new bd(C,"signInViaPopup",p,K).executeNotNull()})).apply(this,arguments)}function fu(){return(fu=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y);J(C.auth,p,Hr);const K=Oi(C.auth,g);return new bd(C.auth,"reauthViaPopup",p,K,C).executeNotNull()})).apply(this,arguments)}function Io(){return(Io=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y);J(C.auth,p,Hr);const K=Oi(C.auth,g);return new bd(C.auth,"linkViaPopup",p,K,C).executeNotNull()})).apply(this,arguments)}let bd=(()=>{class y extends Er{constructor(g,C,K,_e,Ge){super(g,C,_e,Ge),this.provider=K,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,s.Z)(function*(){const C=yield g.execute();return S(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,s.Z)(function*(){W(1===g.filter.length,"Popup operations only handle one event");const C=Wr();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(K=>{g.reject(K)}),g.resolver._isIframeWebStorageSupported(g.auth,K=>{K||g.reject(X(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(X(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,K;this.pollId=null!==(K=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==K&&K.closed?window.setTimeout(()=>{this.pollId=null,this.reject(X(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,fl.get())};g()}}return y.currentPopupAction=null,y})();const xs=new Map;class Mo extends Er{constructor(p,g,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,s.Z)(function*(){let C=xs.get(g.auth._key());if(!C){try{const _e=(yield function ko(y,p){return cn.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;C=()=>Promise.resolve(_e)}catch(K){C=()=>Promise.reject(K)}xs.set(g.auth._key(),C)}return g.bypassAuthState||xs.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,C=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(C,p);if("unknown"!==p.type){if(p.eventId){const K=yield C.auth._redirectUserForId(p.eventId);if(K)return C.user=K,g().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function cn(){return(cn=(0,s.Z)(function*(y,p){const g=ui(p),C=lc(y);if(!(yield C._isAvailable()))return!1;const K="true"===(yield C._get(g));return yield C._remove(g),K})).apply(this,arguments)}function Po(y,p){return us.apply(this,arguments)}function us(){return(us=(0,s.Z)(function*(y,p){return lc(y)._set(ui(p),"true")})).apply(this,arguments)}function Ro(y,p){xs.set(y._key(),p)}function lc(y){return me(y._redirectPersistence)}function ui(y){return Rn("pendingRedirect",y.config.apiKey,y.name)}function P(){return(P=(0,s.Z)(function*(y,p,g){const C=$n(y);J(y,p,Hr);const K=Oi(C,g);return yield Po(K,C),K._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Oe(){return(Oe=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y);J(C.auth,p,Hr);const K=Oi(C.auth,g);yield Po(K,C.auth);const _e=yield Wt(C);return K._openRedirect(C.auth,p,"reauthViaRedirect",_e)})).apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y);J(C.auth,p,Hr);const K=Oi(C.auth,g);yield Ds(!1,C,p.providerId),yield Po(K,C.auth);const _e=yield Wt(C);return K._openRedirect(C.auth,p,"linkViaRedirect",_e)})).apply(this,arguments)}function Zt(){return(Zt=(0,s.Z)(function*(y,p){return yield $n(y)._initializationPromise,hn(y,p,!1)})).apply(this,arguments)}function hn(y,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,s.Z)(function*(y,p,g=!1){const C=$n(y),K=Oi(C,p),Ge=yield new Mo(C,K,g).execute();return Ge&&!g&&(delete Ge.user._redirectEventId,yield C._persistUserIfCurrent(Ge.user),yield C._setRedirectUser(null,p)),Ge})).apply(this,arguments)}function Wt(y){return fi.apply(this,arguments)}function fi(){return(fi=(0,s.Z)(function*(y){const p=Wr(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class ml{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(g=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Oo(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ar(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var C;if(p.error&&!Ar(p)){const K=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(X(this.auth,K))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const C=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(va(p))}saveEventToCache(p){this.cachedEventUids.add(va(p)),this.lastProcessedEventTime=Date.now()}}function va(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Ar({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function Fo(y){return ba.apply(this,arguments)}function ba(){return(ba=(0,s.Z)(function*(y,p={}){return be(y,"GET","/v1/projects",p)})).apply(this,arguments)}const lr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ro=/^https?/;function zh(){return(zh=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Fo(y);for(const g of p)try{if(y_(g))return}catch{}F(y,"unauthorized-domain")})).apply(this,arguments)}function y_(y){const p=Ve(),{protocol:g,hostname:C}=new URL(p);if(y.startsWith("chrome-extension://")){const Ge=new URL(y);return""===Ge.hostname&&""===C?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Ge.hostname===C}if(!ro.test(g))return!1;if(lr.test(y))return C===y;const K=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+K+"|"+K+")$","i").test(C)}const v_=new b(3e4,6e4);function Lo(){const y=yt().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let No=null;function $h(y){return No=No||function uc(y){return new Promise((p,g)=>{var C,K,_e;function Ge(){Lo(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Lo(),g(X(y,"network-request-failed"))},timeout:v_.get()})}if(null!==(K=null===(C=yt().gapi)||void 0===C?void 0:C.iframes)&&void 0!==K&&K.Iframe)p(gapi.iframes.getContext());else{if(null===(_e=yt().gapi)||void 0===_e||!_e.load){const tt=Hi("iframefcb");return yt()[tt]=()=>{gapi.load?Ge():g(X(y,"network-request-failed"))},Dr(`https://apis.google.com/js/api.js?onload=${tt}`).catch(It=>g(It))}Ge()}}).catch(p=>{throw No=null,p})}(y),No}const b_=new b(5e3,15e3),qh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},w_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yh(y){const p=y.config;S(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?k(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:y.name,v:pe.SDK_VERSION},K=w_.get(y.config.apiHost);K&&(C.eid=K);const _e=y._getFrameworks();return _e.length&&(C.fw=_e.join(",")),`${g}?${(0,O.xO)(C).slice(1)}`}function gl(){return gl=(0,s.Z)(function*(y){const p=yield $h(y),g=yt().gapi;return S(g,y,"internal-error"),p.open({where:document.body,url:Yh(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qh,dontclear:!0},C=>new Promise(function(){var K=(0,s.Z)(function*(_e,Ge){yield C.restyle({setHideOnLeave:!1});const tt=X(y,"network-request-failed"),It=yt().setTimeout(()=>{Ge(tt)},b_.get());function Ht(){yt().clearTimeout(It),_e(C)}C.ping(Ht).then(Ht,()=>{Ge(tt)})});return function(_e,Ge){return K.apply(this,arguments)}}()))}),gl.apply(this,arguments)}const so={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ed(y,p,g,C,K,_e){S(y.config.authDomain,y,"auth-domain-config-required"),S(y.config.apiKey,y,"invalid-api-key");const Ge={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:C,v:pe.SDK_VERSION,eventId:K};if(p instanceof Hr){p.setDefaultLanguage(y.languageCode),Ge.providerId=p.providerId||"",(0,O.xb)(p.getCustomParameters())||(Ge.customParameters=JSON.stringify(p.getCustomParameters()));for(const[It,Ht]of Object.entries(_e||{}))Ge[It]=Ht}if(p instanceof Ks){const It=p.getScopes().filter(Ht=>""!==Ht);It.length>0&&(Ge.scopes=It.join(","))}y.tenantId&&(Ge.tid=y.tenantId);const tt=Ge;for(const It of Object.keys(tt))void 0===tt[It]&&delete tt[It];return`${function D_({config:y}){return y.emulator?k(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,O.xO)(tt).slice(1)}`}const Kh="webStorageSupport";class Ca extends class Vo{constructor(p){this.factorId=p}_process(p,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,C);case"signin":return this._finalizeSignIn(p,g.credential);default:return oe("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ca(p)}_finalizeEnroll(p,g,C){return function qp(y,p){return be(y,"POST","/v2/accounts/mfaEnrollment:finalize",U(y,p))}(p,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function _a(y,p){return be(y,"POST","/v2/accounts/mfaSignIn:finalize",U(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let A_=(()=>{class y{constructor(){}static assertion(g){return Ca._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Xp="@firebase/auth";class S_{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,s.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(C=>{var K;p((null===(K=C)||void 0===K?void 0:K.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Da(){return window}function Is(){return(Is=(0,s.Z)(function*(y,p,g){var C;const{BuildInfo:K}=Da();W(p.sessionId,"AuthEvent did not contain a session ID");const _e=yield nm(p.sessionId),Ge={};return Si()?Ge.ibi=K.packageName:xt()?Ge.apn=K.packageName:F(y,"operation-not-supported-in-this-environment"),K.displayName&&(Ge.appDisplayName=K.displayName),Ge.sessionId=_e,Ed(y,g,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,Ge)})).apply(this,arguments)}function Ad(){return(Ad=(0,s.Z)(function*(y){const{BuildInfo:p}=Da(),g={};Si()?g.iosBundleId=p.packageName:xt()?g.androidPackageName=p.packageName:F(y,"operation-not-supported-in-this-environment"),yield Fo(y,g)})).apply(this,arguments)}function er(){return(er=(0,s.Z)(function*(y,p,g){const{cordova:C}=Da();let K=()=>{};try{yield new Promise((_e,Ge)=>{let tt=null;function It(){var Jt;_e();const Ii=null===(Jt=C.plugins.browsertab)||void 0===Jt?void 0:Jt.close;"function"==typeof Ii&&Ii(),"function"==typeof g?.close&&g.close()}function Ht(){tt||(tt=window.setTimeout(()=>{Ge(X(y,"redirect-cancelled-by-user"))},2e3))}function sn(){"visible"===document?.visibilityState&&Ht()}p.addPassiveListener(It),document.addEventListener("resume",Ht,!1),xt()&&document.addEventListener("visibilitychange",sn,!1),K=()=>{p.removePassiveListener(It),document.removeEventListener("resume",Ht,!1),document.removeEventListener("visibilitychange",sn,!1),tt&&window.clearTimeout(tt)}})}finally{K()}})).apply(this,arguments)}function nm(y){return _l.apply(this,arguments)}function _l(){return(_l=(0,s.Z)(function*(y){const p=Jh(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(K=>K.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Jh(y){if(W(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let C=0;C<y.length;C++)g[C]=y.charCodeAt(C);return g}!function em(y){(0,pe._registerComponent)(new B.wA("auth",(p,{options:g})=>{const C=p.getProvider("app").getImmediate(),K=p.getProvider("heartbeat"),{apiKey:_e,authDomain:Ge}=C.options;return((tt,It)=>{S(_e&&!_e.includes(":"),"invalid-api-key",{appName:tt.name}),S(!Ge?.includes(":"),"argument-error",{appName:tt.name});const Ht={apiKey:_e,authDomain:Ge,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ys(y)},sn=new Nl(tt,It,Ht);return function Re(y,p){const g=p?.persistence||[],C=(Array.isArray(g)?g:[g]).map(me);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(C,p?.popupRedirectResolver)}(sn,g),sn})(C,K)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,C)=>{p.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new B.wA("auth-internal",p=>{const g=$n(p.getProvider("auth").getImmediate());return new S_(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(Xp,"0.20.5",function T_(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,pe.registerVersion)(Xp,"0.20.5","esm2017")}("Browser");class I_ extends ml{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function Sd(y){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,s.Z)(function*(y){const p=yield fc()._get(Td(y));return p&&(yield fc()._remove(Td(y))),p})).apply(this,arguments)}function m0(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const C=Math.floor(Math.random()*p.length);y.push(p.charAt(C))}return y.join("")}function fc(){return me($r)}function Td(y){return Rn("authEvent",y.config.apiKey,y.name)}function vu(y){if(!y?.includes("?"))return{};const[p,...g]=y.split("?");return(0,O.zd)(g.join("?"))}function pc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:X("no-auth-event")}}function mc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function P_(y=(0,O.z$)()){return!("file:"!==mc()&&"ionic:"!==mc()&&"capacitor:"!==mc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function F_(){try{const y=self.localStorage,p=Wr();if(y)return y.setItem(p,"1"),y.removeItem(p),!function O_(y=(0,O.z$)()){return function ef(){return(0,O.w1)()&&11===document?.documentMode}()||function R_(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return xd()&&(0,O.hl)()}return!1}function xd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zi(){return(function k_(){return"http:"===mc()||"https:"===mc()}()||(0,O.ru)()||P_())&&!function g0(){return(0,O.b$)()||(0,O.UG)()}()&&F_()&&!xd()}function wu(){return P_()&&typeof document<"u"}function Id(){return(Id=(0,s.Z)(function*(){return!!wu()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Sr={LOCAL:"local",NONE:"none",SESSION:"session"},Uo=S,nf="persistence";function Cu(y){return yl.apply(this,arguments)}function yl(){return(yl=(0,s.Z)(function*(y){yield y._initializationPromise;const p=af(),g=Rn(nf,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function af(){var y;try{return(null===(y=function um(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const gc=S;class $i{constructor(){this.browserResolver=me(class E_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cr,this._completeRedirectFn=hn,this._overrideRedirectResult=Ro}_openPopup(p,g,C,K){var _e=this;return(0,s.Z)(function*(){var Ge;W(null===(Ge=_e.eventManagers[p._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const tt=Ed(p,g,C,Ve(),K);return function oo(y,p,g,C=500,K=600){const _e=Math.max((window.screen.availHeight-K)/2,0).toString(),Ge=Math.max((window.screen.availWidth-C)/2,0).toString();let tt="";const It=Object.assign(Object.assign({},so),{width:C.toString(),height:K.toString(),top:_e,left:Ge}),Ht=(0,O.z$)().toLowerCase();g&&(tt=Pn(Ht)?"_blank":g),bn(Ht)&&(p=p||"http://localhost",It.scrollbars="yes");const sn=Object.entries(It).reduce((Ii,[xr,bl])=>`${Ii}${xr}=${bl},`,"");if(function ii(y=(0,O.z$)()){var p;return Si(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ht)&&"_self"!==tt)return function Dd(y,p){const g=document.createElement("a");g.href=y,g.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(p||"",tt),new gu(null);const Jt=window.open(p||"",tt,sn);S(Jt,y,"popup-blocked");try{Jt.focus()}catch{}return new gu(Jt)}(p,tt,Wr())})()}_openRedirect(p,g,C,K){var _e=this;return(0,s.Z)(function*(){return yield _e._originValidation(p),function oi(y){yt().location.href=y}(Ed(p,g,C,Ve(),K)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:K,promise:_e}=this.eventManagers[g];return K?Promise.resolve(K):(W(_e,"If manager is not set, promise should be"),_e)}const C=this.initAndGetManager(p);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(p){var g=this;return(0,s.Z)(function*(){const C=yield function Cd(y){return gl.apply(this,arguments)}(p),K=new ml(p);return C.register("authEvent",_e=>(S(_e?.authEvent,p,"invalid-auth-event"),{status:K.onEvent(_e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:K},g.iframes[p._key()]=C,K})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Kh,{type:Kh},K=>{var _e;const Ge=null===(_e=K?.[0])||void 0===_e?void 0:_e[Kh];void 0!==Ge&&g(!!Ge),F(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Kp(y){return zh.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return ri()||An()||Si()}}),this.cordovaResolver=me(class Ea{constructor(){this._redirectPersistence=Cr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=hn,this._overrideRedirectResult=Ro}_initialize(p){var g=this;return(0,s.Z)(function*(){const C=p._key();let K=g.eventManagers.get(C);return K||(K=new I_(p),g.eventManagers.set(C,K),g.attachCallbackListeners(p,K)),K})()}_openPopup(p){F(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,C,K){var _e=this;return(0,s.Z)(function*(){!function hc(y){var p,g,C,K,_e,Ge,tt,It,Ht,sn;const Jt=Da();S("function"==typeof(null===(p=Jt?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),S(typeof(null===(g=Jt?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),S("function"==typeof(null===(_e=null===(K=null===(C=Jt?.cordova)||void 0===C?void 0:C.plugins)||void 0===K?void 0:K.browsertab)||void 0===_e?void 0:_e.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),S("function"==typeof(null===(It=null===(tt=null===(Ge=Jt?.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===It?void 0:It.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),S("function"==typeof(null===(sn=null===(Ht=Jt?.cordova)||void 0===Ht?void 0:Ht.InAppBrowser)||void 0===sn?void 0:sn.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Ge=yield _e._initialize(p);yield Ge.initialized(),Ge.resetRedirect(),function ds(){xs.clear()}(),yield _e._originValidation(p);const tt=function rm(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:m0(),postBody:null,tenantId:y.tenantId,error:X(y,"no-auth-event")}}(p,C,K);yield function yu(y,p){return fc()._set(Td(y),p)}(p,tt);const It=yield function Xh(y,p,g){return Is.apply(this,arguments)}(p,tt,g),Ht=yield function dc(y){const{cordova:p}=Da();return new Promise(g=>{p.plugins.browsertab.isAvailable(C=>{let K=null;C?p.plugins.browsertab.openUrl(y):K=p.InAppBrowser.open(y,function ta(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(K)})})}(It);return function tm(y,p,g){return er.apply(this,arguments)}(p,Ge,Ht)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function _u(y){return Ad.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:C,handleOpenURL:K,BuildInfo:_e}=Da(),Ge=setTimeout((0,s.Z)(function*(){yield Sd(p),g.onEvent(pc())}),500),tt=function(){var sn=(0,s.Z)(function*(Jt){clearTimeout(Ge);const Ii=yield Sd(p);let xr=null;Ii&&Jt?.url&&(xr=function p0(y,p){var g,C;const K=function om(y){const p=vu(y),g=p.link?decodeURIComponent(p.link):void 0,C=vu(g).link,K=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return vu(K).link||K||C||g||y}(p);if(K.includes("/__/auth/callback")){const _e=vu(K),Ge=_e.firebaseError?function sm(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(_e.firebaseError)):null,tt=null===(C=null===(g=Ge?.code)||void 0===g?void 0:g.split("auth/"))||void 0===C?void 0:C[1],It=tt?X(tt):null;return It?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:It,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:K,postBody:null}}return null}(Ii,Jt.url)),g.onEvent(xr||pc())});return function(Ii){return sn.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,tt);const It=K,Ht=`${_e.packageName.toLowerCase()}://`;Da().handleOpenURL=function(){var sn=(0,s.Z)(function*(Jt){if(Jt.toLowerCase().startsWith(Ht)&&tt({url:Jt}),"function"==typeof It)try{It(Jt)}catch(Ii){console.error(Ii)}});return function(Jt){return sn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=Cr,this._completeRedirectFn=hn,this._overrideRedirectResult=Ro}_initialize(p){var g=this;return(0,s.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,C,K){var _e=this;return(0,s.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openPopup(p,g,C,K)})()}_openRedirect(p,g,C,K){var _e=this;return(0,s.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openRedirect(p,g,C,K)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return wu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return gc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const g=yield function tf(){return Id.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function dm(y){return y.unwrap()}function Md(y){return kd(y)}function kd(y){const{_tokenResponse:p}=y instanceof O.ZR?y.customData:y;if(!p)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return oc.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let C;switch(g){case"google.com":C=za;break;case"facebook.com":C=Ga;break;case"github.com":C=Qc;break;case"twitter.com":C=jl;break;default:const{oauthIdToken:K,oauthAccessToken:_e,oauthTokenSecret:Ge,pendingToken:tt,nonce:It}=p;return _e||Ge||K||tt?tt?g.startsWith("saml.")?Bi._create(g,tt):ws._fromParams({providerId:g,signInMethod:g,pendingToken:tt,idToken:K,accessToken:_e}):new sa(g).credential({idToken:K,accessToken:_e,rawNonce:It}):null}return y instanceof O.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function tr(y,p){return p.catch(g=>{throw g instanceof O.ZR&&function L_(y,p){var g,C;const K=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(C=p)||void 0===C?void 0:C.code))p.resolver=new _c(y,function wi(y,p){var g;const C=(0,O.m9)(y),K=p;return S(p.customData.operationType,C,"argument-error"),S(null===(g=K.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),So._fromError(C,K)}(y,p));else if(K){const _e=kd(p),Ge=p;_e&&(Ge.credential=_e,Ge.tenantId=K.tenantId||void 0,Ge.email=K.email||void 0,Ge.phoneNumber=K.phoneNumber||void 0)}}(y,g),g}).then(g=>{const K=g.user;return{operationType:g.operationType,credential:Md(g),additionalUserInfo:Oh(g),user:Tr.getOrCreate(K)}})}function Aa(y,p){return Pd.apply(this,arguments)}function Pd(){return(Pd=(0,s.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:C=>tr(y,g.confirm(C))}})).apply(this,arguments)}class _c{constructor(p,g){this.resolver=g,this.auth=function lf(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return tr(dm(this.auth),this.resolver.resolveSignIn(p))}}class Tr{constructor(p){this._delegate=p,this.multiFactor=function md(y){const p=(0,O.m9)(y);return To.has(p)||To.set(p,Vh._fromUser(p)),To.get(p)}(p)}static getOrCreate(p){return Tr.USER_MAP.has(p)||Tr.USER_MAP.set(p,new Tr(p)),Tr.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,s.Z)(function*(){return tr(g.auth,eu(g._delegate,p))})()}linkWithPhoneNumber(p,g){var C=this;return(0,s.Z)(function*(){return Aa(C.auth,function ls(y,p,g){return sc.apply(this,arguments)}(C._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,s.Z)(function*(){return tr(g.auth,function vd(y,p,g){return Io.apply(this,arguments)}(g._delegate,p,$i))})()}linkWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield Cu($n(g.auth)),function ze(y,p,g){return function Je(y,p,g){return pt.apply(this,arguments)}(y,p,g)}(g._delegate,p,$i)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,s.Z)(function*(){return tr(g.auth,wo(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Aa(this.auth,function dl(y,p,g){return cs.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return tr(this.auth,function Gh(y,p,g){return fu.apply(this,arguments)}(this._delegate,p,$i))}reauthenticateWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield Cu($n(g.auth)),function V(y,p,g){return function ue(y,p,g){return Oe.apply(this,arguments)}(y,p,g)}(g._delegate,p,$i)})()}sendEmailVerification(p){return function el(y,p){return tl.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,s.Z)(function*(){return yield function Jc(y,p){return oa.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function su(y,p){return Ql((0,O.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Kl(y,p){return Ql((0,O.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function hl(y,p){return yd.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function Zl(y,p){return il.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function ru(y,p,g){return nl.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Tr.USER_MAP=new WeakMap;const Du=S;let cf=(()=>{class y{constructor(g,C){if(this.app=g,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:K}=g.options;Du(K,"invalid-api-key",{appName:g.name}),Du(K,"invalid-api-key",{appName:g.name});const _e=typeof window<"u"?$i:void 0;this._delegate=C.initialize({options:{persistence:N_(K,g.name),popupRedirectResolver:_e}}),this._delegate._updateErrorMap(q),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Tr.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,C){!function yo(y,p,g){const C=$n(y);S(C._canInitEmulator,C,"emulator-config-failed"),S(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const K=!!g?.disableWarnings,_e=vi(p),{host:Ge,port:tt}=function zs(y){const p=vi(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",K=/^(\[[^\]]+\])(:|$)/.exec(C);if(K){const _e=K[1];return{host:_e,port:vs(C.substr(_e.length+1))}}{const[_e,Ge]=C.split(":");return{host:_e,port:vs(Ge)}}}(p);C.config.emulator={url:`${_e}//${Ge}${null===tt?"":`:${tt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Ge,port:tt,protocol:_e.replace(":",""),options:Object.freeze({disableWarnings:K})}),K||function pr(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,C)}applyActionCode(g){return function Ka(y,p){return Es.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return $l(this._delegate,g)}confirmPasswordReset(g,C){return function Eo(y,p,g){return br.apply(this,arguments)}(this._delegate,g,C)}createUserWithEmailAndPassword(g,C){var K=this;return(0,s.Z)(function*(){return tr(K._delegate,function Ui(y,p,g){return wr.apply(this,arguments)}(K._delegate,g,C))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function Ja(y,p){return Wl.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function hd(y,p){return"EMAIL_SIGNIN"===Ul.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,s.Z)(function*(){Du(zi(),g._delegate,"operation-not-supported-in-this-environment");const C=yield function Pt(y,p){return Zt.apply(this,arguments)}(g._delegate,$i);return C?tr(g._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function M_(y,p){$n(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,C,K){const{next:_e,error:Ge,complete:tt}=vl(g,C,K);return this._delegate.onAuthStateChanged(_e,Ge,tt)}onIdTokenChanged(g,C,K){const{next:_e,error:Ge,complete:tt}=vl(g,C,K);return this._delegate.onIdTokenChanged(_e,Ge,tt)}sendSignInLinkToEmail(g,C){return function da(y,p,g){return Gr.apply(this,arguments)}(this._delegate,g,C)}sendPasswordResetEmail(g,C){return function si(y,p,g){return Za.apply(this,arguments)}(this._delegate,g,C||void 0)}setPersistence(g){var C=this;return(0,s.Z)(function*(){let K;switch(function rf(y,p){Uo(Object.values(Sr).includes(p),y,"invalid-persistence-type"),(0,O.b$)()?Uo(p!==Sr.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?Uo(p===Sr.NONE,y,"unsupported-persistence-type"):xd()?Uo(p===Sr.NONE||p===Sr.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):Uo(p===Sr.NONE||F_(),y,"unsupported-persistence-type")}(C._delegate,g),g){case Sr.SESSION:K=Cr;break;case Sr.LOCAL:K=(yield me(mr)._isAvailable())?mr:$r;break;case Sr.NONE:K=tn;break;default:return F("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(K)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return tr(this._delegate,function hi(y){return cd.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return tr(this._delegate,jt(this._delegate,g))}signInWithCustomToken(g){return tr(this._delegate,function Do(y,p){return mt.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,C){return tr(this._delegate,function nu(y,p,g){return jt((0,O.m9)(y),Hl.credential(p,g))}(this._delegate,g,C))}signInWithEmailLink(g,C){return tr(this._delegate,function iu(y,p,g){return Xa.apply(this,arguments)}(this._delegate,g,C))}signInWithPhoneNumber(g,C){return Aa(this._delegate,function ya(y,p,g){return xi.apply(this,arguments)}(this._delegate,g,C))}signInWithPopup(g){var C=this;return(0,s.Z)(function*(){return Du(zi(),C._delegate,"operation-not-supported-in-this-environment"),tr(C._delegate,function hu(y,p,g){return pl.apply(this,arguments)}(C._delegate,g,$i))})()}signInWithRedirect(g){var C=this;return(0,s.Z)(function*(){return Du(zi(),C._delegate,"operation-not-supported-in-this-environment"),yield Cu(C._delegate),function wd(y,p,g){return function cc(y,p,g){return P.apply(this,arguments)}(y,p,g)}(C._delegate,g,$i)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Qa(y,p){return Qs.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Sr,y})();function vl(y,p,g){let C=y;"function"!=typeof y&&({next:C,error:p,complete:g}=y);const K=C;return{next:Ge=>K(Ge&&Tr.getOrCreate(Ge)),error:p,complete:g}}function N_(y,p){const g=function sf(y,p){const g=af();if(!g)return[];const C=Rn(nf,y,p);switch(g.getItem(C)){case Sr.NONE:return[tn];case Sr.LOCAL:return[mr,Cr];case Sr.SESSION:return[Cr];default:return[]}}(y,p);if(typeof self<"u"&&!g.includes(mr)&&g.push(mr),typeof window<"u")for(const C of[$r,Cr])g.includes(C)||g.push(C);return g.includes(tn)||g.push(tn),g}class uf{constructor(){this.providerId="phone",this._delegate=new oc(dm(te.Z.auth()))}static credential(p,g){return oc.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}uf.PHONE_SIGN_IN_METHOD=oc.PHONE_SIGN_IN_METHOD,uf.PROVIDER_ID=oc.PROVIDER_ID;const V_=S;class B_{constructor(p,g,C=te.Z.app()){var K;V_(null===(K=C.options)||void 0===K?void 0:K.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new li(p,g,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function U_(y){y.INTERNAL.registerComponent(new B.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new cf(g,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Hl,FacebookAuthProvider:Ga,GithubAuthProvider:Qc,GoogleAuthProvider:za,OAuthProvider:sa,SAMLAuthProvider:Xn,PhoneAuthProvider:uf,PhoneMultiFactorGenerator:A_,RecaptchaVerifier:B_,TwitterAuthProvider:jl,Auth:cf,AuthCredential:Br,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(te.Z)},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(2306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,R;R=()=>(()=>{"use strict";var __webpack_modules__=[,(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.VerbosityLevel=x.Util=x.UnknownErrorException=x.UnexpectedResponseException=x.UNSUPPORTED_FEATURES=x.TextRenderingMode=x.StreamType=x.RenderingIntentFlag=x.PermissionFlag=x.PasswordResponses=x.PasswordException=x.PageActionEventType=x.OPS=x.MissingPDFException=x.InvalidPDFException=x.ImageKind=x.IDENTITY_MATRIX=x.FormatError=x.FontType=x.FeatureTest=x.FONT_IDENTITY_MATRIX=x.DocumentActionEventType=x.CMapCompressionType=x.BaseException=x.AnnotationType=x.AnnotationStateModelType=x.AnnotationReviewState=x.AnnotationReplyType=x.AnnotationMode=x.AnnotationMarkedState=x.AnnotationFlag=x.AnnotationFieldFlag=x.AnnotationBorderStyleType=x.AnnotationActionEventType=x.AbortException=void 0,x.arrayByteLength=ke,x.arraysToBytes=function Ue(Ne){const we=Ne.length;if(1===we&&Ne[0]instanceof Uint8Array)return Ne[0];let Fe=0;for(let Yt=0;Yt<we;Yt++)Fe+=ke(Ne[Yt]);let rt=0;const vt=new Uint8Array(Fe);for(let Yt=0;Yt<we;Yt++){let Ze=Ne[Yt];Ze instanceof Uint8Array||(Ze="string"==typeof Ze?He(Ze):new Uint8Array(Ze));const Ee=Ze.byteLength;vt.set(Ze,rt),rt+=Ee}return vt},x.assert=function Re(Ne,we){Ne||ye(we)},x.bytesToString=function be(Ne){("object"!=typeof Ne||null===Ne||void 0===Ne.length)&&ye("Invalid argument for bytesToString");const we=Ne.length;if(we<8192)return String.fromCharCode.apply(null,Ne);const rt=[];for(let vt=0;vt<we;vt+=8192){const Yt=Math.min(vt+8192,we),Ze=Ne.subarray(vt,Yt);rt.push(String.fromCharCode.apply(null,Ze))}return rt.join("")},x.createPromiseCapability=function wt(){const Ne=Object.create(null);let we=!1;return Object.defineProperty(Ne,"settled",{get:()=>we}),Ne.promise=new Promise(function(Fe,rt){Ne.resolve=function(vt){we=!0,Fe(vt)},Ne.reject=function(vt){we=!0,rt(vt)}}),Ne},x.createValidAbsoluteUrl=function Xe(Ne,we=null,Fe=null){if(!Ne)return null;try{if(Fe&&"string"==typeof Ne){if(Fe.addDefaultProtocol&&Ne.startsWith("www.")){const vt=Ne.match(/\./g);vt&&vt.length>=2&&(Ne=`http://${Ne}`)}if(Fe.tryConvertEncoding)try{Ne=kt(Ne)}catch{}}const rt=we?new URL(Ne,we):new URL(Ne);if(function Ve(Ne){if(!Ne)return!1;switch(Ne.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(rt))return rt}catch{}return null},x.escapeString=function At(Ne){return Ne.replace(/([()\\\n\r])/g,we=>"\n"===we?"\\n":"\r"===we?"\\r":`\\${we}`)},x.getModificationDate=function ft(Ne=new Date){return[Ne.getUTCFullYear().toString(),(Ne.getUTCMonth()+1).toString().padStart(2,"0"),Ne.getUTCDate().toString().padStart(2,"0"),Ne.getUTCHours().toString().padStart(2,"0"),Ne.getUTCMinutes().toString().padStart(2,"0"),Ne.getUTCSeconds().toString().padStart(2,"0")].join("")},x.getVerbosityLevel=function W(){return S},x.info=function le(Ne){S>=F.INFOS&&console.log(`Info: ${Ne}`)},x.isArrayBuffer=function ge(Ne){return"object"==typeof Ne&&null!==Ne&&void 0!==Ne.byteLength},x.isArrayEqual=function xe(Ne,we){if(Ne.length!==we.length)return!1;for(let Fe=0,rt=Ne.length;Fe<rt;Fe++)if(Ne[Fe]!==we[Fe])return!1;return!0},x.isAscii=function nt(Ne){return/^[\x00-\x7F]*$/.test(Ne)},x.objectFromMap=function Qe(Ne){const we=Object.create(null);for(const[Fe,rt]of Ne)we[Fe]=rt;return we},x.objectSize=function Ye(Ne){return Object.keys(Ne).length},x.setVerbosityLevel=function oe(Ne){Number.isInteger(Ne)&&(S=Ne)},x.shadow=it,x.string32=function Be(Ne){return String.fromCharCode(Ne>>24&255,Ne>>16&255,Ne>>8&255,255&Ne)},x.stringToBytes=He,x.stringToPDFString=function Ot(Ne){if(Ne[0]>="\xef"){let Fe;if("\xfe"===Ne[0]&&"\xff"===Ne[1]?Fe="utf-16be":"\xff"===Ne[0]&&"\xfe"===Ne[1]?Fe="utf-16le":"\xef"===Ne[0]&&"\xbb"===Ne[1]&&"\xbf"===Ne[2]&&(Fe="utf-8"),Fe)try{const rt=new TextDecoder(Fe,{fatal:!0}),vt=He(Ne);return rt.decode(vt)}catch(rt){me(`stringToPDFString: "${rt}".`)}}const we=[];for(let Fe=0,rt=Ne.length;Fe<rt;Fe++){const vt=Rt[Ne.charCodeAt(Fe)];we.push(vt?String.fromCharCode(vt):Ne.charAt(Fe))}return we.join("")},x.stringToUTF16BEString=function dt(Ne){const we=["\xfe\xff"];for(let Fe=0,rt=Ne.length;Fe<rt;Fe++){const vt=Ne.charCodeAt(Fe);we.push(String.fromCharCode(vt>>8&255),String.fromCharCode(255&vt))}return we.join("")},x.stringToUTF8String=kt,x.unreachable=ye,x.utf8StringToString=function Ke(Ne){return unescape(encodeURIComponent(Ne))},x.warn=me,R(2),x.IDENTITY_MATRIX=[1,0,0,1,0,0],x.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],x.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},x.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},x.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},x.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},x.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},x.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},x.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},x.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},x.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},x.AnnotationReplyType={GROUP:"Group",REPLY:"R"},x.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},x.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},x.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},x.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},x.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},x.PageActionEventType={O:"PageOpen",C:"PageClose"},x.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},x.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const F={ERRORS:0,WARNINGS:1,INFOS:5};x.VerbosityLevel=F,x.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},x.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},x.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},x.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let S=F.WARNINGS;function me(Ne){S>=F.WARNINGS&&console.log(`Warning: ${Ne}`)}function ye(Ne){throw new Error(Ne)}function it(Ne,we,Fe){return Object.defineProperty(Ne,we,{value:Fe,enumerable:!0,configurable:!0,writable:!1}),Fe}const ve=function(){function we(Fe,rt){this.constructor===we&&ye("Cannot initialize BaseException."),this.message=Fe,this.name=rt}return we.prototype=new Error,we.constructor=we,we}();function He(Ne){"string"!=typeof Ne&&ye("Invalid argument for stringToBytes");const we=Ne.length,Fe=new Uint8Array(we);for(let rt=0;rt<we;++rt)Fe[rt]=255&Ne.charCodeAt(rt);return Fe}function ke(Ne){return void 0!==Ne.length?Ne.length:void 0!==Ne.byteLength?Ne.byteLength:void ye("Invalid argument for arrayByteLength")}x.BaseException=ve,x.PasswordException=class M extends ve{constructor(we,Fe){super(we,"PasswordException"),this.code=Fe}},x.UnknownErrorException=class b extends ve{constructor(we,Fe){super(we,"UnknownErrorException"),this.details=Fe}},x.InvalidPDFException=class k extends ve{constructor(we){super(we,"InvalidPDFException")}},x.MissingPDFException=class L extends ve{constructor(we){super(we,"MissingPDFException")}},x.UnexpectedResponseException=class Q extends ve{constructor(we,Fe){super(we,"UnexpectedResponseException"),this.status=Fe}},x.FormatError=class ne extends ve{constructor(we){super(we,"FormatError")}},x.AbortException=class U extends ve{constructor(we){super(we,"AbortException")}},x.FeatureTest=class lt{static get isLittleEndian(){return it(this,"isLittleEndian",function gt(){const Ne=new Uint8Array(4);return Ne[0]=1,1===new Uint32Array(Ne.buffer,0,1)[0]}())}static get isEvalSupported(){return it(this,"isEvalSupported",function Tt(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return it(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const _t=[...Array(256).keys()].map(Ne=>Ne.toString(16).padStart(2,"0"));class ct{static makeHexColor(we,Fe,rt){return`#${_t[we]}${_t[Fe]}${_t[rt]}`}static scaleMinMax(we,Fe){let rt;we[0]?(we[0]<0&&(rt=Fe[0],Fe[0]=Fe[1],Fe[1]=rt),Fe[0]*=we[0],Fe[1]*=we[0],we[3]<0&&(rt=Fe[2],Fe[2]=Fe[3],Fe[3]=rt),Fe[2]*=we[3],Fe[3]*=we[3]):(rt=Fe[0],Fe[0]=Fe[2],Fe[2]=rt,rt=Fe[1],Fe[1]=Fe[3],Fe[3]=rt,we[1]<0&&(rt=Fe[2],Fe[2]=Fe[3],Fe[3]=rt),Fe[2]*=we[1],Fe[3]*=we[1],we[2]<0&&(rt=Fe[0],Fe[0]=Fe[1],Fe[1]=rt),Fe[0]*=we[2],Fe[1]*=we[2]),Fe[0]+=we[4],Fe[1]+=we[4],Fe[2]+=we[5],Fe[3]+=we[5]}static transform(we,Fe){return[we[0]*Fe[0]+we[2]*Fe[1],we[1]*Fe[0]+we[3]*Fe[1],we[0]*Fe[2]+we[2]*Fe[3],we[1]*Fe[2]+we[3]*Fe[3],we[0]*Fe[4]+we[2]*Fe[5]+we[4],we[1]*Fe[4]+we[3]*Fe[5]+we[5]]}static applyTransform(we,Fe){return[we[0]*Fe[0]+we[1]*Fe[2]+Fe[4],we[0]*Fe[1]+we[1]*Fe[3]+Fe[5]]}static applyInverseTransform(we,Fe){const rt=Fe[0]*Fe[3]-Fe[1]*Fe[2];return[(we[0]*Fe[3]-we[1]*Fe[2]+Fe[2]*Fe[5]-Fe[4]*Fe[3])/rt,(-we[0]*Fe[1]+we[1]*Fe[0]+Fe[4]*Fe[1]-Fe[5]*Fe[0])/rt]}static getAxialAlignedBoundingBox(we,Fe){const rt=ct.applyTransform(we,Fe),vt=ct.applyTransform(we.slice(2,4),Fe),Yt=ct.applyTransform([we[0],we[3]],Fe),Ze=ct.applyTransform([we[2],we[1]],Fe);return[Math.min(rt[0],vt[0],Yt[0],Ze[0]),Math.min(rt[1],vt[1],Yt[1],Ze[1]),Math.max(rt[0],vt[0],Yt[0],Ze[0]),Math.max(rt[1],vt[1],Yt[1],Ze[1])]}static inverseTransform(we){const Fe=we[0]*we[3]-we[1]*we[2];return[we[3]/Fe,-we[1]/Fe,-we[2]/Fe,we[0]/Fe,(we[2]*we[5]-we[4]*we[3])/Fe,(we[4]*we[1]-we[5]*we[0])/Fe]}static apply3dTransform(we,Fe){return[we[0]*Fe[0]+we[1]*Fe[1]+we[2]*Fe[2],we[3]*Fe[0]+we[4]*Fe[1]+we[5]*Fe[2],we[6]*Fe[0]+we[7]*Fe[1]+we[8]*Fe[2]]}static singularValueDecompose2dScale(we){const Fe=[we[0],we[2],we[1],we[3]],rt=we[0]*Fe[0]+we[1]*Fe[2],Ze=we[2]*Fe[1]+we[3]*Fe[3],Ee=(rt+Ze)/2,Te=Math.sqrt((rt+Ze)**2-4*(rt*Ze-(we[2]*Fe[0]+we[3]*Fe[2])*(we[0]*Fe[1]+we[1]*Fe[3])))/2,Ae=Ee-Te||1;return[Math.sqrt(Ee+Te||1),Math.sqrt(Ae)]}static normalizeRect(we){const Fe=we.slice(0);return we[0]>we[2]&&(Fe[0]=we[2],Fe[2]=we[0]),we[1]>we[3]&&(Fe[1]=we[3],Fe[3]=we[1]),Fe}static intersect(we,Fe){const rt=Math.max(Math.min(we[0],we[2]),Math.min(Fe[0],Fe[2])),vt=Math.min(Math.max(we[0],we[2]),Math.max(Fe[0],Fe[2]));if(rt>vt)return null;const Yt=Math.max(Math.min(we[1],we[3]),Math.min(Fe[1],Fe[3])),Ze=Math.min(Math.max(we[1],we[3]),Math.max(Fe[1],Fe[3]));return Yt>Ze?null:[rt,Yt,vt,Ze]}static bezierBoundingBox(we,Fe,rt,vt,Yt,Ze,Ee,Te){const Ce=[],Ae=[[],[]];let Pe,We,at,Dt,Xt,tn,Rn,en;for(let Pn=0;Pn<2;++Pn)if(0===Pn?(We=6*we-12*rt+6*Yt,Pe=-3*we+9*rt-9*Yt+3*Ee,at=3*rt-3*we):(We=6*Fe-12*vt+6*Ze,Pe=-3*Fe+9*vt-9*Ze+3*Te,at=3*vt-3*Fe),Math.abs(Pe)<1e-12){if(Math.abs(We)<1e-12)continue;Dt=-at/We,0<Dt&&Dt<1&&Ce.push(Dt)}else Rn=We*We-4*at*Pe,en=Math.sqrt(Rn),!(Rn<0)&&(Xt=(-We+en)/(2*Pe),0<Xt&&Xt<1&&Ce.push(Xt),tn=(-We-en)/(2*Pe),0<tn&&tn<1&&Ce.push(tn));let bn,nn=Ce.length;const An=nn;for(;nn--;)Dt=Ce[nn],bn=1-Dt,Ae[0][nn]=bn*bn*bn*we+3*bn*bn*Dt*rt+3*bn*Dt*Dt*Yt+Dt*Dt*Dt*Ee,Ae[1][nn]=bn*bn*bn*Fe+3*bn*bn*Dt*vt+3*bn*Dt*Dt*Ze+Dt*Dt*Dt*Te;return Ae[0][An]=we,Ae[1][An]=Fe,Ae[0][An+1]=Ee,Ae[1][An+1]=Te,Ae[0].length=Ae[1].length=An+2,[Math.min(...Ae[0]),Math.min(...Ae[1]),Math.max(...Ae[0]),Math.max(...Ae[1])]}}x.Util=ct;const Rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function kt(Ne){return decodeURIComponent(escape(Ne))}},(Ie,x,R)=>{R(3)},(Ie,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.isNodeJS=void 0;const R=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);x.isNodeJS=R},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:Ie,NodeCMapReaderFactory:x,NodeStandardFontDataFactory:R}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=Ie,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=x,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=R}function setPDFNetworkStreamFactory(Ie){createPDFNetworkStream=Ie}function getDocument(Ie){const x=new PDFDocumentLoadingTask;let R;if("string"==typeof Ie||Ie instanceof URL)R={url:Ie};else if((0,_util.isArrayBuffer)(Ie))R={data:Ie};else if(Ie instanceof PDFDataRangeTransport)R={range:Ie};else{if("object"!=typeof Ie)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!Ie.url&&!Ie.data&&!Ie.range)throw new Error("Invalid parameter object: need either .data, .range or .url");R=Ie}const s=Object.create(null);let te=null,O=null;for(const ie in R){const re=R[ie];switch(ie){case"url":if(typeof window<"u")try{s[ie]=new URL(re,window.location).href;continue}catch(B){(0,_util.warn)(`Cannot create valid URL: "${B}".`)}else if("string"==typeof re||re instanceof URL){s[ie]=re.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":te=re;continue;case"worker":O=re;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&re instanceof Buffer)s[ie]=new Uint8Array(re);else{if(re instanceof Uint8Array)break;if("string"==typeof re)s[ie]=(0,_util.stringToBytes)(re);else if("object"!=typeof re||null===re||isNaN(re.length)){if(!(0,_util.isArrayBuffer)(re))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");s[ie]=new Uint8Array(re)}else s[ie]=new Uint8Array(re)}continue}s[ie]=re}if(s.CMapReaderFactory=s.CMapReaderFactory||DefaultCMapReaderFactory,s.StandardFontDataFactory=s.StandardFontDataFactory||DefaultStandardFontDataFactory,s.ignoreErrors=!0!==s.stopAtErrors,s.fontExtraProperties=!0===s.fontExtraProperties,s.pdfBug=!0===s.pdfBug,s.enableXfa=!0===s.enableXfa,(!Number.isInteger(s.rangeChunkSize)||s.rangeChunkSize<1)&&(s.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof s.docBaseUrl||(0,_display_utils.isDataScheme)(s.docBaseUrl))&&(s.docBaseUrl=null),(!Number.isInteger(s.maxImageSize)||s.maxImageSize<-1)&&(s.maxImageSize=-1),"string"!=typeof s.cMapUrl&&(s.cMapUrl=null),"string"!=typeof s.standardFontDataUrl&&(s.standardFontDataUrl=null),"boolean"!=typeof s.useWorkerFetch&&(s.useWorkerFetch=s.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&s.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof s.isEvalSupported&&(s.isEvalSupported=!0),"boolean"!=typeof s.disableFontFace&&(s.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof s.useSystemFonts&&(s.useSystemFonts=!_is_node.isNodeJS&&!s.disableFontFace),("object"!=typeof s.ownerDocument||null===s.ownerDocument)&&(s.ownerDocument=globalThis.document),"boolean"!=typeof s.disableRange&&(s.disableRange=!1),"boolean"!=typeof s.disableStream&&(s.disableStream=!1),"boolean"!=typeof s.disableAutoFetch&&(s.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(s.verbosity),!O){const ie={verbosity:s.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};O=ie.port?_PDFWorker.fromPort(ie):new _PDFWorker(ie),x._worker=O}const pe=x.docId;return O.promise.then(function(){if(x.destroyed)throw new Error("Loading aborted");const ie=_fetchDocument(O,s,te,pe),re=new Promise(function(B){let ce;te?ce=new _transport_stream.PDFDataTransportStream({length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,contentDispositionFilename:s.contentDispositionFilename,disableRange:s.disableRange,disableStream:s.disableStream},te):s.data||(ce=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream})),B(ce)});return Promise.all([ie,re]).then(function([B,ce]){if(x.destroyed)throw new Error("Loading aborted");const he=new _message_handler.MessageHandler(pe,B,O.port),ee=new WorkerTransport(he,x,ce,s);x._transport=ee,he.send("Ready",null)})}).catch(x._capability.reject),x}function _fetchDocument(Ie,x,R,s){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(Ie,x,R,s){if(Ie.destroyed)throw new Error("Worker was destroyed");R&&(x.length=R.length,x.initialData=R.initialData,x.progressiveDone=R.progressiveDone,x.contentDispositionFilename=R.contentDispositionFilename);const te=yield Ie.messageHandler.sendWithPromise("GetDocRequest",{docId:s,apiVersion:"2.14.305",source:{data:x.data,url:x.url,password:x.password,disableAutoFetch:x.disableAutoFetch,rangeChunkSize:x.rangeChunkSize,length:x.length},maxImageSize:x.maxImageSize,disableFontFace:x.disableFontFace,docBaseUrl:x.docBaseUrl,ignoreErrors:x.ignoreErrors,isEvalSupported:x.isEvalSupported,fontExtraProperties:x.fontExtraProperties,enableXfa:x.enableXfa,useSystemFonts:x.useSystemFonts,cMapUrl:x.useWorkerFetch?x.cMapUrl:null,standardFontDataUrl:x.useWorkerFetch?x.standardFontDataUrl:null});if(Ie.destroyed)throw new Error("Worker was destroyed");return te})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var x,R;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(x=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),R=x++,x)),R}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var x=this;return _asyncToGenerator(function*(){x.destroyed=!0,yield x._transport?.destroy(),x._transport=null,x._worker&&(x._worker.destroy(),x._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(x,R,s=!1,te=null){this.length=x,this.initialData=R,this.progressiveDone=s,this.contentDispositionFilename=te,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(x){this._rangeListeners.push(x)}addProgressListener(x){this._progressListeners.push(x)}addProgressiveReadListener(x){this._progressiveReadListeners.push(x)}addProgressiveDoneListener(x){this._progressiveDoneListeners.push(x)}onDataRange(x,R){for(const s of this._rangeListeners)s(x,R)}onDataProgress(x,R){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(x,R)})}onDataProgressiveRead(x){this._readyCapability.promise.then(()=>{for(const R of this._progressiveReadListeners)R(x)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const x of this._progressiveDoneListeners)x()})}transportReady(){this._readyCapability.resolve()}requestDataRange(x,R){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(x,R){var te,s=this;this._pdfInfo=x,this._transport=R,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(te=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),s.stats||{streamTypes:{},fontTypes:{}}}),function(){return te.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(x){return this._transport.getPage(x)}getPageIndex(x){return this._transport.getPageIndex(x)}getDestinations(){return this._transport.getDestinations()}getDestination(x){return this._transport.getDestination(x)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(x=!1){return this._transport.startCleanup(x||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(x,R,s,te,O=!1){this._pageIndex=x,this._pageInfo=R,this._ownerDocument=te,this._transport=s,this._stats=O?new _display_utils.StatTimer:null,this._pdfBug=O,this.commonObjs=s.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:x,rotation:R=this.rotate,offsetX:s=0,offsetY:te=0,dontFlip:O=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:x,rotation:R,offsetX:s,offsetY:te,dontFlip:O})}getAnnotations({intent:x="display"}={}){const R=this._transport.getRenderingIntent(x);let s=this._annotationPromises.get(R.cacheKey);return s||(s=this._transport.getAnnotations(this._pageIndex,R.renderingIntent),this._annotationPromises.set(R.cacheKey,s),s=s.then(te=>{for(const O of te)void 0!==O.titleObj&&Object.defineProperty(O,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),O.titleObj.str)}),void 0!==O.contentsObj&&Object.defineProperty(O,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),O.contentsObj.str)});return te})),s}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var x=this;return _asyncToGenerator(function*(){return x._transport._htmlForXfa?.children[x._pageIndex]||null})()}render({canvasContext:x,viewport:R,intent:s="display",annotationMode:te=_util.AnnotationMode.ENABLE,transform:O=null,imageLayer:pe=null,canvasFactory:ie=null,background:re=null,optionalContentConfigPromise:B=null,annotationCanvasMap:ce=null,pageColors:he=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&te===_util.AnnotationMode.ENABLE&&(te=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&te===_util.AnnotationMode.ENABLE&&(te=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const ee=this._transport.getRenderingIntent(s,te);this.pendingCleanup=!1,B||(B=this._transport.getOptionalContentConfig());let Y=this._intentStates.get(ee.cacheKey);Y||(Y=Object.create(null),this._intentStates.set(ee.cacheKey,Y)),Y.streamReaderCancelTimeout&&(clearTimeout(Y.streamReaderCancelTimeout),Y.streamReaderCancelTimeout=null);const se=ie||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),$=!!(ee.renderingIntent&_util.RenderingIntentFlag.PRINT);Y.displayReadyCapability||(Y.displayReadyCapability=(0,_util.createPromiseCapability)(),Y.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(ee));const ae=z=>{Y.renderTasks.delete(q),(this.cleanupAfterRender||$)&&(this.pendingCleanup=!0),this._tryCleanup(),z?(q.capability.reject(z),this._abortOperatorList({intentState:Y,reason:z instanceof Error?z:new Error(z)})):q.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},q=new InternalRenderTask({callback:ae,params:{canvasContext:x,viewport:R,transform:O,imageLayer:pe,background:re},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ce,operatorList:Y.operatorList,pageIndex:this._pageIndex,canvasFactory:se,useRequestAnimationFrame:!$,pdfBug:this._pdfBug,pageColors:he});(Y.renderTasks||(Y.renderTasks=new Set)).add(q);const fe=q.task;return Promise.all([Y.displayReadyCapability.promise,B]).then(([z,Z])=>{this.pendingCleanup?ae():(this._stats&&this._stats.time("Rendering"),q.initializeGraphics({transparency:z,optionalContentConfig:Z}),q.operatorListChanged())}).catch(ae),fe}getOperatorList({intent:x="display",annotationMode:R=_util.AnnotationMode.ENABLE}={}){const te=this._transport.getRenderingIntent(x,R,!0);let pe,O=this._intentStates.get(te.cacheKey);return O||(O=Object.create(null),this._intentStates.set(te.cacheKey,O)),O.opListReadCapability||(pe=Object.create(null),pe.operatorListChanged=function s(){O.operatorList.lastChunk&&(O.opListReadCapability.resolve(O.operatorList),O.renderTasks.delete(pe))},O.opListReadCapability=(0,_util.createPromiseCapability)(),(O.renderTasks||(O.renderTasks=new Set)).add(pe),O.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(te)),O.opListReadCapability.promise}streamTextContent({disableCombineTextItems:x=!1,includeMarkedContent:R=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==x,includeMarkedContent:!0===R},{highWaterMark:100,size:te=>te.items.length})}getTextContent(x={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>_xfa_text.XfaText.textContent(s));const R=this.streamTextContent(x);return new Promise(function(s,te){const pe=R.getReader(),ie={items:[],styles:Object.create(null)};!function O(){pe.read().then(function({value:re,done:B}){B?s(ie):(Object.assign(ie.styles,re.styles),ie.items.push(...re.items),O())},te)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const x=[];for(const R of this._intentStates.values())if(this._abortOperatorList({intentState:R,reason:new Error("Page was destroyed."),force:!0}),!R.opListReadCapability)for(const s of R.renderTasks)x.push(s.completed),s.cancel();this.objs.clear();for(const R of this._bitmaps)R.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(x)}cleanup(x=!1){return this.pendingCleanup=!0,this._tryCleanup(x)}_tryCleanup(x=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:R,operatorList:s}of this._intentStates.values())if(R.size>0||!s.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,x&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const R of this._bitmaps)R.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(x,R){const s=this._intentStates.get(R);!s||(this._stats&&this._stats.timeEnd("Page Request"),s.displayReadyCapability&&s.displayReadyCapability.resolve(x))}_renderPageChunk(x,R){for(let s=0,te=x.length;s<te;s++)R.operatorList.fnArray.push(x.fnArray[s]),R.operatorList.argsArray.push(x.argsArray[s]);R.operatorList.lastChunk=x.lastChunk;for(const s of R.renderTasks)s.operatorListChanged();x.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:x,cacheKey:R}){const te=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:x,cacheKey:R,annotationStorage:x&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),O=this._intentStates.get(R);O.streamReader=te;const pe=()=>{te.read().then(({value:ie,done:re})=>{re?O.streamReader=null:this._transport.destroyed||(this._renderPageChunk(ie,O),pe())},ie=>{if(O.streamReader=null,!this._transport.destroyed){if(O.operatorList){O.operatorList.lastChunk=!0;for(const re of O.renderTasks)re.operatorListChanged();this._tryCleanup()}if(O.displayReadyCapability)O.displayReadyCapability.reject(ie);else{if(!O.opListReadCapability)throw ie;O.opListReadCapability.reject(ie)}}})};pe()}_abortOperatorList({intentState:x,reason:R,force:s=!1}){if(x.streamReader){if(!s){if(x.renderTasks.size>0)return;if(R instanceof _display_utils.RenderingCancelledException)return void(x.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:x,reason:R,force:!0}),x.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(x.streamReader.cancel(new _util.AbortException(R.message)).catch(()=>{}),x.streamReader=null,!this._transport.destroyed){for(const[te,O]of this._intentStates)if(O===x){this._intentStates.delete(te);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(x,R){const s={data:structuredClone(x,R)};this._deferred.then(()=>{for(const te of this._listeners)te.call(this,s)})}addEventListener(x,R){this._listeners.push(R)}removeEventListener(x,R){const s=this._listeners.indexOf(R);this._listeners.splice(s,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const Ie=document?.currentScript?.src;Ie&&(PDFWorkerUtil.fallbackWorkerSrc=Ie.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Ie,x){let R;try{if(R=new URL(Ie),!R.origin||"null"===R.origin)return!1}catch{return!1}const s=new URL(x,R);return R.origin===s.origin},PDFWorkerUtil.createCDNWrapper=function(Ie){return URL.createObjectURL(new Blob([`importScripts("${Ie}");`]))};class _PDFWorker{constructor({name:Ie=null,port:x=null,verbosity:R=(0,_util.getVerbosityLevel)()}={}){if(x&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(x))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Ie,this.destroyed=!1,this.verbosity=R,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,x)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(x,this),void this._initializeFromPort(x);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Ie){this._port=Ie,this._messageHandler=new _message_handler.MessageHandler("main","worker",Ie),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let Ie=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,Ie)||(Ie=PDFWorkerUtil.createCDNWrapper(new URL(Ie,window.location).href));const x=new Worker(Ie),R=new _message_handler.MessageHandler("main","worker",x),s=()=>{x.removeEventListener("error",te),R.destroy(),x.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},te=()=>{this._webWorker||s()};x.addEventListener("error",te),R.on("test",pe=>{x.removeEventListener("error",te),this.destroyed?s():pe?(this._messageHandler=R,this._port=x,this._webWorker=x,this._readyCapability.resolve(),R.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),R.destroy(),x.terminate())}),R.on("ready",pe=>{if(x.removeEventListener("error",te),this.destroyed)s();else try{O()}catch{this._setupFakeWorker()}});const O=()=>{const pe=new Uint8Array;R.send("test",pe,[pe.buffer])};return void O()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Ie=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const x=new LoopbackPort;this._port=x;const R="fake"+PDFWorkerUtil.fakeWorkerId++,s=new _message_handler.MessageHandler(R+"_worker",R,x);Ie.setup(s,x);const te=new _message_handler.MessageHandler(R,R+"_worker",x);this._messageHandler=te,this._readyCapability.resolve(),te.send("configure",{verbosity:this.verbosity})}).catch(Ie=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Ie.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Ie){if(!Ie?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(Ie.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(Ie.port):new _PDFWorker(Ie)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function Ie(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(x,R,s,te){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=x,this.loadingTask=R,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:R.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:te.ownerDocument,styleElement:te.styleElement}),this._params=te,te.useWorkerFetch||(this.CMapReaderFactory=new te.CMapReaderFactory({baseUrl:te.cMapUrl,isCompressed:te.cMapPacked}),this.StandardFontDataFactory=new te.StandardFontDataFactory({baseUrl:te.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(x,R=_util.AnnotationMode.ENABLE,s=!1){let te=_util.RenderingIntentFlag.DISPLAY,O="";switch(x){case"any":te=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":te=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${x}`)}switch(R){case _util.AnnotationMode.DISABLE:te+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:te+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:te+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,O=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${R}`)}return s&&(te+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:te,cacheKey:`${te}_${O}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const x=[];for(const s of _classPrivateFieldGet(this,_pageCache).values())x.push(s._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const R=this.messageHandler.sendWithPromise("Terminate",null);return x.push(R),Promise.all(x).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:x,loadingTask:R}=this;x.on("GetReader",(s,te)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=O=>{this._lastProgress={loaded:O.loaded,total:O.total}},te.onPull=()=>{this._fullReader.read().then(function({value:O,done:pe}){pe?te.close():((0,_util.assert)((0,_util.isArrayBuffer)(O),"GetReader - expected an ArrayBuffer."),te.enqueue(new Uint8Array(O),1,[O]))}).catch(O=>{te.error(O)})},te.onCancel=O=>{this._fullReader.cancel(O),te.ready.catch(pe=>{if(!this.destroyed)throw pe})}}),x.on("ReaderHeadersReady",s=>{const te=(0,_util.createPromiseCapability)(),O=this._fullReader;return O.headersReady.then(()=>{(!O.isStreamingSupported||!O.isRangeSupported)&&(this._lastProgress&&R.onProgress?.(this._lastProgress),O.onProgress=pe=>{R.onProgress?.({loaded:pe.loaded,total:pe.total})}),te.resolve({isStreamingSupported:O.isStreamingSupported,isRangeSupported:O.isRangeSupported,contentLength:O.contentLength})},te.reject),te.promise}),x.on("GetRangeReader",(s,te)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const O=this._networkStream.getRangeReader(s.begin,s.end);O?(te.onPull=()=>{O.read().then(function({value:pe,done:ie}){ie?te.close():((0,_util.assert)((0,_util.isArrayBuffer)(pe),"GetRangeReader - expected an ArrayBuffer."),te.enqueue(new Uint8Array(pe),1,[pe]))}).catch(pe=>{te.error(pe)})},te.onCancel=pe=>{O.cancel(pe),te.ready.catch(ie=>{if(!this.destroyed)throw ie})}):te.close()}),x.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,R._capability.resolve(new PDFDocumentProxy(s,this))}),x.on("DocException",function(s){let te;switch(s.name){case"PasswordException":te=new _util.PasswordException(s.message,s.code);break;case"InvalidPDFException":te=new _util.InvalidPDFException(s.message);break;case"MissingPDFException":te=new _util.MissingPDFException(s.message);break;case"UnexpectedResponseException":te=new _util.UnexpectedResponseException(s.message,s.status);break;case"UnknownErrorException":te=new _util.UnknownErrorException(s.message,s.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}R._capability.reject(te)}),x.on("PasswordRequest",s=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),R.onPassword){const te=O=>{O instanceof Error?this._passwordCapability.reject(O):this._passwordCapability.resolve({password:O})};try{R.onPassword(te,s.code)}catch(O){this._passwordCapability.reject(O)}}else this._passwordCapability.reject(new _util.PasswordException(s.message,s.code));return this._passwordCapability.promise}),x.on("DataLoaded",s=>{R.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),x.on("StartRenderPage",s=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),x.on("commonobj",([s,te,O])=>{if(!this.destroyed&&!this.commonObjs.has(s))switch(te){case"Font":const pe=this._params;if("error"in O){const B=O.error;(0,_util.warn)(`Error during font loading: ${B}`),this.commonObjs.resolve(s,B);break}let ie=null;pe.pdfBug&&globalThis.FontInspector?.enabled&&(ie={registerFont(B,ce){globalThis.FontInspector.fontAdded(B,ce)}});const re=new _font_loader.FontFaceObject(O,{isEvalSupported:pe.isEvalSupported,disableFontFace:pe.disableFontFace,ignoreErrors:pe.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:ie});this.fontLoader.bind(re).catch(B=>x.sendWithPromise("FontFallback",{id:s})).finally(()=>{!pe.fontExtraProperties&&re.data&&(re.data=null),this.commonObjs.resolve(s,re)});break;case"FontPath":case"Image":this.commonObjs.resolve(s,O);break;default:throw new Error(`Got unknown common object type ${te}`)}}),x.on("obj",([s,te,O,pe])=>{if(this.destroyed)return;const ie=_classPrivateFieldGet(this,_pageCache).get(te);if(!ie.objs.has(s))switch(O){case"Image":ie.objs.resolve(s,pe);const re=8e6;if(pe){let B;if(pe.bitmap){const{bitmap:ce,width:he,height:ee}=pe;B=he*ee*4,ie._bitmaps.add(ce)}else B=pe.data?.length||0;B>re&&(ie.cleanupAfterRender=!0)}break;case"Pattern":ie.objs.resolve(s,pe);break;default:throw new Error(`Got unknown object type ${O}`)}}),x.on("DocProgress",s=>{this.destroyed||R.onProgress?.({loaded:s.loaded,total:s.total})}),x.on("DocStats",s=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(s.streamTypes),fontTypes:Object.freeze(s.fontTypes)}))}),x.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),x.on("FetchBuiltInCMap",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(s):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),x.on("FetchStandardFontData",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(s):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:x}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(x)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(x){if(!Number.isInteger(x)||x<=0||x>this._numPages)return Promise.reject(new Error("Invalid page request."));const R=x-1,s=_classPrivateFieldGet(this,_pagePromises).get(R);if(s)return s;const te=this.messageHandler.sendWithPromise("GetPage",{pageIndex:R}).then(O=>{if(this.destroyed)throw new Error("Transport destroyed");const pe=new PDFPageProxy(R,O,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(R,pe),pe});return _classPrivateFieldGet(this,_pagePromises).set(R,te),te}getPageIndex(x){return"object"!=typeof x||null===x||!Number.isInteger(x.num)||x.num<0||!Number.isInteger(x.gen)||x.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:x.num,gen:x.gen})}getAnnotations(x,R){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:x,intent:R})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(x){return"string"!=typeof x?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:x})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(x){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:x})}getStructTree(x){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:x})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(x=>new _optional_content_config.OptionalContentConfig(x))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(x=>({info:x[0],metadata:x[1]?new _metadata.Metadata(x[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(x=!1){var R=this;return _asyncToGenerator(function*(){if(yield R.messageHandler.sendWithPromise("Cleanup",null),!R.destroyed){for(const s of _classPrivateFieldGet(R,_pageCache).values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);R.commonObjs.clear(),x||R.fontLoader.clear(),_classPrivateFieldSet(R,_metadataPromise,null),R._getFieldObjectsPromise=null,R._hasJSActionsPromise=null}})()}get loadingParams(){const x=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:x.disableAutoFetch,enableXfa:x.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(x,R=null){if(R){const te=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,x);return te.capability.promise.then(()=>R(te.data)),null}const s=_classPrivateFieldGet(this,_objs)[x];if(!s?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${x}.`);return s.data}has(x){return _classPrivateFieldGet(this,_objs)[x]?.capability.settled||!1}resolve(x,R=null){const s=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,x);s.data=R,s.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(Ie){return _classPrivateFieldGet(this,_objs)[Ie]||(_classPrivateFieldGet(this,_objs)[Ie]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(x){this._internalRenderTask=x,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:x,params:R,objs:s,commonObjs:te,annotationCanvasMap:O,operatorList:pe,pageIndex:ie,canvasFactory:re,useRequestAnimationFrame:B=!1,pdfBug:ce=!1,pageColors:he=null}){this.callback=x,this.params=R,this.objs=s,this.commonObjs=te,this.annotationCanvasMap=O,this.operatorListIdx=null,this.operatorList=pe,this._pageIndex=ie,this.canvasFactory=re,this._pdfBug=ce,this.pageColors=he,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===B&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=R.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:x=!1,optionalContentConfig:R}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:te,transform:O,imageLayer:pe,background:ie}=this.params;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,pe,R,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:O,viewport:te,transparency:x,background:ie}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(x=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(x||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var x=this;return _asyncToGenerator(function*(){x.cancelled||(x.operatorListIdx=x.gfx.executeOperatorList(x.operatorList,x.operatorListIdx,x._continueBound,x.stepper),x.operatorListIdx===x.operatorList.argsArray.length&&(x.running=!1,x.operatorList.lastChunk&&(x.gfx.endDrawing(),x._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(x._canvas),x.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.StatTimer=x.RenderingCancelledException=x.PixelsPerInch=x.PageViewport=x.PDFDateString=x.DOMStandardFontDataFactory=x.DOMSVGFactory=x.DOMCanvasFactory=x.DOMCMapReaderFactory=void 0,x.deprecated=function A(J){console.log("Deprecated API usage: "+J)},x.getFilenameFromUrl=function q(J){const j=J.indexOf("#"),S=J.indexOf("?"),oe=Math.min(j>0?j:J.length,S>0?S:J.length);return J.substring(J.lastIndexOf("/",oe)+1,oe)},x.getPdfFilenameFromUrl=function fe(J,j="document.pdf"){if("string"!=typeof J)return j;if($(J))return(0,te.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),j;const oe=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,W=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(J);let le=oe.exec(W[1])||oe.exec(W[2])||oe.exec(W[3]);if(le&&(le=le[0],le.includes("%")))try{le=oe.exec(decodeURIComponent(le))[0]}catch{}return le||j},x.getXfaPageViewport=function N(J,{scale:j=1,rotation:S=0}){const{width:oe,height:W}=J.attributes.style,le=[0,0,parseInt(oe),parseInt(W)];return new Y({viewBox:le,scale:j,rotation:S})},x.isDataScheme=$,x.isPdfFile=function ae(J){return"string"==typeof J&&/\.pdf$/i.test(J)},x.isValidFetchUrl=Z,x.loadScript=function D(J,j=!1){return new Promise((S,oe)=>{const W=document.createElement("script");W.src=J,W.onload=function(le){j&&W.remove(),S(le)},W.onerror=function(){oe(new Error(`Cannot load script at: ${W.src}`))},(document.head||document.documentElement).appendChild(W)})};var s=R(6),te=R(1);class pe{}function re(J){return B.apply(this,arguments)}function B(){return(B=_asyncToGenerator(function*(J,j=!1){if(Z(J,document.baseURI)){const S=yield fetch(J);if(!S.ok)throw new Error(S.statusText);return j?new Uint8Array(yield S.arrayBuffer()):(0,te.stringToBytes)(yield S.text())}return new Promise((S,oe)=>{const W=new XMLHttpRequest;W.open("GET",J,!0),j&&(W.responseType="arraybuffer"),W.onreadystatechange=()=>{if(W.readyState===XMLHttpRequest.DONE){if(200===W.status||0===W.status){let le;if(j&&W.response?le=new Uint8Array(W.response):!j&&W.responseText&&(le=(0,te.stringToBytes)(W.responseText)),le)return void S(le)}oe(new Error(W.statusText))}},W.send(null)})})).apply(this,arguments)}_defineProperty(pe,"CSS",96),_defineProperty(pe,"PDF",72),_defineProperty(pe,"PDF_TO_CSS_UNITS",pe.CSS/pe.PDF),x.PixelsPerInch=pe,x.DOMCanvasFactory=class ie extends s.BaseCanvasFactory{constructor({ownerDocument:j=globalThis.document}={}){super(),this._document=j}_createCanvas(j,S){const oe=this._document.createElement("canvas");return oe.width=j,oe.height=S,oe}},x.DOMCMapReaderFactory=class ce extends s.BaseCMapReaderFactory{_fetchData(j,S){return re(j,this.isCompressed).then(oe=>({cMapData:oe,compressionType:S}))}},x.DOMStandardFontDataFactory=class he extends s.BaseStandardFontDataFactory{_fetchData(j){return re(j,!0)}},x.DOMSVGFactory=class ee extends s.BaseSVGFactory{_createSVG(j){return document.createElementNS("http://www.w3.org/2000/svg",j)}};class Y{constructor({viewBox:j,scale:S,rotation:oe,offsetX:W=0,offsetY:le=0,dontFlip:me=!1}){this.viewBox=j,this.scale=S,this.rotation=oe,this.offsetX=W,this.offsetY=le;const ye=(j[2]+j[0])/2,Re=(j[3]+j[1])/2;let Ve,Xe,it,ve,M,b,k,L;switch((oe%=360)<0&&(oe+=360),oe){case 180:Ve=-1,Xe=0,it=0,ve=1;break;case 90:Ve=0,Xe=1,it=1,ve=0;break;case 270:Ve=0,Xe=-1,it=-1,ve=0;break;case 0:Ve=1,Xe=0,it=0,ve=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}me&&(it=-it,ve=-ve),0===Ve?(M=Math.abs(Re-j[1])*S+W,b=Math.abs(ye-j[0])*S+le,k=Math.abs(j[3]-j[1])*S,L=Math.abs(j[2]-j[0])*S):(M=Math.abs(ye-j[0])*S+W,b=Math.abs(Re-j[1])*S+le,k=Math.abs(j[2]-j[0])*S,L=Math.abs(j[3]-j[1])*S),this.transform=[Ve*S,Xe*S,it*S,ve*S,M-Ve*S*ye-it*S*Re,b-Xe*S*ye-ve*S*Re],this.width=k,this.height=L}clone({scale:j=this.scale,rotation:S=this.rotation,offsetX:oe=this.offsetX,offsetY:W=this.offsetY,dontFlip:le=!1}={}){return new Y({viewBox:this.viewBox.slice(),scale:j,rotation:S,offsetX:oe,offsetY:W,dontFlip:le})}convertToViewportPoint(j,S){return te.Util.applyTransform([j,S],this.transform)}convertToViewportRectangle(j){const S=te.Util.applyTransform([j[0],j[1]],this.transform),oe=te.Util.applyTransform([j[2],j[3]],this.transform);return[S[0],S[1],oe[0],oe[1]]}convertToPdfPoint(j,S){return te.Util.applyInverseTransform([j,S],this.transform)}}function $(J){const j=J.length;let S=0;for(;S<j&&""===J[S].trim();)S++;return"data:"===J.substring(S,S+5).toLowerCase()}function Z(J,j){try{const{protocol:S}=j?new URL(J,j):new URL(J);return"http:"===S||"https:"===S}catch{return!1}}let F;x.PageViewport=Y,x.RenderingCancelledException=class se extends te.BaseException{constructor(j,S){super(j,"RenderingCancelledException"),this.type=S}},x.StatTimer=class z{constructor(){this.started=Object.create(null),this.times=[]}time(j){j in this.started&&(0,te.warn)(`Timer is already running for ${j}`),this.started[j]=Date.now()}timeEnd(j){j in this.started||(0,te.warn)(`Timer has not been started for ${j}`),this.times.push({name:j,start:this.started[j],end:Date.now()}),delete this.started[j]}toString(){const j=[];let S=0;for(const oe of this.times){const W=oe.name;W.length>S&&(S=W.length)}for(const oe of this.times){const W=oe.end-oe.start;j.push(`${oe.name.padEnd(S)} ${W}ms\n`)}return j.join("")}},x.PDFDateString=class X{static toDateObject(j){if(!j||"string"!=typeof j)return null;F||(F=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const S=F.exec(j);if(!S)return null;const oe=parseInt(S[1],10);let W=parseInt(S[2],10);W=W>=1&&W<=12?W-1:0;let le=parseInt(S[3],10);le=le>=1&&le<=31?le:1;let me=parseInt(S[4],10);me=me>=0&&me<=23?me:0;let ye=parseInt(S[5],10);ye=ye>=0&&ye<=59?ye:0;let Re=parseInt(S[6],10);Re=Re>=0&&Re<=59?Re:0;const Ve=S[7]||"Z";let Xe=parseInt(S[8],10);Xe=Xe>=0&&Xe<=23?Xe:0;let it=parseInt(S[9],10)||0;return it=it>=0&&it<=59?it:0,"-"===Ve?(me+=Xe,ye+=it):"+"===Ve&&(me-=Xe,ye-=it),new Date(Date.UTC(oe,W,le,me,ye,Re))}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.BaseStandardFontDataFactory=x.BaseSVGFactory=x.BaseCanvasFactory=x.BaseCMapReaderFactory=void 0;var s=R(1);class te{constructor(){this.constructor===te&&(0,s.unreachable)("Cannot initialize BaseCanvasFactory.")}create(B,ce){if(B<=0||ce<=0)throw new Error("Invalid canvas size");const he=this._createCanvas(B,ce);return{canvas:he,context:he.getContext("2d")}}reset(B,ce,he){if(!B.canvas)throw new Error("Canvas is not specified");if(ce<=0||he<=0)throw new Error("Invalid canvas size");B.canvas.width=ce,B.canvas.height=he}destroy(B){if(!B.canvas)throw new Error("Canvas is not specified");B.canvas.width=0,B.canvas.height=0,B.canvas=null,B.context=null}_createCanvas(B,ce){(0,s.unreachable)("Abstract method `_createCanvas` called.")}}x.BaseCanvasFactory=te;class O{constructor({baseUrl:B=null,isCompressed:ce=!1}){this.constructor===O&&(0,s.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=B,this.isCompressed=ce}fetch({name:B}){var ce=this;return _asyncToGenerator(function*(){if(!ce.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!B)throw new Error("CMap name must be specified.");const he=ce.baseUrl+B+(ce.isCompressed?".bcmap":"");return ce._fetchData(he,ce.isCompressed?s.CMapCompressionType.BINARY:s.CMapCompressionType.NONE).catch(Y=>{throw new Error(`Unable to load ${ce.isCompressed?"binary ":""}CMap at: ${he}`)})})()}_fetchData(B,ce){(0,s.unreachable)("Abstract method `_fetchData` called.")}}x.BaseCMapReaderFactory=O;class pe{constructor({baseUrl:B=null}){this.constructor===pe&&(0,s.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=B}fetch({filename:B}){var ce=this;return _asyncToGenerator(function*(){if(!ce.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!B)throw new Error("Font filename must be specified.");const he=`${ce.baseUrl}${B}`;return ce._fetchData(he).catch(ee=>{throw new Error(`Unable to load font data at: ${he}`)})})()}_fetchData(B){(0,s.unreachable)("Abstract method `_fetchData` called.")}}x.BaseStandardFontDataFactory=pe;class ie{constructor(){this.constructor===ie&&(0,s.unreachable)("Cannot initialize BaseSVGFactory.")}create(B,ce){if(B<=0||ce<=0)throw new Error("Invalid SVG dimensions");const he=this._createSVG("svg:svg");return he.setAttribute("version","1.1"),he.setAttribute("width",`${B}px`),he.setAttribute("height",`${ce}px`),he.setAttribute("preserveAspectRatio","none"),he.setAttribute("viewBox",`0 0 ${B} ${ce}`),he}createElement(B){if("string"!=typeof B)throw new Error("Invalid SVG element type");return this._createSVG(B)}_createSVG(B){(0,s.unreachable)("Abstract method `_createSVG` called.")}}x.BaseSVGFactory=ie},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.FontLoader=x.FontFaceObject=void 0;var s=R(1);class te{constructor({docId:re,onUnsupportedFeature:B,ownerDocument:ce=globalThis.document,styleElement:he=null}){this.constructor===te&&(0,s.unreachable)("Cannot initialize BaseFontLoader."),this.docId=re,this._onUnsupportedFeature=B,this._document=ce,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(re){this.nativeFontFaces.push(re),this._document.fonts.add(re)}insertRule(re){let B=this.styleElement;B||(B=this.styleElement=this._document.createElement("style"),B.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(B));const ce=B.sheet;ce.insertRule(re,ce.cssRules.length)}clear(){for(const re of this.nativeFontFaces)this._document.fonts.delete(re);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(re){var B=this;return _asyncToGenerator(function*(){if(re.attached||re.missingFile)return;if(re.attached=!0,B.isFontLoadingAPISupported){const he=re.createNativeFontFace();if(he){B.addNativeFontFace(he);try{yield he.loaded}catch(ee){throw B._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,s.warn)(`Failed to load font '${he.family}': '${ee}'.`),re.disableFontFace=!0,ee}}return}const ce=re.createFontFaceRule();if(ce){if(B.insertRule(ce),B.isSyncFontLoadingSupported)return;yield new Promise(he=>{const ee=B._queueLoadingCallback(he);B._prepareFontLoadEvent([ce],[re],ee)})}})()}_queueLoadingCallback(re){(0,s.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,s.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,s.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,s.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(re,B,ce){(0,s.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let O;x.FontLoader=O,x.FontLoader=O=class extends te{constructor(re){super(re),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let re=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(re=!0),(0,s.shadow)(this,"isSyncFontLoadingSupported",re)}_queueLoadingCallback(re){const ce=this.loadingContext,he={id:"pdfjs-font-loading-"+ce.nextRequestId++,done:!1,complete:function B(){for((0,s.assert)(!he.done,"completeRequest() cannot be called twice."),he.done=!0;ce.requests.length>0&&ce.requests[0].done;){const ee=ce.requests.shift();setTimeout(ee.callback,0)}},callback:re};return ce.requests.push(he),he}get _loadTestFont(){return(0,s.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(re,B,ce){function he(oe,W){return oe.charCodeAt(W)<<24|oe.charCodeAt(W+1)<<16|oe.charCodeAt(W+2)<<8|255&oe.charCodeAt(W+3)}function ee(oe,W,le,me){return oe.substring(0,W)+me+oe.substring(W+le)}let Y,se;const $=this._document.createElement("canvas");$.width=1,$.height=1;const ae=$.getContext("2d");let q=0;const z=`lt${Date.now()}${this.loadTestFontId++}`;let Z=this._loadTestFont;Z=ee(Z,976,z.length,z);const F=1482184792;let X=he(Z,16);for(Y=0,se=z.length-3;Y<se;Y+=4)X=X-F+he(z,Y)|0;Y<z.length&&(X=X-F+he(z+"XXX",Y)|0),Z=ee(Z,16,4,(0,s.string32)(X));const N=`url(data:font/opentype;base64,${btoa(Z)});`;this.insertRule(`@font-face {font-family:"${z}";src:${N}}`);const j=[];for(const oe of B)j.push(oe.loadedName);j.push(z);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const oe of j){const W=this._document.createElement("span");W.textContent="Hi",W.style.fontFamily=oe,S.appendChild(W)}this._document.body.appendChild(S),function fe(oe,W){if(q++,q>30)return(0,s.warn)("Load test font never loaded."),void W();ae.font="30px "+oe,ae.fillText(".",0,20),ae.getImageData(0,0,1,1).data[3]>0?W():setTimeout(fe.bind(null,oe,W))}(z,()=>{S.remove(),ce.complete()})}},x.FontFaceObject=class pe{constructor(re,{isEvalSupported:B=!0,disableFontFace:ce=!1,ignoreErrors:he=!1,onUnsupportedFeature:ee,fontRegistry:Y=null}){this.compiledGlyphs=Object.create(null);for(const se in re)this[se]=re[se];this.isEvalSupported=!1!==B,this.disableFontFace=!0===ce,this.ignoreErrors=!0===he,this._onUnsupportedFeature=ee,this.fontRegistry=Y}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let re;if(this.cssFontInfo){const B={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(B.style=`oblique ${this.cssFontInfo.italicAngle}deg`),re=new FontFace(this.cssFontInfo.fontFamily,this.data,B)}else re=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),re}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const re=(0,s.bytesToString)(this.data),B=`url(data:${this.mimetype};base64,${btoa(re)});`;let ce;if(this.cssFontInfo){let he=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(he+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ce=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${he}src:${B}}`}else ce=`@font-face {font-family:"${this.loadedName}";src:${B}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,B),ce}getPathGenerator(re,B){if(void 0!==this.compiledGlyphs[B])return this.compiledGlyphs[B];let ce;try{ce=re.get(this.loadedName+"_path_"+B)}catch(he){if(!this.ignoreErrors)throw he;return this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,s.warn)(`getPathGenerator - ignoring character: "${he}".`),this.compiledGlyphs[B]=function(ee,Y){}}if(this.isEvalSupported&&s.FeatureTest.isEvalSupported){const he=[];for(const ee of ce){const Y=void 0!==ee.args?ee.args.join(","):"";he.push("c.",ee.cmd,"(",Y,");\n")}return this.compiledGlyphs[B]=new Function("c","size",he.join(""))}return this.compiledGlyphs[B]=function(he,ee){for(const Y of ce)"scale"===Y.cmd&&(Y.args=[ee,-ee]),he[Y.cmd].apply(he,Y.args)}}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.AnnotationStorage=void 0;var s=R(9),te=R(1);x.AnnotationStorage=class O{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ie,re){const B=this._storage.get(ie);return void 0===B?re:Object.assign(re,B)}getRawValue(ie){return this._storage.get(ie)}setValue(ie,re){const B=this._storage.get(ie);let ce=!1;if(void 0!==B)for(const[he,ee]of Object.entries(re))B[he]!==ee&&(ce=!0,B[he]=ee);else ce=!0,this._storage.set(ie,re);ce&&this._setModified()}getAll(){return this._storage.size>0?(0,te.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const ie=new s.MurmurHash3_64;for(const[re,B]of this._storage)ie.update(`${re}:${JSON.stringify(B)}`);return ie.hexdigest()}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.MurmurHash3_64=void 0;var s=R(1);const te=3285377520,O=4294901760,pe=65535;x.MurmurHash3_64=class ie{constructor(B){this.h1=B?4294967295&B:te,this.h2=B?4294967295&B:te}update(B){let ce,he;if("string"==typeof B){ce=new Uint8Array(2*B.length),he=0;for(let F=0,X=B.length;F<X;F++){const N=B.charCodeAt(F);N<=255?ce[he++]=N:(ce[he++]=N>>>8,ce[he++]=255&N)}}else{if(!(0,s.isArrayBuffer)(B))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");ce=B.slice(),he=ce.byteLength}const ee=he>>2,Y=he-4*ee,se=new Uint32Array(ce.buffer,0,ee);let $=0,ae=0,q=this.h1,fe=this.h2;const z=3432918353,Z=461845907,D=z&pe,A=Z&pe;for(let F=0;F<ee;F++)1&F?($=se[F],$=$*z&O|$*D&pe,$=$<<15|$>>>17,$=$*Z&O|$*A&pe,q^=$,q=q<<13|q>>>19,q=5*q+3864292196):(ae=se[F],ae=ae*z&O|ae*D&pe,ae=ae<<15|ae>>>17,ae=ae*Z&O|ae*A&pe,fe^=ae,fe=fe<<13|fe>>>19,fe=5*fe+3864292196);switch($=0,Y){case 3:$^=ce[4*ee+2]<<16;case 2:$^=ce[4*ee+1]<<8;case 1:$^=ce[4*ee],$=$*z&O|$*D&pe,$=$<<15|$>>>17,$=$*Z&O|$*A&pe,1&ee?q^=$:fe^=$}this.h1=q,this.h2=fe}hexdigest(){let B=this.h1,ce=this.h2;B^=ce>>>1,B=3981806797*B&O|36045*B&pe,ce=4283543511*ce&O|(2950163797*(ce<<16|B>>>16)&O)>>>16,B^=ce>>>1,B=444984403*B&O|60499*B&pe,ce=3301882366*ce&O|(3120437893*(ce<<16|B>>>16)&O)>>>16,B^=ce>>>1;const he=(B>>>0).toString(16),ee=(ce>>>0).toString(16);return he.padStart(8,"0")+ee.padStart(8,"0")}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.CanvasGraphics=void 0;var s=R(1),te=R(11),O=R(12),pe=R(3),ie=R(5);const ce=4096,$=16;function fe(ve){if(ve._transformStack&&(ve._transformStack=[]),!ve.mozCurrentTransform){ve._originalSave=ve.save,ve._originalRestore=ve.restore,ve._originalRotate=ve.rotate,ve._originalScale=ve.scale,ve._originalTranslate=ve.translate,ve._originalTransform=ve.transform,ve._originalSetTransform=ve.setTransform,ve._originalResetTransform=ve.resetTransform,ve._transformMatrix=ve._transformMatrix||[1,0,0,1,0,0],ve._transformStack=[];try{const M=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ve),"lineWidth");ve._setLineWidth=M.set,ve._getLineWidth=M.get,Object.defineProperty(ve,"lineWidth",{set:function(k){this._setLineWidth(1.000001*k)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(ve,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(ve,"mozCurrentTransformInverse",{get:function(){const[b,k,L,Q,ne,U]=this._transformMatrix,be=b*Q-k*L,He=k*L-b*Q;return[Q/be,k/He,L/He,b/be,(Q*ne-L*U)/He,(k*ne-b*U)/be]}}),ve.save=function(){const b=this._transformMatrix;this._transformStack.push(b),this._transformMatrix=b.slice(0,6),this._originalSave()},ve.restore=function(){0===this._transformStack.length&&(0,s.warn)("Tried to restore a ctx when the stack was already empty.");const b=this._transformStack.pop();b&&(this._transformMatrix=b,this._originalRestore())},ve.translate=function(b,k){const L=this._transformMatrix;L[4]=L[0]*b+L[2]*k+L[4],L[5]=L[1]*b+L[3]*k+L[5],this._originalTranslate(b,k)},ve.scale=function(b,k){const L=this._transformMatrix;L[0]*=b,L[1]*=b,L[2]*=k,L[3]*=k,this._originalScale(b,k)},ve.transform=function(b,k,L,Q,ne,U){const be=this._transformMatrix;this._transformMatrix=[be[0]*b+be[2]*k,be[1]*b+be[3]*k,be[0]*L+be[2]*Q,be[1]*L+be[3]*Q,be[0]*ne+be[2]*U+be[4],be[1]*ne+be[3]*U+be[5]],ve._originalTransform(b,k,L,Q,ne,U)},ve.setTransform=function(b,k,L,Q,ne,U){this._transformMatrix=[b,k,L,Q,ne,U],ve._originalSetTransform(b,k,L,Q,ne,U)},ve.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],ve._originalResetTransform()},ve.rotate=function(b){const k=Math.cos(b),L=Math.sin(b),Q=this._transformMatrix;this._transformMatrix=[Q[0]*k+Q[2]*L,Q[1]*k+Q[3]*L,Q[0]*-L+Q[2]*k,Q[1]*-L+Q[3]*k,Q[4],Q[5]],this._originalRotate(b)}}}class z{constructor(M){this.canvasFactory=M,this.cache=Object.create(null)}getCanvas(M,b,k,L){let Q;return void 0!==this.cache[M]?(Q=this.cache[M],this.canvasFactory.reset(Q,b,k),Q.context.setTransform(1,0,0,1,0,0)):(Q=this.canvasFactory.create(b,k),this.cache[M]=Q),L&&fe(Q.context),Q}delete(M){delete this.cache[M]}clear(){for(const M in this.cache)this.canvasFactory.destroy(this.cache[M]),delete this.cache[M]}}function Z(ve,M,b,k,L,Q,ne,U,be,He){const[ke,Ue,Be,Ye,Qe,gt]=ve.mozCurrentTransform;if(0===Ue&&0===Be){const ct=Math.round(ne*ke+Qe),Ot=Math.round(U*Ye+gt),nt=Math.abs(Math.round((ne+be)*ke+Qe)-ct)||1,kt=Math.abs(Math.round((U+He)*Ye+gt)-Ot)||1;return ve.setTransform(Math.sign(ke),0,0,Math.sign(Ye),ct,Ot),ve.drawImage(M,b,k,L,Q,0,0,nt,kt),ve.setTransform(ke,Ue,Be,Ye,Qe,gt),[nt,kt]}if(0===ke&&0===Ye){const ct=Math.round(U*Be+Qe),Ot=Math.round(ne*Ue+gt),nt=Math.abs(Math.round((U+He)*Be+Qe)-ct)||1,kt=Math.abs(Math.round((ne+be)*Ue+gt)-Ot)||1;return ve.setTransform(0,Math.sign(Ue),Math.sign(Be),0,ct,Ot),ve.drawImage(M,b,k,L,Q,0,0,kt,nt),ve.setTransform(ke,Ue,Be,Ye,Qe,gt),[kt,nt]}return ve.drawImage(M,b,k,L,Q,ne,U,be,He),[Math.hypot(ke,Ue)*be,Math.hypot(Be,Ye)*He]}class A{constructor(M,b){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=s.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,M,b])}clone(){const M=Object.create(this);return M.clipBox=this.clipBox.slice(),M}setCurrentPoint(M,b){this.x=M,this.y=b}updatePathMinMax(M,b,k){[b,k]=s.Util.applyTransform([b,k],M),this.minX=Math.min(this.minX,b),this.minY=Math.min(this.minY,k),this.maxX=Math.max(this.maxX,b),this.maxY=Math.max(this.maxY,k)}updateRectMinMax(M,b){const k=s.Util.applyTransform(b,M),L=s.Util.applyTransform(b.slice(2),M);this.minX=Math.min(this.minX,k[0],L[0]),this.minY=Math.min(this.minY,k[1],L[1]),this.maxX=Math.max(this.maxX,k[0],L[0]),this.maxY=Math.max(this.maxY,k[1],L[1])}updateScalingPathMinMax(M,b){s.Util.scaleMinMax(M,b),this.minX=Math.min(this.minX,b[0]),this.maxX=Math.max(this.maxX,b[1]),this.minY=Math.min(this.minY,b[2]),this.maxY=Math.max(this.maxY,b[3])}updateCurvePathMinMax(M,b,k,L,Q,ne,U,be,He,ke){const Ue=s.Util.bezierBoundingBox(b,k,L,Q,ne,U,be,He);if(ke)return ke[0]=Math.min(ke[0],Ue[0],Ue[2]),ke[1]=Math.max(ke[1],Ue[0],Ue[2]),ke[2]=Math.min(ke[2],Ue[1],Ue[3]),void(ke[3]=Math.max(ke[3],Ue[1],Ue[3]));this.updateRectMinMax(M,Ue)}getPathBoundingBox(M=te.PathType.FILL,b=null){const k=[this.minX,this.minY,this.maxX,this.maxY];if(M===te.PathType.STROKE){b||(0,s.unreachable)("Stroke bounding box must include transform.");const L=s.Util.singularValueDecompose2dScale(b),Q=L[0]*this.lineWidth/2,ne=L[1]*this.lineWidth/2;k[0]-=Q,k[1]-=ne,k[2]+=Q,k[3]+=ne}return k}updateClipFromPath(){const M=s.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(M||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(M){this.clipBox=M,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(M=te.PathType.FILL,b=null){return s.Util.intersect(this.clipBox,this.getPathBoundingBox(M,b))}}function F(ve,M,b=null){if(typeof ImageData<"u"&&M instanceof ImageData)return void ve.putImageData(M,0,0);const k=M.height,L=M.width,Q=k%$,ne=(k-Q)/$,U=0===Q?ne:ne+1,be=ve.createImageData(L,$);let ke,He=0;const Ue=M.data,Be=be.data;let Ye,Qe,gt,Tt,lt,_t,ct,Rt;if(b)switch(b.length){case 1:lt=b[0],_t=b[0],ct=b[0],Rt=b[0];break;case 4:lt=b[0],_t=b[1],ct=b[2],Rt=b[3]}if(M.kind===s.ImageKind.GRAYSCALE_1BPP){const Ot=Ue.byteLength,At=new Uint32Array(Be.buffer,0,Be.byteLength>>2),nt=At.length,dt=L+7>>3;let kt=4294967295,Ke=s.FeatureTest.isLittleEndian?4278190080:255;for(Rt&&255===Rt[0]&&0===Rt[255]&&([kt,Ke]=[Ke,kt]),Ye=0;Ye<U;Ye++){for(gt=Ye<ne?$:Q,ke=0,Qe=0;Qe<gt;Qe++){const ge=Ot-He;let xe=0;const ft=ge>dt?L:8*ge-7,wt=-8&ft;let Ne=0,we=0;for(;xe<wt;xe+=8)we=Ue[He++],At[ke++]=128&we?kt:Ke,At[ke++]=64&we?kt:Ke,At[ke++]=32&we?kt:Ke,At[ke++]=16&we?kt:Ke,At[ke++]=8&we?kt:Ke,At[ke++]=4&we?kt:Ke,At[ke++]=2&we?kt:Ke,At[ke++]=1&we?kt:Ke;for(;xe<ft;xe++)0===Ne&&(we=Ue[He++],Ne=128),At[ke++]=we&Ne?kt:Ke,Ne>>=1}for(;ke<nt;)At[ke++]=0;ve.putImageData(be,0,Ye*$)}}else if(M.kind===s.ImageKind.RGBA_32BPP){const Ot=!!(lt||_t||ct);for(Qe=0,Tt=L*$*4,Ye=0;Ye<ne;Ye++){if(Be.set(Ue.subarray(He,He+Tt)),He+=Tt,Ot)for(let At=0;At<Tt;At+=4)lt&&(Be[At+0]=lt[Be[At+0]]),_t&&(Be[At+1]=_t[Be[At+1]]),ct&&(Be[At+2]=ct[Be[At+2]]);ve.putImageData(be,0,Qe),Qe+=$}if(Ye<U){if(Tt=L*Q*4,Be.set(Ue.subarray(He,He+Tt)),Ot)for(let At=0;At<Tt;At+=4)lt&&(Be[At+0]=lt[Be[At+0]]),_t&&(Be[At+1]=_t[Be[At+1]]),ct&&(Be[At+2]=ct[Be[At+2]]);ve.putImageData(be,0,Qe)}}else{if(M.kind!==s.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${M.kind}`);{const Ot=!!(lt||_t||ct);for(gt=$,Tt=L*gt,Ye=0;Ye<U;Ye++){for(Ye>=ne&&(gt=Q,Tt=L*gt),ke=0,Qe=Tt;Qe--;)Be[ke++]=Ue[He++],Be[ke++]=Ue[He++],Be[ke++]=Ue[He++],Be[ke++]=255;if(Ot)for(let At=0;At<ke;At+=4)lt&&(Be[At+0]=lt[Be[At+0]]),_t&&(Be[At+1]=_t[Be[At+1]]),ct&&(Be[At+2]=ct[Be[At+2]]);ve.putImageData(be,0,Ye*$)}}}}function X(ve,M){if(M.bitmap)return void ve.drawImage(M.bitmap,0,0);const b=M.height,k=M.width,L=b%$,Q=(b-L)/$,ne=0===L?Q:Q+1,U=ve.createImageData(k,$);let be=0;const He=M.data,ke=U.data;for(let Ue=0;Ue<ne;Ue++){const Be=Ue<Q?$:L;({srcPos:be}=(0,O.applyMaskImageData)({src:He,srcPos:be,dest:ke,width:k,height:Be})),ve.putImageData(U,0,Ue*$)}}function N(ve,M){const b=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let k=0,L=b.length;k<L;k++){const Q=b[k];void 0!==ve[Q]&&(M[Q]=ve[Q])}void 0!==ve.setLineDash&&(M.setLineDash(ve.getLineDash()),M.lineDashOffset=ve.lineDashOffset)}function J(ve,M){ve.strokeStyle=ve.fillStyle=M||"#000000",ve.fillRule="nonzero",ve.globalAlpha=1,ve.lineWidth=1,ve.lineCap="butt",ve.lineJoin="miter",ve.miterLimit=10,ve.globalCompositeOperation="source-over",ve.font="10px sans-serif",void 0!==ve.setLineDash&&(ve.setLineDash([]),ve.lineDashOffset=0)}function j(ve,M,b,k){const L=ve.length;for(let Q=3;Q<L;Q+=4){const ne=ve[Q];if(0===ne)ve[Q-3]=M,ve[Q-2]=b,ve[Q-1]=k;else if(ne<255){const U=255-ne;ve[Q-3]=ve[Q-3]*ne+M*U>>8,ve[Q-2]=ve[Q-2]*ne+b*U>>8,ve[Q-1]=ve[Q-1]*ne+k*U>>8}}}function S(ve,M,b){const k=ve.length;for(let Q=3;Q<k;Q+=4)M[Q]=M[Q]*(b?b[ve[Q]]:ve[Q])*.00392156862745098|0}function oe(ve,M,b){const k=ve.length;for(let L=3;L<k;L+=4){const Q=77*ve[L-3]+152*ve[L-2]+28*ve[L-1];M[L]=b?M[L]*b[Q>>8]>>8:M[L]*Q>>16}}function me(ve,M){const b=s.Util.singularValueDecompose2dScale(ve);b[0]=Math.fround(b[0]),b[1]=Math.fround(b[1]);const k=Math.fround((globalThis.devicePixelRatio||1)*ie.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==M?M:b[0]<=k||b[1]<=k}const ye=["butt","round","square"],Re=["miter","round","bevel"],Ve={},Xe={};class it{constructor(M,b,k,L,Q,ne,U,be){this.ctx=M,this.current=new A(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=b,this.objs=k,this.canvasFactory=L,this.imageLayer=Q,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=ne,this.cachedCanvases=new z(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=U,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=be?.background||null,this.foregroundColor=be?.foreground||null,M&&fe(M),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(M,b=null){return"string"==typeof M?M.startsWith("g_")?this.commonObjs.get(M):this.objs.get(M):b}beginDrawing({transform:M,viewport:b,transparency:k=!1,background:L=null}){const Q=this.ctx.canvas.width,ne=this.ctx.canvas.height,U=L||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const be=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const He=this.backgroundColor=this.ctx.fillStyle;let ke=!0,Ue=U;if(this.ctx.fillStyle=U,Ue=this.ctx.fillStyle,ke="string"==typeof Ue&&/^#[0-9A-Fa-f]{6}$/.test(Ue),"#000000"===be&&"#ffffff"===He||be===He||!ke)this.foregroundColor=this.backgroundColor=null;else{const Be=parseInt(Ue.slice(1),16),Qe=(Be&&65280)>>8,gt=Be&&255,Tt=_t=>(_t/=255)<=.03928?_t/12.92:((_t+.055)/1.055)**2.4,lt=Math.round(.2126*Tt((Be&&16711680)>>16)+.7152*Tt(Qe)+.0722*Tt(gt));this.selectColor=(_t,ct,Rt)=>{const Ot=.2126*Tt(_t)+.7152*Tt(ct)+.0722*Tt(Rt);return Math.round(Ot)===lt?He:be}}}if(this.ctx.fillStyle=this.backgroundColor||U,this.ctx.fillRect(0,0,Q,ne),this.ctx.restore(),k){const be=this.cachedCanvases.getCanvas("transparent",Q,ne,!0);this.compositeCtx=this.ctx,this.transparentCanvas=be.canvas,this.ctx=be.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),J(this.ctx,this.foregroundColor),M&&(this.ctx.transform.apply(this.ctx,M),this.outputScaleX=M[0],this.outputScaleY=M[0]),this.ctx.transform.apply(this.ctx,b.transform),this.viewportScale=b.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(M,b,k,L){const Q=M.argsArray,ne=M.fnArray;let U=b||0;const be=Q.length;if(be===U)return U;const He=be-U>10&&"function"==typeof k,ke=He?Date.now()+15:0;let Ue=0;const Be=this.commonObjs,Ye=this.objs;let Qe;for(;;){if(void 0!==L&&U===L.nextBreakPoint)return L.breakIt(U,k),U;if(Qe=ne[U],Qe!==s.OPS.dependency)this[Qe].apply(this,Q[U]);else for(const gt of Q[U]){const Tt=gt.startsWith("g_")?Be:Ye;if(!Tt.has(gt))return Tt.get(gt,k),U}if(U++,U===be)return U;if(He&&++Ue>10){if(Date.now()>ke)return k(),U;Ue=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const M of this._cachedBitmapsMap.values()){for(const b of M.values())typeof HTMLCanvasElement<"u"&&b instanceof HTMLCanvasElement&&(b.width=b.height=0);M.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(M,b){const k=M.width,L=M.height;let ke,Ue,Q=Math.max(Math.hypot(b[0],b[1]),1),ne=Math.max(Math.hypot(b[2],b[3]),1),U=k,be=L,He="prescale1";for(;Q>2&&U>1||ne>2&&be>1;){let Be=U,Ye=be;Q>2&&U>1&&(Be=Math.ceil(U/2),Q/=U/Be),ne>2&&be>1&&(Ye=Math.ceil(be/2),ne/=be/Ye),ke=this.cachedCanvases.getCanvas(He,Be,Ye,!1),Ue=ke.context,Ue.clearRect(0,0,Be,Ye),Ue.drawImage(M,0,0,U,be,0,0,Be,Ye),M=ke.canvas,U=Be,be=Ye,He="prescale1"===He?"prescale2":"prescale1"}return{img:M,paintWidth:U,paintHeight:be}}_createMaskCanvas(M){const b=this.ctx,{width:k,height:L}=M,Q=this.current.fillColor,ne=this.current.patternFill,U=b.mozCurrentTransform;let be,He,ke,Ue;if((M.bitmap||M.data)&&M.count>1){const nt=M.bitmap||M.data.buffer,dt=U.slice(0,4);He=JSON.stringify(ne?dt:[dt,Q]),be=this._cachedBitmapsMap.get(nt),be||(be=new Map,this._cachedBitmapsMap.set(nt,be));const kt=be.get(He);if(kt&&!ne)return{canvas:kt,offsetX:Math.round(Math.min(U[0],U[2])+U[4]),offsetY:Math.round(Math.min(U[1],U[3])+U[5])};ke=kt}ke||(Ue=this.cachedCanvases.getCanvas("maskCanvas",k,L,!1),X(Ue.context,M));let Be=s.Util.transform(U,[1/k,0,0,-1/L,0,0]);Be=s.Util.transform(Be,[1,0,0,1,0,-L]);const Ye=s.Util.applyTransform([0,0],Be),Qe=s.Util.applyTransform([k,L],Be),gt=s.Util.normalizeRect([Ye[0],Ye[1],Qe[0],Qe[1]]),Tt=Math.round(gt[2]-gt[0])||1,lt=Math.round(gt[3]-gt[1])||1,_t=this.cachedCanvases.getCanvas("fillCanvas",Tt,lt,!0),ct=_t.context,Rt=Math.min(Ye[0],Qe[0]),Ot=Math.min(Ye[1],Qe[1]);ct.translate(-Rt,-Ot),ct.transform.apply(ct,Be),ke||(ke=this._scaleImage(Ue.canvas,ct.mozCurrentTransformInverse),ke=ke.img,be&&ne&&be.set(He,ke)),ct.imageSmoothingEnabled=me(ct.mozCurrentTransform,M.interpolate),Z(ct,ke,0,0,ke.width,ke.height,0,0,k,L),ct.globalCompositeOperation="source-in";const At=s.Util.transform(ct.mozCurrentTransformInverse,[1,0,0,1,-Rt,-Ot]);return ct.fillStyle=ne?Q.getPattern(b,this,At,te.PathType.FILL):Q,ct.fillRect(0,0,k,L),be&&!ne&&(this.cachedCanvases.delete("fillCanvas"),be.set(He,_t.canvas)),{canvas:_t.canvas,offsetX:Math.round(Rt),offsetY:Math.round(Ot)}}setLineWidth(M){M!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=M,this.ctx.lineWidth=M}setLineCap(M){this.ctx.lineCap=ye[M]}setLineJoin(M){this.ctx.lineJoin=Re[M]}setMiterLimit(M){this.ctx.miterLimit=M}setDash(M,b){const k=this.ctx;void 0!==k.setLineDash&&(k.setLineDash(M),k.lineDashOffset=b)}setRenderingIntent(M){}setFlatness(M){}setGState(M){for(let b=0,k=M.length;b<k;b++){const L=M[b],ne=L[1];switch(L[0]){case"LW":this.setLineWidth(ne);break;case"LC":this.setLineCap(ne);break;case"LJ":this.setLineJoin(ne);break;case"ML":this.setMiterLimit(ne);break;case"D":this.setDash(ne[0],ne[1]);break;case"RI":this.setRenderingIntent(ne);break;case"FL":this.setFlatness(ne);break;case"Font":this.setFont(ne[0],ne[1]);break;case"CA":this.current.strokeAlpha=L[1];break;case"ca":this.current.fillAlpha=L[1],this.ctx.globalAlpha=L[1];break;case"BM":this.ctx.globalCompositeOperation=ne;break;case"SMask":this.current.activeSMask=ne?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=ne}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const M=this.inSMaskMode;this.current.activeSMask&&!M?this.beginSMaskMode():!this.current.activeSMask&&M&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const L=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=L.context;const Q=this.ctx;Q.setTransform.apply(Q,this.suspendedCtx.mozCurrentTransform),N(this.suspendedCtx,Q),function q(ve,M){if(ve._removeMirroring)throw new Error("Context is already forwarding operations.");ve.__originalSave=ve.save,ve.__originalRestore=ve.restore,ve.__originalRotate=ve.rotate,ve.__originalScale=ve.scale,ve.__originalTranslate=ve.translate,ve.__originalTransform=ve.transform,ve.__originalSetTransform=ve.setTransform,ve.__originalResetTransform=ve.resetTransform,ve.__originalClip=ve.clip,ve.__originalMoveTo=ve.moveTo,ve.__originalLineTo=ve.lineTo,ve.__originalBezierCurveTo=ve.bezierCurveTo,ve.__originalRect=ve.rect,ve.__originalClosePath=ve.closePath,ve.__originalBeginPath=ve.beginPath,ve._removeMirroring=()=>{ve.save=ve.__originalSave,ve.restore=ve.__originalRestore,ve.rotate=ve.__originalRotate,ve.scale=ve.__originalScale,ve.translate=ve.__originalTranslate,ve.transform=ve.__originalTransform,ve.setTransform=ve.__originalSetTransform,ve.resetTransform=ve.__originalResetTransform,ve.clip=ve.__originalClip,ve.moveTo=ve.__originalMoveTo,ve.lineTo=ve.__originalLineTo,ve.bezierCurveTo=ve.__originalBezierCurveTo,ve.rect=ve.__originalRect,ve.closePath=ve.__originalClosePath,ve.beginPath=ve.__originalBeginPath,delete ve._removeMirroring},ve.save=function(){M.save(),this.__originalSave()},ve.restore=function(){M.restore(),this.__originalRestore()},ve.translate=function(k,L){M.translate(k,L),this.__originalTranslate(k,L)},ve.scale=function(k,L){M.scale(k,L),this.__originalScale(k,L)},ve.transform=function(k,L,Q,ne,U,be){M.transform(k,L,Q,ne,U,be),this.__originalTransform(k,L,Q,ne,U,be)},ve.setTransform=function(k,L,Q,ne,U,be){M.setTransform(k,L,Q,ne,U,be),this.__originalSetTransform(k,L,Q,ne,U,be)},ve.resetTransform=function(){M.resetTransform(),this.__originalResetTransform()},ve.rotate=function(k){M.rotate(k),this.__originalRotate(k)},ve.clip=function(k){M.clip(k),this.__originalClip(k)},ve.moveTo=function(b,k){M.moveTo(b,k),this.__originalMoveTo(b,k)},ve.lineTo=function(b,k){M.lineTo(b,k),this.__originalLineTo(b,k)},ve.bezierCurveTo=function(b,k,L,Q,ne,U){M.bezierCurveTo(b,k,L,Q,ne,U),this.__originalBezierCurveTo(b,k,L,Q,ne,U)},ve.rect=function(b,k,L,Q){M.rect(b,k,L,Q),this.__originalRect(b,k,L,Q)},ve.closePath=function(){M.closePath(),this.__originalClosePath()},ve.beginPath=function(){M.beginPath(),this.__originalBeginPath()}}(Q,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),N(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(M){this.current.activeSMask&&(M?(M[0]=Math.floor(M[0]),M[1]=Math.floor(M[1]),M[2]=Math.ceil(M[2]),M[3]=Math.ceil(M[3])):M=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function le(ve,M,b,k){const L=k[0],Q=k[1],ne=k[2]-L,U=k[3]-Q;0===ne||0===U||(function W(ve,M,b,k,L,Q,ne,U,be,He,ke){const Ue=!!Q,Be=Ue?Q[0]:0,Ye=Ue?Q[1]:0,Qe=Ue?Q[2]:0;let gt;gt="Luminosity"===L?oe:S;const lt=Math.min(k,Math.ceil(1048576/b));for(let _t=0;_t<k;_t+=lt){const ct=Math.min(lt,k-_t),Rt=ve.getImageData(U-He,_t+(be-ke),b,ct),Ot=M.getImageData(U,_t+be,b,ct);Ue&&j(Rt.data,Be,Ye,Qe),gt(Rt.data,Ot.data,ne),M.putImageData(Ot,U,_t+be)}}(M.context,b,ne,U,M.subtype,M.backdrop,M.transferMap,L,Q,M.offsetX,M.offsetY),ve.save(),ve.globalAlpha=1,ve.globalCompositeOperation="source-over",ve.setTransform(1,0,0,1,0,0),ve.drawImage(b.canvas,0,0),ve.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,M),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(N(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const M=this.current;this.stateStack.push(M),this.current=M.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),N(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(M,b,k,L,Q,ne){this.ctx.transform(M,b,k,L,Q,ne),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(M,b,k){const L=this.ctx,Q=this.current;let be,He,ne=Q.x,U=Q.y;const ke=L.mozCurrentTransform,Ue=0===ke[0]&&0===ke[3]||0===ke[1]&&0===ke[2],Be=Ue?k.slice(0):null;for(let Ye=0,Qe=0,gt=M.length;Ye<gt;Ye++)switch(0|M[Ye]){case s.OPS.rectangle:ne=b[Qe++],U=b[Qe++];const Tt=b[Qe++],lt=b[Qe++],_t=ne+Tt,ct=U+lt;L.moveTo(ne,U),0===Tt||0===lt?L.lineTo(_t,ct):(L.lineTo(_t,U),L.lineTo(_t,ct),L.lineTo(ne,ct)),Ue||Q.updateRectMinMax(ke,[ne,U,_t,ct]),L.closePath();break;case s.OPS.moveTo:ne=b[Qe++],U=b[Qe++],L.moveTo(ne,U),Ue||Q.updatePathMinMax(ke,ne,U);break;case s.OPS.lineTo:ne=b[Qe++],U=b[Qe++],L.lineTo(ne,U),Ue||Q.updatePathMinMax(ke,ne,U);break;case s.OPS.curveTo:be=ne,He=U,ne=b[Qe+4],U=b[Qe+5],L.bezierCurveTo(b[Qe],b[Qe+1],b[Qe+2],b[Qe+3],ne,U),Q.updateCurvePathMinMax(ke,be,He,b[Qe],b[Qe+1],b[Qe+2],b[Qe+3],ne,U,Be),Qe+=6;break;case s.OPS.curveTo2:be=ne,He=U,L.bezierCurveTo(ne,U,b[Qe],b[Qe+1],b[Qe+2],b[Qe+3]),Q.updateCurvePathMinMax(ke,be,He,ne,U,b[Qe],b[Qe+1],b[Qe+2],b[Qe+3],Be),ne=b[Qe+2],U=b[Qe+3],Qe+=4;break;case s.OPS.curveTo3:be=ne,He=U,ne=b[Qe+2],U=b[Qe+3],L.bezierCurveTo(b[Qe],b[Qe+1],ne,U,ne,U),Q.updateCurvePathMinMax(ke,be,He,b[Qe],b[Qe+1],ne,U,ne,U,Be),Qe+=4;break;case s.OPS.closePath:L.closePath()}Ue&&Q.updateScalingPathMinMax(ke,Be),Q.setCurrentPoint(ne,U)}closePath(){this.ctx.closePath()}stroke(M){M=!(typeof M<"u")||M;const b=this.ctx,k=this.current.strokeColor;b.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof k&&k?.getPattern?(b.save(),b.strokeStyle=k.getPattern(b,this,b.mozCurrentTransformInverse,te.PathType.STROKE),this.rescaleAndStroke(!1),b.restore()):this.rescaleAndStroke(!0)),M&&this.consumePath(this.current.getClippedPathBoundingBox()),b.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(M){M=!(typeof M<"u")||M;const b=this.ctx,k=this.current.fillColor;let Q=!1;this.current.patternFill&&(b.save(),b.fillStyle=k.getPattern(b,this,b.mozCurrentTransformInverse,te.PathType.FILL),Q=!0);const ne=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==ne&&(this.pendingEOFill?(b.fill("evenodd"),this.pendingEOFill=!1):b.fill()),Q&&b.restore(),M&&this.consumePath(ne)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ve}eoClip(){this.pendingClip=Xe}beginText(){this.current.textMatrix=s.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const M=this.pendingTextPaths,b=this.ctx;if(void 0!==M){b.save(),b.beginPath();for(let k=0;k<M.length;k++){const L=M[k];b.setTransform.apply(b,L.transform),b.translate(L.x,L.y),L.addToPath(b,L.fontSize)}b.restore(),b.clip(),b.beginPath(),delete this.pendingTextPaths}else b.beginPath()}setCharSpacing(M){this.current.charSpacing=M}setWordSpacing(M){this.current.wordSpacing=M}setHScale(M){this.current.textHScale=M/100}setLeading(M){this.current.leading=-M}setFont(M,b){const k=this.commonObjs.get(M),L=this.current;if(!k)throw new Error(`Can't find font for ${M}`);if(L.fontMatrix=k.fontMatrix||s.FONT_IDENTITY_MATRIX,(0===L.fontMatrix[0]||0===L.fontMatrix[3])&&(0,s.warn)("Invalid font matrix for font "+M),b<0?(b=-b,L.fontDirection=-1):L.fontDirection=1,this.current.font=k,this.current.fontSize=b,k.isType3Font)return;let ne="normal";k.black?ne="900":k.bold&&(ne="bold");const U=k.italic?"italic":"normal",be=`"${k.loadedName||"sans-serif"}", ${k.fallbackName}`;let He=b;b<16?He=16:b>100&&(He=100),this.current.fontSizeScale=b/He,this.ctx.font=`${U} ${ne} ${He}px ${be}`}setTextRenderingMode(M){this.current.textRenderingMode=M}setTextRise(M){this.current.textRise=M}moveText(M,b){this.current.x=this.current.lineX+=M,this.current.y=this.current.lineY+=b}setLeadingMoveText(M,b){this.setLeading(-b),this.moveText(M,b)}setTextMatrix(M,b,k,L,Q,ne){this.current.textMatrix=[M,b,k,L,Q,ne],this.current.textMatrixScale=Math.hypot(M,b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(M,b,k,L){const Q=this.ctx,ne=this.current,U=ne.font,be=ne.textRenderingMode,He=ne.fontSize/ne.fontSizeScale,ke=be&s.TextRenderingMode.FILL_STROKE_MASK,Ue=!!(be&s.TextRenderingMode.ADD_TO_PATH_FLAG),Be=ne.patternFill&&!U.missingFile;let Ye;(U.disableFontFace||Ue||Be)&&(Ye=U.getPathGenerator(this.commonObjs,M)),U.disableFontFace||Be?(Q.save(),Q.translate(b,k),Q.beginPath(),Ye(Q,He),L&&Q.setTransform.apply(Q,L),(ke===s.TextRenderingMode.FILL||ke===s.TextRenderingMode.FILL_STROKE)&&Q.fill(),(ke===s.TextRenderingMode.STROKE||ke===s.TextRenderingMode.FILL_STROKE)&&Q.stroke(),Q.restore()):((ke===s.TextRenderingMode.FILL||ke===s.TextRenderingMode.FILL_STROKE)&&Q.fillText(M,b,k),(ke===s.TextRenderingMode.STROKE||ke===s.TextRenderingMode.FILL_STROKE)&&Q.strokeText(M,b,k)),Ue&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Q.mozCurrentTransform,x:b,y:k,fontSize:He,addToPath:Ye})}get isFontSubpixelAAEnabled(){const{context:M}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);M.scale(1.5,1),M.fillText("I",0,10);const b=M.getImageData(0,0,10,10).data;let k=!1;for(let L=3;L<b.length;L+=4)if(b[L]>0&&b[L]<255){k=!0;break}return(0,s.shadow)(this,"isFontSubpixelAAEnabled",k)}showText(M){const b=this.current,k=b.font;if(k.isType3Font)return this.showType3Text(M);const L=b.fontSize;if(0===L)return;const Q=this.ctx,ne=b.fontSizeScale,U=b.charSpacing,be=b.wordSpacing,He=b.fontDirection,ke=b.textHScale*He,Ue=M.length,Be=k.vertical,Ye=Be?1:-1,Qe=k.defaultVMetrics,gt=L*b.fontMatrix[0],Tt=b.textRenderingMode===s.TextRenderingMode.FILL&&!k.disableFontFace&&!b.patternFill;let lt;if(Q.save(),Q.transform.apply(Q,b.textMatrix),Q.translate(b.x,b.y+b.textRise),Q.scale(ke,He>0?-1:1),b.patternFill){Q.save();const At=b.fillColor.getPattern(Q,this,Q.mozCurrentTransformInverse,te.PathType.FILL);lt=Q.mozCurrentTransform,Q.restore(),Q.fillStyle=At}let _t=b.lineWidth;const ct=b.textMatrixScale;if(0===ct||0===_t){const At=b.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;(At===s.TextRenderingMode.STROKE||At===s.TextRenderingMode.FILL_STROKE)&&(_t=this.getSinglePixelWidth())}else _t/=ct;1!==ne&&(Q.scale(ne,ne),_t/=ne),Q.lineWidth=_t;let Ot,Rt=0;for(Ot=0;Ot<Ue;++Ot){const At=M[Ot];if("number"==typeof At){Rt+=Ye*At*L/1e3;continue}let nt=!1;const dt=(At.isSpace?be:0)+U,kt=At.fontChar,Ke=At.accent;let ge,xe,wt,ft=At.width;if(Be){const Ne=At.vmetric||Qe,we=-(At.vmetric?Ne[1]:.5*ft)*gt;ft=Ne?-Ne[0]:ft,ge=we/ne,xe=(Rt+Ne[2]*gt)/ne}else ge=Rt/ne,xe=0;if(k.remeasure&&ft>0){const Ne=1e3*Q.measureText(kt).width/L*ne;if(ft<Ne&&this.isFontSubpixelAAEnabled){const we=ft/Ne;nt=!0,Q.save(),Q.scale(we,1),ge/=we}else ft!==Ne&&(ge+=(ft-Ne)/2e3*L/ne)}this.contentVisible&&(At.isInFont||k.missingFile)&&(Tt&&!Ke?Q.fillText(kt,ge,xe):(this.paintChar(kt,ge,xe,lt),Ke&&this.paintChar(Ke.fontChar,ge+L*Ke.offset.x/ne,xe-L*Ke.offset.y/ne,lt))),wt=Be?ft*gt-dt*He:ft*gt+dt*He,Rt+=wt,nt&&Q.restore()}Be?b.y-=Rt:b.x+=Rt*ke,Q.restore(),this.compose()}showType3Text(M){const b=this.ctx,k=this.current,L=k.font,Q=k.fontSize,ne=k.fontDirection,U=L.vertical?1:-1,be=k.charSpacing,He=k.wordSpacing,ke=k.textHScale*ne,Ue=k.fontMatrix||s.FONT_IDENTITY_MATRIX,Be=M.length;let Qe,gt,Tt,lt;if(k.textRenderingMode!==s.TextRenderingMode.INVISIBLE&&0!==Q){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,b.save(),b.transform.apply(b,k.textMatrix),b.translate(k.x,k.y),b.scale(ke,ne),Qe=0;Qe<Be;++Qe){if(gt=M[Qe],"number"==typeof gt){lt=U*gt*Q/1e3,this.ctx.translate(lt,0),k.x+=lt*ke;continue}const _t=(gt.isSpace?He:0)+be,ct=L.charProcOperatorList[gt.operatorListId];ct?(this.contentVisible&&(this.processingType3=gt,this.save(),b.scale(Q,Q),b.transform.apply(b,Ue),this.executeOperatorList(ct),this.restore()),Tt=s.Util.applyTransform([gt.width,0],Ue)[0]*Q+_t,b.translate(Tt,0),k.x+=Tt*ke):(0,s.warn)(`Type3 character "${gt.operatorListId}" is not available.`)}b.restore(),this.processingType3=null}}setCharWidth(M,b){}setCharWidthAndBounds(M,b,k,L,Q,ne){this.ctx.rect(k,L,Q-k,ne-L),this.ctx.clip(),this.endPath()}getColorN_Pattern(M){let b;if("TilingPattern"===M[0]){const k=M[1],L=this.baseTransform||this.ctx.mozCurrentTransform.slice();b=new te.TilingPattern(M,k,this.ctx,{createCanvasGraphics:ne=>new it(ne,this.commonObjs,this.objs,this.canvasFactory)},L)}else b=this._getPattern(M[1],M[2]);return b}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(M,b,k){const L=this.selectColor?.(M,b,k)||s.Util.makeHexColor(M,b,k);this.ctx.strokeStyle=L,this.current.strokeColor=L}setFillRGBColor(M,b,k){const L=this.selectColor?.(M,b,k)||s.Util.makeHexColor(M,b,k);this.ctx.fillStyle=L,this.current.fillColor=L,this.current.patternFill=!1}_getPattern(M,b=null){let k;return this.cachedPatterns.has(M)?k=this.cachedPatterns.get(M):(k=(0,te.getShadingPattern)(this.objs.get(M)),this.cachedPatterns.set(M,k)),b&&(k.matrix=b),k}shadingFill(M){if(!this.contentVisible)return;const b=this.ctx;this.save();const k=this._getPattern(M);b.fillStyle=k.getPattern(b,this,b.mozCurrentTransformInverse,te.PathType.SHADING);const L=b.mozCurrentTransformInverse;if(L){const Q=b.canvas,ne=Q.width,U=Q.height,be=s.Util.applyTransform([0,0],L),He=s.Util.applyTransform([0,U],L),ke=s.Util.applyTransform([ne,0],L),Ue=s.Util.applyTransform([ne,U],L),Be=Math.min(be[0],He[0],ke[0],Ue[0]),Ye=Math.min(be[1],He[1],ke[1],Ue[1]),Qe=Math.max(be[0],He[0],ke[0],Ue[0]),gt=Math.max(be[1],He[1],ke[1],Ue[1]);this.ctx.fillRect(Be,Ye,Qe-Be,gt-Ye)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,s.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,s.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(M,b){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(M)&&6===M.length&&this.transform.apply(this,M),this.baseTransform=this.ctx.mozCurrentTransform,b)&&(this.ctx.rect(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,b),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(M){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const b=this.ctx;M.isolated||(0,s.info)("TODO: Support non-isolated groups."),M.knockout&&(0,s.warn)("Knockout groups not supported.");const k=b.mozCurrentTransform;if(M.matrix&&b.transform.apply(b,M.matrix),!M.bbox)throw new Error("Bounding box is required.");let L=s.Util.getAxialAlignedBoundingBox(M.bbox,b.mozCurrentTransform);L=s.Util.intersect(L,[0,0,b.canvas.width,b.canvas.height])||[0,0,0,0];const ne=Math.floor(L[0]),U=Math.floor(L[1]);let be=Math.max(Math.ceil(L[2])-ne,1),He=Math.max(Math.ceil(L[3])-U,1),ke=1,Ue=1;be>ce&&(ke=be/ce,be=ce),He>ce&&(Ue=He/ce,He=ce),this.current.startNewPathAndClipBox([0,0,be,He]);let Be="groupAt"+this.groupLevel;M.smask&&(Be+="_smask_"+this.smaskCounter++%2);const Ye=this.cachedCanvases.getCanvas(Be,be,He,!0),Qe=Ye.context;Qe.scale(1/ke,1/Ue),Qe.translate(-ne,-U),Qe.transform.apply(Qe,k),M.smask?this.smaskStack.push({canvas:Ye.canvas,context:Qe,offsetX:ne,offsetY:U,scaleX:ke,scaleY:Ue,subtype:M.smask.subtype,backdrop:M.smask.backdrop,transferMap:M.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(ne,U),b.scale(ke,Ue),b.save()),N(b,Qe),this.ctx=Qe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(b),this.groupLevel++}endGroup(M){if(!this.contentVisible)return;this.groupLevel--;const b=this.ctx,k=this.groupStack.pop();if(this.ctx=k,this.ctx.imageSmoothingEnabled=!1,M.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const L=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,L);const Q=s.Util.getAxialAlignedBoundingBox([0,0,b.canvas.width,b.canvas.height],L);this.ctx.drawImage(b.canvas,0,0),this.ctx.restore(),this.compose(Q)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(M,b,k,L,Q){if(this.save(),Array.isArray(b)&&4===b.length){const ne=b[2]-b[0],U=b[3]-b[1];if(Q&&this.annotationCanvasMap){(k=k.slice())[4]-=b[0],k[5]-=b[1],(b=b.slice())[0]=b[1]=0,b[2]=ne,b[3]=U;const[be,He]=s.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:ke}=this,Ue=Math.ceil(ne*this.outputScaleX*ke),Be=Math.ceil(U*this.outputScaleY*ke);this.annotationCanvas=this.canvasFactory.create(Ue,Be);const{canvas:Ye,context:Qe}=this.annotationCanvas,gt=`var(--zoom-factor) * ${ie.PixelsPerInch.PDF_TO_CSS_UNITS}`;Ye.style.width=`calc(${ne}px * ${gt})`,Ye.style.height=`calc(${U}px * ${gt})`,this.annotationCanvasMap.set(M,Ye),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Qe,this.ctx.setTransform(be,0,0,-He,0,U*He),fe(this.ctx),J(this.ctx,this.foregroundColor)}else J(this.ctx,this.foregroundColor),this.ctx.rect(b[0],b[1],ne,U),this.ctx.clip(),this.endPath()}this.current=new A(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,k),this.transform.apply(this,L)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(M){if(!this.contentVisible)return;const b=M.count;(M=this.getObject(M.data,M)).count=b;const k=this.ctx,L=this.processingType3;if(L&&(void 0===L.compiled&&(L.compiled=function D(ve){const{width:M,height:b}=ve;if(M>1e3||b>1e3)return null;const L=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Q=M+1;let U,be,He,ne=new Uint8Array(Q*(b+1));const ke=M+7&-8;let Ue=new Uint8Array(ke*b),Be=0;for(const ct of ve.data){let Rt=128;for(;Rt>0;)Ue[Be++]=ct&Rt?0:255,Rt>>=1}let Ye=0;for(Be=0,0!==Ue[Be]&&(ne[0]=1,++Ye),be=1;be<M;be++)Ue[Be]!==Ue[Be+1]&&(ne[be]=Ue[Be]?2:1,++Ye),Be++;for(0!==Ue[Be]&&(ne[be]=2,++Ye),U=1;U<b;U++){Be=U*ke,He=U*Q,Ue[Be-ke]!==Ue[Be]&&(ne[He]=Ue[Be]?1:8,++Ye);let ct=(Ue[Be]?4:0)+(Ue[Be-ke]?8:0);for(be=1;be<M;be++)ct=(ct>>2)+(Ue[Be+1]?4:0)+(Ue[Be-ke+1]?8:0),L[ct]&&(ne[He+be]=L[ct],++Ye),Be++;if(Ue[Be-ke]!==Ue[Be]&&(ne[He+be]=Ue[Be]?2:4,++Ye),Ye>1e3)return null}for(Be=ke*(b-1),He=U*Q,0!==Ue[Be]&&(ne[He]=8,++Ye),be=1;be<M;be++)Ue[Be]!==Ue[Be+1]&&(ne[He+be]=Ue[Be]?4:8,++Ye),Be++;if(0!==Ue[Be]&&(ne[He+be]=4,++Ye),Ye>1e3)return null;const Qe=new Int32Array([0,Q,-1,0,-Q,0,0,0,1]);let gt,Tt,lt;for(pe.isNodeJS?Tt=[]:gt=new Path2D,U=0;Ye&&U<=b;U++){let ct=U*Q;const Rt=ct+M;for(;ct<Rt&&!ne[ct];)ct++;if(ct===Rt)continue;gt?gt.moveTo(ct%Q,U):lt=[ct%Q,U];const Ot=ct;let At=ne[ct];do{const nt=Qe[At];do{ct+=nt}while(!ne[ct]);const dt=ne[ct];5!==dt&&10!==dt?(At=dt,ne[ct]=0):(At=dt&51*At>>4,ne[ct]&=At>>2|At<<2),gt?gt.lineTo(ct%Q,ct/Q|0):lt.push(ct%Q,ct/Q|0),ne[ct]||--Ye}while(Ot!==ct);gt||Tt.push(lt),--U}return Ue=null,ne=null,function(ct){if(ct.save(),ct.scale(1/M,-1/b),ct.translate(0,-b),gt)ct.fill(gt);else{ct.beginPath();for(const Rt of Tt){ct.moveTo(Rt[0],Rt[1]);for(let Ot=2,At=Rt.length;Ot<At;Ot+=2)ct.lineTo(Rt[Ot],Rt[Ot+1])}ct.fill()}ct.beginPath(),ct.restore()}}(M)),L.compiled))return void L.compiled(k);const Q=this._createMaskCanvas(M),ne=Q.canvas;k.save(),k.setTransform(1,0,0,1,0,0),k.drawImage(ne,Q.offsetX,Q.offsetY),k.restore(),this.compose()}paintImageMaskXObjectRepeat(M,b,k=0,L=0,Q,ne){if(!this.contentVisible)return;M=this.getObject(M.data,M);const U=this.ctx;U.save();const be=U.mozCurrentTransform;U.transform(b,k,L,Q,0,0);const He=this._createMaskCanvas(M);U.setTransform(1,0,0,1,0,0);for(let ke=0,Ue=ne.length;ke<Ue;ke+=2){const Be=s.Util.transform(be,[b,k,L,Q,ne[ke],ne[ke+1]]),[Ye,Qe]=s.Util.applyTransform([0,0],Be);U.drawImage(He.canvas,Ye,Qe)}U.restore(),this.compose()}paintImageMaskXObjectGroup(M){if(!this.contentVisible)return;const b=this.ctx,k=this.current.fillColor,L=this.current.patternFill;for(let Q=0,ne=M.length;Q<ne;Q++){const U=M[Q],be=U.width,He=U.height,ke=this.cachedCanvases.getCanvas("maskCanvas",be,He,!1),Ue=ke.context;Ue.save(),X(Ue,U),Ue.globalCompositeOperation="source-in",Ue.fillStyle=L?k.getPattern(Ue,this,b.mozCurrentTransformInverse,te.PathType.FILL):k,Ue.fillRect(0,0,be,He),Ue.restore(),b.save(),b.transform.apply(b,U.transform),b.scale(1,-1),Z(b,ke.canvas,0,0,be,He,0,-1,1,1),b.restore()}this.compose()}paintImageXObject(M){if(!this.contentVisible)return;const b=this.getObject(M);b?this.paintInlineImageXObject(b):(0,s.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(M,b,k,L){if(!this.contentVisible)return;const Q=this.getObject(M);if(!Q)return void(0,s.warn)("Dependent image isn't ready yet");const ne=Q.width,U=Q.height,be=[];for(let He=0,ke=L.length;He<ke;He+=2)be.push({transform:[b,0,0,k,L[He],L[He+1]],x:0,y:0,w:ne,h:U});this.paintInlineImageXObjectGroup(Q,be)}paintInlineImageXObject(M){if(!this.contentVisible)return;const b=M.width,k=M.height,L=this.ctx;let Q;if(this.save(),L.scale(1/b,-1/k),"function"==typeof HTMLElement&&M instanceof HTMLElement||!M.data)Q=M;else{const He=this.cachedCanvases.getCanvas("inlineImage",b,k,!1);F(He.context,M,this.current.transferMaps),Q=He.canvas}const ne=this._scaleImage(Q,L.mozCurrentTransformInverse);L.imageSmoothingEnabled=me(L.mozCurrentTransform,M.interpolate);const[U,be]=Z(L,ne.img,0,0,ne.paintWidth,ne.paintHeight,0,-k,b,k);if(this.imageLayer){const He=this.getCanvasPosition(0,-k);this.imageLayer.appendImage({imgData:M,left:He[0],top:He[1],width:U,height:be})}this.compose(),this.restore()}paintInlineImageXObjectGroup(M,b){if(!this.contentVisible)return;const k=this.ctx,L=M.width,Q=M.height,ne=this.cachedCanvases.getCanvas("inlineImage",L,Q,!1);F(ne.context,M,this.current.transferMaps);for(let be=0,He=b.length;be<He;be++){const ke=b[be];if(k.save(),k.transform.apply(k,ke.transform),k.scale(1,-1),Z(k,ne.canvas,ke.x,ke.y,ke.w,ke.h,0,-1,1,1),this.imageLayer){const Ue=this.getCanvasPosition(ke.x,ke.y);this.imageLayer.appendImage({imgData:M,left:Ue[0],top:Ue[1],width:L,height:Q})}k.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(M){}markPointProps(M,b){}beginMarkedContent(M){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(M,b){this.markedContentStack.push("OC"===M?{visible:this.optionalContentConfig.isVisible(b)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(M){const b=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(M);const k=this.ctx;this.pendingClip&&(b||(this.pendingClip===Xe?k.clip("evenodd"):k.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),k.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const M=this.ctx.mozCurrentTransform;if(0===M[1]&&0===M[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(M[0]),Math.abs(M[3]));else{const b=Math.abs(M[0]*M[3]-M[2]*M[1]),k=Math.hypot(M[0],M[2]),L=Math.hypot(M[1],M[3]);this._cachedGetSinglePixelWidth=Math.max(k,L)/b}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:M}=this.current,b=this.ctx.mozCurrentTransform;let k,L;if(0===b[1]&&0===b[2]){const Q=Math.abs(b[0]),ne=Math.abs(b[3]);if(0===M)k=1/Q,L=1/ne;else{const U=Q*M,be=ne*M;k=U<1?1/U:1,L=be<1?1/be:1}}else{const Q=Math.abs(b[0]*b[3]-b[2]*b[1]),ne=Math.hypot(b[0],b[1]),U=Math.hypot(b[2],b[3]);if(0===M)k=U/Q,L=ne/Q;else{const be=M*Q;k=U>be?U/be:1,L=ne>be?ne/be:1}}this._cachedScaleForStroking=[k,L]}return this._cachedScaleForStroking}rescaleAndStroke(M){const{ctx:b}=this,{lineWidth:k}=this.current,[L,Q]=this.getScaleForStroking();if(b.lineWidth=k||1,1===L&&1===Q)return void b.stroke();let ne,U,be;M&&(ne=b.mozCurrentTransform.slice(),U=b.getLineDash().slice(),be=b.lineDashOffset),b.scale(L,Q);const He=Math.max(L,Q);b.setLineDash(b.getLineDash().map(ke=>ke/He)),b.lineDashOffset/=He,b.stroke(),M&&(b.setTransform(...ne),b.setLineDash(U),b.lineDashOffset=be)}getCanvasPosition(M,b){const k=this.ctx.mozCurrentTransform;return[k[0]*M+k[2]*b+k[4],k[1]*M+k[3]*b+k[5]]}isContentVisible(){for(let M=this.markedContentStack.length-1;M>=0;M--)if(!this.markedContentStack[M].visible)return!1;return!0}}x.CanvasGraphics=it;for(const ve in s.OPS)void 0!==it.prototype[ve]&&(it.prototype[s.OPS[ve]]=it.prototype[ve])},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TilingPattern=x.PathType=void 0,x.getShadingPattern=function Y(ae){switch(ae[0]){case"RadialAxial":return new re(ae);case"Mesh":return new he(ae);case"Dummy":return new ee}throw new Error(`Unknown IR type: ${ae[0]}`)};var s=R(1),te=R(3);const O={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function pe(ae,q){if(!q||te.isNodeJS)return;const fe=q[2]-q[0],z=q[3]-q[1],Z=new Path2D;Z.rect(q[0],q[1],fe,z),ae.clip(Z)}x.PathType=O;class ie{constructor(){this.constructor===ie&&(0,s.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,s.unreachable)("Abstract method `getPattern` called.")}}class re extends ie{constructor(q){super(),this._type=q[1],this._bbox=q[2],this._colorStops=q[3],this._p0=q[4],this._p1=q[5],this._r0=q[6],this._r1=q[7],this.matrix=null}_createGradient(q){let fe;"axial"===this._type?fe=q.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(fe=q.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const z of this._colorStops)fe.addColorStop(z[0],z[1]);return fe}getPattern(q,fe,z,Z){let D;if(Z===O.STROKE||Z===O.FILL){const A=fe.current.getClippedPathBoundingBox(Z,q.mozCurrentTransform)||[0,0,0,0],F=Math.ceil(A[2]-A[0])||1,X=Math.ceil(A[3]-A[1])||1,N=fe.cachedCanvases.getCanvas("pattern",F,X,!0),J=N.context;J.clearRect(0,0,J.canvas.width,J.canvas.height),J.beginPath(),J.rect(0,0,J.canvas.width,J.canvas.height),J.translate(-A[0],-A[1]),z=s.Util.transform(z,[1,0,0,1,A[0],A[1]]),J.transform.apply(J,fe.baseTransform),this.matrix&&J.transform.apply(J,this.matrix),pe(J,this._bbox),J.fillStyle=this._createGradient(J),J.fill(),D=q.createPattern(N.canvas,"no-repeat");const j=new DOMMatrix(z);try{D.setTransform(j)}catch(S){(0,s.warn)(`RadialAxialShadingPattern.getPattern: "${S?.message}".`)}}else pe(q,this._bbox),D=this._createGradient(q);return D}}function B(ae,q,fe,z,Z,D,A,F){const X=q.coords,N=q.colors,J=ae.data,j=4*ae.width;let S;X[fe+1]>X[z+1]&&(S=fe,fe=z,z=S,S=D,D=A,A=S),X[z+1]>X[Z+1]&&(S=z,z=Z,Z=S,S=A,A=F,F=S),X[fe+1]>X[z+1]&&(S=fe,fe=z,z=S,S=D,D=A,A=S);const oe=(X[fe]+q.offsetX)*q.scaleX,W=(X[fe+1]+q.offsetY)*q.scaleY,le=(X[z]+q.offsetX)*q.scaleX,me=(X[z+1]+q.offsetY)*q.scaleY,ye=(X[Z]+q.offsetX)*q.scaleX,Re=(X[Z+1]+q.offsetY)*q.scaleY;if(W>=Re)return;const Ve=N[D],Xe=N[D+1],it=N[D+2],ve=N[A],M=N[A+1],b=N[A+2],k=N[F],L=N[F+1],Q=N[F+2],ne=Math.round(W),U=Math.round(Re);let be,He,ke,Ue,Be,Ye,Qe,gt;for(let Tt=ne;Tt<=U;Tt++){if(Tt<me){let Ot;Ot=Tt<W?0:(W-Tt)/(W-me),be=oe-(oe-le)*Ot,He=Ve-(Ve-ve)*Ot,ke=Xe-(Xe-M)*Ot,Ue=it-(it-b)*Ot}else{let Ot;Ot=Tt>Re?1:me===Re?0:(me-Tt)/(me-Re),be=le-(le-ye)*Ot,He=ve-(ve-k)*Ot,ke=M-(M-L)*Ot,Ue=b-(b-Q)*Ot}let lt;lt=Tt<W?0:Tt>Re?1:(W-Tt)/(W-Re),Be=oe-(oe-ye)*lt,Ye=Ve-(Ve-k)*lt,Qe=Xe-(Xe-L)*lt,gt=it-(it-Q)*lt;const _t=Math.round(Math.min(be,Be)),ct=Math.round(Math.max(be,Be));let Rt=j*Tt+4*_t;for(let Ot=_t;Ot<=ct;Ot++)lt=(be-Ot)/(be-Be),lt<0?lt=0:lt>1&&(lt=1),J[Rt++]=He-(He-Ye)*lt|0,J[Rt++]=ke-(ke-Qe)*lt|0,J[Rt++]=Ue-(Ue-gt)*lt|0,J[Rt++]=255}}function ce(ae,q,fe){const z=q.coords,Z=q.colors;let D,A;switch(q.type){case"lattice":const F=q.verticesPerRow,X=Math.floor(z.length/F)-1,N=F-1;for(D=0;D<X;D++){let J=D*F;for(let j=0;j<N;j++,J++)B(ae,fe,z[J],z[J+1],z[J+F],Z[J],Z[J+1],Z[J+F]),B(ae,fe,z[J+F+1],z[J+1],z[J+F],Z[J+F+1],Z[J+1],Z[J+F])}break;case"triangles":for(D=0,A=z.length;D<A;D+=3)B(ae,fe,z[D],z[D+1],z[D+2],Z[D],Z[D+1],Z[D+2]);break;default:throw new Error("illegal figure")}}class he extends ie{constructor(q){super(),this._coords=q[2],this._colors=q[3],this._figures=q[4],this._bounds=q[5],this._bbox=q[7],this._background=q[8],this.matrix=null}_createMeshCanvas(q,fe,z){const F=Math.floor(this._bounds[0]),X=Math.floor(this._bounds[1]),N=Math.ceil(this._bounds[2])-F,J=Math.ceil(this._bounds[3])-X,j=Math.min(Math.ceil(Math.abs(N*q[0]*1.1)),3e3),S=Math.min(Math.ceil(Math.abs(J*q[1]*1.1)),3e3),oe=N/j,W=J/S,le={coords:this._coords,colors:this._colors,offsetX:-F,offsetY:-X,scaleX:1/oe,scaleY:1/W},Re=z.getCanvas("mesh",j+4,S+4,!1),Ve=Re.context,Xe=Ve.createImageData(j,S);if(fe){const ve=Xe.data;for(let M=0,b=ve.length;M<b;M+=4)ve[M]=fe[0],ve[M+1]=fe[1],ve[M+2]=fe[2],ve[M+3]=255}for(const ve of this._figures)ce(Xe,ve,le);return Ve.putImageData(Xe,2,2),{canvas:Re.canvas,offsetX:F-2*oe,offsetY:X-2*W,scaleX:oe,scaleY:W}}getPattern(q,fe,z,Z){let D;if(pe(q,this._bbox),Z===O.SHADING)D=s.Util.singularValueDecompose2dScale(q.mozCurrentTransform);else if(D=s.Util.singularValueDecompose2dScale(fe.baseTransform),this.matrix){const F=s.Util.singularValueDecompose2dScale(this.matrix);D=[D[0]*F[0],D[1]*F[1]]}const A=this._createMeshCanvas(D,Z===O.SHADING?null:this._background,fe.cachedCanvases);return Z!==O.SHADING&&(q.setTransform.apply(q,fe.baseTransform),this.matrix&&q.transform.apply(q,this.matrix)),q.translate(A.offsetX,A.offsetY),q.scale(A.scaleX,A.scaleY),q.createPattern(A.canvas,"no-repeat")}}class ee extends ie{getPattern(){return"hotpink"}}class ${static get MAX_PATTERN_SIZE(){return(0,s.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(q,fe,z,Z,D){this.operatorList=q[2],this.matrix=q[3]||[1,0,0,1,0,0],this.bbox=q[4],this.xstep=q[5],this.ystep=q[6],this.paintType=q[7],this.tilingType=q[8],this.color=fe,this.ctx=z,this.canvasGraphicsFactory=Z,this.baseTransform=D}createPatternCanvas(q){const fe=this.operatorList,z=this.bbox,Z=this.xstep,D=this.ystep,A=this.paintType,X=this.color,N=this.canvasGraphicsFactory;(0,s.info)("TilingType: "+this.tilingType);const J=z[0],j=z[1],S=z[2],oe=z[3],W=s.Util.singularValueDecompose2dScale(this.matrix),le=s.Util.singularValueDecompose2dScale(this.baseTransform),me=[W[0]*le[0],W[1]*le[1]],ye=this.getSizeAndScale(Z,this.ctx.canvas.width,me[0]),Re=this.getSizeAndScale(D,this.ctx.canvas.height,me[1]),Ve=q.cachedCanvases.getCanvas("pattern",ye.size,Re.size,!0),Xe=Ve.context,it=N.createCanvasGraphics(Xe);it.groupLevel=q.groupLevel,this.setFillAndStrokeStyleToContext(it,A,X);let ve=J,M=j,b=S,k=oe;return J<0&&(ve=0,b+=Math.abs(J)),j<0&&(M=0,k+=Math.abs(j)),Xe.translate(-ye.scale*ve,-Re.scale*M),it.transform(ye.scale,0,0,Re.scale,0,0),Xe.save(),this.clipBbox(it,ve,M,b,k),it.baseTransform=it.ctx.mozCurrentTransform.slice(),it.executeOperatorList(fe),it.endDrawing(),{canvas:Ve.canvas,scaleX:ye.scale,scaleY:Re.scale,offsetX:ve,offsetY:M}}getSizeAndScale(q,fe,z){q=Math.abs(q);const Z=Math.max($.MAX_PATTERN_SIZE,fe);let D=Math.ceil(q*z);return D>=Z?D=Z:z=D/q,{scale:z,size:D}}clipBbox(q,fe,z,Z,D){q.ctx.rect(fe,z,Z-fe,D-z),q.current.updateRectMinMax(q.ctx.mozCurrentTransform,[fe,z,Z,D]),q.clip(),q.endPath()}setFillAndStrokeStyleToContext(q,fe,z){const Z=q.ctx,D=q.current;switch(fe){case 1:const A=this.ctx;Z.fillStyle=A.fillStyle,Z.strokeStyle=A.strokeStyle,D.fillColor=A.fillStyle,D.strokeColor=A.strokeStyle;break;case 2:const F=s.Util.makeHexColor(z[0],z[1],z[2]);Z.fillStyle=F,Z.strokeStyle=F,D.fillColor=F,D.strokeColor=F;break;default:throw new s.FormatError(`Unsupported paint type: ${fe}`)}}getPattern(q,fe,z,Z){let D=z;Z!==O.SHADING&&(D=s.Util.transform(D,fe.baseTransform),this.matrix&&(D=s.Util.transform(D,this.matrix)));const A=this.createPatternCanvas(fe);let F=new DOMMatrix(D);F=F.translate(A.offsetX,A.offsetY),F=F.scale(1/A.scaleX,1/A.scaleY);const X=q.createPattern(A.canvas,"repeat");try{X.setTransform(F)}catch(N){(0,s.warn)(`TilingPattern.getPattern: "${N?.message}".`)}return X}}x.TilingPattern=$},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.applyMaskImageData=function te({src:O,srcPos:pe=0,dest:ie,destPos:re=0,width:B,height:ce,inverseDecode:he=!1}){const ee=s.FeatureTest.isLittleEndian?4278190080:255,[Y,se]=he?[0,ee]:[ee,0],$=B>>3,ae=7&B,q=O.length;ie=new Uint32Array(ie.buffer);for(let fe=0;fe<ce;fe++){for(const Z=pe+$;pe<Z;pe++){const D=pe<q?O[pe]:255;ie[re++]=128&D?se:Y,ie[re++]=64&D?se:Y,ie[re++]=32&D?se:Y,ie[re++]=16&D?se:Y,ie[re++]=8&D?se:Y,ie[re++]=4&D?se:Y,ie[re++]=2&D?se:Y,ie[re++]=1&D?se:Y}if(0===ae)continue;const z=pe<q?O[pe++]:255;for(let Z=0;Z<ae;Z++)ie[re++]=z&1<<7-Z?se:Y}return{srcPos:pe,destPos:re}};var s=R(1)},(Ie,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.GlobalWorkerOptions=void 0;const R=Object.create(null);x.GlobalWorkerOptions=R,R.workerPort=void 0===R.workerPort?null:R.workerPort,R.workerSrc=void 0===R.workerSrc?"":R.workerSrc},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.MessageHandler=void 0;var s=R(1);function pe(re){switch(re instanceof Error||"object"==typeof re&&null!==re||(0,s.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),re.name){case"AbortException":return new s.AbortException(re.message);case"MissingPDFException":return new s.MissingPDFException(re.message);case"PasswordException":return new s.PasswordException(re.message,re.code);case"UnexpectedResponseException":return new s.UnexpectedResponseException(re.message,re.status);case"UnknownErrorException":return new s.UnknownErrorException(re.message,re.details);default:return new s.UnknownErrorException(re.message,re.toString())}}x.MessageHandler=class ie{constructor(B,ce,he){this.sourceName=B,this.targetName=ce,this.comObj=he,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ee=>{const Y=ee.data;if(Y.targetName!==this.sourceName)return;if(Y.stream)return void this._processStreamMessage(Y);if(Y.callback){const $=Y.callbackId,ae=this.callbackCapabilities[$];if(!ae)throw new Error(`Cannot resolve callback ${$}`);if(delete this.callbackCapabilities[$],1===Y.callback)ae.resolve(Y.data);else{if(2!==Y.callback)throw new Error("Unexpected callback case");ae.reject(pe(Y.reason))}return}const se=this.actionHandler[Y.action];if(!se)throw new Error(`Unknown action from worker: ${Y.action}`);if(Y.callbackId){const $=this.sourceName,ae=Y.sourceName;new Promise(function(q){q(se(Y.data))}).then(function(q){he.postMessage({sourceName:$,targetName:ae,callback:1,callbackId:Y.callbackId,data:q})},function(q){he.postMessage({sourceName:$,targetName:ae,callback:2,callbackId:Y.callbackId,reason:pe(q)})})}else Y.streamId?this._createStreamSink(Y):se(Y.data)},he.addEventListener("message",this._onComObjOnMessage)}on(B,ce){const he=this.actionHandler;if(he[B])throw new Error(`There is already an actionName called "${B}"`);he[B]=ce}send(B,ce,he){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:B,data:ce},he)}sendWithPromise(B,ce,he){const ee=this.callbackId++,Y=(0,s.createPromiseCapability)();this.callbackCapabilities[ee]=Y;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:B,callbackId:ee,data:ce},he)}catch(se){Y.reject(se)}return Y.promise}sendWithStream(B,ce,he,ee){const Y=this.streamId++,se=this.sourceName,$=this.targetName,ae=this.comObj;return new ReadableStream({start:q=>{const fe=(0,s.createPromiseCapability)();return this.streamControllers[Y]={controller:q,startCall:fe,pullCall:null,cancelCall:null,isClosed:!1},ae.postMessage({sourceName:se,targetName:$,action:B,streamId:Y,data:ce,desiredSize:q.desiredSize},ee),fe.promise},pull:q=>{const fe=(0,s.createPromiseCapability)();return this.streamControllers[Y].pullCall=fe,ae.postMessage({sourceName:se,targetName:$,stream:6,streamId:Y,desiredSize:q.desiredSize}),fe.promise},cancel:q=>{(0,s.assert)(q instanceof Error,"cancel must have a valid reason");const fe=(0,s.createPromiseCapability)();return this.streamControllers[Y].cancelCall=fe,this.streamControllers[Y].isClosed=!0,ae.postMessage({sourceName:se,targetName:$,stream:1,streamId:Y,reason:pe(q)}),fe.promise}},he)}_createStreamSink(B){const ce=B.streamId,he=this.sourceName,ee=B.sourceName,Y=this.comObj,se=this,$=this.actionHandler[B.action],ae={enqueue(q,fe=1,z){if(this.isCancelled)return;const Z=this.desiredSize;this.desiredSize-=fe,Z>0&&this.desiredSize<=0&&(this.sinkCapability=(0,s.createPromiseCapability)(),this.ready=this.sinkCapability.promise),Y.postMessage({sourceName:he,targetName:ee,stream:4,streamId:ce,chunk:q},z)},close(){this.isCancelled||(this.isCancelled=!0,Y.postMessage({sourceName:he,targetName:ee,stream:3,streamId:ce}),delete se.streamSinks[ce])},error(q){(0,s.assert)(q instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Y.postMessage({sourceName:he,targetName:ee,stream:5,streamId:ce,reason:pe(q)}))},sinkCapability:(0,s.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:B.desiredSize,ready:null};ae.sinkCapability.resolve(),ae.ready=ae.sinkCapability.promise,this.streamSinks[ce]=ae,new Promise(function(q){q($(B.data,ae))}).then(function(){Y.postMessage({sourceName:he,targetName:ee,stream:8,streamId:ce,success:!0})},function(q){Y.postMessage({sourceName:he,targetName:ee,stream:8,streamId:ce,reason:pe(q)})})}_processStreamMessage(B){const ce=B.streamId,he=this.sourceName,ee=B.sourceName,Y=this.comObj,se=this.streamControllers[ce],$=this.streamSinks[ce];switch(B.stream){case 8:B.success?se.startCall.resolve():se.startCall.reject(pe(B.reason));break;case 7:B.success?se.pullCall.resolve():se.pullCall.reject(pe(B.reason));break;case 6:if(!$){Y.postMessage({sourceName:he,targetName:ee,stream:7,streamId:ce,success:!0});break}$.desiredSize<=0&&B.desiredSize>0&&$.sinkCapability.resolve(),$.desiredSize=B.desiredSize,new Promise(function(ae){ae($.onPull&&$.onPull())}).then(function(){Y.postMessage({sourceName:he,targetName:ee,stream:7,streamId:ce,success:!0})},function(ae){Y.postMessage({sourceName:he,targetName:ee,stream:7,streamId:ce,reason:pe(ae)})});break;case 4:if((0,s.assert)(se,"enqueue should have stream controller"),se.isClosed)break;se.controller.enqueue(B.chunk);break;case 3:if((0,s.assert)(se,"close should have stream controller"),se.isClosed)break;se.isClosed=!0,se.controller.close(),this._deleteStreamController(se,ce);break;case 5:(0,s.assert)(se,"error should have stream controller"),se.controller.error(pe(B.reason)),this._deleteStreamController(se,ce);break;case 2:B.success?se.cancelCall.resolve():se.cancelCall.reject(pe(B.reason)),this._deleteStreamController(se,ce);break;case 1:if(!$)break;new Promise(function(ae){ae($.onCancel&&$.onCancel(pe(B.reason)))}).then(function(){Y.postMessage({sourceName:he,targetName:ee,stream:2,streamId:ce,success:!0})},function(ae){Y.postMessage({sourceName:he,targetName:ee,stream:2,streamId:ce,reason:pe(ae)})}),$.sinkCapability.reject(pe(B.reason)),$.isCancelled=!0,delete this.streamSinks[ce];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(B,ce){var he=this;return _asyncToGenerator(function*(){yield Promise.allSettled([B.startCall&&B.startCall.promise,B.pullCall&&B.pullCall.promise,B.cancelCall&&B.cancelCall.promise]),delete he.streamControllers[ce]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Metadata=void 0;var s=R(1),te=new WeakMap,O=new WeakMap;x.Metadata=class pe{constructor({parsedData:re,rawData:B}){_classPrivateFieldInitSpec(this,te,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:void 0}),_classPrivateFieldSet(this,te,re),_classPrivateFieldSet(this,O,B)}getRaw(){return _classPrivateFieldGet(this,O)}get(re){return _classPrivateFieldGet(this,te).get(re)??null}getAll(){return(0,s.objectFromMap)(_classPrivateFieldGet(this,te))}has(re){return _classPrivateFieldGet(this,te).has(re)}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.OptionalContentConfig=void 0;var s=R(1);class te{constructor(ie,re){this.visible=!0,this.name=ie,this.intent=re}}x.OptionalContentConfig=class O{constructor(ie){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==ie){this.name=ie.name,this.creator=ie.creator,this._order=ie.order;for(const re of ie.groups)this._groups.set(re.id,new te(re.name,re.intent));if("OFF"===ie.baseState)for(const re of this._groups)re.visible=!1;for(const re of ie.on)this._groups.get(re).visible=!0;for(const re of ie.off)this._groups.get(re).visible=!1}}_evaluateVisibilityExpression(ie){const re=ie.length;if(re<2)return!0;const B=ie[0];for(let ce=1;ce<re;ce++){const he=ie[ce];let ee;if(Array.isArray(he))ee=this._evaluateVisibilityExpression(he);else{if(!this._groups.has(he))return(0,s.warn)(`Optional content group not found: ${he}`),!0;ee=this._groups.get(he).visible}switch(B){case"And":if(!ee)return!1;break;case"Or":if(ee)return!0;break;case"Not":return!ee;default:return!0}}return"And"===B}isVisible(ie){if(0===this._groups.size)return!0;if(!ie)return(0,s.warn)("Optional content group not defined."),!0;if("OCG"===ie.type)return this._groups.has(ie.id)?this._groups.get(ie.id).visible:((0,s.warn)(`Optional content group not found: ${ie.id}`),!0);if("OCMD"===ie.type){if(ie.expression)return this._evaluateVisibilityExpression(ie.expression);if(!ie.policy||"AnyOn"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,s.warn)(`Optional content group not found: ${re}`),!0;if(this._groups.get(re).visible)return!0}return!1}if("AllOn"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,s.warn)(`Optional content group not found: ${re}`),!0;if(!this._groups.get(re).visible)return!1}return!0}if("AnyOff"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,s.warn)(`Optional content group not found: ${re}`),!0;if(!this._groups.get(re).visible)return!0}return!1}if("AllOff"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,s.warn)(`Optional content group not found: ${re}`),!0;if(this._groups.get(re).visible)return!1}return!0}return(0,s.warn)(`Unknown optional content policy ${ie.policy}.`),!0}return(0,s.warn)(`Unknown group type ${ie.type}.`),!0}setVisibility(ie,re=!0){this._groups.has(ie)?this._groups.get(ie).visible=!!re:(0,s.warn)(`Optional content group not found: ${ie}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,s.objectFromMap)(this._groups):null}getGroup(ie){return this._groups.get(ie)||null}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFDataTransportStream=void 0;var s=R(1),te=R(5);x.PDFDataTransportStream=class O{constructor(B,ce){(0,s.assert)(ce,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=B.progressiveDone||!1,this._contentDispositionFilename=B.contentDispositionFilename||null;const he=B.initialData;if(he?.length>0){const ee=new Uint8Array(he).buffer;this._queuedChunks.push(ee)}this._pdfDataRangeTransport=ce,this._isStreamingSupported=!B.disableStream,this._isRangeSupported=!B.disableRange,this._contentLength=B.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ee,Y)=>{this._onReceiveData({begin:ee,chunk:Y})}),this._pdfDataRangeTransport.addProgressListener((ee,Y)=>{this._onProgress({loaded:ee,total:Y})}),this._pdfDataRangeTransport.addProgressiveReadListener(ee=>{this._onReceiveData({chunk:ee})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(B){const ce=new Uint8Array(B.chunk).buffer;if(void 0===B.begin)this._fullRequestReader?this._fullRequestReader._enqueue(ce):this._queuedChunks.push(ce);else{const he=this._rangeReaders.some(function(ee){return ee._begin===B.begin&&(ee._enqueue(ce),!0)});(0,s.assert)(he,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(B){if(void 0===B.total){const ce=this._rangeReaders[0];ce?.onProgress&&ce.onProgress({loaded:B.loaded})}else{const ce=this._fullRequestReader;ce?.onProgress&&ce.onProgress({loaded:B.loaded,total:B.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(B){const ce=this._rangeReaders.indexOf(B);ce>=0&&this._rangeReaders.splice(ce,1)}getFullReader(){(0,s.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const B=this._queuedChunks;return this._queuedChunks=null,new pe(this,B,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(B,ce){if(ce<=this._progressiveDataLength)return null;const he=new ie(this,B,ce);return this._pdfDataRangeTransport.requestDataRange(B,ce),this._rangeReaders.push(he),he}cancelAllRequests(B){this._fullRequestReader&&this._fullRequestReader.cancel(B);for(const ce of this._rangeReaders.slice(0))ce.cancel(B);this._pdfDataRangeTransport.abort()}};class pe{constructor(B,ce,he=!1,ee=null){this._stream=B,this._done=he||!1,this._filename=(0,te.isPdfFile)(ee)?ee:null,this._queuedChunks=ce||[],this._loaded=0;for(const Y of this._queuedChunks)this._loaded+=Y.byteLength;this._requests=[],this._headersReady=Promise.resolve(),B._fullRequestReader=this,this.onProgress=null}_enqueue(B){this._done||(this._requests.length>0?this._requests.shift().resolve({value:B,done:!1}):this._queuedChunks.push(B),this._loaded+=B.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var B=this;return _asyncToGenerator(function*(){if(B._queuedChunks.length>0)return{value:B._queuedChunks.shift(),done:!1};if(B._done)return{value:void 0,done:!0};const ce=(0,s.createPromiseCapability)();return B._requests.push(ce),ce.promise})()}cancel(B){this._done=!0;for(const ce of this._requests)ce.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ie{constructor(B,ce,he){this._stream=B,this._begin=ce,this._end=he,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(B){if(!this._done){if(0===this._requests.length)this._queuedChunk=B;else{this._requests.shift().resolve({value:B,done:!1});for(const he of this._requests)he.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var B=this;return _asyncToGenerator(function*(){if(B._queuedChunk){const he=B._queuedChunk;return B._queuedChunk=null,{value:he,done:!1}}if(B._done)return{value:void 0,done:!0};const ce=(0,s.createPromiseCapability)();return B._requests.push(ce),ce.promise})()}cancel(B){this._done=!0;for(const ce of this._requests)ce.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Ie,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XfaText=void 0;class R{static textContent(te){const O=[],pe={items:O,styles:Object.create(null)};return function ie(re){if(!re)return;let B=null;const ce=re.name;if("#text"===ce)B=re.value;else{if(!R.shouldBuildText(ce))return;re?.attributes?.textContent?B=re.attributes.textContent:re.value&&(B=re.value)}if(null!==B&&O.push({str:B}),re.children)for(const he of re.children)ie(he)}(te),pe}static shouldBuildText(te){return!("textarea"===te||"input"===te||"option"===te||"select"===te)}}x.XfaText=R},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.NodeStandardFontDataFactory=x.NodeCanvasFactory=x.NodeCMapReaderFactory=void 0;var s=R(6);const te=function(re){return new Promise((B,ce)=>{__webpack_require__(172).readFile(re,(ee,Y)=>{!ee&&Y?B(new Uint8Array(Y)):ce(new Error(ee))})})};x.NodeCanvasFactory=class O extends s.BaseCanvasFactory{_createCanvas(B,ce){return __webpack_require__(3414).createCanvas(B,ce)}},x.NodeCMapReaderFactory=class pe extends s.BaseCMapReaderFactory{_fetchData(B,ce){return te(B).then(he=>({cMapData:he,compressionType:ce}))}},x.NodeStandardFontDataFactory=class ie extends s.BaseStandardFontDataFactory{_fetchData(B){return te(B)}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.AnnotationLayer=void 0;var s=R(1),te=R(5),O=R(8),pe=R(21),ie=R(22);const B=new WeakSet;function ce(M){return{width:M[2]-M[0],height:M[3]-M[1]}}class he{static create(b){switch(b.data.annotationType){case s.AnnotationType.LINK:return new Y(b);case s.AnnotationType.TEXT:return new se(b);case s.AnnotationType.WIDGET:switch(b.data.fieldType){case"Tx":return new ae(b);case"Btn":return b.data.radioButton?new fe(b):b.data.checkBox?new q(b):new z(b);case"Ch":return new Z(b)}return new $(b);case s.AnnotationType.POPUP:return new D(b);case s.AnnotationType.FREETEXT:return new F(b);case s.AnnotationType.LINE:return new X(b);case s.AnnotationType.SQUARE:return new N(b);case s.AnnotationType.CIRCLE:return new J(b);case s.AnnotationType.POLYLINE:return new j(b);case s.AnnotationType.CARET:return new oe(b);case s.AnnotationType.INK:return new W(b);case s.AnnotationType.POLYGON:return new S(b);case s.AnnotationType.HIGHLIGHT:return new le(b);case s.AnnotationType.UNDERLINE:return new me(b);case s.AnnotationType.SQUIGGLY:return new ye(b);case s.AnnotationType.STRIKEOUT:return new Re(b);case s.AnnotationType.STAMP:return new Ve(b);case s.AnnotationType.FILEATTACHMENT:return new Xe(b);default:return new ee(b)}}}class ee{constructor(b,{isRenderable:k=!1,ignoreBorder:L=!1,createQuadrilaterals:Q=!1}={}){this.isRenderable=k,this.data=b.data,this.layer=b.layer,this.page=b.page,this.viewport=b.viewport,this.linkService=b.linkService,this.downloadManager=b.downloadManager,this.imageResourcesPath=b.imageResourcesPath,this.renderForms=b.renderForms,this.svgFactory=b.svgFactory,this.annotationStorage=b.annotationStorage,this.enableScripting=b.enableScripting,this.hasJSActions=b.hasJSActions,this._fieldObjects=b.fieldObjects,this._mouseState=b.mouseState,k&&(this.container=this._createContainer(L)),Q&&(this.quadrilaterals=this._createQuadrilaterals(L))}_createContainer(b=!1){const k=this.data,L=this.page,Q=this.viewport,ne=document.createElement("section");let{width:U,height:be}=ce(k.rect);ne.setAttribute("data-annotation-id",k.id);const He=s.Util.normalizeRect([k.rect[0],L.view[3]-k.rect[1]+L.view[1],k.rect[2],L.view[3]-k.rect[3]+L.view[1]]);if(k.hasOwnCanvas){const ke=Q.transform.slice(),[Ue,Be]=s.Util.singularValueDecompose2dScale(ke);U=Math.ceil(U*Ue),be=Math.ceil(be*Be),He[0]*=Ue,He[1]*=Be;for(let Ye=0;Ye<4;Ye++)ke[Ye]=Math.sign(ke[Ye]);ne.style.transform=`matrix(${ke.join(",")})`}else ne.style.transform=`matrix(${Q.transform.join(",")})`;if(ne.style.transformOrigin=`${-He[0]}px ${-He[1]}px`,!b&&k.borderStyle.width>0){ne.style.borderWidth=`${k.borderStyle.width}px`,k.borderStyle.style!==s.AnnotationBorderStyleType.UNDERLINE&&(U-=2*k.borderStyle.width,be-=2*k.borderStyle.width);const ke=k.borderStyle.horizontalCornerRadius,Ue=k.borderStyle.verticalCornerRadius;switch((ke>0||Ue>0)&&(ne.style.borderRadius=`${ke}px / ${Ue}px`),k.borderStyle.style){case s.AnnotationBorderStyleType.SOLID:ne.style.borderStyle="solid";break;case s.AnnotationBorderStyleType.DASHED:ne.style.borderStyle="dashed";break;case s.AnnotationBorderStyleType.BEVELED:(0,s.warn)("Unimplemented border style: beveled");break;case s.AnnotationBorderStyleType.INSET:(0,s.warn)("Unimplemented border style: inset");break;case s.AnnotationBorderStyleType.UNDERLINE:ne.style.borderBottomStyle="solid"}k.borderColor||k.color?ne.style.borderColor=s.Util.makeHexColor(0|k.color[0],0|k.color[1],0|k.color[2]):ne.style.borderWidth=0}return ne.style.left=`${He[0]}px`,ne.style.top=`${He[1]}px`,k.hasOwnCanvas?ne.style.width=ne.style.height="auto":(ne.style.width=`${U}px`,ne.style.height=`${be}px`),ne}get _commonActions(){const b=(k,L,Q)=>{const ne=Q.detail[k];Q.target.style[L]=pe.ColorConverters[`${ne[0]}_HTML`](ne.slice(1))};return(0,s.shadow)(this,"_commonActions",{display:k=>{const L=k.detail.display%2==1;k.target.style.visibility=L?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:L,print:0===k.detail.display||3===k.detail.display})},print:k=>{this.annotationStorage.setValue(this.data.id,{print:k.detail.print})},hidden:k=>{k.target.style.visibility=k.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:k.detail.hidden})},focus:k=>{setTimeout(()=>k.target.focus({preventScroll:!1}),0)},userName:k=>{k.target.title=k.detail.userName},readonly:k=>{k.detail.readonly?k.target.setAttribute("readonly",""):k.target.removeAttribute("readonly")},required:k=>{k.detail.required?k.target.setAttribute("required",""):k.target.removeAttribute("required")},bgColor:k=>{b("bgColor","backgroundColor",k)},fillColor:k=>{b("fillColor","backgroundColor",k)},fgColor:k=>{b("fgColor","color",k)},textColor:k=>{b("textColor","color",k)},borderColor:k=>{b("borderColor","borderColor",k)},strokeColor:k=>{b("strokeColor","borderColor",k)}})}_dispatchEventFromSandbox(b,k){const L=this._commonActions;for(const Q of Object.keys(k.detail)){const ne=b[Q]||L[Q];ne&&ne(k)}}_setDefaultPropertiesFromJS(b){if(!this.enableScripting)return;const k=this.annotationStorage.getRawValue(this.data.id);if(!k)return;const L=this._commonActions;for(const[Q,ne]of Object.entries(k)){const U=L[Q];U&&(U({detail:ne,target:b}),delete k[Q])}}_createQuadrilaterals(b=!1){if(!this.data.quadPoints)return null;const k=[],L=this.data.rect;for(const Q of this.data.quadPoints)this.data.rect=[Q[2].x,Q[2].y,Q[1].x,Q[1].y],k.push(this._createContainer(b));return this.data.rect=L,k}_createPopup(b,k){let L=this.container;this.quadrilaterals&&(b=b||this.quadrilaterals,L=this.quadrilaterals[0]),b||((b=document.createElement("div")).style.height=L.style.height,b.style.width=L.style.width,L.appendChild(b));const ne=new A({container:L,trigger:b,color:k.color,titleObj:k.titleObj,modificationDate:k.modificationDate,contentsObj:k.contentsObj,richText:k.richText,hideWrapper:!0}).render();ne.style.left=L.style.width,L.appendChild(ne)}_renderQuadrilaterals(b){for(const k of this.quadrilaterals)k.className=b;return this.quadrilaterals}render(){(0,s.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(b,k=null){const L=[];if(this._fieldObjects){const Q=this._fieldObjects[b];if(Q)for(const{page:ne,id:U,exportValues:be}of Q){if(-1===ne||U===k)continue;const He="string"==typeof be?be:null,ke=document.getElementById(U);!ke||B.has(ke)?L.push({id:U,exportValue:He,domElement:ke}):(0,s.warn)(`_getElementsByName - element not allowed: ${U}`)}return L}for(const Q of document.getElementsByName(b)){const{id:ne,exportValue:U}=Q;ne!==k&&(!B.has(Q)||L.push({id:ne,exportValue:U,domElement:Q}))}return L}static get platform(){const b=typeof navigator<"u"?navigator.platform:"";return(0,s.shadow)(this,"platform",{isWin:b.includes("Win"),isMac:b.includes("Mac")})}}class Y extends ee{constructor(b,k=null){super(b,{isRenderable:!!(b.data.url||b.data.dest||b.data.action||b.data.isTooltipOnly||b.data.resetForm||b.data.actions&&(b.data.actions.Action||b.data.actions["Mouse Up"]||b.data.actions["Mouse Down"])),ignoreBorder:!!k?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:b,linkService:k}=this,L=document.createElement("a");if(b.url)k.addLinkAttributes(L,b.url,b.newWindow);else if(b.action)this._bindNamedAction(L,b.action);else if(b.dest)this._bindLink(L,b.dest);else{let Q=!1;b.actions&&(b.actions.Action||b.actions["Mouse Up"]||b.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(Q=!0,this._bindJSAction(L,b)),b.resetForm?this._bindResetFormAction(L,b.resetForm):Q||this._bindLink(L,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Q,ne)=>{const U=0===ne?L:L.cloneNode();return Q.appendChild(U),Q}):(this.container.className="linkAnnotation",this.container.appendChild(L),this.container)}_bindLink(b,k){b.href=this.linkService.getDestinationHash(k),b.onclick=()=>(k&&this.linkService.goToDestination(k),!1),(k||""===k)&&(b.className="internalLink")}_bindNamedAction(b,k){b.href=this.linkService.getAnchorUrl(""),b.onclick=()=>(this.linkService.executeNamedAction(k),!1),b.className="internalLink"}_bindJSAction(b,k){b.href=this.linkService.getAnchorUrl("");const L=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Q of Object.keys(k.actions)){const ne=L.get(Q);!ne||(b[ne]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k.id,name:Q}}),!1))}b.onclick||(b.onclick=()=>!1),b.className="internalLink"}_bindResetFormAction(b,k){const L=b.onclick;if(L||(b.href=this.linkService.getAnchorUrl("")),b.className="internalLink",!this._fieldObjects)return(0,s.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(L||(b.onclick=()=>!1));b.onclick=()=>{L&&L();const{fields:Q,refs:ne,include:U}=k,be=[];if(0!==Q.length||0!==ne.length){const Ue=new Set(ne);for(const Be of Q){const Ye=this._fieldObjects[Be]||[];for(const{id:Qe}of Ye)Ue.add(Qe)}for(const Be of Object.values(this._fieldObjects))for(const Ye of Be)Ue.has(Ye.id)===U&&be.push(Ye)}else for(const Ue of Object.values(this._fieldObjects))be.push(...Ue);const He=this.annotationStorage,ke=[];for(const Ue of be){const{id:Be}=Ue;switch(ke.push(Be),Ue.type){case"text":case"combobox":case"listbox":He.setValue(Be,{value:Ue.defaultValue||""});break;case"checkbox":case"radiobutton":He.setValue(Be,{value:Ue.defaultValue===Ue.exportValues});break;default:continue}const Ye=document.getElementById(Be);!Ye||!B.has(Ye)||Ye.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:ke,name:"ResetForm"}}),!1}}}class se extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str)})}render(){this.container.className="textAnnotation";const b=document.createElement("img");return b.style.height=this.container.style.height,b.style.width=this.container.style.width,b.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",b.alt="[{{type}} Annotation]",b.dataset.l10nId="text_annotation_type",b.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(b,this.data),this.container.appendChild(b),this.container}}class $ extends ee{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(b){const{isWin:k,isMac:L}=ee.platform;return k&&b.ctrlKey||L&&b.metaKey}_setEventListener(b,k,L,Q){k.includes("mouse")?b.addEventListener(k,ne=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:Q(ne),shift:ne.shiftKey,modifier:this._getKeyModifier(ne)}})}):b.addEventListener(k,ne=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:Q(ne)}})})}_setEventListeners(b,k,L){for(const[Q,ne]of k)("Action"===ne||this.data.actions?.[ne])&&this._setEventListener(b,Q,ne,L)}_setBackgroundColor(b){const k=this.data.backgroundColor||null;b.style.backgroundColor=null===k?"transparent":s.Util.makeHexColor(k[0],k[1],k[2])}}class ae extends ${constructor(b){super(b,{isRenderable:b.renderForms||!b.data.hasAppearance&&!!b.data.fieldValue})}setPropertyOnSiblings(b,k,L,Q){const ne=this.annotationStorage;for(const U of this._getElementsByName(b.name,b.id))U.domElement&&(U.domElement[k]=L),ne.setValue(U.id,{[Q]:L})}render(){const b=this.annotationStorage,k=this.data.id;this.container.className="textWidgetAnnotation";let L=null;if(this.renderForms){const Q=b.getValue(k,{value:this.data.fieldValue}),ne=Q.formattedValue||Q.value||"",U={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(L=document.createElement("textarea"),L.textContent=ne):(L=document.createElement("input"),L.type="text",L.setAttribute("value",ne)),B.add(L),L.disabled=this.data.readOnly,L.name=this.data.fieldName,L.tabIndex=1e3,U.userValue=ne,L.setAttribute("id",k),L.addEventListener("input",He=>{b.setValue(k,{value:He.target.value}),this.setPropertyOnSiblings(L,"value",He.target.value,"value")}),L.addEventListener("resetform",He=>{L.value=U.userValue=this.data.defaultFieldValue??"",U.formattedValue=null});let be=He=>{const{formattedValue:ke}=U;null!=ke&&(He.target.value=ke),He.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){L.addEventListener("focus",ke=>{U.userValue&&(ke.target.value=U.userValue),U.valueOnFocus=ke.target.value}),L.addEventListener("updatefromsandbox",ke=>{this._dispatchEventFromSandbox({value(Be){U.userValue=Be.detail.value??"",b.setValue(k,{value:U.userValue.toString()}),Be.target.value=U.userValue},formattedValue(Be){const{formattedValue:Ye}=Be.detail;U.formattedValue=Ye,null!=Ye&&Be.target!==document.activeElement&&(Be.target.value=Ye),b.setValue(k,{formattedValue:Ye})},selRange(Be){Be.target.setSelectionRange(...Be.detail.selRange)}},ke)}),L.addEventListener("keydown",ke=>{let Ue=-1;if("Escape"===ke.key?Ue=0:"Enter"===ke.key?Ue=2:"Tab"===ke.key&&(Ue=3),-1===Ue)return;const{value:Be}=ke.target;U.valueOnFocus!==Be&&(U.userValue=Be,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k,name:"Keystroke",value:Be,willCommit:!0,commitKey:Ue,selStart:ke.target.selectionStart,selEnd:ke.target.selectionEnd}}))});const He=be;be=null,L.addEventListener("blur",ke=>{const{value:Ue}=ke.target;U.userValue=Ue,this._mouseState.isDown&&U.valueOnFocus!==Ue&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k,name:"Keystroke",value:Ue,willCommit:!0,commitKey:1,selStart:ke.target.selectionStart,selEnd:ke.target.selectionEnd}}),He(ke)}),this.data.actions?.Keystroke&&L.addEventListener("beforeinput",ke=>{const{data:Ue,target:Be}=ke,{value:Ye,selectionStart:Qe,selectionEnd:gt}=Be;let Tt=Qe,lt=gt;switch(ke.inputType){case"deleteWordBackward":{const _t=Ye.substring(0,Qe).match(/\w*[^\w]*$/);_t&&(Tt-=_t[0].length);break}case"deleteWordForward":{const _t=Ye.substring(Qe).match(/^[^\w]*\w*/);_t&&(lt+=_t[0].length);break}case"deleteContentBackward":Qe===gt&&(Tt-=1);break;case"deleteContentForward":Qe===gt&&(lt+=1)}ke.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k,name:"Keystroke",value:Ye,change:Ue||"",willCommit:!1,selStart:Tt,selEnd:lt}})}),this._setEventListeners(L,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],ke=>ke.target.value)}if(be&&L.addEventListener("blur",be),null!==this.data.maxLen&&(L.maxLength=this.data.maxLen),this.data.comb){const ke=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;L.classList.add("comb"),L.style.letterSpacing=`calc(${ke}px - 1ch)`}}else L=document.createElement("div"),L.textContent=this.data.fieldValue,L.style.verticalAlign="middle",L.style.display="table-cell";return this._setTextStyle(L),this._setBackgroundColor(L),this._setDefaultPropertiesFromJS(L),this.container.appendChild(L),this.container}_setTextStyle(b){const{fontSize:L,fontColor:Q}=this.data.defaultAppearanceData,ne=b.style;L&&(ne.fontSize=`${L}px`),ne.color=s.Util.makeHexColor(Q[0],Q[1],Q[2]),null!==this.data.textAlignment&&(ne.textAlign=["left","center","right"][this.data.textAlignment])}}class q extends ${constructor(b){super(b,{isRenderable:b.renderForms})}render(){const b=this.annotationStorage,k=this.data,L=k.id;let Q=b.getValue(L,{value:k.exportValue===k.fieldValue}).value;"string"==typeof Q&&(Q="Off"!==Q,b.setValue(L,{value:Q})),this.container.className="buttonWidgetAnnotation checkBox";const ne=document.createElement("input");return B.add(ne),ne.disabled=k.readOnly,ne.type="checkbox",ne.name=k.fieldName,Q&&ne.setAttribute("checked",!0),ne.setAttribute("id",L),ne.setAttribute("exportValue",k.exportValue),ne.tabIndex=1e3,ne.addEventListener("change",U=>{const{name:be,checked:He}=U.target;for(const ke of this._getElementsByName(be,L)){const Ue=He&&ke.exportValue===k.exportValue;ke.domElement&&(ke.domElement.checked=Ue),b.setValue(ke.id,{value:Ue})}b.setValue(L,{value:He})}),ne.addEventListener("resetform",U=>{U.target.checked=(k.defaultFieldValue||"Off")===k.exportValue}),this.enableScripting&&this.hasJSActions&&(ne.addEventListener("updatefromsandbox",U=>{this._dispatchEventFromSandbox({value(He){He.target.checked="Off"!==He.detail.value,b.setValue(L,{value:He.target.checked})}},U)}),this._setEventListeners(ne,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],U=>U.target.checked)),this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.appendChild(ne),this.container}}class fe extends ${constructor(b){super(b,{isRenderable:b.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const b=this.annotationStorage,k=this.data,L=k.id;let Q=b.getValue(L,{value:k.fieldValue===k.buttonValue}).value;"string"==typeof Q&&(Q=Q!==k.buttonValue,b.setValue(L,{value:Q}));const ne=document.createElement("input");if(B.add(ne),ne.disabled=k.readOnly,ne.type="radio",ne.name=k.fieldName,Q&&ne.setAttribute("checked",!0),ne.setAttribute("id",L),ne.tabIndex=1e3,ne.addEventListener("change",U=>{const{name:be,checked:He}=U.target;for(const ke of this._getElementsByName(be,L))b.setValue(ke.id,{value:!1});b.setValue(L,{value:He})}),ne.addEventListener("resetform",U=>{const be=k.defaultFieldValue;U.target.checked=null!=be&&be===k.buttonValue}),this.enableScripting&&this.hasJSActions){const U=k.buttonValue;ne.addEventListener("updatefromsandbox",be=>{this._dispatchEventFromSandbox({value:ke=>{const Ue=U===ke.detail.value;for(const Be of this._getElementsByName(ke.target.name)){const Ye=Ue&&Be.id===L;Be.domElement&&(Be.domElement.checked=Ye),b.setValue(Be.id,{value:Ye})}}},be)}),this._setEventListeners(ne,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],be=>be.target.checked)}return this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.appendChild(ne),this.container}}class z extends Y{constructor(b){super(b,{ignoreBorder:b.data.hasAppearance})}render(){const b=super.render();return b.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(b.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(b),b}}class Z extends ${constructor(b){super(b,{isRenderable:b.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const b=this.annotationStorage,k=this.data.id,L=b.getValue(k,{value:this.data.fieldValue});let{fontSize:Q}=this.data.defaultAppearanceData;Q||(Q=9);const ne=`calc(${Q}px * var(--zoom-factor))`,U=document.createElement("select");B.add(U),U.disabled=this.data.readOnly,U.name=this.data.fieldName,U.setAttribute("id",k),U.tabIndex=1e3,U.style.fontSize=`${Q}px`,this.data.combo||(U.size=this.data.options.length,this.data.multiSelect&&(U.multiple=!0)),U.addEventListener("resetform",ke=>{const Ue=this.data.defaultFieldValue;for(const Be of U.options)Be.selected=Be.value===Ue});for(const ke of this.data.options){const Ue=document.createElement("option");Ue.textContent=ke.displayValue,Ue.value=ke.exportValue,this.data.combo&&(Ue.style.fontSize=ne),L.value.includes(ke.exportValue)&&Ue.setAttribute("selected",!0),U.appendChild(Ue)}const be=(ke,Ue)=>{const Be=Ue?"value":"textContent",Ye=ke.target.options;return ke.target.multiple?Array.prototype.filter.call(Ye,Qe=>Qe.selected).map(Qe=>Qe[Be]):-1===Ye.selectedIndex?null:Ye[Ye.selectedIndex][Be]},He=ke=>Array.prototype.map.call(ke.target.options,Be=>({displayValue:Be.textContent,exportValue:Be.value}));return this.enableScripting&&this.hasJSActions?(U.addEventListener("updatefromsandbox",ke=>{this._dispatchEventFromSandbox({value(Be){const Ye=Be.detail.value,Qe=new Set(Array.isArray(Ye)?Ye:[Ye]);for(const gt of U.options)gt.selected=Qe.has(gt.value);b.setValue(k,{value:be(Be,!0)})},multipleSelection(Be){U.multiple=!0},remove(Be){const Ye=U.options,Qe=Be.detail.remove;Ye[Qe].selected=!1,U.remove(Qe),Ye.length>0&&-1===Array.prototype.findIndex.call(Ye,Tt=>Tt.selected)&&(Ye[0].selected=!0),b.setValue(k,{value:be(Be,!0),items:He(Be)})},clear(Be){for(;0!==U.length;)U.remove(0);b.setValue(k,{value:null,items:[]})},insert(Be){const{index:Ye,displayValue:Qe,exportValue:gt}=Be.detail.insert,Tt=document.createElement("option");Tt.textContent=Qe,Tt.value=gt,U.insertBefore(Tt,U.children[Ye]),b.setValue(k,{value:be(Be,!0),items:He(Be)})},items(Be){const{items:Ye}=Be.detail;for(;0!==U.length;)U.remove(0);for(const Qe of Ye){const{displayValue:gt,exportValue:Tt}=Qe,lt=document.createElement("option");lt.textContent=gt,lt.value=Tt,U.appendChild(lt)}U.options.length>0&&(U.options[0].selected=!0),b.setValue(k,{value:be(Be,!0),items:He(Be)})},indices(Be){const Ye=new Set(Be.detail.indices);for(const Qe of Be.target.options)Qe.selected=Ye.has(Qe.index);b.setValue(k,{value:be(Be,!0)})},editable(Be){Be.target.disabled=!Be.detail.editable}},ke)}),U.addEventListener("input",ke=>{const Ue=be(ke,!0),Be=be(ke,!1);b.setValue(k,{value:Ue}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:k,name:"Keystroke",value:Be,changeEx:Ue,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(U,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],ke=>ke.target.checked)):U.addEventListener("input",function(ke){b.setValue(k,{value:be(ke,!0)})}),this._setBackgroundColor(U),this._setDefaultPropertiesFromJS(U),this.container.appendChild(U),this.container}}class D extends ee{constructor(b){super(b,{isRenderable:!!(b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const L=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===L.length)return this.container;const Q=new A({container:this.container,trigger:Array.from(L),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ne=this.page,U=s.Util.normalizeRect([this.data.parentRect[0],ne.view[3]-this.data.parentRect[1]+ne.view[1],this.data.parentRect[2],ne.view[3]-this.data.parentRect[3]+ne.view[1]]),be=U[0]+this.data.parentRect[2]-this.data.parentRect[0],He=U[1];return this.container.style.transformOrigin=`${-be}px ${-He}px`,this.container.style.left=`${be}px`,this.container.style.top=`${He}px`,this.container.appendChild(Q.render()),this.container}}class A{constructor(b){this.container=b.container,this.trigger=b.trigger,this.color=b.color,this.titleObj=b.titleObj,this.modificationDate=b.modificationDate,this.contentsObj=b.contentsObj,this.richText=b.richText,this.hideWrapper=b.hideWrapper||!1,this.pinned=!1}render(){const k=document.createElement("div");k.className="popupWrapper",this.hideElement=this.hideWrapper?k:this.container,this.hideElement.hidden=!0;const L=document.createElement("div");L.className="popup";const Q=this.color;Q&&(L.style.backgroundColor=s.Util.makeHexColor(0|.7*(255-Q[0])+Q[0],0|.7*(255-Q[1])+Q[1],0|.7*(255-Q[2])+Q[2]));const ne=document.createElement("h1");ne.dir=this.titleObj.dir,ne.textContent=this.titleObj.str,L.appendChild(ne);const U=te.PDFDateString.toDateObject(this.modificationDate);if(U){const be=document.createElement("span");be.className="popupDate",be.textContent="{{date}}, {{time}}",be.dataset.l10nId="annotation_date_string",be.dataset.l10nArgs=JSON.stringify({date:U.toLocaleDateString(),time:U.toLocaleTimeString()}),L.appendChild(be)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const be=this._formatContents(this.contentsObj);L.appendChild(be)}else ie.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:L}),L.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const be of this.trigger)be.addEventListener("click",this._toggle.bind(this)),be.addEventListener("mouseover",this._show.bind(this,!1)),be.addEventListener("mouseout",this._hide.bind(this,!1));return L.addEventListener("click",this._hide.bind(this,!0)),k.appendChild(L),k}_formatContents({str:b,dir:k}){const L=document.createElement("p");L.className="popupContent",L.dir=k;const Q=b.split(/(?:\r\n?|\n)/);for(let ne=0,U=Q.length;ne<U;++ne)L.appendChild(document.createTextNode(Q[ne])),ne<U-1&&L.appendChild(document.createElement("br"));return L}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(b=!1){b&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(b=!0){b&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class F extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class X extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const b=this.data,{width:k,height:L}=ce(b.rect),Q=this.svgFactory.create(k,L),ne=this.svgFactory.createElement("svg:line");return ne.setAttribute("x1",b.rect[2]-b.lineCoordinates[0]),ne.setAttribute("y1",b.rect[3]-b.lineCoordinates[1]),ne.setAttribute("x2",b.rect[2]-b.lineCoordinates[2]),ne.setAttribute("y2",b.rect[3]-b.lineCoordinates[3]),ne.setAttribute("stroke-width",b.borderStyle.width||1),ne.setAttribute("stroke","transparent"),ne.setAttribute("fill","transparent"),Q.appendChild(ne),this.container.append(Q),this._createPopup(ne,b),this.container}}class N extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const b=this.data,{width:k,height:L}=ce(b.rect),Q=this.svgFactory.create(k,L),ne=b.borderStyle.width,U=this.svgFactory.createElement("svg:rect");return U.setAttribute("x",ne/2),U.setAttribute("y",ne/2),U.setAttribute("width",k-ne),U.setAttribute("height",L-ne),U.setAttribute("stroke-width",ne||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),Q.appendChild(U),this.container.append(Q),this._createPopup(U,b),this.container}}class J extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const b=this.data,{width:k,height:L}=ce(b.rect),Q=this.svgFactory.create(k,L),ne=b.borderStyle.width,U=this.svgFactory.createElement("svg:ellipse");return U.setAttribute("cx",k/2),U.setAttribute("cy",L/2),U.setAttribute("rx",k/2-ne/2),U.setAttribute("ry",L/2-ne/2),U.setAttribute("stroke-width",ne||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),Q.appendChild(U),this.container.append(Q),this._createPopup(U,b),this.container}}class j extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const b=this.data,{width:k,height:L}=ce(b.rect),Q=this.svgFactory.create(k,L);let ne=[];for(const be of b.vertices)ne.push(be.x-b.rect[0]+","+(b.rect[3]-be.y));ne=ne.join(" ");const U=this.svgFactory.createElement(this.svgElementName);return U.setAttribute("points",ne),U.setAttribute("stroke-width",b.borderStyle.width||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),Q.appendChild(U),this.container.append(Q),this._createPopup(U,b),this.container}}class S extends j{constructor(b){super(b),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class oe extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class W extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const b=this.data,{width:k,height:L}=ce(b.rect),Q=this.svgFactory.create(k,L);for(const ne of b.inkLists){let U=[];for(const He of ne)U.push(`${He.x-b.rect[0]},${b.rect[3]-He.y}`);U=U.join(" ");const be=this.svgFactory.createElement(this.svgElementName);be.setAttribute("points",U),be.setAttribute("stroke-width",b.borderStyle.width||1),be.setAttribute("stroke","transparent"),be.setAttribute("fill","transparent"),this._createPopup(be,b),Q.appendChild(be)}return this.container.append(Q),this.container}}class le extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class me extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ye extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Re extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Ve extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Xe extends ee{constructor(b){super(b,{isRenderable:!0});const{filename:k,content:L}=this.data.file;this.filename=(0,te.getFilenameFromUrl)(k),this.content=L,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:k,content:L})}render(){this.container.className="fileAttachmentAnnotation";const b=document.createElement("div");return b.style.height=this.container.style.height,b.style.width=this.container.style.width,b.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(b,this.data),this.container.appendChild(b),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class it{static render(b){const k=[],L=[];for(const ne of b.annotations){if(!ne)continue;const{width:U,height:be}=ce(ne.rect);if(!(U<=0||be<=0)){if(ne.annotationType===s.AnnotationType.POPUP){L.push(ne);continue}k.push(ne)}}L.length&&k.push(...L);const Q=b.div;for(const ne of k){const U=he.create({data:ne,layer:Q,page:b.page,viewport:b.viewport,linkService:b.linkService,downloadManager:b.downloadManager,imageResourcesPath:b.imageResourcesPath||"",renderForms:!1!==b.renderForms,svgFactory:new te.DOMSVGFactory,annotationStorage:b.annotationStorage||new O.AnnotationStorage,enableScripting:b.enableScripting,hasJSActions:b.hasJSActions,fieldObjects:b.fieldObjects,mouseState:b.mouseState||{isDown:!1}});if(U.isRenderable){const be=U.render();if(ne.hidden&&(be.style.visibility="hidden"),Array.isArray(be))for(const He of be)Q.appendChild(He);else U instanceof D?Q.prepend(be):Q.appendChild(be)}}_classStaticPrivateMethodGet(this,it,ve).call(this,Q,b.annotationCanvasMap)}static update(b){const{page:k,viewport:L,annotations:Q,annotationCanvasMap:ne,div:U}=b,be=L.transform,He=`matrix(${be.join(",")})`;let ke,Ue;for(const Be of Q){const Ye=U.querySelectorAll(`[data-annotation-id="${Be.id}"]`);if(Ye)for(const Qe of Ye)if(Be.hasOwnCanvas){const gt=s.Util.normalizeRect([Be.rect[0],k.view[3]-Be.rect[1]+k.view[1],Be.rect[2],k.view[3]-Be.rect[3]+k.view[1]]);if(!Ue){ke=Math.abs(be[0]||be[1]);const _t=be.slice();for(let ct=0;ct<4;ct++)_t[ct]=Math.sign(_t[ct]);Ue=`matrix(${_t.join(",")})`}const Tt=gt[0]*ke,lt=gt[1]*ke;Qe.style.left=`${Tt}px`,Qe.style.top=`${lt}px`,Qe.style.transformOrigin=`${-Tt}px ${-lt}px`,Qe.style.transform=Ue}else Qe.style.transform=He}_classStaticPrivateMethodGet(this,it,ve).call(this,U,ne),U.hidden=!1}}function ve(M,b){if(b){for(const[k,L]of b){const Q=M.querySelector(`[data-annotation-id="${k}"]`);if(!Q)continue;const{firstChild:ne}=Q;"CANVAS"===ne.nodeName?Q.replaceChild(L,ne):Q.insertBefore(L,ne)}b.clear()}}x.AnnotationLayer=it},(Ie,x)=>{function R(te){return Math.floor(255*Math.max(0,Math.min(1,te))).toString(16).padStart(2,"0")}Object.defineProperty(x,"__esModule",{value:!0}),x.ColorConverters=void 0,x.ColorConverters=class s{static CMYK_G([O,pe,ie,re]){return["G",1-Math.min(1,.3*O+.59*ie+.11*pe+re)]}static G_CMYK([O]){return["CMYK",0,0,0,1-O]}static G_RGB([O]){return["RGB",O,O,O]}static G_HTML([O]){const pe=R(O);return`#${pe}${pe}${pe}`}static RGB_G([O,pe,ie]){return["G",.3*O+.59*pe+.11*ie]}static RGB_HTML([O,pe,ie]){return`#${R(O)}${R(pe)}${R(ie)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([O,pe,ie,re]){return["RGB",1-Math.min(1,O+re),1-Math.min(1,ie+re),1-Math.min(1,pe+re)]}static CMYK_HTML(O){return this.RGB_HTML(this.CMYK_RGB(O))}static RGB_CMYK([O,pe,ie]){const re=1-O,B=1-pe,ce=1-ie;return["CMYK",re,B,ce,Math.min(re,B,ce)]}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XfaLayer=void 0;var s=R(18);x.XfaLayer=class te{static setupStorage(pe,ie,re,B,ce){const he=B.getValue(ie,{value:null});switch(re.name){case"textarea":if(null!==he.value&&(pe.textContent=he.value),"print"===ce)break;pe.addEventListener("input",ee=>{B.setValue(ie,{value:ee.target.value})});break;case"input":if("radio"===re.attributes.type||"checkbox"===re.attributes.type){if(he.value===re.attributes.xfaOn?pe.setAttribute("checked",!0):he.value===re.attributes.xfaOff&&pe.removeAttribute("checked"),"print"===ce)break;pe.addEventListener("change",ee=>{B.setValue(ie,{value:ee.target.getAttribute(ee.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==he.value&&pe.setAttribute("value",he.value),"print"===ce)break;pe.addEventListener("input",ee=>{B.setValue(ie,{value:ee.target.value})})}break;case"select":if(null!==he.value)for(const ee of re.children)ee.attributes.value===he.value&&(ee.attributes.selected=!0);pe.addEventListener("input",ee=>{const Y=ee.target.options;B.setValue(ie,{value:-1===Y.selectedIndex?"":Y[Y.selectedIndex].value})})}}static setAttributes({html:pe,element:ie,storage:re=null,intent:B,linkService:ce}){const{attributes:he}=ie,ee=pe instanceof HTMLAnchorElement;"radio"===he.type&&(he.name=`${he.name}-${B}`);for(const[Y,se]of Object.entries(he))if(null!=se&&"dataId"!==Y)if("style"!==Y)if("textContent"===Y)pe.textContent=se;else if("class"===Y)se.length&&pe.setAttribute(Y,se.join(" "));else{if(ee&&("href"===Y||"newWindow"===Y))continue;pe.setAttribute(Y,se)}else Object.assign(pe.style,se);ee&&ce.addLinkAttributes(pe,he.href,he.newWindow),re&&he.dataId&&this.setupStorage(pe,he.dataId,ie,re)}static render(pe){const ie=pe.annotationStorage,re=pe.linkService,B=pe.xfaHtml,ce=pe.intent||"display",he=document.createElement(B.name);B.attributes&&this.setAttributes({html:he,element:B,intent:ce,linkService:re});const ee=[[B,-1,he]],Y=pe.div;if(Y.appendChild(he),pe.viewport){const $=`matrix(${pe.viewport.transform.join(",")})`;Y.style.transform=$}"richText"!==ce&&Y.setAttribute("class","xfaLayer xfaFont");const se=[];for(;ee.length>0;){const[$,ae,q]=ee[ee.length-1];if(ae+1===$.children.length){ee.pop();continue}const fe=$.children[++ee[ee.length-1][1]];if(null===fe)continue;const{name:z}=fe;if("#text"===z){const D=document.createTextNode(fe.value);se.push(D),q.appendChild(D);continue}let Z;if(Z=fe?.attributes?.xmlns?document.createElementNS(fe.attributes.xmlns,z):document.createElement(z),q.appendChild(Z),fe.attributes&&this.setAttributes({html:Z,element:fe,storage:ie,intent:ce,linkService:re}),fe.children&&fe.children.length>0)ee.push([fe,-1,Z]);else if(fe.value){const D=document.createTextNode(fe.value);s.XfaText.shouldBuildText(z)&&se.push(D),Z.appendChild(D)}}for(const $ of Y.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))$.setAttribute("readOnly",!0);return{textDivs:se}}static update(pe){const ie=`matrix(${pe.viewport.transform.join(",")})`;pe.div.style.transform=ie,pe.div.hidden=!1}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.renderTextLayer=function q(fe){const z=new ae({textContent:fe.textContent,textContentStream:fe.textContentStream,container:fe.container,viewport:fe.viewport,textDivs:fe.textDivs,textContentItemsStr:fe.textContentItemsStr,enhanceTextSelection:fe.enhanceTextSelection});return z._render(fe.timeout),z};var s=R(1);const O=30,ie=new Map,re=/^\s+$/g;function ce(fe,z,Z,D){const A=document.createElement("span"),F=fe._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==z.str,hasEOL:z.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==z.str,hasEOL:z.hasEOL};fe._textDivs.push(A);const X=s.Util.transform(fe._viewport.transform,z.transform);let N=Math.atan2(X[1],X[0]);const J=Z[z.fontName];J.vertical&&(N+=Math.PI/2);const j=Math.hypot(X[2],X[3]),S=j*function B(fe,z){const Z=ie.get(fe);if(Z)return Z;z.save(),z.font=`30px ${fe}`;const D=z.measureText("");let A=D.fontBoundingBoxAscent,F=Math.abs(D.fontBoundingBoxDescent);if(A){z.restore();const N=A/(A+F);return ie.set(fe,N),N}z.strokeStyle="red",z.clearRect(0,0,O,O),z.strokeText("g",0,0);let X=z.getImageData(0,0,O,O).data;F=0;for(let N=X.length-1-3;N>=0;N-=4)if(X[N]>0){F=Math.ceil(N/4/O);break}z.clearRect(0,0,O,O),z.strokeText("A",0,O),X=z.getImageData(0,0,O,O).data,A=0;for(let N=0,J=X.length;N<J;N+=4)if(X[N]>0){A=O-Math.floor(N/4/O);break}if(z.restore(),A){const N=A/(A+F);return ie.set(fe,N),N}return ie.set(fe,.8),.8}(J.fontFamily,D);let oe,W;0===N?(oe=X[4],W=X[5]-S):(oe=X[4]+S*Math.sin(N),W=X[5]-S*Math.cos(N)),A.style.left=`${oe}px`,A.style.top=`${W}px`,A.style.fontSize=`${j}px`,A.style.fontFamily=J.fontFamily,A.setAttribute("role","presentation"),A.textContent=z.str,A.dir=z.dir,fe._fontInspectorEnabled&&(A.dataset.fontName=z.fontName),0!==N&&(F.angle=N*(180/Math.PI));let le=!1;if(z.str.length>1||fe._enhanceTextSelection&&re.test(z.str))le=!0;else if(" "!==z.str&&z.transform[0]!==z.transform[3]){const me=Math.abs(z.transform[0]),ye=Math.abs(z.transform[3]);me!==ye&&Math.max(me,ye)/Math.min(me,ye)>1.5&&(le=!0)}if(le&&(F.canvasWidth=J.vertical?z.height*fe._viewport.scale:z.width*fe._viewport.scale),fe._textDivProperties.set(A,F),fe._textContentStream&&fe._layoutText(A),fe._enhanceTextSelection&&F.hasText){let me=1,ye=0;0!==N&&(me=Math.cos(N),ye=Math.sin(N));const Re=(J.vertical?z.height:z.width)*fe._viewport.scale,Ve=j;let Xe,it;0!==N?(Xe=[me,ye,-ye,me,oe,W],it=s.Util.getAxialAlignedBoundingBox([0,0,Re,Ve],Xe)):it=[oe,W,oe+Re,W+Ve],fe._bounds.push({left:it[0],top:it[1],right:it[2],bottom:it[3],div:A,size:[Re,Ve],m:Xe})}}function he(fe){if(fe._canceled)return;const z=fe._textDivs,Z=fe._capability,D=z.length;if(D>1e5)return fe._renderingDone=!0,void Z.resolve();if(!fe._textContentStream)for(let A=0;A<D;A++)fe._layoutText(z[A]);fe._renderingDone=!0,Z.resolve()}function ee(fe,z,Z){let D=0;for(let A=0;A<Z;A++){const F=fe[z++];F>0&&(D=D?Math.min(F,D):F)}return D}function $(fe,z){z.sort(function(A,F){return A.x1-F.x1||A.index-F.index});const D=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const A of z){let F=0;for(;F<D.length&&D[F].end<=A.y1;)F++;let X=D.length-1;for(;X>=0&&D[X].start>=A.y2;)X--;let N,J,j,S,oe=-1/0;for(j=F;j<=X;j++){let me;N=D[j],J=N.boundary,me=J.x2>A.x1?J.index>A.index?J.x1New:A.x1:void 0===J.x2New?(J.x2+A.x1)/2:J.x2New,me>oe&&(oe=me)}for(A.x1New=oe,j=F;j<=X;j++)N=D[j],J=N.boundary,void 0===J.x2New?J.x2>A.x1?J.index>A.index&&(J.x2New=J.x2):J.x2New=oe:J.x2New>oe&&(J.x2New=Math.max(oe,J.x2));const W=[];let le=null;for(j=F;j<=X;j++){N=D[j],J=N.boundary;const me=J.x2>A.x2?J:A;le===me?W[W.length-1].end=N.end:(W.push({start:N.start,end:N.end,boundary:me}),le=me)}for(D[F].start<A.y1&&(W[0].start=A.y1,W.unshift({start:D[F].start,end:A.y1,boundary:D[F].boundary})),A.y2<D[X].end&&(W[W.length-1].end=A.y2,W.push({start:A.y2,end:D[X].end,boundary:D[X].boundary})),j=F;j<=X;j++){if(N=D[j],J=N.boundary,void 0!==J.x2New)continue;let me=!1;for(S=F-1;!me&&S>=0&&D[S].start>=J.y1;S--)me=D[S].boundary===J;for(S=X+1;!me&&S<D.length&&D[S].end<=J.y2;S++)me=D[S].boundary===J;for(S=0;!me&&S<W.length;S++)me=W[S].boundary===J;me||(J.x2New=oe)}Array.prototype.splice.apply(D,[F,X-F+1].concat(W))}for(const A of D){const F=A.boundary;void 0===F.x2New&&(F.x2New=Math.max(fe,F.x2))}}class ae{constructor({textContent:z,textContentStream:Z,container:D,viewport:A,textDivs:F,textContentItemsStr:X,enhanceTextSelection:N}){this._textContent=z,this._textContentStream=Z,this._container=D,this._document=D.ownerDocument,this._viewport=A,this._textDivs=F||[],this._textContentItemsStr=X||[],this._enhanceTextSelection=!!N,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,s.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new s.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(z,Z){for(let D=0,A=z.length;D<A;D++)if(void 0!==z[D].str)this._textContentItemsStr.push(z[D].str),ce(this,z[D],Z,this._layoutTextCtx);else if("beginMarkedContentProps"===z[D].type||"beginMarkedContent"===z[D].type){const F=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==z[D].id&&this._container.setAttribute("id",`${z[D].id}`),F.appendChild(this._container)}else"endMarkedContent"===z[D].type&&(this._container=this._container.parentNode)}_layoutText(z){const Z=this._textDivProperties.get(z);let D="";if(0!==Z.canvasWidth&&Z.hasText){const{fontSize:A,fontFamily:F}=z.style;(A!==this._layoutTextLastFontSize||F!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${A} ${F}`,this._layoutTextLastFontSize=A,this._layoutTextLastFontFamily=F);const{width:X}=this._layoutTextCtx.measureText(z.textContent);if(X>0){const N=Z.canvasWidth/X;this._enhanceTextSelection&&(Z.scale=N),D=`scaleX(${N})`}}if(0!==Z.angle&&(D=`rotate(${Z.angle}deg) ${D}`),D.length>0&&(this._enhanceTextSelection&&(Z.originalTransform=D),z.style.transform=D),Z.hasText&&this._container.appendChild(z),Z.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this._container.appendChild(A)}}_render(z=0){const Z=(0,s.createPromiseCapability)();let D=Object.create(null);const A=this._document.createElement("canvas");if(A.height=A.width=O,this._layoutTextCtx=A.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),Z.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const F=()=>{this._reader.read().then(({value:X,done:N})=>{N?Z.resolve():(Object.assign(D,X.styles),this._processItems(X.items,D),F())},Z.reject)};this._reader=this._textContentStream.getReader(),F()}}Z.promise.then(()=>{D=null,z?this._renderTimer=setTimeout(()=>{he(this),this._renderTimer=null},z):he(this)},this._capability.reject)}expandTextDivs(z=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function Y(fe){const z=fe._bounds,Z=fe._viewport,D=function se(fe,z,Z){const D=Z.map(function(F,X){return{x1:F.left,y1:F.top,x2:F.right,y2:F.bottom,index:X,x1New:void 0,x2New:void 0}});$(fe,D);const A=new Array(Z.length);for(const F of D)A[F.index]={left:F.x1New,top:0,right:F.x2New,bottom:0};Z.map(function(F,X){const N=A[X],J=D[X];J.x1=F.top,J.y1=fe-N.right,J.x2=F.bottom,J.y2=fe-N.left,J.index=X,J.x1New=void 0,J.x2New=void 0}),$(z,D);for(const F of D){const X=F.index;A[X].top=F.x1New,A[X].bottom=F.x2New}return A}(Z.width,Z.height,z);for(let A=0;A<D.length;A++){const F=z[A].div,X=fe._textDivProperties.get(F);if(0===X.angle){X.paddingLeft=z[A].left-D[A].left,X.paddingTop=z[A].top-D[A].top,X.paddingRight=D[A].right-z[A].right,X.paddingBottom=D[A].bottom-z[A].bottom,fe._textDivProperties.set(F,X);continue}const N=D[A],J=z[A],j=J.m,S=j[0],oe=j[1],W=[[0,0],[0,J.size[1]],[J.size[0],0],J.size],le=new Float64Array(64);for(let ye=0,Re=W.length;ye<Re;ye++){const Ve=s.Util.applyTransform(W[ye],j);le[ye+0]=S&&(N.left-Ve[0])/S,le[ye+4]=oe&&(N.top-Ve[1])/oe,le[ye+8]=S&&(N.right-Ve[0])/S,le[ye+12]=oe&&(N.bottom-Ve[1])/oe,le[ye+16]=oe&&(N.left-Ve[0])/-oe,le[ye+20]=S&&(N.top-Ve[1])/S,le[ye+24]=oe&&(N.right-Ve[0])/-oe,le[ye+28]=S&&(N.bottom-Ve[1])/S,le[ye+32]=S&&(N.left-Ve[0])/-S,le[ye+36]=oe&&(N.top-Ve[1])/-oe,le[ye+40]=S&&(N.right-Ve[0])/-S,le[ye+44]=oe&&(N.bottom-Ve[1])/-oe,le[ye+48]=oe&&(N.left-Ve[0])/oe,le[ye+52]=S&&(N.top-Ve[1])/-S,le[ye+56]=oe&&(N.right-Ve[0])/oe,le[ye+60]=S&&(N.bottom-Ve[1])/-S}const me=1+Math.min(Math.abs(S),Math.abs(oe));X.paddingLeft=ee(le,32,16)/me,X.paddingTop=ee(le,48,16)/me,X.paddingRight=ee(le,0,16)/me,X.paddingBottom=ee(le,16,16)/me,fe._textDivProperties.set(F,X)}}(this),this._bounds=null);const Z=[],D=[];for(let A=0,F=this._textDivs.length;A<F;A++){const X=this._textDivs[A],N=this._textDivProperties.get(X);!N.hasText||(z?(Z.length=0,D.length=0,N.originalTransform&&Z.push(N.originalTransform),N.paddingTop>0?(D.push(`${N.paddingTop}px`),Z.push(`translateY(${-N.paddingTop}px)`)):D.push(0),D.push(N.paddingRight>0?N.paddingRight/N.scale+"px":0),D.push(N.paddingBottom>0?`${N.paddingBottom}px`:0),N.paddingLeft>0?(D.push(N.paddingLeft/N.scale+"px"),Z.push(`translateX(${-N.paddingLeft/N.scale}px)`)):D.push(0),X.style.padding=D.join(" "),Z.length&&(X.style.transform=Z.join(" "))):(X.style.padding=null,X.style.transform=N.originalTransform))}}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.SVGGraphics=void 0;var s=R(1),te=R(5),O=R(3);let pe=class{constructor(){(0,s.unreachable)("Not implemented: SVGGraphics")}};x.SVGGraphics=pe;{let $=function(D){let A=[];const F=[];for(const X of D)"save"!==X.fn?"restore"===X.fn?A=F.pop():A.push(X):(A.push({fnId:92,fn:"group",items:[]}),F.push(A),A=A[A.length-1].items);return A},ae=function(D){if(Number.isInteger(D))return D.toString();const A=D.toFixed(10);let F=A.length-1;if("0"!==A[F])return A;do{F--}while("0"===A[F]);return A.substring(0,"."===A[F]?F:F+1)},q=function(D){if(0===D[4]&&0===D[5]){if(0===D[1]&&0===D[2])return 1===D[0]&&1===D[3]?"":`scale(${ae(D[0])} ${ae(D[3])})`;if(D[0]===D[3]&&D[1]===-D[2]){const A=180*Math.acos(D[0])/Math.PI;return`rotate(${ae(A)})`}}else if(1===D[0]&&0===D[1]&&0===D[2]&&1===D[3])return`translate(${ae(D[4])} ${ae(D[5])})`;return`matrix(${ae(D[0])} ${ae(D[1])} ${ae(D[2])} ${ae(D[3])} ${ae(D[4])} ${ae(D[5])})`};const ie={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},re="http://www.w3.org/XML/1998/namespace",B="http://www.w3.org/1999/xlink",ce=["butt","round","square"],he=["miter","round","bevel"],ee=function(D,A="",F=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!F)return URL.createObjectURL(new Blob([D],{type:A}));const X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let N=`data:${A};base64,`;for(let J=0,j=D.length;J<j;J+=3){const S=255&D[J],oe=255&D[J+1],W=255&D[J+2];N+=X[S>>2]+X[(3&S)<<4|oe>>4]+X[J+1<j?(15&oe)<<2|W>>6:64]+X[J+2<j?63&W:64]}return N},Y=function(){const D=new Uint8Array([137,80,78,71,13,10,26,10]),F=new Int32Array(256);for(let W=0;W<256;W++){let le=W;for(let me=0;me<8;me++)le=1&le?3988292384^le>>1&2147483647:le>>1&2147483647;F[W]=le}function N(W,le,me,ye){let Re=ye;const Ve=le.length;me[Re]=Ve>>24&255,me[Re+1]=Ve>>16&255,me[Re+2]=Ve>>8&255,me[Re+3]=255&Ve,Re+=4,me[Re]=255&W.charCodeAt(0),me[Re+1]=255&W.charCodeAt(1),me[Re+2]=255&W.charCodeAt(2),me[Re+3]=255&W.charCodeAt(3),Re+=4,me.set(le,Re),Re+=le.length;const Xe=function X(W,le,me){let ye=-1;for(let Re=le;Re<me;Re++)ye=ye>>>8^F[255&(ye^W[Re])];return-1^ye}(me,ye+4,Re);me[Re]=Xe>>24&255,me[Re+1]=Xe>>16&255,me[Re+2]=Xe>>8&255,me[Re+3]=255&Xe}function S(W){let le=W.length;const me=65535,ye=Math.ceil(le/me),Re=new Uint8Array(2+le+5*ye+4);let Ve=0;Re[Ve++]=120,Re[Ve++]=156;let Xe=0;for(;le>me;)Re[Ve++]=0,Re[Ve++]=255,Re[Ve++]=255,Re[Ve++]=0,Re[Ve++]=0,Re.set(W.subarray(Xe,Xe+me),Ve),Ve+=me,Xe+=me,le-=me;Re[Ve++]=1,Re[Ve++]=255&le,Re[Ve++]=le>>8&255,Re[Ve++]=255&~le,Re[Ve++]=(65535&~le)>>8&255,Re.set(W.subarray(Xe),Ve),Ve+=W.length-Xe;const it=function J(W,le,me){let ye=1,Re=0;for(let Ve=le;Ve<me;++Ve)ye=(ye+(255&W[Ve]))%65521,Re=(Re+ye)%65521;return Re<<16|ye}(W,0,W.length);return Re[Ve++]=it>>24&255,Re[Ve++]=it>>16&255,Re[Ve++]=it>>8&255,Re[Ve++]=255&it,Re}return function(le,me,ye){return function oe(W,le,me,ye){const Re=W.width,Ve=W.height;let Xe,it,ve;const M=W.data;switch(le){case s.ImageKind.GRAYSCALE_1BPP:it=0,Xe=1,ve=Re+7>>3;break;case s.ImageKind.RGB_24BPP:it=2,Xe=8,ve=3*Re;break;case s.ImageKind.RGBA_32BPP:it=6,Xe=8,ve=4*Re;break;default:throw new Error("invalid format")}const b=new Uint8Array((1+ve)*Ve);let k=0,L=0;for(let ke=0;ke<Ve;++ke)b[k++]=0,b.set(M.subarray(L,L+ve),k),L+=ve,k+=ve;if(le===s.ImageKind.GRAYSCALE_1BPP&&ye){k=0;for(let ke=0;ke<Ve;ke++){k++;for(let Ue=0;Ue<ve;Ue++)b[k++]^=255}}const Q=new Uint8Array([Re>>24&255,Re>>16&255,Re>>8&255,255&Re,Ve>>24&255,Ve>>16&255,Ve>>8&255,255&Ve,Xe,it,0,0,0]),ne=function j(W){if(!O.isNodeJS)return S(W);try{let le;le=parseInt(process.versions.node)>=8?W:Buffer.from(W);const me=__webpack_require__(2258).deflateSync(le,{level:9});return me instanceof Uint8Array?me:new Uint8Array(me)}catch(le){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+le)}return S(W)}(b),be=new Uint8Array(D.length+36+Q.length+ne.length);let He=0;return be.set(D,He),He+=D.length,N("IHDR",Q,be,He),He+=12+Q.length,N("IDATA",ne,be,He),He+=12+ne.length,N("IEND",new Uint8Array(0),be,He),ee(be,"image/png",me)}(le,void 0===le.kind?s.ImageKind.GRAYSCALE_1BPP:le.kind,me,ye)}}();class se{constructor(){this.fontSizeScale=1,this.fontWeight=ie.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ie.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(A,F){this.x=A,this.y=F}}let fe=0,z=0,Z=0;x.SVGGraphics=pe=class{constructor(D,A,F=!1){this.svgFactory=new te.DOMSVGFactory,this.current=new se,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=D,this.objs=A,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!F,this._operatorIdMapping=[];for(const X in s.OPS)this._operatorIdMapping[s.OPS[X]]=X}save(){this.transformStack.push(this.transformMatrix);const D=this.current;this.extraStack.push(D),this.current=D.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(D){this.save(),this.executeOpTree(D),this.restore()}loadDependencies(D){const A=D.fnArray,F=D.argsArray;for(let X=0,N=A.length;X<N;X++)if(A[X]===s.OPS.dependency)for(const J of F[X]){const j=J.startsWith("g_")?this.commonObjs:this.objs,S=new Promise(oe=>{j.get(J,oe)});this.current.dependencies.push(S)}return Promise.all(this.current.dependencies)}transform(D,A,F,X,N,J){this.transformMatrix=s.Util.transform(this.transformMatrix,[D,A,F,X,N,J]),this.tgrp=null}getSVG(D,A){this.viewport=A;const F=this._initialize(A);return this.loadDependencies(D).then(()=>(this.transformMatrix=s.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(D)),F))}convertOpList(D){const A=this._operatorIdMapping,F=D.argsArray,X=D.fnArray,N=[];for(let J=0,j=X.length;J<j;J++){const S=X[J];N.push({fnId:S,fn:A[S],args:F[J]})}return $(N)}executeOpTree(D){for(const A of D){const F=A.fn,N=A.args;switch(0|A.fnId){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(N);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(N[0],N[1]);break;case s.OPS.setFont:this.setFont(N);break;case s.OPS.showText:case s.OPS.showSpacedText:this.showText(N[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(N[0],N[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(N[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(N[0]);break;case s.OPS.setHScale:this.setHScale(N[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(N[0],N[1],N[2],N[3],N[4],N[5]);break;case s.OPS.setTextRise:this.setTextRise(N[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(N[0]);break;case s.OPS.setLineWidth:this.setLineWidth(N[0]);break;case s.OPS.setLineJoin:this.setLineJoin(N[0]);break;case s.OPS.setLineCap:this.setLineCap(N[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(N[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(N[0],N[1],N[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(N[0],N[1],N[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(N);break;case s.OPS.setFillColorN:this.setFillColorN(N);break;case s.OPS.shadingFill:this.shadingFill(N[0]);break;case s.OPS.setDash:this.setDash(N[0],N[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(N[0]);break;case s.OPS.setFlatness:this.setFlatness(N[0]);break;case s.OPS.setGState:this.setGState(N[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(N[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(N[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(N[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(N[0],N[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(N[0],N[1],N[2],N[3],N[4],N[5]);break;case s.OPS.constructPath:this.constructPath(N[0],N[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(A.items);break;default:(0,s.warn)(`Unimplemented operator ${F}`)}}}setWordSpacing(D){this.current.wordSpacing=D}setCharSpacing(D){this.current.charSpacing=D}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(D,A,F,X,N,J){const j=this.current;j.textMatrix=j.lineMatrix=[D,A,F,X,N,J],j.textMatrixScale=Math.hypot(D,A),j.x=j.lineX=0,j.y=j.lineY=0,j.xcoords=[],j.ycoords=[],j.tspan=this.svgFactory.createElement("svg:tspan"),j.tspan.setAttributeNS(null,"font-family",j.fontFamily),j.tspan.setAttributeNS(null,"font-size",`${ae(j.fontSize)}px`),j.tspan.setAttributeNS(null,"y",ae(-j.y)),j.txtElement=this.svgFactory.createElement("svg:text"),j.txtElement.appendChild(j.tspan)}beginText(){const D=this.current;D.x=D.lineX=0,D.y=D.lineY=0,D.textMatrix=s.IDENTITY_MATRIX,D.lineMatrix=s.IDENTITY_MATRIX,D.textMatrixScale=1,D.tspan=this.svgFactory.createElement("svg:tspan"),D.txtElement=this.svgFactory.createElement("svg:text"),D.txtgrp=this.svgFactory.createElement("svg:g"),D.xcoords=[],D.ycoords=[]}moveText(D,A){const F=this.current;F.x=F.lineX+=D,F.y=F.lineY+=A,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${ae(F.fontSize)}px`),F.tspan.setAttributeNS(null,"y",ae(-F.y))}showText(D){const A=this.current,F=A.font,X=A.fontSize;if(0===X)return;const N=A.fontSizeScale,J=A.charSpacing,j=A.wordSpacing,S=A.fontDirection,oe=A.textHScale*S,W=F.vertical,le=W?1:-1,me=F.defaultVMetrics,ye=X*A.fontMatrix[0];let Re=0;for(const it of D){if(null===it){Re+=S*j;continue}if("number"==typeof it){Re+=le*it*X/1e3;continue}const ve=(it.isSpace?j:0)+J,M=it.fontChar;let b,k,Q,L=it.width;if(W){let ne;const U=it.vmetric||me;ne=it.vmetric?U[1]:.5*L,ne=-ne*ye,L=U?-U[0]:L,b=ne/N,k=(Re+U[2]*ye)/N}else b=Re/N,k=0;(it.isInFont||F.missingFile)&&(A.xcoords.push(A.x+b),W&&A.ycoords.push(-A.y+k),A.tspan.textContent+=M),Q=W?L*ye-ve*S:L*ye+ve*S,Re+=Q}A.tspan.setAttributeNS(null,"x",A.xcoords.map(ae).join(" ")),A.tspan.setAttributeNS(null,"y",W?A.ycoords.map(ae).join(" "):ae(-A.y)),W?A.y-=Re:A.x+=Re*oe,A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${ae(A.fontSize)}px`),A.fontStyle!==ie.fontStyle&&A.tspan.setAttributeNS(null,"font-style",A.fontStyle),A.fontWeight!==ie.fontWeight&&A.tspan.setAttributeNS(null,"font-weight",A.fontWeight);const Ve=A.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;Ve===s.TextRenderingMode.FILL||Ve===s.TextRenderingMode.FILL_STROKE?(A.fillColor!==ie.fillColor&&A.tspan.setAttributeNS(null,"fill",A.fillColor),A.fillAlpha<1&&A.tspan.setAttributeNS(null,"fill-opacity",A.fillAlpha)):A.tspan.setAttributeNS(null,"fill",A.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(Ve===s.TextRenderingMode.STROKE||Ve===s.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(A.tspan,1/(A.textMatrixScale||1));let Xe=A.textMatrix;0!==A.textRise&&(Xe=Xe.slice(),Xe[5]+=A.textRise),A.txtElement.setAttributeNS(null,"transform",`${q(Xe)} scale(${ae(oe)}, -1)`),A.txtElement.setAttributeNS(re,"xml:space","preserve"),A.txtElement.appendChild(A.tspan),A.txtgrp.appendChild(A.txtElement),this._ensureTransformGroup().appendChild(A.txtElement)}setLeadingMoveText(D,A){this.setLeading(-A),this.moveText(D,A)}addFontStyle(D){if(!D.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const A=ee(D.data,D.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${D.loadedName}"; src: url(${A}); }\n`}setFont(D){const A=this.current,F=this.commonObjs.get(D[0]);let X=D[1];A.font=F,this.embedFonts&&!F.missingFile&&!this.embeddedFonts[F.loadedName]&&(this.addFontStyle(F),this.embeddedFonts[F.loadedName]=F),A.fontMatrix=F.fontMatrix||s.FONT_IDENTITY_MATRIX;let N="normal";F.black?N="900":F.bold&&(N="bold");const J=F.italic?"italic":"normal";X<0?(X=-X,A.fontDirection=-1):A.fontDirection=1,A.fontSize=X,A.fontFamily=F.loadedName,A.fontWeight=N,A.fontStyle=J,A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"y",ae(-A.y)),A.xcoords=[],A.ycoords=[]}endText(){const D=this.current;D.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&D.txtElement?.hasChildNodes()&&(D.element=D.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(D){D>0&&(this.current.lineWidth=D)}setLineCap(D){this.current.lineCap=ce[D]}setLineJoin(D){this.current.lineJoin=he[D]}setMiterLimit(D){this.current.miterLimit=D}setStrokeAlpha(D){this.current.strokeAlpha=D}setStrokeRGBColor(D,A,F){this.current.strokeColor=s.Util.makeHexColor(D,A,F)}setFillAlpha(D){this.current.fillAlpha=D}setFillRGBColor(D,A,F){this.current.fillColor=s.Util.makeHexColor(D,A,F),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(D){this.current.strokeColor=this._makeColorN_Pattern(D)}setFillColorN(D){this.current.fillColor=this._makeColorN_Pattern(D)}shadingFill(D){const A=this.viewport.width,F=this.viewport.height,X=s.Util.inverseTransform(this.transformMatrix),N=s.Util.applyTransform([0,0],X),J=s.Util.applyTransform([0,F],X),j=s.Util.applyTransform([A,0],X),S=s.Util.applyTransform([A,F],X),oe=Math.min(N[0],J[0],j[0],S[0]),W=Math.min(N[1],J[1],j[1],S[1]),le=Math.max(N[0],J[0],j[0],S[0]),me=Math.max(N[1],J[1],j[1],S[1]),ye=this.svgFactory.createElement("svg:rect");ye.setAttributeNS(null,"x",oe),ye.setAttributeNS(null,"y",W),ye.setAttributeNS(null,"width",le-oe),ye.setAttributeNS(null,"height",me-W),ye.setAttributeNS(null,"fill",this._makeShadingPattern(D)),this.current.fillAlpha<1&&ye.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(ye)}_makeColorN_Pattern(D){return"TilingPattern"===D[0]?this._makeTilingPattern(D):this._makeShadingPattern(D)}_makeTilingPattern(D){const A=D[1],F=D[2],X=D[3]||s.IDENTITY_MATRIX,[N,J,j,S]=D[4],oe=D[5],W=D[6],le=D[7],me="shading"+Z++,[ye,Re,Ve,Xe]=s.Util.normalizeRect([...s.Util.applyTransform([N,J],X),...s.Util.applyTransform([j,S],X)]),[it,ve]=s.Util.singularValueDecompose2dScale(X),M=oe*it,b=W*ve,k=this.svgFactory.createElement("svg:pattern");k.setAttributeNS(null,"id",me),k.setAttributeNS(null,"patternUnits","userSpaceOnUse"),k.setAttributeNS(null,"width",M),k.setAttributeNS(null,"height",b),k.setAttributeNS(null,"x",`${ye}`),k.setAttributeNS(null,"y",`${Re}`);const L=this.svg,Q=this.transformMatrix,ne=this.current.fillColor,U=this.current.strokeColor,be=this.svgFactory.create(Ve-ye,Xe-Re);if(this.svg=be,this.transformMatrix=X,2===le){const He=s.Util.makeHexColor(...A);this.current.fillColor=He,this.current.strokeColor=He}return this.executeOpTree(this.convertOpList(F)),this.svg=L,this.transformMatrix=Q,this.current.fillColor=ne,this.current.strokeColor=U,k.appendChild(be.childNodes[0]),this.defs.appendChild(k),`url(#${me})`}_makeShadingPattern(D){switch("string"==typeof D&&(D=this.objs.get(D)),D[0]){case"RadialAxial":const A="shading"+Z++,F=D[3];let X;switch(D[1]){case"axial":const N=D[4],J=D[5];X=this.svgFactory.createElement("svg:linearGradient"),X.setAttributeNS(null,"id",A),X.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),X.setAttributeNS(null,"x1",N[0]),X.setAttributeNS(null,"y1",N[1]),X.setAttributeNS(null,"x2",J[0]),X.setAttributeNS(null,"y2",J[1]);break;case"radial":const j=D[4],S=D[5],oe=D[6],W=D[7];X=this.svgFactory.createElement("svg:radialGradient"),X.setAttributeNS(null,"id",A),X.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),X.setAttributeNS(null,"cx",S[0]),X.setAttributeNS(null,"cy",S[1]),X.setAttributeNS(null,"r",W),X.setAttributeNS(null,"fx",j[0]),X.setAttributeNS(null,"fy",j[1]),X.setAttributeNS(null,"fr",oe);break;default:throw new Error(`Unknown RadialAxial type: ${D[1]}`)}for(const N of F){const J=this.svgFactory.createElement("svg:stop");J.setAttributeNS(null,"offset",N[0]),J.setAttributeNS(null,"stop-color",N[1]),X.appendChild(J)}return this.defs.appendChild(X),`url(#${A})`;case"Mesh":return(0,s.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${D[0]}`)}}setDash(D,A){this.current.dashArray=D,this.current.dashPhase=A}constructPath(D,A){const F=this.current;let X=F.x,N=F.y,J=[],j=0;for(const S of D)switch(0|S){case s.OPS.rectangle:X=A[j++],N=A[j++];const le=X+A[j++],me=N+A[j++];J.push("M",ae(X),ae(N),"L",ae(le),ae(N),"L",ae(le),ae(me),"L",ae(X),ae(me),"Z");break;case s.OPS.moveTo:X=A[j++],N=A[j++],J.push("M",ae(X),ae(N));break;case s.OPS.lineTo:X=A[j++],N=A[j++],J.push("L",ae(X),ae(N));break;case s.OPS.curveTo:X=A[j+4],N=A[j+5],J.push("C",ae(A[j]),ae(A[j+1]),ae(A[j+2]),ae(A[j+3]),ae(X),ae(N)),j+=6;break;case s.OPS.curveTo2:J.push("C",ae(X),ae(N),ae(A[j]),ae(A[j+1]),ae(A[j+2]),ae(A[j+3])),X=A[j+2],N=A[j+3],j+=4;break;case s.OPS.curveTo3:X=A[j+2],N=A[j+3],J.push("C",ae(A[j]),ae(A[j+1]),ae(X),ae(N),ae(X),ae(N)),j+=4;break;case s.OPS.closePath:J.push("Z")}J=J.join(" "),F.path&&D.length>0&&D[0]!==s.OPS.rectangle&&D[0]!==s.OPS.moveTo?J=F.path.getAttributeNS(null,"d")+J:(F.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(F.path)),F.path.setAttributeNS(null,"d",J),F.path.setAttributeNS(null,"fill","none"),F.element=F.path,F.setCurrentPoint(X,N)}endPath(){const D=this.current;if(D.path=null,!this.pendingClip)return;if(!D.element)return void(this.pendingClip=null);const A="clippath"+fe++,F=this.svgFactory.createElement("svg:clipPath");F.setAttributeNS(null,"id",A),F.setAttributeNS(null,"transform",q(this.transformMatrix));const X=D.element.cloneNode(!0);if(X.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,F.appendChild(X),this.defs.appendChild(F),D.activeClipUrl){D.clipGroup=null;for(const N of this.extraStack)N.clipGroup=null;F.setAttributeNS(null,"clip-path",D.activeClipUrl)}D.activeClipUrl=`url(#${A})`,this.tgrp=null}clip(D){this.pendingClip=D}closePath(){const D=this.current;if(D.path){const A=`${D.path.getAttributeNS(null,"d")}Z`;D.path.setAttributeNS(null,"d",A)}}setLeading(D){this.current.leading=-D}setTextRise(D){this.current.textRise=D}setTextRenderingMode(D){this.current.textRenderingMode=D}setHScale(D){this.current.textHScale=D/100}setRenderingIntent(D){}setFlatness(D){}setGState(D){for(const[A,F]of D)switch(A){case"LW":this.setLineWidth(F);break;case"LC":this.setLineCap(F);break;case"LJ":this.setLineJoin(F);break;case"ML":this.setMiterLimit(F);break;case"D":this.setDash(F[0],F[1]);break;case"RI":this.setRenderingIntent(F);break;case"FL":this.setFlatness(F);break;case"Font":this.setFont(F);break;case"CA":this.setStrokeAlpha(F);break;case"ca":this.setFillAlpha(F);break;default:(0,s.warn)(`Unimplemented graphic state operator ${A}`)}}fill(){const D=this.current;D.element&&(D.element.setAttributeNS(null,"fill",D.fillColor),D.element.setAttributeNS(null,"fill-opacity",D.fillAlpha),this.endPath())}stroke(){const D=this.current;D.element&&(this._setStrokeAttributes(D.element),D.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(D,A=1){const F=this.current;let X=F.dashArray;1!==A&&X.length>0&&(X=X.map(function(N){return A*N})),D.setAttributeNS(null,"stroke",F.strokeColor),D.setAttributeNS(null,"stroke-opacity",F.strokeAlpha),D.setAttributeNS(null,"stroke-miterlimit",ae(F.miterLimit)),D.setAttributeNS(null,"stroke-linecap",F.lineCap),D.setAttributeNS(null,"stroke-linejoin",F.lineJoin),D.setAttributeNS(null,"stroke-width",ae(A*F.lineWidth)+"px"),D.setAttributeNS(null,"stroke-dasharray",X.map(ae).join(" ")),D.setAttributeNS(null,"stroke-dashoffset",ae(A*F.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x","0"),D.setAttributeNS(null,"y","0"),D.setAttributeNS(null,"width","1px"),D.setAttributeNS(null,"height","1px"),D.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(D)}paintImageXObject(D){const A=D.startsWith("g_")?this.commonObjs.get(D):this.objs.get(D);A?this.paintInlineImageXObject(A):(0,s.warn)(`Dependent image with object ID ${D} is not ready yet`)}paintInlineImageXObject(D,A){const F=D.width,X=D.height,N=Y(D,this.forceDataSchema,!!A),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y","0"),J.setAttributeNS(null,"width",ae(F)),J.setAttributeNS(null,"height",ae(X)),this.current.element=J,this.clip("nonzero");const j=this.svgFactory.createElement("svg:image");j.setAttributeNS(B,"xlink:href",N),j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y",ae(-X)),j.setAttributeNS(null,"width",ae(F)+"px"),j.setAttributeNS(null,"height",ae(X)+"px"),j.setAttributeNS(null,"transform",`scale(${ae(1/F)} ${ae(-1/X)})`),A?A.appendChild(j):this._ensureTransformGroup().appendChild(j)}paintImageMaskXObject(D){const A=this.current,F=D.width,X=D.height,N=A.fillColor;A.maskId="mask"+z++;const J=this.svgFactory.createElement("svg:mask");J.setAttributeNS(null,"id",A.maskId);const j=this.svgFactory.createElement("svg:rect");j.setAttributeNS(null,"x","0"),j.setAttributeNS(null,"y","0"),j.setAttributeNS(null,"width",ae(F)),j.setAttributeNS(null,"height",ae(X)),j.setAttributeNS(null,"fill",N),j.setAttributeNS(null,"mask",`url(#${A.maskId})`),this.defs.appendChild(J),this._ensureTransformGroup().appendChild(j),this.paintInlineImageXObject(D,J)}paintFormXObjectBegin(D,A){if(Array.isArray(D)&&6===D.length&&this.transform(D[0],D[1],D[2],D[3],D[4],D[5]),A){const F=A[2]-A[0],X=A[3]-A[1],N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x",A[0]),N.setAttributeNS(null,"y",A[1]),N.setAttributeNS(null,"width",ae(F)),N.setAttributeNS(null,"height",ae(X)),this.current.element=N,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(D){const A=this.svgFactory.create(D.width,D.height),F=this.svgFactory.createElement("svg:defs");A.appendChild(F),this.defs=F;const X=this.svgFactory.createElement("svg:g");return X.setAttributeNS(null,"transform",q(D.transform)),A.appendChild(X),this.svg=X,A}_ensureClipGroup(){if(!this.current.clipGroup){const D=this.svgFactory.createElement("svg:g");D.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(D),this.current.clipGroup=D}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",q(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFNodeStream=void 0;var s=R(1),te=R(26);const O=__webpack_require__(172),pe=__webpack_require__(2001),ie=__webpack_require__(3779),re=__webpack_require__(6558),B=/^file:\/\/\/[a-zA-Z]:\//;x.PDFNodeStream=class he{constructor(Z){this.source=Z,this.url=function ce(z){const Z=re.parse(z);return"file:"===Z.protocol||Z.host?Z:/^[a-z]:[/\\]/i.test(z)?re.parse(`file:///${z}`):(Z.host||(Z.protocol="file:"),Z)}(Z.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&Z.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new q(this):new $(this),this._fullRequestReader}getRangeReader(Z,D){if(D<=this._progressiveDataLength)return null;const A=this.isFsUrl?new fe(this,Z,D):new ae(this,Z,D);return this._rangeRequestReaders.push(A),A}cancelAllRequests(Z){this._fullRequestReader&&this._fullRequestReader.cancel(Z);for(const D of this._rangeRequestReaders.slice(0))D.cancel(Z)}};class ee{constructor(Z){this._url=Z.url,this._done=!1,this._storedError=null,this.onProgress=null;const D=Z.source;this._contentLength=D.length,this._loaded=0,this._filename=null,this._disableRange=D.disableRange||!1,this._rangeChunkSize=D.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!D.disableStream,this._isRangeSupported=!D.disableRange,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._headersCapability=(0,s.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var Z=this;return _asyncToGenerator(function*(){if(yield Z._readCapability.promise,Z._done)return{value:void 0,done:!0};if(Z._storedError)throw Z._storedError;const D=Z._readableStream.read();return null===D?(Z._readCapability=(0,s.createPromiseCapability)(),Z.read()):(Z._loaded+=D.length,Z.onProgress&&Z.onProgress({loaded:Z._loaded,total:Z._contentLength}),{value:new Uint8Array(D).buffer,done:!1})})()}cancel(Z){this._readableStream?this._readableStream.destroy(Z):this._error(Z)}_error(Z){this._storedError=Z,this._readCapability.resolve()}_setReadableStream(Z){this._readableStream=Z,Z.on("readable",()=>{this._readCapability.resolve()}),Z.on("end",()=>{Z.destroy(),this._done=!0,this._readCapability.resolve()}),Z.on("error",D=>{this._error(D)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Y{constructor(Z){this._url=Z.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!Z.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var Z=this;return _asyncToGenerator(function*(){if(yield Z._readCapability.promise,Z._done)return{value:void 0,done:!0};if(Z._storedError)throw Z._storedError;const D=Z._readableStream.read();return null===D?(Z._readCapability=(0,s.createPromiseCapability)(),Z.read()):(Z._loaded+=D.length,Z.onProgress&&Z.onProgress({loaded:Z._loaded}),{value:new Uint8Array(D).buffer,done:!1})})()}cancel(Z){this._readableStream?this._readableStream.destroy(Z):this._error(Z)}_error(Z){this._storedError=Z,this._readCapability.resolve()}_setReadableStream(Z){this._readableStream=Z,Z.on("readable",()=>{this._readCapability.resolve()}),Z.on("end",()=>{Z.destroy(),this._done=!0,this._readCapability.resolve()}),Z.on("error",D=>{this._error(D)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function se(z,Z){return{protocol:z.protocol,auth:z.auth,host:z.hostname,port:z.port,path:z.path,method:"GET",headers:Z}}class $ extends ee{constructor(Z){super(Z);const D=A=>{if(404===A.statusCode){const J=new s.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=J,void this._headersCapability.reject(J)}this._headersCapability.resolve(),this._setReadableStream(A);const F=J=>this._readableStream.headers[J.toLowerCase()],{allowRangeRequests:X,suggestedLength:N}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:F,isHttp:Z.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=X,this._contentLength=N||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)(F)};this._request=null,this._request="http:"===this._url.protocol?pe.request(se(this._url,Z.httpHeaders),D):ie.request(se(this._url,Z.httpHeaders),D),this._request.on("error",A=>{this._storedError=A,this._headersCapability.reject(A)}),this._request.end()}}class ae extends Y{constructor(Z,D,A){super(Z),this._httpHeaders={};for(const X in Z.httpHeaders){const N=Z.httpHeaders[X];typeof N>"u"||(this._httpHeaders[X]=N)}this._httpHeaders.Range=`bytes=${D}-${A-1}`;const F=X=>{if(404!==X.statusCode)this._setReadableStream(X);else{const N=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=N}};this._request=null,this._request="http:"===this._url.protocol?pe.request(se(this._url,this._httpHeaders),F):ie.request(se(this._url,this._httpHeaders),F),this._request.on("error",X=>{this._storedError=X}),this._request.end()}}class q extends ee{constructor(Z){super(Z);let D=decodeURIComponent(this._url.path);B.test(this._url.href)&&(D=D.replace(/^\//,"")),O.lstat(D,(A,F)=>{if(A)return"ENOENT"===A.code&&(A=new s.MissingPDFException(`Missing PDF "${D}".`)),this._storedError=A,void this._headersCapability.reject(A);this._contentLength=F.size,this._setReadableStream(O.createReadStream(D)),this._headersCapability.resolve()})}}class fe extends Y{constructor(Z,D,A){super(Z);let F=decodeURIComponent(this._url.path);B.test(this._url.href)&&(F=F.replace(/^\//,"")),this._setReadableStream(O.createReadStream(F,{start:D,end:A-1}))}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.createResponseStatusError=function re(ce,he){return 404===ce||0===ce&&he.startsWith("file:")?new s.MissingPDFException('Missing PDF "'+he+'".'):new s.UnexpectedResponseException(`Unexpected server response (${ce}) while retrieving PDF "${he}".`,ce)},x.extractFilenameFromHeader=function ie(ce){const he=ce("Content-Disposition");if(he){let ee=(0,te.getFilenameFromContentDispositionHeader)(he);if(ee.includes("%"))try{ee=decodeURIComponent(ee)}catch{}if((0,O.isPdfFile)(ee))return ee}return null},x.validateRangeRequestCapabilities=function pe({getResponseHeader:ce,isHttp:he,rangeChunkSize:ee,disableRange:Y}){const se={allowRangeRequests:!1,suggestedLength:void 0},$=parseInt(ce("Content-Length"),10);return!Number.isInteger($)||(se.suggestedLength=$,$<=2*ee)||Y||!he||"bytes"!==ce("Accept-Ranges")||"identity"!==(ce("Content-Encoding")||"identity")||(se.allowRangeRequests=!0),se},x.validateResponseStatus=function B(ce){return 200===ce||206===ce};var s=R(1),te=R(27),O=R(5)},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.getFilenameFromContentDispositionHeader=function te(O){let pe=!0,ie=re("filename\\*","i").exec(O);if(ie){ie=ie[1];let $=ee(ie);return $=unescape($),$=Y($),$=se($),ce($)}if(ie=function he($){const ae=[];let q;const fe=re("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(q=fe.exec($));){let[,Z,D,A]=q;if(Z=parseInt(Z,10),Z in ae){if(0===Z)break}else ae[Z]=[D,A]}const z=[];for(let Z=0;Z<ae.length&&Z in ae;++Z){let[D,A]=ae[Z];A=ee(A),D&&(A=unescape(A),0===Z&&(A=Y(A))),z.push(A)}return z.join("")}(O),ie)return ce(se(ie));if(ie=re("filename","i").exec(O),ie){ie=ie[1];let $=ee(ie);return $=se($),ce($)}function re($,ae){return new RegExp("(?:^|;)\\s*"+$+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',ae)}function B($,ae){if($){if(!/^[\x00-\xFF]+$/.test(ae))return ae;try{const q=new TextDecoder($,{fatal:!0}),fe=(0,s.stringToBytes)(ae);ae=q.decode(fe),pe=!1}catch{}}return ae}function ce($){return pe&&/[\x80-\xff]/.test($)&&($=B("utf-8",$),pe&&($=B("iso-8859-1",$))),$}function ee($){if($.startsWith('"')){const ae=$.slice(1).split('\\"');for(let q=0;q<ae.length;++q){const fe=ae[q].indexOf('"');-1!==fe&&(ae[q]=ae[q].slice(0,fe),ae.length=q+1),ae[q]=ae[q].replace(/\\(.)/g,"$1")}$=ae.join('"')}return $}function Y($){const ae=$.indexOf("'");return-1===ae?$:B($.slice(0,ae),$.slice(ae+1).replace(/^[^']*'/,""))}function se($){return!$.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test($)?$:$.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(ae,q,fe,z){if("q"===fe||"Q"===fe)return B(q,z=(z=z.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(Z,D){return String.fromCharCode(parseInt(D,16))}));try{z=atob(z)}catch{}return B(q,z)})}return""};var s=R(1)},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFNetworkStream=void 0;var s=R(1),te=R(26);class re{constructor(Y,se={}){this.url=Y,this.isHttp=/^https?:/i.test(Y),this.httpHeaders=this.isHttp&&se.httpHeaders||Object.create(null),this.withCredentials=se.withCredentials||!1,this.getXhr=se.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Y,se,$){const ae={begin:Y,end:se};for(const q in $)ae[q]=$[q];return this.request(ae)}requestFull(Y){return this.request(Y)}request(Y){const se=this.getXhr(),$=this.currXhrId++,ae=this.pendingRequests[$]={xhr:se};se.open("GET",this.url),se.withCredentials=this.withCredentials;for(const q in this.httpHeaders){const fe=this.httpHeaders[q];typeof fe>"u"||se.setRequestHeader(q,fe)}return this.isHttp&&"begin"in Y&&"end"in Y?(se.setRequestHeader("Range",`bytes=${Y.begin}-${Y.end-1}`),ae.expectedStatus=206):ae.expectedStatus=200,se.responseType="arraybuffer",Y.onError&&(se.onerror=function(q){Y.onError(se.status)}),se.onreadystatechange=this.onStateChange.bind(this,$),se.onprogress=this.onProgress.bind(this,$),ae.onHeadersReceived=Y.onHeadersReceived,ae.onDone=Y.onDone,ae.onError=Y.onError,ae.onProgress=Y.onProgress,se.send(null),$}onProgress(Y,se){const $=this.pendingRequests[Y];!$||$.onProgress?.(se)}onStateChange(Y,se){const $=this.pendingRequests[Y];if(!$)return;const ae=$.xhr;if(ae.readyState>=2&&$.onHeadersReceived&&($.onHeadersReceived(),delete $.onHeadersReceived),4!==ae.readyState||!(Y in this.pendingRequests))return;if(delete this.pendingRequests[Y],0===ae.status&&this.isHttp)return void $.onError?.(ae.status);const q=ae.status||200;if((200!==q||206!==$.expectedStatus)&&q!==$.expectedStatus)return void $.onError?.(ae.status);const z=function ie(ee){const Y=ee.response;return"string"!=typeof Y?Y:(0,s.stringToBytes)(Y).buffer}(ae);if(206===q){const Z=ae.getResponseHeader("Content-Range"),D=/bytes (\d+)-(\d+)\/(\d+)/.exec(Z);$.onDone({begin:parseInt(D[1],10),chunk:z})}else z?$.onDone({begin:0,chunk:z}):$.onError?.(ae.status)}getRequestXhr(Y){return this.pendingRequests[Y].xhr}isPendingRequest(Y){return Y in this.pendingRequests}abortRequest(Y){const se=this.pendingRequests[Y].xhr;delete this.pendingRequests[Y],se.abort()}}x.PDFNetworkStream=class B{constructor(Y){this._source=Y,this._manager=new re(Y.url,{httpHeaders:Y.httpHeaders,withCredentials:Y.withCredentials}),this._rangeChunkSize=Y.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Y){const se=this._rangeRequestReaders.indexOf(Y);se>=0&&this._rangeRequestReaders.splice(se,1)}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ce(this._manager,this._source),this._fullRequestReader}getRangeReader(Y,se){const $=new he(this._manager,Y,se);return $.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push($),$}cancelAllRequests(Y){this._fullRequestReader?.cancel(Y);for(const se of this._rangeRequestReaders.slice(0))se.cancel(Y)}};class ce{constructor(Y,se){this._manager=Y;const $={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=se.url,this._fullRequestId=Y.requestFull($),this._headersReceivedCapability=(0,s.createPromiseCapability)(),this._disableRange=se.disableRange||!1,this._contentLength=se.length,this._rangeChunkSize=se.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Y=this._fullRequestId,se=this._manager.getRequestXhr(Y),$=fe=>se.getResponseHeader(fe),{allowRangeRequests:ae,suggestedLength:q}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:$,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});ae&&(this._isRangeSupported=!0),this._contentLength=q||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)($),this._isRangeSupported&&this._manager.abortRequest(Y),this._headersReceivedCapability.resolve()}_onDone(Y){if(Y&&(this._requests.length>0?this._requests.shift().resolve({value:Y.chunk,done:!1}):this._cachedChunks.push(Y.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Y){this._storedError=(0,te.createResponseStatusError)(Y,this._url),this._headersReceivedCapability.reject(this._storedError);for(const se of this._requests)se.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Y){this.onProgress?.({loaded:Y.loaded,total:Y.lengthComputable?Y.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var Y=this;return _asyncToGenerator(function*(){if(Y._storedError)throw Y._storedError;if(Y._cachedChunks.length>0)return{value:Y._cachedChunks.shift(),done:!1};if(Y._done)return{value:void 0,done:!0};const se=(0,s.createPromiseCapability)();return Y._requests.push(se),se.promise})()}cancel(Y){this._done=!0,this._headersReceivedCapability.reject(Y);for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class he{constructor(Y,se,$){this._manager=Y;const ae={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Y.url,this._requestId=Y.requestRange(se,$,ae),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(Y){const se=Y.chunk;this._requests.length>0?this._requests.shift().resolve({value:se,done:!1}):this._queuedChunk=se,this._done=!0;for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Y){this._storedError=(0,te.createResponseStatusError)(Y,this._url);for(const se of this._requests)se.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Y){this.isStreamingSupported||this.onProgress?.({loaded:Y.loaded})}get isStreamingSupported(){return!1}read(){var Y=this;return _asyncToGenerator(function*(){if(Y._storedError)throw Y._storedError;if(null!==Y._queuedChunk){const $=Y._queuedChunk;return Y._queuedChunk=null,{value:$,done:!1}}if(Y._done)return{value:void 0,done:!0};const se=(0,s.createPromiseCapability)();return Y._requests.push(se),se.promise})()}cancel(Y){this._done=!0;for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFFetchStream=void 0;var s=R(1),te=R(26);function O(ce,he,ee){return{method:"GET",headers:ce,signal:ee?.signal,mode:"cors",credentials:he?"include":"same-origin",redirect:"follow"}}function pe(ce){const he=new Headers;for(const ee in ce){const Y=ce[ee];typeof Y>"u"||he.append(ee,Y)}return he}x.PDFFetchStream=class ie{constructor(he){this.source=he,this.isHttp=/^https?:/i.test(he.url),this.httpHeaders=this.isHttp&&he.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new re(this),this._fullRequestReader}getRangeReader(he,ee){if(ee<=this._progressiveDataLength)return null;const Y=new B(this,he,ee);return this._rangeRequestReaders.push(Y),Y}cancelAllRequests(he){this._fullRequestReader&&this._fullRequestReader.cancel(he);for(const ee of this._rangeRequestReaders.slice(0))ee.cancel(he)}};class re{constructor(he){this._stream=he,this._reader=null,this._loaded=0,this._filename=null;const ee=he.source;this._withCredentials=ee.withCredentials||!1,this._contentLength=ee.length,this._headersCapability=(0,s.createPromiseCapability)(),this._disableRange=ee.disableRange||!1,this._rangeChunkSize=ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!ee.disableStream,this._isRangeSupported=!ee.disableRange,this._headers=pe(this._stream.httpHeaders);const Y=ee.url;fetch(Y,O(this._headers,this._withCredentials,this._abortController)).then(se=>{if(!(0,te.validateResponseStatus)(se.status))throw(0,te.createResponseStatusError)(se.status,Y);this._reader=se.body.getReader(),this._headersCapability.resolve();const $=fe=>se.headers.get(fe),{allowRangeRequests:ae,suggestedLength:q}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:$,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ae,this._contentLength=q||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)($),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new s.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var he=this;return _asyncToGenerator(function*(){yield he._headersCapability.promise;const{value:ee,done:Y}=yield he._reader.read();return Y?{value:ee,done:Y}:(he._loaded+=ee.byteLength,he.onProgress&&he.onProgress({loaded:he._loaded,total:he._contentLength}),{value:new Uint8Array(ee).buffer,done:!1})})()}cancel(he){this._reader&&this._reader.cancel(he),this._abortController&&this._abortController.abort()}}class B{constructor(he,ee,Y){this._stream=he,this._reader=null,this._loaded=0;const se=he.source;this._withCredentials=se.withCredentials||!1,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!se.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=pe(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ee}-${Y-1}`);const $=se.url;fetch($,O(this._headers,this._withCredentials,this._abortController)).then(ae=>{if(!(0,te.validateResponseStatus)(ae.status))throw(0,te.createResponseStatusError)(ae.status,$);this._readCapability.resolve(),this._reader=ae.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var he=this;return _asyncToGenerator(function*(){yield he._readCapability.promise;const{value:ee,done:Y}=yield he._reader.read();return Y?{value:ee,done:Y}:(he._loaded+=ee.byteLength,he.onProgress&&he.onProgress({loaded:he._loaded}),{value:new Uint8Array(ee).buffer,done:!1})})()}cancel(he){this._reader&&this._reader.cancel(he),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(Ie){var x=__webpack_module_cache__[Ie];if(void 0!==x)return x.exports;var R=__webpack_module_cache__[Ie]={exports:{}};return __webpack_modules__[Ie](R,R.exports,__w_pdfjs_require__),R.exports}var __webpack_exports__={};return(()=>{var Ie=__webpack_exports__;Object.defineProperty(Ie,"__esModule",{value:!0}),Object.defineProperty(Ie,"AnnotationLayer",{enumerable:!0,get:function(){return te.AnnotationLayer}}),Object.defineProperty(Ie,"AnnotationMode",{enumerable:!0,get:function(){return x.AnnotationMode}}),Object.defineProperty(Ie,"CMapCompressionType",{enumerable:!0,get:function(){return x.CMapCompressionType}}),Object.defineProperty(Ie,"GlobalWorkerOptions",{enumerable:!0,get:function(){return O.GlobalWorkerOptions}}),Object.defineProperty(Ie,"InvalidPDFException",{enumerable:!0,get:function(){return x.InvalidPDFException}}),Object.defineProperty(Ie,"LoopbackPort",{enumerable:!0,get:function(){return R.LoopbackPort}}),Object.defineProperty(Ie,"MissingPDFException",{enumerable:!0,get:function(){return x.MissingPDFException}}),Object.defineProperty(Ie,"OPS",{enumerable:!0,get:function(){return x.OPS}}),Object.defineProperty(Ie,"PDFDataRangeTransport",{enumerable:!0,get:function(){return R.PDFDataRangeTransport}}),Object.defineProperty(Ie,"PDFDateString",{enumerable:!0,get:function(){return s.PDFDateString}}),Object.defineProperty(Ie,"PDFWorker",{enumerable:!0,get:function(){return R.PDFWorker}}),Object.defineProperty(Ie,"PasswordResponses",{enumerable:!0,get:function(){return x.PasswordResponses}}),Object.defineProperty(Ie,"PermissionFlag",{enumerable:!0,get:function(){return x.PermissionFlag}}),Object.defineProperty(Ie,"PixelsPerInch",{enumerable:!0,get:function(){return s.PixelsPerInch}}),Object.defineProperty(Ie,"RenderingCancelledException",{enumerable:!0,get:function(){return s.RenderingCancelledException}}),Object.defineProperty(Ie,"SVGGraphics",{enumerable:!0,get:function(){return re.SVGGraphics}}),Object.defineProperty(Ie,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return x.UNSUPPORTED_FEATURES}}),Object.defineProperty(Ie,"UnexpectedResponseException",{enumerable:!0,get:function(){return x.UnexpectedResponseException}}),Object.defineProperty(Ie,"Util",{enumerable:!0,get:function(){return x.Util}}),Object.defineProperty(Ie,"VerbosityLevel",{enumerable:!0,get:function(){return x.VerbosityLevel}}),Object.defineProperty(Ie,"XfaLayer",{enumerable:!0,get:function(){return B.XfaLayer}}),Object.defineProperty(Ie,"build",{enumerable:!0,get:function(){return R.build}}),Object.defineProperty(Ie,"createPromiseCapability",{enumerable:!0,get:function(){return x.createPromiseCapability}}),Object.defineProperty(Ie,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return x.createValidAbsoluteUrl}}),Object.defineProperty(Ie,"getDocument",{enumerable:!0,get:function(){return R.getDocument}}),Object.defineProperty(Ie,"getFilenameFromUrl",{enumerable:!0,get:function(){return s.getFilenameFromUrl}}),Object.defineProperty(Ie,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return s.getPdfFilenameFromUrl}}),Object.defineProperty(Ie,"getXfaPageViewport",{enumerable:!0,get:function(){return s.getXfaPageViewport}}),Object.defineProperty(Ie,"isPdfFile",{enumerable:!0,get:function(){return s.isPdfFile}}),Object.defineProperty(Ie,"loadScript",{enumerable:!0,get:function(){return s.loadScript}}),Object.defineProperty(Ie,"renderTextLayer",{enumerable:!0,get:function(){return ie.renderTextLayer}}),Object.defineProperty(Ie,"shadow",{enumerable:!0,get:function(){return x.shadow}}),Object.defineProperty(Ie,"version",{enumerable:!0,get:function(){return R.version}});var x=__w_pdfjs_require__(1),R=__w_pdfjs_require__(4),s=__w_pdfjs_require__(5),te=__w_pdfjs_require__(20),O=__w_pdfjs_require__(13),pe=__w_pdfjs_require__(3),ie=__w_pdfjs_require__(23),re=__w_pdfjs_require__(24),B=__w_pdfjs_require__(22);if(pe.isNodeJS){const{PDFNodeStream:ee}=__w_pdfjs_require__(25);(0,R.setPDFNetworkStreamFactory)(Y=>new ee(Y))}else{const{PDFNetworkStream:ee}=__w_pdfjs_require__(28),{PDFFetchStream:Y}=__w_pdfjs_require__(29);(0,R.setPDFNetworkStreamFactory)(se=>(0,s.isValidFetchUrl)(se.url)?new Y(se):new ee(se))}})(),__webpack_exports__})(),module.exports=R()},2813:function(Ie,x,R){var ee,s=R(5661).default,te=R(1860).default,O=R(9159).default,pe=R(5764).default,ie=R(4467).default,re=R(468).default,B=R(7156).default;ee=()=>(()=>{"use strict";var ce=[,(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.DefaultXfaLayerFactory=$.DefaultTextLayerFactory=$.DefaultStructTreeLayerFactory=$.DefaultAnnotationLayerFactory=void 0;var q=ae(2),fe=ae(4),z=ae(5),Z=ae(7),D=ae(8),A=ae(9);$.DefaultAnnotationLayerFactory=class F{createAnnotationLayerBuilder(S,oe,W=null,le="",me=!0,ye=fe.NullL10n,Re=!1,Ve=null,Xe=null,it=null,ve=null){return new q.AnnotationLayerBuilder({pageDiv:S,pdfPage:oe,imageResourcesPath:le,renderForms:me,linkService:new z.SimpleLinkService,l10n:ye,annotationStorage:W,enableScripting:Re,hasJSActionsPromise:Ve,fieldObjectsPromise:it,mouseState:Xe,annotationCanvasMap:ve})}},$.DefaultStructTreeLayerFactory=class X{createStructTreeLayerBuilder(S){return new Z.StructTreeLayerBuilder({pdfPage:S})}},$.DefaultTextLayerFactory=class N{createTextLayerBuilder(S,oe,W,le=!1,me,ye){return new D.TextLayerBuilder({textLayerDiv:S,pageIndex:oe,viewport:W,enhanceTextSelection:le,eventBus:me,highlighter:ye})}},$.DefaultXfaLayerFactory=class J{createXfaLayerBuilder(S,oe,W=null,le=null){return new A.XfaLayerBuilder({pageDiv:S,pdfPage:oe,annotationStorage:W,linkService:new z.SimpleLinkService,xfaHtml:le})}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationLayerBuilder=void 0;var q=ae(3),fe=ae(4);$.AnnotationLayerBuilder=class z{constructor({pageDiv:D,pdfPage:A,linkService:F,downloadManager:X,annotationStorage:N=null,imageResourcesPath:J="",renderForms:j=!0,l10n:S=fe.NullL10n,enableScripting:oe=!1,hasJSActionsPromise:W=null,fieldObjectsPromise:le=null,mouseState:me=null,annotationCanvasMap:ye=null}){this.pageDiv=D,this.pdfPage=A,this.linkService=F,this.downloadManager=X,this.imageResourcesPath=J,this.renderForms=j,this.l10n=S,this.annotationStorage=N,this.enableScripting=oe,this._hasJSActionsPromise=W,this._fieldObjectsPromise=le,this._mouseState=me,this._annotationCanvasMap=ye,this.div=null,this._cancelled=!1}render(D,A="display"){var F=this;return B(function*(){const[X,N=!1,J=null]=yield Promise.all([F.pdfPage.getAnnotations({intent:A}),F._hasJSActionsPromise,F._fieldObjectsPromise]);if(F._cancelled||0===X.length)return;const j={viewport:D.clone({dontFlip:!0}),div:F.div,annotations:X,page:F.pdfPage,imageResourcesPath:F.imageResourcesPath,renderForms:F.renderForms,linkService:F.linkService,downloadManager:F.downloadManager,annotationStorage:F.annotationStorage,enableScripting:F.enableScripting,hasJSActions:N,fieldObjects:J,mouseState:F._mouseState,annotationCanvasMap:F._annotationCanvasMap};F.div?q.AnnotationLayer.update(j):(F.div=document.createElement("div"),F.div.className="annotationLayer",F.pageDiv.appendChild(F.div),j.div=F.div,q.AnnotationLayer.render(j),F.l10n.translate(F.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},se=>{let $;$=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:R(6036),se.exports=$},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.fixupLangCode=function z(A){return fe[A?.toLowerCase()]||A},$.getL10nFallback=q;const ae={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function q(A,F){switch(A){case"find_match_count":A=`find_match_count[${1===F.total?"one":"other"}]`;break;case"find_match_count_limit":A=`find_match_count_limit[${1===F.limit?"one":"other"}]`}return ae[A]||""}const fe={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};$.NullL10n={getLanguage:()=>B(function*(){return"en-us"})(),getDirection:()=>B(function*(){return"ltr"})(),get:(A,F=null,X=q(A,F))=>B(function*(){return function Z(A,F){return F?A.replace(/\{\{\s*(\w+)\s*\}\}/g,(X,N)=>N in F?F[N]:"{{"+N+"}}"):A}(X,F)})(),translate:A=>B(function*(){})()}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SimpleLinkService=$.PDFLinkService=$.LinkTarget=void 0;var q=ae(6);const z={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function Z(j,{url:S,target:oe,rel:W,enabled:le=!0}={}){if(!S||"string"!=typeof S)throw new Error('A valid "url" parameter must provided.');const me=(0,q.removeNullCharacters)(S);le?j.href=j.title=me:(j.href="",j.title=`Disabled: ${me}`,j.onclick=()=>!1);let ye="";switch(oe){case z.NONE:break;case z.SELF:ye="_self";break;case z.BLANK:ye="_blank";break;case z.PARENT:ye="_parent";break;case z.TOP:ye="_top"}j.target=ye,j.rel="string"==typeof W?W:"noopener noreferrer nofollow"}$.LinkTarget=z;var D=new WeakMap,A=new WeakSet;class F{constructor({eventBus:S,externalLinkTarget:oe=null,externalLinkRel:W=null,ignoreDestinationZoom:le=!1}={}){te(this,A),O(this,D,{writable:!0,value:new Map}),this.eventBus=S,this.externalLinkTarget=oe,this.externalLinkRel=W,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=le,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(S,oe=null){this.baseUrl=oe,this.pdfDocument=S,re(this,D).clear()}setViewer(S){this.pdfViewer=S}setHistory(S){this.pdfHistory=S}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(S){this.pdfViewer.currentPageNumber=S}get rotation(){return this.pdfViewer.pagesRotation}set rotation(S){this.pdfViewer.pagesRotation=S}goToDestination(S){var oe=this;return B(function*(){if(!oe.pdfDocument)return;let W,le;"string"==typeof S?(W=S,le=yield oe.pdfDocument.getDestination(S)):(W=null,le=yield S),Array.isArray(le)?ie(oe,A,X).call(oe,S,W,le):console.error(`PDFLinkService.goToDestination: "${le}" is not a valid destination array, for dest="${S}".`)})()}goToPage(S){if(!this.pdfDocument)return;const oe="string"==typeof S&&this.pdfViewer.pageLabelToPageNumber(S)||0|S;Number.isInteger(oe)&&oe>0&&oe<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(oe)),this.pdfViewer.scrollPageIntoView({pageNumber:oe})):console.error(`PDFLinkService.goToPage: "${S}" is not a valid page.`)}addLinkAttributes(S,oe,W=!1){Z(S,{url:oe,target:W?z.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(S){if("string"==typeof S){if(S.length>0)return this.getAnchorUrl("#"+escape(S))}else if(Array.isArray(S)){const oe=JSON.stringify(S);if(oe.length>0)return this.getAnchorUrl("#"+escape(oe))}return this.getAnchorUrl("")}getAnchorUrl(S){return(this.baseUrl||"")+S}setHash(S){if(!this.pdfDocument)return;let oe,W;if(S.includes("=")){const le=(0,q.parseQueryString)(S);if(le.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:le.get("search").replace(/"/g,""),phraseSearch:"true"===le.get("phrase")}),le.has("page")&&(oe=0|le.get("page")||1),le.has("zoom")){const me=le.get("zoom").split(","),ye=me[0],Re=parseFloat(ye);ye.includes("Fit")?"Fit"===ye||"FitB"===ye?W=[null,{name:ye}]:"FitH"===ye||"FitBH"===ye||"FitV"===ye||"FitBV"===ye?W=[null,{name:ye},me.length>1?0|me[1]:null]:"FitR"===ye?5!==me.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):W=[null,{name:ye},0|me[1],0|me[2],0|me[3],0|me[4]]:console.error(`PDFLinkService.setHash: "${ye}" is not a valid zoom value.`):W=[null,{name:"XYZ"},me.length>1?0|me[1]:null,me.length>2?0|me[2]:null,Re?Re/100:ye]}W?this.pdfViewer.scrollPageIntoView({pageNumber:oe||this.page,destArray:W,allowNegativeOffset:!0}):oe&&(this.page=oe),le.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:le.get("pagemode")}),le.has("nameddest")&&this.goToDestination(le.get("nameddest"))}else{W=unescape(S);try{W=JSON.parse(W),Array.isArray(W)||(W=W.toString())}catch{}if("string"==typeof W||pe(F,F,N).call(F,W))return void this.goToDestination(W);console.error(`PDFLinkService.setHash: "${unescape(S)}" is not a valid destination.`)}}executeNamedAction(S){switch(S){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:S})}cachePageRef(S,oe){if(!oe)return;const W=0===oe.gen?`${oe.num}R`:`${oe.num}R${oe.gen}`;re(this,D).set(W,S)}_cachedPageNumber(S){if(!S)return null;const oe=0===S.gen?`${S.num}R`:`${S.num}R${S.gen}`;return re(this,D).get(oe)||null}isPageVisible(S){return this.pdfViewer.isPageVisible(S)}isPageCached(S){return this.pdfViewer.isPageCached(S)}}function X(j,S=null,oe){const W=oe[0];let le;if("object"==typeof W&&null!==W){if(le=this._cachedPageNumber(W),!le)return void this.pdfDocument.getPageIndex(W).then(me=>{this.cachePageRef(me+1,W),ie(this,A,X).call(this,j,S,oe)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${W}" is not a valid page reference, for dest="${j}".`)})}else{if(!Number.isInteger(W))return void console.error(`PDFLinkService.#goToDestinationHelper: "${W}" is not a valid destination reference, for dest="${j}".`);le=W+1}!le||le<1||le>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${le}" is not a valid page number, for dest="${j}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:S,explicitDest:oe,pageNumber:le})),this.pdfViewer.scrollPageIntoView({pageNumber:le,destArray:oe,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function N(j){if(!Array.isArray(j))return!1;const S=j.length;if(S<2)return!1;const oe=j[0];if(!("object"==typeof oe&&Number.isInteger(oe.num)&&Number.isInteger(oe.gen)||Number.isInteger(oe)&&oe>=0))return!1;const W=j[1];if("object"!=typeof W||"string"!=typeof W.name)return!1;let le=!0;switch(W.name){case"XYZ":if(5!==S)return!1;break;case"Fit":case"FitB":return 2===S;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==S)return!1;break;case"FitR":if(6!==S)return!1;le=!1;break;default:return!1}for(let me=2;me<S;me++){const ye=j[me];if(!("number"==typeof ye||le&&null===ye))return!1}return!0}$.PDFLinkService=F,$.SimpleLinkService=class J{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(S){}get rotation(){return 0}set rotation(S){}goToDestination(S){return B(function*(){})()}goToPage(S){}addLinkAttributes(S,oe,W=!1){Z(S,{url:oe,enabled:this.externalLinkEnabled})}getDestinationHash(S){return"#"}getAnchorUrl(S){return"#"}setHash(S){}executeNamedAction(S){}cachePageRef(S,oe){}isPageVisible(S){return!0}isPageCached(S){return!0}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.animationStarted=$.VERTICAL_PADDING=$.UNKNOWN_SCALE=$.TextLayerMode=$.SpreadMode=$.SidebarView=$.ScrollMode=$.SCROLLBAR_PADDING=$.RenderingStates=$.RendererType=$.ProgressBar=$.PresentationModeState=$.OutputScale=$.MIN_SCALE=$.MAX_SCALE=$.MAX_AUTO_SCALE=$.DEFAULT_SCALE_VALUE=$.DEFAULT_SCALE_DELTA=$.DEFAULT_SCALE=$.AutoPrintRegExp=void 0,$.apiPageLayoutToViewerModes=function Ot(nt){let dt=W.VERTICAL,kt=le.NONE;switch(nt){case"SinglePage":dt=W.PAGE;break;case"OneColumn":break;case"TwoPageLeft":dt=W.PAGE;case"TwoColumnLeft":kt=le.ODD;break;case"TwoPageRight":dt=W.PAGE;case"TwoColumnRight":kt=le.EVEN}return{scrollMode:dt,spreadMode:kt}},$.apiPageModeToSidebarView=function At(nt){switch(nt){case"UseNone":return j.NONE;case"UseThumbs":return j.THUMBS;case"UseOutlines":return j.OUTLINE;case"UseAttachments":return j.ATTACHMENTS;case"UseOC":return j.LAYERS}return j.NONE},$.approximateFraction=function k(nt){if(Math.floor(nt)===nt)return[nt,1];const dt=1/nt;if(dt>8)return[1,8];if(Math.floor(dt)===dt)return[1,dt];const Ke=nt>1?dt:nt;let Ne,ge=0,xe=1,ft=1,wt=1;for(;;){const we=ge+ft,Fe=xe+wt;if(Fe>8)break;Ke<=we/Fe?(ft=we,wt=Fe):(ge=we,xe=Fe)}return Ne=Ke-ge/xe<ft/wt-Ke?Ke===nt?[ge,xe]:[xe,ge]:Ke===nt?[ft,wt]:[wt,ft],Ne},$.backtrackBeforeAllVisibleElements=ne,$.binarySearchFirstItem=b,$.getActiveOrFocusedElement=function Rt(){let nt=document,dt=nt.activeElement||nt.querySelector(":focus");for(;dt?.shadowRoot;)nt=dt.shadowRoot,dt=nt.activeElement||nt.querySelector(":focus");return dt},$.getPageSizeInches=function Q({view:nt,userUnit:dt,rotate:kt}){const[Ke,ge,xe,ft]=nt,wt=kt%180!=0,Ne=(xe-Ke)/72*dt,we=(ft-ge)/72*dt;return{width:wt?we:Ne,height:wt?Ne:we}},$.getVisibleElements=function U({scrollEl:nt,views:dt,sortByVisibility:kt=!1,horizontal:Ke=!1,rtl:ge=!1}){const xe=nt.scrollTop,ft=xe+nt.clientHeight,wt=nt.scrollLeft,Ne=wt+nt.clientWidth,rt=[],vt=new Set,Yt=dt.length;let Ze=b(dt,Ke?function Fe(Ae){const Pe=Ae.div,We=Pe.offsetLeft+Pe.clientLeft;return ge?We<Ne:We+Pe.clientWidth>wt}:function we(Ae){const Pe=Ae.div;return Pe.offsetTop+Pe.clientTop+Pe.clientHeight>xe});Ze>0&&Ze<Yt&&!Ke&&(Ze=ne(Ze,dt,xe));let Ee=Ke?Ne:-1;for(let Ae=Ze;Ae<Yt;Ae++){const Pe=dt[Ae],We=Pe.div,at=We.offsetLeft+We.clientLeft,Dt=We.offsetTop+We.clientTop,Xt=We.clientWidth,tn=We.clientHeight,Rn=at+Xt,en=Dt+tn;if(-1===Ee)en>=ft&&(Ee=en);else if((Ke?at:Dt)>Ee)break;if(en<=xe||Dt>=ft||Rn<=wt||at>=Ne)continue;const nn=Math.max(0,xe-Dt)+Math.max(0,en-ft),Pn=(Xt-(Math.max(0,wt-at)+Math.max(0,Rn-Ne)))/Xt;rt.push({id:Pe.id,x:at,y:Dt,view:Pe,percent:(tn-nn)/tn*Pn*100|0,widthPercent:100*Pn|0}),vt.add(Pe.id)}const Te=rt[0],Ce=rt[rt.length-1];return kt&&rt.sort(function(Ae,Pe){const We=Ae.percent-Pe.percent;return Math.abs(We)>.001?-We:Ae.id-Pe.id}),{first:Te,last:Ce,views:rt,ids:vt}},$.isPortraitOrientation=function Qe(nt){return nt.width<=nt.height},$.isValidRotation=function Ue(nt){return Number.isInteger(nt)&&nt%90==0},$.isValidScrollMode=function Be(nt){return Number.isInteger(nt)&&Object.values(W).includes(nt)&&nt!==W.UNKNOWN},$.isValidSpreadMode=function Ye(nt){return Number.isInteger(nt)&&Object.values(le).includes(nt)&&nt!==le.UNKNOWN},$.noContextMenuHandler=function be(nt){nt.preventDefault()},$.normalizeWheelEventDelta=function ke(nt){let dt=He(nt);return 0===nt.deltaMode?dt/=900:1===nt.deltaMode&&(dt/=30),dt},$.normalizeWheelEventDirection=He,$.parseQueryString=function Xe(nt){const dt=new Map;for(const[kt,Ke]of new URLSearchParams(nt))dt.set(kt.toLowerCase(),Ke);return dt},$.removeNullCharacters=function M(nt,dt=!1){return"string"!=typeof nt?(console.error("The argument must be a string."),nt):(dt&&(nt=nt.replace(ve," ")),nt.replace(it,""))},$.roundToDivide=function L(nt,dt){const kt=nt%dt;return 0===kt?nt:Math.round(nt-kt+dt)},$.scrollIntoView=function Re(nt,dt,kt=!1){let Ke=nt.offsetParent;if(!Ke)return void console.error("offsetParent is not set -- cannot scroll");let ge=nt.offsetTop+nt.clientTop,xe=nt.offsetLeft+nt.clientLeft;for(;Ke.clientHeight===Ke.scrollHeight&&Ke.clientWidth===Ke.scrollWidth||kt&&(Ke.classList.contains("markedContent")||"hidden"===getComputedStyle(Ke).overflow);)if(ge+=Ke.offsetTop,xe+=Ke.offsetLeft,Ke=Ke.offsetParent,!Ke)return;dt&&(void 0!==dt.top&&(ge+=dt.top),void 0!==dt.left&&(xe+=dt.left,Ke.scrollLeft=xe)),Ke.scrollTop=ge},$.watchScroll=function Ve(nt,dt){const kt=function(xe){ge||(ge=window.requestAnimationFrame(function(){ge=null;const wt=nt.scrollLeft,Ne=Ke.lastX;wt!==Ne&&(Ke.right=wt>Ne),Ke.lastX=wt;const we=nt.scrollTop,Fe=Ke.lastY;we!==Fe&&(Ke.down=we>Fe),Ke.lastY=we,dt(Ke)}))},Ke={right:!0,down:!0,lastX:nt.scrollLeft,lastY:nt.scrollTop,_eventHandler:kt};let ge=null;return nt.addEventListener("scroll",kt,!0),Ke},$.DEFAULT_SCALE_VALUE="auto",$.DEFAULT_SCALE=1,$.DEFAULT_SCALE_DELTA=1.1,$.MIN_SCALE=.1,$.MAX_SCALE=10,$.UNKNOWN_SCALE=0,$.MAX_AUTO_SCALE=1.25,$.SCROLLBAR_PADDING=40,$.VERTICAL_PADDING=5,$.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},$.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const j={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};$.SidebarView=j,$.RendererType={CANVAS:"canvas",SVG:"svg"},$.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const W={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};$.ScrollMode=W;const le={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};$.SpreadMode=le,$.AutoPrintRegExp=/\bprint\s*\(/,$.OutputScale=class ye{constructor(){const dt=window.devicePixelRatio||1;this.sx=dt,this.sy=dt}get scaled(){return 1!==this.sx||1!==this.sy}};const it=/\x00/g,ve=/[\x01-\x1F]/g;function b(nt,dt,kt=0){let Ke=kt,ge=nt.length-1;if(ge<0||!dt(nt[ge]))return nt.length;if(dt(nt[Ke]))return Ke;for(;Ke<ge;){const xe=Ke+ge>>1;dt(nt[xe])?ge=xe:Ke=xe+1}return Ke}function ne(nt,dt,kt){if(nt<2)return nt;let Ke=dt[nt].div,ge=Ke.offsetTop+Ke.clientTop;ge>=kt&&(Ke=dt[nt-1].div,ge=Ke.offsetTop+Ke.clientTop);for(let xe=nt-2;xe>=0&&(Ke=dt[xe].div,!(Ke.offsetTop+Ke.clientTop+Ke.clientHeight<=ge));--xe)nt=xe;return nt}function He(nt){let dt=Math.hypot(nt.deltaX,nt.deltaY);const kt=Math.atan2(nt.deltaY,nt.deltaX);return-.25*Math.PI<kt&&kt<.75*Math.PI&&(dt=-dt),dt}const gt=new Promise(function(nt){window.requestAnimationFrame(nt)});$.animationStarted=gt;var lt=new WeakSet;function ct(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}$.ProgressBar=class _t{constructor(dt){if(te(this,lt),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(dt+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(dt){this._indeterminate=isNaN(dt),this._percent=function Tt(nt,dt,kt){return Math.min(Math.max(nt,dt),kt)}(dt,0,100),ie(this,lt,ct).call(this)}setWidth(dt){if(!dt)return;const Ke=dt.parentNode.offsetWidth-dt.offsetWidth;Ke>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${Ke}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StructTreeLayerBuilder=void 0;const ae={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},q=/^H(\d+)$/;$.StructTreeLayerBuilder=class fe{constructor({pdfPage:Z}){this.pdfPage=Z}render(Z){return this._walk(Z)}_setAttributes(Z,D){void 0!==Z.alt&&D.setAttribute("aria-label",Z.alt),void 0!==Z.id&&D.setAttribute("aria-owns",Z.id),void 0!==Z.lang&&D.setAttribute("lang",Z.lang)}_walk(Z){if(!Z)return null;const D=document.createElement("span");if("role"in Z){const{role:A}=Z,F=A.match(q);F?(D.setAttribute("role","heading"),D.setAttribute("aria-level",F[1])):ae[A]&&D.setAttribute("role",ae[A])}if(this._setAttributes(Z,D),Z.children)if(1===Z.children.length&&"id"in Z.children[0])this._setAttributes(Z.children[0],D);else for(const A of Z.children)D.appendChild(this._walk(A));return D}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerBuilder=void 0;var q=ae(3);$.TextLayerBuilder=class z{constructor({textLayerDiv:D,eventBus:A,pageIndex:F,viewport:X,highlighter:N=null,enhanceTextSelection:J=!1}){this.textLayerDiv=D,this.eventBus=A,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=F+1,this.viewport=X,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=N,this.enhanceTextSelection=J,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const D=document.createElement("div");D.className="endOfContent",this.textLayerDiv.appendChild(D)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(D=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const A=document.createDocumentFragment();this.textLayerRenderTask=(0,q.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:A,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:D,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(A),this._finishRendering(),this.highlighter?.enable()},function(F){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(D){this.cancel(),this.textContentStream=D}setTextContent(D){this.cancel(),this.textContent=D}_bindMouse(){const D=this.textLayerDiv;let A=null;D.addEventListener("mousedown",F=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(A&&(clearTimeout(A),A=null));const X=D.querySelector(".endOfContent");if(!X)return;let N=F.target!==D;if(N=N&&"none"!==window.getComputedStyle(X).getPropertyValue("-moz-user-select"),N){const J=D.getBoundingClientRect(),j=Math.max(0,(F.pageY-J.top)/J.height);X.style.top=(100*j).toFixed(2)+"%"}X.classList.add("active")}),D.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(A=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),A=null},300));const F=D.querySelector(".endOfContent");!F||(F.style.top="",F.classList.remove("active"))})}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayerBuilder=void 0;var q=ae(3);$.XfaLayerBuilder=class fe{constructor({pageDiv:Z,pdfPage:D,annotationStorage:A=null,linkService:F,xfaHtml:X=null}){this.pageDiv=Z,this.pdfPage=D,this.annotationStorage=A,this.linkService=F,this.xfaHtml=X,this.div=null,this._cancelled=!1}render(Z,D="display"){if("print"===D){const A={viewport:Z.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:D},F=document.createElement("div");this.pageDiv.appendChild(F),A.div=F;const X=q.XfaLayer.render(A);return Promise.resolve(X)}return this.pdfPage.getXfa().then(A=>{if(this._cancelled||!A)return{textDivs:[]};const F={viewport:Z.clone({dontFlip:!0}),div:this.div,xfaHtml:A,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:D};return this.div?q.XfaLayer.update(F):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),F.div=this.div,q.XfaLayer.render(F))}).catch(A=>{console.error(A)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFViewer=$.PDFSinglePageViewer=void 0;var q=ae(6),fe=ae(11);$.PDFViewer=class z extends fe.BaseViewer{},$.PDFSinglePageViewer=class Z extends fe.BaseViewer{_resetView(){super._resetView(),this._scrollMode=q.ScrollMode.PAGE,this._spreadMode=q.SpreadMode.NONE}set scrollMode(A){}_updateScrollMode(){}set spreadMode(A){}_updateSpreadMode(){}}},(se,$,ae)=>{let q;Object.defineProperty($,"__esModule",{value:!0}),$.PagesCountLimit=$.PDFPageViewBuffer=$.BaseViewer=void 0;var fe=ae(3),z=ae(6),Z=ae(2),D=ae(4),A=ae(12),F=ae(14),X=ae(5),N=ae(7),J=ae(15),j=ae(8),S=ae(9);const W="enablePermissions",le={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};$.PagesCountLimit=le;var me=new WeakMap,ye=new WeakMap,Re=new WeakSet;q=Symbol.iterator;class Ve{constructor(ge){te(this,Re),O(this,me,{writable:!0,value:new Set}),O(this,ye,{writable:!0,value:0}),s(this,ye,ge)}push(ge){const xe=re(this,me);xe.has(ge)&&xe.delete(ge),xe.add(ge),xe.size>re(this,ye)&&ie(this,Re,Xe).call(this)}resize(ge,xe=null){s(this,ye,ge);const ft=re(this,me);if(xe){const wt=ft.size;let Ne=1;for(const we of ft)if(xe.has(we.id)&&(ft.delete(we),ft.add(we)),++Ne>wt)break}for(;ft.size>re(this,ye);)ie(this,Re,Xe).call(this)}has(ge){return re(this,me).has(ge)}[q](){return re(this,me).keys()}}function Xe(){const Ke=re(this,me).keys().next().value;Ke?.destroy(),re(this,me).delete(Ke)}$.PDFPageViewBuffer=Ve;var it=new WeakMap,ve=new WeakMap,M=new WeakMap,b=new WeakMap,k=new WeakMap,L=new WeakMap,Q=new WeakMap,ne=new WeakSet,U=new WeakSet,be=new WeakSet,He=new WeakSet,ke=new WeakSet,Ue=new WeakSet,Be=new WeakSet,Ye=new WeakSet,Qe=new WeakSet;class gt{constructor(ge){if(te(this,Qe),te(this,Ye),te(this,Be),te(this,Ue),te(this,ke),te(this,He),te(this,be),te(this,U),te(this,ne),O(this,it,{writable:!0,value:null}),O(this,ve,{writable:!0,value:fe.AnnotationMode.ENABLE_FORMS}),O(this,M,{writable:!0,value:null}),O(this,b,{writable:!0,value:!1}),O(this,k,{writable:!0,value:0}),O(this,L,{writable:!0,value:null}),O(this,Q,{writable:!0,value:null}),this.constructor===gt)throw new Error("Cannot initialize BaseViewer.");const xe="2.14.305";if(fe.version!==xe)throw new Error(`The API version "${fe.version}" does not match the Viewer version "${xe}".`);if(this.container=ge.container,this.viewer=ge.viewer||ge.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=ge.eventBus,this.linkService=ge.linkService||new X.SimpleLinkService,this.downloadManager=ge.downloadManager||null,this.findController=ge.findController||null,this._scriptingManager=ge.scriptingManager||null,this.removePageBorders=ge.removePageBorders||!1,this.textLayerMode=ge.textLayerMode??z.TextLayerMode.ENABLE,s(this,ve,ge.annotationMode??fe.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=ge.imageResourcesPath||"",this.enablePrintAutoRotate=ge.enablePrintAutoRotate||!1,this.renderer=ge.renderer||z.RendererType.CANVAS,this.useOnlyCssZoom=ge.useOnlyCssZoom||!1,this.maxCanvasPixels=ge.maxCanvasPixels,this.l10n=ge.l10n||D.NullL10n,s(this,b,ge.enablePermissions||!1),this.pageColors=ge.pageColors||null,ge.pageColors&&(!CSS.supports("color",ge.pageColors.background)||!CSS.supports("color",ge.pageColors.foreground))&&((ge.pageColors.background||ge.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!ge.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new F.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=ge.renderingQueue,this._doc=document.documentElement,this.scroll=(0,z.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=z.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(ge){return this._pages[ge]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(ge){return ge?.pdfPage})}get renderForms(){return re(this,ve)===fe.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(ge){if(!Number.isInteger(ge))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(ge,!0)||console.error(`currentPageNumber: "${ge}" is not a valid page.`)}_setCurrentPageNumber(ge,xe=!1){if(this._currentPageNumber===ge)return xe&&ie(this,Ue,Ot).call(this),!0;if(!(0<ge&&ge<=this.pagesCount))return!1;const ft=this._currentPageNumber;return this._currentPageNumber=ge,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:ge,pageLabel:this._pageLabels?.[ge-1]??null,previous:ft}),xe&&ie(this,Ue,Ot).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(ge){if(!this.pdfDocument)return;let xe=0|ge;if(this._pageLabels){const ft=this._pageLabels.indexOf(ge);ft>=0&&(xe=ft+1)}this._setCurrentPageNumber(xe,!0)||console.error(`currentPageLabel: "${ge}" is not a valid page.`)}get currentScale(){return this._currentScale!==z.UNKNOWN_SCALE?this._currentScale:z.DEFAULT_SCALE}set currentScale(ge){if(isNaN(ge))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(ge,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(ge){!this.pdfDocument||this._setScale(ge,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(ge){if(!(0,z.isValidRotation)(ge))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((ge%=360)<0&&(ge+=360),this._pagesRotation===ge))return;this._pagesRotation=ge;const xe=this._currentPageNumber,ft={rotation:ge};for(const wt of this._pages)wt.update(ft);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:ge,pageNumber:xe}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(ge){var xe=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=ge,!ge)return;const ft=ge.isPureXfa,wt=ge.numPages,Ne=ge.getPage(1),we=ge.getOptionalContentConfig(),Fe=re(this,b)?ge.getPermissions():Promise.resolve();if(wt>le.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const rt=this._scrollMode=z.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:rt})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:wt})},()=>{}),this._onBeforeDraw=rt=>{const vt=this._pages[rt.pageNumber-1];!vt||re(this,it).push(vt)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=rt=>{rt.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:rt.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,re(this,Q)&&(document.removeEventListener("visibilitychange",re(this,Q)),s(this,Q,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Ne,Fe]).then(([rt,vt])=>{if(ge!==this.pdfDocument)return;this._firstPageCapability.resolve(rt),this._optionalContentConfigPromise=we,ie(this,ne,Tt).call(this,vt);const Yt=this._scrollMode===z.ScrollMode.PAGE?null:this.viewer,Ze=this.currentScale,Ee=rt.getViewport({scale:Ze*fe.PixelsPerInch.PDF_TO_CSS_UNITS}),Te=this.textLayerMode===z.TextLayerMode.DISABLE||ft?null:this,Ce=re(this,ve)!==fe.AnnotationMode.DISABLE?this:null,Ae=ft?this:null;for(let We=1;We<=wt;++We){const at=new A.PDFPageView({container:Yt,eventBus:this.eventBus,id:We,scale:Ze,defaultViewport:Ee.clone(),optionalContentConfigPromise:we,renderingQueue:this.renderingQueue,textLayerFactory:Te,textLayerMode:this.textLayerMode,annotationLayerFactory:Ce,annotationMode:re(this,ve),xfaLayerFactory:Ae,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(at)}const Pe=this._pages[0];Pe&&(Pe.setPdfPage(rt),this.linkService.cachePageRef(1,rt.ref)),this._scrollMode===z.ScrollMode.PAGE?ie(this,be,_t).call(this):this._spreadMode!==z.SpreadMode.NONE&&this._updateSpreadMode(),ie(this,U,lt).call(this).then(B(function*(){if(xe.findController&&xe.findController.setDocument(ge),xe._scriptingManager&&xe._scriptingManager.setDocument(ge),ge.loadingParams.disableAutoFetch||wt>le.FORCE_LAZY_PAGE_INIT)return void xe._pagesCapability.resolve();let We=wt-1;if(We<=0)xe._pagesCapability.resolve();else for(let at=2;at<=wt;++at){const Dt=ge.getPage(at).then(Xt=>{const tn=xe._pages[at-1];tn.pdfPage||tn.setPdfPage(Xt),xe.linkService.cachePageRef(at,Xt.ref),0==--We&&xe._pagesCapability.resolve()},Xt=>{console.error(`Unable to get page ${at} to initialize viewer`,Xt),0==--We&&xe._pagesCapability.resolve()});at%le.PAUSE_EAGER_PAGE_INIT==0&&(yield Dt)}})),this.eventBus.dispatch("pagesinit",{source:this}),ge.getMetadata().then(({info:We})=>{ge===this.pdfDocument&&We.Language&&(this.viewer.lang=We.Language)}),this.defaultRenderingQueue&&this.update()}).catch(rt=>{console.error("Unable to initialize viewer",rt),this._pagesCapability.reject(rt)})}setPageLabels(ge){if(this.pdfDocument){ge?Array.isArray(ge)&&this.pdfDocument.numPages===ge.length?this._pageLabels=ge:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let xe=0,ft=this._pages.length;xe<ft;xe++)this._pages[xe].setPageLabel(this._pageLabels?.[xe]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=z.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,s(this,it,new Ve(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,fe.createPromiseCapability)(),this._onePageRenderedCapability=(0,fe.createPromiseCapability)(),this._pagesCapability=(0,fe.createPromiseCapability)(),this._scrollMode=z.ScrollMode.VERTICAL,this._previousScrollMode=z.ScrollMode.UNKNOWN,this._spreadMode=z.SpreadMode.NONE,s(this,L,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),re(this,Q)&&(document.removeEventListener("visibilitychange",re(this,Q)),s(this,Q,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(W),null!==re(this,M)&&(s(this,ve,re(this,M)),s(this,M,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(ge,xe,ft=!1,wt=!1){if(this._currentScaleValue=xe.toString(),ie(this,ke,Rt).call(this,ge))return void(wt&&this.eventBus.dispatch("scalechanging",{source:this,scale:ge,presetValue:xe}));this._doc.style.setProperty("--zoom-factor",ge);const Ne={scale:ge};for(const we of this._pages)we.update(Ne);if(this._currentScale=ge,!ft){let Fe,we=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(we=this._location.pageNumber,Fe=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:we,destArray:Fe,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:ge,presetValue:wt?xe:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==z.SpreadMode.NONE&&this._scrollMode!==z.ScrollMode.HORIZONTAL?2:1}_setScale(ge,xe=!1){let ft=parseFloat(ge);if(ft>0)this._setScaleUpdatePages(ft,ge,xe,!1);else{const wt=this._pages[this._currentPageNumber-1];if(!wt)return;let Ne=z.SCROLLBAR_PADDING,we=z.VERTICAL_PADDING;this.isInPresentationMode?Ne=we=4:this.removePageBorders?Ne=we=0:this._scrollMode===z.ScrollMode.HORIZONTAL&&([Ne,we]=[we,Ne]);const Fe=(this.container.clientWidth-Ne)/wt.width*wt.scale/this._pageWidthScaleFactor,rt=(this.container.clientHeight-we)/wt.height*wt.scale;switch(ge){case"page-actual":ft=1;break;case"page-width":ft=Fe;break;case"page-height":ft=rt;break;case"page-fit":ft=Math.min(Fe,rt);break;case"auto":const vt=(0,z.isPortraitOrientation)(wt)?Fe:Math.min(rt,Fe);ft=Math.min(z.MAX_AUTO_SCALE,vt);break;default:return void console.error(`_setScale: "${ge}" is an unknown zoom value.`)}this._setScaleUpdatePages(ft,ge,xe,!0)}}pageLabelToPageNumber(ge){if(!this._pageLabels)return null;const xe=this._pageLabels.indexOf(ge);return xe<0?null:xe+1}scrollPageIntoView({pageNumber:ge,destArray:xe=null,allowNegativeOffset:ft=!1,ignoreDestinationZoom:wt=!1}){if(!this.pdfDocument)return;const Ne=Number.isInteger(ge)&&this._pages[ge-1];if(!Ne)return void console.error(`scrollPageIntoView: "${ge}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!xe)return void this._setCurrentPageNumber(ge,!0);let Yt,Ze,we=0,Fe=0,rt=0,vt=0;const Ee=Ne.rotation%180!=0,Te=(Ee?Ne.height:Ne.width)/Ne.scale/fe.PixelsPerInch.PDF_TO_CSS_UNITS,Ce=(Ee?Ne.width:Ne.height)/Ne.scale/fe.PixelsPerInch.PDF_TO_CSS_UNITS;let Ae=0;switch(xe[1].name){case"XYZ":we=xe[2],Fe=xe[3],Ae=xe[4],we=null!==we?we:0,Fe=null!==Fe?Fe:Ce;break;case"Fit":case"FitB":Ae="page-fit";break;case"FitH":case"FitBH":Fe=xe[2],Ae="page-width",null===Fe&&this._location?(we=this._location.left,Fe=this._location.top):("number"!=typeof Fe||Fe<0)&&(Fe=Ce);break;case"FitV":case"FitBV":we=xe[2],rt=Te,vt=Ce,Ae="page-height";break;case"FitR":we=xe[2],Fe=xe[3],rt=xe[4]-we,vt=xe[5]-Fe,Yt=(this.container.clientWidth-(this.removePageBorders?0:z.SCROLLBAR_PADDING))/rt/fe.PixelsPerInch.PDF_TO_CSS_UNITS,Ze=(this.container.clientHeight-(this.removePageBorders?0:z.VERTICAL_PADDING))/vt/fe.PixelsPerInch.PDF_TO_CSS_UNITS,Ae=Math.min(Math.abs(Yt),Math.abs(Ze));break;default:return void console.error(`scrollPageIntoView: "${xe[1].name}" is not a valid destination type.`)}if(wt||(Ae&&Ae!==this._currentScale?this.currentScaleValue=Ae:this._currentScale===z.UNKNOWN_SCALE&&(this.currentScaleValue=z.DEFAULT_SCALE_VALUE)),"page-fit"===Ae&&!xe[4])return void ie(this,He,ct).call(this,Ne);const Pe=[Ne.viewport.convertToViewportPoint(we,Fe),Ne.viewport.convertToViewportPoint(we+rt,Fe+vt)];let We=Math.min(Pe[0][0],Pe[1][0]),at=Math.min(Pe[0][1],Pe[1][1]);ft||(We=Math.max(We,0),at=Math.max(at,0)),ie(this,He,ct).call(this,Ne,{left:We,top:at})}_updateLocation(ge){const xe=this._currentScale,ft=this._currentScaleValue,wt=parseFloat(ft)===xe?Math.round(1e4*xe)/100:ft,Ne=ge.id,Fe=this.container,rt=this._pages[Ne-1].getPagePoint(Fe.scrollLeft-ge.x,Fe.scrollTop-ge.y),vt=Math.round(rt[0]),Yt=Math.round(rt[1]);let Ze=`#page=${Ne}`;this.isInPresentationMode||(Ze+=`&zoom=${wt},${vt},${Yt}`),this._location={pageNumber:Ne,scale:wt,top:Yt,left:vt,rotation:this._pagesRotation,pdfOpenParams:Ze}}update(){const ge=this._getVisiblePages(),xe=ge.views,ft=xe.length;if(0===ft)return;const wt=Math.max(10,2*ft+1);re(this,it).resize(wt,ge.ids),this.renderingQueue.renderHighestPriority(ge);const Ne=this._spreadMode===z.SpreadMode.NONE&&(this._scrollMode===z.ScrollMode.PAGE||this._scrollMode===z.ScrollMode.VERTICAL),we=this._currentPageNumber;let Fe=!1;for(const rt of xe){if(rt.percent<100)break;if(rt.id===we&&Ne){Fe=!0;break}}this._setCurrentPageNumber(Fe?we:xe[0].id),this._updateLocation(ge.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(ge){return this.container.contains(ge)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===z.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===z.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const ge=this._scrollMode===z.ScrollMode.PAGE?re(this,L).pages:this._pages,xe=this._scrollMode===z.ScrollMode.HORIZONTAL;return(0,z.getVisibleElements)({scrollEl:this.container,views:ge,sortByVisibility:!0,horizontal:xe,rtl:xe&&this._isContainerRtl})}isPageVisible(ge){return!!this.pdfDocument&&(Number.isInteger(ge)&&ge>0&&ge<=this.pagesCount?this._getVisiblePages().ids.has(ge):(console.error(`isPageVisible: "${ge}" is not a valid page.`),!1))}isPageCached(ge){if(!this.pdfDocument)return!1;if(!(Number.isInteger(ge)&&ge>0&&ge<=this.pagesCount))return console.error(`isPageCached: "${ge}" is not a valid page.`),!1;const xe=this._pages[ge-1];return re(this,it).has(xe)}cleanup(){for(const ge of this._pages)ge.renderingState!==z.RenderingStates.FINISHED&&ge.reset()}_cancelRendering(){for(const ge of this._pages)ge.cancelRendering()}forceRendering(ge){const xe=ge||this._getVisiblePages(),ft=ie(this,Ye,dt).call(this,xe),Ne=this.renderingQueue.getHighestPriority(xe,this._pages,ft,this._spreadMode!==z.SpreadMode.NONE&&this._scrollMode!==z.ScrollMode.HORIZONTAL);return ie(this,Qe,kt).call(this,xe.ids),!!Ne&&(ie(this,Be,At).call(this,Ne).then(()=>{this.renderingQueue.renderView(Ne)}),!0)}createTextLayerBuilder(ge,xe,ft,wt=!1,Ne,we){return new j.TextLayerBuilder({textLayerDiv:ge,eventBus:Ne,pageIndex:xe,viewport:ft,enhanceTextSelection:!this.isInPresentationMode&&wt,highlighter:we})}createTextHighlighter(ge,xe){return new J.TextHighlighter({eventBus:xe,pageIndex:ge,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(ge,xe,ft=null,wt="",Ne=!0,we=D.NullL10n,Fe=null,rt=null,vt=null,Yt=null,Ze=null){return new Z.AnnotationLayerBuilder({pageDiv:ge,pdfPage:xe,annotationStorage:ft||this.pdfDocument?.annotationStorage,imageResourcesPath:wt,renderForms:Ne,linkService:this.linkService,downloadManager:this.downloadManager,l10n:we,enableScripting:Fe??this.enableScripting,hasJSActionsPromise:rt||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Yt||this.pdfDocument?.getFieldObjects(),mouseState:vt||this._scriptingManager?.mouseState,annotationCanvasMap:Ze})}createXfaLayerBuilder(ge,xe,ft=null){return new S.XfaLayerBuilder({pageDiv:ge,pdfPage:xe,annotationStorage:ft||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(ge){return new N.StructTreeLayerBuilder({pdfPage:ge})}get hasEqualPageSizes(){const ge=this._pages[0];for(let xe=1,ft=this._pages.length;xe<ft;++xe){const wt=this._pages[xe];if(wt.width!==ge.width||wt.height!==ge.height)return!1}return!0}getPagesOverview(){return this._pages.map(ge=>{const xe=ge.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,z.isPortraitOrientation)(xe)?{width:xe.width,height:xe.height,rotation:xe.rotation}:{width:xe.height,height:xe.width,rotation:(xe.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(ge){if(!(ge instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${ge}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=ge;const xe={optionalContentConfigPromise:ge};for(const ft of this._pages)ft.update(xe);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:ge})}get scrollMode(){return this._scrollMode}set scrollMode(ge){if(this._scrollMode!==ge){if(!(0,z.isValidScrollMode)(ge))throw new Error(`Invalid scroll mode: ${ge}`);this.pagesCount>le.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=ge,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ge}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(ge=null){const xe=this._scrollMode,ft=this.viewer;ft.classList.toggle("scrollHorizontal",xe===z.ScrollMode.HORIZONTAL),ft.classList.toggle("scrollWrapped",xe===z.ScrollMode.WRAPPED),this.pdfDocument&&ge&&(xe===z.ScrollMode.PAGE?ie(this,be,_t).call(this):this._previousScrollMode===z.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(ge,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(ge){if(this._spreadMode!==ge){if(!(0,z.isValidSpreadMode)(ge))throw new Error(`Invalid spread mode: ${ge}`);this._spreadMode=ge,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:ge}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(ge=null){if(!this.pdfDocument)return;const xe=this.viewer,ft=this._pages;if(this._scrollMode===z.ScrollMode.PAGE)ie(this,be,_t).call(this);else if(xe.textContent="",this._spreadMode===z.SpreadMode.NONE)for(const wt of this._pages)xe.appendChild(wt.div);else{const wt=this._spreadMode-1;let Ne=null;for(let we=0,Fe=ft.length;we<Fe;++we)null===Ne?(Ne=document.createElement("div"),Ne.className="spread",xe.appendChild(Ne)):we%2===wt&&(Ne=Ne.cloneNode(!1),xe.appendChild(Ne)),Ne.appendChild(ft[we].div)}!ge||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(ge,!0),this.update())}_getPageAdvance(ge,xe=!1){switch(this._scrollMode){case z.ScrollMode.WRAPPED:{const{views:ft}=this._getVisiblePages(),wt=new Map;for(const{id:Ne,y:we,percent:Fe,widthPercent:rt}of ft){if(0===Fe||rt<100)continue;let vt=wt.get(we);vt||wt.set(we,vt||(vt=[])),vt.push(Ne)}for(const Ne of wt.values()){const we=Ne.indexOf(ge);if(-1===we)continue;const Fe=Ne.length;if(1===Fe)break;if(xe)for(let rt=we-1,vt=0;rt>=vt;rt--){const Ze=Ne[rt+1]-1;if(Ne[rt]<Ze)return ge-Ze}else for(let rt=we+1,vt=Fe;rt<vt;rt++){const Ze=Ne[rt-1]+1;if(Ne[rt]>Ze)return Ze-ge}if(xe){const rt=Ne[0];if(rt<ge)return ge-rt+1}else{const rt=Ne[Fe-1];if(rt>ge)return rt-ge+1}break}break}case z.ScrollMode.HORIZONTAL:break;case z.ScrollMode.PAGE:case z.ScrollMode.VERTICAL:{if(this._spreadMode===z.SpreadMode.NONE)break;const ft=this._spreadMode-1;if(xe&&ge%2!==ft)break;if(!xe&&ge%2===ft)break;const{views:wt}=this._getVisiblePages(),Ne=xe?ge-1:ge+1;for(const{id:we,percent:Fe,widthPercent:rt}of wt)if(we===Ne){if(Fe>0&&100===rt)return 2;break}break}}return 1}nextPage(){const ge=this._currentPageNumber,xe=this.pagesCount;if(ge>=xe)return!1;const ft=this._getPageAdvance(ge,!1)||1;return this.currentPageNumber=Math.min(ge+ft,xe),!0}previousPage(){const ge=this._currentPageNumber;if(ge<=1)return!1;const xe=this._getPageAdvance(ge,!0)||1;return this.currentPageNumber=Math.max(ge-xe,1),!0}increaseScale(ge=1){let xe=this._currentScale;do{xe=(xe*z.DEFAULT_SCALE_DELTA).toFixed(2),xe=Math.ceil(10*xe)/10,xe=Math.min(z.MAX_SCALE,xe)}while(--ge>0&&xe<z.MAX_SCALE);this.currentScaleValue=xe}decreaseScale(ge=1){let xe=this._currentScale;do{xe=(xe/z.DEFAULT_SCALE_DELTA).toFixed(2),xe=Math.floor(10*xe)/10,xe=Math.max(z.MIN_SCALE,xe)}while(--ge>0&&xe>z.MIN_SCALE);this.currentScaleValue=xe}updateContainerHeightCss(){const ge=this.container.clientHeight;ge!==re(this,k)&&(s(this,k,ge),this._doc.style.setProperty("--viewer-container-height",`${ge}px`))}}function Tt(Ke){!Ke||(Ke.includes(fe.PermissionFlag.COPY)||this.viewer.classList.add(W),!Ke.includes(fe.PermissionFlag.MODIFY_ANNOTATIONS)&&!Ke.includes(fe.PermissionFlag.FILL_INTERACTIVE_FORMS)&&re(this,ve)===fe.AnnotationMode.ENABLE_FORMS&&(s(this,M,re(this,ve)),s(this,ve,fe.AnnotationMode.ENABLE)))}function lt(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const Ke=new Promise(ge=>{s(this,Q,()=>{"hidden"===document.visibilityState&&(ge(),document.removeEventListener("visibilitychange",re(this,Q)),s(this,Q,null))}),document.addEventListener("visibilitychange",re(this,Q))});return Promise.race([this._onePageRenderedCapability.promise,Ke])}function _t(){if(this._scrollMode!==z.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const Ke=this._currentPageNumber,ge=re(this,L),xe=this.viewer;if(xe.textContent="",ge.pages.length=0,this._spreadMode!==z.SpreadMode.NONE||this.isInPresentationMode){const ft=new Set,wt=this._spreadMode-1;-1===wt?ft.add(Ke-1):Ke%2!==wt?(ft.add(Ke-1),ft.add(Ke)):(ft.add(Ke-2),ft.add(Ke-1));const Ne=document.createElement("div");if(Ne.className="spread",this.isInPresentationMode){const we=document.createElement("div");we.className="dummyPage",Ne.appendChild(we)}for(const we of ft){const Fe=this._pages[we];!Fe||(Ne.appendChild(Fe.div),ge.pages.push(Fe))}xe.appendChild(Ne)}else{const ft=this._pages[Ke-1];xe.appendChild(ft.div),ge.pages.push(ft)}ge.scrollDown=Ke>=ge.previousPageNumber,ge.previousPageNumber=Ke}function ct(Ke,ge=null){const{div:xe,id:ft}=Ke;if(this._scrollMode===z.ScrollMode.PAGE&&(this._setCurrentPageNumber(ft),ie(this,be,_t).call(this),this.update()),!ge&&!this.isInPresentationMode){const wt=xe.offsetLeft+xe.clientLeft,Ne=wt+xe.clientWidth,{scrollLeft:we,clientWidth:Fe}=this.container;(this._scrollMode===z.ScrollMode.HORIZONTAL||wt<we||Ne>we+Fe)&&(ge={left:0,top:0})}(0,z.scrollIntoView)(xe,ge)}function Rt(Ke){return Ke===this._currentScale||Math.abs(Ke-this._currentScale)<1e-15}function Ot(){const Ke=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),ie(this,He,ct).call(this,Ke)}function At(Ke){return nt.apply(this,arguments)}function nt(){return(nt=B(function*(Ke){if(Ke.pdfPage)return Ke.pdfPage;try{const ge=yield this.pdfDocument.getPage(Ke.id);return Ke.pdfPage||Ke.setPdfPage(ge),this.linkService._cachedPageNumber?.(ge.ref)||this.linkService.cachePageRef(Ke.id,ge.ref),ge}catch(ge){return console.error("Unable to get page for page view",ge),null}})).apply(this,arguments)}function dt(Ke){if(1===Ke.first?.id)return!0;if(Ke.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case z.ScrollMode.PAGE:return re(this,L).scrollDown;case z.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function kt(Ke){for(const ge of Ke)this._pages[ge-1]?.toggleLoadingIconSpinner(!0);for(const ge of re(this,it))Ke.has(ge.id)||ge.toggleLoadingIconSpinner(!1)}$.BaseViewer=gt},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFPageView=void 0;var q=ae(3),fe=ae(6),z=ae(13),Z=ae(4);const D=z.compatibilityParams.maxCanvasPixels||16777216;var A=new WeakMap;$.PDFPageView=class F{constructor(N){O(this,A,{writable:!0,value:q.AnnotationMode.ENABLE_FORMS});const J=N.container,j=N.defaultViewport;this.id=N.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=N.scale||fe.DEFAULT_SCALE,this.viewport=j,this.pdfPageRotate=j.rotation,this._optionalContentConfigPromise=N.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=N.textLayerMode??fe.TextLayerMode.ENABLE,s(this,A,N.annotationMode??q.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=N.imageResourcesPath||"",this.useOnlyCssZoom=N.useOnlyCssZoom||!1,this.maxCanvasPixels=N.maxCanvasPixels||D,this.pageColors=N.pageColors||null,this.eventBus=N.eventBus,this.renderingQueue=N.renderingQueue,this.textLayerFactory=N.textLayerFactory,this.annotationLayerFactory=N.annotationLayerFactory,this.xfaLayerFactory=N.xfaLayerFactory,this.textHighlighter=N.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=N.structTreeLayerFactory,this.renderer=N.renderer||fe.RendererType.CANVAS,this.l10n=N.l10n||Z.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=fe.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const S=document.createElement("div");S.className="page",S.style.width=Math.floor(this.viewport.width)+"px",S.style.height=Math.floor(this.viewport.height)+"px",S.setAttribute("data-page-number",this.id),S.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(oe=>{S.setAttribute("aria-label",oe)}),this.div=S,J?.appendChild(S)}setPdfPage(N){this.pdfPage=N,this.pdfPageRotate=N.rotate,this.viewport=N.getViewport({scale:this.scale*q.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var N=this;return B(function*(){let J=null;try{yield N.annotationLayer.render(N.viewport,"display")}catch(j){J=j}finally{N.eventBus.dispatch("annotationlayerrendered",{source:N,pageNumber:N.id,error:J})}})()}_renderXfaLayer(){var N=this;return B(function*(){let J=null;try{const j=yield N.xfaLayer.render(N.viewport,"display");N.textHighlighter&&N._buildXfaTextContentItems(j.textDivs)}catch(j){J=j}finally{N.eventBus.dispatch("xfalayerrendered",{source:N,pageNumber:N.id,error:J})}})()}_buildXfaTextContentItems(N){var J=this;return B(function*(){const j=yield J.pdfPage.getTextContent(),S=[];for(const oe of j.items)S.push(oe.str);J.textHighlighter.setTextMapping(N,S),J.textHighlighter.enable()})()}_resetZoomLayer(N=!1){if(!this.zoomLayer)return;const J=this.zoomLayer.firstChild;this.paintedViewportMap.delete(J),J.width=0,J.height=0,N&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:N=!1,keepAnnotationLayer:J=!1,keepXfaLayer:j=!1}={}){this.cancelRendering({keepAnnotationLayer:J,keepXfaLayer:j}),this.renderingState=fe.RenderingStates.INITIAL;const S=this.div;S.style.width=Math.floor(this.viewport.width)+"px",S.style.height=Math.floor(this.viewport.height)+"px";const oe=S.childNodes,W=N&&this.zoomLayer||null,le=J&&this.annotationLayer?.div||null,me=j&&this.xfaLayer?.div||null;for(let ye=oe.length-1;ye>=0;ye--){const Re=oe[ye];switch(Re){case W:case le:case me:continue}Re.remove()}S.removeAttribute("data-loaded"),le&&this.annotationLayer.hide(),me&&this.xfaLayer.hide(),W||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(ye=>{this.loadingIconDiv?.setAttribute("aria-label",ye)}),S.appendChild(this.loadingIconDiv)}update({scale:N=0,rotation:J=null,optionalContentConfigPromise:j=null}){if(this.scale=N||this.scale,"number"==typeof J&&(this.rotation=J),j instanceof Promise&&(this._optionalContentConfigPromise=j),this.viewport=this.viewport.clone({scale:this.scale*q.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:W}=document.documentElement;W.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let oe=!1;if(this.canvas&&this.maxCanvasPixels>0){const W=this.outputScale;(Math.floor(this.viewport.width)*W.sx|0)*(Math.floor(this.viewport.height)*W.sy|0)>this.maxCanvasPixels&&(oe=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&oe)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:N=!1,keepXfaLayer:J=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!N||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!J||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:N,redrawAnnotationLayer:J=!1,redrawXfaLayer:j=!1}){const S=this.viewport.width,oe=this.viewport.height,W=this.div;N.style.width=N.parentNode.style.width=W.style.width=Math.floor(S)+"px",N.style.height=N.parentNode.style.height=W.style.height=Math.floor(oe)+"px";const le=this.viewport.rotation-this.paintedViewportMap.get(N).rotation,me=Math.abs(le);let ye=1,Re=1;if((90===me||270===me)&&(ye=oe/S,Re=S/oe),N.style.transform=`rotate(${le}deg) scale(${ye}, ${Re})`,this.textLayer){const Ve=this.textLayer.viewport,it=Math.abs(this.viewport.rotation-Ve.rotation);let ve=S/Ve.width;(90===it||270===it)&&(ve=S/Ve.height);const M=this.textLayer.textLayerDiv;let b,k;switch(it){case 0:b=k=0;break;case 90:b=0,k="-"+M.style.height;break;case 180:b="-"+M.style.width,k="-"+M.style.height;break;case 270:b="-"+M.style.width,k=0;break;default:console.error("Bad rotation value.")}M.style.transform=`rotate(${it}deg) scale(${ve}) translate(${b}, ${k})`,M.style.transformOrigin="0% 0%"}J&&this.annotationLayer&&this._renderAnnotationLayer(),j&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(N,J){return this.viewport.convertToPdfPoint(N,J)}toggleLoadingIconSpinner(N=!1){this.loadingIconDiv?.classList.toggle("notVisible",!N)}draw(){var N=this;this.renderingState!==fe.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:J,pdfPage:j}=this;if(!j)return this.renderingState=fe.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=fe.RenderingStates.RUNNING;const S=document.createElement("div");S.style.width=J.style.width,S.style.height=J.style.height,S.classList.add("canvasWrapper"),this.annotationLayer?.div?J.insertBefore(S,this.annotationLayer.div):J.appendChild(S);let oe=null;if(this.textLayerMode!==fe.TextLayerMode.DISABLE&&this.textLayerFactory){const Re=document.createElement("div");Re.className="textLayer",Re.style.width=S.style.width,Re.style.height=S.style.height,this.annotationLayer?.div?J.insertBefore(Re,this.annotationLayer.div):J.appendChild(Re),oe=this.textLayerFactory.createTextLayerBuilder(Re,this.id-1,this.viewport,this.textLayerMode===fe.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=oe,re(this,A)!==q.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(J,j,null,this.imageResourcesPath,re(this,A)===q.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&J.appendChild(this.xfaLayer.div);let W=null;this.renderingQueue&&(W=Re=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=fe.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=fe.RenderingStates.RUNNING,Re()});Re()});const le=function(){var Re=B(function*(Ve=null){if(me===N.paintTask&&(N.paintTask=null),Ve instanceof q.RenderingCancelledException)N._renderError=null;else if(N._renderError=Ve,N.renderingState=fe.RenderingStates.FINISHED,N.loadingIconDiv&&(N.loadingIconDiv.remove(),delete N.loadingIconDiv),N._resetZoomLayer(!0),N.eventBus.dispatch("pagerendered",{source:N,pageNumber:N.id,cssTransform:!1,timestamp:performance.now(),error:N._renderError}),Ve)throw Ve});return function(){return Re.apply(this,arguments)}}(),me=this.renderer===fe.RendererType.SVG?this.paintOnSvg(S):this.paintOnCanvas(S);me.onRenderContinue=W,this.paintTask=me;const ye=me.promise.then(()=>le(null).then(()=>{if(oe){const Re=j.streamTextContent({includeMarkedContent:!0});oe.setTextContentStream(Re),oe.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(Re){return le(Re)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(J,j,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=Re=>{Re.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(Ve=>{if(!Ve||!this.canvas)return;const Xe=this.structTreeLayer.render(Ve);Xe.classList.add("structTree"),this.canvas.appendChild(Xe)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(j)),J.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),ye}paintOnCanvas(N){const J=(0,q.createPromiseCapability)(),j={promise:J.promise,onRenderContinue(M){M()},cancel(){ve.cancel()}},S=this.viewport,oe=document.createElement("canvas");oe.hidden=!0;let W=!0;const le=function(){W&&(oe.hidden=!1,W=!1)};N.appendChild(oe),this.canvas=oe;const me=oe.getContext("2d",{alpha:!1}),ye=this.outputScale=new fe.OutputScale;if(this.useOnlyCssZoom){const M=S.clone({scale:q.PixelsPerInch.PDF_TO_CSS_UNITS});ye.sx*=M.width/S.width,ye.sy*=M.height/S.height}if(this.maxCanvasPixels>0){const b=Math.sqrt(this.maxCanvasPixels/(S.width*S.height));ye.sx>b||ye.sy>b?(ye.sx=b,ye.sy=b,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const Re=(0,fe.approximateFraction)(ye.sx),Ve=(0,fe.approximateFraction)(ye.sy);oe.width=(0,fe.roundToDivide)(S.width*ye.sx,Re[0]),oe.height=(0,fe.roundToDivide)(S.height*ye.sy,Ve[0]),oe.style.width=(0,fe.roundToDivide)(S.width,Re[1])+"px",oe.style.height=(0,fe.roundToDivide)(S.height,Ve[1])+"px",this.paintedViewportMap.set(oe,S);const it={canvasContext:me,transform:ye.scaled?[ye.sx,0,0,ye.sy,0,0]:null,viewport:this.viewport,annotationMode:re(this,A),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},ve=this.pdfPage.render(it);return ve.onContinue=function(M){le(),j.onRenderContinue?j.onRenderContinue(M):M()},ve.promise.then(function(){le(),J.resolve()},function(M){le(),J.reject(M)}),j}paintOnSvg(N){let J=!1;const j=()=>{if(J)throw new q.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},S=this.pdfPage,oe=this.viewport.clone({scale:q.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:S.getOperatorList({annotationMode:re(this,A)}).then(le=>(j(),new q.SVGGraphics(S.commonObjs,S.objs).getSVG(le,oe).then(ye=>{j(),this.svg=ye,this.paintedViewportMap.set(ye,oe),ye.style.width=N.style.width,ye.style.height=N.style.height,this.renderingState=fe.RenderingStates.FINISHED,N.appendChild(ye)}))),onRenderContinue(le){le()},cancel(){J=!0}}}setPageLabel(N){this.pageLabel="string"==typeof N?N:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.compatibilityParams=$.OptionKind=$.AppOptions=void 0;const ae=Object.create(null);$.compatibilityParams=ae;{const D=navigator.userAgent||"",A=navigator.platform||"",F=navigator.maxTouchPoints||1,X=/Android/.test(D);(/\b(iPad|iPhone|iPod)(?=;)/.test(D)||"MacIntel"===A&&F>1||X)&&(ae.maxCanvasPixels=5242880)}const q={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};$.OptionKind=q;const fe={annotationMode:{value:2,kind:q.VIEWER+q.PREFERENCE},cursorToolOnLoad:{value:0,kind:q.VIEWER+q.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:q.VIEWER},defaultZoomValue:{value:"",kind:q.VIEWER+q.PREFERENCE},disableHistory:{value:!1,kind:q.VIEWER},disablePageLabels:{value:!1,kind:q.VIEWER+q.PREFERENCE},enablePermissions:{value:!1,kind:q.VIEWER+q.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:q.VIEWER+q.PREFERENCE},enableScripting:{value:!0,kind:q.VIEWER+q.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:q.VIEWER},externalLinkTarget:{value:0,kind:q.VIEWER+q.PREFERENCE},historyUpdateUrl:{value:!1,kind:q.VIEWER+q.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:q.VIEWER+q.PREFERENCE},imageResourcesPath:{value:"./images/",kind:q.VIEWER},maxCanvasPixels:{value:16777216,compatibility:ae.maxCanvasPixels,kind:q.VIEWER},pageColorsBackground:{value:"Canvas",kind:q.VIEWER+q.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:q.VIEWER+q.PREFERENCE},pdfBugEnabled:{value:!1,kind:q.VIEWER+q.PREFERENCE},printResolution:{value:150,kind:q.VIEWER},renderer:{value:"canvas",kind:q.VIEWER},sidebarViewOnLoad:{value:-1,kind:q.VIEWER+q.PREFERENCE},scrollModeOnLoad:{value:-1,kind:q.VIEWER+q.PREFERENCE},spreadModeOnLoad:{value:-1,kind:q.VIEWER+q.PREFERENCE},textLayerMode:{value:1,kind:q.VIEWER+q.PREFERENCE},useOnlyCssZoom:{value:!1,kind:q.VIEWER+q.PREFERENCE},viewerCssTheme:{value:0,kind:q.VIEWER+q.PREFERENCE},viewOnLoad:{value:0,kind:q.VIEWER+q.PREFERENCE},cMapPacked:{value:!0,kind:q.API},cMapUrl:{value:"../web/cmaps/",kind:q.API},disableAutoFetch:{value:!1,kind:q.API+q.PREFERENCE},disableFontFace:{value:!1,kind:q.API+q.PREFERENCE},disableRange:{value:!1,kind:q.API+q.PREFERENCE},disableStream:{value:!1,kind:q.API+q.PREFERENCE},docBaseUrl:{value:"",kind:q.API},enableXfa:{value:!0,kind:q.API+q.PREFERENCE},fontExtraProperties:{value:!1,kind:q.API},isEvalSupported:{value:!0,kind:q.API},maxImageSize:{value:-1,kind:q.API},pdfBug:{value:!1,kind:q.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:q.API},verbosity:{value:1,kind:q.API},workerPort:{value:null,kind:q.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:q.WORKER}};fe.disablePreferences={value:!1,kind:q.VIEWER},fe.locale={value:navigator.language||"en-US",kind:q.VIEWER},fe.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:q.VIEWER},fe.renderer.kind+=q.PREFERENCE;const z=Object.create(null);$.AppOptions=class Z{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(A){const F=z[A];if(void 0!==F)return F;const X=fe[A];return void 0!==X?X.compatibility??X.value:void 0}static getAll(A=null){const F=Object.create(null);for(const X in fe){const N=fe[X];if(A){if(0==(A&N.kind))continue;if(A===q.PREFERENCE){const j=N.value,S=typeof j;if("boolean"===S||"string"===S||"number"===S&&Number.isInteger(j)){F[X]=j;continue}throw new Error(`Invalid type for preference: ${X}`)}}const J=z[X];F[X]=void 0!==J?J:N.compatibility??N.value}return F}static set(A,F){z[A]=F}static setAll(A){for(const F in A)z[F]=A[F]}static remove(A){delete z[A]}static _hasUserOptions(){return Object.keys(z).length>0}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFRenderingQueue=void 0;var q=ae(3),fe=ae(6);$.PDFRenderingQueue=class Z{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(A){this.pdfViewer=A}setThumbnailViewer(A){this.pdfThumbnailViewer=A}isHighestPriority(A){return this.highestPriorityPage===A.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(A){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(A)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(A,F,X,N=!1){const J=A.views,j=J.length;if(0===j)return null;for(let me=0;me<j;me++){const ye=J[me].view;if(!this.isViewFinished(ye))return ye}const S=A.first.id,oe=A.last.id;if(oe-S+1>j){const me=A.ids;for(let ye=1,Re=oe-S;ye<Re;ye++){const Ve=X?S+ye:oe-ye;if(me.has(Ve))continue;const Xe=F[Ve-1];if(!this.isViewFinished(Xe))return Xe}}let W=X?oe:S-2,le=F[W];return le&&!this.isViewFinished(le)||N&&(W+=X?1:-1,le=F[W],le&&!this.isViewFinished(le))?le:null}isViewFinished(A){return A.renderingState===fe.RenderingStates.FINISHED}renderView(A){switch(A.renderingState){case fe.RenderingStates.FINISHED:return!1;case fe.RenderingStates.PAUSED:this.highestPriorityPage=A.renderingId,A.resume();break;case fe.RenderingStates.RUNNING:this.highestPriorityPage=A.renderingId;break;case fe.RenderingStates.INITIAL:this.highestPriorityPage=A.renderingId,A.draw().finally(()=>{this.renderHighestPriority()}).catch(F=>{F instanceof q.RenderingCancelledException||console.error(`renderView: "${F}"`)})}return!0}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextHighlighter=void 0,$.TextHighlighter=class ae{constructor({findController:fe,eventBus:z,pageIndex:Z}){this.findController=fe,this.matches=[],this.eventBus=z,this.pageIdx=Z,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(fe,z){this.textDivs=fe,this.textContentItemsStr=z}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=fe=>{(fe.pageIndex===this.pageIdx||-1===fe.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(fe,z){if(!fe)return[];const{textContentItemsStr:Z}=this;let D=0,A=0;const F=Z.length-1,X=[];for(let N=0,J=fe.length;N<J;N++){let j=fe[N];for(;D!==F&&j>=A+Z[D].length;)A+=Z[D].length,D++;D===Z.length&&console.error("Could not find a matching mapping");const S={begin:{divIdx:D,offset:j-A}};for(j+=z[N];D!==F&&j>A+Z[D].length;)A+=Z[D].length,D++;S.end={divIdx:D,offset:j-A},X.push(S)}return X}_renderMatches(fe){if(0===fe.length)return;const{findController:z,pageIdx:Z}=this,{textContentItemsStr:D,textDivs:A}=this,F=Z===z.selected.pageIdx,X=z.selected.matchIdx;let J=null;function S(me,ye){const Re=me.divIdx;return A[Re].textContent="",oe(Re,0,me.offset,ye)}function oe(me,ye,Re,Ve){let Xe=A[me];if(Xe.nodeType===Node.TEXT_NODE){const M=document.createElement("span");Xe.parentNode.insertBefore(M,Xe),M.appendChild(Xe),A[me]=M,Xe=M}const it=D[me].substring(ye,Re),ve=document.createTextNode(it);if(Ve){const M=document.createElement("span");return M.className=`${Ve} appended`,M.appendChild(ve),Xe.appendChild(M),Ve.includes("selected")?M.offsetLeft:0}return Xe.appendChild(ve),0}let W=X,le=W+1;if(z.state.highlightAll)W=0,le=fe.length;else if(!F)return;for(let me=W;me<le;me++){const ye=fe[me],Re=ye.begin,Ve=ye.end,Xe=F&&me===X,it=Xe?" selected":"";let ve=0;if(J&&Re.divIdx===J.divIdx?oe(J.divIdx,J.offset,Re.offset):(null!==J&&oe(J.divIdx,J.offset,undefined),S(Re)),Re.divIdx===Ve.divIdx)ve=oe(Re.divIdx,Re.offset,Ve.offset,"highlight"+it);else{ve=oe(Re.divIdx,Re.offset,undefined,"highlight begin"+it);for(let M=Re.divIdx+1,b=Ve.divIdx;M<b;M++)A[M].className="highlight middle"+it;S(Ve,"highlight end"+it)}J=Ve,Xe&&z.scrollMatchIntoView({element:A[Re.divIdx],selectedLeft:ve,pageIndex:Z,matchIndex:X})}J&&oe(J.divIdx,J.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:fe,matches:z,pageIdx:Z}=this,{textContentItemsStr:D,textDivs:A}=this;let F=-1;for(let J=0,j=z.length;J<j;J++){const S=z[J];for(let W=Math.max(F,S.begin.divIdx),le=S.end.divIdx;W<=le;W++){const me=A[W];me.textContent=D[W],me.className=""}F=S.end.divIdx+1}fe?.highlightMatches&&(this.matches=this._convertMatches(fe.pageMatches[Z]||null,fe.pageMatchesLength[Z]||null),this._renderMatches(this.matches))}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.DownloadManager=void 0;var q=ae(3);function fe(Z,D){const A=document.createElement("a");if(!A.click)throw new Error('DownloadManager: "a.click()" is not supported.');A.href=Z,A.target="_parent","download"in A&&(A.download=D),(document.body||document.documentElement).appendChild(A),A.click(),A.remove()}$.DownloadManager=class z{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(D,A){(0,q.createValidAbsoluteUrl)(D,"http://example.com")?fe(D+"#pdfjs.action=download",A):console.error(`downloadUrl - not a valid URL: ${D}`)}downloadData(D,A,F){fe(URL.createObjectURL(new Blob([D],{type:F})),A)}openOrDownloadData(D,A,F){const X=(0,q.isPdfFile)(F),N=X?"application/pdf":"";if(X){let j,J=this._openBlobUrls.get(D);J||(J=URL.createObjectURL(new Blob([A],{type:N})),this._openBlobUrls.set(D,J)),j="?file="+encodeURIComponent(J+"#"+F);try{return window.open(j),!0}catch(S){console.error(`openOrDownloadData: ${S}`),URL.revokeObjectURL(J),this._openBlobUrls.delete(D)}}return this.downloadData(A,F,N),!1}download(D,A,F,X="download"){fe(URL.createObjectURL(D),F)}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.WaitOnType=$.EventBus=$.AutomationEventBus=void 0,$.waitOnEventOrTimeout=function q({target:Z,name:D,delay:A=0}){return new Promise(function(F,X){if("object"!=typeof Z||!D||"string"!=typeof D||!(Number.isInteger(A)&&A>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function N(oe){Z instanceof fe?Z._off(D,J):Z.removeEventListener(D,J),S&&clearTimeout(S),F(oe)}const J=N.bind(null,ae.EVENT);Z instanceof fe?Z._on(D,J):Z.addEventListener(D,J);const j=N.bind(null,ae.TIMEOUT),S=setTimeout(j,A)})};const ae={EVENT:"event",TIMEOUT:"timeout"};$.WaitOnType=ae;class fe{constructor(){this._listeners=Object.create(null)}on(D,A,F=null){this._on(D,A,{external:!0,once:F?.once})}off(D,A,F=null){this._off(D,A,{external:!0,once:F?.once})}dispatch(D,A){const F=this._listeners[D];if(!F||0===F.length)return;let X;for(const{listener:N,external:J,once:j}of F.slice(0))j&&this._off(D,N),J?(X||(X=[])).push(N):N(A);if(X){for(const N of X)N(A);X=null}}_on(D,A,F=null){var N;((N=this._listeners)[D]||(N[D]=[])).push({listener:A,external:!0===F?.external,once:!0===F?.once})}_off(D,A,F=null){const X=this._listeners[D];if(X)for(let N=0,J=X.length;N<J;N++)if(X[N].listener===A)return void X.splice(N,1)}}$.EventBus=fe,$.AutomationEventBus=class z extends fe{dispatch(D,A){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GenericL10n=void 0,ae(19);var q=ae(4);const fe=document.webL10n;$.GenericL10n=class z{constructor(D){this._lang=D,this._ready=new Promise((A,F)=>{fe.setLanguage((0,q.fixupLangCode)(D),()=>{A(fe)})})}getLanguage(){var D=this;return B(function*(){return(yield D._ready).getLanguage()})()}getDirection(){var D=this;return B(function*(){return(yield D._ready).getDirection()})()}get(D,A=null,F=(0,q.getL10nFallback)(D,A)){var X=this;return B(function*(){return(yield X._ready).get(D,A,F)})()}translate(D){var A=this;return B(function*(){return(yield A._ready).translate(D)})()}}},()=>{document.webL10n=function(se,$,ae){var q={},fe="",z="textContent",Z="",D={},A="loading";function S(M,b,k){b=b||function(ne){},k=k||function(){};var L=new XMLHttpRequest;L.open("GET",M,!0),L.overrideMimeType&&L.overrideMimeType("text/plain; charset=utf-8"),L.onreadystatechange=function(){4==L.readyState&&(200==L.status||0===L.status?b(L.responseText):k())},L.onerror=k,L.ontimeout=k;try{L.send(null)}catch{k()}}function W(M,b){M&&(M=M.toLowerCase()),b=b||function(){},function le(){q={},fe="",Z=""}(),Z=M;var k=function X(){return $.querySelectorAll('link[type="application/l10n"]')}(),L=k.length;if(0!==L){var be,He=0;be=function(){++He>=L&&(b(),A="complete")};for(var Ue=0;Ue<L;Ue++)new ke(k[Ue]).load(M,be)}else{var Q=function N(){var M=$.querySelector('script[type="application/l10n"]');return M?JSON.parse(M.innerHTML):null}();if(Q&&Q.locales&&Q.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(q=Q.locales[M])){var ne=Q.default_locale.toLowerCase();for(var U in Q.locales){if((U=U.toLowerCase())===M){q=Q.locales[M];break}U===ne&&(q=Q.locales[ne])}}b()}else console.log("no resource to load, early way out");A="complete"}function ke(Ye){var Qe=Ye.href;this.load=function(gt,Tt){!function oe(M,b,k,L){var Q=M.replace(/[^\/]*$/,"")||"./";function ne(be){return be.lastIndexOf("\\")<0?be:be.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}S(M,function(be){fe+=be,function U(be,He){var ke={},Ue=/^\s*|\s*$/,Be=/^\s*#|^\s*$/,Ye=/^\s*\[(.*)\]\s*$/,Qe=/^\s*@import\s+url\((.*)\)\s*$/i,gt=/^([^=\s]*)\s*=\s*(.+)$/;function Tt(_t,ct,Rt){var Ot=_t.replace(Ue,"").split(/[\r\n]+/),At="*",nt=b.split("-",1)[0],dt=!1,kt="";!function Ke(){for(;;){if(!Ot.length)return void Rt();var ge=Ot.shift();if(!Be.test(ge)){if(ct){if(kt=Ye.exec(ge)){At=kt[1].toLowerCase(),dt="*"!==At&&At!==b&&At!==nt;continue}if(dt)continue;if(kt=Qe.exec(ge))return void lt(Q+kt[1],Ke)}var xe=ge.match(gt);xe&&3==xe.length&&(ke[xe[1]]=ne(xe[2]))}}}()}function lt(_t,ct){S(_t,function(Rt){Tt(Rt,!1,ct)},function(){console.warn(_t+" not found."),ct()})}Tt(be,!0,function(){He(ke)})}(be,function(He){for(var ke in He){var Ue,Be,Ye=ke.lastIndexOf(".");Ye>0?(Ue=ke.substring(0,Ye),Be=ke.substring(Ye+1)):(Ue=ke,Be=z),q[Ue]||(q[Ue]={}),q[Ue][Be]=He[ke]}k&&k()})},L)}(Qe,gt,Tt,function(){console.warn(Qe+" not found."),console.warn('"'+gt+'" resource not found'),Z="",Tt()})}}}function ye(M,b,k){var L=q[M];if(!L){if(console.warn("#"+M+" is undefined."),!k)return null;L=k}var Q={};for(var ne in L){var U=L[ne];U=Ve(U=Re(U,b,M,ne),b,M),Q[ne]=U}return Q}function Re(M,b,k,L){var ne=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(M);if(!ne||!ne.length)return M;var He,U=ne[1],be=ne[2];return b&&be in b?He=b[be]:be in q&&(He=q[be]),U in D&&(M=(0,D[U])(M,He,k,L)),M}function Ve(M,b,k){return M.replace(/\{\{\s*(.+?)\s*\}\}/g,function(Q,ne){return b&&ne in b?b[ne]:ne in q?q[ne]:(console.log("argument {{"+ne+"}} for #"+k+" is undefined."),Q)})}function Xe(M){var b=function j(M){if(!M)return{};var b=M.getAttribute("data-l10n-id"),k=M.getAttribute("data-l10n-args"),L={};if(k)try{L=JSON.parse(k)}catch{console.warn("could not parse arguments for #"+b)}return{id:b,args:L}}(M);if(b.id){var k=ye(b.id,b.args);if(!k)return void console.warn("#"+b.id+" is undefined.");if(k[z]){if(0===function it(M){if(M.children)return M.children.length;if(typeof M.childElementCount<"u")return M.childElementCount;for(var b=0,k=0;k<M.childNodes.length;k++)b+=1===M.nodeType?1:0;return b}(M))M[z]=k[z];else{for(var L=M.childNodes,Q=!1,ne=0,U=L.length;ne<U;ne++)3===L[ne].nodeType&&/\S/.test(L[ne].nodeValue)&&(Q?L[ne].nodeValue="":(L[ne].nodeValue=k[z],Q=!0));if(!Q){var be=$.createTextNode(k[z]);M.insertBefore(be,M.firstChild)}}delete k[z]}for(var He in k)M[He]=k[He]}}return D.plural=function(M,b,k,L){var Q=parseFloat(b);if(isNaN(Q)||L!=z)return M;D._pluralRules||(D._pluralRules=function me(M){function k(U,be){return-1!==be.indexOf(U)}function L(U,be,He){return be<=U&&U<=He}var Q={0:function(U){return"other"},1:function(U){return L(U%100,3,10)?"few":0===U?"zero":L(U%100,11,99)?"many":2==U?"two":1==U?"one":"other"},2:function(U){return 0!==U&&U%10==0?"many":2==U?"two":1==U?"one":"other"},3:function(U){return 1==U?"one":"other"},4:function(U){return L(U,0,1)?"one":"other"},5:function(U){return L(U,0,2)&&2!=U?"one":"other"},6:function(U){return 0===U?"zero":U%10==1&&U%100!=11?"one":"other"},7:function(U){return 2==U?"two":1==U?"one":"other"},8:function(U){return L(U,3,6)?"few":L(U,7,10)?"many":2==U?"two":1==U?"one":"other"},9:function(U){return 0===U||1!=U&&L(U%100,1,19)?"few":1==U?"one":"other"},10:function(U){return L(U%10,2,9)&&!L(U%100,11,19)?"few":U%10!=1||L(U%100,11,19)?"other":"one"},11:function(U){return L(U%10,2,4)&&!L(U%100,12,14)?"few":U%10==0||L(U%10,5,9)||L(U%100,11,14)?"many":U%10==1&&U%100!=11?"one":"other"},12:function(U){return L(U,2,4)?"few":1==U?"one":"other"},13:function(U){return L(U%10,2,4)&&!L(U%100,12,14)?"few":1!=U&&L(U%10,0,1)||L(U%10,5,9)||L(U%100,12,14)?"many":1==U?"one":"other"},14:function(U){return L(U%100,3,4)?"few":U%100==2?"two":U%100==1?"one":"other"},15:function(U){return 0===U||L(U%100,2,10)?"few":L(U%100,11,19)?"many":1==U?"one":"other"},16:function(U){return U%10==1&&11!=U?"one":"other"},17:function(U){return 3==U?"few":0===U?"zero":6==U?"many":2==U?"two":1==U?"one":"other"},18:function(U){return 0===U?"zero":L(U,0,2)&&0!==U&&2!=U?"one":"other"},19:function(U){return L(U,2,10)?"few":L(U,0,1)?"one":"other"},20:function(U){return!L(U%10,3,4)&&U%10!=9||L(U%100,10,19)||L(U%100,70,79)||L(U%100,90,99)?U%1e6==0&&0!==U?"many":U%10!=2||k(U%100,[12,72,92])?U%10!=1||k(U%100,[11,71,91])?"other":"one":"two":"few"},21:function(U){return 0===U?"zero":1==U?"one":"other"},22:function(U){return L(U,0,1)||L(U,11,99)?"one":"other"},23:function(U){return L(U%10,1,2)||U%20==0?"one":"other"},24:function(U){return L(U,3,10)||L(U,13,19)?"few":k(U,[2,12])?"two":k(U,[1,11])?"one":"other"}},ne={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[M.replace(/-.*$/,"")];return ne in Q?Q[ne]:(console.warn("plural form unknown for ["+M+"]"),function(){return"other"})}(Z));var ne="["+D._pluralRules(Q)+"]";return 0===Q&&k+"[zero]"in q?M=q[k+"[zero]"][L]:1==Q&&k+"[one]"in q?M=q[k+"[one]"][L]:2==Q&&k+"[two]"in q?M=q[k+"[two]"][L]:k+ne in q?M=q[k+ne][L]:k+"[other]"in q&&(M=q[k+"[other]"][L]),M},{get:function(M,b,k){var ne,L=M.lastIndexOf("."),Q=z;L>0&&(Q=M.substring(L+1),M=M.substring(0,L)),k&&((ne={})[Q]=k);var U=ye(M,b,ne);return U&&Q in U?U[Q]:"{{"+M+"}}"},getData:function(){return q},getText:function(){return fe},getLanguage:function(){return Z},setLanguage:function(M,b){W(M,function(){b&&b()})},getDirection:function(){var b=Z.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(b)>=0?"rtl":"ltr"},translate:function ve(M){for(var b=function J(M){return M?M.querySelectorAll("*[data-l10n-id]"):[]}(M=M||$.documentElement),k=b.length,L=0;L<k;L++)Xe(b[L]);Xe(M)},getReadyState:function(){return A},ready:function(M){M&&("complete"==A||"interactive"==A?se.setTimeout(function(){M()}):$.addEventListener&&$.addEventListener("localized",function b(){$.removeEventListener("localized",b),M()}))}}}(window,document)},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFindController=$.FindState=void 0;var q=ae(6),fe=ae(3),z=ae(21);const Z={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};$.FindState=Z;const X={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},N=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),J=[...N.values()].map(Ze=>String.fromCharCode(Ze)).join(""),j=/\p{M}+/gu,S=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,oe=/([^\p{M}])\p{M}*$/u,W=/^\p{M}*([^\p{M}])/u;let le=null;function me(Ze){if(!le){const tn=Object.keys(X).join("");le=new RegExp(`([${tn}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const Ee=[];let Te;for(;null!==(Te=j.exec(Ze));)Ee.push([Te[0].length,Te.index]);let Ce=Ze.normalize("NFD");const Ae=[[0,0]];let Pe=0,We=0,at=0,Dt=0,Xt=!1;return Ce=Ce.replace(le,(tn,Rn,en,nn,bn,An)=>{if(An-=at,Rn){const Pn=X[tn],ni=Pn.length;for(let xt=1;xt<ni;xt++)Ae.push([An-We+xt,We-xt]);return We-=ni-1,Pn}if(en){const Pn=en.endsWith("\n"),ni=Pn?en.length-2:en.length;Xt=!0;let xt=ni;An+Dt===Ee[Pe]?.[1]&&(xt-=Ee[Pe][0],++Pe);for(let rn=1;rn<xt+1;rn++)Ae.push([An-1-We+rn,We-rn]);return We-=xt,at+=xt,Pn?(Ae.push([(An+=ni-1)-We+1,1+We]),We+=1,at+=1,Dt+=1,en.slice(0,ni)):en}return nn?(Ae.push([An-We+1,1+We]),We+=1,at+=1,Dt+=1,nn.charAt(0)):(Ae.push([An-We+1,We-1]),We-=1,at+=1,Dt+=1," ")}),Ae.push([Ce.length,We]),[Ce,Ae,Xt]}function ye(Ze,Ee,Te){if(!Ze)return[Ee,Te];const Ce=Ee,Ae=Ee+Te;let Pe=(0,q.binarySearchFirstItem)(Ze,at=>at[0]>=Ce);Ze[Pe][0]>Ce&&--Pe;let We=(0,q.binarySearchFirstItem)(Ze,at=>at[0]>=Ae,Pe);return Ze[We][0]>Ae&&--We,[Ce+Ze[Pe][1],Te+Ze[We][1]-Ze[Pe][1]]}var Re=new WeakSet,Ve=new WeakSet,Xe=new WeakMap,it=new WeakSet,ve=new WeakSet,M=new WeakSet,b=new WeakSet,k=new WeakSet,L=new WeakSet,Q=new WeakSet,ne=new WeakSet,U=new WeakSet,be=new WeakSet,He=new WeakSet,ke=new WeakSet,Ue=new WeakSet,Be=new WeakSet,Ye=new WeakSet,Qe=new WeakSet,gt=new WeakSet;function lt(Ze){if(!Ze)return;const Ee=this._pdfDocument,{type:Te}=Ze;(null===this._state||ie(this,it,Rt).call(this,Ze))&&(this._dirtyMatch=!0),this._state=Ze,"highlightallchange"!==Te&&ie(this,gt,Yt).call(this,Z.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Ee&&this._pdfDocument!==Ee)return;ie(this,L,kt).call(this);const Ce=!this._highlightMatches,Ae=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Te?this._dirtyMatch?ie(this,U,xe).call(this):"again"===Te?(ie(this,U,xe).call(this),Ce&&this._state.highlightAll&&ie(this,ne,ge).call(this)):"highlightallchange"===Te?(Ae?ie(this,U,xe).call(this):this._highlightMatches=!0,ie(this,ne,ge).call(this)):ie(this,U,xe).call(this):this._findTimeout=setTimeout(()=>{ie(this,U,xe).call(this),this._findTimeout=null},250)})}function _t(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,fe.createPromiseCapability)()}function ct(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=me(this._state.query)),this._normalizedQuery}function Rt(Ze){if(Ze.query!==this._state.query)return!0;switch(Ze.type){case"again":const Ee=this._selected.pageIdx+1,Te=this._linkService;return Ee>=1&&Ee<=Te.pagesCount&&Ee!==Te.page&&!Te.isPageVisible(Ee);case"highlightallchange":return!1}return!0}function Ot(Ze,Ee,Te){let Ce=Ze.slice(0,Ee).match(oe);if(Ce){const Ae=Ze.charCodeAt(Ee),Pe=Ce[1].charCodeAt(0);if((0,z.getCharacterType)(Ae)===(0,z.getCharacterType)(Pe))return!1}if(Ce=Ze.slice(Ee+Te).match(W),Ce){const Ae=Ze.charCodeAt(Ee+Te-1),Pe=Ce[1].charCodeAt(0);if((0,z.getCharacterType)(Ae)===(0,z.getCharacterType)(Pe))return!1}return!0}function At(Ze,Ee,Te,Ce){const Ae=[],Pe=[],We=this._pageDiffs[Te];let at;for(;null!==(at=Ze.exec(Ce));){if(Ee&&!ie(this,ve,Ot).call(this,Ce,at.index,at[0].length))continue;const[Dt,Xt]=ye(We,at.index,at[0].length);Xt&&(Ae.push(Dt),Pe.push(Xt))}this._pageMatches[Te]=Ae,this._pageMatchesLength[Te]=Pe}function nt(Ze,Ee){const{matchDiacritics:Te}=this._state;let Ce=!1;return(Ze=Ze.replace(S,(Pe,We,at,Dt,Xt,tn)=>We?`[ ]*\\${We}[ ]*`:at?`[ ]*${at}[ ]*`:Dt?"[ ]+":Te?Xt||tn:Xt?N.has(Xt.charCodeAt(0))?Xt:"":Ee?(Ce=!0,`${tn}\\p{M}*`):tn)).endsWith("[ ]*")&&(Ze=Ze.slice(0,Ze.length-"[ ]*".length)),Te&&Ee&&(Ce=!0,Ze=`${Ze}(?=[${J}]|[^\\p{M}]|$)`),[Ce,Ze]}function dt(Ze){let Ee=re(this,Xe);if(0===Ee.length)return;const{caseSensitive:Te,entireWord:Ce,phraseSearch:Ae}=this._state,Pe=this._pageContents[Ze],We=this._hasDiacritics[Ze];let at=!1;if(Ae)[at,Ee]=ie(this,b,nt).call(this,Ee,We);else{const tn=Ee.match(/\S+/g);tn&&(Ee=tn.sort().reverse().map(Rn=>{const[en,nn]=ie(this,b,nt).call(this,Rn,We);return at||(at=en),`(${nn})`}).join("|"))}Ee=new RegExp(Ee,`g${at?"u":""}${Te?"":"i"}`),ie(this,M,At).call(this,Ee,Ce,Ze,Pe),this._state.highlightAll&&ie(this,Q,Ke).call(this,Ze),this._resumePageIdx===Ze&&(this._resumePageIdx=null,ie(this,He,wt).call(this));const Xt=this._pageMatches[Ze].length;Xt>0&&(this._matchesCountTotal+=Xt,ie(this,Qe,vt).call(this))}function kt(){if(this._extractTextPromises.length>0)return;let Ze=Promise.resolve();for(let Ee=0,Te=this._linkService.pagesCount;Ee<Te;Ee++){const Ce=(0,fe.createPromiseCapability)();this._extractTextPromises[Ee]=Ce.promise,Ze=Ze.then(()=>this._pdfDocument.getPage(Ee+1).then(Ae=>Ae.getTextContent()).then(Ae=>{const Pe=[];for(const We of Ae.items)Pe.push(We.str),We.hasEOL&&Pe.push("\n");[this._pageContents[Ee],this._pageDiffs[Ee],this._hasDiacritics[Ee]]=me(Pe.join("")),Ce.resolve()},Ae=>{console.error(`Unable to get text content for page ${Ee+1}`,Ae),this._pageContents[Ee]="",this._pageDiffs[Ee]=null,this._hasDiacritics[Ee]=!1,Ce.resolve()}))}}function Ke(Ze){this._scrollMatches&&this._selected.pageIdx===Ze&&(this._linkService.page=Ze+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Ze})}function ge(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function xe(){const Ze=this._state.findPrevious,Ee=this._linkService.page-1,Te=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Ee,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,ie(this,ne,ge).call(this);for(let Ae=0;Ae<Te;Ae++)this._pendingFindMatches.has(Ae)||(this._pendingFindMatches.add(Ae),this._extractTextPromises[Ae].then(()=>{this._pendingFindMatches.delete(Ae),ie(this,k,dt).call(this,Ae)}))}if(""===re(this,Xe))return void ie(this,gt,Yt).call(this,Z.FOUND);if(this._resumePageIdx)return;const Ce=this._offset;if(this._pagesToSearch=Te,null!==Ce.matchIdx){const Ae=this._pageMatches[Ce.pageIdx].length;if(!Ze&&Ce.matchIdx+1<Ae||Ze&&Ce.matchIdx>0)return Ce.matchIdx=Ze?Ce.matchIdx-1:Ce.matchIdx+1,void ie(this,Ue,we).call(this,!0);ie(this,ke,Ne).call(this,Ze)}ie(this,He,wt).call(this)}function ft(Ze){const Ee=this._offset,Te=Ze.length,Ce=this._state.findPrevious;return Te?(Ee.matchIdx=Ce?Te-1:0,ie(this,Ue,we).call(this,!0),!0):(ie(this,ke,Ne).call(this,Ce),!!(Ee.wrapped&&(Ee.matchIdx=null,this._pagesToSearch<0))&&(ie(this,Ue,we).call(this,!1),!0))}function wt(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let Ze=null;do{const Ee=this._offset.pageIdx;if(Ze=this._pageMatches[Ee],!Ze){this._resumePageIdx=Ee;break}}while(!ie(this,be,ft).call(this,Ze))}function Ne(Ze){const Ee=this._offset,Te=this._linkService.pagesCount;Ee.pageIdx=Ze?Ee.pageIdx-1:Ee.pageIdx+1,Ee.matchIdx=null,this._pagesToSearch--,(Ee.pageIdx>=Te||Ee.pageIdx<0)&&(Ee.pageIdx=Ze?Te-1:0,Ee.wrapped=!0)}function we(Ze=!1){let Ee=Z.NOT_FOUND;const Te=this._offset.wrapped;if(this._offset.wrapped=!1,Ze){const Ce=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Ee=Te?Z.WRAPPED:Z.FOUND,-1!==Ce&&Ce!==this._selected.pageIdx&&ie(this,Q,Ke).call(this,Ce)}ie(this,gt,Yt).call(this,Ee,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,ie(this,Q,Ke).call(this,this._selected.pageIdx))}function Fe(Ze){const Ee=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Ee&&this._pdfDocument!==Ee||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),ie(this,gt,Yt).call(this,Z.FOUND),this._highlightMatches=!1,ie(this,ne,ge).call(this))})}function rt(){const{pageIdx:Ze,matchIdx:Ee}=this._selected;let Te=0,Ce=this._matchesCountTotal;if(-1!==Ee){for(let Ae=0;Ae<Ze;Ae++)Te+=this._pageMatches[Ae]?.length||0;Te+=Ee+1}return(Te<1||Te>Ce)&&(Te=Ce=0),{current:Te,total:Ce}}function vt(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:ie(this,Ye,rt).call(this)})}function Yt(Ze,Ee=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Ze,previous:Ee,matchesCount:ie(this,Ye,rt).call(this),rawQuery:this._state?.query??null})}$.PDFFindController=class Tt{constructor({linkService:Ee,eventBus:Te}){te(this,gt),te(this,Qe),te(this,Ye),te(this,Be),te(this,Ue),te(this,ke),te(this,He),te(this,be),te(this,U),te(this,ne),te(this,Q),te(this,L),te(this,k),te(this,b),te(this,M),te(this,ve),te(this,it),O(this,Xe,{get:ct,set:void 0}),te(this,Ve),te(this,Re),this._linkService=Ee,this._eventBus=Te,ie(this,Ve,_t).call(this),Te._on("find",ie(this,Re,lt).bind(this)),Te._on("findbarclose",ie(this,Be,Fe).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(Ee){this._pdfDocument&&ie(this,Ve,_t).call(this),Ee&&(this._pdfDocument=Ee,this._firstPageCapability.resolve())}scrollMatchIntoView({element:Ee=null,selectedLeft:Te=0,pageIndex:Ce=-1,matchIndex:Ae=-1}){this._scrollMatches&&Ee&&-1!==Ae&&Ae===this._selected.matchIdx&&-1!==Ce&&Ce===this._selected.pageIdx&&(this._scrollMatches=!1,(0,q.scrollIntoView)(Ee,{top:-50,left:Te+-400},!0))}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.CharacterType=void 0,$.getCharacterType=function j(S){return function q(S){return S<11904}(S)?function fe(S){return 0==(65408&S)}(S)?function D(S){return 32===S||9===S||13===S||10===S}(S)?ae.SPACE:function z(S){return S>=97&&S<=122||S>=65&&S<=90}(S)||function Z(S){return S>=48&&S<=57}(S)||95===S?ae.ALPHA_LETTER:ae.PUNCT:function J(S){return 3584==(65408&S)}(S)?ae.THAI_LETTER:160===S?ae.SPACE:ae.ALPHA_LETTER:function A(S){return S>=13312&&S<=40959||S>=63744&&S<=64255}(S)?ae.HAN_LETTER:function F(S){return S>=12448&&S<=12543}(S)?ae.KATAKANA_LETTER:function X(S){return S>=12352&&S<=12447}(S)?ae.HIRAGANA_LETTER:function N(S){return S>=65376&&S<=65439}(S)?ae.HALFWIDTH_KATAKANA_LETTER:ae.ALPHA_LETTER};const ae={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};$.CharacterType=ae},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFHistory=void 0,$.isDestArraysEqual=N,$.isDestHashesEqual=X;var q=ae(6),fe=ae(17);function A(){return document.location.hash}function X(J,j){return"string"==typeof J&&"string"==typeof j&&(J===j||(0,q.parseQueryString)(J).get("nameddest")===j)}function N(J,j){function S(oe,W){if(typeof oe!=typeof W||Array.isArray(oe)||Array.isArray(W))return!1;if(null!==oe&&"object"==typeof oe&&null!==W){if(Object.keys(oe).length!==Object.keys(W).length)return!1;for(const le in oe)if(!S(oe[le],W[le]))return!1;return!0}return oe===W||Number.isNaN(oe)&&Number.isNaN(W)}if(!Array.isArray(J)||!Array.isArray(j)||J.length!==j.length)return!1;for(let oe=0,W=J.length;oe<W;oe++)if(!S(J[oe],j[oe]))return!1;return!0}$.PDFHistory=class F{constructor({linkService:j,eventBus:S}){this.linkService=j,this.eventBus=S,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",oe=>{this._isPagesLoaded=!!oe.pagesCount},{once:!0})})}initialize({fingerprint:j,resetHistory:S=!1,updateUrl:oe=!1}){if(!j||"string"!=typeof j)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const W=""!==this._fingerprint&&this._fingerprint!==j;this._fingerprint=j,this._updateUrl=!0===oe,this._initialized=!0,this._bindEvents();const le=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=A(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(le,!0)||S){const{hash:ye,page:Re,rotation:Ve}=this._parseCurrentHash(!0);return!ye||W||S?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:ye,page:Re,rotation:Ve},!0)}const me=le.destination;this._updateInternalState(me,le.uid,!0),void 0!==me.rotation&&(this._initialRotation=me.rotation),me.dest?(this._initialBookmark=JSON.stringify(me.dest),this._destination.page=null):me.hash?this._initialBookmark=me.hash:me.page&&(this._initialBookmark=`page=${me.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:j=null,explicitDest:S,pageNumber:oe}){if(!this._initialized)return;if(j&&"string"!=typeof j)return void console.error(`PDFHistory.push: "${j}" is not a valid namedDest parameter.`);if(!Array.isArray(S))return void console.error(`PDFHistory.push: "${S}" is not a valid explicitDest parameter.`);if(!this._isValidPage(oe)&&(null!==oe||this._destination))return void console.error(`PDFHistory.push: "${oe}" is not a valid pageNumber parameter.`);const W=j||JSON.stringify(S);if(!W)return;let le=!1;if(this._destination&&(X(this._destination.hash,W)||N(this._destination.dest,S))){if(this._destination.page)return;le=!0}this._popStateInProgress&&!le||(this._pushOrReplaceState({dest:S,hash:W,page:oe,rotation:this.linkService.rotation},le),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(j){if(this._initialized){if(!this._isValidPage(j))return void console.error(`PDFHistory.pushPage: "${j}" is not a valid page number.`);this._destination?.page!==j&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${j}`,page:j,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const j=window.history.state;this._isValidState(j)&&j.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const j=window.history.state;this._isValidState(j)&&j.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(j,S=!1){const oe=S||!this._destination,W={fingerprint:this._fingerprint,uid:oe?this._uid:this._uid+1,destination:j};let le;if(this._updateInternalState(j,W.uid),this._updateUrl&&j?.hash){const me=document.location.href.split("#")[0];me.startsWith("file://")||(le=`${me}#${j.hash}`)}oe?window.history.replaceState(W,"",le):window.history.pushState(W,"",le)}_tryPushCurrentPosition(j=!1){if(!this._position)return;let S=this._position;if(j&&(S=Object.assign(Object.create(null),this._position),S.temporary=!0),!this._destination)return void this._pushOrReplaceState(S);if(this._destination.temporary)return void this._pushOrReplaceState(S,!0);if(this._destination.hash===S.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let oe=!1;if(this._destination.page>=S.first&&this._destination.page<=S.page){if(void 0!==this._destination.dest||!this._destination.first)return;oe=!0}this._pushOrReplaceState(S,oe)}_isValidPage(j){return Number.isInteger(j)&&j>0&&j<=this.linkService.pagesCount}_isValidState(j,S=!1){if(!j)return!1;if(j.fingerprint!==this._fingerprint){if(!S)return!1;{if("string"!=typeof j.fingerprint||j.fingerprint.length!==this._fingerprint.length)return!1;const[oe]=performance.getEntriesByType("navigation");if("reload"!==oe?.type)return!1}}return!(!Number.isInteger(j.uid)||j.uid<0||null===j.destination||"object"!=typeof j.destination)}_updateInternalState(j,S,oe=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),oe&&j?.temporary&&delete j.temporary,this._destination=j,this._uid=S,this._maxUid=Math.max(this._maxUid,S),this._numPositionUpdates=0}_parseCurrentHash(j=!1){const S=unescape(A()).substring(1),oe=(0,q.parseQueryString)(S),W=oe.get("nameddest")||"";let le=0|oe.get("page");return(!this._isValidPage(le)||j&&W.length>0)&&(le=null),{hash:S,page:le,rotation:this.linkService.rotation}}_updateViewarea({location:j}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:j.pdfOpenParams.substring(1),page:this.linkService.page,first:j.pageNumber,rotation:j.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:j}){const S=A(),oe=this._currentHash!==S;if(this._currentHash=S,!j){this._uid++;const{hash:le,page:me,rotation:ye}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:le,page:me,rotation:ye},!0)}if(!this._isValidState(j))return;this._popStateInProgress=!0,oe&&(this._blockHashChange++,(0,fe.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const W=j.destination;this._updateInternalState(W,j.uid,!0),(0,q.isValidRotation)(W.rotation)&&(this.linkService.rotation=W.rotation),W.dest?this.linkService.goToDestination(W.dest):W.hash?this.linkService.setHash(W.hash):W.page&&(this.linkService.page=W.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFScriptingManager=void 0;var q=ae(6),fe=ae(3);$.PDFScriptingManager=class z{constructor({eventBus:D,sandboxBundleSrc:A=null,scriptingFactory:F=null,docPropertiesLookup:X=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=D,this._sandboxBundleSrc=A,this._scriptingFactory=F,this._docPropertiesLookup=X,this._scriptingFactory||window.addEventListener("updatefromsandbox",N=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:N.detail})})}setViewer(D){this._pdfViewer=D}setDocument(D){var A=this;return B(function*(){if(A._pdfDocument&&(yield A._destroyScripting()),A._pdfDocument=D,!D)return;const[F,X,N]=yield Promise.all([D.getFieldObjects(),D.getCalculationOrderIds(),D.getJSActions()]);if(F||N){if(D===A._pdfDocument){try{A._scripting=A._createScripting()}catch(J){return console.error(`PDFScriptingManager.setDocument: "${J?.message}".`),void(yield A._destroyScripting())}A._internalEvents.set("updatefromsandbox",J=>{J?.source===window&&A._updateFromSandbox(J.detail)}),A._internalEvents.set("dispatcheventinsandbox",J=>{A._scripting?.dispatchEventInSandbox(J.detail)}),A._internalEvents.set("pagechanging",({pageNumber:J,previous:j})=>{J!==j&&(A._dispatchPageClose(j),A._dispatchPageOpen(J))}),A._internalEvents.set("pagerendered",({pageNumber:J})=>{!A._pageOpenPending.has(J)||J===A._pdfViewer.currentPageNumber&&A._dispatchPageOpen(J)}),A._internalEvents.set("pagesdestroy",function(){var J=B(function*(j){yield A._dispatchPageClose(A._pdfViewer.currentPageNumber),yield A._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),A._closeCapability?.resolve()});return function(j){return J.apply(this,arguments)}}()),A._domEvents.set("mousedown",J=>{A._mouseState.isDown=!0}),A._domEvents.set("mouseup",J=>{A._mouseState.isDown=!1});for(const[J,j]of A._internalEvents)A._eventBus._on(J,j);for(const[J,j]of A._domEvents)window.addEventListener(J,j,!0);try{const J=yield A._getDocProperties();if(D!==A._pdfDocument)return;yield A._scripting.createSandbox({objects:F,calculationOrder:X,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...J,actions:N}}),A._eventBus.dispatch("sandboxcreated",{source:A})}catch(J){return console.error(`PDFScriptingManager.setDocument: "${J?.message}".`),void(yield A._destroyScripting())}yield A._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield A._dispatchPageOpen(A._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{D===A._pdfDocument&&(A._ready=!0)})}}else yield A._destroyScripting()})()}dispatchWillSave(D){var A=this;return B(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(D){var A=this;return B(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(D){var A=this;return B(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(D){var A=this;return B(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,fe.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,fe.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,fe.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,fe.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(D){var A=this;return B(function*(){const F=A._pdfViewer.isInPresentationMode||A._pdfViewer.isChangingPresentationMode,{id:X,siblings:N,command:J,value:j}=D;if(!X){switch(J){case"clear":console.clear();break;case"error":console.error(j);break;case"layout":if(F)return;const oe=(0,q.apiPageLayoutToViewerModes)(j);A._pdfViewer.spreadMode=oe.spreadMode;break;case"page-num":A._pdfViewer.currentPageNumber=j+1;break;case"print":yield A._pdfViewer.pagesPromise,A._eventBus.dispatch("print",{source:A});break;case"println":console.log(j);break;case"zoom":if(F)return;A._pdfViewer.currentScaleValue=j;break;case"SaveAs":A._eventBus.dispatch("save",{source:A});break;case"FirstPage":A._pdfViewer.currentPageNumber=1;break;case"LastPage":A._pdfViewer.currentPageNumber=A._pdfViewer.pagesCount;break;case"NextPage":A._pdfViewer.nextPage();break;case"PrevPage":A._pdfViewer.previousPage();break;case"ZoomViewIn":if(F)return;A._pdfViewer.increaseScale();break;case"ZoomViewOut":if(F)return;A._pdfViewer.decreaseScale()}return}if(F&&D.focus)return;delete D.id,delete D.siblings;const S=N?[X,...N]:[X];for(const oe of S){const W=document.getElementById(oe);W?W.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:D})):A._pdfDocument?.annotationStorage.setValue(oe,D)}})()}_dispatchPageOpen(D,A=!1){var F=this;return B(function*(){const X=F._pdfDocument,N=F._visitedPages;if(A&&(F._closeCapability=(0,fe.createPromiseCapability)()),!F._closeCapability)return;const J=F._pdfViewer.getPageView(D-1);if(J?.renderingState!==q.RenderingStates.FINISHED)return void F._pageOpenPending.add(D);F._pageOpenPending.delete(D);const j=B(function*(){const S=yield N.has(D)?null:J.pdfPage?.getJSActions();X===F._pdfDocument&&(yield F._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:D,actions:S}))})();N.set(D,j)})()}_dispatchPageClose(D){var A=this;return B(function*(){const F=A._pdfDocument,X=A._visitedPages;if(!A._closeCapability||A._pageOpenPending.has(D))return;const N=X.get(D);!N||(X.set(D,null),yield N,F===A._pdfDocument&&(yield A._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:D})))})()}_getDocProperties(){var D=this;return B(function*(){if(D._docPropertiesLookup)return D._docPropertiesLookup(D._pdfDocument);const{docPropertiesLookup:A}=ae(24);return A(D._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,fe.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:D}=ae(24);return new D(this._sandboxBundleSrc)}_destroyScripting(){var D=this;return B(function*(){if(!D._scripting)return D._pdfDocument=null,void D._destroyCapability?.resolve();D._closeCapability&&(yield Promise.race([D._closeCapability.promise,new Promise(A=>{setTimeout(A,1e3)})]).catch(A=>{}),D._closeCapability=null),D._pdfDocument=null;try{yield D._scripting.destroySandbox()}catch{}for(const[A,F]of D._internalEvents)D._eventBus._off(A,F);D._internalEvents.clear();for(const[A,F]of D._domEvents)window.removeEventListener(A,F,!0);D._domEvents.clear(),D._pageOpenPending.clear(),D._visitedPages.clear(),D._scripting=null,delete D._mouseState.isDown,D._ready=!1,D._destroyCapability?.resolve()})()}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GenericScripting=void 0,$.docPropertiesLookup=function fe(D){return z.apply(this,arguments)};var q=ae(3);function z(){return(z=B(function*(D){const F="".split("#")[0];let{info:X,metadata:N,contentDispositionFilename:J,contentLength:j}=yield D.getMetadata();if(!j){const{length:S}=yield D.getDownloadInfo();j=S}return{...X,baseURL:F,filesize:j,filename:J||(0,q.getPdfFilenameFromUrl)(""),metadata:N?.getRaw(),authors:N?.get("dc:creator"),numPages:D.numPages,URL:""}})).apply(this,arguments)}$.GenericScripting=class Z{constructor(A){this._ready=(0,q.loadScript)(A,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(A){var F=this;return B(function*(){(yield F._ready).create(A)})()}dispatchEventInSandbox(A){var F=this;return B(function*(){const X=yield F._ready;setTimeout(()=>X.dispatchEvent(A),0)})()}destroySandbox(){var A=this;return B(function*(){(yield A._ready).nukeSandbox()})()}}}],he={};function ee(se){var $=he[se];if(void 0!==$)return $.exports;var ae=he[se]={exports:{}};return ce[se](ae,ae.exports,ee),ae.exports}var Y={};return(()=>{var se=Y;Object.defineProperty(se,"__esModule",{value:!0}),Object.defineProperty(se,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return z.AnnotationLayerBuilder}}),Object.defineProperty(se,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return $.DefaultAnnotationLayerFactory}}),Object.defineProperty(se,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return $.DefaultStructTreeLayerFactory}}),Object.defineProperty(se,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return $.DefaultTextLayerFactory}}),Object.defineProperty(se,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return $.DefaultXfaLayerFactory}}),Object.defineProperty(se,"DownloadManager",{enumerable:!0,get:function(){return Z.DownloadManager}}),Object.defineProperty(se,"EventBus",{enumerable:!0,get:function(){return D.EventBus}}),Object.defineProperty(se,"GenericL10n",{enumerable:!0,get:function(){return A.GenericL10n}}),Object.defineProperty(se,"LinkTarget",{enumerable:!0,get:function(){return ae.LinkTarget}}),Object.defineProperty(se,"NullL10n",{enumerable:!0,get:function(){return F.NullL10n}}),Object.defineProperty(se,"PDFFindController",{enumerable:!0,get:function(){return X.PDFFindController}}),Object.defineProperty(se,"PDFHistory",{enumerable:!0,get:function(){return N.PDFHistory}}),Object.defineProperty(se,"PDFLinkService",{enumerable:!0,get:function(){return ae.PDFLinkService}}),Object.defineProperty(se,"PDFPageView",{enumerable:!0,get:function(){return J.PDFPageView}}),Object.defineProperty(se,"PDFScriptingManager",{enumerable:!0,get:function(){return j.PDFScriptingManager}}),Object.defineProperty(se,"PDFSinglePageViewer",{enumerable:!0,get:function(){return fe.PDFSinglePageViewer}}),Object.defineProperty(se,"PDFViewer",{enumerable:!0,get:function(){return fe.PDFViewer}}),Object.defineProperty(se,"ProgressBar",{enumerable:!0,get:function(){return q.ProgressBar}}),Object.defineProperty(se,"SimpleLinkService",{enumerable:!0,get:function(){return ae.SimpleLinkService}}),Object.defineProperty(se,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return S.StructTreeLayerBuilder}}),Object.defineProperty(se,"TextLayerBuilder",{enumerable:!0,get:function(){return oe.TextLayerBuilder}}),Object.defineProperty(se,"XfaLayerBuilder",{enumerable:!0,get:function(){return W.XfaLayerBuilder}}),Object.defineProperty(se,"parseQueryString",{enumerable:!0,get:function(){return q.parseQueryString}});var $=ee(1),ae=ee(5),q=ee(6),fe=ee(10),z=ee(2),Z=ee(16),D=ee(17),A=ee(18),F=ee(4),X=ee(20),N=ee(22),J=ee(12),j=ee(23),S=ee(7),oe=ee(8),W=ee(9)})(),Y})(),Ie.exports=ee()},9751:(Ie,x,R)=>{"use strict";R.d(x,{y:()=>ce});var s=R(930),te=R(727),O=R(8822),pe=R(9635),ie=R(2416),re=R(576),B=R(2806);let ce=(()=>{class se{constructor(ae){ae&&(this._subscribe=ae)}lift(ae){const q=new se;return q.source=this,q.operator=ae,q}subscribe(ae,q,fe){const z=function Y(se){return se&&se instanceof s.Lv||function ee(se){return se&&(0,re.m)(se.next)&&(0,re.m)(se.error)&&(0,re.m)(se.complete)}(se)&&(0,te.Nn)(se)}(ae)?ae:new s.Hp(ae,q,fe);return(0,B.x)(()=>{const{operator:Z,source:D}=this;z.add(Z?Z.call(z,D):D?this._subscribe(z):this._trySubscribe(z))}),z}_trySubscribe(ae){try{return this._subscribe(ae)}catch(q){ae.error(q)}}forEach(ae,q){return new(q=he(q))((fe,z)=>{const Z=new s.Hp({next:D=>{try{ae(D)}catch(A){z(A),Z.unsubscribe()}},error:z,complete:fe});this.subscribe(Z)})}_subscribe(ae){var q;return null===(q=this.source)||void 0===q?void 0:q.subscribe(ae)}[O.L](){return this}pipe(...ae){return(0,pe.U)(ae)(this)}toPromise(ae){return new(ae=he(ae))((q,fe)=>{let z;this.subscribe(Z=>z=Z,Z=>fe(Z),()=>q(z))})}}return se.create=$=>new se($),se})();function he(se){var $;return null!==($=se??ie.v.Promise)&&void 0!==$?$:Promise}},7579:(Ie,x,R)=>{"use strict";R.d(x,{x:()=>B});var s=R(9751),te=R(727);const pe=(0,R(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=R(8737),re=R(2806);let B=(()=>{class he extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const se=new ce(this,this);return se.operator=Y,se}_throwIfClosed(){if(this.closed)throw new pe}next(Y){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(Y)}})}error(Y){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:se}=this;for(;se.length;)se.shift().error(Y)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:se,isStopped:$,observers:ae}=this;return se||$?te.Lc:(this.currentObservers=null,ae.push(Y),new te.w0(()=>{this.currentObservers=null,(0,ie.P)(ae,Y)}))}_checkFinalizedStatuses(Y){const{hasError:se,thrownError:$,isStopped:ae}=this;se?Y.error($):ae&&Y.complete()}asObservable(){const Y=new s.y;return Y.source=this,Y}}return he.create=(ee,Y)=>new ce(ee,Y),he})();class ce extends B{constructor(ee,Y){super(),this.destination=ee,this.source=Y}next(ee){var Y,se;null===(se=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===se||se.call(Y,ee)}error(ee){var Y,se;null===(se=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===se||se.call(Y,ee)}complete(){var ee,Y;null===(Y=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===Y||Y.call(ee)}_subscribe(ee){var Y,se;return null!==(se=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(ee))&&void 0!==se?se:te.Lc}}},930:(Ie,x,R)=>{"use strict";R.d(x,{Hp:()=>fe,Lv:()=>se});var s=R(576),te=R(727),O=R(2416),pe=R(7849),ie=R(5032);const re=he("C",void 0,void 0);function he(F,X,N){return{kind:F,value:X,error:N}}var ee=R(3410),Y=R(2806);class se extends te.w0{constructor(X){super(),this.isStopped=!1,X?(this.destination=X,(0,te.Nn)(X)&&X.add(this)):this.destination=A}static create(X,N,J){return new fe(X,N,J)}next(X){this.isStopped?D(function ce(F){return he("N",F,void 0)}(X),this):this._next(X)}error(X){this.isStopped?D(function B(F){return he("E",void 0,F)}(X),this):(this.isStopped=!0,this._error(X))}complete(){this.isStopped?D(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(X){this.destination.next(X)}_error(X){try{this.destination.error(X)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $=Function.prototype.bind;function ae(F,X){return $.call(F,X)}class q{constructor(X){this.partialObserver=X}next(X){const{partialObserver:N}=this;if(N.next)try{N.next(X)}catch(J){z(J)}}error(X){const{partialObserver:N}=this;if(N.error)try{N.error(X)}catch(J){z(J)}else z(X)}complete(){const{partialObserver:X}=this;if(X.complete)try{X.complete()}catch(N){z(N)}}}class fe extends se{constructor(X,N,J){let j;if(super(),(0,s.m)(X)||!X)j={next:X??void 0,error:N??void 0,complete:J??void 0};else{let S;this&&O.v.useDeprecatedNextContext?(S=Object.create(X),S.unsubscribe=()=>this.unsubscribe(),j={next:X.next&&ae(X.next,S),error:X.error&&ae(X.error,S),complete:X.complete&&ae(X.complete,S)}):j=X}this.destination=new q(j)}}function z(F){O.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(F):(0,pe.h)(F)}function D(F,X){const{onStoppedNotification:N}=O.v;N&&ee.z.setTimeout(()=>N(F,X))}const A={closed:!0,next:ie.Z,error:function Z(F){throw F},complete:ie.Z}},727:(Ie,x,R)=>{"use strict";R.d(x,{Lc:()=>re,w0:()=>ie,Nn:()=>B});var s=R(576);const O=(0,R(3888).d)(he=>function(Y){he(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((se,$)=>`${$+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var pe=R(8737);class ie{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const ae of Y)ae.remove(this);else Y.remove(this);const{initialTeardown:se}=this;if((0,s.m)(se))try{se()}catch(ae){ee=ae instanceof O?ae.errors:[ae]}const{_finalizers:$}=this;if($){this._finalizers=null;for(const ae of $)try{ce(ae)}catch(q){ee=ee??[],q instanceof O?ee=[...ee,...q.errors]:ee.push(q)}}if(ee)throw new O(ee)}}add(ee){var Y;if(ee&&ee!==this)if(this.closed)ce(ee);else{if(ee instanceof ie){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(ee)}}_hasParent(ee){const{_parentage:Y}=this;return Y===ee||Array.isArray(Y)&&Y.includes(ee)}_addParent(ee){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(ee),Y):Y?[Y,ee]:ee}_removeParent(ee){const{_parentage:Y}=this;Y===ee?this._parentage=null:Array.isArray(Y)&&(0,pe.P)(Y,ee)}remove(ee){const{_finalizers:Y}=this;Y&&(0,pe.P)(Y,ee),ee instanceof ie&&ee._removeParent(this)}}ie.EMPTY=(()=>{const he=new ie;return he.closed=!0,he})();const re=ie.EMPTY;function B(he){return he instanceof ie||he&&"closed"in he&&(0,s.m)(he.remove)&&(0,s.m)(he.add)&&(0,s.m)(he.unsubscribe)}function ce(he){(0,s.m)(he)?he():he.unsubscribe()}},2416:(Ie,x,R)=>{"use strict";R.d(x,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ie,x,R)=>{"use strict";R.d(x,{E:()=>te});const te=new(R(9751).y)(ie=>ie.complete())},8996:(Ie,x,R)=>{"use strict";R.d(x,{D:()=>X});var s=R(8421),te=R(5363),O=R(9468),re=R(9751),ce=R(2202),he=R(576),ee=R(9672);function se(N,J){if(!N)throw new Error("Iterable cannot be null");return new re.y(j=>{(0,ee.f)(j,J,()=>{const S=N[Symbol.asyncIterator]();(0,ee.f)(j,J,()=>{S.next().then(oe=>{oe.done?j.complete():j.next(oe.value)})},0,!0)})})}var $=R(3670),ae=R(8239),q=R(1144),fe=R(6495),z=R(2206),Z=R(4532),D=R(3260);function X(N,J){return J?function F(N,J){if(null!=N){if((0,$.c)(N))return function pe(N,J){return(0,s.Xf)(N).pipe((0,O.R)(J),(0,te.Q)(J))}(N,J);if((0,q.z)(N))return function B(N,J){return new re.y(j=>{let S=0;return J.schedule(function(){S===N.length?j.complete():(j.next(N[S++]),j.closed||this.schedule())})})}(N,J);if((0,ae.t)(N))return function ie(N,J){return(0,s.Xf)(N).pipe((0,O.R)(J),(0,te.Q)(J))}(N,J);if((0,z.D)(N))return se(N,J);if((0,fe.T)(N))return function Y(N,J){return new re.y(j=>{let S;return(0,ee.f)(j,J,()=>{S=N[ce.h](),(0,ee.f)(j,J,()=>{let oe,W;try{({value:oe,done:W}=S.next())}catch(le){return void j.error(le)}W?j.complete():j.next(oe)},0,!0)}),()=>(0,he.m)(S?.return)&&S.return()})}(N,J);if((0,D.L)(N))return function A(N,J){return se((0,D.Q)(N),J)}(N,J)}throw(0,Z.z)(N)}(N,J):(0,s.Xf)(N)}},8421:(Ie,x,R)=>{"use strict";R.d(x,{Xf:()=>$});var s=R(655),te=R(1144),O=R(8239),pe=R(9751),ie=R(3670),re=R(2206),B=R(4532),ce=R(6495),he=R(3260),ee=R(576),Y=R(7849),se=R(8822);function $(F){if(F instanceof pe.y)return F;if(null!=F){if((0,ie.c)(F))return function ae(F){return new pe.y(X=>{const N=F[se.L]();if((0,ee.m)(N.subscribe))return N.subscribe(X);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(F);if((0,te.z)(F))return function q(F){return new pe.y(X=>{for(let N=0;N<F.length&&!X.closed;N++)X.next(F[N]);X.complete()})}(F);if((0,O.t)(F))return function fe(F){return new pe.y(X=>{F.then(N=>{X.closed||(X.next(N),X.complete())},N=>X.error(N)).then(null,Y.h)})}(F);if((0,re.D)(F))return Z(F);if((0,ce.T)(F))return function z(F){return new pe.y(X=>{for(const N of F)if(X.next(N),X.closed)return;X.complete()})}(F);if((0,he.L)(F))return function D(F){return Z((0,he.Q)(F))}(F)}throw(0,B.z)(F)}function Z(F){return new pe.y(X=>{(function A(F,X){var N,J,j,S;return(0,s.mG)(this,void 0,void 0,function*(){try{for(N=(0,s.KL)(F);!(J=yield N.next()).done;)if(X.next(J.value),X.closed)return}catch(oe){j={error:oe}}finally{try{J&&!J.done&&(S=N.return)&&(yield S.call(N))}finally{if(j)throw j.error}}X.complete()})})(F,X).catch(N=>X.error(N))})}},6451:(Ie,x,R)=>{"use strict";R.d(x,{T:()=>re});var s=R(8189),te=R(8421),O=R(515),pe=R(3269),ie=R(8996);function re(...B){const ce=(0,pe.yG)(B),he=(0,pe._6)(B,1/0),ee=B;return ee.length?1===ee.length?(0,te.Xf)(ee[0]):(0,s.J)(he)((0,ie.D)(ee,ce)):O.E}},5403:(Ie,x,R)=>{"use strict";R.d(x,{x:()=>te});var s=R(930);function te(pe,ie,re,B,ce){return new O(pe,ie,re,B,ce)}class O extends s.Lv{constructor(ie,re,B,ce,he,ee){super(ie),this.onFinalize=he,this.shouldUnsubscribe=ee,this._next=re?function(Y){try{re(Y)}catch(se){ie.error(se)}}:super._next,this._error=ce?function(Y){try{ce(Y)}catch(se){ie.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=B?function(){try{B()}catch(Y){ie.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(Ie,x,R)=>{"use strict";R.d(x,{U:()=>O});var s=R(4482),te=R(5403);function O(pe,ie){return(0,s.e)((re,B)=>{let ce=0;re.subscribe((0,te.x)(B,he=>{B.next(pe.call(ie,he,ce++))}))})}},8189:(Ie,x,R)=>{"use strict";R.d(x,{J:()=>O});var s=R(5577),te=R(4671);function O(pe=1/0){return(0,s.z)(te.y,pe)}},5577:(Ie,x,R)=>{"use strict";R.d(x,{z:()=>ce});var s=R(4004),te=R(8421),O=R(4482),pe=R(9672),ie=R(5403),B=R(576);function ce(he,ee,Y=1/0){return(0,B.m)(ee)?ce((se,$)=>(0,s.U)((ae,q)=>ee(se,ae,$,q))((0,te.Xf)(he(se,$))),Y):("number"==typeof ee&&(Y=ee),(0,O.e)((se,$)=>function re(he,ee,Y,se,$,ae,q,fe){const z=[];let Z=0,D=0,A=!1;const F=()=>{A&&!z.length&&!Z&&ee.complete()},X=J=>Z<se?N(J):z.push(J),N=J=>{ae&&ee.next(J),Z++;let j=!1;(0,te.Xf)(Y(J,D++)).subscribe((0,ie.x)(ee,S=>{$?.(S),ae?X(S):ee.next(S)},()=>{j=!0},void 0,()=>{if(j)try{for(Z--;z.length&&Z<se;){const S=z.shift();q?(0,pe.f)(ee,q,()=>N(S)):N(S)}F()}catch(S){ee.error(S)}}))};return he.subscribe((0,ie.x)(ee,X,()=>{A=!0,F()})),()=>{fe?.()}}(se,$,he,Y)))}},5363:(Ie,x,R)=>{"use strict";R.d(x,{Q:()=>pe});var s=R(9672),te=R(4482),O=R(5403);function pe(ie,re=0){return(0,te.e)((B,ce)=>{B.subscribe((0,O.x)(ce,he=>(0,s.f)(ce,ie,()=>ce.next(he),re),()=>(0,s.f)(ce,ie,()=>ce.complete(),re),he=>(0,s.f)(ce,ie,()=>ce.error(he),re)))})}},3099:(Ie,x,R)=>{"use strict";R.d(x,{B:()=>ie});var s=R(8421),te=R(7579),O=R(930),pe=R(4482);function ie(B={}){const{connector:ce=(()=>new te.x),resetOnError:he=!0,resetOnComplete:ee=!0,resetOnRefCountZero:Y=!0}=B;return se=>{let $,ae,q,fe=0,z=!1,Z=!1;const D=()=>{ae?.unsubscribe(),ae=void 0},A=()=>{D(),$=q=void 0,z=Z=!1},F=()=>{const X=$;A(),X?.unsubscribe()};return(0,pe.e)((X,N)=>{fe++,!Z&&!z&&D();const J=q=q??ce();N.add(()=>{fe--,0===fe&&!Z&&!z&&(ae=re(F,Y))}),J.subscribe(N),!$&&fe>0&&($=new O.Hp({next:j=>J.next(j),error:j=>{Z=!0,D(),ae=re(A,he,j),J.error(j)},complete:()=>{z=!0,D(),ae=re(A,ee),J.complete()}}),(0,s.Xf)(X).subscribe($))})(se)}}function re(B,ce,...he){if(!0===ce)return void B();if(!1===ce)return;const ee=new O.Hp({next:()=>{ee.unsubscribe(),B()}});return ce(...he).subscribe(ee)}},9468:(Ie,x,R)=>{"use strict";R.d(x,{R:()=>te});var s=R(4482);function te(O,pe=0){return(0,s.e)((ie,re)=>{re.add(O.schedule(()=>ie.subscribe(re),pe))})}},8505:(Ie,x,R)=>{"use strict";R.d(x,{b:()=>ie});var s=R(576),te=R(4482),O=R(5403),pe=R(4671);function ie(re,B,ce){const he=(0,s.m)(re)||B||ce?{next:re,error:B,complete:ce}:re;return he?(0,te.e)((ee,Y)=>{var se;null===(se=he.subscribe)||void 0===se||se.call(he);let $=!0;ee.subscribe((0,O.x)(Y,ae=>{var q;null===(q=he.next)||void 0===q||q.call(he,ae),Y.next(ae)},()=>{var ae;$=!1,null===(ae=he.complete)||void 0===ae||ae.call(he),Y.complete()},ae=>{var q;$=!1,null===(q=he.error)||void 0===q||q.call(he,ae),Y.error(ae)},()=>{var ae,q;$&&(null===(ae=he.unsubscribe)||void 0===ae||ae.call(he)),null===(q=he.finalize)||void 0===q||q.call(he)}))}):pe.y}},4408:(Ie,x,R)=>{"use strict";R.d(x,{o:()=>ie});var s=R(727);class te extends s.w0{constructor(B,ce){super()}schedule(B,ce=0){return this}}const O={setInterval(re,B,...ce){const{delegate:he}=O;return he?.setInterval?he.setInterval(re,B,...ce):setInterval(re,B,...ce)},clearInterval(re){const{delegate:B}=O;return(B?.clearInterval||clearInterval)(re)},delegate:void 0};var pe=R(8737);class ie extends te{constructor(B,ce){super(B,ce),this.scheduler=B,this.work=ce,this.pending=!1}schedule(B,ce=0){if(this.closed)return this;this.state=B;const he=this.id,ee=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(ee,he,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(ee,this.id,ce),this}requestAsyncId(B,ce,he=0){return O.setInterval(B.flush.bind(B,this),he)}recycleAsyncId(B,ce,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ce;O.clearInterval(ce)}execute(B,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(B,ce);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(B,ce){let ee,he=!1;try{this.work(B)}catch(Y){he=!0,ee=Y||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:B,scheduler:ce}=this,{actions:he}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(he,this),null!=B&&(this.id=this.recycleAsyncId(ce,B,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ie,x,R)=>{"use strict";R.d(x,{v:()=>O});var s=R(6063);class te{constructor(ie,re=te.now){this.schedulerActionCtor=ie,this.now=re}schedule(ie,re=0,B){return new this.schedulerActionCtor(this,ie).schedule(B,re)}}te.now=s.l.now;class O extends te{constructor(ie,re=te.now){super(ie,re),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:re}=this;if(this._active)return void re.push(ie);let B;this._active=!0;do{if(B=ie.execute(ie.state,ie.delay))break}while(ie=re.shift());if(this._active=!1,B){for(;ie=re.shift();)ie.unsubscribe();throw B}}}},4986:(Ie,x,R)=>{"use strict";R.d(x,{P:()=>pe,z:()=>O});var s=R(4408);const O=new(R(7565).v)(s.o),pe=O},6063:(Ie,x,R)=>{"use strict";R.d(x,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(Ie,x,R)=>{"use strict";R.d(x,{z:()=>s});const s={setTimeout(te,O,...pe){const{delegate:ie}=s;return ie?.setTimeout?ie.setTimeout(te,O,...pe):setTimeout(te,O,...pe)},clearTimeout(te){const{delegate:O}=s;return(O?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(Ie,x,R)=>{"use strict";R.d(x,{h:()=>te});const te=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ie,x,R)=>{"use strict";R.d(x,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ie,x,R)=>{"use strict";R.d(x,{_6:()=>re,jO:()=>pe,yG:()=>ie});var s=R(576),te=R(3532);function O(B){return B[B.length-1]}function pe(B){return(0,s.m)(O(B))?B.pop():void 0}function ie(B){return(0,te.K)(O(B))?B.pop():void 0}function re(B,ce){return"number"==typeof O(B)?B.pop():ce}},8737:(Ie,x,R)=>{"use strict";function s(te,O){if(te){const pe=te.indexOf(O);0<=pe&&te.splice(pe,1)}}R.d(x,{P:()=>s})},3888:(Ie,x,R)=>{"use strict";function s(te){const pe=te(ie=>{Error.call(ie),ie.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}R.d(x,{d:()=>s})},2806:(Ie,x,R)=>{"use strict";R.d(x,{O:()=>pe,x:()=>O});var s=R(2416);let te=null;function O(ie){if(s.v.useDeprecatedSynchronousErrorHandling){const re=!te;if(re&&(te={errorThrown:!1,error:null}),ie(),re){const{errorThrown:B,error:ce}=te;if(te=null,B)throw ce}}else ie()}function pe(ie){s.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ie)}},9672:(Ie,x,R)=>{"use strict";function s(te,O,pe,ie=0,re=!1){const B=O.schedule(function(){pe(),re?te.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(te.add(B),!re)return B}R.d(x,{f:()=>s})},4671:(Ie,x,R)=>{"use strict";function s(te){return te}R.d(x,{y:()=>s})},1144:(Ie,x,R)=>{"use strict";R.d(x,{z:()=>s});const s=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(Ie,x,R)=>{"use strict";R.d(x,{D:()=>te});var s=R(576);function te(O){return Symbol.asyncIterator&&(0,s.m)(O?.[Symbol.asyncIterator])}},576:(Ie,x,R)=>{"use strict";function s(te){return"function"==typeof te}R.d(x,{m:()=>s})},3670:(Ie,x,R)=>{"use strict";R.d(x,{c:()=>O});var s=R(8822),te=R(576);function O(pe){return(0,te.m)(pe[s.L])}},6495:(Ie,x,R)=>{"use strict";R.d(x,{T:()=>O});var s=R(2202),te=R(576);function O(pe){return(0,te.m)(pe?.[s.h])}},8239:(Ie,x,R)=>{"use strict";R.d(x,{t:()=>te});var s=R(576);function te(O){return(0,s.m)(O?.then)}},3260:(Ie,x,R)=>{"use strict";R.d(x,{L:()=>pe,Q:()=>O});var s=R(655),te=R(576);function O(ie){return(0,s.FC)(this,arguments,function*(){const B=ie.getReader();try{for(;;){const{value:ce,done:he}=yield(0,s.qq)(B.read());if(he)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(ce)}}finally{B.releaseLock()}})}function pe(ie){return(0,te.m)(ie?.getReader)}},3532:(Ie,x,R)=>{"use strict";R.d(x,{K:()=>te});var s=R(576);function te(O){return O&&(0,s.m)(O.schedule)}},4482:(Ie,x,R)=>{"use strict";R.d(x,{A:()=>te,e:()=>O});var s=R(576);function te(pe){return(0,s.m)(pe?.lift)}function O(pe){return ie=>{if(te(ie))return ie.lift(function(re){try{return pe(re,this)}catch(B){this.error(B)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ie,x,R)=>{"use strict";function s(){}R.d(x,{Z:()=>s})},9635:(Ie,x,R)=>{"use strict";R.d(x,{U:()=>O,z:()=>te});var s=R(4671);function te(...pe){return O(pe)}function O(pe){return 0===pe.length?s.y:1===pe.length?pe[0]:function(re){return pe.reduce((B,ce)=>ce(B),re)}}},7849:(Ie,x,R)=>{"use strict";R.d(x,{h:()=>O});var s=R(2416),te=R(3410);function O(pe){te.z.setTimeout(()=>{const{onUnhandledError:ie}=s.v;if(!ie)throw pe;ie(pe)})}},4532:(Ie,x,R)=>{"use strict";function s(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(x,{z:()=>s})},655:(Ie,x,R)=>{"use strict";function pe(W,le){var me={};for(var ye in W)Object.prototype.hasOwnProperty.call(W,ye)&&le.indexOf(ye)<0&&(me[ye]=W[ye]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(ye=Object.getOwnPropertySymbols(W);Re<ye.length;Re++)le.indexOf(ye[Re])<0&&Object.prototype.propertyIsEnumerable.call(W,ye[Re])&&(me[ye[Re]]=W[ye[Re]])}return me}function ce(W,le,me,ye){return new(me||(me=Promise))(function(Ve,Xe){function it(b){try{M(ye.next(b))}catch(k){Xe(k)}}function ve(b){try{M(ye.throw(b))}catch(k){Xe(k)}}function M(b){b.done?Ve(b.value):function Re(Ve){return Ve instanceof me?Ve:new me(function(Xe){Xe(Ve)})}(b.value).then(it,ve)}M((ye=ye.apply(W,le||[])).next())})}function z(W){return this instanceof z?(this.v=W,this):new z(W)}function Z(W,le,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ye=me.apply(W,le||[]),Ve=[];return Re={},Xe("next"),Xe("throw"),Xe("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function Xe(L){ye[L]&&(Re[L]=function(Q){return new Promise(function(ne,U){Ve.push([L,Q,ne,U])>1||it(L,Q)})})}function it(L,Q){try{!function ve(L){L.value instanceof z?Promise.resolve(L.value.v).then(M,b):k(Ve[0][2],L)}(ye[L](Q))}catch(ne){k(Ve[0][3],ne)}}function M(L){it("next",L)}function b(L){it("throw",L)}function k(L,Q){L(Q),Ve.shift(),Ve.length&&it(Ve[0][0],Ve[0][1])}}function A(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,le=W[Symbol.asyncIterator];return le?le.call(W):(W=function se(W){var le="function"==typeof Symbol&&Symbol.iterator,me=le&&W[le],ye=0;if(me)return me.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ye>=W.length&&(W=void 0),{value:W&&W[ye++],done:!W}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),me={},ye("next"),ye("throw"),ye("return"),me[Symbol.asyncIterator]=function(){return this},me);function ye(Ve){me[Ve]=W[Ve]&&function(Xe){return new Promise(function(it,ve){!function Re(Ve,Xe,it,ve){Promise.resolve(ve).then(function(M){Ve({value:M,done:it})},Xe)}(it,ve,(Xe=W[Ve](Xe)).done,Xe.value)})}}}R.d(x,{FC:()=>Z,KL:()=>A,_T:()=>pe,mG:()=>ce,qq:()=>z})},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:Ie=>{function x(s,te,O,pe,ie,re,B){try{var ce=s[re](B),he=ce.value}catch(ee){return void O(ee)}ce.done?te(he):Promise.resolve(he).then(pe,ie)}Ie.exports=function R(s){return function(){var te=this,O=arguments;return new Promise(function(pe,ie){var re=s.apply(te,O);function B(he){x(re,pe,ie,B,ce,"next",he)}function ce(he){x(re,pe,ie,B,ce,"throw",he)}B(void 0)})}},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},6521:Ie=>{Ie.exports=function x(R,s){if(s.has(R))throw new TypeError("Cannot initialize the same private elements twice on an object")},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},8912:Ie=>{Ie.exports=function x(R,s){return s.get?s.get.call(R):s.value},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},3448:Ie=>{Ie.exports=function x(R,s,te){if(s.set)s.set.call(R,te);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=te}},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},2625:Ie=>{Ie.exports=function x(R,s){if(R!==s)throw new TypeError("Private static access of wrong provenance")},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},2506:Ie=>{Ie.exports=function x(R,s){if(void 0===R)throw new TypeError("attempted to "+s+" private static field before its declaration")},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},4069:Ie=>{Ie.exports=function x(R,s,te){if(!s.has(R))throw new TypeError("attempted to "+te+" private field on non-instance");return s.get(R)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},468:(Ie,x,R)=>{var s=R(8912),te=R(4069);Ie.exports=function O(pe,ie){var re=te(pe,ie,"get");return s(pe,re)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},9159:(Ie,x,R)=>{var s=R(6521);Ie.exports=function te(O,pe,ie){s(O,pe),pe.set(O,ie)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},5661:(Ie,x,R)=>{var s=R(3448),te=R(4069);Ie.exports=function O(pe,ie,re){var B=te(pe,ie,"set");return s(pe,B,re),re},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},4467:Ie=>{Ie.exports=function x(R,s,te){if(!s.has(R))throw new TypeError("attempted to get private field on non-instance");return te},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},1860:(Ie,x,R)=>{var s=R(6521);Ie.exports=function te(O,pe){s(O,pe),pe.add(O)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},1280:(Ie,x,R)=>{var s=R(8912),te=R(2625),O=R(2506);Ie.exports=function pe(ie,re,B){return te(ie,re),O(B,"get"),s(ie,B)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},2306:(Ie,x,R)=>{var s=R(3448),te=R(2625),O=R(2506);Ie.exports=function pe(ie,re,B,ce){return te(ie,re),O(B,"set"),s(ie,B,ce),ce},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},5764:(Ie,x,R)=>{var s=R(2625);Ie.exports=function te(O,pe,ie){return s(O,pe),ie},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},8416:Ie=>{Ie.exports=function x(R,s,te){return s in R?Object.defineProperty(R,s,{value:te,enumerable:!0,configurable:!0,writable:!0}):R[s]=te,R},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},4650:(Ie,x,R)=>{"use strict";R.d(x,{$8M:()=>no,$Z:()=>vS,AFp:()=>Hx,ALo:()=>ug,AaK:()=>ce,AsE:()=>zw,BQk:()=>Hm,CHM:()=>ca,CRH:()=>Iv,CZH:()=>vg,CqO:()=>hT,D6c:()=>gI,EJc:()=>sD,EiD:()=>bu,EpF:()=>ww,F$t:()=>gT,F4k:()=>dT,FYo:()=>Jt,FiY:()=>pt,G48:()=>cI,Gf:()=>xv,GfV:()=>Rd,Gpc:()=>Y,Hsn:()=>_T,Ikx:()=>Pa,JOm:()=>Ho,JVY:()=>Xp,KtG:()=>ua,L6k:()=>Jp,LAX:()=>T_,LFG:()=>ui,LSH:()=>mc,Lbi:()=>bg,Lck:()=>AC,MAs:()=>yw,MMx:()=>lg,NdJ:()=>xf,O4$:()=>ou,OlP:()=>Tn,Oqu:()=>Mf,PXZ:()=>_D,Q6J:()=>My,QGY:()=>ky,QP$:()=>Zf,QbO:()=>$x,Qsj:()=>Ii,R0b:()=>Rs,RDi:()=>w_,Rgc:()=>Wf,SBq:()=>It,Sil:()=>Zx,Suo:()=>qC,TTD:()=>Hr,TgZ:()=>Bm,Udp:()=>Ow,VKq:()=>MC,W1O:()=>ZC,WFA:()=>Py,WLB:()=>yv,X6Q:()=>lI,XFs:()=>lt,Xpm:()=>Ce,Xts:()=>wu,Y36:()=>wf,YKP:()=>lv,YNc:()=>cT,Yjl:()=>en,Yz7:()=>Q,ZZ4:()=>kg,_Bn:()=>EC,_UZ:()=>Ma,_Vd:()=>_e,_c5:()=>pI,_uU:()=>Gw,aQg:()=>$v,c2e:()=>Wx,cJS:()=>U,cg1:()=>qm,d8E:()=>Wm,dDg:()=>fD,dqk:()=>xe,eBb:()=>S_,eFA:()=>vD,ekj:()=>Gm,eoX:()=>Dg,f3M:()=>cc,g9A:()=>rD,h0i:()=>Vu,hGG:()=>mI,hij:()=>Ny,iGM:()=>WC,ifc:()=>ge,ip1:()=>Ux,kL8:()=>Hy,kcU:()=>Xl,lG2:()=>Rn,lcZ:()=>Cv,lqb:()=>Aa,lri:()=>dD,mCW:()=>dc,n5z:()=>xo,n_E:()=>$f,oAB:()=>Dt,oxw:()=>mT,pB0:()=>em,q3G:()=>Ci,q4F:()=>Sa,qLn:()=>ff,qOj:()=>Tc,qZA:()=>Um,qzn:()=>Ca,rWj:()=>hD,sBO:()=>uI,sIi:()=>Tf,s_b:()=>qf,soG:()=>Xf,tb:()=>ih,tp0:()=>Zt,uIk:()=>xy,vHH:()=>q,vpe:()=>Pl,wAp:()=>an,xi3:()=>NC,xp6:()=>lS,ynx:()=>Zd,z2F:()=>Ag,z3N:()=>Vo,zSh:()=>lf,zs3:()=>Nd});var s=R(7579),te=R(727),O=R(9751),pe=R(6451),ie=R(3099);function re(a){for(let l in a)if(a[l]===re)return l;throw Error("Could not find renamed property on target object.")}function B(a,l){for(const c in l)l.hasOwnProperty(c)&&!a.hasOwnProperty(c)&&(a[c]=l[c])}function ce(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(ce).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const l=a.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function he(a,l){return null==a||""===a?null===l?"":l:null==l||""===l?a:a+" "+l}const ee=re({__forward_ref__:re});function Y(a){return a.__forward_ref__=Y,a.toString=function(){return ce(this())},a}function se(a){return $(a)?a():a}function $(a){return"function"==typeof a&&a.hasOwnProperty(ee)&&a.__forward_ref__===Y}class q extends Error{constructor(l,c){super(function fe(a,l){return`NG0${Math.abs(a)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function z(a){return"string"==typeof a?a:null==a?"":String(a)}function X(a,l){throw new q(-201,!1)}function ve(a,l){null==a&&function M(a,l,c,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,a,null,"!=")}function Q(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function U(a){return{providers:a.providers||[],imports:a.imports||[]}}function be(a){return He(a,Ye)||He(a,gt)}function He(a,l){return a.hasOwnProperty(l)?a[l]:null}function Be(a){return a&&(a.hasOwnProperty(Qe)||a.hasOwnProperty(Tt))?a[Qe]:null}const Ye=re({\u0275prov:re}),Qe=re({\u0275inj:re}),gt=re({ngInjectableDef:re}),Tt=re({ngInjectorDef:re});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let _t;function Rt(a){const l=_t;return _t=a,l}function Ot(a,l,c){const d=be(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&lt.Optional?null:void 0!==l?l:void X(ce(a))}function nt(a){return{toString:a}.toString()}var dt=(()=>((dt=dt||{})[dt.OnPush=0]="OnPush",dt[dt.Default=1]="Default",dt))(),ge=(()=>{return(a=ge||(ge={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",ge;var a})();const xe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ne={},we=[],Fe=re({\u0275cmp:re}),rt=re({\u0275dir:re}),vt=re({\u0275pipe:re}),Yt=re({\u0275mod:re}),Ze=re({\u0275fac:re}),Ee=re({__NG_ELEMENT_ID__:re});let Te=0;function Ce(a){return nt(()=>{const c=!0===a.standalone,d={},f={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&a.dependencies||null,getStandaloneInjector:null,selectors:a.selectors||we,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||ge.Emulated,id:"c"+Te++,styles:a.styles||we,_:null,setInput:null,schemas:a.schemas||null,tView:null},m=a.dependencies,v=a.features;return f.inputs=tn(a.inputs,d),f.outputs=tn(a.outputs),v&&v.forEach(E=>E(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(Pe).filter(We):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(An).filter(We):null,f})}function Pe(a){return nn(a)||bn(a)}function We(a){return null!==a}const at={};function Dt(a){return nt(()=>{const l={type:a.type,bootstrap:a.bootstrap||we,declarations:a.declarations||we,imports:a.imports||we,exports:a.exports||we,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(at[a.id]=a.type),l})}function tn(a,l){if(null==a)return Ne;const c={};for(const d in a)if(a.hasOwnProperty(d)){let f=a[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,l&&(l[f]=m)}return c}const Rn=Ce;function en(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,standalone:!0===a.standalone,onDestroy:a.type.prototype.ngOnDestroy||null}}function nn(a){return a[Fe]||null}function bn(a){return a[rt]||null}function An(a){return a[vt]||null}function Pn(a,l){const c=a[Yt]||null;if(!c&&!0===l)throw new Error(`Type ${ce(a)} does not have '\u0275mod' property.`);return c}function Vi(a){return Array.isArray(a)&&"object"==typeof a[1]}function rr(a){return Array.isArray(a)&&!0===a[1]}function ra(a){return 0!=(8&a.flags)}function Ws(a){return 2==(2&a.flags)}function qs(a){return 1==(1&a.flags)}function ss(a){return null!==a.template}function ja(a){return 0!=(256&a[2])}function Zs(a,l){return a.hasOwnProperty(Ze)?a[Ze]:null}class Hl{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function Hr(){return Ks}function Ks(a){return a.type.prototype.ngOnChanges&&(a.setInput=Ga),sa}function sa(){const a=Qc(this),l=a?.current;if(l){const c=a.previous;if(c===Ne)a.previous=l;else for(let d in l)c[d]=l[d];a.current=null,this.ngOnChanges(l)}}function Ga(a,l,c,d){const f=Qc(a)||function zp(a,l){return a[za]=l}(a,{previous:Ne,current:null}),m=f.current||(f.current={}),v=f.previous,E=this.declaredInputs[c],T=v[E];m[E]=new Hl(T&&T.currentValue,l,v===Ne),a[d]=l}Hr.ngInherit=!0;const za="__ngSimpleChanges__";function Qc(a){return a[za]||null}function hi(a){for(;Array.isArray(a);)a=a[0];return a}function Wa(a,l){return hi(l[a])}function gi(a,l){return hi(l[a.index])}function oa(a,l){return a.data[l]}function os(a,l){return a[l]}function Ri(a,l){const c=l[a];return Vi(c)?c:c[0]}function Ds(a){return 4==(4&a[2])}function jr(a){return 64==(64&a[2])}function Ji(a,l){return null==l?null:a[l]}function qa(a){a[18]=0}function aa(a,l){a[5]+=l;let c=a,d=a[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const jt={lFrame:Yl(null),bindingsEnabled:!0};function Ya(){return jt.bindingsEnabled}function mt(){return jt.lFrame.lView}function wn(){return jt.lFrame.tView}function ca(a){return jt.lFrame.contextLView=a,a[8]}function ua(a){return jt.lFrame.contextLView=null,a}function si(){let a=Za();for(;null!==a&&64===a.type;)a=a.parent;return a}function Za(){return jt.lFrame.currentTNode}function br(a,l){const c=jt.lFrame;c.currentTNode=a,c.isParent=l}function Ka(){return jt.lFrame.isParent}function Es(){jt.lFrame.isParent=!1}function Ui(){const a=jt.lFrame;let l=a.bindingRootIndex;return-1===l&&(l=a.bindingRootIndex=a.tView.bindingStartIndex),l}function da(){return jt.lFrame.bindingIndex++}function Gr(a){const l=jt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+a,c}function Xa(a,l){const c=jt.lFrame;c.bindingIndex=c.bindingRootIndex=a,Ao(l)}function Ao(a){jt.lFrame.currentDirectiveIndex=a}function Ja(a){const l=jt.lFrame.currentDirectiveIndex;return-1===l?null:a[l]}function Wl(){return jt.lFrame.currentQueryIndex}function el(a){jt.lFrame.currentQueryIndex=a}function tl(a){const l=a[1];return 2===l.type?l.declTNode:1===l.type?a[6]:null}function ru(a,l,c){if(c&lt.SkipSelf){let f=l,m=a;for(;!(f=f.parent,null!==f||c&lt.Host||(f=tl(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,a=m}const d=jt.lFrame=ql();return d.currentTNode=l,d.lView=a,!0}function nl(a){const l=ql(),c=a[1];jt.lFrame=l,l.currentTNode=c.firstChild,l.lView=a,l.tView=c,l.contextLView=a,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function ql(){const a=jt.lFrame,l=null===a?null:a.child;return null===l?Yl(a):l}function Yl(a){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=l),l}function Zl(){const a=jt.lFrame;return jt.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const il=Zl;function su(){const a=Zl();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function bi(){return jt.lFrame.selectedIndex}function As(a){jt.lFrame.selectedIndex=a}function Gn(){const a=jt.lFrame;return oa(a.tView,a.selectedIndex)}function ou(){jt.lFrame.currentNamespace="svg"}function Xl(){!function fd(){jt.lFrame.currentNamespace=null}()}function Fh(a,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const m=a.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:G,ngOnDestroy:de}=m;v&&(a.contentHooks||(a.contentHooks=[])).push(-c,v),E&&((a.contentHooks||(a.contentHooks=[])).push(c,E),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(c,E)),T&&(a.viewHooks||(a.viewHooks=[])).push(-c,T),G&&((a.viewHooks||(a.viewHooks=[])).push(c,G),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(c,G)),null!=de&&(a.destroyHooks||(a.destroyHooks=[])).push(c,de)}}function Lh(a,l,c){Wp(a,l,3,c)}function ha(a,l,c,d){(3&a[2])===c&&Wp(a,l,c,d)}function Xs(a,l){let c=a[2];(3&c)===l&&(c&=2047,c+=1,a[2]=c)}function Wp(a,l,c,d){const m=d??-1,v=l.length-1;let E=0;for(let T=void 0!==d?65535&a[18]:0;T<v;T++)if("number"==typeof l[T+1]){if(E=l[T],null!=d&&E>=d)break}else l[T]<0&&(a[18]+=65536),(E<m||-1==m)&&(lu(a,c,l,T),a[18]=(4294901760&a[18])+T+2),T++}function lu(a,l,c,d){const f=c[d]<0,m=c[d+1],E=a[f?-c[d]:c[d]];if(f){if(a[2]>>11<a[18]>>16&&(3&a[2])===l){a[2]+=2048;try{m.call(E)}finally{}}}else try{m.call(E)}finally{}}class rl{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function To(a,l,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const m=c[d++],v=c[d++],E=c[d++];a.setAttribute(l,v,E,m)}else{const m=f,v=c[++d];pa(m)?a.setProperty(l,m,v):a.setAttribute(l,m,v),d++}}return d}function md(a){return 3===a||4===a||6===a}function pa(a){return 64===a.charCodeAt(0)}function Jl(a,l){if(null!==l&&0!==l.length)if(null===a||0===a.length)a=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||Bh(a,c,f,null,-1===c||2===c?l[++d]:null)}}return a}function Bh(a,l,c,d,f){let m=0,v=a.length;if(-1===l)v=-1;else for(;m<a.length;){const E=a[m++];if("number"==typeof E){if(E===l){v=-1;break}if(E>l){v=m-1;break}}}for(;m<a.length;){const E=a[m];if("number"==typeof E)break;if(E===c){if(null===d)return void(null!==f&&(a[m+1]=f));if(d===a[m+1])return void(a[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(a.splice(v,0,l),m=v+1),a.splice(m++,0,c),null!==d&&a.splice(m++,0,d),null!==f&&a.splice(m++,0,f)}function Uh(a){return-1!==a}function sl(a){return 32767&a}function $r(a,l){let c=function zr(a){return a>>16}(a),d=l;for(;c>0;)d=d[15],c--;return d}let gd=!0;function Cr(a){const l=gd;return gd=a,l}let Nt=0;const yt={};function Wn(a,l){const c=al(a,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(a.injectorIndex=l.length,ol(d.data,a),ol(l,null),ol(d.blueprint,null));const f=ec(a,l),m=a.injectorIndex;if(Uh(f)){const v=sl(f),E=$r(f,l),T=E[1].data;for(let G=0;G<8;G++)l[m+G]=E[v+G]|T[v+G]}return l[m+8]=f,m}function ol(a,l){a.push(0,0,0,0,0,0,0,0,l)}function al(a,l){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===l[a.injectorIndex+8]?-1:a.injectorIndex}function ec(a,l){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){if(d=mr(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function tc(a,l,c){!function oi(a,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Ee)&&(d=c[Ee]),null==d&&(d=c[Ee]=Nt++);const f=255&d;l.data[a+(f>>5)]|=1<<f}(a,l,c)}function _d(a,l,c){if(c&lt.Optional)return a;X()}function qr(a,l,c,d){if(c&lt.Optional&&void 0===d&&(d=null),0==(c&(lt.Self|lt.Host))){const f=a[9],m=Rt(void 0);try{return f?f.get(l,d,c&lt.Optional):Ot(l,d,c&lt.Optional)}finally{Rt(m)}}return _d(d,0,c)}function Gt(a,l,c,d=lt.Default,f){if(null!==a){if(1024&l[2]){const v=function ga(a,l,c,d,f){let m=a,v=l;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const E=Js(m,v,c,d|lt.Self,yt);if(E!==yt)return E;let T=m.parent;if(!T){const G=v[21];if(G){const de=G.get(c,yt,d);if(de!==yt)return de}T=mr(v),v=v[15]}m=T}return f}(a,l,c,d,yt);if(v!==yt)return v}const m=Js(a,l,c,d,yt);if(m!==yt)return m}return qr(l,c,d,f)}function Js(a,l,c,d,f){const m=function Zn(a){if("string"==typeof a)return a.charCodeAt(0)||0;const l=a.hasOwnProperty(Ee)?a[Ee]:void 0;return"number"==typeof l?l>=0?255&l:rc:l}(c);if("function"==typeof m){if(!ru(l,a,d))return d&lt.Host?_d(f,0,d):qr(l,c,d,f);try{const v=m(d);if(null!=v||d&lt.Optional)return v;X()}finally{il()}}else if("number"==typeof m){let v=null,E=al(a,l),T=-1,G=d&lt.Host?l[16][6]:null;for((-1===E||d&lt.SkipSelf)&&(T=-1===E?ec(a,l):l[E+8],-1!==T&&ma(d,!1)?(v=l[1],E=sl(T),l=$r(T,l)):E=-1);-1!==E;){const de=l[1];if(ic(m,E,de.data)){const Se=nc(E,l,c,v,d,G);if(Se!==yt)return Se}T=l[E+8],-1!==T&&ma(d,l[1].data[E+8]===G)&&ic(m,E,l)?(v=de,E=sl(T),l=$r(T,l)):E=-1}}return f}function nc(a,l,c,d,f,m){const v=l[1],E=v.data[a+8],de=eo(E,v,c,null==d?Ws(E)&&gd:d!=v&&0!=(3&E.type),f&lt.Host&&m===E);return null!==de?to(l,v,de,E):yt}function eo(a,l,c,d,f){const m=a.providerIndexes,v=l.data,E=1048575&m,T=a.directiveStart,de=m>>20,je=f?E+de:a.directiveEnd;for(let qe=d?E:E+de;qe<je;qe++){const ht=v[qe];if(qe<T&&c===ht||qe>=T&&ht.type===c)return qe}if(f){const qe=v[T];if(qe&&ss(qe)&&qe.type===c)return T}return null}function to(a,l,c,d){let f=a[c];const m=l.data;if(function pd(a){return a instanceof rl}(f)){const v=f;v.resolving&&function D(a,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${a}`:"";throw new q(-200,`Circular dependency in DI detected for ${a}${c}`)}(function Z(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():z(a)}(m[c]));const E=Cr(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?Rt(v.injectImpl):null;ru(a,d,lt.Default);try{f=a[c]=v.factory(void 0,m,a,d),l.firstCreatePass&&c>=d.directiveStart&&function Oh(a,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const v=Ks(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(a,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-a,f),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(a,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(a,m))}(c,m[c],l)}finally{null!==T&&Rt(T),Cr(E),v.resolving=!1,il()}}return f}function ic(a,l,c){return!!(c[l+(a>>5)]&1<<a)}function ma(a,l){return!(a&lt.Self||a&lt.Host&&l)}class as{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return Gt(this._tNode,this._lView,l,d,c)}}function rc(){return new as(si(),mt())}function xo(a){return nt(()=>{const l=a.prototype.constructor,c=l[Ze]||cu(l),d=Object.prototype;let f=Object.getPrototypeOf(a.prototype).constructor;for(;f&&f!==d;){const m=f[Ze]||cu(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function cu(a){return $(a)?()=>{const l=cu(se(a));return l&&l()}:Zs(a)}function mr(a){const l=a[1],c=l.type;return 2===c?l.declTNode:1===c?a[6]:null}function no(a){return function ll(a,l){if("class"===l)return a.classes;if("style"===l)return a.styles;const c=a.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(md(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===l)return c[f+1];f+=2}}}return null}(si(),a)}const Jn="__parameters__";function Hi(a,l,c){return nt(()=>{const d=function Dr(a){return function(...c){if(a){const d=a(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return E.annotation=v,E;function E(T,G,de){const Se=T.hasOwnProperty(Jn)?T[Jn]:Object.defineProperty(T,Jn,{value:[]})[Jn];for(;Se.length<=de;)Se.push(null);return(Se[de]=Se[de]||[]).push(v),T}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=a,f.annotationCls=f,f})}class Tn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Q({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function xi(a,l){void 0===l&&(l=a);for(let c=0;c<a.length;c++){let d=a[c];Array.isArray(d)?(l===a&&(l=a.slice(0,c)),xi(d,l)):l!==a&&l.push(d)}return l}function ls(a,l){a.forEach(c=>Array.isArray(c)?ls(c,l):l(c))}function sc(a,l,c){l>=a.length?a.push(c):a.splice(l,0,c)}function dl(a,l){return l>=a.length-1?a.pop():a.splice(l,1)[0]}function cs(a,l){const c=[];for(let d=0;d<a;d++)c.push(l);return c}function Gi(a,l,c){let d=Ts(a,l);return d>=0?a[1|d]=c:(d=~d,function hl(a,l,c,d){let f=a.length;if(f==l)a.push(c,d);else if(1===f)a.push(d,a[0]),a[0]=c;else{for(f--,a.push(a[f-1],a[f]);f>l;)a[f]=a[f-2],f--;a[l]=c,a[l+1]=d}}(a,d,l,c)),d}function ac(a,l){const c=Ts(a,l);if(c>=0)return a[1|c]}function Ts(a,l){return function ci(a,l,c){let d=0,f=a.length>>c;for(;f!==d;){const m=d+(f-d>>1),v=a[m<<c];if(l===v)return m<<c;v>l?f=m:d=m+1}return~(f<<c)}(a,l,1)}const Yr={},xs="__NG_DI_FLAG__",Mo="ngTempTokenPath",cn=/\n/gm,us="__source";let ds;function Ro(a){const l=ds;return ds=a,l}function lc(a,l=lt.Default){if(void 0===ds)throw new q(-203,!1);return null===ds?Ot(a,void 0,l):ds.get(a,l&lt.Optional?null:void 0,l)}function ui(a,l=lt.Default){return(function ct(){return _t}()||lc)(se(a),l)}function cc(a,l=lt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),ui(a,l)}function P(a){const l=[];for(let c=0;c<a.length;c++){const d=se(a[c]);if(Array.isArray(d)){if(0===d.length)throw new q(900,!1);let f,m=lt.Default;for(let v=0;v<d.length;v++){const E=d[v],T=ue(E);"number"==typeof T?-1===T?f=E.token:m|=T:f=E}l.push(ui(f,m))}else l.push(ui(d))}return l}function V(a,l){return a[xs]=l,a.prototype[xs]=l,a}function ue(a){return a[xs]}const pt=V(Hi("Optional"),8),Zt=V(Hi("SkipSelf"),4);let qh,Cd;function w_(a){qh=a}function so(a){return function gl(){if(void 0===Cd&&(Cd=null,xe.trustedTypes))try{Cd=xe.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch{}return Cd}()?.createHTML(a)||a}class ao{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ed extends ao{getTypeName(){return"HTML"}}class D_ extends ao{getTypeName(){return"Style"}}class Kh extends ao{getTypeName(){return"Script"}}class E_ extends ao{getTypeName(){return"URL"}}class Qp extends ao{getTypeName(){return"ResourceURL"}}function Vo(a){return a instanceof ao?a.changingThisBreaksApplicationSecurity:a}function Ca(a,l){const c=function A_(a){return a instanceof ao&&a.getTypeName()||null}(a);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function Xp(a){return new Ed(a)}function Jp(a){return new D_(a)}function S_(a){return new Kh(a)}function T_(a){return new E_(a)}function em(a){return new Qp(a)}class Da{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(so(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class Qh{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=so(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=so(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Is=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ad=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function dc(a){return(a=String(a)).match(Is)||a.match(Ad)?a:"unsafe:"+a}function er(a){const l={};for(const c of a.split(","))l[c]=!0;return l}function hc(...a){const l={};for(const c of a)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const nm=er("area,br,col,hr,img,wbr"),_l=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Jh=er("rp,rt"),yu=hc(nm,hc(_l,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hc(Jh,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hc(Jh,_l)),Sd=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bo=er("srcset"),fc=hc(Sd,Bo,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Td=er("script,style,template");class sm{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!yu.hasOwnProperty(c))return this.sanitizedSomething=!0,!Td.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,E=v.toLowerCase();if(!fc.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=m.value;Sd[E]&&(T=dc(T)),Bo[E]&&(a=T,T=(a=String(a)).split(",").map(l=>dc(l.trim())).join(", ")),this.buf.push(" ",v,'="',am(T),'"')}var a;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();yu.hasOwnProperty(c)&&!nm.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(am(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const om=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,vu=/([^\#-~ |!])/g;function am(a){return a.replace(/&/g,"&amp;").replace(om,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(vu,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ea;function bu(a,l){let c=null;try{Ea=Ea||function x_(a){const l=new Qh(a);return function Xh(){try{return!!(new window.DOMParser).parseFromString(so(""),"text/html")}catch{return!1}}()?new Da(l):l}(a);let d=l?String(l):"";c=Ea.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=c.innerHTML,c=Ea.getInertBodyElement(d)}while(d!==m);return so((new sm).sanitizeChildren(pc(c)||c))}finally{if(c){const d=pc(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function pc(a){return"content"in a&&function M_(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var Ci=(()=>((Ci=Ci||{})[Ci.NONE=0]="NONE",Ci[Ci.HTML=1]="HTML",Ci[Ci.STYLE=2]="STYLE",Ci[Ci.SCRIPT=3]="SCRIPT",Ci[Ci.URL=4]="URL",Ci[Ci.RESOURCE_URL=5]="RESOURCE_URL",Ci))();function mc(a){const l=function zi(){const a=mt();return a&&a[12]}();return l?l.sanitize(Ci.URL,a)||"":Ca(a,"URL")?Vo(a):dc(z(a))}const wu=new Tn("ENVIRONMENT_INITIALIZER"),tf=new Tn("INJECTOR",-1),Id=new Tn("INJECTOR_DEF_TYPES");class um{get(l,c=Yr){if(c===Yr){const d=new Error(`NullInjectorError: No provider for ${ce(l)}!`);throw d.name="NullInjectorError",d}return c}}function Sr(...a){return{\u0275providers:Uo(0,a)}}function Uo(a,...l){const c=[],d=new Set;let f;return ls(l,m=>{const v=m;rf(v,c,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&nf(f,c),c}function nf(a,l){for(let c=0;c<a.length;c++){const{providers:f}=a[c];ls(f,m=>{l.push(m)})}}function rf(a,l,c,d){if(!(a=se(a)))return!1;let f=null,m=Be(a);const v=!m&&nn(a);if(m||v){if(v&&!v.standalone)return!1;f=a}else{const T=a.ngModule;if(m=Be(T),!m)return!1;f=T}const E=d.has(f);if(v){if(E)return!1;if(d.add(f),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const G of T)rf(G,l,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!E){let G;d.add(f);try{ls(m.imports,de=>{rf(de,l,c,d)&&(G||(G=[]),G.push(de))})}finally{}void 0!==G&&nf(G,l)}if(!E){const G=Zs(f)||(()=>new f);l.push({provide:f,useFactory:G,deps:we},{provide:Id,useValue:f,multi:!0},{provide:wu,useValue:()=>ui(f),multi:!0})}const T=m.providers;null==T||E||ls(T,de=>{l.push(de)})}}return f!==a&&void 0!==a.providers}const yl=re({provide:String,useValue:re});function sf(a){return null!==a&&"object"==typeof a&&yl in a}function $i(a){return"function"==typeof a}const lf=new Tn("Set Injector scope."),Md={},L_={};let kd;function tr(){return void 0===kd&&(kd=new um),kd}class Aa{}class Pd extends Aa{constructor(l,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,df(l,v=>this.processProvider(v)),this.records.set(tf,vl(void 0,this)),f.has("environment")&&this.records.set(Aa,vl(void 0,this));const m=this.records.get(lf);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Id.multi,we,lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=Ro(this),d=Rt(void 0);try{return l()}finally{Ro(c),Rt(d)}}get(l,c=Yr,d=lt.Default){this.assertNotDestroyed();const f=Ro(this),m=Rt(void 0);try{if(!(d&lt.SkipSelf)){let E=this.records.get(l);if(void 0===E){const T=function V_(a){return"function"==typeof a||"object"==typeof a&&a instanceof Tn}(l)&&be(l);E=T&&this.injectableDefInScope(T)?vl(_c(l),Md):null,this.records.set(l,E)}if(null!=E)return this.hydrate(l,E)}return(d&lt.Self?tr():this.parent).get(l,c=d&lt.Optional&&c===Yr?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Mo]=v[Mo]||[]).unshift(ce(l)),f)throw v;return function Oe(a,l,c,d){const f=a[Mo];throw l[us]&&f.unshift(l[us]),a.message=function ze(a,l,c,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.slice(2):a;let f=ce(l);if(Array.isArray(l))f=l.map(ce).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let E=l[v];m.push(v+":"+("string"==typeof E?JSON.stringify(E):ce(E)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${a.replace(cn,"\n  ")}`}("\n"+a.message,f,c,d),a.ngTokenPath=f,a[Mo]=null,a}(v,l,"R3InjectorError",this.source)}throw v}finally{Rt(m),Ro(f)}}resolveInjectorInitializers(){const l=Ro(this),c=Rt(void 0);try{const d=this.get(wu.multi,we,lt.Self);for(const f of d)f()}finally{Ro(l),Rt(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(ce(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(l){let c=$i(l=se(l))?l:se(l&&l.provide);const d=function Du(a){return sf(a)?vl(void 0,a.useValue):vl(cf(a),Md)}(l);if($i(l)||!0!==l.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=vl(void 0,Md,!0),f.factory=()=>P(f.multi),this.records.set(c,f)),c=l,f.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===Md&&(c.value=L_,c.value=c.factory()),"object"==typeof c.value&&c.value&&function uf(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=se(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function _c(a){const l=be(a),c=null!==l?l.factory:Zs(a);if(null!==c)return c;if(a instanceof Tn)throw new q(204,!1);if(a instanceof Function)return function Tr(a){const l=a.length;if(l>0)throw cs(l,"?"),new q(204,!1);const c=function ke(a){const l=a&&(a[Ye]||a[gt]);if(l){const c=function Ue(a){if(a.hasOwnProperty("name"))return a.name;const l=(""+a).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(a);return null!==c?()=>c.factory(a):()=>new a}(a);throw new q(204,!1)}function cf(a,l,c){let d;if($i(a)){const f=se(a);return Zs(f)||_c(f)}if(sf(a))d=()=>se(a.useValue);else if(function gc(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...P(a.deps||[]));else if(function af(a){return!(!a||!a.useExisting)}(a))d=()=>ui(se(a.useExisting));else{const f=se(a&&(a.useClass||a.provide));if(!function N_(a){return!!a.deps}(a))return Zs(f)||_c(f);d=()=>new f(...P(a.deps))}return d}function vl(a,l,c=!1){return{factory:a,value:l,multi:c?[]:void 0}}function B_(a){return!!a.\u0275providers}function df(a,l){for(const c of a)Array.isArray(c)?df(c,l):B_(c)?df(c.\u0275providers,l):l(c)}class y{}class K{resolveComponentFactory(l){throw function p(a){const l=Error(`No component factory found for ${ce(a)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=a,l}(l)}}let _e=(()=>{class a{}return a.NULL=new K,a})();function Ge(){return tt(si(),mt())}function tt(a,l){return new It(gi(a,l))}let It=(()=>{class a{constructor(c){this.nativeElement=c}}return a.__NG_ELEMENT_ID__=Ge,a})();function Ht(a){return a instanceof It?a.nativeElement:a}class Jt{}let Ii=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function xr(){const a=mt(),c=Ri(si().index,a);return(Vi(c)?c:a)[11]}(),a})(),bl=(()=>{class a{}return a.\u0275prov=Q({token:a,providedIn:"root",factory:()=>null}),a})();class Rd{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Sa=new Rd("14.1.1"),Eu={};function _m(a){return a.ngOriginalError}class ff{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&_m(l);for(;c&&_m(c);)c=_m(c);return c||null}}const ym=new Map;let E0=0;const q_="__ngContext__";function Mr(a,l){Vi(l)?(a[q_]=l[20],function VA(a){ym.set(a[20],a)}(l)):a[q_]=l}function yc(a){const l=a[q_];return"number"==typeof l?function A0(a){return ym.get(a)||null}(l):l||null}function Y_(a){const l=yc(a);return l?Vi(l)?l:l.lView:null}const K_=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(xe))();function vc(a){return a instanceof Function?a():a}var Ho=(()=>((Ho=Ho||{})[Ho.Important=1]="Important",Ho[Ho.DashCase=2]="DashCase",Ho))();function X_(a,l){return undefined(a,l)}function gf(a){const l=a[3];return rr(l)?l[3]:l}function wm(a){return ty(a[13])}function ey(a){return ty(a[4])}function ty(a){for(;null!==a&&!rr(a);)a=a[4];return a}function Fd(a,l,c,d,f){if(null!=d){let m,v=!1;rr(d)?m=d:Vi(d)&&(v=!0,d=d[0]);const E=hi(d);0===a&&null!==c?null==f?XA(l,c,E):xu(l,c,E,f||null,!0):1===a&&null!==c?xu(l,c,E,f||null,!0):2===a?function iS(a,l,c){const d=Ld(a,l);d&&function JA(a,l,c,d){a.removeChild(l,c,d)}(a,d,l,c)}(l,E,v):3===a&&l.destroyNode(E),null!=m&&function cy(a,l,c,d,f){const m=c[7];m!==hi(c)&&Fd(l,a,d,m,f);for(let E=10;E<c.length;E++){const T=c[E];wc(T[1],T,a,l,d,m)}}(l,a,m,c,f)}}function iy(a,l,c){return a.createElement(l,c)}function Su(a,l){const c=a[9],d=c.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,aa(f,-1)),c.splice(d,1)}function Dm(a,l){if(a.length<=10)return;const c=10+l,d=a[c];if(d){const f=d[17];null!==f&&f!==a&&Su(f,d),l>0&&(a[c-1][4]=d[4]);const m=dl(a,10+l);!function ZA(a,l){wc(a,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function sy(a,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&wc(a,l,c,3,null,null),function ry(a){let l=a[13];if(!l)return Tu(a[1],a);for(;l;){let c=null;if(Vi(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==a;)Vi(l)&&Tu(l[1],l),l=l[3];null===l&&(l=a),Vi(l)&&Tu(l[1],l),c=l&&l[4]}l=c}}(l)}}function Tu(a,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function Ta(a,l){let c;if(null!=a&&null!=(c=a.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof rl)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const E=f[m[v]],T=m[v+1];try{T.call(E)}finally{}}else try{m.call(f)}finally{}}}}(a,l),function QA(a,l){const c=a.cleanup,d=l[7];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+1],E="function"==typeof v?v(l):hi(l[v]),T=d[f=c[m+2]],G=c[m+3];"boolean"==typeof G?E.removeEventListener(c[m],T,G):G>=0?d[f=G]():d[f=-G].unsubscribe(),m+=2}else{const v=d[f=c[m+1]];c[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();l[7]=null}}(a,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&rr(l[3])){c!==l[3]&&Su(c,l);const d=l[19];null!==d&&d.detachView(a)}!function BA(a){ym.delete(a[20])}(l)}}function _f(a,l,c){return function bc(a,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=a.data[d.directiveStart].encapsulation;if(f===ge.None||f===ge.Emulated)return null}return gi(d,c)}(a,l.parent,c)}function xu(a,l,c,d,f){a.insertBefore(l,c,d,f)}function XA(a,l,c){a.appendChild(l,c)}function Em(a,l,c,d,f){null!==d?xu(a,l,c,d,f):XA(a,l,c)}function Ld(a,l){return a.parentNode(l)}function Am(a,l,c){return tS(a,l,c)}let tS=function eS(a,l,c){return 40&a.type?gi(a,c):null};function lo(a,l,c,d){const f=_f(a,d,l),m=l[11],E=Am(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let T=0;T<c.length;T++)Em(m,f,c[T],E,!1);else Em(m,f,c,E,!1)}function Sm(a,l){if(null!==l){const c=l.type;if(3&c)return gi(l,a);if(4&c)return ly(-1,a[l.index]);if(8&c){const d=l.child;if(null!==d)return Sm(a,d);{const f=a[l.index];return rr(f)?ly(-1,f):hi(f)}}if(32&c)return X_(l,a)()||hi(a[l.index]);{const d=F0(a,l);return null!==d?Array.isArray(d)?d[0]:Sm(gf(a[16]),d):Sm(a,l.next)}}return null}function F0(a,l){return null!==l?a[16][6].projection[l.projection]:null}function ly(a,l){const c=10+a+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return Sm(d,f)}return l[7]}function L0(a,l,c,d,f,m,v){for(;null!=c;){const E=d[c.index],T=c.type;if(v&&0===l&&(E&&Mr(hi(E),d),c.flags|=4),64!=(64&c.flags))if(8&T)L0(a,l,c.child,d,f,m,!1),Fd(l,a,f,E,m);else if(32&T){const G=X_(c,d);let de;for(;de=G();)Fd(l,a,f,de,m);Fd(l,a,f,E,m)}else 16&T?Tm(a,l,d,c,f,m):Fd(l,a,f,E,m);c=v?c.projectionNext:c.next}}function wc(a,l,c,d,f,m){L0(c,d,a.firstChild,l,f,m,!1)}function Tm(a,l,c,d,f,m){const v=c[16],T=v[6].projection[d.projection];if(Array.isArray(T))for(let G=0;G<T.length;G++)Fd(l,a,f,T[G],m);else L0(a,l,T,v[3],f,m,!0)}function yf(a,l,c){a.setAttribute(l,"style",c)}function Cc(a,l,c){""===c?a.removeAttribute(l,"class"):a.setAttribute(l,"class",c)}function Iu(a,l,c){let d=a.length;for(;;){const f=a.indexOf(l,c);if(-1===f)return f;if(0===f||a.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||a.charCodeAt(f+m)<=32)return f}c=f+1}}const Dc="ng-template";function RR(a,l,c){let d=0;for(;d<a.length;){let f=a[d++];if(c&&"class"===f){if(f=a[d],-1!==Iu(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<a.length&&"string"==typeof(f=a[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function rS(a){return 4===a.type&&a.value!==Dc}function OR(a,l,c){return l===(4!==a.type||c?a.value:Dc)}function FR(a,l,c){let d=4;const f=a.attrs||[],m=function VR(a){for(let l=0;l<a.length;l++)if(md(a[l]))return l;return a.length}(f);let v=!1;for(let E=0;E<l.length;E++){const T=l[E];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!OR(a,T,c)||""===T&&1===l.length){if(Go(d))return!1;v=!0}}else{const G=8&d?T:l[++E];if(8&d&&null!==a.attrs){if(!RR(a.attrs,G,c)){if(Go(d))return!1;v=!0}continue}const Se=LR(8&d?"class":T,f,rS(a),c);if(-1===Se){if(Go(d))return!1;v=!0;continue}if(""!==G){let je;je=Se>m?"":f[Se+1].toLowerCase();const qe=8&d?je:null;if(qe&&-1!==Iu(qe,G,0)||2&d&&G!==je){if(Go(d))return!1;v=!0}}}}else{if(!v&&!Go(d)&&!Go(T))return!1;if(v&&Go(T))continue;v=!1,d=T|1&d}}return Go(d)||v}function Go(a){return 0==(1&a)}function LR(a,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let m=!1;for(;f<l.length;){const v=l[f];if(v===a)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let E=l[++f];for(;"string"==typeof E;)E=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function BR(a,l){let c=a.indexOf(4);if(c>-1)for(c++;c<a.length;){const d=a[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,a)}function sS(a,l,c=!1){for(let d=0;d<l.length;d++)if(FR(a,l[d],c))return!0;return!1}function UR(a,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(a.length===d.length){for(let f=0;f<a.length;f++)if(a[f]!==d[f])continue e;return!0}}return!1}function oS(a,l){return a?":not("+l.trim()+")":l}function HR(a){let l=a[0],c=1,d=2,f="",m=!1;for(;c<a.length;){let v=a[c];if("string"==typeof v)if(2&d){const E=a[++c];f+="["+v+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!Go(v)&&(l+=oS(m,f),f=""),d=v,m=m||!Go(d);c++}return""!==f&&(l+=oS(m,f)),l}const Cn={};function lS(a){cS(wn(),mt(),bi()+a,!1)}function cS(a,l,c,d){if(!d)if(3==(3&l[2])){const m=a.preOrderCheckHooks;null!==m&&Lh(l,m,c)}else{const m=a.preOrderHooks;null!==m&&ha(l,m,0,c)}As(c)}function hS(a,l=null,c=null,d){const f=fS(a,l,c,d);return f.resolveInjectorInitializers(),f}function fS(a,l=null,c=null,d,f=new Set){const m=[c||we,Sr(a)];return d=d||("object"==typeof a?void 0:ce(a)),new Pd(m,l||tr(),d||null,f)}let Nd=(()=>{class a{static create(c,d){if(Array.isArray(c))return hS({name:""},d,c,"");{const f=c.name??"";return hS({name:f},c.parent,c.providers,f)}}}return a.THROW_IF_NOT_FOUND=Yr,a.NULL=new um,a.\u0275prov=Q({token:a,providedIn:"any",factory:()=>ui(tf)}),a.__NG_ELEMENT_ID__=-1,a})();function wf(a,l=lt.Default){const c=mt();return null===c?ui(a,l):Gt(si(),c,se(a),l)}function vS(){throw new Error("invalid")}function dy(a,l){return a<<17|l<<2}function xa(a){return a>>17&32767}function j0(a){return 2|a}function Ec(a){return(131068&a)>>2}function G0(a,l){return-131069&a|l<<2}function z0(a){return 1|a}function km(a,l){const c=a.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],m=c[d+1];if(-1!==m){const v=a.data[m];el(f),v.contentQueries(2,l[m],m)}}}function Dl(a,l,c,d,f,m,v,E,T,G,de){const Se=l.blueprint.slice();return Se[0]=f,Se[2]=76|d,(null!==de||a&&1024&a[2])&&(Se[2]|=1024),qa(Se),Se[3]=Se[15]=a,Se[8]=c,Se[10]=v||a&&a[10],Se[11]=E||a&&a[11],Se[12]=T||a&&a[12]||null,Se[9]=G||a&&a[9]||null,Se[6]=m,Se[20]=function NA(){return E0++}(),Se[21]=de,Se[16]=2==l.type?a[16]:Se,Se}function Bd(a,l,c,d,f){let m=a.data[l];if(null===m)m=function my(a,l,c,d,f){const m=Za(),v=Ka(),T=a.data[l]=function b1(a,l,c,d,f,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,l,d,f);return null===a.firstChild&&(a.firstChild=T),null!==m&&(v?null==m.child&&null!==T.parent&&(m.child=T):null===m.next&&(m.next=T)),T}(a,l,c,d,f),function hd(){return jt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const v=function Eo(){const a=jt.lFrame,l=a.currentTNode;return a.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return br(m,!0),m}function Ud(a,l,c,d){if(0===c)return-1;const f=l.length;for(let m=0;m<c;m++)l.push(d),a.blueprint.push(d),a.data.push(null);return f}function Hd(a,l,c){nl(l);try{const d=a.viewQuery;null!==d&&Fm(1,d,c);const f=a.template;null!==f&&gy(a,l,f,1,c),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&km(a,l),a.staticViewQueries&&Fm(2,a.viewQuery,c);const m=a.components;null!==m&&function tw(a,l){for(let c=0;c<l.length;c++)GS(a,l[c])}(l,m)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{l[2]&=-5,su()}}function jd(a,l,c,d){const f=l[2];if(128!=(128&f)){nl(l);try{qa(l),function nu(a){return jt.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==c&&gy(a,l,c,2,d);const v=3==(3&f);if(v){const G=a.preOrderCheckHooks;null!==G&&Lh(l,G,null)}else{const G=a.preOrderHooks;null!==G&&ha(l,G,0,null),Xs(l,0)}if(function jS(a){for(let l=wm(a);null!==l;l=ey(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],m=f[3];0==(512&f[2])&&aa(m,1),f[2]|=512}}}(l),function HS(a){for(let l=wm(a);null!==l;l=ey(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];jr(d)&&jd(f,d,f.template,d[8])}}(l),null!==a.contentQueries&&km(a,l),v){const G=a.contentCheckHooks;null!==G&&Lh(l,G)}else{const G=a.contentHooks;null!==G&&ha(l,G,1),Xs(l,1)}!function ew(a,l){const c=a.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)As(~f);else{const m=f,v=c[++d],E=c[++d];Xa(v,m),E(2,l[m])}}}finally{As(-1)}}(a,l);const E=a.components;null!==E&&function g1(a,l){for(let c=0;c<l.length;c++)lw(a,l[c])}(l,E);const T=a.viewQuery;if(null!==T&&Fm(2,T,d),v){const G=a.viewCheckHooks;null!==G&&Lh(l,G)}else{const G=a.viewHooks;null!==G&&ha(l,G,2),Xs(l,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,aa(l[3],-1))}finally{su()}}}function xS(a,l,c,d){const f=l[10],v=Ds(l);try{!v&&f.begin&&f.begin(),v&&Hd(a,l,d),jd(a,l,c,d)}finally{!v&&f.end&&f.end()}}function gy(a,l,c,d,f){const m=bi(),v=2&d;try{As(-1),v&&l.length>22&&cS(a,l,22,!1),c(d,f)}finally{As(m)}}function IS(a,l,c){if(ra(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=a.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function nw(a,l,c){!Ya()||(function LS(a,l,c,d){const f=c.directiveStart,m=c.directiveEnd;a.firstCreatePass||Wn(c,l),Mr(d,l);const v=c.initialInputs;for(let E=f;E<m;E++){const T=a.data[E],G=ss(T);G&&C1(l,c,T);const de=to(l,a,E,c);Mr(de,l),null!==v&&D1(0,E-f,de,T,0,v),G&&(Ri(c.index,l)[8]=de)}}(a,l,c,gi(c,l)),128==(128&c.flags)&&function sw(a,l,c){const d=c.directiveStart,f=c.directiveEnd,m=c.index,v=function Ph(){return jt.lFrame.currentDirectiveIndex}();try{As(m);for(let E=d;E<f;E++){const T=a.data[E],G=l[E];Ao(E),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&by(T,G)}}finally{As(-1),Ao(v)}}(a,l,c))}function Pm(a,l,c=gi){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],E=-1===v?c(l,a):a[v];a[f++]=E}}}function MS(a){const l=a.tView;return null===l||l.incompleteFirstPass?a.tView=_y(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):l}function _y(a,l,c,d,f,m,v,E,T,G){const de=22+d,Se=de+f,je=function _1(a,l){const c=[];for(let d=0;d<l;d++)c.push(d<a?null:Cn);return c}(de,Se),qe="function"==typeof G?G():G;return je[1]={type:a,blueprint:je,template:c,queries:null,viewQuery:E,declTNode:l,data:je.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:Se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:qe,incompleteFirstPass:!1}}function kS(a,l,c,d){const f=Ay(l);null===c?f.push(d):(f.push(c),a.firstCreatePass&&Sf(a).push(d,f.length-1))}function iw(a,l,c){for(let d in a)if(a.hasOwnProperty(d)){const f=a[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function PS(a,l){const d=l.directiveEnd,f=a.data,m=l.attrs,v=[];let E=null,T=null;for(let G=l.directiveStart;G<d;G++){const de=f[G],Se=de.inputs,je=null===m||rS(l)?null:E1(Se,m);v.push(je),E=iw(Se,G,E),T=iw(de.outputs,G,T)}null!==E&&(E.hasOwnProperty("class")&&(l.flags|=16),E.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=E,l.outputs=T}function co(a,l,c,d,f,m,v,E){const T=gi(l,c);let de,G=l.inputs;!E&&null!=G&&(de=G[d])?(Sy(a,c,de,d,f),Ws(l)&&Df(c,l.index)):3&l.type&&(d=function yy(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),f=null!=v?v(f,l.value||"",d):f,m.setProperty(T,d,f))}function Df(a,l){const c=Ri(l,a);16&c[2]||(c[2]|=32)}function vy(a,l,c,d){let f=!1;if(Ya()){const m=function NS(a,l,c){const d=a.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];sS(c,v.selectors,!1)&&(f||(f=[]),tc(Wn(c,l),a,v.type),ss(v)?(ow(a,c),f.unshift(v)):f.push(v))}return f}(a,l,c),v=null===d?null:{"":-1};if(null!==m){f=!0,Rm(c,a.data.length,m.length);for(let de=0;de<m.length;de++){const Se=m[de];Se.providersResolver&&Se.providersResolver(Se)}let E=!1,T=!1,G=Ud(a,l,m.length,null);for(let de=0;de<m.length;de++){const Se=m[de];c.mergedAttrs=Jl(c.mergedAttrs,Se.hostAttrs),US(a,c,l,G,Se),BS(G,Se,v),null!==Se.contentQueries&&(c.flags|=8),(null!==Se.hostBindings||null!==Se.hostAttrs||0!==Se.hostVars)&&(c.flags|=128);const je=Se.type.prototype;!E&&(je.ngOnChanges||je.ngOnInit||je.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(c.index),E=!0),!T&&(je.ngOnChanges||je.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(c.index),T=!0),G++}PS(a,c)}v&&function VS(a,l,c){if(l){const d=a.localNames=[];for(let f=0;f<l.length;f+=2){const m=c[l[f+1]];if(null==m)throw new q(-301,!1);d.push(l[f],m)}}}(c,d,v)}return c.mergedAttrs=Jl(c.mergedAttrs,c.attrs),f}function rw(a,l,c,d,f,m){const v=m.hostBindings;if(v){let E=a.hostBindingOpCodes;null===E&&(E=a.hostBindingOpCodes=[]);const T=~l.index;(function FS(a){let l=a.length;for(;l>0;){const c=a[--l];if("number"==typeof c&&c<0)return c}return 0})(E)!=T&&E.push(T),E.push(d,f,v)}}function by(a,l){null!==a.hostBindings&&a.hostBindings(1,l)}function ow(a,l){l.flags|=2,(a.components||(a.components=[])).push(l.index)}function BS(a,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=a;ss(l)&&(c[""]=a)}}function Rm(a,l,c){a.flags|=1,a.directiveStart=l,a.directiveEnd=l+c,a.providerIndexes=l}function US(a,l,c,d,f){a.data[d]=f;const m=f.factory||(f.factory=Zs(f.type)),v=new rl(m,ss(f),wf);a.blueprint[d]=v,c[d]=v,rw(a,l,0,d,Ud(a,c,f.hostVars,Cn),f)}function C1(a,l,c){const d=gi(l,a),f=MS(c),m=a[10],v=Om(a,Dl(a,f,null,c.onPush?32:16,d,l,m,m.createRenderer(d,c),null,null,null));a[l.index]=v}function El(a,l,c,d,f,m){const v=gi(a,l);!function aw(a,l,c,d,f,m,v){if(null==m)a.removeAttribute(l,f,c);else{const E=null==v?z(m):v(m,d||"",f);a.setAttribute(l,f,E,c)}}(l[11],v,m,a.value,c,d,f)}function D1(a,l,c,d,f,m){const v=m[l];if(null!==v){const E=d.setInput;for(let T=0;T<v.length;){const G=v[T++],de=v[T++],Se=v[T++];null!==E?d.setInput(c,Se,G,de):c[de]=Se}}}function E1(a,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;a.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,a[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function Ef(a,l,c,d){return new Array(a,!0,!1,l,null,0,d,c,null,null)}function lw(a,l){const c=Ri(l,a);if(jr(c)){const d=c[1];48&c[2]?jd(d,c,d.template,c[8]):c[5]>0&&Sc(c)}}function Sc(a){for(let d=wm(a);null!==d;d=ey(d))for(let f=10;f<d.length;f++){const m=d[f];if(512&m[2]){const v=m[1];jd(v,m,v.template,m[8])}else m[5]>0&&Sc(m)}const c=a[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Ri(c[d],a);jr(f)&&f[5]>0&&Sc(f)}}function GS(a,l){const c=Ri(l,a),d=c[1];(function zS(a,l){for(let c=l.length;c<a.blueprint.length;c++)l.push(a.blueprint[c])})(d,c),Hd(d,c,c[8])}function Om(a,l){return a[13]?a[14][4]=l:a[13]=l,a[14]=l,l}function Cy(a){for(;a;){a[2]|=32;const l=gf(a);if(ja(a)&&!l)return a;a=l}return null}function Af(a){!function $S(a){for(let l=0;l<a.components.length;l++){const c=a.components[l],d=Y_(c);if(null!==d){const f=d[1];xS(f,d,f.template,c)}}}(a[8])}function Fm(a,l,c){el(0),l(a,c)}const Ey=(()=>Promise.resolve(null))();function Ay(a){return a[7]||(a[7]=[])}function Sf(a){return a.cleanup||(a.cleanup=[])}function uw(a,l,c){return(null===a||ss(a))&&(c=function cd(a){for(;Array.isArray(a);){if("object"==typeof a[1])return a;a=a[0]}return null}(c[l.index])),c[11]}function dw(a,l){const c=a[9],d=c?c.get(ff,null):null;d&&d.handleError(l)}function Sy(a,l,c,d,f){for(let m=0;m<c.length;){const v=c[m++],E=c[m++],T=l[v],G=a.data[v];null!==G.setInput?G.setInput(T,f,d,E):T[E]=f}}function Al(a,l,c){const d=Wa(l,a);!function O0(a,l,c){a.setValue(l,c)}(a[11],d,c)}function _r(a,l,c){let d=c?a.styles:null,f=c?a.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const E=l[v];"number"==typeof E?m=E:1==m?f=he(f,E):2==m&&(d=he(d,E+": "+l[++v]+";"))}c?a.styles=d:a.stylesWithoutHost=d,c?a.classes=f:a.classesWithoutHost=f}function Ty(a,l,c,d,f=!1){for(;null!==c;){const m=l[c.index];if(null!==m&&d.push(hi(m)),rr(m))for(let E=10;E<m.length;E++){const T=m[E],G=T[1].firstChild;null!==G&&Ty(T[1],T,G,d)}const v=c.type;if(8&v)Ty(a,l,c.child,d);else if(32&v){const E=X_(c,l);let T;for(;T=E();)d.push(T)}else if(16&v){const E=F0(l,c);if(Array.isArray(E))d.push(...E);else{const T=gf(l[16]);Ty(T[1],T,E,d,!0)}}c=f?c.projectionNext:c.next}return d}class Sl{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Ty(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(rr(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(Dm(l,d),dl(c,d))}this._attachedToViewContainer=!1}sy(this._lView[1],this._lView)}onDestroy(l){kS(this._lView[1],this._lView,null,l)}markForCheck(){Cy(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function Dy(a,l,c){const d=l[10];d.begin&&d.begin();try{jd(a,l,a.template,c)}catch(f){throw dw(l,f),f}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function kR(a,l){wc(a,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=l}}class hw extends Sl{constructor(l){super(l),this._view=l}detectChanges(){Af(this._view)}checkNoChanges(){}get context(){return null}}class fw extends _e{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=nn(l);return new Lm(c,this.ngModule)}}function YS(a){const l=[];for(let c in a)a.hasOwnProperty(c)&&l.push({propName:a[c],templateName:c});return l}class S1{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){const f=this.injector.get(l,Eu,d);return f!==Eu||c===Eu?f:this.parentInjector.get(l,c,d)}}class Lm extends y{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function aS(a){return a.map(HR).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return YS(this.componentDef.inputs)}get outputs(){return YS(this.componentDef.outputs)}create(l,c,d,f){let m=(f=f||this.ngModule)instanceof Aa?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new S1(l,m):l,E=v.get(Jt,null);if(null===E)throw new q(407,!1);const T=v.get(bl,null),G=E.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",Se=d?function v1(a,l,c){return a.selectRootElement(l,c===ge.ShadowDom)}(G,d,this.componentDef.encapsulation):iy(E.createRenderer(null,this.componentDef),de,function A1(a){const l=a.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(de)),je=this.componentDef.onPush?288:272,qe=function I1(a,l){return{components:[],scheduler:a||K_,clean:Ey,playerHandler:l||null,flags:0}}(),ht=_y(0,null,null,1,0,null,null,null,null,null),Et=Dl(null,ht,qe,je,null,null,E,G,T,v,null);let Ft,Vt;nl(Et);try{const un=function ZS(a,l,c,d,f,m){const v=c[1];c[22]=a;const T=Bd(v,22,2,"#host",null),G=T.mergedAttrs=l.hostAttrs;null!==G&&(_r(T,G,!0),null!==a&&(To(f,a,G),null!==T.classes&&Cc(f,a,T.classes),null!==T.styles&&yf(f,a,T.styles)));const de=d.createRenderer(a,l),Se=Dl(c,MS(l),null,l.onPush?32:16,c[22],T,d,de,m||null,null,null);return v.firstCreatePass&&(tc(Wn(T,c),v,l.type),ow(v,T),Rm(T,c.length,1)),Om(c,Se),c[22]=Se}(Se,this.componentDef,Et,E,G);if(Se)if(d)To(G,Se,["ng-version",Sa.full]);else{const{attrs:bt,classes:on}=function jR(a){const l=[],c=[];let d=1,f=2;for(;d<a.length;){let m=a[d];if("string"==typeof m)2===f?""!==m&&l.push(m,a[++d]):8===f&&c.push(m);else{if(!Go(f))break;f=m}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);bt&&To(G,Se,bt),on&&on.length>0&&Cc(G,Se,on.join(" "))}if(Vt=oa(ht,22),void 0!==c){const bt=Vt.projection=[];for(let on=0;on<this.ngContentSelectors.length;on++){const xn=c[on];bt.push(null!=xn?Array.from(xn):null)}}Ft=function Fn(a,l,c,d,f){const m=c[1],v=function OS(a,l,c){const d=si();a.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),US(a,d,l,Ud(a,l,1,null),c),PS(a,d));const f=to(l,a,d.directiveStart,d);Mr(f,l);const m=gi(d,l);return m&&Mr(m,l),f}(m,c,l);if(d.components.push(v),a[8]=v,null!==f)for(const T of f)T(v,l);if(l.contentQueries){const T=si();l.contentQueries(1,v,T.directiveStart)}const E=si();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(As(E.index),rw(c[1],E,0,E.directiveStart,E.directiveEnd,l),by(l,v)),v}(un,this.componentDef,Et,qe,[M1]),Hd(ht,Et,null)}finally{su()}return new T1(this.componentType,Ft,tt(Vt,Et),Et,Vt)}}class T1 extends class U_{}{constructor(l,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new hw(f),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const m=this._rootLView;Sy(m[1],m,f,l,c),Df(m,this._tNode.index)}}get injector(){return new as(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function M1(){const a=si();Fh(mt()[1],a)}function Tc(a){let l=function Gd(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),c=!0;const d=[a];for(;l;){let f;if(ss(a))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new q(903,!1);f=l.\u0275dir}if(f){if(c){d.push(f);const v=a;v.inputs=mw(a.inputs),v.declaredInputs=mw(a.declaredInputs),v.outputs=mw(a.outputs);const E=f.hostBindings;E&&QS(a,E);const T=f.viewQuery,G=f.contentQueries;if(T&&KS(a,T),G&&k1(a,G),B(a.inputs,f.inputs),B(a.declaredInputs,f.declaredInputs),B(a.outputs,f.outputs),ss(f)&&f.data.animation){const de=a.data;de.animation=(de.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const E=m[v];E&&E.ngInherit&&E(a),E===Tc&&(c=!1)}}l=Object.getPrototypeOf(l)}!function Pu(a){let l=0,c=null;for(let d=a.length-1;d>=0;d--){const f=a[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Jl(f.hostAttrs,c=Jl(c,f.hostAttrs))}}(d)}function mw(a){return a===Ne?{}:a===we?[]:a}function KS(a,l){const c=a.viewQuery;a.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function k1(a,l){const c=a.contentQueries;a.contentQueries=c?(d,f,m)=>{l(d,f,m),c(d,f,m)}:l}function QS(a,l){const c=a.hostBindings;a.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let Nm=null;function Tl(){if(!Nm){const a=xe.Symbol;if(a&&a.iterator)Nm=a.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Nm=d)}}}return Nm}function Tf(a){return!!gw(a)&&(Array.isArray(a)||!(a instanceof Map)&&Tl()in a)}function gw(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function zo(a,l,c){return a[l]=c}function qi(a,l,c){return!Object.is(a[l],c)&&(a[l]=c,!0)}function xc(a,l,c,d){const f=qi(a,l,c);return qi(a,l+1,d)||f}function xy(a,l,c,d){const f=mt();return qi(f,da(),l)&&(wn(),El(Gn(),f,a,l,c,d)),xy}function Fu(a,l,c,d,f,m){const E=xc(a,function wr(){return jt.lFrame.bindingIndex}(),c,f);return Gr(2),E?l+z(c)+d+z(f)+m:Cn}function cT(a,l,c,d,f,m,v,E){const T=mt(),G=wn(),de=a+22,Se=G.firstCreatePass?function F1(a,l,c,d,f,m,v,E,T){const G=l.consts,de=Bd(l,a,4,v||null,Ji(G,E));vy(l,c,de,Ji(G,T)),Fh(l,de);const Se=de.tViews=_y(2,de,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,G);return null!==l.queries&&(l.queries.template(l,de),Se.queries=l.queries.embeddedTView(de)),de}(de,G,T,l,c,d,f,m,v):G.data[de];br(Se,!1);const je=T[11].createComment("");lo(G,T,je,Se),Mr(je,T),Om(T,T[de]=Ef(je,T,je,Se)),qs(Se)&&nw(G,T,Se),null!=v&&Pm(T,Se,E)}function yw(a){return os(function dd(){return jt.lFrame.contextLView}(),22+a)}function My(a,l,c){const d=mt();return qi(d,da(),l)&&co(wn(),Gn(),d,a,l,d[11],c,!1),My}function vw(a,l,c,d,f){const v=f?"class":"style";Sy(a,c,l.inputs[v],v,d)}function Bm(a,l,c,d){const f=mt(),m=wn(),v=22+a,E=f[11],T=f[v]=iy(E,l,function au(){return jt.lFrame.currentNamespace}()),G=m.firstCreatePass?function uT(a,l,c,d,f,m,v){const E=l.consts,G=Bd(l,a,2,f,Ji(E,m));return vy(l,c,G,Ji(E,v)),null!==G.attrs&&_r(G,G.attrs,!1),null!==G.mergedAttrs&&_r(G,G.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,G),G}(v,m,f,0,l,c,d):m.data[v];br(G,!0);const de=G.mergedAttrs;null!==de&&To(E,T,de);const Se=G.classes;null!==Se&&Cc(E,T,Se);const je=G.styles;return null!==je&&yf(E,T,je),64!=(64&G.flags)&&lo(m,f,T,G),0===function tu(){return jt.lFrame.elementDepthCount}()&&Mr(T,f),function wo(){jt.lFrame.elementDepthCount++}(),qs(G)&&(nw(m,f,G),IS(m,G,f)),null!==d&&Pm(f,G),Bm}function Um(){let a=si();Ka()?Es():(a=a.parent,br(a,!1));const l=a;!function Co(){jt.lFrame.elementDepthCount--}();const c=wn();return c.firstCreatePass&&(Fh(c,a),ra(a)&&c.queries.elementEnd(a)),null!=l.classesWithoutHost&&function Nh(a){return 0!=(16&a.flags)}(l)&&vw(c,l,mt(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function qp(a){return 0!=(32&a.flags)}(l)&&vw(c,l,mt(),l.stylesWithoutHost,!1),Um}function Ma(a,l,c,d){return Bm(a,l,c,d),Um(),Ma}function Zd(a,l,c){const d=mt(),f=wn(),m=a+22,v=f.firstCreatePass?function N1(a,l,c,d,f){const m=l.consts,v=Ji(m,d),E=Bd(l,a,8,"ng-container",v);return null!==v&&_r(E,v,!0),vy(l,c,E,Ji(m,f)),null!==l.queries&&l.queries.elementStart(l,E),E}(m,f,d,l,c):f.data[m];br(v,!0);const E=d[m]=d[11].createComment("");return lo(f,d,E,v),Mr(E,d),qs(v)&&(nw(f,d,v),IS(f,v,d)),null!=c&&Pm(d,v),Zd}function Hm(){let a=si();const l=wn();return Ka()?Es():(a=a.parent,br(a,!1)),l.firstCreatePass&&(Fh(l,a),ra(a)&&l.queries.elementEnd(a)),Hm}function ww(){return mt()}function ky(a){return!!a&&"function"==typeof a.then}function dT(a){return!!a&&"function"==typeof a.subscribe}const hT=dT;function xf(a,l,c,d){const f=mt(),m=wn(),v=si();return jm(m,f,f[11],v,a,l,0,d),xf}function Py(a,l){const c=si(),d=mt(),f=wn();return jm(f,d,uw(Ja(f.data),c,d),c,a,l),Py}function jm(a,l,c,d,f,m,v,E){const T=qs(d),de=a.firstCreatePass&&Sf(a),Se=l[8],je=Ay(l);let qe=!0;if(3&d.type||E){const Ft=gi(d,l),Vt=E?E(Ft):Ft,un=je.length,bt=E?xn=>E(hi(xn[d.index])):d.index;let on=null;if(!E&&T&&(on=function V1(a,l,c,d){const f=a.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===c&&f[m+1]===d){const E=l[7],T=f[m+2];return E.length>T?E[T]:null}"string"==typeof v&&(m+=2)}return null}(a,l,f,d.index)),null!==on)(on.__ngLastListenerFn__||on).__ngNextListenerFn__=m,on.__ngLastListenerFn__=m,qe=!1;else{m=pT(d,l,Se,m,!1);const xn=c.listen(Vt,f,m);je.push(m,xn),de&&de.push(f,bt,un,un+1)}}else m=pT(d,l,Se,m,!1);const ht=d.outputs;let Et;if(qe&&null!==ht&&(Et=ht[f])){const Ft=Et.length;if(Ft)for(let Vt=0;Vt<Ft;Vt+=2){const pi=l[Et[Vt]][Et[Vt+1]].subscribe(m),Nc=je.length;je.push(m,pi),de&&de.push(f,d.index,Nc,-(Nc+1))}}}function fT(a,l,c,d){try{return!1!==c(d)}catch(f){return dw(a,f),!1}}function pT(a,l,c,d,f){return function m(v){if(v===Function)return d;Cy(2&a.flags?Ri(a.index,l):l);let T=fT(l,0,d,v),G=m.__ngNextListenerFn__;for(;G;)T=fT(l,0,G,v)&&T,G=G.__ngNextListenerFn__;return f&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function mT(a=1){return function Kl(a){return(jt.lFrame.contextLView=function Ql(a,l){for(;a>0;)l=l[15],a--;return l}(a,jt.lFrame.contextLView))[8]}(a)}function B1(a,l){let c=null;const d=function NR(a){const l=a.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(a);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?sS(a,m,!0):UR(d,m))return f}else c=f}return c}function gT(a){const l=mt()[16][6];if(!l.projection){const d=l.projection=cs(a?a.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const v=a?B1(m,a):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function _T(a,l=0,c){const d=mt(),f=wn(),m=Bd(f,22+a,16,null,c||null);null===m.projection&&(m.projection=l),Es(),64!=(64&m.flags)&&function Cl(a,l,c){Tm(l[11],0,l,c,_f(a,c,l),Am(c.parent||l[6],c,l))}(f,d,m)}function Mw(a,l,c,d,f){const m=a[c+1],v=null===l;let E=d?xa(m):Ec(m),T=!1;for(;0!==E&&(!1===T||v);){const de=a[E+1];bT(a[E],l)&&(T=!0,a[E+1]=d?z0(de):j0(de)),E=d?xa(de):Ec(de)}T&&(a[c+1]=d?j0(m):z0(m))}function bT(a,l){return null===a||null==l||(Array.isArray(a)?a[1]:a)===l||!(!Array.isArray(a)||"string"!=typeof l)&&Ts(a,l)>=0}function Ow(a,l,c){return $o(a,l,c,!1),Ow}function Gm(a,l){return $o(a,l,null,!0),Gm}function $o(a,l,c,d){const f=mt(),m=wn(),v=Gr(2);m.firstUpdatePass&&function Nw(a,l,c,d){const f=a.data;if(null===f[c+1]){const m=f[bi()],v=function Lw(a,l){return l>=a.expandoStartIndex}(a,c);(function jw(a,l){return 0!=(a.flags&(l?16:32))})(m,d)&&null===l&&!v&&(l=!1),l=function ET(a,l,c,d){const f=Ja(a);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=If(c=Ly(null,a,l,c,d),l.attrs,d),m=null);else{const v=l.directiveStylingLast;if(-1===v||a[v]!==f)if(c=Ly(f,a,l,c,d),null===m){let T=function AT(a,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==Ec(d))return a[xa(d)]}(a,l,d);void 0!==T&&Array.isArray(T)&&(T=Ly(null,a,l,T[1],d),T=If(T,l.attrs,d),function ST(a,l,c,d){a[xa(c?l.classBindings:l.styleBindings)]=d}(a,l,d,T))}else m=function TT(a,l,c){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=If(d,a[m].hostAttrs,c);return If(d,l.attrs,c)}(a,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),c}(f,m,l,d),function Iw(a,l,c,d,f,m){let v=m?l.classBindings:l.styleBindings,E=xa(v),T=Ec(v);a[d]=c;let de,G=!1;if(Array.isArray(c)){const Se=c;de=Se[1],(null===de||Ts(Se,de)>0)&&(G=!0)}else de=c;if(f)if(0!==T){const je=xa(a[E+1]);a[d+1]=dy(je,E),0!==je&&(a[je+1]=G0(a[je+1],d)),a[E+1]=function l1(a,l){return 131071&a|l<<17}(a[E+1],d)}else a[d+1]=dy(E,0),0!==E&&(a[E+1]=G0(a[E+1],d)),E=d;else a[d+1]=dy(T,0),0===E?E=d:a[T+1]=G0(a[T+1],d),T=d;G&&(a[d+1]=j0(a[d+1])),Mw(a,de,d,!0),Mw(a,de,d,!1),function vT(a,l,c,d,f){const m=f?a.residualClasses:a.residualStyles;null!=m&&"string"==typeof l&&Ts(m,l)>=0&&(c[d+1]=z0(c[d+1]))}(l,de,a,d,m),v=dy(E,T),m?l.classBindings=v:l.styleBindings=v}(f,m,l,c,v,d)}}(m,a,v,d),l!==Cn&&qi(f,v,l)&&function Bw(a,l,c,d,f,m,v,E){if(!(3&l.type))return;const T=a.data,G=T[E+1];zm(function CS(a){return 1==(1&a)}(G)?Uw(T,l,c,f,Ec(G),v):void 0)||(zm(m)||function wS(a){return 2==(2&a)}(G)&&(m=Uw(T,null,c,f,E,v)),function xm(a,l,c,d,f){if(l)f?a.addClass(c,d):a.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:Ho.DashCase;null==f?a.removeStyle(c,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Ho.Important),a.setStyle(c,d,f,m))}}(d,v,Wa(bi(),c),f,m))}(m,m.data[bi()],f,f[11],a,f[v+1]=function Hw(a,l){return null==a||("string"==typeof l?a+=l:"object"==typeof a&&(a=ce(Vo(a)))),a}(l,c),d,v)}function Ly(a,l,c,d,f){let m=null;const v=c.directiveEnd;let E=c.directiveStylingLast;for(-1===E?E=c.directiveStart:E++;E<v&&(m=l[E],d=If(d,m.hostAttrs,f),m!==a);)E++;return null!==a&&(c.directiveStylingLast=E),d}function If(a,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),Gi(a,v,!!c||l[++m]))}return void 0===a?null:a}function Uw(a,l,c,d,f,m){const v=null===l;let E;for(;f>0;){const T=a[f],G=Array.isArray(T),de=G?T[1]:T,Se=null===de;let je=c[f+1];je===Cn&&(je=Se?we:void 0);let qe=Se?ac(je,d):de===d?je:void 0;if(G&&!zm(qe)&&(qe=ac(T,d)),zm(qe)&&(E=qe,v))return E;const ht=a[f+1];f=v?xa(ht):Ec(ht)}if(null!==l){let T=m?l.residualClasses:l.residualStyles;null!=T&&(E=ac(T,d))}return E}function zm(a){return void 0!==a}function Gw(a,l=""){const c=mt(),d=wn(),f=a+22,m=d.firstCreatePass?Bd(d,f,1,l,null):d.data[f],v=c[f]=function Cm(a,l){return a.createText(l)}(c[11],l);lo(d,c,v,m),br(m,!1)}function Mf(a){return Ny("",a,""),Mf}function Ny(a,l,c){const d=mt(),f=function Ou(a,l,c,d){return qi(a,da(),c)?l+z(c)+d:Cn}(d,a,l,c);return f!==Cn&&Al(d,bi(),f),Ny}function zw(a,l,c,d,f){const m=mt(),v=Fu(m,a,l,c,d,f);return v!==Cn&&Al(m,bi(),v),zw}function Pa(a,l,c){const d=mt();return qi(d,da(),l)&&co(wn(),Gn(),d,a,l,d[11],c,!0),Pa}function Wm(a,l,c){const d=mt();if(qi(d,da(),l)){const m=wn(),v=Gn();co(m,v,d,a,l,uw(Ja(m.data),v,d),c,!0)}return Wm}const Di=void 0;var VT=["en",[["a","p"],["AM","PM"],Di],[["AM","PM"],Di,Di],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Di,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Di,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Di,"{1} 'at' {0}",Di],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function kc(a){const c=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Ra={};function qm(a){const l=function oC(a){return a.toLowerCase().replace(/_/g,"-")}(a);let c=jy(l);if(c)return c;const d=l.split("-")[0];if(c=jy(d),c)return c;if("en"===d)return VT;throw new q(701,!1)}function Hy(a){return qm(a)[an.PluralCase]}function jy(a){return a in Ra||(Ra[a]=xe.ng&&xe.ng.common&&xe.ng.common.locales&&xe.ng.common.locales[a]),Ra[a]}var an=(()=>((an=an||{})[an.LocaleId=0]="LocaleId",an[an.DayPeriodsFormat=1]="DayPeriodsFormat",an[an.DayPeriodsStandalone=2]="DayPeriodsStandalone",an[an.DaysFormat=3]="DaysFormat",an[an.DaysStandalone=4]="DaysStandalone",an[an.MonthsFormat=5]="MonthsFormat",an[an.MonthsStandalone=6]="MonthsStandalone",an[an.Eras=7]="Eras",an[an.FirstDayOfWeek=8]="FirstDayOfWeek",an[an.WeekendRange=9]="WeekendRange",an[an.DateFormat=10]="DateFormat",an[an.TimeFormat=11]="TimeFormat",an[an.DateTimeFormat=12]="DateTimeFormat",an[an.NumberSymbols=13]="NumberSymbols",an[an.NumberFormats=14]="NumberFormats",an[an.CurrencyCode=15]="CurrencyCode",an[an.CurrencySymbol=16]="CurrencySymbol",an[an.CurrencyName=17]="CurrencyName",an[an.Currencies=18]="Currencies",an[an.Directionality=19]="Directionality",an[an.PluralCase=20]="PluralCase",an[an.ExtraData=21]="ExtraData",an))();const Lu="en-US";let Km=Lu;function ov(a,l,c,d,f){if(a=se(a),Array.isArray(a))for(let m=0;m<a.length;m++)ov(a[m],l,c,d,f);else{const m=wn(),v=mt();let E=$i(a)?a:se(a.provide),T=cf(a);const G=si(),de=1048575&G.providerIndexes,Se=G.directiveStart,je=G.providerIndexes>>20;if($i(a)||!a.multi){const qe=new rl(T,f,wf),ht=CC(E,l,f?de:de+je,Se);-1===ht?(tc(Wn(G,v),m,E),ag(m,a,l.length),l.push(E),G.directiveStart++,G.directiveEnd++,f&&(G.providerIndexes+=1048576),c.push(qe),v.push(qe)):(c[ht]=qe,v[ht]=qe)}else{const qe=CC(E,l,de+je,Se),ht=CC(E,l,de,de+je),Et=qe>=0&&c[qe],Ft=ht>=0&&c[ht];if(f&&!Ft||!f&&!Et){tc(Wn(G,v),m,E);const Vt=function DC(a,l,c,d,f){const m=new rl(a,c,wf);return m.multi=[],m.index=l,m.componentProviders=0,sx(m,f,d&&!c),m}(f?eO:J1,c.length,f,d,T);!f&&Ft&&(c[ht].providerFactory=Vt),ag(m,a,l.length,0),l.push(E),G.directiveStart++,G.directiveEnd++,f&&(G.providerIndexes+=1048576),c.push(Vt),v.push(Vt)}else ag(m,a,qe>-1?qe:ht,sx(c[f?ht:qe],T,!f&&d));!f&&d&&Ft&&c[ht].componentProviders++}}}function ag(a,l,c,d){const f=$i(l),m=function dm(a){return!!a.useClass}(l);if(f||m){const T=(m?se(l.useClass):l).prototype.ngOnDestroy;if(T){const G=a.destroyHooks||(a.destroyHooks=[]);if(!f&&l.multi){const de=G.indexOf(c);-1===de?G.push(c,[d,T]):G[de+1].push(d,T)}else G.push(c,T)}}}function sx(a,l,c){return c&&a.componentProviders++,a.multi.push(l)-1}function CC(a,l,c,d){for(let f=c;f<d;f++)if(l[f]===a)return f;return-1}function J1(a,l,c,d){return av(this.multi,[])}function eO(a,l,c,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,E=to(c,c[1],this.providerFactory.index,d);m=E.slice(0,v),av(f,m);for(let T=v;T<E.length;T++)m.push(E[T])}else m=[],av(f,m);return m}function av(a,l){for(let c=0;c<a.length;c++)l.push((0,a[c])());return l}function EC(a,l=[]){return c=>{c.providersResolver=(d,f)=>function X1(a,l,c){const d=wn();if(d.firstCreatePass){const f=ss(a);ov(c,d.data,d.blueprint,f,!0),ov(l,d.data,d.blueprint,f,!1)}}(d,f?f(a):a,l)}}class Vu{}class lv{}function AC(a,l){return new cv(a,l??null)}class cv extends Vu{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new fw(this);const d=Pn(l);this._bootstrapComponents=vc(d.bootstrap),this._r3Injector=fS(l,c,[{provide:Vu,useValue:this},{provide:_e,useValue:this.componentFactoryResolver}],ce(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class uv extends lv{constructor(l){super(),this.moduleType=l}create(l){return new cv(this.moduleType,l)}}class nO extends Vu{constructor(l,c,d){super(),this.componentFactoryResolver=new fw(this),this.instance=null;const f=new Pd([...l,{provide:Vu,useValue:this},{provide:_e,useValue:this.componentFactoryResolver}],c||tr(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function lg(a,l,c=null){return new nO(a,l,c).injector}function MC(a,l,c,d){return bv(mt(),Ui(),a,l,c,d)}function yv(a,l,c,d,f){return RC(mt(),Ui(),a,l,c,d,f)}function Gf(a,l){const c=a[l];return c===Cn?void 0:c}function bv(a,l,c,d,f,m){const v=l+c;return qi(a,v,f)?zo(a,v+1,m?d.call(m,f):d(f)):Gf(a,v+1)}function RC(a,l,c,d,f,m,v){const E=l+c;return xc(a,E,f,m)?zo(a,E+2,v?d.call(v,f,m):d(f,m)):Gf(a,E+2)}function ug(a,l){const c=wn();let d;const f=a+22;c.firstCreatePass?(d=function LC(a,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(a===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const m=d.factory||(d.factory=Zs(d.type)),v=Rt(wf);try{const E=Cr(!1),T=m();return Cr(E),function L1(a,l,c,d){c>=a.data.length&&(a.data[c]=null,a.blueprint[c]=null),l[c]=d}(c,mt(),f,T),T}finally{Rt(v)}}function Cv(a,l,c){const d=a+22,f=mt(),m=os(f,d);return zf(f,d)?bv(f,Ui(),l,m.transform,c,m):m.transform(c)}function NC(a,l,c,d){const f=a+22,m=mt(),v=os(m,f);return zf(m,f)?RC(m,Ui(),l,v.transform,c,d,v):v.transform(c,d)}function zf(a,l){return a[1].data[l].pure}function HC(a){return l=>{setTimeout(a,void 0,l)}}const Pl=class UC extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let f=l,m=c||(()=>null),v=d;if(l&&"object"==typeof l){const T=l;f=T.next?.bind(T),m=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(m=HC(m),f&&(f=HC(f)),v&&(v=HC(v)));const E=super.subscribe({next:f,error:m,complete:v});return l instanceof te.w0&&l.add(E),E}};function oO(){return this._results[Tl()]()}class $f{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Tl(),d=$f.prototype;d[c]||(d[c]=oO)}get changes(){return this._changes||(this._changes=new Pl)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=xi(l);(this._changesDetected=!function ya(a,l,c){if(a.length!==l.length)return!1;for(let d=0;d<a.length;d++){let f=a[d],m=l[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Wf=(()=>{class a{}return a.__NG_ELEMENT_ID__=aO,a})();const jC=Wf,GC=class extends jC{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tViews,f=Dl(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),Hd(d,f,l),new Sl(f)}};function aO(){return Dv(si(),mt())}function Dv(a,l){return 4&a.type?new GC(l,a,tt(a,l)):null}let qf=(()=>{class a{}return a.__NG_ELEMENT_ID__=gx,a})();function gx(){return Ev(si(),mt())}const lO=qf,_x=class extends lO{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return tt(this._hostTNode,this._hostLView)}get injector(){return new as(this._hostTNode,this._hostLView)}get parentInjector(){const l=ec(this._hostTNode,this._hostLView);if(Uh(l)){const c=$r(l,this._hostLView),d=sl(l);return new as(c[1].data[d+8],c)}return new as(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=yx(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const v=l.createEmbeddedView(c||{},m);return this.insert(v,f),v}createComponent(l,c,d,f,m){const v=l&&!function gr(a){return"function"==typeof a}(l);let E;if(v)E=c;else{const Se=c||{};E=Se.index,d=Se.injector,f=Se.projectableNodes,m=Se.environmentInjector||Se.ngModuleRef}const T=v?l:new Lm(nn(l)),G=d||this.parentInjector;if(!m&&null==T.ngModule){const je=(v?G:this.parentInjector).get(Aa,null);je&&(m=je)}const de=T.create(G,f,void 0,m);return this.insert(de.hostView,E),de}insert(l,c){const d=l._lView,f=d[1];if(function ud(a){return rr(a[3])}(d)){const de=this.indexOf(l);if(-1!==de)this.detach(de);else{const Se=d[3],je=new _x(Se,Se[6],Se[3]);je.detach(je.indexOf(l))}}const m=this._adjustIndex(c),v=this._lContainer;!function Fi(a,l,c,d){const f=10+d,m=c.length;d>0&&(c[f-1][4]=l),d<m-10?(l[4]=c[f],sc(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function PR(a,l){const c=a[9];l[16]!==l[3][3][16]&&(a[2]=!0),null===c?a[9]=[l]:c.push(l)}(v,l);const E=l[19];null!==E&&E.insertView(a),l[2]|=64}(f,d,v,m);const E=ly(m,v),T=d[11],G=Ld(T,v[7]);return null!==G&&function KA(a,l,c,d,f,m){d[0]=f,d[6]=l,wc(a,d,c,1,f,m)}(f,v[6],T,d,G,E),l.attachToViewContainerRef(),sc(zC(v),m,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=yx(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=Dm(this._lContainer,c);d&&(dl(zC(this._lContainer),c),sy(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=Dm(this._lContainer,c);return d&&null!=dl(zC(this._lContainer),c)?new Sl(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function yx(a){return a[8]}function zC(a){return a[8]||(a[8]=[])}function Ev(a,l){let c;const d=l[a.index];if(rr(d))c=d;else{let f;if(8&a.type)f=hi(d);else{const m=l[11];f=m.createComment("");const v=gi(a,l);xu(m,Ld(m,v),f,function jo(a,l){return a.nextSibling(l)}(m,v),!1)}l[a.index]=c=Ef(d,l,f,a),Om(l,c)}return new _x(c,a,l)}class dg{constructor(l){this.queryList=l,this.matches=null}clone(){return new dg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Av{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new Av(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==Mv(l,c).matches&&this.queries[c].setDirty()}}class $C{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class hg{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new hg(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class Sv{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new Sv(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,c,wx(c,m)),this.matchTNodeWithReadOption(l,c,eo(c,l,m,!1,!1))}else d===Wf?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,eo(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===It||f===qf||f===Wf&&4&c.type)this.addMatch(c.index,-2);else{const m=eo(c,l,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function wx(a,l){const c=a.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function th(a,l,c,d){return-1===c?function fg(a,l){return 11&a.type?tt(a,l):4&a.type?Dv(a,l):null}(l,a):-2===c?function Cx(a,l,c){return c===It?tt(l,a):c===Wf?Dv(l,a):c===qf?Ev(l,a):void 0}(a,l,d):to(a,a[1],c,l)}function Tv(a,l,c,d){const f=l[19].queries[d];if(null===f.matches){const m=a.data,v=c.matches,E=[];for(let T=0;T<v.length;T+=2){const G=v[T];E.push(G<0?null:th(l,m[G],v[T+1],c.metadata.read))}f.matches=E}return f.matches}function Uu(a,l,c,d){const f=a.queries.getByIndex(c),m=f.matches;if(null!==m){const v=Tv(a,l,f,c);for(let E=0;E<m.length;E+=2){const T=m[E];if(T>0)d.push(v[E/2]);else{const G=m[E+1],de=l[-T];for(let Se=10;Se<de.length;Se++){const je=de[Se];je[17]===je[3]&&Uu(je[1],je,G,d)}if(null!==de[9]){const Se=de[9];for(let je=0;je<Se.length;je++){const qe=Se[je];Uu(qe[1],qe,G,d)}}}}}return d}function WC(a){const l=mt(),c=wn(),d=Wl();el(d+1);const f=Mv(c,d);if(a.dirty&&Ds(l)===(2==(2&f.metadata.flags))){if(null===f.matches)a.reset([]);else{const m=f.crossesNgTemplate?Uu(c,l,d,[]):Tv(c,l,f,d);a.reset(m,Ht),a.notifyOnChanges()}return!0}return!1}function xv(a,l,c){const d=wn();d.firstCreatePass&&(pg(d,new $C(a,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),YC(d,mt(),l)}function qC(a,l,c,d){const f=wn();if(f.firstCreatePass){const m=si();pg(f,new $C(l,c,d),m.index),function mg(a,l){const c=a.contentQueries||(a.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(a.queries.length-1,l)}(f,a),2==(2&c)&&(f.staticContentQueries=!0)}YC(f,mt(),c)}function Iv(){return function uO(a,l){return a[19].queries[l].queryList}(mt(),Wl())}function YC(a,l,c){const d=new $f(4==(4&c));kS(a,l,d,d.destroy),null===l[19]&&(l[19]=new Av),l[19].queries.push(new dg(d))}function pg(a,l,c){null===a.queries&&(a.queries=new hg),a.queries.track(new Sv(l,c))}function Mv(a,l){return a.queries.getByIndex(l)}function ZC(a,l){return Dv(a,l)}function Zf(a){const l=nn(a)||bn(a)||An(a);return null!==l&&l.standalone}function zu(...a){}const Ux=new Tn("Application Initializer");let vg=(()=>{class a{constructor(c){this.appInits=c,this.resolve=zu,this.reject=zu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(ky(m))c.push(m);else if(hT(m)){const v=new Promise((E,T)=>{m.subscribe({complete:E,error:T})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return a.\u0275fac=function(c){return new(c||a)(ui(Ux,8))},a.\u0275prov=Q({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Hx=new Tn("AppId",{providedIn:"root",factory:function jx(){return`${Ov()}${Ov()}${Ov()}`}});function Ov(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const rD=new Tn("Platform Initializer"),bg=new Tn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),ih=new Tn("appBootstrapListener"),$x=new Tn("AnimationModuleType");let Wx=(()=>{class a{log(c){console.log(c)}warn(c){console.warn(c)}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Q({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();const Xf=new Tn("LocaleId",{providedIn:"root",factory:()=>cc(Xf,lt.Optional|lt.SkipSelf)||function $u(){return typeof $localize<"u"&&$localize.locale||Lu}()}),sD=new Tn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Yx{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let Zx=(()=>{class a{compileModuleSync(c){return new uv(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=vc(Pn(c).declarations).reduce((v,E)=>{const T=nn(E);return T&&v.push(new Lm(T)),v},[]);return new Yx(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Q({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Xx=(()=>Promise.resolve(0))();function Oc(a){typeof Zone>"u"?Xx.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Rs{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pl(!1),this.onMicrotaskEmpty=new Pl(!1),this.onStable=new Pl(!1),this.onError=new Pl(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function TO(){let a=xe.requestAnimationFrame,l=xe.cancelAnimationFrame;if(typeof Zone<"u"&&a&&l){const c=a[Zone.__symbol__("OriginalDelegate")];c&&(a=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Fv(a){const l=()=>{!function lD(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(xe,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,Cg(a),a.isCheckStableRunning=!0,aD(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),Cg(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,v,E)=>{try{return cD(a),c.invokeTask(f,m,v,E)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||a.shouldCoalesceRunChangeDetection)&&l(),uD(a)}},onInvoke:(c,d,f,m,v,E,T)=>{try{return cD(a),c.invoke(f,m,v,E,T)}finally{a.shouldCoalesceRunChangeDetection&&l(),uD(a)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(a._hasPendingMicrotasks=m.microTask,Cg(a),aD(a)):"macroTask"==m.change&&(a.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),a.runOutsideAngular(()=>a.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rs.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(Rs.isInAngularZone())throw new q(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,wg,zu,zu);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const wg={};function aD(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function Cg(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function cD(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function uD(a){a._nesting--,aD(a)}class Jx{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pl,this.onMicrotaskEmpty=new Pl,this.onStable=new Pl,this.onError=new Pl}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}const dD=new Tn(""),hD=new Tn("");let Lv,fD=(()=>{class a{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Lv||(function eI(a){Lv=a}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rs.assertNotInAngularZone(),Oc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Oc(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return a.\u0275fac=function(c){return new(c||a)(ui(Rs),ui(Dg),ui(hD))},a.\u0275prov=Q({token:a,factory:a.\u0275fac}),a})(),Dg=(()=>{class a{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Lv?.findTestabilityInTree(this,c,d)??null}}return a.\u0275fac=function(c){return new(c||a)},a.\u0275prov=Q({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})(),Os=null;const pD=new Tn("AllowMultipleToken"),rh=new Tn("PlatformDestroyListeners");class _D{constructor(l,c){this.name=l,this.token=c}}function vD(a,l,c=[]){const d=`Platform: ${l}`,f=new Tn(d);return(m=[])=>{let v=wD();if(!v||v.injector.get(pD,!1)){const E=[...c,...m,{provide:f,useValue:!0}];a?a(E):function nI(a){if(Os&&!Os.get(pD,!1))throw new q(400,!1);Os=a;const l=a.get(Nv);(function iI(a){const l=a.get(rD,null);l&&l.forEach(c=>c())})(a)}(function bD(a=[],l){return Nd.create({name:l,providers:[{provide:lf,useValue:"platform"},{provide:rh,useValue:new Set([()=>Os=null])},...a]})}(E,d))}return function rI(a){const l=wD();if(!l)throw new q(401,!1);return l}()}}function wD(){return Os?.get(Nv)??null}let Nv=(()=>{class a{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function IO(a,l){let c;return c="noop"===a?new Jx:("zone.js"===a?void 0:a)||new Rs(l),c}(d?.ngZone,function sI(a){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!a||!a.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!a||!a.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:Rs,useValue:f}];return f.run(()=>{const v=Nd.create({providers:m,parent:this.injector,name:c.moduleType.name}),E=c.create(v),T=E.injector.get(ff,null);if(!T)throw new q(402,!1);return f.runOutsideAngular(()=>{const G=f.onError.subscribe({next:de=>{T.handleError(de)}});E.onDestroy(()=>{Sg(this._modules,E),G.unsubscribe()})}),function oI(a,l,c){try{const d=c();return ky(d)?d.catch(f=>{throw l.runOutsideAngular(()=>a.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>a.handleError(d)),d}}(T,f,()=>{const G=E.injector.get(vg);return G.runInitializers(),G.donePromise.then(()=>(function Gy(a){ve(a,"Expected localeId to be defined"),"string"==typeof a&&(Km=a.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Xf,Lu)||Lu),this._moduleDoBootstrap(E),E))})})}bootstrapModule(c,d=[]){const f=CD({},d);return function tI(a,l,c){const d=new uv(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const d=c.injector.get(Ag);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new q(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(rh,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(c){return new(c||a)(ui(Nd))},a.\u0275prov=Q({token:a,factory:a.\u0275fac,providedIn:"platform"}),a})();function CD(a,l){return Array.isArray(l)?l.reduce(CD,a):{...a,...l}}let Ag=(()=>{class a{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new O.y(E=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{E.next(this._stable),E.complete()})}),v=new O.y(E=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Rs.assertNotInAngularZone(),Oc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,E.next(!0))})})});const G=this._zone.onUnstable.subscribe(()=>{Rs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{E.next(!1)}))});return()=>{T.unsubscribe(),G.unsubscribe()}});this.isStable=(0,pe.T)(m,v.pipe((0,ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof y;if(!this._injector.get(vg).done)throw!f&&Zf(c),new q(405,false);let v;v=f?c:this._injector.get(_e).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const E=function gD(a){return a.isBoundToModule}(v)?void 0:this._injector.get(Vu),G=v.create(Nd.NULL,[],d||v.selector,E),de=G.location.nativeElement,Se=G.injector.get(dD,null);return Se?.registerApplication(de),G.onDestroy(()=>{this.detachView(G.hostView),Sg(this.components,G),Se?.unregisterApplication(de)}),this._loadComponent(G),G}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;Sg(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(ih,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>Sg(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new q(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return a.\u0275fac=function(c){return new(c||a)(ui(Rs),ui(Aa),ui(ff))},a.\u0275prov=Q({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function Sg(a,l){const c=a.indexOf(l);c>-1&&a.splice(c,1)}let ED=!0,AD=!1;function lI(){return AD=!0,ED}function cI(){if(AD)throw new Error("Cannot enable prod mode after platform setup.");ED=!1}let uI=(()=>{class a{}return a.__NG_ELEMENT_ID__=PO,a})();function PO(a){return function RO(a,l,c){if(Ws(a)&&!c){const d=Ri(a.index,l);return new Sl(d,d)}return 47&a.type?new Sl(l[16],l):null}(si(),mt(),16==(16&a))}class Ig{constructor(){}supports(l){return Tf(l)}create(l){return new hI(l)}}const dI=(a,l)=>l;class hI{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||dI}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<ps(d,f,m)?c:d,E=ps(v,f,m),T=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{m||(m=[]);const G=E-f,de=T-f;if(G!=de){for(let je=0;je<G;je++){const qe=je<m.length?m[je]:m[je]=0,ht=qe+je;de<=ht&&ht<G&&(m[je]=qe+1)}m[v.previousIndex]=de-G}}E!==T&&l(v,E,T)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Tf(l))throw new q(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let E=0;E<this.length;E++)m=l[E],v=this._trackByFn(E,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,E)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,E),d=!0),c=c._next}else f=0,function eT(a,l){if(Array.isArray(a))for(let c=0;c<a.length;c++)l(a[c]);else{const c=a[Tl()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,E=>{v=this._trackByFn(f,E),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,E,v,f)),Object.is(c.item,E)||this._addIdentityChange(c,E)):(c=this._mismatch(c,E,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,m,f)):l=this._addAfter(new VO(c,d),m,f),l}_verifyReinsertion(l,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new Gv),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Gv),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class VO{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class jv{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class Gv{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new jv,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ps(a,l,c){const d=a.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class Mg{constructor(){}supports(l){return l instanceof Map||gw(l)}create(){return new TD}}class TD{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||gw(l)))throw new q(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new xD(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class xD{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function sh(){return new kg([new Ig])}let kg=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||sh()),deps:[[a,new Zt,new pt]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new q(901,!1)}}return a.\u0275prov=Q({token:a,providedIn:"root",factory:sh}),a})();function zv(){return new $v([new Mg])}let $v=(()=>{class a{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new a(c)}static extend(c){return{provide:a,useFactory:d=>a.create(c,d||zv()),deps:[[a,new Zt,new pt]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new q(901,!1)}}return a.\u0275prov=Q({token:a,providedIn:"root",factory:zv}),a})();const pI=vD(null,"core",[]);let mI=(()=>{class a{constructor(c){}}return a.\u0275fac=function(c){return new(c||a)(ui(Ag))},a.\u0275mod=Dt({type:a}),a.\u0275inj=U({}),a})();function gI(a){return"boolean"==typeof a?a:null!=a&&"false"!==a}},3942:(Ie,x,R)=>{"use strict";R.d(x,{Z:()=>q});var s=R(2090),te=R(4859),O=R(9681),pe=R(1877);class ie{constructor(z,Z){this._delegate=z,this.firebase=Z,(0,O._addComponent)(z,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this._delegate.automaticDataCollectionEnabled=z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(z=>{this._delegate.checkDestroyed(),z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(z,Z=O._DEFAULT_ENTRY_NAME){var D;this._delegate.checkDestroyed();const A=this._delegate.container.getProvider(z);return!A.isInitialized()&&"EXPLICIT"===(null===(D=A.getComponent())||void 0===D?void 0:D.instantiationMode)&&A.initialize(),A.getImmediate({identifier:Z})}_removeServiceInstance(z,Z=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(z).clearInstance(Z)}_addComponent(z){(0,O._addComponent)(this._delegate,z)}_addOrOverwriteComponent(z){(0,O._addOrOverwriteComponent)(this._delegate,z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const B=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function he(){const fe=function ce(fe){const z={},Z={__esModule:!0,initializeApp:function F(j,S={}){const oe=O.initializeApp(j,S);if((0,s.r3)(z,oe.name))return z[oe.name];const W=new fe(oe,Z);return z[oe.name]=W,W},app:A,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function N(j){const S=j.name,oe=S.replace("-compat","");if(O._registerComponent(j)&&"PUBLIC"===j.type){const W=(le=A())=>{if("function"!=typeof le[oe])throw B.create("invalid-app-argument",{appName:S});return le[oe]()};void 0!==j.serviceProps&&(0,s.ZB)(W,j.serviceProps),Z[oe]=W,fe.prototype[oe]=function(...le){return this._getService.bind(this,S).apply(this,j.multipleInstances?le:[])}}return"PUBLIC"===j.type?Z[oe]:null},removeApp:function D(j){delete z[j]},useAsService:function J(j,S){return"serverAuth"===S?null:S},modularAPIs:O}};function A(j){if(!(0,s.r3)(z,j=j||O._DEFAULT_ENTRY_NAME))throw B.create("no-app",{appName:j});return z[j]}return Z.default=Z,Object.defineProperty(Z,"apps",{get:function X(){return Object.keys(z).map(j=>z[j])}}),A.App=fe,Z}(ie);return fe.INTERNAL=Object.assign(Object.assign({},fe.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function z(Z){(0,s.ZB)(fe,Z)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),fe}(),Y=new pe.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const fe=self.firebase.SDK_VERSION;fe&&fe.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const q=ee;!function ae(fe){(0,O.registerVersion)("@firebase/app-compat","0.1.31",fe)}()},9681:(Ie,x,R)=>{"use strict";R.r(x),R.d(x,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Ye,_DEFAULT_ENTRY_NAME:()=>ve,_addComponent:()=>L,_addOrOverwriteComponent:()=>Q,_apps:()=>b,_clearComponents:()=>He,_components:()=>k,_getProvider:()=>U,_registerComponent:()=>ne,_removeServiceInstance:()=>be,deleteApp:()=>lt,getApp:()=>gt,getApps:()=>Tt,initializeApp:()=>Qe,onLog:()=>Rt,registerVersion:()=>ct,setLogLevel:()=>Ot});var s=R(5861),te=R(4859),O=R(1877),pe=R(2090),ie=R(8766);class re{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(Pe=>{if(function B(Ce){return"VERSION"===Ce.getComponent()?.type}(Pe)){const We=Pe.getImmediate();return`${We.library}/${We.version}`}return null}).filter(Pe=>Pe).join(" ")}}const ce="@firebase/app",ee=new O.Yd("@firebase/app"),ve="[DEFAULT]",M={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},b=new Map,k=new Map;function L(Ce,Ae){try{Ce.container.addComponent(Ae)}catch(Pe){ee.debug(`Component ${Ae.name} failed to register with FirebaseApp ${Ce.name}`,Pe)}}function Q(Ce,Ae){Ce.container.addOrOverwriteComponent(Ae)}function ne(Ce){const Ae=Ce.name;if(k.has(Ae))return ee.debug(`There were multiple attempts to register component ${Ae}.`),!1;k.set(Ae,Ce);for(const Pe of b.values())L(Pe,Ce);return!0}function U(Ce,Ae){const Pe=Ce.container.getProvider("heartbeat").getImmediate({optional:!0});return Pe&&Pe.triggerHeartbeat(),Ce.container.getProvider(Ae)}function be(Ce,Ae,Pe=ve){U(Ce,Ae).clearInstance(Pe)}function He(){k.clear()}const Ue=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Be{constructor(Ae,Pe,We){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},Pe),this._name=Pe.name,this._automaticDataCollectionEnabled=Pe.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw Ue.create("app-deleted",{appName:this._name})}}const Ye="9.9.2";function Qe(Ce,Ae={}){"object"!=typeof Ae&&(Ae={name:Ae});const Pe=Object.assign({name:ve,automaticDataCollectionEnabled:!1},Ae),We=Pe.name;if("string"!=typeof We||!We)throw Ue.create("bad-app-name",{appName:String(We)});const at=b.get(We);if(at){if((0,pe.vZ)(Ce,at.options)&&(0,pe.vZ)(Pe,at.config))return at;throw Ue.create("duplicate-app",{appName:We})}const Dt=new te.H0(We);for(const tn of k.values())Dt.addComponent(tn);const Xt=new Be(Ce,Pe,Dt);return b.set(We,Xt),Xt}function gt(Ce=ve){const Ae=b.get(Ce);if(!Ae)throw Ue.create("no-app",{appName:Ce});return Ae}function Tt(){return Array.from(b.values())}function lt(Ce){return _t.apply(this,arguments)}function _t(){return(_t=(0,s.Z)(function*(Ce){const Ae=Ce.name;b.has(Ae)&&(b.delete(Ae),yield Promise.all(Ce.container.getProviders().map(Pe=>Pe.delete())),Ce.isDeleted=!0)})).apply(this,arguments)}function ct(Ce,Ae,Pe){var We;let at=null!==(We=M[Ce])&&void 0!==We?We:Ce;Pe&&(at+=`-${Pe}`);const Dt=at.match(/\s|\//),Xt=Ae.match(/\s|\//);if(Dt||Xt){const tn=[`Unable to register library "${at}" with version "${Ae}":`];return Dt&&tn.push(`library name "${at}" contains illegal characters (whitespace or "/")`),Dt&&Xt&&tn.push("and"),Xt&&tn.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void ee.warn(tn.join(" "))}ne(new te.wA(`${at}-version`,()=>({library:at,version:Ae}),"VERSION"))}function Rt(Ce,Ae){if(null!==Ce&&"function"!=typeof Ce)throw Ue.create("invalid-log-argument");(0,O.Am)(Ce,Ae)}function Ot(Ce){(0,O.Ub)(Ce)}const dt="firebase-heartbeat-store";let kt=null;function Ke(){return kt||(kt=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(Ce,Ae)=>{0===Ae&&Ce.createObjectStore(dt)}}).catch(Ce=>{throw Ue.create("idb-open",{originalErrorMessage:Ce.message})})),kt}function xe(){return(xe=(0,s.Z)(function*(Ce){var Ae;try{return(yield Ke()).transaction(dt).objectStore(dt).get(Ne(Ce))}catch(Pe){if(Pe instanceof pe.ZR)ee.warn(Pe.message);else{const We=Ue.create("idb-get",{originalErrorMessage:null===(Ae=Pe)||void 0===Ae?void 0:Ae.message});ee.warn(We.message)}}})).apply(this,arguments)}function ft(Ce,Ae){return wt.apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(Ce,Ae){var Pe;try{const at=(yield Ke()).transaction(dt,"readwrite");return yield at.objectStore(dt).put(Ae,Ne(Ce)),at.done}catch(We){if(We instanceof pe.ZR)ee.warn(We.message);else{const at=Ue.create("idb-set",{originalErrorMessage:null===(Pe=We)||void 0===Pe?void 0:Pe.message});ee.warn(at.message)}}})).apply(this,arguments)}function Ne(Ce){return`${Ce.name}!${Ce.options.appId}`}class rt{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const Pe=this.container.getProvider("app").getImmediate();this._storage=new Ze(Pe),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var Ae=this;return(0,s.Z)(function*(){const We=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=vt();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==at&&!Ae._heartbeatsCache.heartbeats.some(Dt=>Dt.date===at))return Ae._heartbeatsCache.heartbeats.push({date:at,agent:We}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(Dt=>{const Xt=new Date(Dt.date).valueOf();return Date.now()-Xt<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,s.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const Pe=vt(),{heartbeatsToSend:We,unsentEntries:at}=function Yt(Ce,Ae=1024){const Pe=[];let We=Ce.slice();for(const at of Ce){const Dt=Pe.find(Xt=>Xt.agent===at.agent);if(Dt){if(Dt.dates.push(at.date),Ee(Pe)>Ae){Dt.dates.pop();break}}else if(Pe.push({agent:at.agent,dates:[at.date]}),Ee(Pe)>Ae){Pe.pop();break}We=We.slice(1)}return{heartbeatsToSend:Pe,unsentEntries:We}}(Ae._heartbeatsCache.heartbeats),Dt=(0,pe.L)(JSON.stringify({version:2,heartbeats:We}));return Ae._heartbeatsCache.lastSentHeartbeatDate=Pe,at.length>0?(Ae._heartbeatsCache.heartbeats=at,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Dt})()}}function vt(){return(new Date).toISOString().substring(0,10)}class Ze{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,s.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function ge(Ce){return xe.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var Pe=this;return(0,s.Z)(function*(){var We;if(yield Pe._canUseIndexedDBPromise){const Dt=yield Pe.read();return ft(Pe.app,{lastSentHeartbeatDate:null!==(We=Ae.lastSentHeartbeatDate)&&void 0!==We?We:Dt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var Pe=this;return(0,s.Z)(function*(){var We;if(yield Pe._canUseIndexedDBPromise){const Dt=yield Pe.read();return ft(Pe.app,{lastSentHeartbeatDate:null!==(We=Ae.lastSentHeartbeatDate)&&void 0!==We?We:Dt.lastSentHeartbeatDate,heartbeats:[...Dt.heartbeats,...Ae.heartbeats]})}})()}}function Ee(Ce){return(0,pe.L)(JSON.stringify({version:2,heartbeats:Ce})).length}!function Te(Ce){ne(new te.wA("platform-logger",Ae=>new re(Ae),"PRIVATE")),ne(new te.wA("heartbeat",Ae=>new rt(Ae),"PRIVATE")),ct(ce,"0.7.30",Ce),ct(ce,"0.7.30","esm2017"),ct("fire-js","")}("")},4859:(Ie,x,R)=>{"use strict";R.d(x,{H0:()=>ce,wA:()=>O});var s=R(5861),te=R(2090);class O{constructor(ee,Y,se){this.name=ee,this.instanceFactory=Y,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const pe="[DEFAULT]";class ie{constructor(ee,Y){this.name=ee,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const Y=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(Y)){const se=new te.BH;if(this.instancesDeferred.set(Y,se),this.isInitialized(Y)||this.shouldAutoInitialize())try{const $=this.getOrInitializeService({instanceIdentifier:Y});$&&se.resolve($)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(ee){var Y;const se=this.normalizeInstanceIdentifier(ee?.identifier),$=null!==(Y=ee?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if($)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(ae){if($)return null;throw ae}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function B(he){return"EAGER"===he.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[Y,se]of this.instancesDeferred.entries()){const $=this.normalizeInstanceIdentifier(Y);try{const ae=this.getOrInitializeService({instanceIdentifier:$});se.resolve(ae)}catch{}}}}clearInstance(ee=pe){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,s.Z)(function*(){const Y=Array.from(ee.instances.values());yield Promise.all([...Y.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...Y.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=pe){return this.instances.has(ee)}getOptions(ee=pe){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:Y={}}=ee,se=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $=this.getOrInitializeService({instanceIdentifier:se,options:Y});for(const[ae,q]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(ae)&&q.resolve($);return $}onInit(ee,Y){var se;const $=this.normalizeInstanceIdentifier(Y),ae=null!==(se=this.onInitCallbacks.get($))&&void 0!==se?se:new Set;ae.add(ee),this.onInitCallbacks.set($,ae);const q=this.instances.get($);return q&&ee(q,$),()=>{ae.delete(ee)}}invokeOnInitCallbacks(ee,Y){const se=this.onInitCallbacks.get(Y);if(se)for(const $ of se)try{$(ee,Y)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:Y={}}){let se=this.instances.get(ee);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(he=ee,he===pe?void 0:he),options:Y}),this.instances.set(ee,se),this.instancesOptions.set(ee,Y),this.invokeOnInitCallbacks(se,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,se)}catch{}var he;return se||null}normalizeInstanceIdentifier(ee=pe){return this.component?this.component.multipleInstances?ee:pe:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const Y=this.getProvider(ee.name);if(Y.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);Y.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const Y=new ie(ee,this);return this.providers.set(ee,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(Ie,x,R)=>{"use strict";R.d(x,{Am:()=>he,Ub:()=>ce,Yd:()=>B,in:()=>te});const s=[];var te=(()=>{return(ee=te||(te={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",te;var ee})();const O={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},pe=te.INFO,ie={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},re=(ee,Y,...se)=>{if(Y<ee.logLevel)return;const $=(new Date).toISOString(),ae=ie[Y];if(!ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[ae](`[${$}]  ${ee.name}:`,...se)};class B{constructor(Y){this.name=Y,this._logLevel=pe,this._logHandler=re,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in te))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?O[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...Y),this._logHandler(this,te.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...Y),this._logHandler(this,te.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,te.INFO,...Y),this._logHandler(this,te.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,te.WARN,...Y),this._logHandler(this,te.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...Y),this._logHandler(this,te.ERROR,...Y)}}function ce(ee){s.forEach(Y=>{Y.setLogLevel(ee)})}function he(ee,Y){for(const se of s){let $=null;Y&&Y.level&&($=O[Y.level]),se.userLogHandler=null===ee?null:(ae,q,...fe)=>{const z=fe.map(Z=>{if(null==Z)return null;if("string"==typeof Z)return Z;if("number"==typeof Z||"boolean"==typeof Z)return Z.toString();if(Z instanceof Error)return Z.message;try{return JSON.stringify(Z)}catch{return null}}).filter(Z=>Z).join(" ");q>=($??ae.logLevel)&&ee({level:te[q].toLowerCase(),message:z,args:fe,type:ae.name})}}}},8766:(Ie,x,R)=>{"use strict";R.d(x,{Lj:()=>F,X3:()=>A});var s=R(5861);let O,pe;const B=new WeakMap,ce=new WeakMap,he=new WeakMap,ee=new WeakMap,Y=new WeakMap;let ae={get(S,oe,W){if(S instanceof IDBTransaction){if("done"===oe)return ce.get(S);if("objectStoreNames"===oe)return S.objectStoreNames||he.get(S);if("store"===oe)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return Z(S[oe])},set:(S,oe,W)=>(S[oe]=W,!0),has:(S,oe)=>S instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in S};function z(S){return"function"==typeof S?function fe(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...oe){return S.apply(D(this),oe),Z(B.get(this))}:function(...oe){return Z(S.apply(D(this),oe))}:function(oe,...W){const le=S.call(D(this),oe,...W);return he.set(le,oe.sort?oe.sort():[oe]),Z(le)}}(S):(S instanceof IDBTransaction&&function $(S){if(ce.has(S))return;const oe=new Promise((W,le)=>{const me=()=>{S.removeEventListener("complete",ye),S.removeEventListener("error",Re),S.removeEventListener("abort",Re)},ye=()=>{W(),me()},Re=()=>{le(S.error||new DOMException("AbortError","AbortError")),me()};S.addEventListener("complete",ye),S.addEventListener("error",Re),S.addEventListener("abort",Re)});ce.set(S,oe)}(S),((S,oe)=>oe.some(W=>S instanceof W))(S,function ie(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,ae):S)}function Z(S){if(S instanceof IDBRequest)return function se(S){const oe=new Promise((W,le)=>{const me=()=>{S.removeEventListener("success",ye),S.removeEventListener("error",Re)},ye=()=>{W(Z(S.result)),me()},Re=()=>{le(S.error),me()};S.addEventListener("success",ye),S.addEventListener("error",Re)});return oe.then(W=>{W instanceof IDBCursor&&B.set(W,S)}).catch(()=>{}),Y.set(oe,S),oe}(S);if(ee.has(S))return ee.get(S);const oe=z(S);return oe!==S&&(ee.set(S,oe),Y.set(oe,S)),oe}const D=S=>Y.get(S);function A(S,oe,{blocked:W,upgrade:le,blocking:me,terminated:ye}={}){const Re=indexedDB.open(S,oe),Ve=Z(Re);return le&&Re.addEventListener("upgradeneeded",Xe=>{le(Z(Re.result),Xe.oldVersion,Xe.newVersion,Z(Re.transaction))}),W&&Re.addEventListener("blocked",()=>W()),Ve.then(Xe=>{ye&&Xe.addEventListener("close",()=>ye()),me&&Xe.addEventListener("versionchange",()=>me())}).catch(()=>{}),Ve}function F(S,{blocked:oe}={}){const W=indexedDB.deleteDatabase(S);return oe&&W.addEventListener("blocked",()=>oe()),Z(W).then(()=>{})}const X=["get","getKey","getAll","getAllKeys","count"],N=["put","add","delete","clear"],J=new Map;function j(S,oe){if(!(S instanceof IDBDatabase)||oe in S||"string"!=typeof oe)return;if(J.get(oe))return J.get(oe);const W=oe.replace(/FromIndex$/,""),le=oe!==W,me=N.includes(W);if(!(W in(le?IDBIndex:IDBObjectStore).prototype)||!me&&!X.includes(W))return;const ye=function(){var Re=(0,s.Z)(function*(Ve,...Xe){const it=this.transaction(Ve,me?"readwrite":"readonly");let ve=it.store;return le&&(ve=ve.index(Xe.shift())),(yield Promise.all([ve[W](...Xe),me&&it.done]))[0]});return function(Xe){return Re.apply(this,arguments)}}();return J.set(oe,ye),ye}!function q(S){ae=S(ae)}(S=>({...S,get:(oe,W,le)=>j(oe,W)||S.get(oe,W,le),has:(oe,W)=>!!j(oe,W)||S.has(oe,W)}))},5861:(Ie,x,R)=>{"use strict";function s(O,pe,ie,re,B,ce,he){try{var ee=O[ce](he),Y=ee.value}catch(se){return void ie(se)}ee.done?pe(Y):Promise.resolve(Y).then(re,B)}function te(O){return function(){var pe=this,ie=arguments;return new Promise(function(re,B){var ce=O.apply(pe,ie);function he(Y){s(ce,re,B,he,ee,"next",Y)}function ee(Y){s(ce,re,B,he,ee,"throw",Y)}he(void 0)})}}R.d(x,{Z:()=>te})}},Ie=>{Ie(Ie.s=2350)}]);