(self.webpackChunkfile_attachment=self.webpackChunkfile_attachment||[]).push([[179],{2011:(Ie,x,R)=>{"use strict";R.d(x,{Dh:()=>ce,GT:()=>re,cc:()=>ae,hO:()=>$,on:()=>ee,pX:()=>ie,xv:()=>he});var s=R(4650),te=R(127),O=R(5813);Ie=R.hmd(Ie);const pe=["ngOnDestroy"],ie=(K,E,A,F={})=>new Proxy(K,{get:(X,N)=>A.runOutsideAngular(()=>{var J;if(K[N])return!(null===(J=F?.spy)||void 0===J)&&J.get&&F.spy.get(N,K[N]),K[N];if(pe.indexOf(N)>-1)return()=>{};const G=E.toPromise().then(S=>{const oe=S&&S[N];return"function"==typeof oe?oe.bind(S):oe&&oe.then?oe.then(W=>A.run(()=>W)):A.run(()=>oe)});return new Proxy(()=>{},{get:(S,oe)=>G[oe],apply:(S,oe,W)=>G.then(le=>{var me;const ye=le&&le(...W);return!(null===(me=F?.spy)||void 0===me)&&me.apply&&F.spy.apply(N,W,ye),ye})})})}),re=(K,E)=>{E.forEach(A=>{Object.getOwnPropertyNames(A.prototype||A).forEach(F=>{Object.defineProperty(K.prototype,F,Object.getOwnPropertyDescriptor(A.prototype||A,F))})})};class B{constructor(E){return E}}const ce=new s.OlP("angularfire2.app.options"),he=new s.OlP("angularfire2.app.name");function ee(K,E,A){const X="object"==typeof A&&A||{};X.name=X.name||"string"==typeof A&&A||"[DEFAULT]";const J=te.Z.apps.filter(G=>G&&G.name===X.name)[0]||E.runOutsideAngular(()=>te.Z.initializeApp(K,X));try{JSON.stringify(K)!==JSON.stringify(J.options)&&Y("error",`${J.name} Firebase App already initialized with different options${Ie.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new B(J)}const Y=(K,...E)=>{(0,s.X6Q)()&&typeof console<"u"&&console[K](...E)},se={provide:B,useFactory:ee,deps:[ce,s.R0b,[new s.FiY,he]]};let $=(()=>{class K{constructor(A){te.Z.registerVersion("angularfire",O.q4.full,"core"),te.Z.registerVersion("angularfire",O.q4.full,"app-compat"),te.Z.registerVersion("angular",s.q4F.full,A.toString())}static initializeApp(A,F){return{ngModule:K,providers:[{provide:ce,useValue:A},{provide:he,useValue:F}]}}}return K.\u0275fac=function(A){return new(A||K)(s.LFG(s.Lbi))},K.\u0275mod=s.oAB({type:K}),K.\u0275inj=s.cJS({providers:[se]}),K})();function ae(K,E,A,F,X){const[,N,J]=globalThis.\u0275AngularfireInstanceCache.find(G=>G[0]===K)||[];if(N)return function q(K,E){try{return K.toString()===E.toString()}catch{return K===E}}(X,J)||(z("error",`${E} was already initialized on the ${A} Firebase App with different settings.${fe?" You may need to reload as Firebase is not HMR aware.":""}`),z("warn",{is:X,was:J})),N;{const G=F();return globalThis.\u0275AngularfireInstanceCache.push([K,G,X]),G}}const fe=!!Ie.hot,z=(K,...E)=>{(0,s.X6Q)()&&typeof console<"u"&&console[K](...E)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(Ie,x,R)=>{"use strict";R.d(x,{q4:()=>rc,iC:()=>sc,HU:()=>ko,vb:()=>pd,JM:()=>Io});var s=R(4650),te=R(5867),O=R(5861),pe=R(9681),ie=R(2090),re=R(4859),B=R(1877),ce=R(8766);const he="@firebase/installations",ee="0.5.12",se=`w:${ee}`,$="FIS_v2",E=new ie.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function A(k){return k instanceof ie.ZR&&k.code.includes("request-failed")}function F({projectId:k}){return`https://firebaseinstallations.googleapis.com/v1/projects/${k}/installations`}function X(k){return{token:k.token,requestStatus:2,expiresIn:le(k.expiresIn),creationTime:Date.now()}}function N(k,V){return J.apply(this,arguments)}function J(){return(J=(0,O.Z)(function*(k,V){const Oe=(yield V.json()).error;return E.create("request-failed",{requestName:k,serverCode:Oe.code,serverMessage:Oe.message,serverStatus:Oe.status})})).apply(this,arguments)}function G({apiKey:k}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k})}function S(k,{refreshToken:V}){const ue=G(k);return ue.append("Authorization",function me(k){return`${$} ${k}`}(V)),ue}function oe(k){return W.apply(this,arguments)}function W(){return(W=(0,O.Z)(function*(k){const V=yield k();return V.status>=500&&V.status<600?k():V})).apply(this,arguments)}function le(k){return Number(k.replace("s","000"))}function ye(k,V){return Re.apply(this,arguments)}function Re(){return(Re=(0,O.Z)(function*({appConfig:k,heartbeatServiceProvider:V},{fid:ue}){const Oe=F(k),ze=G(k),Je=V.getImmediate({optional:!0});if(Je){const fn=yield Je.getHeartbeatsHeader();fn&&ze.append("x-firebase-client",fn)}const kt={method:"POST",headers:ze,body:JSON.stringify({fid:ue,authVersion:$,appId:k.appId,sdkVersion:se})},Kt=yield oe(()=>fetch(Oe,kt));if(Kt.ok){const fn=yield Kt.json();return{fid:fn.fid||ue,registrationStatus:2,refreshToken:fn.refreshToken,authToken:X(fn.authToken)}}throw yield N("Create Installation",Kt)})).apply(this,arguments)}function Ve(k){return new Promise(V=>{setTimeout(V,k)})}const it=/^[cdef][\w-]{21}$/;function I(){try{const k=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(k),k[0]=112+k[0]%16;const ue=function b(k){return function Xe(k){return btoa(String.fromCharCode(...k)).replace(/\+/g,"-").replace(/\//g,"_")}(k).substr(0,22)}(k);return it.test(ue)?ue:""}catch{return""}}function P(k){return`${k.appName}!${k.appId}`}const L=new Map;function Q(k,V){const ue=P(k);be(ue,V),function je(k,V){const ue=function Ue(){return!Pe&&"BroadcastChannel"in self&&(Pe=new BroadcastChannel("[Firebase] FID Change"),Pe.onmessage=k=>{be(k.data.key,k.data.fid)}),Pe}();ue&&ue.postMessage({key:k,fid:V}),function Be(){0===L.size&&Pe&&(Pe.close(),Pe=null)}()}(ue,V)}function be(k,V){const ue=L.get(k);if(ue)for(const Oe of ue)Oe(V)}let Pe=null;const gt="firebase-installations-store";let Tt=null;function lt(){return Tt||(Tt=(0,ce.X3)("firebase-installations-database",1,{upgrade:(k,V)=>{0===V&&k.createObjectStore(gt)}})),Tt}function yt(k,V){return ct.apply(this,arguments)}function ct(){return(ct=(0,O.Z)(function*(k,V){const ue=P(k),ze=(yield lt()).transaction(gt,"readwrite"),Je=ze.objectStore(gt),pt=yield Je.get(ue);return yield Je.put(V,ue),yield ze.done,(!pt||pt.fid!==V.fid)&&Q(k,V.fid),V})).apply(this,arguments)}function Rt(k){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,O.Z)(function*(k){const V=P(k),Oe=(yield lt()).transaction(gt,"readwrite");yield Oe.objectStore(gt).delete(V),yield Oe.done})).apply(this,arguments)}function At(k,V){return nt.apply(this,arguments)}function nt(){return(nt=(0,O.Z)(function*(k,V){const ue=P(k),ze=(yield lt()).transaction(gt,"readwrite"),Je=ze.objectStore(gt),pt=yield Je.get(ue),kt=V(pt);return void 0===kt?yield Je.delete(ue):yield Je.put(kt,ue),yield ze.done,kt&&(!pt||pt.fid!==kt.fid)&&Q(k,kt.fid),kt})).apply(this,arguments)}function dt(k){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,O.Z)(function*(k){let V;const ue=yield At(k.appConfig,Oe=>{const ze=Ze(Oe),Je=ge(k,ze);return V=Je.registrationPromise,Je.installationEntry});return""===ue.fid?{installationEntry:yield V}:{installationEntry:ue,registrationPromise:V}})).apply(this,arguments)}function Ze(k){return Fe(k||{fid:I(),registrationStatus:0})}function ge(k,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(E.create("app-offline"))};const ue={fid:V.fid,registrationStatus:1,registrationTime:Date.now()},Oe=function xe(k,V){return ft.apply(this,arguments)}(k,ue);return{installationEntry:ue,registrationPromise:Oe}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:wt(k)}:{installationEntry:V}}function ft(){return(ft=(0,O.Z)(function*(k,V){try{const ue=yield ye(k,V);return yt(k.appConfig,ue)}catch(ue){throw A(ue)&&409===ue.customData.serverCode?yield Rt(k.appConfig):yield yt(k.appConfig,{fid:V.fid,registrationStatus:0}),ue}})).apply(this,arguments)}function wt(k){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,O.Z)(function*(k){let V=yield we(k.appConfig);for(;1===V.registrationStatus;)yield Ve(100),V=yield we(k.appConfig);if(0===V.registrationStatus){const{installationEntry:ue,registrationPromise:Oe}=yield dt(k);return Oe||ue}return V})).apply(this,arguments)}function we(k){return At(k,V=>{if(!V)throw E.create("installation-not-found");return Fe(V)})}function Fe(k){return function rt(k){return 1===k.registrationStatus&&k.registrationTime+1e4<Date.now()}(k)?{fid:k.fid,registrationStatus:0}:k}function vt(k,V){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,O.Z)(function*({appConfig:k,heartbeatServiceProvider:V},ue){const Oe=Ke(k,ue),ze=S(k,ue),Je=V.getImmediate({optional:!0});if(Je){const fn=yield Je.getHeartbeatsHeader();fn&&ze.append("x-firebase-client",fn)}const kt={method:"POST",headers:ze,body:JSON.stringify({installation:{sdkVersion:se,appId:k.appId}})},Kt=yield oe(()=>fetch(Oe,kt));if(Kt.ok)return X(yield Kt.json());throw yield N("Generate Auth Token",Kt)})).apply(this,arguments)}function Ke(k,{fid:V}){return`${F(k)}/${V}/authTokens:generate`}function Ee(k){return Te.apply(this,arguments)}function Te(){return(Te=(0,O.Z)(function*(k,V=!1){let ue;const Oe=yield At(k.appConfig,Je=>{if(!Dt(Je))throw E.create("not-registered");const pt=Je.authToken;if(!V&&Jt(pt))return Je;if(1===pt.requestStatus)return ue=De(k,V),Je;{if(!navigator.onLine)throw E.create("app-offline");const kt=On(Je);return ue=We(k,kt),kt}});return ue?yield ue:Oe.authToken})).apply(this,arguments)}function De(k,V){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,O.Z)(function*(k,V){let ue=yield ke(k.appConfig);for(;1===ue.authToken.requestStatus;)yield Ve(100),ue=yield ke(k.appConfig);const Oe=ue.authToken;return 0===Oe.requestStatus?Ee(k,V):Oe})).apply(this,arguments)}function ke(k){return At(k,V=>{if(!Dt(V))throw E.create("not-registered");return function tn(k){return 1===k.requestStatus&&k.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function We(k,V){return at.apply(this,arguments)}function at(){return(at=(0,O.Z)(function*(k,V){try{const ue=yield vt(k,V),Oe=Object.assign(Object.assign({},V),{authToken:ue});return yield yt(k.appConfig,Oe),ue}catch(ue){if(!A(ue)||401!==ue.customData.serverCode&&404!==ue.customData.serverCode){const Oe=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield yt(k.appConfig,Oe)}else yield Rt(k.appConfig);throw ue}})).apply(this,arguments)}function Dt(k){return void 0!==k&&2===k.registrationStatus}function Jt(k){return 2===k.requestStatus&&!function nn(k){const V=Date.now();return V<k.creationTime||k.creationTime+k.expiresIn<V+36e5}(k)}function On(k){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},k),{authToken:V})}function wn(){return(wn=(0,O.Z)(function*(k){const V=k,{installationEntry:ue,registrationPromise:Oe}=yield dt(V);return Oe?Oe.catch(console.error):Ee(V).catch(console.error),ue.fid})).apply(this,arguments)}function Rn(){return(Rn=(0,O.Z)(function*(k,V=!1){const ue=k;return yield ni(ue),(yield Ee(ue,V)).token})).apply(this,arguments)}function ni(k){return xt.apply(this,arguments)}function xt(){return(xt=(0,O.Z)(function*(k){const{registrationPromise:V}=yield dt(k);V&&(yield V)})).apply(this,arguments)}function vs(k){return E.create("missing-app-config-values",{valueName:k})}const bn="installations",Wn=k=>{const V=k.getProvider("app").getImmediate(),ue=function go(k){if(!k||!k.options)throw vs("App Configuration");if(!k.name)throw vs("App Name");const V=["projectId","apiKey","appId"];for(const ue of V)if(!k.options[ue])throw vs(ue);return{appName:k.name,projectId:k.options.projectId,apiKey:k.options.apiKey,appId:k.options.appId}}(V);return{app:V,appConfig:ue,heartbeatServiceProvider:(0,pe._getProvider)(V,"heartbeat"),_delete:()=>Promise.resolve()}},Ll=k=>{const V=k.getProvider("app").getImmediate(),ue=(0,pe._getProvider)(V,bn).getImmediate();return{getId:()=>function rn(k){return wn.apply(this,arguments)}(ue),getToken:ze=>function Sn(k){return Rn.apply(this,arguments)}(ue,ze)}};(function _o(){(0,pe._registerComponent)(new re.wA(bn,Wn,"PUBLIC")),(0,pe._registerComponent)(new re.wA("installations-internal",Ll,"PRIVATE"))})(),(0,pe.registerVersion)(he,ee),(0,pe.registerVersion)(he,ee,"esm2017");const yi="@firebase/remote-config",Qi=new ie.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wh{constructor(V,ue,Oe,ze){this.client=V,this.storage=ue,this.storageCache=Oe,this.logger=ze}isCachedDataFresh(V,ue){if(!ue)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Oe=Date.now()-ue,ze=Oe<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Oe}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${ze}.`),ze}fetch(V){var ue=this;return(0,O.Z)(function*(){const[Oe,ze]=yield Promise.all([ue.storage.getLastSuccessfulFetchTimestampMillis(),ue.storage.getLastSuccessfulFetchResponse()]);if(ze&&ue.isCachedDataFresh(V.cacheMaxAgeMillis,Oe))return ze;V.eTag=ze&&ze.eTag;const Je=yield ue.client.fetch(V),pt=[ue.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Je.status&&pt.push(ue.storage.setLastSuccessfulFetchResponse(Je)),yield Promise.all(pt),Je})()}}function Ju(k=navigator){return k.languages&&k.languages[0]||k.language}class jc{constructor(V,ue,Oe,ze,Je,pt){this.firebaseInstallations=V,this.sdkVersion=ue,this.namespace=Oe,this.projectId=ze,this.apiKey=Je,this.appId=pt}fetch(V){var ue=this;return(0,O.Z)(function*(){var Oe,ze,Je;const[pt,kt]=yield Promise.all([ue.firebaseInstallations.getId(),ue.firebaseInstallations.getToken()]),fn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ue.projectId}/namespaces/${ue.namespace}:fetch?key=${ue.apiKey}`,yn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},Wt={sdk_version:ue.sdkVersion,app_instance_id:pt,app_instance_id_token:kt,app_id:ue.appId,language_code:Ju()},fi={method:"POST",headers:yn,body:JSON.stringify(Wt)},ar=fetch(fn,fi),gl=new Promise((lr,no)=>{V.signal.addEventListener(()=>{const $p=new Error("The operation was aborted.");$p.name="AbortError",no($p)})});let va;try{yield Promise.race([ar,gl]),va=yield ar}catch(lr){let no="fetch-client-network";throw"AbortError"===(null===(Oe=lr)||void 0===Oe?void 0:Oe.name)&&(no="fetch-timeout"),Qi.create(no,{originalErrorMessage:null===(ze=lr)||void 0===ze?void 0:ze.message})}let Cr=va.status;const Fo=va.headers.get("ETag")||void 0;let Lo,ba;if(200===va.status){let lr;try{lr=yield va.json()}catch(no){throw Qi.create("fetch-client-parse",{originalErrorMessage:null===(Je=no)||void 0===Je?void 0:Je.message})}Lo=lr.entries,ba=lr.state}if("INSTANCE_STATE_UNSPECIFIED"===ba?Cr=500:"NO_CHANGE"===ba?Cr=304:("NO_TEMPLATE"===ba||"EMPTY_CONFIG"===ba)&&(Lo={}),304!==Cr&&200!==Cr)throw Qi.create("fetch-status",{httpStatus:Cr});return{status:Cr,eTag:Fo,config:Lo}})()}}class Op{constructor(V,ue){this.client=V,this.storage=ue}fetch(V){var ue=this;return(0,O.Z)(function*(){const Oe=(yield ue.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ue.attemptFetch(V,Oe)})()}attemptFetch(V,{throttleEndTimeMillis:ue,backoffCount:Oe}){var ze=this;return(0,O.Z)(function*(){yield function Ai(k,V){return new Promise((ue,Oe)=>{const ze=Math.max(V-Date.now(),0),Je=setTimeout(ue,ze);k.addEventListener(()=>{clearTimeout(Je),Oe(Qi.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,ue);try{const Je=yield ze.client.fetch(V);return yield ze.storage.deleteThrottleMetadata(),Je}catch(Je){if(!function ed(k){if(!(k instanceof ie.ZR&&k.customData))return!1;const V=Number(k.customData.httpStatus);return 429===V||500===V||503===V||504===V}(Je))throw Je;const pt={throttleEndTimeMillis:Date.now()+(0,ie.$s)(Oe),backoffCount:Oe+1};return yield ze.storage.setThrottleMetadata(pt),ze.attemptFetch(V,pt)}})()}}class Hc{constructor(V,ue,Oe,ze,Je){this.app=V,this._client=ue,this._storageCache=Oe,this._storage=ze,this._logger=Je,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Gc(k,V){var ue;const Oe=k.target.error||void 0;return Qi.create(V,{originalErrorMessage:Oe&&(null===(ue=Oe)||void 0===ue?void 0:ue.message)})}const Ws="app_namespace_store";class Vp{constructor(V,ue,Oe,ze=function Np(){return new Promise((k,V)=>{var ue;try{const Oe=indexedDB.open("firebase_remote_config",1);Oe.onerror=ze=>{V(Gc(ze,"storage-open"))},Oe.onsuccess=ze=>{k(ze.target.result)},Oe.onupgradeneeded=ze=>{0===ze.oldVersion&&ze.target.result.createObjectStore(Ws,{keyPath:"compositeKey"})}}catch(Oe){V(Qi.create("storage-open",{originalErrorMessage:null===(ue=Oe)||void 0===ue?void 0:ue.message}))}})}()){this.appId=V,this.appName=ue,this.namespace=Oe,this.openDbPromise=ze}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var ue=this;return(0,O.Z)(function*(){const Oe=yield ue.openDbPromise;return new Promise((ze,Je)=>{var pt;const Kt=Oe.transaction([Ws],"readonly").objectStore(Ws),fn=ue.createCompositeKey(V);try{const yn=Kt.get(fn);yn.onerror=Wt=>{Je(Gc(Wt,"storage-get"))},yn.onsuccess=Wt=>{const fi=Wt.target.result;ze(fi?fi.value:void 0)}}catch(yn){Je(Qi.create("storage-get",{originalErrorMessage:null===(pt=yn)||void 0===pt?void 0:pt.message}))}})})()}set(V,ue){var Oe=this;return(0,O.Z)(function*(){const ze=yield Oe.openDbPromise;return new Promise((Je,pt)=>{var kt;const fn=ze.transaction([Ws],"readwrite").objectStore(Ws),yn=Oe.createCompositeKey(V);try{const Wt=fn.put({compositeKey:yn,value:ue});Wt.onerror=fi=>{pt(Gc(fi,"storage-set"))},Wt.onsuccess=()=>{Je()}}catch(Wt){pt(Qi.create("storage-set",{originalErrorMessage:null===(kt=Wt)||void 0===kt?void 0:kt.message}))}})})()}delete(V){var ue=this;return(0,O.Z)(function*(){const Oe=yield ue.openDbPromise;return new Promise((ze,Je)=>{var pt;const Kt=Oe.transaction([Ws],"readwrite").objectStore(Ws),fn=ue.createCompositeKey(V);try{const yn=Kt.delete(fn);yn.onerror=Wt=>{Je(Gc(Wt,"storage-delete"))},yn.onsuccess=()=>{ze()}}catch(yn){Je(Qi.create("storage-delete",{originalErrorMessage:null===(pt=yn)||void 0===pt?void 0:pt.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class Nl{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,O.Z)(function*(){const ue=V.storage.getLastFetchStatus(),Oe=V.storage.getLastSuccessfulFetchTimestampMillis(),ze=V.storage.getActiveConfig(),Je=yield ue;Je&&(V.lastFetchStatus=Je);const pt=yield Oe;pt&&(V.lastSuccessfulFetchTimestampMillis=pt);const kt=yield ze;kt&&(V.activeConfig=kt)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function Vl(){return qs.apply(this,arguments)}function qs(){return(qs=(0,O.Z)(function*(){if(!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}!function Cs(){(0,pe._registerComponent)(new re.wA("remote-config",function k(V,{instanceIdentifier:ue}){const Oe=V.getProvider("app").getImmediate(),ze=V.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Qi.create("registration-window");if(!(0,ie.hl)())throw Qi.create("indexed-db-unavailable");const{projectId:Je,apiKey:pt,appId:kt}=Oe.options;if(!Je)throw Qi.create("registration-project-id");if(!pt)throw Qi.create("registration-api-key");if(!kt)throw Qi.create("registration-app-id");const Kt=new Vp(kt,Oe.name,ue=ue||"firebase"),fn=new Nl(Kt),yn=new B.Yd(yi);yn.logLevel=B.in.ERROR;const Wt=new jc(ze,pe.SDK_VERSION,ue,Je,pt,kt),fi=new Op(Wt,Kt),ar=new wh(fi,Kt,fn,yn),gl=new Hc(Oe,ar,fn,Kt,yn);return function bo(k){const V=(0,ie.m9)(k);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(gl),gl},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(yi,"0.3.11"),(0,pe.registerVersion)(yi,"0.3.11","esm2017")}();const Bl="/firebase-messaging-sw.js",jr="/firebase-cloud-messaging-push-scope",Ys="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",za="google.c.a.c_id",$a="google.c.a.c_l",zc="google.c.a.ts",Bp="google.c.a.e";var wo=(()=>{return(k=wo||(wo={})).PUSH_RECEIVED="push-received",k.NOTIFICATION_CLICKED="notification-clicked",wo;var k})();function Qn(k){const V=new Uint8Array(k);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ul(k){const ue=(k+"=".repeat((4-k.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Oe=atob(ue),ze=new Uint8Array(Oe.length);for(let Je=0;Je<Oe.length;++Je)ze[Je]=Oe.charCodeAt(Je);return ze}const jl="fcm_token_details_db",rr="fcm_token_object_Store";function Up(k){return di.apply(this,arguments)}function di(){return di=(0,O.Z)(function*(k){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Je=>Je.name).includes(jl))return null;let V=null;return(yield(0,ce.X3)(jl,5,{upgrade:(Oe=(0,O.Z)(function*(ze,Je,pt,kt){var Kt;if(Je<2||!ze.objectStoreNames.contains(rr))return;const fn=kt.objectStore(rr),yn=yield fn.index("fcmSenderId").get(k);if(yield fn.clear(),yn)if(2===Je){const Wt=yn;if(!Wt.auth||!Wt.p256dh||!Wt.endpoint)return;V={token:Wt.fcmToken,createTime:null!==(Kt=Wt.createTime)&&void 0!==Kt?Kt:Date.now(),subscriptionOptions:{auth:Wt.auth,p256dh:Wt.p256dh,endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:"string"==typeof Wt.vapidKey?Wt.vapidKey:Qn(Wt.vapidKey)}}}else if(3===Je){const Wt=yn;V={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:Qn(Wt.auth),p256dh:Qn(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:Qn(Wt.vapidKey)}}}else if(4===Je){const Wt=yn;V={token:Wt.fcmToken,createTime:Wt.createTime,subscriptionOptions:{auth:Qn(Wt.auth),p256dh:Qn(Wt.p256dh),endpoint:Wt.endpoint,swScope:Wt.swScope,vapidKey:Qn(Wt.vapidKey)}}}}),function(Je,pt,kt,Kt){return Oe.apply(this,arguments)})})).close(),yield(0,ce.Lj)(jl),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),id(V)?V:null;var Oe}),di.apply(this,arguments)}function id(k){if(!k||!k.subscriptionOptions)return!1;const{subscriptionOptions:V}=k;return"number"==typeof k.createTime&&k.createTime>0&&"string"==typeof k.token&&k.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const gi="firebase-messaging-store";let Wc=null;function oa(){return Wc||(Wc=(0,ce.X3)("firebase-messaging-database",1,{upgrade:(k,V)=>{0===V&&k.createObjectStore(gi)}})),Wc}function os(k){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,O.Z)(function*(k){const V=Ya(k),Oe=yield(yield oa()).transaction(gi).objectStore(gi).get(V);if(Oe)return Oe;{const ze=yield Up(k.appConfig.senderId);if(ze)return yield Ds(k,ze),ze}})).apply(this,arguments)}function Ds(k,V){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,O.Z)(function*(k,V){const ue=Ya(k),ze=(yield oa()).transaction(gi,"readwrite");return yield ze.objectStore(gi).put(V,ue),yield ze.done,V})).apply(this,arguments)}function rd(k){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,O.Z)(function*(k){const V=Ya(k),Oe=(yield oa()).transaction(gi,"readwrite");yield Oe.objectStore(gi).delete(V),yield Oe.done})).apply(this,arguments)}function Ya({appConfig:k}){return k.appId}const jt=new ie.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Hl(k,V){return qc.apply(this,arguments)}function qc(){return(qc=(0,O.Z)(function*(k,V){var ue;const Oe=yield Eo(k),ze=Cn(V),Je={method:"POST",headers:Oe,body:JSON.stringify(ze)};let pt;try{pt=yield(yield fetch(la(k.appConfig),Je)).json()}catch(kt){throw jt.create("token-subscribe-failed",{errorInfo:null===(ue=kt)||void 0===ue?void 0:ue.toString()})}if(pt.error)throw jt.create("token-subscribe-failed",{errorInfo:pt.error.message});if(!pt.token)throw jt.create("token-subscribe-no-token");return pt.token})).apply(this,arguments)}function Yc(k,V){return Co.apply(this,arguments)}function Co(){return(Co=(0,O.Z)(function*(k,V){var ue;const Oe=yield Eo(k),ze=Cn(V.subscriptionOptions),Je={method:"PATCH",headers:Oe,body:JSON.stringify(ze)};let pt;try{pt=yield(yield fetch(`${la(k.appConfig)}/${V.token}`,Je)).json()}catch(kt){throw jt.create("token-update-failed",{errorInfo:null===(ue=kt)||void 0===ue?void 0:ue.toString()})}if(pt.error)throw jt.create("token-update-failed",{errorInfo:pt.error.message});if(!pt.token)throw jt.create("token-update-no-token");return pt.token})).apply(this,arguments)}function Do(k,V){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,O.Z)(function*(k,V){var ue;const ze={method:"DELETE",headers:yield Eo(k)};try{const pt=yield(yield fetch(`${la(k.appConfig)}/${V}`,ze)).json();if(pt.error)throw jt.create("token-unsubscribe-failed",{errorInfo:pt.error.message})}catch(Je){throw jt.create("token-unsubscribe-failed",{errorInfo:null===(ue=Je)||void 0===ue?void 0:ue.toString()})}})).apply(this,arguments)}function la({projectId:k}){return`https://fcmregistrations.googleapis.com/v1/projects/${k}/registrations`}function Eo(k){return mt.apply(this,arguments)}function mt(){return(mt=(0,O.Z)(function*({appConfig:k,installations:V}){const ue=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":k.apiKey,"x-goog-firebase-installations-auth":`FIS ${ue}`})})).apply(this,arguments)}function Cn({p256dh:k,auth:V,endpoint:ue,vapidKey:Oe}){const ze={web:{endpoint:ue,auth:V,p256dh:k}};return Oe!==Ys&&(ze.web.applicationPubKey=Oe),ze}const ca=6048e5;function ua(k){return si.apply(this,arguments)}function si(){return(si=(0,O.Z)(function*(k){const V=yield sd(k.swRegistration,k.vapidKey),ue={vapidKey:k.vapidKey,swScope:k.swRegistration.scope,endpoint:V.endpoint,auth:Qn(V.getKey("auth")),p256dh:Qn(V.getKey("p256dh"))},Oe=yield os(k.firebaseDependencies);if(Oe){if(Ks(Oe.subscriptionOptions,ue))return Date.now()>=Oe.createTime+ca?_r(k,{token:Oe.token,createTime:Date.now(),subscriptionOptions:ue}):Oe.token;try{yield Do(k.firebaseDependencies,Oe.token)}catch(ze){console.warn(ze)}return Es(k.firebaseDependencies,ue)}return Es(k.firebaseDependencies,ue)})).apply(this,arguments)}function Za(k){return Ao.apply(this,arguments)}function Ao(){return(Ao=(0,O.Z)(function*(k){const V=yield os(k.firebaseDependencies);V&&(yield Do(k.firebaseDependencies,V.token),yield rd(k.firebaseDependencies));const ue=yield k.swRegistration.pushManager.getSubscription();return!ue||ue.unsubscribe()})).apply(this,arguments)}function _r(k,V){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,O.Z)(function*(k,V){try{const ue=yield Yc(k.firebaseDependencies,V),Oe=Object.assign(Object.assign({},V),{token:ue,createTime:Date.now()});return yield Ds(k.firebaseDependencies,Oe),ue}catch(ue){throw yield Za(k),ue}})).apply(this,arguments)}function Es(k,V){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,O.Z)(function*(k,V){const Oe={token:yield Hl(k,V),createTime:Date.now(),subscriptionOptions:V};return yield Ds(k,Oe),Oe.token})).apply(this,arguments)}function sd(k,V){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,O.Z)(function*(k,V){return(yield k.pushManager.getSubscription())||k.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ul(V)})})).apply(this,arguments)}function Ks(k,V){return V.vapidKey===k.vapidKey&&V.endpoint===k.endpoint&&V.auth===k.auth&&V.p256dh===k.p256dh}function Ui(k){const V={from:k.from,collapseKey:k.collapse_key,messageId:k.fcmMessageId};return function yr(k,V){if(!V.notification)return;k.notification={};const ue=V.notification.title;ue&&(k.notification.title=ue);const Oe=V.notification.body;Oe&&(k.notification.body=Oe);const ze=V.notification.image;ze&&(k.notification.image=ze)}(V,k),function Kc(k,V){!V.data||(k.data=V.data)}(V,k),function da(k,V){var ue,Oe,ze,Je,pt;if(!(V.fcmOptions||null!==(ue=V.notification)&&void 0!==ue&&ue.click_action))return;k.fcmOptions={};const kt=null!==(ze=null===(Oe=V.fcmOptions)||void 0===Oe?void 0:Oe.link)&&void 0!==ze?ze:null===(Je=V.notification)||void 0===Je?void 0:Je.click_action;kt&&(k.fcmOptions.link=kt);const Kt=null===(pt=V.fcmOptions)||void 0===pt?void 0:pt.analytics_label;Kt&&(k.fcmOptions.analyticsLabel=Kt)}(V,k),V}function Gr(k){return"object"==typeof k&&!!k&&za in k}function od(k,V){const ue=[];for(let Oe=0;Oe<k.length;Oe++)ue.push(k.charAt(Oe)),Oe<V.length&&ue.push(V.charAt(Oe));return ue.join("")}function Ja(k){return jt.create("missing-app-config-values",{valueName:k})}od("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),od("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Ch{constructor(V,ue,Oe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const ze=function Zc(k){if(!k||!k.options)throw Ja("App Configuration Object");if(!k.name)throw Ja("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:ue}=k;for(const Oe of V)if(!ue[Oe])throw Ja(Oe);return{appName:k.name,projectId:ue.projectId,apiKey:ue.apiKey,appId:ue.appId,senderId:ue.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:ze,installations:ue,analyticsProvider:Oe}}_delete(){return Promise.resolve()}}function So(k){return el.apply(this,arguments)}function el(){return(el=(0,O.Z)(function*(k){var V;try{k.swRegistration=yield navigator.serviceWorker.register(Bl,{scope:jr}),k.swRegistration.update().catch(()=>{})}catch(ue){throw jt.create("failed-service-worker-registration",{browserErrorMessage:null===(V=ue)||void 0===V?void 0:V.message})}})).apply(this,arguments)}function zl(k,V){return tl.apply(this,arguments)}function tl(){return(tl=(0,O.Z)(function*(k,V){if(!V&&!k.swRegistration&&(yield So(k)),V||!k.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw jt.create("invalid-sw-registration");k.swRegistration=V}})).apply(this,arguments)}function nl(k,V){return Qc.apply(this,arguments)}function Qc(){return(Qc=(0,O.Z)(function*(k,V){V?k.vapidKey=V:k.vapidKey||(k.vapidKey=Ys)})).apply(this,arguments)}function $l(){return($l=(0,O.Z)(function*(k,V){if(!navigator)throw jt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jt.create("permission-blocked");return yield nl(k,V?.vapidKey),yield zl(k,V?.serviceWorkerRegistration),ua(k)})).apply(this,arguments)}function Wl(k,V,ue){return ql.apply(this,arguments)}function ql(){return(ql=(0,O.Z)(function*(k,V,ue){const Oe=rl(V);(yield k.firebaseDependencies.analyticsProvider.get()).logEvent(Oe,{message_id:ue[za],message_name:ue[$a],message_time:ue[zc],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function rl(k){switch(k){case wo.NOTIFICATION_CLICKED:return"notification_open";case wo.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Yl(){return(Yl=(0,O.Z)(function*(k,V){const ue=V.data;if(!ue.isFirebaseMessaging)return;k.onMessageHandler&&ue.messageType===wo.PUSH_RECEIVED&&("function"==typeof k.onMessageHandler?k.onMessageHandler(Ui(ue)):k.onMessageHandler.next(Ui(ue)));const Oe=ue.data;Gr(Oe)&&"1"===Oe[Bp]&&(yield Wl(k,ue.messageType,Oe))})).apply(this,arguments)}const Kl="@firebase/messaging",As=k=>{const V=new Ch(k.getProvider("app").getImmediate(),k.getProvider("installations-internal").getImmediate(),k.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ue=>function Xc(k,V){return Yl.apply(this,arguments)}(V,ue)),V},$n=k=>{const V=k.getProvider("messaging").getImmediate();return{getToken:Oe=>function il(k,V){return $l.apply(this,arguments)}(V,Oe)}};function Dh(){return eu.apply(this,arguments)}function eu(){return(eu=(0,O.Z)(function*(){try{yield(0,ie.eu)()}catch{return!1}return typeof window<"u"&&(0,ie.hl)()&&(0,ie.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Jc(){(0,pe._registerComponent)(new re.wA("messaging",As,"PUBLIC")),(0,pe._registerComponent)(new re.wA("messaging-internal",$n,"PRIVATE")),(0,pe.registerVersion)(Kl,"0.9.16"),(0,pe.registerVersion)(Kl,"0.9.16","esm2017")}();const nu="analytics",Ss="firebase_id",fa="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",To="https://www.googletagmanager.com/gtag/js",bi=new B.Yd("@firebase/analytics");function Th(k){return Promise.all(k.map(V=>V.catch(ue=>ue)))}function Hp(k,V){const ue=document.createElement("script");ue.src=`${To}?l=${k}&id=${V}`,ue.async=!0,document.head.appendChild(ue)}function xh(k,V,ue,Oe,ze,Je){return xo.apply(this,arguments)}function xo(){return(xo=(0,O.Z)(function*(k,V,ue,Oe,ze,Je){const pt=Oe[ze];try{if(pt)yield V[pt];else{const Kt=(yield Th(ue)).find(fn=>fn.measurementId===ze);Kt&&(yield V[Kt.appId])}}catch(kt){bi.error(kt)}k("config",ze,Je)})).apply(this,arguments)}function cd(k,V,ue,Oe,ze){return pa.apply(this,arguments)}function pa(){return(pa=(0,O.Z)(function*(k,V,ue,Oe,ze){try{let Je=[];if(ze&&ze.send_to){let pt=ze.send_to;Array.isArray(pt)||(pt=[pt]);const kt=yield Th(ue);for(const Kt of pt){const fn=kt.find(Wt=>Wt.measurementId===Kt),yn=fn&&V[fn.appId];if(!yn){Je=[];break}Je.push(yn)}}0===Je.length&&(Je=Object.values(V)),yield Promise.all(Je),k("event",Oe,ze||{})}catch(Je){bi.error(Je)}})).apply(this,arguments)}function Ih(){const k=window.document.getElementsByTagName("script");for(const V of Object.values(k))if(V.src&&V.src.includes(To))return V;return null}const zr=new ie.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Gp=new class vr{constructor(V={},ue=1e3){this.throttleMetadata=V,this.intervalMillis=ue}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,ue){this.throttleMetadata[V]=ue}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function Vn(k){return new Headers({Accept:"application/json","x-goog-api-key":k})}function Wr(k){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,O.Z)(function*(k){var V;const{appId:ue,apiKey:Oe}=k,ze={method:"GET",headers:Vn(Oe)},Je=fa.replace("{app-id}",ue),pt=yield fetch(Je,ze);if(200!==pt.status&&304!==pt.status){let kt="";try{const Kt=yield pt.json();null!==(V=Kt.error)&&void 0!==V&&V.message&&(kt=Kt.error.message)}catch{}throw zr.create("config-fetch-failed",{httpStatus:pt.status,responseMessage:kt})}return pt.json()})).apply(this,arguments)}function _t(k){return sr.apply(this,arguments)}function sr(){return(sr=(0,O.Z)(function*(k,V=Gp,ue){const{appId:Oe,apiKey:ze,measurementId:Je}=k.options;if(!Oe)throw zr.create("no-app-id");if(!ze){if(Je)return{measurementId:Je,appId:Oe};throw zr.create("no-api-key")}const pt=V.getThrottleMetadata(Oe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},kt=new Xl;return setTimeout((0,O.Z)(function*(){kt.abort()}),void 0!==ue?ue:6e4),qn({appId:Oe,apiKey:ze,measurementId:Je},pt,kt,V)})).apply(this,arguments)}function qn(k,V,ue){return al.apply(this,arguments)}function al(){return(al=(0,O.Z)(function*(k,{throttleEndTimeMillis:V,backoffCount:ue},Oe,ze=Gp){var Je,pt;const{appId:kt,measurementId:Kt}=k;try{yield ll(Oe,V)}catch(fn){if(Kt)return bi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kt} provided in the "measurementId" field in the local Firebase config. [${null===(Je=fn)||void 0===Je?void 0:Je.message}]`),{appId:kt,measurementId:Kt};throw fn}try{const fn=yield Wr(k);return ze.deleteThrottleMetadata(kt),fn}catch(fn){const yn=fn;if(!Ql(yn)){if(ze.deleteThrottleMetadata(kt),Kt)return bi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Kt} provided in the "measurementId" field in the local Firebase config. [${yn?.message}]`),{appId:kt,measurementId:Kt};throw fn}const Wt=503===Number(null===(pt=yn?.customData)||void 0===pt?void 0:pt.httpStatus)?(0,ie.$s)(ue,ze.intervalMillis,30):(0,ie.$s)(ue,ze.intervalMillis),fi={throttleEndTimeMillis:Date.now()+Wt,backoffCount:ue+1};return ze.setThrottleMetadata(kt,fi),bi.debug(`Calling attemptFetch again in ${Wt} millis`),qn(k,fi,Oe,ze)}})).apply(this,arguments)}function ll(k,V){return new Promise((ue,Oe)=>{const ze=Math.max(V-Date.now(),0),Je=setTimeout(ue,ze);k.addEventListener(()=>{clearTimeout(Je),Oe(zr.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function Ql(k){if(!(k instanceof ie.ZR&&k.customData))return!1;const V=Number(k.customData.httpStatus);return 429===V||500===V||503===V||504===V}class Xl{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}let cl,as;function qr(){return(qr=(0,O.Z)(function*(k,V,ue,Oe,ze){if(ze&&ze.global)k("event",ue,Oe);else{const Je=yield V;k("event",ue,Object.assign(Object.assign({},Oe),{send_to:Je}))}})).apply(this,arguments)}function tc(k){as=k}function Mo(k){cl=k}function iu(){return ga.apply(this,arguments)}function ga(){return(ga=(0,O.Z)(function*(){var k;if(!(0,ie.hl)())return bi.warn(zr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ie.eu)()}catch(V){return bi.warn(zr.create("indexeddb-unavailable",{errorInfo:null===(k=V)||void 0===k?void 0:k.toString()}).message),!1}return!0})).apply(this,arguments)}function eo(){return(eo=(0,O.Z)(function*(k,V,ue,Oe,ze,Je,pt){var kt;const Kt=_t(k);Kt.then(ar=>{ue[ar.measurementId]=ar.appId,k.options.measurementId&&ar.measurementId!==k.options.measurementId&&bi.warn(`The measurement ID in the local Firebase config (${k.options.measurementId}) does not match the measurement ID fetched from the server (${ar.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ar=>bi.error(ar)),V.push(Kt);const fn=iu().then(ar=>{if(ar)return Oe.getId()}),[yn,Wt]=yield Promise.all([Kt,fn]);Ih()||Hp(Je,yn.measurementId),as&&(ze("consent","default",as),tc(void 0)),ze("js",new Date);const fi=null!==(kt=pt?.config)&&void 0!==kt?kt:{};return fi.origin="firebase",fi.update=!0,null!=Wt&&(fi[Ss]=Wt),ze("config",yn.measurementId,fi),cl&&(ze("set",cl),Mo(void 0)),yn.measurementId})).apply(this,arguments)}class _a{constructor(V){this.app=V}_delete(){return delete Xn[this.app.options.appId],Promise.resolve()}}let Xn={},or=[];const ru={};let Zn,Hn,br="dataLayer",xn=!1;function Jn(k,V,ue){!function oi(){const k=[];if((0,ie.ru)()&&k.push("This is a browser extension environment."),(0,ie.zI)()||k.push("Cookies are not available."),k.length>0){const V=k.map((Oe,ze)=>`(${ze+1}) ${Oe}`).join(" "),ue=zr.create("invalid-analytics-context",{errorInfo:V});bi.warn(ue.message)}}();const Oe=k.options.appId;if(!Oe)throw zr.create("no-app-id");if(!k.options.apiKey){if(!k.options.measurementId)throw zr.create("no-api-key");bi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${k.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Xn[Oe])throw zr.create("already-exists",{id:Oe});if(!xn){!function v_(k){let V=[];Array.isArray(window[k])?V=window[k]:window[k]=V}(br);const{wrappedGtag:Je,gtagCore:pt}=function Mh(k,V,ue,Oe,ze){let Je=function(...pt){window[Oe].push(arguments)};return window[ze]&&"function"==typeof window[ze]&&(Je=window[ze]),window[ze]=function Zl(k,V,ue,Oe){function Je(){return(Je=(0,O.Z)(function*(pt,kt,Kt){try{"event"===pt?yield cd(k,V,ue,kt,Kt):"config"===pt?yield xh(k,V,ue,Oe,kt,Kt):"consent"===pt?k("consent","update",Kt):k("set",kt)}catch(fn){bi.error(fn)}})).apply(this,arguments)}return function ze(pt,kt,Kt){return Je.apply(this,arguments)}}(Je,k,V,ue),{gtagCore:Je,wrappedGtag:window[ze]}}(Xn,or,ru,br,"gtag");Hn=Je,Zn=pt,xn=!0}return Xn[Oe]=function pr(k,V,ue,Oe,ze,Je,pt){return eo.apply(this,arguments)}(k,or,ru,V,Zn,br,ue),new _a(k)}function Hi(){return ul.apply(this,arguments)}function ul(){return(ul=(0,O.Z)(function*(){if((0,ie.ru)()||!(0,ie.zI)()||!(0,ie.hl)())return!1;try{return yield(0,ie.eu)()}catch{return!1}})).apply(this,arguments)}const ya="@firebase/analytics";!function ls(){(0,pe._registerComponent)(new re.wA(nu,(V,{options:ue})=>Jn(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),ue),"PUBLIC")),(0,pe._registerComponent)(new re.wA("analytics-internal",function k(V){try{const ue=V.getProvider(nu).getImmediate();return{logEvent:(Oe,ze,Je)=>function mr(k,V,ue,Oe){k=(0,ie.m9)(k),function dd(k,V,ue,Oe,ze){return qr.apply(this,arguments)}(Hn,Xn[k.app.options.appId],V,ue,Oe).catch(ze=>bi.error(ze))}(ue,Oe,ze,Je)}}catch(ue){throw zr.create("interop-component-reg-failed",{reason:ue})}},"PRIVATE")),(0,pe.registerVersion)(ya,"0.8.0"),(0,pe.registerVersion)(ya,"0.8.0","esm2017")}();var nc=R(4408),cs=R(7565);const su=new class pn extends cs.v{}(class hl extends nc.o{constructor(V,ue){super(V,ue),this.scheduler=V,this.work=ue}schedule(V,ue=0){return ue>0?super.schedule(V,ue):(this.delay=ue,this.state=V,this.scheduler.flush(this),this)}execute(V,ue){return ue>0||this.closed?super.execute(V,ue):this._execute(V,ue)}requestAsyncId(V,ue,Oe=0){return null!=Oe&&Oe>0||null==Oe&&this.delay>0?super.requestAsyncId(V,ue,Oe):V.flush(this)}});var hd=R(4986),ic=R(8505),Li=R(9468),Gi=R(5363);const rc=new s.GfV("7.4.1"),Ts="__angularfire_symbol__analyticsIsSupportedValue",kh="__angularfire_symbol__analyticsIsSupported",li="__angularfire_symbol__remoteConfigIsSupportedValue",wr="__angularfire_symbol__remoteConfigIsSupported",pl="__angularfire_symbol__messagingIsSupportedValue",ou="__angularfire_symbol__messagingIsSupported";function Io(k,V,ue){if(V){if(1===V.length)return V[0];const Je=V.filter(pt=>pt.app===ue);if(1===Je.length)return Je[0]}return ue.container.getProvider(k).getImmediate({optional:!0})}globalThis[kh]||(globalThis[kh]=Hi().then(k=>globalThis[Ts]=k).catch(()=>globalThis[Ts]=!1)),globalThis[ou]||(globalThis[ou]=Dh().then(k=>globalThis[pl]=k).catch(()=>globalThis[pl]=!1)),globalThis[wr]||(globalThis[wr]=Vl().then(k=>globalThis[li]=k).catch(()=>globalThis[li]=!1));const pd=(k,V)=>{const ue=V?[V]:(0,te.C6)(),Oe=[];return ue.forEach(ze=>{ze.container.getProvider(k).instances.forEach(pt=>{Oe.includes(pt)||Oe.push(pt)})}),Oe};function Yr(){}class xs{constructor(V,ue=su){this.zone=V,this.delegate=ue}now(){return this.delegate.now()}schedule(V,ue,Oe){const ze=this.zone;return this.delegate.schedule(function(pt){ze.runGuarded(()=>{V.apply(this,[pt])})},ue,Oe)}}class Po{constructor(V){this.zone=V,this.task=null}call(V,ue){const Oe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Yr,{},Yr,Yr)),ue.pipe((0,ic.b)({next:Oe,complete:Oe,error:Oe})).subscribe(V).add(Oe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ko=(()=>{class k{constructor(ue){this.ngZone=ue,this.outsideAngular=ue.runOutsideAngular(()=>new xs(Zone.current)),this.insideAngular=ue.run(()=>new xs(Zone.current,hd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return k.\u0275fac=function(ue){return new(ue||k)(s.LFG(s.R0b))},k.\u0275prov=s.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})();function dn(){const k=globalThis.\u0275AngularFireScheduler;if(!k)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return k}function sc(k){return dn(),function ci(k){return function(ue){return(ue=ue.lift(new Po(k.ngZone))).pipe((0,Li.R)(k.outsideAngular),(0,Gi.Q)(k.insideAngular))}}(dn())(k)}},2090:(Ie,x,R)=>{"use strict";R.d(x,{$s:()=>rt,BH:()=>$,G6:()=>G,L:()=>ce,LL:()=>Re,Mn:()=>N,Sg:()=>ae,UG:()=>z,US:()=>re,ZB:()=>Y,ZR:()=>ye,b$:()=>A,d:()=>F,eu:()=>oe,hl:()=>S,jU:()=>K,m9:()=>Ke,ne:()=>lt,pd:()=>gt,r3:()=>ne,ru:()=>E,tV:()=>he,uI:()=>fe,vZ:()=>Pe,w1:()=>X,xO:()=>Ye,xb:()=>be,z$:()=>q,zI:()=>W,zd:()=>Qe});const pe=function(Ee){const Te=[];let De=0;for(let Ae=0;Ae<Ee.length;Ae++){let ke=Ee.charCodeAt(Ae);ke<128?Te[De++]=ke:ke<2048?(Te[De++]=ke>>6|192,Te[De++]=63&ke|128):55296==(64512&ke)&&Ae+1<Ee.length&&56320==(64512&Ee.charCodeAt(Ae+1))?(ke=65536+((1023&ke)<<10)+(1023&Ee.charCodeAt(++Ae)),Te[De++]=ke>>18|240,Te[De++]=ke>>12&63|128,Te[De++]=ke>>6&63|128,Te[De++]=63&ke|128):(Te[De++]=ke>>12|224,Te[De++]=ke>>6&63|128,Te[De++]=63&ke|128)}return Te},re={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ee,Te){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const De=Te?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ae=[];for(let ke=0;ke<Ee.length;ke+=3){const We=Ee[ke],at=ke+1<Ee.length,Dt=at?Ee[ke+1]:0,Jt=ke+2<Ee.length,nn=Jt?Ee[ke+2]:0;let rn=(15&Dt)<<2|nn>>6,wn=63&nn;Jt||(wn=64,at||(rn=64)),Ae.push(De[We>>2],De[(3&We)<<4|Dt>>4],De[rn],De[wn])}return Ae.join("")},encodeString(Ee,Te){return this.HAS_NATIVE_SUPPORT&&!Te?btoa(Ee):this.encodeByteArray(pe(Ee),Te)},decodeString(Ee,Te){return this.HAS_NATIVE_SUPPORT&&!Te?atob(Ee):function(Ee){const Te=[];let De=0,Ae=0;for(;De<Ee.length;){const ke=Ee[De++];if(ke<128)Te[Ae++]=String.fromCharCode(ke);else if(ke>191&&ke<224){const We=Ee[De++];Te[Ae++]=String.fromCharCode((31&ke)<<6|63&We)}else if(ke>239&&ke<365){const Jt=((7&ke)<<18|(63&Ee[De++])<<12|(63&Ee[De++])<<6|63&Ee[De++])-65536;Te[Ae++]=String.fromCharCode(55296+(Jt>>10)),Te[Ae++]=String.fromCharCode(56320+(1023&Jt))}else{const We=Ee[De++],at=Ee[De++];Te[Ae++]=String.fromCharCode((15&ke)<<12|(63&We)<<6|63&at)}}return Te.join("")}(this.decodeStringToByteArray(Ee,Te))},decodeStringToByteArray(Ee,Te){this.init_();const De=Te?this.charToByteMapWebSafe_:this.charToByteMap_,Ae=[];for(let ke=0;ke<Ee.length;){const We=De[Ee.charAt(ke++)],Dt=ke<Ee.length?De[Ee.charAt(ke)]:0;++ke;const nn=ke<Ee.length?De[Ee.charAt(ke)]:64;++ke;const tn=ke<Ee.length?De[Ee.charAt(ke)]:64;if(++ke,null==We||null==Dt||null==nn||null==tn)throw Error();Ae.push(We<<2|Dt>>4),64!==nn&&(Ae.push(Dt<<4&240|nn>>2),64!==tn&&Ae.push(nn<<6&192|tn))}return Ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}},ce=function(Ee){return function(Ee){const Te=pe(Ee);return re.encodeByteArray(Te,!0)}(Ee).replace(/\./g,"")},he=function(Ee){try{return re.decodeString(Ee,!0)}catch(Te){console.error("base64Decode failed: ",Te)}return null};function Y(Ee,Te){if(!(Te instanceof Object))return Te;switch(Te.constructor){case Date:return new Date(Te.getTime());case Object:void 0===Ee&&(Ee={});break;case Array:Ee=[];break;default:return Te}for(const De in Te)!Te.hasOwnProperty(De)||!se(De)||(Ee[De]=Y(Ee[De],Te[De]));return Ee}function se(Ee){return"__proto__"!==Ee}class ${constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Te,De)=>{this.resolve=Te,this.reject=De})}wrapCallback(Te){return(De,Ae)=>{De?this.reject(De):this.resolve(Ae),"function"==typeof Te&&(this.promise.catch(()=>{}),1===Te.length?Te(De):Te(De,Ae))}}}function ae(Ee,Te){if(Ee.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ae=Te||"demo-project",ke=Ee.iat||0,We=Ee.sub||Ee.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const at=Object.assign({iss:`https://securetoken.google.com/${Ae}`,aud:Ae,iat:ke,exp:ke+3600,auth_time:ke,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},Ee);return[ce(JSON.stringify({alg:"none",type:"JWT"})),ce(JSON.stringify(at)),""].join(".")}function q(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(q())}function z(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function K(){return"object"==typeof self&&self.self===self}function E(){const Ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ee&&void 0!==Ee.id}function A(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function F(){return q().indexOf("Electron/")>=0}function X(){const Ee=q();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function N(){return q().indexOf("MSAppHost/")>=0}function G(){return!z()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function S(){return"object"==typeof indexedDB}function oe(){return new Promise((Ee,Te)=>{try{let De=!0;const Ae="validate-browser-context-for-indexeddb-analytics-module",ke=self.indexedDB.open(Ae);ke.onsuccess=()=>{ke.result.close(),De||self.indexedDB.deleteDatabase(Ae),Ee(!0)},ke.onupgradeneeded=()=>{De=!1},ke.onerror=()=>{var We;Te((null===(We=ke.error)||void 0===We?void 0:We.message)||"")}}catch(De){Te(De)}})}function W(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class ye extends Error{constructor(Te,De,Ae){super(De),this.code=Te,this.customData=Ae,this.name="FirebaseError",Object.setPrototypeOf(this,ye.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Re.prototype.create)}}class Re{constructor(Te,De,Ae){this.service=Te,this.serviceName=De,this.errors=Ae}create(Te,...De){const Ae=De[0]||{},ke=`${this.service}/${Te}`,We=this.errors[Te],at=We?function Ve(Ee,Te){return Ee.replace(Xe,(De,Ae)=>{const ke=Te[Ae];return null!=ke?String(ke):`<${Ae}?>`})}(We,Ae):"Error";return new ye(ke,`${this.serviceName}: ${at} (${ke}).`,Ae)}}const Xe=/\{\$([^}]+)}/g;function ne(Ee,Te){return Object.prototype.hasOwnProperty.call(Ee,Te)}function be(Ee){for(const Te in Ee)if(Object.prototype.hasOwnProperty.call(Ee,Te))return!1;return!0}function Pe(Ee,Te){if(Ee===Te)return!0;const De=Object.keys(Ee),Ae=Object.keys(Te);for(const ke of De){if(!Ae.includes(ke))return!1;const We=Ee[ke],at=Te[ke];if(Ue(We)&&Ue(at)){if(!Pe(We,at))return!1}else if(We!==at)return!1}for(const ke of Ae)if(!De.includes(ke))return!1;return!0}function Ue(Ee){return null!==Ee&&"object"==typeof Ee}function Ye(Ee){const Te=[];for(const[De,Ae]of Object.entries(Ee))Array.isArray(Ae)?Ae.forEach(ke=>{Te.push(encodeURIComponent(De)+"="+encodeURIComponent(ke))}):Te.push(encodeURIComponent(De)+"="+encodeURIComponent(Ae));return Te.length?"&"+Te.join("&"):""}function Qe(Ee){const Te={};return Ee.replace(/^\?/,"").split("&").forEach(Ae=>{if(Ae){const[ke,We]=Ae.split("=");Te[decodeURIComponent(ke)]=decodeURIComponent(We)}}),Te}function gt(Ee){const Te=Ee.indexOf("?");if(!Te)return"";const De=Ee.indexOf("#",Te);return Ee.substring(Te,De>0?De:void 0)}function lt(Ee,Te){const De=new yt(Ee,Te);return De.subscribe.bind(De)}class yt{constructor(Te,De){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=De,this.task.then(()=>{Te(this)}).catch(Ae=>{this.error(Ae)})}next(Te){this.forEachObserver(De=>{De.next(Te)})}error(Te){this.forEachObserver(De=>{De.error(Te)}),this.close(Te)}complete(){this.forEachObserver(Te=>{Te.complete()}),this.close()}subscribe(Te,De,Ae){let ke;if(void 0===Te&&void 0===De&&void 0===Ae)throw new Error("Missing Observer.");ke=function Rt(Ee,Te){if("object"!=typeof Ee||null===Ee)return!1;for(const De of Te)if(De in Ee&&"function"==typeof Ee[De])return!0;return!1}(Te,["next","error","complete"])?Te:{next:Te,error:De,complete:Ae},void 0===ke.next&&(ke.next=Ot),void 0===ke.error&&(ke.error=Ot),void 0===ke.complete&&(ke.complete=Ot);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ke.error(this.finalError):ke.complete()}catch{}}),this.observers.push(ke),We}unsubscribeOne(Te){void 0===this.observers||void 0===this.observers[Te]||(delete this.observers[Te],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Te){if(!this.finalized)for(let De=0;De<this.observers.length;De++)this.sendOne(De,Te)}sendOne(Te,De){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Te])try{De(this.observers[Te])}catch(Ae){typeof console<"u"&&console.error&&console.error(Ae)}})}close(Te){this.finalized||(this.finalized=!0,void 0!==Te&&(this.finalError=Te),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ot(){}function rt(Ee,Te=1e3,De=2){const Ae=Te*Math.pow(De,Ee),ke=Math.round(.5*Ae*(Math.random()-.5)*2);return Math.min(144e5,Ae+ke)}function Ke(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}},6023:(Ie,x,R)=>{"use strict";var s=R(4650);let te=null;function O(){return te}const B=new s.OlP("DocumentToken");let ce=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return function he(){return(0,s.LFG)(Y)}()},providedIn:"platform"}),n})();const ee=new s.OlP("Location Initialized");let Y=(()=>{class n extends ce{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",e,!1),()=>i.removeEventListener("popstate",e)}onHashChange(e){const i=O().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",e,!1),()=>i.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,i,r){se()?this._history.pushState(e,i,r):this.location.hash=r}replaceState(e,i,r){se()?this._history.replaceState(e,i,r):this.location.hash=r}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function $(){return new Y((0,s.LFG)(B))}()},providedIn:"platform"}),n})();function se(){return!!window.history.pushState}function ae(n,t){if(0==n.length)return t;if(0==t.length)return n;let e=0;return n.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?n+t.substring(1):1==e?n+t:n+"/"+t}function q(n){const t=n.match(/#|\?|$/),e=t&&t.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function fe(n){return n&&"?"!==n[0]?"?"+n:n}let z=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(E)},providedIn:"root"}),n})();const K=new s.OlP("appBaseHref");let E=(()=>{class n extends z{constructor(e,i){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??(0,s.f3M)(B).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ae(this._baseHref,e)}path(e=!1){const i=this._platformLocation.pathname+fe(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${i}${r}`:i}pushState(e,i,r,a){const u=this.prepareExternalUrl(r+fe(a));this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,a){const u=this.prepareExternalUrl(r+fe(a));this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ce),s.LFG(K,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),A=(()=>{class n extends z{constructor(e,i){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(e){const i=ae(this._baseHref,e);return i.length>0?"#"+i:i}pushState(e,i,r,a){let u=this.prepareExternalUrl(r+fe(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(e,i,u)}replaceState(e,i,r,a){let u=this.prepareExternalUrl(r+fe(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(e,i,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ce),s.LFG(K,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),F=(()=>{class n{constructor(e){this._subject=new s.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const i=this._locationStrategy.getBaseHref();this._baseHref=q(J(i)),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,i=""){return this.path()==this.normalize(e+fe(i))}normalize(e){return n.stripTrailingSlash(function N(n,t){return n&&t.startsWith(n)?t.substring(n.length):t}(this._baseHref,J(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,i="",r=null){this._locationStrategy.pushState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fe(i)),r)}replaceState(e,i="",r=null){this._locationStrategy.replaceState(r,"",e,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+fe(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",i){this._urlChangeListeners.forEach(r=>r(e,i))}subscribe(e,i,r){return this._subject.subscribe({next:e,error:i,complete:r})}}return n.normalizeQueryParams=fe,n.joinWithSlash=ae,n.stripTrailingSlash=q,n.\u0275fac=function(e){return new(e||n)(s.LFG(z))},n.\u0275prov=s.Yz7({token:n,factory:function(){return function X(){return new F((0,s.LFG)(z))}()},providedIn:"root"}),n})();function J(n){return n.replace(/\/index.html$/,"")}function Fn(n,t){t=encodeURIComponent(t);for(const e of n.split(";")){const i=e.indexOf("="),[r,a]=-1==i?[e,""]:[e.slice(0,i),e.slice(i+1)];if(r.trim()===t)return decodeURIComponent(a)}return null}let Ha=(()=>{class n{constructor(e,i,r,a){this._iterableDiffers=e,this._keyValueDiffers=i,this._ngEl=r,this._renderer=a,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,s.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachChangedItem(i=>this._toggleClass(i.key,i.currentValue)),e.forEachRemovedItem(i=>{i.previousValue&&this._toggleClass(i.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(i=>{if("string"!=typeof i.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,s.AaK)(i.item)}`);this._toggleClass(i.item,!0)}),e.forEachRemovedItem(i=>this._toggleClass(i.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!0)):Object.keys(e).forEach(i=>this._toggleClass(i,!!e[i])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(i=>this._toggleClass(i,!1)):Object.keys(e).forEach(i=>this._toggleClass(i,!1)))}_toggleClass(e,i){(e=e.trim())&&e.split(/\s+/g).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.ZZ4),s.Y36(s.aQg),s.Y36(s.SBq),s.Y36(s.Qsj))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class yo{constructor(t,e,i,r){this.$implicit=t,this.ngForOf=e,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vo=(()=>{class n{constructor(e,i,r){this._viewContainer=e,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const i=this._viewContainer;e.forEachOperation((r,a,u)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new yo(r.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)i.remove(null===a?void 0:a);else if(null!==a){const h=i.get(a);i.move(h,u),Ur(h,r)}});for(let r=0,a=i.length;r<a;r++){const h=i.get(r).context;h.index=r,h.count=a,h.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{Ur(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(s.ZZ4))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Ur(n,t){n.context.$implicit=t.item}let bo=(()=>{class n{constructor(e,i){this._viewContainer=e,this._context=new Bi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ir("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ir("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,i){return!0}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Bi{constructor(){this.$implicit=null,this.ngIf=null}}function ir(n,t){if(t&&!t.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,s.AaK)(t)}'.`)}class na{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let ia=(()=>{class n{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const i=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let i=0;i<this._defaultViews.length;i++)this._defaultViews[i].enforceState(e)}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),n})(),ra=(()=>{class n{constructor(e,i,r){this.ngSwitch=r,r._addCase(),this._view=new na(e,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(s.Rgc),s.Y36(ia,9))},n.\u0275dir=s.lG2({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),n})();class ed{createSubscription(t,e){return t.subscribe({next:e,error:i=>{throw i}})}dispose(t){t.unsubscribe()}}class Op{createSubscription(t,e){return t.then(e,i=>{throw i})}dispose(t){}}const ws=new Op,Fp=new ed;let Hc=(()=>{class n{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,i=>this._updateLatestValue(e,i))}_selectStrategy(e){if((0,s.QGY)(e))return ws;if((0,s.F4k)(e))return Fp;throw function Ai(n,t){return new s.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,i){e===this._obj&&(this._latestValue=i,this._ref.markForCheck())}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO,16))},n.\u0275pipe=s.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),Xi=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const wo="browser";function rr(n){return"server"===n}let $c=(()=>{class n{}return n.\u0275prov=(0,s.Yz7)({token:n,providedIn:"root",factory:()=>new qa((0,s.LFG)(B),window)}),n})();class qa{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function Wc(n,t){const e=n.getElementById(t)||n.getElementsByName(t)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const a=r.shadowRoot;if(a){const u=a.getElementById(t)||a.querySelector(`[name="${t}"]`);if(u)return u}r=i.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),i=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(i-a[0],r-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=gi(this.window.history)||gi(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function gi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class os{}class Ds extends class Fi extends class re{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function ie(n){te||(te=n)}(new Ds)}onAndCancel(t,e,i){return t.addEventListener(e,i,!1),()=>{t.removeEventListener(e,i,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=function rd(){return Hr=Hr||document.querySelector("base"),Hr?Hr.getAttribute("href"):null}();return null==e?null:function Ya(n){Ji=Ji||document.createElement("a"),Ji.setAttribute("href",n);const t=Ji.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){Hr=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Fn(document.cookie,t)}}let Ji,Hr=null;const aa=new s.OlP("TRANSITION_ID"),Hl=[{provide:s.ip1,useFactory:function jt(n,t,e){return()=>{e.get(s.CZH).donePromise.then(()=>{const i=O(),r=t.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<r.length;a++)i.remove(r[a])})}},deps:[aa,B,s.zs3],multi:!0}];let Yc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Co=new s.OlP("EventManagerPlugins");let Do=(()=>{class n{constructor(e,i){this._zone=i,this._eventNameToPlugin=new Map,e.forEach(r=>r.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,i,r){return this._findPluginFor(i).addEventListener(e,i,r)}addGlobalEventListener(e,i,r){return this._findPluginFor(i).addGlobalEventListener(e,i,r)}getZone(){return this._zone}_findPluginFor(e){const i=this._eventNameToPlugin.get(e);if(i)return i;const r=this._plugins;for(let a=0;a<r.length;a++){const u=r[a];if(u.supports(e))return this._eventNameToPlugin.set(e,u),u}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Co),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ka{constructor(t){this._doc=t}addGlobalEventListener(t,e,i){const r=O().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,i)}}let la=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const i=new Set;e.forEach(r=>{this._stylesSet.has(r)||(this._stylesSet.add(r),i.add(r))}),this.onStylesAdded(i)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Eo=(()=>{class n extends la{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,i,r){e.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,r.push(i.appendChild(u))})}addHost(e){const i=[];this._addStylesToHost(this._stylesSet,e,i),this._hostNodes.set(e,i)}removeHost(e){const i=this._hostNodes.get(e);i&&i.forEach(mt),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((i,r)=>{this._addStylesToHost(e,r,i)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(mt))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function mt(n){O().remove(n)}const Cn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ca=/%COMP%/g;function Es(n,t,e){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?Es(n,r,e):(r=r.replace(ca,n),e.push(r))}return e}function Gl(n){return t=>{if("__ngUnwrap__"===t)return n;!1===n(t)&&(t.preventDefault(),t.returnValue=!1)}}let Xa=(()=>{class n{constructor(e,i,r){this.eventManager=e,this.sharedStylesHost=i,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Ks(e)}createRenderer(e,i){if(!e||!i)return this.defaultRenderer;switch(i.encapsulation){case s.ifc.Emulated:{let r=this.rendererByCompId.get(i.id);return r||(r=new da(this.eventManager,this.sharedStylesHost,i,this.appId),this.rendererByCompId.set(i.id,r)),r.applyToHost(e),r}case 1:case s.ifc.ShadowDom:return new Gr(this.eventManager,this.sharedStylesHost,e,i);default:if(!this.rendererByCompId.has(i.id)){const r=Es(i.id,i.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(i.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Do),s.LFG(Eo),s.LFG(s.AFp))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Ks{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,e){return e?document.createElementNS(Cn[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){(Kc(t)?t.content:t).appendChild(e)}insertBefore(t,e,i){t&&(Kc(t)?t.content:t).insertBefore(e,i)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let i="string"==typeof t?document.querySelector(t):t;if(!i)throw new Error(`The selector "${t}" did not match any elements`);return e||(i.textContent=""),i}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,i,r){if(r){e=r+":"+e;const a=Cn[r];a?t.setAttributeNS(a,e,i):t.setAttribute(e,i)}else t.setAttribute(e,i)}removeAttribute(t,e,i){if(i){const r=Cn[i];r?t.removeAttributeNS(r,e):t.removeAttribute(`${i}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,i,r){r&(s.JOm.DashCase|s.JOm.Important)?t.style.setProperty(e,i,r&s.JOm.Important?"important":""):t.style[e]=i}removeStyle(t,e,i){i&s.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,i){t[e]=i}setValue(t,e){t.nodeValue=e}listen(t,e,i){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,Gl(i)):this.eventManager.addEventListener(t,e,Gl(i))}}function Kc(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class da extends Ks{constructor(t,e,i,r){super(t),this.component=i;const a=Es(r+"-"+i.id,i.styles,[]);e.addStyles(a),this.contentAttr=function _r(n){return"_ngcontent-%COMP%".replace(ca,n)}(r+"-"+i.id),this.hostAttr=function Qa(n){return"_nghost-%COMP%".replace(ca,n)}(r+"-"+i.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const i=super.createElement(t,e);return super.setAttribute(i,this.contentAttr,""),i}}class Gr extends Ks{constructor(t,e,i,r){super(t),this.sharedStylesHost=e,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Es(r.id,r.styles,[]);for(let u=0;u<a.length;u++){const h=document.createElement("style");h.textContent=a[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,i){return super.insertBefore(this.nodeOrShadowRoot(t),e,i)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let od=(()=>{class n extends Ka{constructor(e){super(e)}supports(e){return!0}addEventListener(e,i,r){return e.addEventListener(i,r,!1),()=>this.removeEventListener(e,i,r)}removeEventListener(e,i,r){return e.removeEventListener(i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Zc=["alt","control","meta","shift"],Ch={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},So={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},el={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let zl=(()=>{class n extends Ka{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,i,r){const a=n.parseEventName(i),u=n.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(e,a.domEventName,u))}static parseEventName(e){const i=e.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const a=n._normalizeKey(i.pop());let u="";if(Zc.forEach(_=>{const w=i.indexOf(_);w>-1&&(i.splice(w,1),u+=_+".")}),u+=a,0!=i.length||0===a.length)return null;const h={};return h.domEventName=r,h.fullKey=u,h}static getEventFullKey(e){let i="",r=function tl(n){let t=n.key;if(null==t){if(t=n.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===n.location&&So.hasOwnProperty(t)&&(t=So[t]))}return Ch[t]||t}(e);return r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Zc.forEach(a=>{a!=r&&(0,el[a])(e)&&(i+=a+".")}),i+=r,i}static eventCallback(e,i,r){return a=>{n.getEventFullKey(a)===e&&r.runGuarded(()=>i(a))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Xc=(0,s.eFA)(s._c5,"browser",[{provide:s.Lbi,useValue:wo},{provide:s.g9A,useValue:function $l(){Ds.makeCurrent()},multi:!0},{provide:B,useFactory:function ql(){return(0,s.RDi)(document),document},deps:[]}]),Yl=new s.OlP(""),Kl=[{provide:s.rWj,useClass:class qc{addToWindow(t){s.dqk.getAngularTestability=(i,r=!0)=>{const a=t.findTestabilityInTree(i,r);if(null==a)throw new Error("Could not find testability for element.");return a},s.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),s.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),s.dqk.frameworkStabilizers||(s.dqk.frameworkStabilizers=[]),s.dqk.frameworkStabilizers.push(i=>{const r=s.dqk.getAllAngularTestabilities();let a=r.length,u=!1;const h=function(_){u=u||_,a--,0==a&&i(u)};r.forEach(function(_){_.whenStable(h)})})}findTestabilityInTree(t,e,i){return null==e?null:t.getTestability(e)??(i?O().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null)}},deps:[]},{provide:s.lri,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]},{provide:s.dDg,useClass:s.dDg,deps:[s.R0b,s.eoX,s.rWj]}],vi=[{provide:s.zSh,useValue:"root"},{provide:s.qLn,useFactory:function Wl(){return new s.qLn},deps:[]},{provide:Co,useClass:od,multi:!0,deps:[B,s.R0b,s.Lbi]},{provide:Co,useClass:zl,multi:!0,deps:[B]},{provide:Xa,useClass:Xa,deps:[Do,Eo,s.AFp]},{provide:s.FYo,useExisting:Xa},{provide:la,useExisting:Eo},{provide:Eo,useClass:Eo,deps:[B]},{provide:Do,useClass:Do,deps:[Co,s.R0b]},{provide:os,useClass:Yc,deps:[]},[]];let As=(()=>{class n{constructor(e){}static withServerTransition(e){return{ngModule:n,providers:[{provide:s.AFp,useValue:e.appId},{provide:aa,useExisting:s.AFp},Hl]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Yl,12))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[...vi,...Kl],imports:[Xi,s.hGG]}),n})(),ad=(()=>{class n{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function eu(){return new ad((0,s.LFG)(B))}(),i},providedIn:"root"}),n})();typeof window<"u"&&window;let $r=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new(e||n):s.LFG(vr),i},providedIn:"root"}),n})(),vr=(()=>{class n extends $r{constructor(e){super(),this._doc=e}sanitize(e,i){if(null==i)return null;switch(e){case s.q3G.NONE:return i;case s.q3G.HTML:return(0,s.qzn)(i,"HTML")?(0,s.z3N)(i):(0,s.EiD)(this._doc,String(i)).toString();case s.q3G.STYLE:return(0,s.qzn)(i,"Style")?(0,s.z3N)(i):i;case s.q3G.SCRIPT:if((0,s.qzn)(i,"Script"))return(0,s.z3N)(i);throw new Error("unsafe value used in a script context");case s.q3G.URL:return(0,s.qzn)(i,"URL")?(0,s.z3N)(i):(0,s.mCW)(String(i));case s.q3G.RESOURCE_URL:if((0,s.qzn)(i,"ResourceURL"))return(0,s.z3N)(i);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,s.JVY)(e)}bypassSecurityTrustStyle(e){return(0,s.L6k)(e)}bypassSecurityTrustScript(e){return(0,s.eBb)(e)}bypassSecurityTrustUrl(e){return(0,s.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,s.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:function(e){let i=null;return i=e?new e:function ud(n){return new vr(n.get(B))}(s.LFG(s.zs3)),i},providedIn:"root"}),n})();var Vn=R(8996),Wr=R(3269);function Nt(...n){const t=(0,Wr.yG)(n);return(0,Vn.D)(n,t)}var _t=R(7579);class sr extends _t.x{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return!e.closed&&t.next(this._value),e}getValue(){const{hasError:t,thrownError:e,_value:i}=this;if(t)throw e;return this._throwIfClosed(),i}next(t){super.next(this._value=t)}}var qn=R(9751);const{isArray:al}=Array,{getPrototypeOf:ll,prototype:Ql,keys:Xl}=Object;function cl(n){if(1===n.length){const t=n[0];if(al(t))return{args:t,keys:null};if(function dd(n){return n&&"object"==typeof n&&ll(n)===Ql}(t)){const e=Xl(t);return{args:e.map(i=>t[i]),keys:e}}}return{args:n,keys:null}}var qr=R(4671),zt=R(4004);const{isArray:Qs}=Array;function Xs(n){return(0,zt.U)(t=>function Jl(n,t){return Qs(t)?n(...t):n(t)}(n,t))}function Js(n,t){return n.reduce((e,i,r)=>(e[i]=t[r],e),{})}var Kn=R(5403),ec=R(9672);function ma(...n){const t=(0,Wr.yG)(n),e=(0,Wr.jO)(n),{args:i,keys:r}=cl(n);if(0===i.length)return(0,Vn.D)([],t);const a=new qn.y(function as(n,t,e=qr.y){return i=>{tc(t,()=>{const{length:r}=n,a=new Array(r);let u=r,h=r;for(let _=0;_<r;_++)tc(t,()=>{const w=(0,Vn.D)(n[_],t);let M=!1;w.subscribe((0,Kn.x)(i,j=>{a[_]=j,M||(M=!0,h--),h||i.next(e(a.slice()))},()=>{--u||i.complete()}))},i)},i)}}(i,t,r?u=>Js(r,u):qr.y));return e?a.pipe(Xs(e)):a}function tc(n,t,e){n?(0,ec.f)(e,n,t):t()}var Mo=R(8189);function ga(...n){return function iu(){return(0,Mo.J)(1)}()((0,Vn.D)(n,(0,Wr.yG)(n)))}var pr=R(8421);function eo(n){return new qn.y(t=>{(0,pr.Xf)(n()).subscribe(t)})}var _a=R(9635),Xn=R(576);function or(n,t){const e=(0,Xn.m)(n)?n:()=>n,i=r=>r.error(e());return new qn.y(t?r=>t.schedule(i,0,r):i)}const br=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ji=R(515),Zn=R(727),Hn=R(4482);function xn(){return(0,Hn.e)((n,t)=>{let e=null;n._refCount++;const i=(0,Kn.x)(t,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const r=n._connection,a=e;e=null,r&&(!a||r===a)&&r.unsubscribe(),t.unsubscribe()});n.subscribe(i),i.closed||(e=n.connect())})}class zp extends qn.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Hn.A)(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new Zn.w0;const e=this.getSubject();t.add(this.source.subscribe((0,Kn.x)(e,void 0,()=>{this._teardown(),e.complete()},i=>{this._teardown(),e.error(i)},()=>this._teardown()))),t.closed&&(this._connection=null,t=Zn.w0.EMPTY)}return t}refCount(){return xn()(this)}}function oi(n,t){return(0,Hn.e)((e,i)=>{let r=null,a=0,u=!1;const h=()=>u&&!r&&i.complete();e.subscribe((0,Kn.x)(i,_=>{r?.unsubscribe();let w=0;const M=a++;(0,pr.Xf)(n(_,M)).subscribe(r=(0,Kn.x)(i,j=>i.next(t?t(_,j,M,w++):j),()=>{r=null,h()}))},()=>{u=!0,h()}))})}function Jn(n){return n<=0?()=>ji.E:(0,Hn.e)((t,e)=>{let i=0;t.subscribe((0,Kn.x)(e,r=>{++i<=n&&(e.next(r),n<=i&&e.complete())}))})}function hi(...n){const t=(0,Wr.yG)(n);return(0,Hn.e)((e,i)=>{(t?ga(n,e,t):ga(n,e)).subscribe(i)})}function ei(n,t){return(0,Hn.e)((e,i)=>{let r=0;e.subscribe((0,Kn.x)(i,a=>n.call(t,a,r++)&&i.next(a)))})}var Hi=R(5577);function ul(n){return(0,Hn.e)((t,e)=>{let i=!1;t.subscribe((0,Kn.x)(e,r=>{i=!0,e.next(r)},()=>{i||e.next(n),e.complete()}))})}function dl(n=b_){return(0,Hn.e)((t,e)=>{let i=!1;t.subscribe((0,Kn.x)(e,r=>{i=!0,e.next(r)},()=>i?e.complete():e.error(n())))})}function b_(){return new br}function to(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ei((r,a)=>n(r,a,i)):qr.y,Jn(1),e?ul(t):dl(()=>new br))}function Yn(n,t){return(0,Xn.m)(t)?(0,Hi.z)(n,t,1):(0,Hi.z)(n,1)}var ai=R(8505);function mr(n){return(0,Hn.e)((t,e)=>{let a,i=null,r=!1;i=t.subscribe((0,Kn.x)(e,void 0,void 0,u=>{a=(0,pr.Xf)(n(u,mr(n)(t))),i?(i.unsubscribe(),i=null,a.subscribe(e)):r=!0})),r&&(i.unsubscribe(),i=null,a.subscribe(e))})}function Ph(n,t,e,i,r){return(a,u)=>{let h=e,_=t,w=0;a.subscribe((0,Kn.x)(u,M=>{const j=w++;_=h?n(_,M,j):(h=!0,M),i&&u.next(_)},r&&(()=>{h&&u.next(_),u.complete()})))}}function ya(n,t){return(0,Hn.e)(Ph(n,t,arguments.length>=2,!0))}function Si(n){return n<=0?()=>ji.E:(0,Hn.e)((t,e)=>{let i=[];t.subscribe((0,Kn.x)(e,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)e.next(r);e.complete()},void 0,()=>{i=null}))})}function ls(n,t){const e=arguments.length>=2;return i=>i.pipe(n?ei((r,a)=>n(r,a,i)):qr.y,Si(1),e?ul(t):dl(()=>new br))}function hl(n){return(0,zt.U)(()=>n)}function cs(n){return(0,Hn.e)((t,e)=>{try{t.subscribe(e)}finally{e.add(n)}})}const pn="primary";class su{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function fl(n){return new su(n)}function hd(n,t,e){const i=e.path.split("/");if(i.length>n.length||"full"===e.pathMatch&&(t.hasChildren()||i.length<n.length))return null;const r={};for(let a=0;a<i.length;a++){const u=i[a],h=n[a];if(u.startsWith(":"))r[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Li(n,t){const e=n?Object.keys(n):void 0,i=t?Object.keys(t):void 0;if(!e||!i||e.length!=i.length)return!1;let r;for(let a=0;a<e.length;a++)if(r=e[a],!Gi(n[r],t[r]))return!1;return!0}function Gi(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;const e=[...n].sort(),i=[...t].sort();return e.every((r,a)=>i[a]===r)}return n===t}function rc(n){return Array.prototype.concat.apply([],n)}function Ts(n){return n.length>0?n[n.length-1]:null}function li(n,t){for(const e in n)n.hasOwnProperty(e)&&t(n[e],e)}function wr(n){return(0,s.CqO)(n)?n:(0,s.QGY)(n)?(0,Vn.D)(Promise.resolve(n)):Nt(n)}const ml={exact:function Io(n,t,e){if(!ds(n.segments,t.segments)||!Po(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(const i in t.children)if(!n.children[i]||!Io(n.children[i],t.children[i],e))return!1;return!0},subset:Yr},Rh={exact:function fd(n,t){return Li(n,t)},subset:function pd(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>Gi(n[e],t[e]))},ignored:()=>!0};function au(n,t,e){return ml[e.paths](n.root,t.root,e.matrixParams)&&Rh[e.queryParams](n.queryParams,t.queryParams)&&!("exact"===e.fragment&&n.fragment!==t.fragment)}function Yr(n,t,e){return xs(n,t,t.segments,e)}function xs(n,t,e,i){if(n.segments.length>e.length){const r=n.segments.slice(0,e.length);return!(!ds(r,e)||t.hasChildren()||!Po(r,e,i))}if(n.segments.length===e.length){if(!ds(n.segments,e)||!Po(n.segments,e,i))return!1;for(const r in t.children)if(!n.children[r]||!Yr(n.children[r],t.children[r],i))return!1;return!0}{const r=e.slice(0,n.segments.length),a=e.slice(n.segments.length);return!!(ds(n.segments,r)&&Po(n.segments,r,i)&&n.children[pn])&&xs(n.children[pn],t,a,i)}}function Po(n,t,e){return t.every((i,r)=>Rh[e](n[r].parameters,i.parameters))}class ko{constructor(t,e,i){this.root=t,this.queryParams=e,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fl(this.queryParams)),this._queryParamMap}toString(){return md.serialize(this)}}class dn{constructor(t,e){this.segments=t,this.children=e,this.parent=null,li(e,(i,r)=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return oc(this)}}class Ro{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=fl(this.parameters)),this._parameterMap}toString(){return kt(this)}}function ds(n,t){return n.length===t.length&&n.every((e,i)=>e.path===t[i].path)}class sc{}class ci{parse(t){const e=new Cr(t);return new ko(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){const e=`/${k(t.root,!0)}`,i=function fn(n){const t=Object.keys(n).map(e=>{const i=n[e];return Array.isArray(i)?i.map(r=>`${ue(e)}=${ue(r)}`).join("&"):`${ue(e)}=${ue(i)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${e}${i}${"string"==typeof t.fragment?`#${function Oe(n){return encodeURI(n)}(t.fragment)}`:""}`}}const md=new ci;function oc(n){return n.segments.map(t=>kt(t)).join("/")}function k(n,t){if(!n.hasChildren())return oc(n);if(t){const e=n.children[pn]?k(n.children[pn],!1):"",i=[];return li(n.children,(r,a)=>{a!==pn&&i.push(`${a}:${k(r,!1)}`)}),i.length>0?`${e}(${i.join("//")})`:e}{const e=function Oo(n,t){let e=[];return li(n.children,(i,r)=>{r===pn&&(e=e.concat(t(i,r)))}),li(n.children,(i,r)=>{r!==pn&&(e=e.concat(t(i,r)))}),e}(n,(i,r)=>r===pn?[k(n.children[pn],!1)]:[`${r}:${k(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[pn]?`${oc(n)}/${e[0]}`:`${oc(n)}/(${e.join("//")})`}}function V(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ue(n){return V(n).replace(/%3B/gi,";")}function ze(n){return V(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Je(n){return decodeURIComponent(n)}function pt(n){return Je(n.replace(/\+/g,"%20"))}function kt(n){return`${ze(n.path)}${function Kt(n){return Object.keys(n).map(t=>`;${ze(t)}=${ze(n[t])}`).join("")}(n.parameters)}`}const yn=/^[^\/()?;=#]+/;function Wt(n){const t=n.match(yn);return t?t[0]:""}const fi=/^[^=?&#]+/,gl=/^[^&#]+/;class Cr{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new dn([],{}):new dn([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(i[pn]=new dn(t,e)),i}parseSegment(){const t=Wt(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new s.vHH(4009,!1);return this.capture(t),new Ro(Je(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Wt(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const r=Wt(this.remaining);r&&(i=r,this.capture(i))}t[Je(e)]=Je(i)}parseQueryParam(t){const e=function ar(n){const t=n.match(fi);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let i="";if(this.consumeOptional("=")){const u=function va(n){const t=n.match(gl);return t?t[0]:""}(this.remaining);u&&(i=u,this.capture(i))}const r=pt(e),a=pt(i);if(t.hasOwnProperty(r)){let u=t[r];Array.isArray(u)||(u=[u],t[r]=u),u.push(a)}else t[r]=a}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=Wt(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new s.vHH(4010,!1);let a;i.indexOf(":")>-1?(a=i.slice(0,i.indexOf(":")),this.capture(a),this.capture(":")):t&&(a=pn);const u=this.parseChildren();e[a]=1===Object.keys(u).length?u[pn]:new dn([],u),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new s.vHH(4011,!1)}}function Fo(n){return n.segments.length>0?new dn([],{[pn]:n}):n}function Lo(n){const t={};for(const i of Object.keys(n.children)){const a=Lo(n.children[i]);(a.segments.length>0||a.hasChildren())&&(t[i]=a)}return function ba(n){if(1===n.numberOfChildren&&n.children[pn]){const t=n.children[pn];return new dn(n.segments.concat(t.segments),t.children)}return n}(new dn(n.segments,t))}function lr(n){return n instanceof ko}function C_(n,t,e,i,r){if(0===e.length)return Vo(t.root,t.root,t.root,i,r);const a=function Lh(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new D_(!0,0,n);let t=0,e=!1;const i=n.reduce((r,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return li(a.outlets,(_,w)=>{h[w]="string"==typeof _?_.split("/"):_}),[...r,{outlets:h}]}if(a.segmentPath)return[...r,a.segmentPath]}return"string"!=typeof a?[...r,a]:0===u?(a.split("/").forEach((h,_)=>{0==_&&"."===h||(0==_&&""===h?e=!0:".."===h?t++:""!=h&&r.push(h))}),r):[...r,a]},[]);return new D_(e,t,i)}(e);return a.toRoot()?Vo(t.root,t.root,new dn([],{}),i,r):function u(_){const w=function E_(n,t,e,i){if(n.isAbsolute)return new lu(t.root,!0,0);if(-1===i)return new lu(e,e===t.root,0);return function Vh(n,t,e){let i=n,r=t,a=e;for(;a>r;){if(a-=r,i=i.parent,!i)throw new s.vHH(4005,!1);r=i.segments.length}return new lu(i,!1,r-a)}(e,i+(No(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,t,n.snapshot?._urlSegment,_),M=w.processChildren?io(w.segmentGroup,w.index,a.commands):_l(w.segmentGroup,w.index,a.commands);return Vo(t.root,w.segmentGroup,M,i,r)}(n.snapshot?._lastPathIndex)}function No(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ac(n){return"object"==typeof n&&null!=n&&n.outlets}function Vo(n,t,e,i,r){let u,a={};i&&li(i,(_,w)=>{a[w]=Array.isArray(_)?_.map(M=>`${M}`):`${_}`}),u=n===t?e:Fh(n,t,e);const h=Fo(Lo(u));return new ko(h,a,r)}function Fh(n,t,e){const i={};return li(n.children,(r,a)=>{i[a]=r===t?e:Fh(r,t,e)}),new dn(n.segments,i)}class D_{constructor(t,e,i){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=i,t&&i.length>0&&No(i[0]))throw new s.vHH(4003,!1);const r=i.find(ac);if(r&&r!==Ts(i))throw new s.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lu{constructor(t,e,i){this.segmentGroup=t,this.processChildren=e,this.index=i}}function _l(n,t,e){if(n||(n=new dn([],{})),0===n.segments.length&&n.hasChildren())return io(n,t,e);const i=function A_(n,t,e){let i=0,r=t;const a={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=e.length)return a;const u=n.segments[r],h=e[i];if(ac(h))break;const _=`${h}`,w=i<e.length-1?e[i+1]:null;if(r>0&&void 0===_)break;if(_&&w&&"object"==typeof w&&void 0===w.outlets){if(!uu(_,w,u))return a;i+=2}else{if(!uu(_,{},u))return a;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,t,e),r=e.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const a=new dn(n.segments.slice(0,i.pathIndex),{});return a.children[pn]=new dn(n.segments.slice(i.pathIndex),n.children),io(a,0,r)}return i.match&&0===r.length?new dn(n.segments,{}):i.match&&!n.hasChildren()?Bh(n,t,e):i.match?io(n,0,r):Bh(n,t,e)}function io(n,t,e){if(0===e.length)return new dn(n.segments,{});{const i=function gd(n){return ac(n[0])?n[0].outlets:{[pn]:n}}(e),r={};return li(i,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(r[u]=_l(n.children[u],t,a))}),li(n.children,(a,u)=>{void 0===i[u]&&(r[u]=a)}),new dn(n.segments,r)}}function Bh(n,t,e){const i=n.segments.slice(0,t);let r=0;for(;r<e.length;){const a=e[r];if(ac(a)){const _=d0(a.outlets);return new dn(i,_)}if(0===r&&No(e[0])){i.push(new Ro(n.segments[t].path,cu(e[0]))),r++;continue}const u=ac(a)?a.outlets[pn]:`${a}`,h=r<e.length-1?e[r+1]:null;u&&h&&No(h)?(i.push(new Ro(u,cu(h))),r+=2):(i.push(new Ro(u,{})),r++)}return new dn(i,{})}function d0(n){const t={};return li(n,(e,i)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[i]=Bh(new dn([],{}),0,e))}),t}function cu(n){const t={};return li(n,(e,i)=>t[i]=`${e}`),t}function uu(n,t,e){return n==e.path&&Li(t,e.parameters)}class ro{constructor(t,e){this.id=t,this.url=e}}class _d extends ro{constructor(t,e,i="imperative",r=null){super(t,e),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wa extends ro{constructor(t,e,i){super(t,e),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class so extends ro{constructor(t,e,i,r){super(t,e),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class yd extends ro{constructor(t,e,i,r){super(t,e),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class S_ extends ro{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Uh extends ro{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class T_ extends ro{constructor(t,e,i,r,a){super(t,e),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wp extends ro{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bo extends ro{constructor(t,e,i,r){super(t,e),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ca{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class x_{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class qp{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yp{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class M_{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class I_{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kp{constructor(t,e,i){this.routerEvent=t,this.position=e,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Da{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=jh(t,this._root);return e?e.children.map(i=>i.value):[]}firstChild(t){const e=jh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Hh(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Hh(t,this._root).map(e=>e.value)}}function jh(n,t){if(n===t.value)return t;for(const e of t.children){const i=jh(n,e);if(i)return i}return null}function Hh(n,t){if(n===t.value)return[t];for(const e of t.children){const i=Hh(n,e);if(i.length)return i.unshift(t),i}return[]}class Ms{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function du(n){const t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}class vd extends Da{constructor(t,e){super(t),this.snapshot=e,Xp(this,t)}toString(){return this.snapshot.toString()}}function lc(n,t){const e=function Zp(n,t){const u=new yl([],{},{},"",{},pn,t,null,n.root,-1,{});return new Gh("",new Ms(u,[]))}(n,t),i=new sr([new Ro("",{})]),r=new sr({}),a=new sr({}),u=new sr({}),h=new sr(""),_=new er(i,r,u,h,a,pn,t,e.root);return _.snapshot=e.root,new vd(new Ms(_,[]),e)}class er{constructor(t,e,i,r,a,u,h,_){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=h,this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,zt.U)(t=>fl(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,zt.U)(t=>fl(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function cc(n,t="emptyOnly"){const e=n.pathFromRoot;let i=0;if("always"!==t)for(i=e.length-1;i>=1;){const r=e[i],a=e[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(a.component)break;i--}}return function Qp(n){return n.reduce((t,e)=>({params:{...t.params,...e.params},data:{...t.data,...e.data},resolve:{...e.data,...t.resolve,...e.routeConfig?.data,...e._resolvedData}}),{params:{},data:{},resolve:{}})}(e.slice(i))}class yl{constructor(t,e,i,r,a,u,h,_,w,M,j,Ce){this.url=t,this.params=e,this.queryParams=i,this.fragment=r,this.data=a,this.outlet=u,this.component=h,this.routeConfig=_,this._urlSegment=w,this._lastPathIndex=M,this._correctedLastPathIndex=Ce??M,this._resolve=j}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Gh extends Da{constructor(t,e){super(e),this.url=t,Xp(this,e)}toString(){return k_(this._root)}}function Xp(n,t){t.value._routerState=n,t.children.forEach(e=>Xp(n,e))}function k_(n){const t=n.children.length>0?` { ${n.children.map(k_).join(", ")} } `:"";return`${n.value}${t}`}function Jp(n){if(n.snapshot){const t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Li(t.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),t.fragment!==e.fragment&&n.fragment.next(e.fragment),Li(t.params,e.params)||n.params.next(e.params),function ic(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!Li(n[e],t[e]))return!1;return!0}(t.url,e.url)||n.url.next(e.url),Li(t.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function hu(n,t){const e=Li(n.params,t.params)&&function us(n,t){return ds(n,t)&&n.every((e,i)=>Li(e.parameters,t[i].parameters))}(n.url,t.url);return e&&!(!n.parent!=!t.parent)&&(!n.parent||hu(n.parent,t.parent))}function Uo(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){const i=e.value;i._futureSnapshot=t.value;const r=function h0(n,t,e){return t.children.map(i=>{for(const r of e.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return Uo(n,i,r);return Uo(n,i)})}(n,t,e);return new Ms(i,r)}{if(n.shouldAttach(t.value)){const a=n.retrieve(t.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=t.value,u.children=t.children.map(h=>Uo(n,h)),u}}const i=function f0(n){return new er(new sr(n.url),new sr(n.params),new sr(n.queryParams),new sr(n.fragment),new sr(n.data),n.outlet,n.component,n)}(t.value),r=t.children.map(a=>Uo(n,a));return new Ms(i,r)}}const uc="ngNavigationCancelingError";function wd(n,t){const{redirectTo:e,navigationBehaviorOptions:i}=lr(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=em(!1,0,t);return r.url=e,r.navigationBehaviorOptions=i,r}function em(n,t,e){const i=new Error("NavigationCancelingError: "+(n||""));return i[uc]=!0,i.cancellationCode=t,e&&(i.url=e),i}function tm(n){return fu(n)&&lr(n.url)}function fu(n){return n&&n[uc]}class nm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ea,this.attachRef=null}}class Ea{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const i=this.getOrCreateContext(t);i.outlet=e,this.contexts.set(t,i)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new nm,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}const pu=!1;let dc=(()=>{class n{constructor(e,i,r,a,u){this.parentContexts=e,this.location=i,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new s.vpe,this.deactivateEvents=new s.vpe,this.attachEvents=new s.vpe,this.detachEvents=new s.vpe,this.name=r||pn,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new s.vHH(4012,pu);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new s.vHH(4012,pu);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new s.vHH(4012,pu);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,i){this.activated=e,this._activatedRoute=i,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,i){if(this.isActivated)throw new s.vHH(4013,pu);this._activatedRoute=e;const r=this.location,u=e._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,_=new R_(e,h,r.injector);if(i&&function wi(n){return!!n.resolveComponentFactory}(i)){const w=i.resolveComponentFactory(u);this.activated=r.createComponent(w,r.length,_)}else this.activated=r.createComponent(u,{index:r.length,injector:_,environmentInjector:i??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ea),s.Y36(s.s_b),s.$8M("name"),s.Y36(s.sBO),s.Y36(s.lqb))},n.\u0275dir=s.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class R_{constructor(t,e,i){this.route=t,this.childContexts=e,this.parent=i}get(t,e){return t===er?this.route:t===Ea?this.childContexts:this.parent.get(t,e)}}let im=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,i){1&e&&s._UZ(0,"router-outlet")},dependencies:[dc],encapsulation:2}),n})();function rm(n,t){return n.providers&&!n._injector&&(n._injector=(0,s.MMx)(n.providers,t,`Route: ${n.path}`)),n._injector??t}function Cd(n){const t=n.children&&n.children.map(Cd),e=t?{...n,children:t}:{...n};return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==pn&&(e.component=im),e}function zi(n){return n.outlet||pn}function mu(n,t){const e=n.filter(i=>zi(i)===t);return e.push(...n.filter(i=>zi(i)!==t)),e}function $h(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){const e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class sm{constructor(t,e,i,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=i,this.forwardEvent=r}activate(t){const e=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,i,t),Jp(this.futureState.root),this.activateChildRoutes(e,i,t)}deactivateChildRoutes(t,e,i){const r=du(e);t.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,r[u],i),delete r[u]}),li(r,(a,u)=>{this.deactivateRouteAndItsChildren(a,i)})}deactivateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(r===a)if(r.component){const u=i.getContext(r.outlet);u&&this.deactivateChildRoutes(t,e,u.children)}else this.deactivateChildRoutes(t,e,i);else a&&this.deactivateRouteAndItsChildren(e,i)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=du(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);if(i&&i.outlet){const u=i.outlet.detach(),h=i.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:u,route:t,contexts:h})}}deactivateRouteAndOutlet(t,e){const i=e.getContext(t.value.outlet),r=i&&t.value.component?i.children:e,a=du(t);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],r);i&&i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated(),i.attachRef=null,i.resolver=null,i.route=null)}activateChildRoutes(t,e,i){const r=du(e);t.children.forEach(a=>{this.activateRoutes(a,r[a.value.outlet],i),this.forwardEvent(new I_(a.value.snapshot))}),t.children.length&&this.forwardEvent(new Yp(t.value.snapshot))}activateRoutes(t,e,i){const r=t.value,a=e?e.value:null;if(Jp(r),r===a)if(r.component){const u=i.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,u.children)}else this.activateChildRoutes(t,e,i);else if(r.component){const u=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const h=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),Jp(h.route.value),this.activateChildRoutes(t,null,u.children)}else{const h=$h(r.snapshot),_=h?.get(s._Vd)??null;u.attachRef=null,u.route=r,u.resolver=_,u.injector=h,u.outlet&&u.outlet.activateWith(r,u.injector),this.activateChildRoutes(t,null,u.children)}}else this.activateChildRoutes(t,null,i)}}class Dr{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class jo{constructor(t,e){this.component=t,this.route=e}}function Wh(n,t,e){const i=n._root;return vl(i,t?t._root:null,e,[i.value])}function gu(n,t,e){return($h(t)??e).get(n)}function vl(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=du(t);return n.children.forEach(u=>{(function Yh(n,t,e,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=t?t.value:null,h=e?e.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const _=function Kh(n,t,e){if("function"==typeof e)return e(n,t);switch(e){case"pathParamsChange":return!ds(n.url,t.url);case"pathParamsOrQueryParamsChange":return!ds(n.url,t.url)||!Li(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hu(n,t)||!Li(n.queryParams,t.queryParams);default:return!hu(n,t)}}(u,a,a.routeConfig.runGuardsAndResolvers);_?r.canActivateChecks.push(new Dr(i)):(a.data=u.data,a._resolvedData=u._resolvedData),vl(n,t,a.component?h?h.children:null:e,i,r),_&&h&&h.outlet&&h.outlet.isActivated&&r.canDeactivateChecks.push(new jo(h.outlet.component,u))}else u&&fc(t,h,r),r.canActivateChecks.push(new Dr(i)),vl(n,null,a.component?h?h.children:null:e,i,r)})(u,a[u.value.outlet],e,i.concat([u.value]),r),delete a[u.value.outlet]}),li(a,(u,h)=>fc(u,e.getContext(h),r)),r}function fc(n,t,e){const i=du(n),r=n.value;li(i,(a,u)=>{fc(a,r.component?t?t.children.getContext(u):null:t,e)}),e.canDeactivateChecks.push(new jo(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}function $i(n){return"function"==typeof n}const pc=Symbol("INITIAL_VALUE");function Er(){return oi(n=>ma(n.map(t=>t.pipe(Jn(1),hi(pc)))).pipe((0,zt.U)(t=>{for(const e of t)if(!0!==e){if(e===pc)return pc;if(!1===e||e instanceof ko)return e}return!0}),ei(t=>t!==pc),Jn(1)))}function y(n){return(0,_a.z)((0,ai.b)(t=>{if(lr(t))throw wd(0,t)}),(0,zt.U)(t=>!0===t))}const g={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function C(n,t,e,i,r){const a=Z(n,t,e);return a.matched?function p(n,t,e,i){const r=t.canMatch;return r&&0!==r.length?Nt(r.map(u=>{const h=n.get(u),_=function tr(n){return n&&$i(n.canMatch)}(h)?h.canMatch(t,e):h(t,e);return wr(_)})).pipe(Er(),y()):Nt(!0)}(i=rm(t,i),t,e).pipe((0,zt.U)(u=>!0===u?a:{...g})):Nt(a)}function Z(n,t,e){if(""===t.path)return"full"===t.pathMatch&&(n.hasChildren()||e.length>0)?{...g}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(t.matcher||hd)(e,n,t);if(!r)return{...g};const a={};li(r.posParams,(h,_)=>{a[_]=h.path});const u=r.consumed.length>0?{...a,...r.consumed[r.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:u,positionalParamSegments:r.posParams??{}}}function _e(n,t,e,i,r="corrected"){if(e.length>0&&function Mt(n,t,e){return e.some(i=>an(n,t,i)&&zi(i)!==pn)}(n,e,i)){const u=new dn(t,function tt(n,t,e,i){const r={};r[pn]=i,i._sourceSegment=n,i._segmentIndexShift=t.length;for(const a of e)if(""===a.path&&zi(a)!==pn){const u=new dn([],{});u._sourceSegment=n,u._segmentIndexShift=t.length,r[zi(a)]=u}return r}(n,t,i,new dn(e,n.children)));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:[]}}if(0===e.length&&function Ut(n,t,e){return e.some(i=>an(n,t,i))}(n,e,i)){const u=new dn(n.segments,function Ge(n,t,e,i,r,a){const u={};for(const h of i)if(an(n,e,h)&&!r[zi(h)]){const _=new dn([],{});_._sourceSegment=n,_._segmentIndexShift="legacy"===a?n.segments.length:t.length,u[zi(h)]=_}return{...r,...u}}(n,t,e,i,n.children,r));return u._sourceSegment=n,u._segmentIndexShift=t.length,{segmentGroup:u,slicedSegments:e}}const a=new dn(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:e}}function an(n,t,e){return(!(n.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function en(n,t,e,i){return!!(zi(n)===i||i!==pn&&an(t,e,n))&&("**"===n.path||Z(t,n,e).matched)}function Ti(n,t,e){return 0===t.length&&!n.children[e]}const Ar=!1;class wl{constructor(t){this.segmentGroup=t||null}}class Td{constructor(t){this.urlTree=t}}function Sa(n){return or(new wl(n))}function yu(n){return or(new Td(n))}class z_{constructor(t,e,i,r,a){this.injector=t,this.configLoader=e,this.urlSerializer=i,this.urlTree=r,this.config=a,this.allowRedirects=!0}apply(){const t=_e(this.urlTree.root,[],[],this.config).segmentGroup,e=new dn(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,e,pn).pipe((0,zt.U)(a=>this.createUrlTree(Lo(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(mr(a=>{if(a instanceof Td)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof wl?this.noMatchError(a):a}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,pn).pipe((0,zt.U)(r=>this.createUrlTree(Lo(r),t.queryParams,t.fragment))).pipe(mr(r=>{throw r instanceof wl?this.noMatchError(r):r}))}noMatchError(t){return new s.vHH(4002,Ar)}createUrlTree(t,e,i){const r=Fo(t);return new ko(r,e,i)}expandSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.expandChildren(t,e,i).pipe((0,zt.U)(a=>new dn([],a))):this.expandSegment(t,i,e,i.segments,r,!0)}expandChildren(t,e,i){const r=[];for(const a of Object.keys(i.children))"primary"===a?r.unshift(a):r.push(a);return(0,Vn.D)(r).pipe(Yn(a=>{const u=i.children[a],h=mu(e,a);return this.expandSegmentGroup(t,h,u,a).pipe((0,zt.U)(_=>({segment:_,outlet:a})))}),ya((a,u)=>(a[u.outlet]=u.segment,a),{}),ls())}expandSegment(t,e,i,r,a,u){return(0,Vn.D)(i).pipe(Yn(h=>this.expandSegmentAgainstRoute(t,e,i,h,r,a,u).pipe(mr(w=>{if(w instanceof wl)return Nt(null);throw w}))),to(h=>!!h),mr((h,_)=>{if(h instanceof br||"EmptyError"===h.name)return Ti(e,r,a)?Nt(new dn([],{})):Sa(e);throw h}))}expandSegmentAgainstRoute(t,e,i,r,a,u,h){return en(r,e,a,u)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,a,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u):Sa(e):Sa(e)}expandSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,i,r,u):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,i,r){const a=this.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?yu(a):this.lineralizeSegments(i,a).pipe((0,Hi.z)(u=>{const h=new dn(u,{});return this.expandSegment(t,h,e,u,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,i,r,a,u){const{matched:h,consumedSegments:_,remainingSegments:w,positionalParamSegments:M}=Z(e,r,a);if(!h)return Sa(e);const j=this.applyRedirectCommands(_,r.redirectTo,M);return r.redirectTo.startsWith("/")?yu(j):this.lineralizeSegments(r,j).pipe((0,Hi.z)(Ce=>this.expandSegment(t,e,i,Ce.concat(w),u,!1)))}matchSegmentAgainstRoute(t,e,i,r,a){return"**"===i.path?(t=rm(i,t),i.loadChildren?(i._loadedRoutes?Nt({routes:i._loadedRoutes,injector:i._loadedInjector}):this.configLoader.loadChildren(t,i)).pipe((0,zt.U)(h=>(i._loadedRoutes=h.routes,i._loadedInjector=h.injector,new dn(r,{})))):Nt(new dn(r,{}))):C(e,i,r,t).pipe(oi(({matched:u,consumedSegments:h,remainingSegments:_})=>u?this.getChildConfig(t=i._injector??t,i,r).pipe((0,Hi.z)(M=>{const j=M.injector??t,Ce=M.routes,{segmentGroup:Me,slicedSegments:Le}=_e(e,h,_,Ce),$e=new dn(Me.segments,Me.children);if(0===Le.length&&$e.hasChildren())return this.expandChildren(j,Ce,$e).pipe((0,zt.U)(Qt=>new dn(h,Qt)));if(0===Ce.length&&0===Le.length)return Nt(new dn(h,{}));const st=zi(i)===a;return this.expandSegment(j,$e,Ce,Le,st?pn:a,!0).pipe((0,zt.U)(Bt=>new dn(h.concat(Bt.segments),Bt.children)))})):Sa(e)))}getChildConfig(t,e,i){return e.children?Nt({routes:e.children,injector:t}):e.loadChildren?void 0!==e._loadedRoutes?Nt({routes:e._loadedRoutes,injector:e._loadedInjector}):function G_(n,t,e,i){const r=t.canLoad;return void 0===r||0===r.length?Nt(!0):Nt(r.map(u=>{const h=n.get(u),_=function Zh(n){return n&&$i(n.canLoad)}(h)?h.canLoad(t,e):h(t,e);return wr(_)})).pipe(Er(),y())}(t,e,i).pipe((0,Hi.z)(r=>r?this.configLoader.loadChildren(t,e).pipe((0,ai.b)(a=>{e._loadedRoutes=a.routes,e._loadedInjector=a.injector})):function ef(n){return or(em(Ar,3))}())):Nt({routes:[],injector:t})}lineralizeSegments(t,e){let i=[],r=e.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Nt(i);if(r.numberOfChildren>1||!r.children[pn])return or(new s.vHH(4e3,Ar));r=r.children[pn]}}applyRedirectCommands(t,e,i){return this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,i)}applyRedirectCreateUrlTree(t,e,i,r){const a=this.createSegmentGroup(t,e.root,i,r);return new ko(a,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const i={};return li(t,(r,a)=>{if("string"==typeof r&&r.startsWith(":")){const h=r.substring(1);i[a]=e[h]}else i[a]=r}),i}createSegmentGroup(t,e,i,r){const a=this.createSegments(t,e.segments,i,r);let u={};return li(e.children,(h,_)=>{u[_]=this.createSegmentGroup(t,h,i,r)}),new dn(a,u)}createSegments(t,e,i,r){return e.map(a=>a.path.startsWith(":")?this.findPosParam(t,a,r):this.findOrReturn(a,i))}findPosParam(t,e,i){const r=i[e.path.substring(1)];if(!r)throw new s.vHH(4001,Ar);return r}findOrReturn(t,e){let i=0;for(const r of e){if(r.path===t.path)return e.splice(i),r;i++}return t}}class m0{}class mR{constructor(t,e,i,r,a,u,h,_){this.injector=t,this.rootComponentType=e,this.config=i,this.urlTree=r,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=_}recognize(){const t=_e(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,pn).pipe((0,zt.U)(e=>{if(null===e)return null;const i=new yl([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pn,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new Ms(i,e),a=new Gh(this.url,r);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(t){const e=t.value,i=cc(e,this.paramsInheritanceStrategy);e.params=Object.freeze(i.params),e.data=Object.freeze(i.data),t.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(t,e,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(t,e,i):this.processSegment(t,e,i,i.segments,r)}processChildren(t,e,i){return(0,Vn.D)(Object.keys(i.children)).pipe(Yn(r=>{const a=i.children[r],u=mu(e,r);return this.processSegmentGroup(t,u,a,r)}),ya((r,a)=>r&&a?(r.push(...a),r):null),function nc(n,t=!1){return(0,Hn.e)((e,i)=>{let r=0;e.subscribe((0,Kn.x)(i,a=>{const u=n(a,r++);(u||t)&&i.next(a),!u&&i.complete()}))})}(r=>null!==r),ul(null),ls(),(0,zt.U)(r=>{if(null===r)return null;const a=um(r);return function gR(n){n.sort((t,e)=>t.value.outlet===pn?-1:e.value.outlet===pn?1:t.value.outlet.localeCompare(e.value.outlet))}(a),a}))}processSegment(t,e,i,r,a){return(0,Vn.D)(e).pipe(Yn(u=>this.processSegmentAgainstRoute(u._injector??t,u,i,r,a)),to(u=>!!u),mr(u=>{if(u instanceof br)return Ti(i,r,a)?Nt([]):Nt(null);throw u}))}processSegmentAgainstRoute(t,e,i,r,a){if(e.redirectTo||!en(e,i,r,a))return Nt(null);let u;if("**"===e.path){const h=r.length>0?Ts(r).parameters:{},_=W_(i)+r.length;u=Nt({snapshot:new yl(r,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,v0(e),zi(e),e.component??e._loadedComponent??null,e,$_(i),_,hm(e),_),consumedSegments:[],remainingSegments:[]})}else u=C(i,e,r,t).pipe((0,zt.U)(({matched:h,consumedSegments:_,remainingSegments:w,parameters:M})=>{if(!h)return null;const j=W_(i)+_.length;return{snapshot:new yl(_,M,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,v0(e),zi(e),e.component??e._loadedComponent??null,e,$_(i),j,hm(e),j),consumedSegments:_,remainingSegments:w}}));return u.pipe(oi(h=>{if(null===h)return Nt(null);const{snapshot:_,consumedSegments:w,remainingSegments:M}=h;t=e._injector??t;const j=e._loadedInjector??t,Ce=function BA(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(e),{segmentGroup:Me,slicedSegments:Le}=_e(i,w,M,Ce.filter(st=>void 0===st.redirectTo),this.relativeLinkResolution);if(0===Le.length&&Me.hasChildren())return this.processChildren(j,Ce,Me).pipe((0,zt.U)(st=>null===st?null:[new Ms(_,st)]));if(0===Ce.length&&0===Le.length)return Nt([new Ms(_,[])]);const $e=zi(e)===a;return this.processSegment(j,Ce,Me,Le,$e?pn:a).pipe((0,zt.U)(st=>null===st?null:[new Ms(_,st)]))}))}}function _0(n){const t=n.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function um(n){const t=[],e=new Set;for(const i of n){if(!_0(i)){t.push(i);continue}const r=t.find(a=>i.value.routeConfig===a.value.routeConfig);void 0!==r?(r.children.push(...i.children),e.add(r)):t.push(i)}for(const i of e){const r=um(i.children);t.push(new Ms(i.value,r))}return t.filter(i=>!e.has(i))}function $_(n){let t=n;for(;t._sourceSegment;)t=t._sourceSegment;return t}function W_(n){let t=n,e=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift??0;return e-1}function v0(n){return n.data||{}}function hm(n){return n.resolve||{}}const q_=Symbol("RouteTitle");function w0(n){return"string"==typeof n.title||null===n.title}function Y_(n){return oi(t=>{const e=n(t);return e?(0,Vn.D)(e).pipe((0,zt.U)(()=>t)):Nt(t)})}let fm=(()=>{class n{buildTitle(e){let i,r=e.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(a=>a.outlet===pn);return i}getResolvedTitleForRoute(e){return e.data[q_]}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:function(){return(0,s.f3M)(C0)},providedIn:"root"}),n})(),C0=(()=>{class n extends fm{constructor(e){super(),this.title=e}updateTitle(e){const i=this.buildTitle(e);void 0!==i&&this.title.setTitle(i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ad))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zA{}class D0 extends class $A{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const K_=new s.OlP("",{providedIn:"root",factory:()=>({})}),nf=new s.OlP("ROUTES");let pm=(()=>{class n{constructor(e,i){this.injector=e,this.compiler=i,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return Nt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const i=wr(e.loadComponent()).pipe((0,ai.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=a}),cs(()=>{this.componentLoaders.delete(e)})),r=new zp(i,()=>new _t.x).pipe(xn());return this.componentLoaders.set(e,r),r}loadChildren(e,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Nt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const a=this.loadModuleFactoryOrRoutes(i.loadChildren).pipe((0,zt.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(i);let _,w,M=!1;Array.isArray(h)?w=h:(_=h.create(e).injector,w=rc(_.get(nf,[],s.XFs.Self|s.XFs.Optional)));return{routes:w.map(Cd),injector:_}}),cs(()=>{this.childrenLoaders.delete(i)})),u=new zp(a,()=>new _t.x).pipe(xn());return this.childrenLoaders.set(i,u),u}loadModuleFactoryOrRoutes(e){return wr(e()).pipe((0,Hi.z)(i=>i instanceof s.YKP||Array.isArray(i)?Nt(i):(0,Vn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.zs3),s.LFG(s.Sil))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class Z_{}class Tr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Q_(n){throw n}function qA(n,t,e){return t.parse("/")}const YA={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},E0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function X_(){const n=(0,s.f3M)(sc),t=(0,s.f3M)(Ea),e=(0,s.f3M)(F),i=(0,s.f3M)(s.zs3),r=(0,s.f3M)(s.Sil),a=(0,s.f3M)(nf,{optional:!0})??[],u=(0,s.f3M)(K_,{optional:!0})??{},h=(0,s.f3M)(C0),_=(0,s.f3M)(fm,{optional:!0}),w=(0,s.f3M)(Z_,{optional:!0}),M=(0,s.f3M)(zA,{optional:!0}),j=new Kr(null,n,t,e,i,r,rc(a));return w&&(j.urlHandlingStrategy=w),M&&(j.routeReuseStrategy=M),j.titleStrategy=_??h,function KA(n,t){n.errorHandler&&(t.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(t.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(t.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(t.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(t.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(t.canceledNavigationResolution=n.canceledNavigationResolution)}(u,j),j}let Kr=(()=>{class n{constructor(e,i,r,a,u,h,_){this.rootComponentType=e,this.urlSerializer=i,this.rootContexts=r,this.location=a,this.config=_,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new _t.x,this.errorHandler=Q_,this.malformedUriErrorHandler=qA,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>Nt(void 0),this.urlHandlingStrategy=new Tr,this.routeReuseStrategy=new D0,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(pm),this.configLoader.onLoadEndListener=Ce=>this.triggerEvent(new x_(Ce)),this.configLoader.onLoadStartListener=Ce=>this.triggerEvent(new Ca(Ce)),this.ngModule=u.get(s.h0i),this.console=u.get(s.c2e);const j=u.get(s.R0b);this.isNgZoneEnabled=j instanceof s.R0b&&s.R0b.isInAngularZone(),this.resetConfig(_),this.currentUrlTree=function ou(){return new ko(new dn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=lc(this.currentUrlTree,this.rootComponentType),this.transitions=new sr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(e){const i=this.events;return e.pipe(ei(r=>0!==r.id),(0,zt.U)(r=>({...r,extractedUrl:this.urlHandlingStrategy.extract(r.rawUrl)})),oi(r=>{let a=!1,u=!1;return Nt(r).pipe((0,ai.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),oi(h=>{const _=this.browserUrlTree.toString(),w=!this.navigated||h.extractedUrl.toString()!==_||_!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||w)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return S0(h.source)&&(this.browserUrlTree=h.extractedUrl),Nt(h).pipe(oi(j=>{const Ce=this.transitions.getValue();return i.next(new _d(j.id,this.serializeUrl(j.extractedUrl),j.source,j.restoredState)),Ce!==this.transitions.getValue()?ji.E:Promise.resolve(j)}),function lm(n,t,e,i){return oi(r=>function xd(n,t,e,i,r){return new z_(n,t,e,i,r).apply()}(n,t,e,r.extractedUrl,i).pipe((0,zt.U)(a=>({...r,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ai.b)(j=>{this.currentNavigation={...this.currentNavigation,finalUrl:j.urlAfterRedirects},r.urlAfterRedirects=j.urlAfterRedirects}),function tf(n,t,e,i,r,a){return(0,Hi.z)(u=>function g0(n,t,e,i,r,a,u="emptyOnly",h="legacy"){return new mR(n,t,e,i,r,u,h,a).recognize().pipe(oi(_=>null===_?function cm(n){return new qn.y(t=>t.error(n))}(new m0):Nt(_)))}(n,t,e,u.urlAfterRedirects,i.serialize(u.urlAfterRedirects),i,r,a).pipe((0,zt.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ai.b)(j=>{if(r.targetSnapshot=j.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!j.extras.skipLocationChange){const Me=this.urlHandlingStrategy.merge(j.urlAfterRedirects,j.rawUrl);this.setBrowserUrl(Me,j)}this.browserUrlTree=j.urlAfterRedirects}const Ce=new S_(j.id,this.serializeUrl(j.extractedUrl),this.serializeUrl(j.urlAfterRedirects),j.targetSnapshot);i.next(Ce)}));if(w&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ce,extractedUrl:Me,source:Le,restoredState:$e,extras:st}=h,It=new _d(Ce,this.serializeUrl(Me),Le,$e);i.next(It);const Bt=lc(Me,this.rootComponentType).snapshot;return Nt(r={...h,targetSnapshot:Bt,urlAfterRedirects:Me,extras:{...st,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),ji.E}),(0,ai.b)(h=>{const _=new Uh(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(_)}),(0,zt.U)(h=>r={...h,guards:Wh(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function _u(n,t){return(0,Hi.z)(e=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:a,canDeactivateChecks:u}}=e;return 0===u.length&&0===a.length?Nt({...e,guardsResult:!0}):function Qh(n,t,e,i){return(0,Vn.D)(n).pipe((0,Hi.z)(r=>function Jh(n,t,e,i,r){const a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?Nt(a.map(h=>{const _=gu(h,t,r);return wr(function Ad(n){return n&&$i(n.canDeactivate)}(_)?_.canDeactivate(n,t,e,i):_(n,t,e,i)).pipe(to())})).pipe(Er()):Nt(!0)}(r.component,r.route,e,t,i)),to(r=>!0!==r,!0))}(u,i,r,n).pipe((0,Hi.z)(h=>h&&function om(n){return"boolean"==typeof n}(h)?function bl(n,t,e,i){return(0,Vn.D)(t).pipe(Yn(r=>ga(function Xh(n,t){return null!==n&&t&&t(new qp(n)),Nt(!0)}(r.route.parent,i),function U_(n,t){return null!==n&&t&&t(new M_(n)),Nt(!0)}(r.route,i),function H_(n,t,e){const i=t[t.length-1],a=t.slice(0,t.length-1).reverse().map(u=>function qh(n){const t=n.routeConfig?n.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:n,guards:t}:null}(u)).filter(u=>null!==u).map(u=>eo(()=>Nt(u.guards.map(_=>{const w=gu(_,u.node,e);return wr(function B_(n){return n&&$i(n.canActivateChild)}(w)?w.canActivateChild(i,n):w(i,n)).pipe(to())})).pipe(Er())));return Nt(a).pipe(Er())}(n,r.path,e),function j_(n,t,e){const i=t.routeConfig?t.routeConfig.canActivate:null;if(!i||0===i.length)return Nt(!0);const r=i.map(a=>eo(()=>{const u=gu(a,t,e);return wr(function Ed(n){return n&&$i(n.canActivate)}(u)?u.canActivate(t,n):u(t,n)).pipe(to())}));return Nt(r).pipe(Er())}(n,r.route,e))),to(r=>!0!==r,!0))}(i,a,n,t):Nt(h)),(0,zt.U)(h=>({...e,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,ai.b)(h=>{if(r.guardsResult=h.guardsResult,lr(h.guardsResult))throw wd(0,h.guardsResult);const _=new T_(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(_)}),ei(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),Y_(h=>{if(h.guards.canActivateChecks.length)return Nt(h).pipe((0,ai.b)(_=>{const w=new Wp(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}),oi(_=>{let w=!1;return Nt(_).pipe(function UA(n,t){return(0,Hi.z)(e=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=e;if(!r.length)return Nt(e);let a=0;return(0,Vn.D)(r).pipe(Yn(u=>function jA(n,t,e,i){const r=n.routeConfig,a=n._resolve;return void 0!==r?.title&&!w0(r)&&(a[q_]=r.title),function b0(n,t,e,i){const r=function HA(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Nt({});const a={};return(0,Vn.D)(r).pipe((0,Hi.z)(u=>function GA(n,t,e,i){const r=gu(n,t,i);return wr(r.resolve?r.resolve(t,e):r(t,e))}(n[u],t,e,i).pipe(to(),(0,ai.b)(h=>{a[u]=h}))),Si(1),hl(a),mr(u=>u instanceof br?ji.E:or(u)))}(a,n,t,i).pipe((0,zt.U)(u=>(n._resolvedData=u,n.data=cc(n,e).resolve,r&&w0(r)&&(n.data[q_]=r.title),null)))}(u.route,i,n,t)),(0,ai.b)(()=>a++),Si(1),(0,Hi.z)(u=>a===r.length?Nt(e):ji.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ai.b)({next:()=>w=!0,complete:()=>{w||(this.restoreHistory(_),this.cancelNavigationTransition(_,"",2))}}))}),(0,ai.b)(_=>{const w=new Bo(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(_.urlAfterRedirects),_.targetSnapshot);this.triggerEvent(w)}))}),Y_(h=>{const _=w=>{const M=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&M.push(this.configLoader.loadComponent(w.routeConfig).pipe((0,ai.b)(j=>{w.component=j}),(0,zt.U)(()=>{})));for(const j of w.children)M.push(..._(j));return M};return ma(_(h.targetSnapshot.root)).pipe(ul(),Jn(1))}),Y_(()=>this.afterPreactivation()),(0,zt.U)(h=>{const _=function bd(n,t,e){const i=Uo(n,t._root,e?e._root:void 0);return new vd(i,t)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return r={...h,targetRouterState:_}}),(0,ai.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,t,e)=>(0,zt.U)(i=>(new sm(t,i.targetRouterState,i.currentRouterState,e).activate(n),i)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,ai.b)({next(){a=!0},complete(){a=!0}}),cs(()=>{a||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),mr(h=>{if(u=!0,fu(h)){tm(h)||(this.navigated=!0,this.restoreHistory(r,!0));const _=new so(r.id,this.serializeUrl(r.extractedUrl),h.message,h.cancellationCode);if(i.next(_),tm(h)){const w=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),M={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||S0(r.source)};this.scheduleNavigation(w,"imperative",null,M,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{this.restoreHistory(r,!0);const _=new yd(r.id,this.serializeUrl(r.extractedUrl),h,r.targetSnapshot??void 0);i.next(_);try{r.resolve(this.errorHandler(h))}catch(w){r.reject(w)}}return ji.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next({...this.transitions.value,...e})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const i="popstate"===e.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{const r={replaceUrl:!0},a=e.state?.navigationId?e.state:null;if(a){const h={...a};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(r.state=h)}const u=this.parseUrl(e.url);this.scheduleNavigation(u,i,a,r)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){this.config=e.map(Cd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,i={}){const{relativeTo:r,queryParams:a,fragment:u,queryParamsHandling:h,preserveFragment:_}=i,w=r||this.routerState.root,M=_?this.currentUrlTree.fragment:u;let j=null;switch(h){case"merge":j={...this.currentUrlTree.queryParams,...a};break;case"preserve":j=this.currentUrlTree.queryParams;break;default:j=a||null}return null!==j&&(j=this.removeEmptyProps(j)),C_(w,this.currentUrlTree,e,j,M??null)}navigateByUrl(e,i={skipLocationChange:!1}){const r=lr(e)?e:this.parseUrl(e),a=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,i)}navigate(e,i={skipLocationChange:!1}){return function A0(n){for(let t=0;t<n.length;t++){if(null==n[t])throw new s.vHH(4008,false)}}(e),this.navigateByUrl(this.createUrlTree(e,i),i)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let i;try{i=this.urlSerializer.parse(e)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,e)}return i}isActive(e,i){let r;if(r=!0===i?{...YA}:!1===i?{...E0}:i,lr(e))return au(this.currentUrlTree,e,r);const a=this.parseUrl(e);return au(this.currentUrlTree,a,r)}removeEmptyProps(e){return Object.keys(e).reduce((i,r)=>{const a=e[r];return null!=a&&(i[r]=a),i},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new wa(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,i,r,a,u){if(this.disposed)return Promise.resolve(!1);let h,_,w;u?(h=u.resolve,_=u.reject,w=u.promise):w=new Promise((Ce,Me)=>{h=Ce,_=Me});const M=++this.navigationId;let j;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(r=this.location.getState()),j=r&&r.\u0275routerPageId?r.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):j=0,this.setTransition({id:M,targetPageId:j,source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:a,resolve:h,reject:_,promise:w,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),w.catch(Ce=>Promise.reject(Ce))}setBrowserUrl(e,i){const r=this.urlSerializer.serialize(e),a={...i.extras.state,...this.generateNgRouterState(i.id,i.targetPageId)};this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl?this.location.replaceState(r,"",a):this.location.go(r,"",a)}restoreHistory(e,i=!1){if("computed"===this.canceledNavigationResolution){const r=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===r?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===r&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(r)}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,i,r){const a=new so(e.id,this.serializeUrl(e.extractedUrl),i,r);this.triggerEvent(a),e.resolve(!1)}generateNgRouterState(e,i){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:i}:{navigationId:e}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:function(){return X_()},providedIn:"root"}),n})();function S0(n){return"imperative"!==n}let mm=(()=>{class n{constructor(e,i,r,a,u){this.router=e,this.route=i,this.tabIndexAttribute=r,this.renderer=a,this.el=u,this.commands=null,this.onChanges=new _t.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const i=this.renderer,r=this.el.nativeElement;null!==e?i.setAttribute(r,"tabindex",e):i.removeAttribute(r,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Kr),s.Y36(er),s.$8M("tabindex"),s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,i){1&e&&s.NdJ("click",function(){return i.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),J_=(()=>{class n{constructor(e,i,r){this.router=e,this.route=i,this.locationStrategy=r,this.commands=null,this.href=null,this.onChanges=new _t.x,this.subscription=e.events.subscribe(a=>{a instanceof wa&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,i,r,a,u){if(0!==e||i||r||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:(0,s.D6c)(this.skipLocationChange),replaceUrl:(0,s.D6c)(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:(0,s.D6c)(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Kr),s.Y36(er),s.Y36(z))},n.\u0275dir=s.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&e&&s.uIk("target",i.target)("href",i.href,s.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[s.TTD]}),n})(),T0=(()=>{class n{constructor(e,i,r,a,u,h){this.router=e,this.element=i,this.renderer=r,this.cdr=a,this.link=u,this.linkWithHref=h,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new s.vpe,this.routerEventsSubscription=e.events.subscribe(_=>{_ instanceof wa&&this.update()})}ngAfterContentInit(){Nt(this.links.changes,this.linksWithHrefs.changes,Nt(null)).pipe((0,Mo.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(i=>!!i).map(i=>i.onChanges);this.linkInputChangesSubscription=(0,Vn.D)(e).pipe((0,Mo.J)()).subscribe(i=>{this.isActive!==this.isLinkActive(this.router)(i)&&this.update()})}set routerLinkActive(e){const i=Array.isArray(e)?e:e.split(" ");this.classes=i.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(i=>{e?this.renderer.addClass(this.element.nativeElement,i):this.renderer.removeClass(this.element.nativeElement,i)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const i=function ZA(n){return!!n.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,i)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Kr),s.Y36(s.SBq),s.Y36(s.Qsj),s.Y36(s.sBO),s.Y36(mm,8),s.Y36(J_,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,mm,5),s.Suo(r,J_,5)),2&e){let a;s.iGM(a=s.CRH())&&(i.links=a),s.iGM(a=s.CRH())&&(i.linksWithHrefs=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[s.TTD]}),n})();class x0{}let M0=(()=>{class n{constructor(e,i,r,a,u){this.router=e,this.injector=r,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(ei(e=>e instanceof wa),Yn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,i){const r=[];for(const a of i){a.providers&&!a._injector&&(a._injector=(0,s.MMx)(a.providers,e,`Route: ${a.path}`));const u=a._injector??e,h=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?r.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&r.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,Vn.D)(r).pipe((0,Mo.J)())}preloadConfig(e,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(e,i):Nt(null);const a=r.pipe((0,Hi.z)(u=>null===u?Nt(void 0):(i._loadedRoutes=u.routes,i._loadedInjector=u.injector,this.processRoutes(u.injector??e,u.routes))));if(i.loadComponent&&!i._loadedComponent){const u=this.loader.loadComponent(i);return(0,Vn.D)([a,u]).pipe((0,Mo.J)())}return a})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Kr),s.LFG(s.Sil),s.LFG(s.lqb),s.LFG(x0),s.LFG(pm))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const I0=new s.OlP("");let _R=(()=>{class n{constructor(e,i,r={}){this.router=e,this.viewportScroller=i,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof _d?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof wa&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Kp&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,i){this.router.triggerEvent(new Kp(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const XA=new s.OlP("ROUTER_FORROOT_GUARD"),Ho=new s.OlP(""),ey=[F,{provide:sc,useClass:ci},{provide:Kr,useFactory:X_},Ea,{provide:er,useFactory:function ty(n){return n.routerState.root},deps:[Kr]},pm];function JA(){return new s.PXZ("Router",Kr)}let ny=(()=>{class n{constructor(e){}static forRoot(e,i){return{ngModule:n,providers:[ey,[],gm(e),{provide:XA,useFactory:P0,deps:[[Kr,new s.FiY,new s.tp0]]},{provide:K_,useValue:i||{}},i?.useHash?{provide:z,useClass:A}:{provide:z,useClass:E},{provide:I0,useFactory:()=>{const n=(0,s.f3M)(Kr),t=(0,s.f3M)($c),e=(0,s.f3M)(K_);return e.scrollOffset&&t.setOffset(e.scrollOffset),new _R(n,t,e)}},i?.preloadingStrategy?iS(i.preloadingStrategy):[],{provide:s.PXZ,multi:!0,useFactory:JA},i?.initialNavigation?yR(i):[],[{provide:ry,useFactory:iy},{provide:s.tb,multi:!0,useExisting:ry}]]}}static forChild(e){return{ngModule:n,providers:[gm(e)]}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(XA,8))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function P0(n){return"guarded"}function gm(n){return[{provide:nf,multi:!0,useValue:n}]}function iy(){const n=(0,s.f3M)(s.zs3);return t=>{const e=n.get(s.z2F);if(t!==e.components[0])return;const i=n.get(Kr),r=n.get(_m);1===n.get(sy)&&i.initialNavigation(),n.get(Ho,null,s.XFs.Optional)?.setUpPreloading(),n.get(I0,null,s.XFs.Optional)?.init(),i.resetRootComponentType(e.componentTypes[0]),r.next(),r.complete()}}const ry=new s.OlP("");function yR(n){return["disabled"===n.initialNavigation?[{provide:s.ip1,multi:!0,useFactory:()=>{const n=(0,s.f3M)(Kr);return()=>{n.setUpLocationChangeListener()}}},{provide:sy,useValue:2}]:[],"enabledBlocking"===n.initialNavigation?[{provide:sy,useValue:0},{provide:s.ip1,multi:!0,deps:[s.zs3],useFactory:n=>{const t=n.get(ee,Promise.resolve(null));let e=!1;return()=>t.then(()=>new Promise(r=>{const a=n.get(Kr),u=n.get(_m);(function i(r){n.get(Kr).events.pipe(ei(u=>u instanceof wa||u instanceof so||u instanceof yd),(0,zt.U)(u=>u instanceof wa||u instanceof so&&(0===u.code||1===u.code)&&null),ei(u=>null!==u),Jn(1)).subscribe(()=>{r()})})(()=>{r(!0),e=!0}),a.afterPreactivation=()=>(r(!0),e||u.closed?Nt(void 0):u),a.initialNavigation()}))}}]:[]]}const _m=new s.OlP("",{factory:()=>new _t.x}),sy=new s.OlP("",{providedIn:"root",factory:()=>1});function iS(n){return[M0,{provide:Ho,useExisting:M0},{provide:x0,useExisting:n}]}var Ta=(()=>{return(n=Ta||(Ta={})).activation="Activation",n.declination="Declination",n.deactivation="Deactivation",Ta;var n})();const ym=new Map([[".bmp",{mimeType:"image/bmp",fullDescription:"Standard Windows Bitmap image"}],[".gif",{mimeType:"image/gif",fullDescription:"Graphics interchange file format"}],[".jpeg",{mimeType:"image/jpeg",fullDescription:"JPEG bitmap image format file"}],[".jpg",{mimeType:"image/jpeg",fullDescription:"JPEG bitmap image format file"}]]),vm=new Map([[".pdf",{mimeType:"application/pdf",fullDescription:"Adobe Portable document format"}]]),ay=new Map([[".csv",{mimeType:"application/vnd.ms-excel",fullDescription:"Comma Separated Value file",application:"ms-excel"}],[".doc",{mimeType:"application/msword",fullDescription:"Microsoft Word 97 to 2003 document file",application:"ms-word:ofv|u|"}],[".docx",{mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",fullDescription:"Microsoft Word 2007/2010 Open XML document file",application:"ms-word:ofv|u|"}]]);let af;try{af=typeof Intl<"u"&&Intl.v8BreakIterator}catch{af=!1}let Id,xi=(()=>{class n{constructor(e){this._platformId=e,this.isBrowser=this._platformId?function Wa(n){return n===wo}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!af)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.Lbi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const O0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function ly(){if(Id)return Id;if("object"!=typeof document||!document)return Id=new Set(O0),Id;let n=document.createElement("input");return Id=new Set(O0.filter(t=>(n.setAttribute("type",t),n.type===t))),Id}let Pd,wu,uy;function Go(n){return function bu(){if(null==Pd&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Pd=!0}))}finally{Pd=Pd||!1}return Pd}()?n:!!n.capture}function bR(){if(null==wu){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return wu=!1,wu;if("scrollBehavior"in document.documentElement.style)wu=!0;else{const n=Element.prototype.scrollTo;wu=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return wu}function bm(n){if(function F0(){if(null==uy){const n=typeof document<"u"?document.head:null;uy=!(!n||!n.createShadowRoot&&!n.attachShadow)}return uy}()){const t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function wm(){let n=typeof document<"u"&&document?document.activeElement:null;for(;n&&n.shadowRoot;){const t=n.shadowRoot.activeElement;if(t===n)break;n=t}return n}function Is(n){return n.composedPath?n.composedPath()[0]:n.target}function Cm(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Cu(n,...t){return t.length?t.some(e=>n[e]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}var Ps=R(4986);function Rd(n,t=Ps.z){return(0,Hn.e)((e,i)=>{let r=null,a=null,u=null;const h=()=>{if(r){r.unsubscribe(),r=null;const w=a;a=null,i.next(w)}};function _(){const w=u+n,M=t.now();if(M<w)return r=this.schedule(void 0,w-M),void i.add(r);h()}e.subscribe((0,Kn.x)(i,w=>{a=w,u=t.now(),r||(r=t.schedule(_,n),i.add(r))},()=>{h(),i.complete()},void 0,()=>{a=r=null}))})}function by(n){return ei((t,e)=>n<=e)}function xm(n,t=qr.y){return n=n??wy,(0,Hn.e)((e,i)=>{let r,a=!0;e.subscribe((0,Kn.x)(i,u=>{const h=t(u);(a||!n(r,h))&&(a=!1,r=h,i.next(u))}))})}function wy(n,t){return n===t}var Cy=R(5032);function Zt(n){return(0,Hn.e)((t,e)=>{(0,pr.Xf)(n).subscribe((0,Kn.x)(e,()=>e.complete(),Cy.Z)),!e.closed&&t.subscribe(e)})}function ti(n){return null!=n&&"false"!=`${n}`}function hs(n,t=0){return function J0(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):t}function Mm(n){return Array.isArray(n)?n:[n]}function Mi(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ii(n){return n instanceof s.SBq?n.nativeElement:n}let ew=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),RS=(()=>{class n{constructor(e){this._mutationObserverFactory=e,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((e,i)=>this._cleanupObserver(i))}observe(e){const i=Ii(e);return new qn.y(r=>{const u=this._observeElement(i).subscribe(r);return()=>{u.unsubscribe(),this._unobserveElement(i)}})}_observeElement(e){if(this._observedElements.has(e))this._observedElements.get(e).count++;else{const i=new _t.x,r=this._mutationObserverFactory.create(a=>i.next(a));r&&r.observe(e,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(e,{observer:r,stream:i,count:1})}return this._observedElements.get(e).stream}_unobserveElement(e){this._observedElements.has(e)&&(this._observedElements.get(e).count--,this._observedElements.get(e).count||this._cleanupObserver(e))}_cleanupObserver(e){if(this._observedElements.has(e)){const{observer:i,stream:r}=this._observedElements.get(e);i&&i.disconnect(),r.complete(),this._observedElements.delete(e)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ew))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hf=(()=>{class n{constructor(e,i,r){this._contentObserver=e,this._elementRef=i,this._ngZone=r,this.event=new s.vpe,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(e){this._disabled=ti(e),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(e){this._debounce=hs(e),this._subscribe()}ngAfterContentInit(){!this._currentSubscription&&!this.disabled&&this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const e=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?e.pipe(Rd(this.debounce)):e).subscribe(this.event)})}_unsubscribe(){this._currentSubscription?.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(RS),s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),n})(),yc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[ew]}),n})();const Du=new Set;let Dl,ff=(()=>{class n{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):nw}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function OS(n){if(!Du.has(n))try{Dl||(Dl=document.createElement("style"),Dl.setAttribute("type","text/css"),document.head.appendChild(Dl)),Dl.sheet&&(Dl.sheet.insertRule(`@media ${n} {body{ }}`,0),Du.add(n))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function nw(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let pf=(()=>{class n{constructor(e,i){this._mediaMatcher=e,this._zone=i,this._queries=new Map,this._destroySubject=new _t.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return Im(Mm(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let a=ma(Im(Mm(e)).map(u=>this._registerQuery(u).observable));return a=ga(a.pipe(Jn(1)),a.pipe(by(1),Rd(0))),a.pipe((0,zt.U)(u=>{const h={matches:!1,breakpoints:{}};return u.forEach(({matches:_,query:w})=>{h.matches=h.matches||_,h.breakpoints[w]=_}),h}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const i=this._mediaMatcher.matchMedia(e),a={observable:new qn.y(u=>{const h=_=>this._zone.run(()=>u.next(_));return i.addListener(h),()=>{i.removeListener(h)}}).pipe(hi(i),(0,zt.U)(({matches:u})=>({query:e,matches:u})),Zt(this._destroySubject)),mql:i};return this._queries.set(e,a),a}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(ff),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Im(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}function Ay(n,t){return(n.getAttribute(t)||"").match(/\S+/g)||[]}const Sy="cdk-describedby-message",km="cdk-describedby-host";let Rm=0,iw=(()=>{class n{constructor(e,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+Rm++,this._document=e,this._id=(0,s.f3M)(s.AFp)+"-"+Rm++}describe(e,i,r){if(!this._canBeDescribed(e,i))return;const a=Ty(i,r);"string"!=typeof i?(fs(i,this._id),this._messageRegistry.set(a,{messageElement:i,referenceCount:0})):this._messageRegistry.has(a)||this._createMessageElement(i,r),this._isElementDescribedByMessage(e,a)||this._addMessageReference(e,a)}removeDescription(e,i,r){if(!i||!this._isElementNode(e))return;const a=Ty(i,r);if(this._isElementDescribedByMessage(e,a)&&this._removeMessageReference(e,a),"string"==typeof i){const u=this._messageRegistry.get(a);u&&0===u.referenceCount&&this._deleteMessageElement(a)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const e=this._document.querySelectorAll(`[${km}="${this._id}"]`);for(let i=0;i<e.length;i++)this._removeCdkDescribedByReferenceIds(e[i]),e[i].removeAttribute(km);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(e,i){const r=this._document.createElement("div");fs(r,this._id),r.textContent=e,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(Ty(e,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(e){this._messageRegistry.get(e)?.messageElement?.remove(),this._messageRegistry.delete(e)}_createMessagesContainer(){if(this._messagesContainer)return;const e="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${e}[platform="server"]`);for(let a=0;a<i.length;a++)i[a].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(e),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(e){const i=Ay(e,"aria-describedby").filter(r=>0!=r.indexOf(Sy));e.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(e,i){const r=this._messageRegistry.get(i);(function Ey(n,t,e){const i=Ay(n,t);i.some(r=>r.trim()==e.trim())||(i.push(e.trim()),n.setAttribute(t,i.join(" ")))})(e,"aria-describedby",r.messageElement.id),e.setAttribute(km,this._id),r.referenceCount++}_removeMessageReference(e,i){const r=this._messageRegistry.get(i);r.referenceCount--,function FS(n,t,e){const r=Ay(n,t).filter(a=>a!=e.trim());r.length?n.setAttribute(t,r.join(" ")):n.removeAttribute(t)}(e,"aria-describedby",r.messageElement.id),e.removeAttribute(km)}_isElementDescribedByMessage(e,i){const r=Ay(e,"aria-describedby"),a=this._messageRegistry.get(i),u=a&&a.messageElement.id;return!!u&&-1!=r.indexOf(u)}_canBeDescribed(e,i){if(!this._isElementNode(e))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),a=e.getAttribute("aria-label");return!(!r||a&&a.trim()===r)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(xi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ty(n,t){return"string"==typeof n?`${t||""}/${n}`:n}function fs(n,t){n.id||(n.id=`${Sy}-${t}-${Rm++}`)}class sw extends class rw{constructor(t){this._items=t,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new _t.x,this._typeaheadSubscription=Zn.w0.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new _t.x,this.change=new _t.x,t instanceof s.n_E&&t.changes.subscribe(e=>{if(this._activeItem){const r=e.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}})}skipPredicate(t){return this._skipPredicateFn=t,this}withWrap(t=!0){return this._wrap=t,this}withVerticalOrientation(t=!0){return this._vertical=t,this}withHorizontalOrientation(t){return this._horizontal=t,this}withAllowedModifierKeys(t){return this._allowedModifierKeys=t,this}withTypeAhead(t=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe((0,ai.b)(e=>this._pressedLetters.push(e)),Rd(t),ei(()=>this._pressedLetters.length>0),(0,zt.U)(()=>this._pressedLetters.join(""))).subscribe(e=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const a=(this._activeItemIndex+r)%i.length,u=i[a];if(!this._skipPredicateFn(u)&&0===u.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(a);break}}this._pressedLetters=[]}),this}withHomeAndEnd(t=!0){return this._homeAndEnd=t,this}setActiveItem(t){const e=this._activeItem;this.updateActiveItem(t),this._activeItem!==e&&this.change.next(this._activeItemIndex)}onKeydown(t){const e=t.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(a=>!t[a]||this._allowedModifierKeys.indexOf(a)>-1);switch(e){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;default:return void((r||Cu(t,"shiftKey"))&&(t.key&&1===t.key.length?this._letterKeyStream.next(t.key.toLocaleUpperCase()):(e>=65&&e<=90||e>=48&&e<=57)&&this._letterKeyStream.next(String.fromCharCode(e))))}this._pressedLetters=[],t.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(t){const e=this._getItemsArray(),i="number"==typeof t?t:e.indexOf(t);this._activeItem=e[i]??null,this._activeItemIndex=i}_setActiveItemByDelta(t){this._wrap?this._setActiveInWrapMode(t):this._setActiveInDefaultMode(t)}_setActiveInWrapMode(t){const e=this._getItemsArray();for(let i=1;i<=e.length;i++){const r=(this._activeItemIndex+t*i+e.length)%e.length;if(!this._skipPredicateFn(e[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(t){this._setActiveItemByIndex(this._activeItemIndex+t,t)}_setActiveItemByIndex(t,e){const i=this._getItemsArray();if(i[t]){for(;this._skipPredicateFn(i[t]);)if(!i[t+=e])return;this.setActiveItem(t)}}_getItemsArray(){return this._items instanceof s.n_E?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(t){return this._origin=t,this}setActiveItem(t){super.setActiveItem(t),this.activeItem&&this.activeItem.focus(this._origin)}}let Od=(()=>{class n{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function LS(n){return!!(n.offsetWidth||n.offsetHeight||"function"==typeof n.getClientRects&&n.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const i=function ow(n){try{return n.frameElement}catch{return null}}(function US(n){return n.ownerDocument&&n.ownerDocument.defaultView||window}(e));if(i&&(-1===uw(i)||!this.isVisible(i)))return!1;let r=e.nodeName.toLowerCase(),a=uw(e);return e.hasAttribute("contenteditable")?-1!==a:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function dw(n){let t=n.nodeName.toLowerCase(),e="input"===t&&n.type;return"text"===e||"password"===e||"select"===t||"textarea"===t}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==a:"video"===r?-1!==a&&(null!==a||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,i){return function hw(n){return!function VS(n){return function BS(n){return"input"==n.nodeName.toLowerCase()}(n)&&"hidden"==n.type}(n)&&(function NS(n){let t=n.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(n)||function aw(n){return function lw(n){return"a"==n.nodeName.toLowerCase()}(n)&&n.hasAttribute("href")}(n)||n.hasAttribute("contenteditable")||cw(n))}(e)&&!this.isDisabled(e)&&(i?.ignoreVisibility||this.isVisible(e))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function cw(n){if(!n.hasAttribute("tabindex")||void 0===n.tabIndex)return!1;let t=n.getAttribute("tabindex");return!(!t||isNaN(parseInt(t,10)))}function uw(n){if(!cw(n))return null;const t=parseInt(n.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class Ia{constructor(t,e,i,r,a=!1){this._element=t,this._checker=e,this._ngZone=i,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,a||this.attachAnchors()}get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}destroy(){const t=this._startAnchor,e=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),e&&(e.removeEventListener("focus",this.endAnchorListener),e.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){const e=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return"start"==t?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(e){if(!this._checker.isFocusable(e)){const i=this._getFirstTabbableElement(e);return i?.focus(t),!!i}return e.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){const e=this._getRegionBoundary("start");return e&&e.focus(t),!!e}focusLastTabbableElement(t){const e=this._getRegionBoundary("end");return e&&e.focus(t),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=0;i<e.length;i++){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[i]):null;if(r)return r}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;const e=t.children;for(let i=e.length-1;i>=0;i--){const r=e[i].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[i]):null;if(r)return r}return null}_createAnchor(){const t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,e){t?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._ngZone.isStable?t():this._ngZone.onStable.pipe(Jn(1)).subscribe(t)}}let mf=(()=>{class n{constructor(e,i,r){this._checker=e,this._ngZone=i,this._document=r}create(e,i=!1){return new Ia(e,this._checker,this._ngZone,this._document,i)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Od),s.LFG(s.R0b),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Om(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function Fd(n){const t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!t||-1!==t.identifier||null!=t.radiusX&&1!==t.radiusX||null!=t.radiusY&&1!==t.radiusY)}const HS=new s.OlP("cdk-input-modality-detector-options"),GS={ignoreKeys:[18,17,224,91,16]},vc=Go({passive:!0,capture:!0});let zS=(()=>{class n{constructor(e,i,r,a){this._platform=e,this._mostRecentTarget=null,this._modality=new sr(null),this._lastTouchMs=0,this._onKeydown=u=>{this._options?.ignoreKeys?.some(h=>h===u.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Is(u))},this._onMousedown=u=>{Date.now()-this._lastTouchMs<650||(this._modality.next(Om(u)?"keyboard":"mouse"),this._mostRecentTarget=Is(u))},this._onTouchstart=u=>{Fd(u)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Is(u))},this._options={...GS,...a},this.modalityDetected=this._modality.pipe(by(1)),this.modalityChanged=this.modalityDetected.pipe(xm()),e.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,vc),r.addEventListener("mousedown",this._onMousedown,vc),r.addEventListener("touchstart",this._onTouchstart,vc)})}get mostRecentModality(){return this._modality.value}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,vc),document.removeEventListener("mousedown",this._onMousedown,vc),document.removeEventListener("touchstart",this._onTouchstart,vc))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xi),s.LFG(s.R0b),s.LFG(B),s.LFG(HS,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fw=new s.OlP("liveAnnouncerElement",{providedIn:"root",factory:function xy(){return null}}),pw=new s.OlP("LIVE_ANNOUNCER_DEFAULT_OPTIONS");let $S=(()=>{class n{constructor(e,i,r,a){this._ngZone=i,this._defaultOptions=a,this._document=r,this._liveElement=e||this._createLiveElement()}announce(e,...i){const r=this._defaultOptions;let a,u;return 1===i.length&&"number"==typeof i[0]?u=i[0]:[a,u]=i,this.clear(),clearTimeout(this._previousTimeout),a||(a=r&&r.politeness?r.politeness:"polite"),null==u&&r&&(u=r.duration),this._liveElement.setAttribute("aria-live",a),this._ngZone.runOutsideAngular(()=>(this._currentPromise||(this._currentPromise=new Promise(h=>this._currentResolve=h)),clearTimeout(this._previousTimeout),this._previousTimeout=setTimeout(()=>{this._liveElement.textContent=e,"number"==typeof u&&(this._previousTimeout=setTimeout(()=>this.clear(),u)),this._currentResolve(),this._currentPromise=this._currentResolve=void 0},100),this._currentPromise))}clear(){this._liveElement&&(this._liveElement.textContent="")}ngOnDestroy(){clearTimeout(this._previousTimeout),this._liveElement?.remove(),this._liveElement=null,this._currentResolve?.(),this._currentPromise=this._currentResolve=void 0}_createLiveElement(){const e="cdk-live-announcer-element",i=this._document.getElementsByClassName(e),r=this._document.createElement("div");for(let a=0;a<i.length;a++)i[a].remove();return r.classList.add(e),r.classList.add("cdk-visually-hidden"),r.setAttribute("aria-atomic","true"),r.setAttribute("aria-live","polite"),this._document.body.appendChild(r),r}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(fw,8),s.LFG(s.R0b),s.LFG(B),s.LFG(pw,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const My=new s.OlP("cdk-focus-monitor-default-options"),Iy=Go({passive:!0,capture:!0});let El=(()=>{class n{constructor(e,i,r,a,u){this._ngZone=e,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new _t.x,this._rootNodeFocusAndBlurListener=h=>{for(let w=Is(h);w;w=w.parentElement)"focus"===h.type?this._onFocus(h,w):this._onBlur(h,w)},this._document=a,this._detectionMode=u?.detectionMode||0}monitor(e,i=!1){const r=Ii(e);if(!this._platform.isBrowser||1!==r.nodeType)return Nt(null);const a=bm(r)||this._getDocument(),u=this._elementInfo.get(r);if(u)return i&&(u.checkChildren=!0),u.subject;const h={checkChildren:i,subject:new _t.x,rootNode:a};return this._elementInfo.set(r,h),this._registerGlobalListeners(h),h.subject}stopMonitoring(e){const i=Ii(e),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(e,i,r){const a=Ii(e);a===this._getDocument().activeElement?this._getClosestElementsInfo(a).forEach(([h,_])=>this._originChanged(h,i,_)):(this._setOrigin(i),"function"==typeof a.focus&&a.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return 1===this._detectionMode||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,i){e.classList.toggle("cdk-focused",!!i),e.classList.toggle("cdk-touch-focused","touch"===i),e.classList.toggle("cdk-keyboard-focused","keyboard"===i),e.classList.toggle("cdk-mouse-focused","mouse"===i),e.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(e,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=e,this._originFromTouchInteraction="touch"===e&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(e,i){const r=this._elementInfo.get(i),a=Is(e);!r||!r.checkChildren&&i!==a||this._originChanged(i,this._getFocusOrigin(a),r)}_onBlur(e,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&e.relatedTarget instanceof Node&&i.contains(e.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(e,i){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(i))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const i=e.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,Iy),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,Iy)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Zt(this._stopInputModalityDetector)).subscribe(a=>{this._setOrigin(a,!0)}))}_removeGlobalListeners(e){const i=e.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Iy),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Iy),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,i,r){this._setClasses(e,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(e){const i=[];return this._elementInfo.forEach((r,a)=>{(a===e||r.checkChildren&&a.contains(e))&&i.push([a,r])}),i}_isLastInteractionFromInputLabel(e){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===e||"INPUT"!==e.nodeName&&"TEXTAREA"!==e.nodeName||e.disabled)return!1;const a=e.labels;if(a)for(let u=0;u<a.length;u++)if(a[u].contains(i))return!0;return!1}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(xi),s.LFG(zS),s.LFG(B,8),s.LFG(My,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mw=(()=>{class n{constructor(e,i){this._elementRef=e,this._focusMonitor=i,this.cdkFocusChange=new s.vpe}ngAfterViewInit(){const e=this._elementRef.nativeElement;this._monitorSubscription=this._focusMonitor.monitor(e,1===e.nodeType&&e.hasAttribute("cdkMonitorSubtreeFocus")).subscribe(i=>this.cdkFocusChange.emit(i))}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._monitorSubscription&&this._monitorSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(El))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkMonitorElementFocus",""],["","cdkMonitorSubtreeFocus",""]],outputs:{cdkFocusChange:"cdkFocusChange"}}),n})();const Py="cdk-high-contrast-black-on-white",ky="cdk-high-contrast-white-on-black",Fm="cdk-high-contrast-active";let Lm=(()=>{class n{constructor(e,i){this._platform=e,this._document=i,this._breakpointSubscription=(0,s.f3M)(pf).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(e):null,a=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),a){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(Fm,Py,ky),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?e.add(Fm,Py):2===i&&e.add(Fm,ky)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xi),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),oo=(()=>{class n{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Lm))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[yc]}),n})();const Nm=new s.OlP("cdk-dir-doc",{providedIn:"root",factory:function Vm(){return(0,s.f3M)(B)}}),_f=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let ps=(()=>{class n{constructor(e){if(this.value="ltr",this.change=new s.vpe,e){const r=e.documentElement?e.documentElement.dir:null;this.value=function WS(n){const t=n?.toLowerCase()||"";return"auto"===t&&typeof navigator<"u"&&navigator?.language?_f.test(navigator.language)?"rtl":"ltr":"rtl"===t?"rtl":"ltr"}((e.body?e.body.dir:null)||r||"ltr")}}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Nm,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const uO=new s.OlP("mat-sanity-checks",{providedIn:"root",factory:function YS(){return!0}});let Bn=(()=>{class n{constructor(e,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!Cm()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Lm),s.LFG(uO,8),s.LFG(B))},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[yf,yf]}),n})();function vf(n){return class extends n{constructor(...t){super(...t),this._disabled=!1}get disabled(){return this._disabled}set disabled(t){this._disabled=ti(t)}}}function bf(n,t){return class extends n{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const i=e||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}}}function Eu(n){return class extends n{constructor(...t){super(...t),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ti(t)}}}function KS(n){return class extends n{constructor(...t){super(...t),this.errorState=!1}updateErrorState(){const t=this.errorState,a=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);a!==t&&(this.errorState=a,this.stateChanges.next())}}}let bc=(()=>{class n{isErrorState(e,i){return!!(e&&e.invalid&&(e.touched||i&&i.submitted))}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-line",""],["","matLine",""]],hostAttrs:[1,"mat-line"]}),n})();function Tu(n,t,e){n.nativeElement.classList.toggle(t,e)}let xu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bn,Bn]}),n})();class Nd{constructor(t,e,i,r=!1){this._renderer=t,this.element=e,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Mu={enterDuration:225,exitDuration:150},wc=Go({passive:!0}),Iu=["mousedown","touchstart"],Pu=["mouseup","mouseleave","touchend","touchcancel"];class Bd{constructor(t,e,i,r){this._target=t,this._ngZone=e,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ii(i))}fadeInRipple(t,e,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),a={...Mu,...i.animation};i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);const u=i.radius||function Ud(n,t,e){const i=Math.max(Math.abs(n-e.left),Math.abs(n-e.right)),r=Math.max(Math.abs(t-e.top),Math.abs(t-e.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),h=t-r.left,_=e-r.top,w=a.enterDuration,M=document.createElement("div");M.classList.add("mat-ripple-element"),M.style.left=h-u+"px",M.style.top=_-u+"px",M.style.height=2*u+"px",M.style.width=2*u+"px",null!=i.color&&(M.style.backgroundColor=i.color),M.style.transitionDuration=`${w}ms`,this._containerElement.appendChild(M);const j=window.getComputedStyle(M),Me=j.transitionDuration,Le="none"===j.transitionProperty||"0s"===Me||"0s, 0s"===Me,$e=new Nd(this,M,i,Le);M.style.transform="scale3d(1, 1, 1)",$e.state=0,i.persistent||(this._mostRecentTransientRipple=$e);let st=null;return!Le&&(w||a.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const It=()=>this._finishRippleTransition($e),Bt=()=>this._destroyRipple($e);M.addEventListener("transitionend",It),M.addEventListener("transitioncancel",Bt),st={onTransitionEnd:It,onTransitionCancel:Bt}}),this._activeRipples.set($e,st),(Le||!w)&&this._finishRippleTransition($e),$e}fadeOutRipple(t){if(2===t.state||3===t.state)return;const e=t.element,i={...Mu,...t.config.animation};e.style.transitionDuration=`${i.exitDuration}ms`,e.style.opacity="0",t.state=2,(t._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(t)}fadeOutAll(){this._getActiveRipples().forEach(t=>t.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(t=>{t.config.persistent||t.fadeOut()})}setupTriggerEvents(t){const e=Ii(t);!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(Iu))}handleEvent(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(Pu),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(t){0===t.state?this._startFadeOutTransition(t):2===t.state&&this._destroyRipple(t)}_startFadeOutTransition(t){const e=t===this._mostRecentTransientRipple,{persistent:i}=t.config;t.state=1,!i&&(!e||!this._isPointerDown)&&t.fadeOut()}_destroyRipple(t){const e=this._activeRipples.get(t)??null;this._activeRipples.delete(t),this._activeRipples.size||(this._containerRect=null),t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),t.state=3,null!==e&&(t.element.removeEventListener("transitionend",e.onTransitionEnd),t.element.removeEventListener("transitioncancel",e.onTransitionCancel)),t.element.remove()}_onMousedown(t){const e=Om(t),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!i&&(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}_onTouchStart(t){if(!this._target.rippleDisabled&&!Fd(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=t.changedTouches;for(let i=0;i<e.length;i++)this.fadeInRipple(e[i].clientX,e[i].clientY,this._target.rippleConfig)}}_onPointerUp(){!this._isPointerDown||(this._isPointerDown=!1,this._getActiveRipples().forEach(t=>{!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}_registerEvents(t){this._ngZone.runOutsideAngular(()=>{t.forEach(e=>{this._triggerElement.addEventListener(e,this,wc)})})}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){this._triggerElement&&(Iu.forEach(t=>{this._triggerElement.removeEventListener(t,this,wc)}),this._pointerUpEventsRegistered&&Pu.forEach(t=>{this._triggerElement.removeEventListener(t,this,wc)}))}}const ww=new s.OlP("mat-ripple-global-options");let Cc=(()=>{class n{constructor(e,i,r,a,u){this._elementRef=e,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=a||{},this._rippleRenderer=new Bd(this,i,e,r)}get disabled(){return this._disabled}set disabled(e){e&&this.fadeOutAllNonPersistent(),this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,i=0,r){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(xi),s.Y36(ww,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-ripple-unbounded",i.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]}),n})(),Cf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bn,Bn]}),n})(),Oy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bn]}),n})();const jm=["mat-button",""],Hm=["*"],Gm=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],zm=bf(vf(Eu(class{constructor(n){this._elementRef=n}})));let Dc=(()=>{class n extends zm{constructor(e,i,r){super(e),this._focusMonitor=i,this._animationMode=r,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const a of Gm)this._hasHostAttributes(a)&&this._getHostElement().classList.add(a);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e,i){e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(i=>this._getHostElement().hasAttribute(i))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(El),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,i){if(1&e&&s.Gf(Cc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.ripple=r.first)}},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,i){2&e&&(s.uIk("disabled",i.disabled||null),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)("mat-button-disabled",i.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[s.qOj],attrs:jm,ngContentSelectors:Hm,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"span",0),s.Hsn(1),s.qZA(),s._UZ(2,"span",1)(3,"span",2)),2&e&&(s.xp6(2),s.ekj("mat-button-ripple-round",i.isRoundButton||i.isIconButton),s.Q6J("matRippleDisabled",i._isRippleDisabled())("matRippleCentered",i.isIconButton)("matRippleTrigger",i._getHostElement()))},dependencies:[Cc],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}.mat-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.mat-flat-button::before,.mat-raised-button::before,.mat-fab::before,.mat-mini-fab::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-stroked-button::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 3px) * -1)}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}"],encapsulation:2,changeDetection:0}),n})(),Df=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Cf,Bn,Bn]}),n})();const Sw=["*",[["mat-card-footer"]]],Tw=["*","mat-card-footer"],Fy=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],Ly=["[mat-card-avatar], [matCardAvatar]","mat-card-title, mat-card-subtitle,\n      [mat-card-title], [mat-card-subtitle],\n      [matCardTitle], [matCardSubtitle]","*"];let $m=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-content"],["","mat-card-content",""],["","matCardContent",""]],hostAttrs:[1,"mat-card-content"]}),n})(),xw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-card-title"]}),n})(),Ny=(()=>{class n{constructor(){this.align="start"}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-card-actions"]],hostAttrs:[1,"mat-card-actions"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("mat-card-actions-align-end","end"===i.align)},inputs:{align:"align"},exportAs:["matCardActions"]}),n})(),Iw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-card-avatar",""],["","matCardAvatar",""]],hostAttrs:[1,"mat-card-avatar"]}),n})(),Ef=(()=>{class n{constructor(e){this._animationMode=e}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-card","mat-focus-indicator"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)},exportAs:["matCard"],ngContentSelectors:Tw,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(Sw),s.Hsn(0),s.Hsn(1,1))},styles:[".mat-card{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);display:block;position:relative;padding:16px;border-radius:4px}.mat-card._mat-animation-noopable{transition:none !important;animation:none !important}.mat-card>.mat-divider-horizontal{position:absolute;left:0;width:100%}[dir=rtl] .mat-card>.mat-divider-horizontal{left:auto;right:0}.mat-card>.mat-divider-horizontal.mat-divider-inset{position:static;margin:0}[dir=rtl] .mat-card>.mat-divider-horizontal.mat-divider-inset{margin-right:0}.cdk-high-contrast-active .mat-card{outline:solid 1px}.mat-card-actions,.mat-card-subtitle,.mat-card-content{display:block;margin-bottom:16px}.mat-card-title{display:block;margin-bottom:8px}.mat-card-actions{margin-left:-8px;margin-right:-8px;padding:8px 0}.mat-card-actions-align-end{display:flex;justify-content:flex-end}.mat-card-image{width:calc(100% + 32px);margin:0 -16px 16px -16px;display:block;overflow:hidden}.mat-card-image img{width:100%}.mat-card-footer{display:block;margin:0 -16px -16px -16px}.mat-card-actions .mat-button,.mat-card-actions .mat-raised-button,.mat-card-actions .mat-stroked-button{margin:0 8px}.mat-card-header{display:flex;flex-direction:row}.mat-card-header .mat-card-title{margin-bottom:12px}.mat-card-header-text{margin:0 16px}.mat-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;object-fit:cover}.mat-card-title-group{display:flex;justify-content:space-between}.mat-card-sm-image{width:80px;height:80px}.mat-card-md-image{width:112px;height:112px}.mat-card-lg-image{width:152px;height:152px}.mat-card-xl-image{width:240px;height:240px;margin:-8px}.mat-card-title-group>.mat-card-xl-image{margin:-8px 0 8px}@media(max-width: 599px){.mat-card-title-group{margin:0}.mat-card-xl-image{margin-left:0;margin-right:0}}.mat-card>:first-child,.mat-card-content>:first-child{margin-top:0}.mat-card>:last-child:not(.mat-card-footer),.mat-card-content>:last-child:not(.mat-card-footer){margin-bottom:0}.mat-card-image:first-child{margin-top:-16px;border-top-left-radius:inherit;border-top-right-radius:inherit}.mat-card>.mat-card-actions:last-child{margin-bottom:-8px;padding-bottom:0}.mat-card-actions:not(.mat-card-actions-align-end) .mat-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-raised-button:first-child,.mat-card-actions:not(.mat-card-actions-align-end) .mat-stroked-button:first-child{margin-left:0;margin-right:0}.mat-card-actions-align-end .mat-button:last-child,.mat-card-actions-align-end .mat-raised-button:last-child,.mat-card-actions-align-end .mat-stroked-button:last-child{margin-left:0;margin-right:0}.mat-card-title:not(:first-child),.mat-card-subtitle:not(:first-child){margin-top:-4px}.mat-card-header .mat-card-subtitle:not(:first-child){margin-top:-8px}.mat-card>.mat-card-xl-image:first-child{margin-top:-8px}.mat-card>.mat-card-xl-image:last-child{margin-bottom:-8px}"],encapsulation:2,changeDetection:0}),n})(),Pw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-card-header"],ngContentSelectors:Ly,decls:4,vars:0,consts:[[1,"mat-card-header-text"]],template:function(e,i){1&e&&(s.F$t(Fy),s.Hsn(0),s.TgZ(1,"div",0),s.Hsn(2,1),s.qZA(),s.Hsn(3,2))},encapsulation:2,changeDetection:0}),n})(),kw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bn,Bn]}),n})();var Rs=R(6451),DO=R(1144);const hT=["addListener","removeListener"],fT=["addEventListener","removeEventListener"],Rw=["on","off"];function Gn(n,t,e,i){if((0,Xn.m)(e)&&(i=e,e=void 0),i)return Gn(n,t,e).pipe(Xs(i));const[r,a]=function mT(n){return(0,Xn.m)(n.addEventListener)&&(0,Xn.m)(n.removeEventListener)}(n)?fT.map(u=>h=>n[u](t,h,e)):function Ow(n){return(0,Xn.m)(n.addListener)&&(0,Xn.m)(n.removeListener)}(n)?hT.map(Wi(n,t)):function pT(n){return(0,Xn.m)(n.on)&&(0,Xn.m)(n.off)}(n)?Rw.map(Wi(n,t)):[];if(!r&&(0,DO.z)(n))return(0,Hi.z)(u=>Gn(u,t,e))((0,pr.Xf)(n));if(!r)throw new TypeError("Invalid event target");return new qn.y(u=>{const h=(..._)=>u.next(1<_.length?_:_[0]);return r(h),()=>a(h)})}function Wi(n,t){return e=>i=>n[e](t,i)}class Vy{}const Pa="*";function ka(n,t){return{type:7,name:n,definitions:t,options:{}}}function Pi(n,t=null){return{type:4,styles:t,timings:n}}function Fw(n,t=null){return{type:3,steps:n,options:t}}function Lw(n,t=null){return{type:2,steps:n,options:t}}function kn(n){return{type:6,styles:n,offset:null}}function ms(n,t,e){return{type:0,name:n,styles:t,options:e}}function xr(n,t,e=null){return{type:1,expr:n,animation:t,options:e}}function qm(n=null){return{type:9,options:n}}function Vw(n,t,e=null){return{type:11,selector:n,animation:t,options:e}}function zo(n){Promise.resolve(null).then(n)}class Qr{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){zo(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class ao{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,i=0,r=0;const a=this.players.length;0==a?zo(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++e==a&&this._onFinish()}),u.onDestroy(()=>{++i==a&&this._onDestroy()}),u.onStart(()=>{++r==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,e/i.totalTime):1;i.setPosition(r)})}getPosition(){const t=this.players.reduce((e,i)=>null===e||i.totalTime>e.totalTime?i:e,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}const Bw=["connectionContainer"],_T=["inputContainer"],yT=["label"];function vT(n,t){1&n&&(s.ynx(0),s.TgZ(1,"div",14),s._UZ(2,"div",15)(3,"div",16)(4,"div",17),s.qZA(),s.TgZ(5,"div",18),s._UZ(6,"div",15)(7,"div",16)(8,"div",17),s.qZA(),s.BQk())}function bT(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",19),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.Hsn(1,1),s.qZA()}if(2&n){const e=s.oxw();s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)}}function By(n,t){if(1&n&&(s.ynx(0),s.Hsn(1,2),s.TgZ(2,"span"),s._uU(3),s.qZA(),s.BQk()),2&n){const e=s.oxw(2);s.xp6(3),s.Oqu(e._control.placeholder)}}function Af(n,t){1&n&&s.Hsn(0,3,["*ngSwitchCase","true"])}function wT(n,t){1&n&&(s.TgZ(0,"span",23),s._uU(1," *"),s.qZA())}function Uw(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"label",20,21),s.NdJ("cdkObserveContent",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.updateOutlineGap())}),s.YNc(2,By,4,1,"ng-container",12),s.YNc(3,Af,1,0,"ng-content",12),s.YNc(4,wT,2,0,"span",22),s.qZA()}if(2&n){const e=s.oxw();s.ekj("mat-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-form-field-empty",e._control.empty&&!e._shouldAlwaysFloat())("mat-accent","accent"==e.color)("mat-warn","warn"==e.color),s.Q6J("cdkObserveContentDisabled","outline"!=e.appearance)("id",e._labelId)("ngSwitch",e._hasLabel()),s.uIk("for",e._control.id)("aria-owns",e._control.id),s.xp6(2),s.Q6J("ngSwitchCase",!1),s.xp6(1),s.Q6J("ngSwitchCase",!0),s.xp6(1),s.Q6J("ngIf",!e.hideRequiredMarker&&e._control.required&&!e._control.disabled)}}function CT(n,t){1&n&&(s.TgZ(0,"div",24),s.Hsn(1,4),s.qZA())}function jw(n,t){if(1&n&&(s.TgZ(0,"div",25),s._UZ(1,"span",26),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.ekj("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)}}function Hw(n,t){if(1&n&&(s.TgZ(0,"div"),s.Hsn(1,5),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState)}}function Km(n,t){if(1&n&&(s.TgZ(0,"div",30),s._uU(1),s.qZA()),2&n){const e=s.oxw(2);s.Q6J("id",e._hintLabelId),s.xp6(1),s.Oqu(e.hintLabel)}}function DT(n,t){if(1&n&&(s.TgZ(0,"div",27),s.YNc(1,Km,2,2,"div",28),s.Hsn(2,6),s._UZ(3,"div",29),s.Hsn(4,7),s.qZA()),2&n){const e=s.oxw();s.Q6J("@transitionMessages",e._subscriptAnimationState),s.xp6(1),s.Q6J("ngIf",e.hintLabel)}}const Gw=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],zw=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"];let Uy=0;const Sf=new s.OlP("MatError");let $w=(()=>{class n{constructor(e,i){this.id="mat-error-"+Uy++,e||i.nativeElement.setAttribute("aria-live","polite")}}return n.\u0275fac=function(e){return new(e||n)(s.$8M("aria-live"),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-error"]],hostAttrs:["aria-atomic","true",1,"mat-error"],hostVars:1,hostBindings:function(e,i){2&e&&s.uIk("id",i.id)},inputs:{id:"id"},features:[s._Bn([{provide:Sf,useExisting:n}])]}),n})();const Ww={transitionMessages:ka("transitionMessages",[ms("enter",kn({opacity:1,transform:"translateY(0%)"})),xr("void => enter",[kn({opacity:0,transform:"translateY(-5px)"}),Pi("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let Zm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n}),n})();const qw=new s.OlP("MatHint");let Qm=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-label"]]}),n})(),xT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-placeholder"]]}),n})();const MT=new s.OlP("MatPrefix"),Yw=new s.OlP("MatSuffix");let IT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","matSuffix",""]],features:[s._Bn([{provide:Yw,useExisting:n}])]}),n})(),Kw=0;const kT=bf(class{constructor(n){this._elementRef=n}},"primary"),RT=new s.OlP("MAT_FORM_FIELD_DEFAULT_OPTIONS"),jy=new s.OlP("MatFormField");let Xm=(()=>{class n extends kT{constructor(e,i,r,a,u,h,_){super(e),this._changeDetectorRef=i,this._dir=r,this._defaults=a,this._platform=u,this._ngZone=h,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new _t.x,this._hideRequiredMarker=!1,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+Kw++,this._labelId="mat-form-field-label-"+Kw++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==_,this.appearance=a?.appearance||"legacy",a&&(this._hideRequiredMarker=Boolean(a.hideRequiredMarker),a.color&&(this.color=this.defaultColor=a.color))}get appearance(){return this._appearance}set appearance(e){const i=this._appearance;this._appearance=e||this._defaults?.appearance||"legacy","outline"===this._appearance&&i!==e&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(e){this._hideRequiredMarker=ti(e)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(e){this._hintLabel=e,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(e){e!==this._floatLabel&&(this._floatLabel=e||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(e){this._explicitFormFieldControl=e}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const e=this._control;e.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${e.controlType}`),e.stateChanges.pipe(hi(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),e.ngControl&&e.ngControl.valueChanges&&e.ngControl.valueChanges.pipe(Zt(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Zt(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),(0,Rs.T)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(hi(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(hi(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(Zt(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(e){const i=this._control?this._control.ngControl:null;return i&&i[e]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,Gn(this._label.nativeElement,"transitionend").pipe(Jn(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let e=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&e.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(a=>"start"===a.align):null,r=this._hintChildren?this._hintChildren.find(a=>"end"===a.align):null;i?e.push(i.id):this._hintLabel&&e.push(this._hintLabelId),r&&e.push(r.id)}else this._errorChildren&&e.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(e)}}_validateControlChild(){}updateOutlineGap(){const e=this._label?this._label.nativeElement:null,i=this._connectionContainerRef.nativeElement,r=".mat-form-field-outline-start",a=".mat-form-field-outline-gap";if("outline"!==this.appearance||!this._platform.isBrowser)return;if(!e||!e.children.length||!e.textContent.trim()){const M=i.querySelectorAll(`${r}, ${a}`);for(let j=0;j<M.length;j++)M[j].style.width="0";return}if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let u=0,h=0;const _=i.querySelectorAll(r),w=i.querySelectorAll(a);if(this._label&&this._label.nativeElement.children.length){const M=i.getBoundingClientRect();if(0===M.width&&0===M.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const j=this._getStartEnd(M),Ce=e.children,Me=this._getStartEnd(Ce[0].getBoundingClientRect());let Le=0;for(let $e=0;$e<Ce.length;$e++)Le+=Ce[$e].offsetWidth;u=Math.abs(Me-j)-5,h=Le>0?.75*Le+10:0}for(let M=0;M<_.length;M++)_[M].style.width=`${u}px`;for(let M=0;M<w.length;M++)w[M].style.width=`${h}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(e){return this._dir&&"rtl"===this._dir.value?e.right:e.left}_isAttachedToDOM(){const e=this._elementRef.nativeElement;if(e.getRootNode){const i=e.getRootNode();return i&&i!==e}return document.documentElement.contains(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(ps,8),s.Y36(RT,8),s.Y36(xi),s.Y36(s.R0b),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-form-field"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Zm,5),s.Suo(r,Zm,7),s.Suo(r,Qm,5),s.Suo(r,Qm,7),s.Suo(r,xT,5),s.Suo(r,Sf,5),s.Suo(r,qw,5),s.Suo(r,MT,5),s.Suo(r,Yw,5)),2&e){let a;s.iGM(a=s.CRH())&&(i._controlNonStatic=a.first),s.iGM(a=s.CRH())&&(i._controlStatic=a.first),s.iGM(a=s.CRH())&&(i._labelChildNonStatic=a.first),s.iGM(a=s.CRH())&&(i._labelChildStatic=a.first),s.iGM(a=s.CRH())&&(i._placeholderChild=a.first),s.iGM(a=s.CRH())&&(i._errorChildren=a),s.iGM(a=s.CRH())&&(i._hintChildren=a),s.iGM(a=s.CRH())&&(i._prefixChildren=a),s.iGM(a=s.CRH())&&(i._suffixChildren=a)}},viewQuery:function(e,i){if(1&e&&(s.Gf(Bw,7),s.Gf(_T,5),s.Gf(yT,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._connectionContainerRef=r.first),s.iGM(r=s.CRH())&&(i._inputContainerRef=r.first),s.iGM(r=s.CRH())&&(i._label=r.first)}},hostAttrs:[1,"mat-form-field"],hostVars:40,hostBindings:function(e,i){2&e&&s.ekj("mat-form-field-appearance-standard","standard"==i.appearance)("mat-form-field-appearance-fill","fill"==i.appearance)("mat-form-field-appearance-outline","outline"==i.appearance)("mat-form-field-appearance-legacy","legacy"==i.appearance)("mat-form-field-invalid",i._control.errorState)("mat-form-field-can-float",i._canLabelFloat())("mat-form-field-should-float",i._shouldLabelFloat())("mat-form-field-has-label",i._hasFloatingLabel())("mat-form-field-hide-placeholder",i._hideControlPlaceholder())("mat-form-field-disabled",i._control.disabled)("mat-form-field-autofilled",i._control.autofilled)("mat-focused",i._control.focused)("ng-untouched",i._shouldForward("untouched"))("ng-touched",i._shouldForward("touched"))("ng-pristine",i._shouldForward("pristine"))("ng-dirty",i._shouldForward("dirty"))("ng-valid",i._shouldForward("valid"))("ng-invalid",i._shouldForward("invalid"))("ng-pending",i._shouldForward("pending"))("_mat-animation-noopable",!i._animationsEnabled)},inputs:{color:"color",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel",floatLabel:"floatLabel"},exportAs:["matFormField"],features:[s._Bn([{provide:jy,useExisting:n}]),s.qOj],ngContentSelectors:zw,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix",3,"cdkObserveContentDisabled","cdkObserveContent"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(e,i){1&e&&(s.F$t(Gw),s.TgZ(0,"div",0)(1,"div",1,2),s.NdJ("click",function(a){return i._control.onContainerClick&&i._control.onContainerClick(a)}),s.YNc(3,vT,9,0,"ng-container",3),s.YNc(4,bT,2,1,"div",4),s.TgZ(5,"div",5,6),s.Hsn(7),s.TgZ(8,"span",7),s.YNc(9,Uw,5,16,"label",8),s.qZA()(),s.YNc(10,CT,2,0,"div",9),s.qZA(),s.YNc(11,jw,2,4,"div",10),s.TgZ(12,"div",11),s.YNc(13,Hw,2,1,"div",12),s.YNc(14,DT,5,2,"div",13),s.qZA()()),2&e&&(s.xp6(3),s.Q6J("ngIf","outline"==i.appearance),s.xp6(1),s.Q6J("ngIf",i._prefixChildren.length),s.xp6(5),s.Q6J("ngIf",i._hasFloatingLabel()),s.xp6(1),s.Q6J("ngIf",i._suffixChildren.length),s.xp6(1),s.Q6J("ngIf","outline"!=i.appearance),s.xp6(1),s.Q6J("ngSwitch",i._getDisplayedMessages()),s.xp6(1),s.Q6J("ngSwitchCase","error"),s.xp6(1),s.Q6J("ngSwitchCase","hint"))},dependencies:[bo,ia,ra,hf],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.cdk-high-contrast-active .mat-form-field-disabled .mat-form-field-label{color:GrayText}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-form-field-flex{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-form-field-flex{outline:dashed 3px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}','.mat-input-element{font:inherit;background:rgba(0,0,0,0);color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit;box-sizing:content-box}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element:not([type=password])::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{opacity:0}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:rgba(0,0,0,0) !important;-webkit-text-fill-color:rgba(0,0,0,0);transition:none}.cdk-high-contrast-active .mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{opacity:0}._mat-animation-noopable .mat-input-element::placeholder{transition:none}._mat-animation-noopable .mat-input-element::-moz-placeholder{transition:none}._mat-animation-noopable .mat-input-element::-webkit-input-placeholder{transition:none}._mat-animation-noopable .mat-input-element:-ms-input-placeholder{transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px)}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px;border-top-color:GrayText}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:rgba(0,0,0,0)}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick{border:3px dashed}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.cdk-high-contrast-active .mat-form-field-appearance-outline.mat-form-field-disabled .mat-form-field-outline{color:GrayText}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:rgba(0,0,0,0)}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}"],encapsulation:2,data:{animation:[Ww.transitionMessages]},changeDetection:0}),n})(),Hy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Xi,Bn,yc,Bn]}),n})();const Qw=Go({passive:!0});let OT=(()=>{class n{constructor(e,i){this._platform=e,this._ngZone=i,this._monitoredElements=new Map}monitor(e){if(!this._platform.isBrowser)return ji.E;const i=Ii(e),r=this._monitoredElements.get(i);if(r)return r.subject;const a=new _t.x,u="cdk-text-field-autofilled",h=_=>{"cdk-text-field-autofill-start"!==_.animationName||i.classList.contains(u)?"cdk-text-field-autofill-end"===_.animationName&&i.classList.contains(u)&&(i.classList.remove(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!1}))):(i.classList.add(u),this._ngZone.run(()=>a.next({target:_.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",h,Qw),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:a,unlisten:()=>{i.removeEventListener("animationstart",h,Qw)}}),a}stopMonitoring(e){const i=Ii(e),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((e,i)=>this.stopMonitoring(i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xi),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();function zy(...n){const t=(0,Wr.jO)(n),{args:e,keys:i}=cl(n),r=new qn.y(a=>{const{length:u}=e;if(!u)return void a.complete();const h=new Array(u);let _=u,w=u;for(let M=0;M<u;M++){let j=!1;(0,pr.Xf)(e[M]).subscribe((0,Kn.x)(a,Ce=>{j||(j=!0,w--),h[M]=Ce},()=>_--,void 0,()=>{(!_||!j)&&(w||a.next(i?Js(i,h):h),a.complete())}))}});return t?r.pipe(Xs(t)):r}let $y=(()=>{class n{constructor(e,i){this._renderer=e,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,i){this._renderer.setProperty(this._elementRef.nativeElement,e,i)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n}),n})(),Ec=(()=>{class n extends $y{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,features:[s.qOj]}),n})();const Os=new s.OlP("NgValueAccessor"),Jw={provide:Os,useExisting:(0,s.Gpc)(()=>Ra),multi:!0},Yy=new s.OlP("CompositionEventMode");let Ra=(()=>{class n extends $y{constructor(e,i,r){super(e,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qy(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.Qsj),s.Y36(s.SBq),s.Y36(Yy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,i){1&e&&s.NdJ("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},features:[s._Bn([Jw]),s.qOj]}),n})();function Ac(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function ku(n){return null!=n&&"number"==typeof n.length}const Mr=new s.OlP("NgValidators"),Oa=new s.OlP("NgAsyncValidators"),xO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class jd{static min(t){return function Ky(n){return t=>{if(Ac(t.value)||Ac(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}(t)}static max(t){return function NT(n){return t=>{if(Ac(t.value)||Ac(n))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}(t)}static required(t){return function ln(n){return Ac(n.value)?{required:!0}:null}(t)}static requiredTrue(t){return function eC(n){return!0===n.value?null:{required:!0}}(t)}static email(t){return function tC(n){return Ac(n.value)||xO.test(n.value)?null:{email:!0}}(t)}static minLength(t){return function nC(n){return t=>Ac(t.value)||!ku(t.value)?null:t.value.length<n?{minlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Ru(n){return t=>ku(t.value)&&t.value.length>n?{maxlength:{requiredLength:n,actualLength:t.value.length}}:null}(t)}static pattern(t){return function iC(n){if(!n)return Ou;let t,e;return"string"==typeof n?(e="","^"!==n.charAt(0)&&(e+="^"),e+=n,"$"!==n.charAt(n.length-1)&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),i=>{if(Ac(i.value))return null;const r=i.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return Qy(t)}static composeAsync(t){return Xy(t)}}function Ou(n){return null}function Tf(n){return null!=n}function Ci(n){return(0,s.QGY)(n)?(0,Vn.D)(n):n}function VT(n){let t={};return n.forEach(e=>{t=null!=e?{...t,...e}:t}),0===Object.keys(t).length?null:t}function Zy(n,t){return t.map(e=>e(n))}function sC(n){return n.map(t=>function rC(n){return!n.validate}(t)?t:e=>t.validate(e))}function Qy(n){if(!n)return null;const t=n.filter(Tf);return 0==t.length?null:function(e){return VT(Zy(e,t))}}function Jm(n){return null!=n?Qy(sC(n)):null}function Xy(n){if(!n)return null;const t=n.filter(Tf);return 0==t.length?null:function(e){return zy(Zy(e,t).map(Ci)).pipe((0,zt.U)(VT))}}function eg(n){return null!=n?Xy(sC(n)):null}function oC(n,t){return null===n?[t]:Array.isArray(n)?[...n,t]:[n,t]}function aC(n){return n._rawValidators}function lC(n){return n._rawAsyncValidators}function Fu(n){return n?Array.isArray(n)?n:[n]:[]}function tg(n,t){return Array.isArray(n)?n.includes(t):n===t}function cC(n,t){const e=Fu(t);return Fu(n).forEach(r=>{tg(e,r)||e.push(r)}),e}function uC(n,t){return Fu(t).filter(e=>!tg(n,e))}class xf{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Jm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=eg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}class Ir extends xf{get formDirective(){return null}get path(){return null}}class Fa extends xf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Jy{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Hd=(()=>{class n extends Jy{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Fa,2))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[s.qOj]}),n})(),dC=(()=>{class n extends Jy{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ir,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,i){2&e&&s.ekj("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[s.qOj]}),n})();const Tl="VALID",ag="INVALID",Gd="PENDING",Mf="DISABLED";function nv(n){return(cg(n)?n.validators:n)||null}function pC(n){return Array.isArray(n)?Jm(n):n||null}function lg(n,t){return(cg(t)?t.asyncValidators:n)||null}function mC(n){return Array.isArray(n)?eg(n):n||null}function cg(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Lu(n,t,e){const i=n.controls;if(!(t?Object.keys(i):i).length)throw new s.vHH(1e3,"");if(!i[e])throw new s.vHH(1001,"")}function gC(n,t,e){n._forEachChild((i,r)=>{if(void 0===e[r])throw new s.vHH(1002,"")})}class If{constructor(t,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=pC(this._rawValidators),this._composedAsyncValidatorFn=mC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Tl}get invalid(){return this.status===ag}get pending(){return this.status==Gd}get disabled(){return this.status===Mf}get enabled(){return this.status!==Mf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=pC(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=mC(t)}addValidators(t){this.setValidators(cC(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(cC(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(uC(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(uC(t,this._rawAsyncValidators))}hasValidator(t){return tg(this._rawValidators,t)}hasAsyncValidator(t){return tg(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Gd,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Mf,this.errors=null,this._forEachChild(i=>{i.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Tl,this._forEachChild(i=>{i.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:e}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Tl||this.status===Gd)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Mf:Tl}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Gd,this._hasOwnPendingAsyncValidator=!0;const e=Ci(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){let e=t;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((i,r)=>i&&i._find(r),this)}getError(t,e){const i=e?this.get(e):this;return i&&i.errors?i.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new s.vpe,this.statusChanges=new s.vpe}_calculateStatus(){return this._allControlsDisabled()?Mf:this.errors?ag:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Gd)?Gd:this._anyControlsHaveStatus(ag)?ag:Tl}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){cg(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}}class ug extends If{constructor(t,e,i){super(nv(e),lg(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,i={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,i={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){gC(this,0,t),Object.keys(t).forEach(i=>{Lu(this,!0,i),this.controls[i].setValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(i=>{const r=this.controls[i];r&&r.patchValue(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,i)=>(t[i]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,i)=>!!i._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const i=this.controls[e];i&&t(i,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const[e,i]of Object.entries(this.controls))if(this.contains(e)&&t(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(e,i,r)=>((i.enabled||this.disabled)&&(e[r]=i.value),e))}_reduceChildren(t,e){let i=t;return this._forEachChild((r,a)=>{i=e(i,r,a)}),i}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}}function Pf(n,t){iv(n,t),t.valueAccessor.writeValue(n.value),n.disabled&&t.valueAccessor.setDisabledState?.(!0),function rv(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&sv(n,t)})}(n,t),function $T(n,t){const e=(i,r)=>{t.valueAccessor.writeValue(i),r&&t.viewToModelUpdate(i)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,t),function zT(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&sv(n,t),"submit"!==n.updateOn&&n.markAsTouched()})}(n,t),function GT(n,t){if(t.valueAccessor.setDisabledState){const e=i=>{t.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,t)}function kf(n,t,e=!0){const i=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(i),t.valueAccessor.registerOnTouched(i)),dg(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Rf(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function iv(n,t){const e=aC(n);null!==t.validator?n.setValidators(oC(e,t.validator)):"function"==typeof e&&n.setValidators([e]);const i=lC(n);null!==t.asyncValidator?n.setAsyncValidators(oC(i,t.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();Rf(t._rawValidators,r),Rf(t._rawAsyncValidators,r)}function dg(n,t){let e=!1;if(null!==n){if(null!==t.validator){const r=aC(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==t.validator);a.length!==r.length&&(e=!0,n.setValidators(a))}}if(null!==t.asyncValidator){const r=lC(n);if(Array.isArray(r)&&r.length>0){const a=r.filter(u=>u!==t.asyncValidator);a.length!==r.length&&(e=!0,n.setAsyncValidators(a))}}}const i=()=>{};return Rf(t._rawValidators,i),Rf(t._rawAsyncValidators,i),e}function sv(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yC(n,t){iv(n,t)}function av(n,t){n._syncPendingControls(),t.forEach(e=>{const i=e.control;"submit"===i.updateOn&&i._pendingChange&&(e.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}const ZT={provide:Ir,useExisting:(0,s.Gpc)(()=>hg)},Of=(()=>Promise.resolve(null))();let hg=(()=>{class n extends Ir{constructor(e,i){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new s.vpe,this.form=new ug({},Jm(e),eg(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Of.then(()=>{const i=this._findContainer(e.path);e.control=i.registerControl(e.name,e.control),Pf(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Of.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){Of.then(()=>{const i=this._findContainer(e.path),r=new ug({});yC(r,e),i.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Of.then(()=>{const i=this._findContainer(e.path);i&&i.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,i){Of.then(()=>{this.form.get(e.path).setValue(i)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,av(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Mr,10),s.Y36(Oa,10))},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([ZT]),s.qOj]}),n})();function fg(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}function pg(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $d=class extends If{constructor(t=null,e,i){super(nv(e),lg(i,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cg(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=pg(t)?t.value:t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){fg(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){fg(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){pg(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let SC=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),dv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const fv=new s.OlP("NgModelWithFormControlWarning"),RC={provide:Ir,useExisting:(0,s.Gpc)(()=>gg)};let gg=(()=>{class n extends Ir{constructor(e,i){super(),this.validators=e,this.asyncValidators=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new s.vpe,this._setValidators(e),this._setAsyncValidators(i)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(dg(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const i=this.form.get(e.path);return Pf(i,e),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),i}getControl(e){return this.form.get(e.path)}removeControl(e){kf(e.control||null,e,!1),function YT(n,t){const e=n.indexOf(t);e>-1&&n.splice(e,1)}(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,i){this.form.get(e.path).setValue(i)}onSubmit(e){return this.submitted=!0,av(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const i=e.control,r=this.form.get(e.path);i!==r&&(kf(i||null,e),(n=>n instanceof $d)(r)&&(Pf(r,e),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const i=this.form.get(e.path);yC(i,e),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const i=this.form.get(e.path);i&&function WT(n,t){return dg(n,t)}(i,e)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){iv(this.form,this),this._oldForm&&dg(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Mr,10),s.Y36(Oa,10))},n.\u0275dir=s.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(e,i){1&e&&s.NdJ("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[s._Bn([RC]),s.qOj,s.TTD]}),n})();const ix={provide:Fa,useExisting:(0,s.Gpc)(()=>mv)};let mv=(()=>{class n extends Fa{constructor(e,i,r,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new s.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=function lv(n,t){if(!t)return null;let e,i,r;return Array.isArray(t),t.forEach(a=>{a.constructor===Ra?e=a:function bC(n){return Object.getPrototypeOf(n.constructor)===Ec}(a)?i=a:r=a}),r||i||e||null}(0,a)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),function ov(n,t){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return function zd(n,t){return[...t.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(e){return new(e||n)(s.Y36(Ir,13),s.Y36(Mr,10),s.Y36(Oa,10),s.Y36(Os,10),s.Y36(fv,8))},n.\u0275dir=s.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[s._Bn([ix]),s.qOj,s.TTD]}),n})(),$C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[dv]}),n})(),yg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$C]}),n})(),Bf=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:fv,useValue:e.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[$C]}),n})();class WC extends If{constructor(t,e,i){super(nv(e),lg(i,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,i={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(t,e={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,i={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){gC(this,0,t),t.forEach((i,r)=>{Lu(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((i,r)=>{i.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,i)=>!!i._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,i)=>{t(e,i)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}}function Ev(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Av=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const e=new n;return e.useNonNullable=!0,e}group(e,i=null){const r=this._reduceControls(e);let a={};return Ev(i)?a=i:null!==i&&(a.validators=i.validator,a.asyncValidators=i.asyncValidator),new ug(r,a)}control(e,i,r){let a={};return this.useNonNullable?(Ev(i)?a=i:(a.validators=i,a.asyncValidators=r),new $d(e,{...a,nonNullable:!0})):new $d(e,i,r)}array(e,i,r){const a=e.map(u=>this._createControl(u));return new WC(a,i,r)}_reduceControls(e){const i={};return Object.keys(e).forEach(r=>{i[r]=this._createControl(e[r])}),i}_createControl(e){return e instanceof $d||e instanceof If?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:Bf}),n})();const vg=new s.OlP("MAT_INPUT_VALUE_ACCESSOR"),Sv=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let qC=0;const Tv=KS(class{constructor(n,t,e,i){this._defaultErrorStateMatcher=n,this._parentForm=t,this._parentFormGroup=e,this.ngControl=i,this.stateChanges=new _t.x}});let bg=(()=>{class n extends Tv{constructor(e,i,r,a,u,h,_,w,M,j){super(h,a,u,r),this._elementRef=e,this._platform=i,this._autofillMonitor=w,this._formField=j,this._uid="mat-input-"+qC++,this.focused=!1,this.stateChanges=new _t.x,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(Le=>ly().has(Le)),this._iOSKeyupListener=Le=>{const $e=Le.target;!$e.value&&0===$e.selectionStart&&0===$e.selectionEnd&&($e.setSelectionRange(1,1),$e.setSelectionRange(0,0))};const Ce=this._elementRef.nativeElement,Me=Ce.nodeName.toLowerCase();this._inputValueAccessor=_||Ce,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&M.runOutsideAngular(()=>{e.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===Me,this._isTextarea="textarea"===Me,this._isInFormField=!!j,this._isNativeSelect&&(this.controlType=Ce.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(e){this._disabled=ti(e),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(e){this._id=e||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(jd.required)??!1}set required(e){this._required=ti(e)}get type(){return this._type}set type(e){this._type=e||"text",this._validateType(),!this._isTextarea&&ly().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(e){e!==this.value&&(this._inputValueAccessor.value=e,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(e){this._readonly=ti(e)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(e=>{this.autofilled=e.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(e){this._elementRef.nativeElement.focus(e)}_focusChanged(e){e!==this.focused&&(this.focused=e,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){const e=this._formField,i=e&&"legacy"===e.appearance&&!e._hasLabel?.()?null:this.placeholder;if(i!==this._previousPlaceholder){const r=this._elementRef.nativeElement;this._previousPlaceholder=i,i?r.setAttribute("placeholder",i):r.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const e=this._elementRef.nativeElement.value;this._previousNativeValue!==e&&(this._previousNativeValue=e,this.stateChanges.next())}_validateType(){Sv.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let e=this._elementRef.nativeElement.validity;return e&&e.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const e=this._elementRef.nativeElement,i=e.options[0];return this.focused||e.multiple||!this.empty||!!(e.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(e){e.length?this._elementRef.nativeElement.setAttribute("aria-describedby",e.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const e=this._elementRef.nativeElement;return this._isNativeSelect&&(e.multiple||e.size>1)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(xi),s.Y36(Fa,10),s.Y36(hg,8),s.Y36(gg,8),s.Y36(bc),s.Y36(vg,10),s.Y36(OT),s.Y36(s.R0b),s.Y36(jy,8))},n.\u0275dir=s.lG2({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:12,hostBindings:function(e,i){1&e&&s.NdJ("focus",function(){return i._focusChanged(!0)})("blur",function(){return i._focusChanged(!1)})("input",function(){return i._onInput()}),2&e&&(s.Ikx("disabled",i.disabled)("required",i.required),s.uIk("id",i.id)("data-placeholder",i.placeholder)("name",i.name||null)("readonly",i.readonly&&!i._isNativeSelect||null)("aria-invalid",i.empty&&i.required?null:i.errorState)("aria-required",i.required),s.ekj("mat-input-server",i._isServer)("mat-native-select-inline",i._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[s._Bn([{provide:Zm,useExisting:n}]),s.qOj,s.TTD]}),n})(),hx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[bc],imports:[Gy,Hy,Bn,Gy,Hy]}),n})();var YC=R(4408);const Uf={schedule(n){let t=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:i}=Uf;i&&(t=i.requestAnimationFrame,e=i.cancelAnimationFrame);const r=t(a=>{e=void 0,n(a)});return new Zn.w0(()=>e?.(r))},requestAnimationFrame(...n){const{delegate:t}=Uf;return(t?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:t}=Uf;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};var xv=R(7565);const Iv=new class Mv extends xv.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class fx extends YC.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=Uf.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(Uf.cancelAnimationFrame(e),t._scheduled=void 0)}});let wg,KC=1;const Cg={};function Pv(n){return n in Cg&&(delete Cg[n],!0)}const ZC={setImmediate(n){const t=KC++;return Cg[t]=!0,wg||(wg=Promise.resolve()),wg.then(()=>Pv(t)&&n()),t},clearImmediate(n){Pv(n)}},{setImmediate:QC,clearImmediate:XC}=ZC,cr={setImmediate(...n){const{delegate:t}=cr;return(t?.setImmediate||QC)(...n)},clearImmediate(n){const{delegate:t}=cr;return(t?.clearImmediate||XC)(n)},delegate:void 0},kv=new class mx extends xv.v{flush(t){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;t=t||i.shift();do{if(r=t.execute(t.state,t.delay))break}while((t=i[0])&&t.id===e&&i.shift());if(this._active=!1,r){for(;(t=i[0])&&t.id===e&&i.shift();)t.unsubscribe();throw r}}}(class Wd extends YC.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,i=0){return null!==i&&i>0?super.requestAsyncId(t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=cr.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,e,i=0){if(null!=i&&i>0||null==i&&this.delay>0)return super.recycleAsyncId(t,e,i);t.actions.some(r=>r.id===e)||(cr.clearImmediate(e),t._scheduled=void 0)}});var JC=R(3532);function Tc(n=0,t,e=Ps.P){let i=-1;return null!=t&&((0,JC.K)(t)?e=t:i=t),new qn.y(r=>{let a=function eD(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;a<0&&(a=0);let u=0;return e.schedule(function(){r.closed||(r.next(u++),0<=i?this.schedule(void 0,i):r.complete())},a)})}function tD(n,t=Ps.z){return function YO(n){return(0,Hn.e)((t,e)=>{let i=!1,r=null,a=null,u=!1;const h=()=>{if(a?.unsubscribe(),a=null,i){i=!1;const w=r;r=null,e.next(w)}u&&e.complete()},_=()=>{a=null,u&&e.complete()};t.subscribe((0,Kn.x)(e,w=>{i=!0,r=w,a||(0,pr.Xf)(n(w)).subscribe(a=(0,Kn.x)(e,h,_))},()=>{u=!0,(!i||!a||a.closed)&&e.complete()}))})}(()=>Tc(n,t))}let Dg=(()=>{class n{constructor(e,i,r){this._ngZone=e,this._platform=i,this._scrolled=new _t.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const i=this.scrollContainers.get(e);i&&(i.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new qn.y(i=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(tD(e)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Nt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(e,i){const r=this.getAncestorScrollContainers(e);return this.scrolled(i).pipe(ei(a=>!a||r.indexOf(a)>-1))}getAncestorScrollContainers(e){const i=[];return this.scrollContainers.forEach((r,a)=>{this._scrollableContainsElement(a,e)&&i.push(a)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,i){let r=Ii(i),a=e.getElementRef().nativeElement;do{if(r==a)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Gn(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(xi),s.LFG(B,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xl=(()=>{class n{constructor(e,i,r){this._platform=e,this._change=new _t.x,this._changeListener=a=>{this._change.next(a)},this._document=r,i.runOutsideAngular(()=>{if(e.isBrowser){const a=this._getWindow();a.addEventListener("resize",this._changeListener),a.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,i=this._getWindow(),r=e.documentElement,a=r.getBoundingClientRect();return{top:-a.top||e.body.scrollTop||i.scrollY||r.scrollTop||0,left:-a.left||e.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(tD(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xi),s.LFG(s.R0b),s.LFG(B,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Gf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),oD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[yf,Gf,yf,Gf]}),n})();class Rv{attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class Nu extends Rv{constructor(t,e,i,r){super(),this.component=t,this.viewContainerRef=e,this.injector=i,this.componentFactoryResolver=r}}class qd extends Rv{constructor(t,e,i,r){super(),this.templateRef=t,this.viewContainerRef=e,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(t,e=this.context){return this.context=e,super.attach(t)}detach(){return this.context=void 0,super.detach()}}class Ex extends Rv{constructor(t){super(),this.element=t instanceof s.SBq?t.nativeElement:t}}class Eg{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(t){return t instanceof Nu?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof qd?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof Ex?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Sx extends Eg{constructor(t,e,i,r,a){super(),this.outletElement=t,this._componentFactoryResolver=e,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=u=>{const h=u.element,_=this._document.createComment("dom-portal");h.parentNode.insertBefore(_,h),this.outletElement.appendChild(h),this._attachedPortal=u,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(h,_)})},this._document=a}attachComponentPortal(t){const i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);let r;return t.viewContainerRef?(r=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(()=>r.destroy())):(r=i.create(t.injector||this._defaultInjector||s.zs3.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=t,r}attachTemplatePortal(t){let e=t.viewContainerRef,i=e.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(i);-1!==r&&e.remove(r)}),this._attachedPortal=t,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let Ml=(()=>{class n extends Eg{constructor(e,i,r){super(),this._componentFactoryResolver=e,this._viewContainerRef=i,this._isInitialized=!1,this.attached=new s.vpe,this.attachDomPortal=a=>{const u=a.element,h=this._document.createComment("dom-portal");a.setAttachedHost(this),u.parentNode.insertBefore(h,u),this._getRootNode().appendChild(u),this._attachedPortal=a,super.setDisposeFn(()=>{h.parentNode&&h.parentNode.replaceChild(u,h)})},this._document=r}get portal(){return this._attachedPortal}set portal(e){this.hasAttached()&&!e&&!this._isInitialized||(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e||null)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const i=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,a=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),u=i.createComponent(a,i.length,e.injector||i.injector);return i!==this._viewContainerRef&&this._getRootNode().appendChild(u.hostView.rootNodes[0]),super.setDisposeFn(()=>u.destroy()),this._attachedPortal=e,this._attachedRef=u,this.attached.emit(u),u}attachTemplatePortal(e){e.setAttachedHost(this);const i=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36(B))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[s.qOj]}),n})(),Vu=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})();const Ov=bR();class s1{constructor(t,e){this._viewportRuler=t,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Mi(-this._previousScrollPosition.left),t.style.top=Mi(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const t=this._document.documentElement,i=t.style,r=this._document.body.style,a=i.scrollBehavior||"",u=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),Ov&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Ov&&(i.scrollBehavior=a,r.scrollBehavior=u)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}}class o1{constructor(t,e,i,r){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(t){this._overlayRef=t}enable(){if(this._scrollSubscription)return;const t=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Ix{enable(){}disable(){}attach(){}}function aD(n,t){return t.some(e=>n.bottom<e.top||n.top>e.bottom||n.right<e.left||n.left>e.right)}function Px(n,t){return t.some(e=>n.top<e.top||n.bottom>e.bottom||n.left<e.left||n.right>e.right)}class a1{constructor(t,e,i,r){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(t){this._overlayRef=t}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();aD(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let l1=(()=>{class n{constructor(e,i,r,a){this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Ix,this.close=u=>new o1(this._scrollDispatcher,this._ngZone,this._viewportRuler,u),this.block=()=>new s1(this._viewportRuler,this._document),this.reposition=u=>new a1(this._scrollDispatcher,this._viewportRuler,this._ngZone,u),this._document=a}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Dg),s.LFG(xl),s.LFG(s.R0b),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Bu{constructor(t){if(this.scrollStrategy=new Ix,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,t){const e=Object.keys(t);for(const i of e)void 0!==t[i]&&(this[i]=t[i])}}}class Ag{constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}}let Fx=(()=>{class n{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Fv=(()=>{class n extends Fx{constructor(e,i){super(e),this._ngZone=i,this._keydownListener=r=>{const a=this._attachedOverlays;for(let u=a.length-1;u>-1;u--)if(a[u]._keydownEvents.observers.length>0){const h=a[u]._keydownEvents;this._ngZone?this._ngZone.run(()=>h.next(r)):h.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),lD=(()=>{class n extends Fx{constructor(e,i,r){super(e),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=a=>{this._pointerDownEventTarget=Is(a)},this._clickListener=a=>{const u=Is(a),h="click"===a.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:u;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let w=_.length-1;w>-1;w--){const M=_[w];if(M._outsidePointerEvents.observers.length<1||!M.hasAttached())continue;if(M.overlayElement.contains(u)||M.overlayElement.contains(h))break;const j=M._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>j.next(a)):j.next(a)}}}add(e){if(super.add(e),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(xi),s.LFG(s.R0b,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Sg=(()=>{class n{constructor(e,i){this._platform=i,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||Cm()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let a=0;a<r.length;a++)r[a].remove()}const i=this._document.createElement("div");i.classList.add(e),Cm()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(xi))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Yd{constructor(t,e,i,r,a,u,h,_,w,M=!1){this._portalOutlet=t,this._host=e,this._pane=i,this._config=r,this._ngZone=a,this._keyboardDispatcher=u,this._document=h,this._location=_,this._outsideClickDispatcher=w,this._animationsDisabled=M,this._backdropElement=null,this._backdropClick=new _t.x,this._attachments=new _t.x,this._detachments=new _t.x,this._locationChanges=Zn.w0.EMPTY,this._backdropClickHandler=j=>this._backdropClick.next(j),this._backdropTransitionendHandler=j=>{this._disposeBackdrop(j.target)},this._keydownEvents=new _t.x,this._outsidePointerEvents=new _t.x,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Jn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){const t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,t&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config={...this._config,...t},this._updateElementSize()}setDirection(t){this._config={...this._config,direction:t},this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){const t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const t=this._pane.style;t.width=Mi(this._config.width),t.height=Mi(this._config.height),t.minWidth=Mi(this._config.minWidth),t.minHeight=Mi(this._config.minHeight),t.maxWidth=Mi(this._config.maxWidth),t.maxHeight=Mi(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){const t="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(t)})}):this._backdropElement.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const t=this._backdropElement;if(t){if(this._animationsDisabled)return void this._disposeBackdrop(t);t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",this._backdropTransitionendHandler)}),t.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(t)},500))}}_toggleClasses(t,e,i){const r=Mm(e||[]).filter(a=>!!a);r.length&&(i?t.classList.add(...r):t.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const t=this._ngZone.onStable.pipe(Zt((0,Rs.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){const t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}_disposeBackdrop(t){t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",this._backdropTransitionendHandler),t.remove(),this._backdropElement===t&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const Lx="cdk-overlay-connected-position-bounding-box",Nx=/([A-Za-z%]+)$/;class Vx{constructor(t,e,i,r,a){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new _t.x,this._resizeSubscription=Zn.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(t)}get positions(){return this._preferredPositions}attach(t){this._validatePositions(),t.hostElement.classList.add(Lx),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._originRect,e=this._overlayRect,i=this._viewportRect,r=this._containerRect,a=[];let u;for(let h of this._preferredPositions){let _=this._getOriginPoint(t,r,h),w=this._getOverlayPoint(_,e,h),M=this._getOverlayFit(w,e,i,h);if(M.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(h,_);this._canFitWithFlexibleDimensions(M,w,i)?a.push({position:h,origin:_,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(_,h)}):(!u||u.overlayFit.visibleArea<M.visibleArea)&&(u={overlayFit:M,overlayPoint:w,originPoint:_,position:h,overlayRect:e})}if(a.length){let h=null,_=-1;for(const w of a){const M=w.boundingBoxRect.width*w.boundingBoxRect.height*(w.position.weight||1);M>_&&(_=M,h=w)}return this._isPushed=!1,void this._applyPosition(h.position,h.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(u.position,u.originPoint);this._applyPosition(u.position,u.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Uu(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Lx),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let r,a;if("center"==i.originX)r=t.left+t.width/2;else{const u=this._isRtl()?t.right:t.left,h=this._isRtl()?t.left:t.right;r="start"==i.originX?u:h}return e.left<0&&(r-=e.left),a="center"==i.originY?t.top+t.height/2:"top"==i.originY?t.top:t.bottom,e.top<0&&(a-=e.top),{x:r,y:a}}_getOverlayPoint(t,e,i){let r,a;return r="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,a="center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height,{x:t.x+r,y:t.y+a}}_getOverlayFit(t,e,i,r){const a=cD(e);let{x:u,y:h}=t,_=this._getOffset(r,"x"),w=this._getOffset(r,"y");_&&(u+=_),w&&(h+=w);let Ce=0-h,Me=h+a.height-i.height,Le=this._subtractOverflows(a.width,0-u,u+a.width-i.width),$e=this._subtractOverflows(a.height,Ce,Me),st=Le*$e;return{visibleArea:st,isCompletelyWithinViewport:a.width*a.height===st,fitsInViewportVertically:$e===a.height,fitsInViewportHorizontally:Le==a.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){const r=i.bottom-e.y,a=i.right-e.x,u=zf(this._overlayRef.getConfig().minHeight),h=zf(this._overlayRef.getConfig().minWidth),w=t.fitsInViewportHorizontally||null!=h&&h<=a;return(t.fitsInViewportVertically||null!=u&&u<=r)&&w}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};const r=cD(e),a=this._viewportRect,u=Math.max(t.x+r.width-a.width,0),h=Math.max(t.y+r.height-a.height,0),_=Math.max(a.top-i.top-t.y,0),w=Math.max(a.left-i.left-t.x,0);let M=0,j=0;return M=r.width<=a.width?w||-u:t.x<this._viewportMargin?a.left-i.left-t.x:0,j=r.height<=a.height?_||-h:t.y<this._viewportMargin?a.top-i.top-t.y:0,this._previousPushAmount={x:M,y:j},{x:t.x+M,y:t.y+j}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Ag(t,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=t.overlayY;i="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(let a=0;a<e.length;a++)e[a].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(t,e){const i=this._viewportRect,r=this._isRtl();let a,u,h,M,j,Ce;if("top"===e.overlayY)u=t.y,a=i.height-u+this._viewportMargin;else if("bottom"===e.overlayY)h=i.height-t.y+2*this._viewportMargin,a=i.height-h+this._viewportMargin;else{const Me=Math.min(i.bottom-t.y+i.top,t.y),Le=this._lastBoundingBoxSize.height;a=2*Me,u=t.y-Me,a>Le&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.y-Le/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)Ce=i.width-t.x+this._viewportMargin,M=t.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)j=t.x,M=i.right-t.x;else{const Me=Math.min(i.right-t.x+i.left,t.x),Le=this._lastBoundingBoxSize.width;M=2*Me,j=t.x-Me,M>Le&&!this._isInitialRender&&!this._growAfterOpen&&(j=t.x-Le/2)}return{top:u,left:j,bottom:h,right:Ce,width:M,height:a}}_setBoundingBoxStyles(t,e){const i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const a=this._overlayRef.getConfig().maxHeight,u=this._overlayRef.getConfig().maxWidth;r.height=Mi(i.height),r.top=Mi(i.top),r.bottom=Mi(i.bottom),r.width=Mi(i.width),r.left=Mi(i.left),r.right=Mi(i.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",a&&(r.maxHeight=Mi(a)),u&&(r.maxWidth=Mi(u))}this._lastBoundingBoxSize=i,Uu(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Uu(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Uu(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){const i={},r=this._hasExactPosition(),a=this._hasFlexibleDimensions,u=this._overlayRef.getConfig();if(r){const M=this._viewportRuler.getViewportScrollPosition();Uu(i,this._getExactOverlayY(e,t,M)),Uu(i,this._getExactOverlayX(e,t,M))}else i.position="static";let h="",_=this._getOffset(e,"x"),w=this._getOffset(e,"y");_&&(h+=`translateX(${_}px) `),w&&(h+=`translateY(${w}px)`),i.transform=h.trim(),u.maxHeight&&(r?i.maxHeight=Mi(u.maxHeight):a&&(i.maxHeight="")),u.maxWidth&&(r?i.maxWidth=Mi(u.maxWidth):a&&(i.maxWidth="")),Uu(this._pane.style,i)}_getExactOverlayY(t,e,i){let r={top:"",bottom:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),"bottom"===t.overlayY?r.bottom=this._document.documentElement.clientHeight-(a.y+this._overlayRect.height)+"px":r.top=Mi(a.y),r}_getExactOverlayX(t,e,i){let u,r={left:"",right:""},a=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(a=this._pushOverlayOnScreen(a,this._overlayRect,i)),u=this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left","right"===u?r.right=this._document.documentElement.clientWidth-(a.x+this._overlayRect.width)+"px":r.left=Mi(a.x),r}_getScrollVisibility(){const t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:Px(t,i),isOriginOutsideView:aD(t,i),isOverlayClipped:Px(e,i),isOverlayOutsideView:aD(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,r)=>i-Math.max(r,0),t)}_getNarrowedViewportRect(){const t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return"x"===e?t.offsetX??this._offsetX:t.offsetY??this._offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Mm(t).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){const t=this._origin;if(t instanceof s.SBq)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();const e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}}function Uu(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function zf(n){if("number"!=typeof n&&null!=n){const[t,e]=n.split(Nx);return e&&"px"!==e?null:parseFloat(t)}return n||null}function cD(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Bx="cdk-global-overlay-wrapper";class Ux{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(t){const e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(Bx),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:a,maxWidth:u,maxHeight:h}=i,_=!("100%"!==r&&"100vw"!==r||u&&"100%"!==u&&"100vw"!==u),w=!("100%"!==a&&"100vh"!==a||h&&"100%"!==h&&"100vh"!==h),M=this._xPosition,j=this._xOffset,Ce="rtl"===this._overlayRef.getConfig().direction;let Me="",Le="",$e="";_?$e="flex-start":"center"===M?($e="center",Ce?Le=j:Me=j):Ce?"left"===M||"end"===M?($e="flex-end",Me=j):("right"===M||"start"===M)&&($e="flex-start",Le=j):"left"===M||"start"===M?($e="flex-start",Me=j):("right"===M||"end"===M)&&($e="flex-end",Le=j),t.position=this._cssPosition,t.marginLeft=_?"0":Me,t.marginTop=w?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=_?"0":Le,e.justifyContent=$e,e.alignItems=w?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(Bx),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}let jx=(()=>{class n{constructor(e,i,r,a){this._viewportRuler=e,this._document=i,this._platform=r,this._overlayContainer=a}global(){return new Ux}flexibleConnectedTo(e){return new Vx(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(xl),s.LFG(B),s.LFG(xi),s.LFG(Sg))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Hx=0,lo=(()=>{class n{constructor(e,i,r,a,u,h,_,w,M,j,Ce,Me){this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=a,this._keyboardDispatcher=u,this._injector=h,this._ngZone=_,this._document=w,this._directionality=M,this._location=j,this._outsideClickDispatcher=Ce,this._animationsModuleType=Me}create(e){const i=this._createHostElement(),r=this._createPaneElement(i),a=this._createPortalOutlet(r),u=new Bu(e);return u.direction=u.direction||this._directionality.value,new Yd(a,i,r,u,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Hx++,i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(s.z2F)),new Sx(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(l1),s.LFG(Sg),s.LFG(s._Vd),s.LFG(jx),s.LFG(Fv),s.LFG(s.zs3),s.LFG(s.R0b),s.LFG(B),s.LFG(ps),s.LFG(F),s.LFG(lD),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const zx={provide:new s.OlP("cdk-connected-overlay-scroll-strategy"),deps:[lo],useFactory:function Wo(n){return()=>n.scrollStrategies.reposition()}};let xc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[lo,zx],imports:[yf,Vu,oD,oD]}),n})();function Fs(n,t){}class Tg{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let hD=(()=>{class n extends Eg{constructor(e,i,r,a,u,h,_,w){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=a,this._interactivityChecker=u,this._ngZone=h,this._overlayRef=_,this._focusMonitor=w,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=M=>{this._portalOutlet.hasAttached();const j=this._portalOutlet.attachDomPortal(M);return this._contentAttached(),j},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=r}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const r=()=>{e.removeEventListener("blur",r),e.removeEventListener("mousedown",r),e.removeAttribute("tabindex")};e.addEventListener("blur",r),e.addEventListener("mousedown",r)})),e.focus(i)}_focusByCssSelector(e,i){let r=this._elementRef.nativeElement.querySelector(e);r&&this._forceFocus(r,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const r=wm(),a=this._elementRef.nativeElement;(!r||r===this._document.body||r===a||a.contains(r))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=wm();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=wm())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(mf),s.Y36(B,8),s.Y36(Tg),s.Y36(Od),s.Y36(s.R0b),s.Y36(Yd),s.Y36(El))},n.\u0275cmp=s.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&s.Gf(Ml,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&s.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,Fs,0,0,"ng-template",0)},dependencies:[Ml],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class Lv{constructor(t,e){this.overlayRef=t,this.config=e,this.closed=new _t.x,this.disableClose=e.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{27===i.keyCode&&!this.disableClose&&!Cu(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(t,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(t),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",e=""){return this.overlayRef.updateSize({width:t,height:e}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}}const xg=new s.OlP("DialogScrollStrategy"),fD=new s.OlP("DialogData"),pD=new s.OlP("DefaultDialogConfig"),mD={provide:xg,deps:[lo],useFactory:function $x(n){return()=>n.scrollStrategies.block()}};let gD=0,_D=(()=>{class n{constructor(e,i,r,a,u,h){this._overlay=e,this._injector=i,this._defaultOptions=r,this._parentDialog=a,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _t.x,this._afterOpenedAtThisLevel=new _t.x,this._ariaHiddenElements=new Map,this.afterAllClosed=eo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(hi(void 0))),this._scrollStrategy=h}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new Tg,...i}).id=i.id||"cdk-dialog-"+gD++,i.id&&this.getDialogById(i.id);const a=this._getOverlayConfig(i),u=this._overlay.create(a),h=new Lv(u,i),_=this._attachContainer(u,h,i);return h.containerInstance=_,this._attachDialogContent(e,h,_,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(h),h.closed.subscribe(()=>this._removeOpenDialog(h,!0)),this.afterOpened.next(h),h}closeAll(){Mg(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){Mg(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),Mg(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new Bu({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,r){const a=r.injector??r.viewContainerRef?.injector,u=[{provide:Tg,useValue:r},{provide:Lv,useValue:i},{provide:Yd,useValue:e}];let h;r.container?"function"==typeof r.container?h=r.container:(h=r.container.type,u.push(...r.container.providers(r))):h=hD;const _=new Nu(h,r.viewContainerRef,s.zs3.create({parent:a||this._injector,providers:u}),r.componentFactoryResolver);return e.attach(_).instance}_attachDialogContent(e,i,r,a){const u=this._createInjector(a,i,r);if(e instanceof s.Rgc){let h={$implicit:a.data,dialogRef:i};a.templateContext&&(h={...h,..."function"==typeof a.templateContext?a.templateContext():a.templateContext}),r.attachTemplatePortal(new qd(e,null,h,u))}else{const h=r.attachComponentPortal(new Nu(e,a.viewContainerRef,u,a.componentFactoryResolver));i.componentInstance=h.instance}}_createInjector(e,i,r){const a=e&&e.viewContainerRef&&e.viewContainerRef.injector,u=[{provide:fD,useValue:e.data},{provide:Lv,useValue:i}];return e.providers&&("function"==typeof e.providers?u.push(...e.providers(i,e,r)):u.push(...e.providers)),e.direction&&(!a||!a.get(ps,null,s.XFs.Optional))&&u.push({provide:ps,useValue:{value:e.direction,change:Nt()}}),s.zs3.create({parent:e.injector||a||this._injector,providers:u})}_removeOpenDialog(e,i){const r=this.openDialogs.indexOf(e);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((a,u)=>{a?u.setAttribute("aria-hidden",a):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let r=i.length-1;r>-1;r--){const a=i[r];a!==e&&"SCRIPT"!==a.nodeName&&"STYLE"!==a.nodeName&&!a.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(a,a.getAttribute("aria-hidden")),a.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lo),s.LFG(s.zs3),s.LFG(pD,8),s.LFG(n,12),s.LFG(Sg),s.LFG(xg))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();function Mg(n,t){let e=n.length;for(;e--;)t(n[e])}let Wx=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[_D,mD],imports:[xc,Vu,oo,Vu]}),n})();function Nv(n,t){}const Ls={params:{enterAnimationDuration:"150ms",exitAnimationDuration:"75ms"}},yD={dialogContainer:ka("dialogContainer",[ms("void, exit",kn({opacity:0,transform:"scale(0.7)"})),ms("enter",kn({transform:"none"})),xr("* => enter",Fw([Pi("{{enterAnimationDuration}} cubic-bezier(0, 0, 0.2, 1)",kn({transform:"none",opacity:1})),Vw("@*",qm(),{optional:!0})]),Ls),xr("* => void, * => exit",Fw([Pi("{{exitAnimationDuration}} cubic-bezier(0.4, 0.0, 0.2, 1)",kn({opacity:0})),Vw("@*",qm(),{optional:!0})]),Ls)])};class Kd{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.delayFocusTrap=!0,this.closeOnNavigation=!0,this.enterAnimationDuration=Ls.params.enterAnimationDuration,this.exitAnimationDuration=Ls.params.exitAnimationDuration}}let Il=(()=>{class n extends hD{constructor(e,i,r,a,u,h,_,w){super(e,i,r,a,u,h,_,w),this._animationStateChanged=new s.vpe}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(mf),s.Y36(B,8),s.Y36(Kd),s.Y36(Od),s.Y36(s.R0b),s.Y36(Yd),s.Y36(El))},n.\u0275cmp=s.Xpm({type:n,selectors:[["ng-component"]],features:[s.qOj],decls:0,vars:0,template:function(e,i){},encapsulation:2}),n})(),qx=(()=>{class n extends Il{constructor(e,i,r,a,u,h,_,w,M){super(e,i,r,a,u,h,_,M),this._changeDetectorRef=w,this._state="enter"}_onAnimationDone({toState:e,totalTime:i}){"enter"===e?this._openAnimationDone(i):"exit"===e&&this._animationStateChanged.next({state:"closed",totalTime:i})}_onAnimationStart({toState:e,totalTime:i}){"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):("exit"===e||"void"===e)&&this._animationStateChanged.next({state:"closing",totalTime:i})}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}_getAnimationState(){return{value:this._state,params:{enterAnimationDuration:this._config.enterAnimationDuration||Ls.params.enterAnimationDuration,exitAnimationDuration:this._config.exitAnimationDuration||Ls.params.exitAnimationDuration}}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(mf),s.Y36(B,8),s.Y36(Kd),s.Y36(Od),s.Y36(s.R0b),s.Y36(Yd),s.Y36(s.sBO),s.Y36(El))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-dialog-container"],hostVars:7,hostBindings:function(e,i){1&e&&s.WFA("@dialogContainer.start",function(a){return i._onAnimationStart(a)})("@dialogContainer.done",function(a){return i._onAnimationDone(a)}),2&e&&(s.Ikx("id",i._config.id),s.uIk("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),s.d8E("@dialogContainer",i._getAnimationState()))},features:[s.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&s.YNc(0,Nv,0,0,"ng-template",0)},dependencies:[Ml],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;box-sizing:content-box;margin-bottom:-24px}.mat-dialog-actions.mat-dialog-actions-align-center,.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions.mat-dialog-actions-align-end,.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}"],encapsulation:2,data:{animation:[yD.dialogContainer]}}),n})();class vD{constructor(t,e,i){this._ref=t,this._containerInstance=i,this._afterOpened=new _t.x,this._beforeClosed=new _t.x,this._state=0,this.disableClose=e.disableClose,this.id=t.id,i._animationStateChanged.pipe(ei(r=>"opened"===r.state),Jn(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe(ei(r=>"closed"===r.state),Jn(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),t.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),(0,Rs.T)(this.backdropClick(),this.keydownEvents().pipe(ei(r=>27===r.keyCode&&!this.disableClose&&!Cu(r)))).subscribe(r=>{this.disableClose||(r.preventDefault(),bD(this,"keydown"===r.type?"keyboard":"mouse"))})}close(t){this._result=t,this._containerInstance._animationStateChanged.pipe(ei(e=>"closing"===e.state),Jn(1)).subscribe(e=>{this._beforeClosed.next(t),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),e.totalTime+100)}),this._state=1,this._containerInstance._startExitAnimation()}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(t){let e=this._ref.config.positionStrategy;return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(t="",e=""){return this._ref.updateSize(t,e),this}addPanelClass(t){return this._ref.addPanelClass(t),this}removePanelClass(t){return this._ref.removePanelClass(t),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}}function bD(n,t,e){return n._closeInteractionType=t,n.close(e)}const Vv=new s.OlP("MatDialogData"),Yx=new s.OlP("mat-dialog-default-options"),wD=new s.OlP("mat-dialog-scroll-strategy"),CD={provide:wD,deps:[lo],useFactory:function d1(n){return()=>n.scrollStrategies.block()}};let Zx=0,DD=(()=>{class n{constructor(e,i,r,a,u,h,_,w,M,j){this._overlay=e,this._defaultOptions=r,this._parentDialog=a,this._dialogRefConstructor=_,this._dialogContainerType=w,this._dialogDataToken=M,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new _t.x,this._afterOpenedAtThisLevel=new _t.x,this._idPrefix="mat-dialog-",this.afterAllClosed=eo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(hi(void 0))),this._scrollStrategy=h,this._dialog=i.get(_D)}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,i){let r;(i={...this._defaultOptions||new Kd,...i}).id=i.id||`${this._idPrefix}${Zx++}`,i.scrollStrategy=i.scrollStrategy||this._scrollStrategy();const a=this._dialog.open(e,{...i,positionStrategy:this._overlay.position().global().centerHorizontally().centerVertically(),disableClose:!0,closeOnDestroy:!1,container:{type:this._dialogContainerType,providers:()=>[{provide:Kd,useValue:i},{provide:Tg,useValue:i}]},templateContext:()=>({dialogRef:r}),providers:(u,h,_)=>(r=new this._dialogRefConstructor(u,i,_),r.updatePosition(i?.position),[{provide:this._dialogContainerType,useValue:_},{provide:this._dialogDataToken,useValue:h.data},{provide:this._dialogRefConstructor,useValue:r}])});return r.componentInstance=a.componentInstance,this.openDialogs.push(r),this.afterOpened.next(r),r.afterClosed().subscribe(()=>{const u=this.openDialogs.indexOf(r);u>-1&&(this.openDialogs.splice(u,1),this.openDialogs.length||this._getAfterAllClosed().next())}),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let i=e.length;for(;i--;)e[i].close()}}return n.\u0275fac=function(e){s.$Z()},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Ig=(()=>{class n extends DD{constructor(e,i,r,a,u,h,_,w){super(e,i,a,h,_,u,vD,qx,Vv,w)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lo),s.LFG(s.zs3),s.LFG(F,8),s.LFG(Yx,8),s.LFG(wD),s.LFG(n,12),s.LFG(Sg),s.LFG(s.QbO,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Bv=(()=>{class n{constructor(e,i,r){this.dialogRef=e,this._elementRef=i,this._dialog=r,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function AD(n,t){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-dialog-container");)e=e.parentElement;return e?t.find(i=>i.id===e.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const i=e._matDialogClose||e._matDialogCloseResult;i&&(this.dialogResult=i.currentValue)}_onButtonClick(e){bD(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vD,8),s.Y36(s.SBq),s.Y36(Ig))},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("click",function(a){return i._onButtonClick(a)}),2&e&&s.uIk("aria-label",i.ariaLabel||null)("type",i.type)},inputs:{ariaLabel:["aria-label","ariaLabel"],type:"type",dialogResult:["mat-dialog-close","dialogResult"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[s.TTD]}),n})(),Pg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Ig,CD],imports:[Wx,xc,Vu,Bn,Bn]}),n})(),$f=(()=>{class n{constructor(e){this.data=e}ngOnInit(){if(this.data instanceof File){const e=new FileReader;e.onload=()=>this.url=e.result,e.readAsDataURL(this.data)}else this.url=this.data.url}get alt(){return`${this.data.name} preview`}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vv))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-image-preview"]],decls:1,vars:2,consts:[[3,"src","alt"]],template:function(e,i){1&e&&s._UZ(0,"img",0),2&e&&s.Q6J("src",i.url,s.LSH)("alt",i.alt)},styles:["img[_ngcontent-%COMP%]{height:90vh;width:auto;object-fit:cover}"]}),n})();class Uv{}class SD{}class La{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const i=e.indexOf(":");if(i>0){const r=e.slice(0,i),a=r.toLowerCase(),u=e.slice(i+1).trim();this.maybeSetNormalizedName(r,a),this.headers.has(a)?this.headers.get(a).push(u):this.headers.set(a,[u])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let i=t[e];const r=e.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(this.headers.set(r,i),this.maybeSetNormalizedName(e,r))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof La?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new La;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof La?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let i=t.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(t.name,e);const r=("a"===t.op?this.headers.get(e):void 0)||[];r.push(...i),this.headers.set(e,r);break;case"d":const a=t.value;if(a){let u=this.headers.get(e);if(!u)return;u=u.filter(h=>-1===a.indexOf(h)),0===u.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,u)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class eM{encodeKey(t){return jv(t)}encodeValue(t){return jv(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const f1=/%(\d[a-f0-9])/gi,p1={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jv(n){return encodeURIComponent(n).replace(f1,(t,e)=>p1[e]??t)}function kg(n){return`${n}`}class Mc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new eM,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function tM(n,t){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const a=r.indexOf("="),[u,h]=-1==a?[t.decodeKey(r),""]:[t.decodeKey(r.slice(0,a)),t.decodeValue(r.slice(a+1))],_=e.get(u)||[];_.push(h),e.set(u,_)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const i=t.fromObject[e],r=Array.isArray(i)?i.map(kg):[kg(i)];this.map.set(e,r)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(i=>{const r=t[i];Array.isArray(r)?r.forEach(a=>{e.push({param:i,value:a,op:"a"})}):e.push({param:i,value:r,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(i=>e+"="+this.encoder.encodeValue(i)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new Mc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(kg(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let i=this.map.get(t.param)||[];const r=i.indexOf(kg(t.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(t.param,i):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class g1{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}}function nM(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function iM(n){return typeof Blob<"u"&&n instanceof Blob}function rM(n){return typeof FormData<"u"&&n instanceof FormData}class Ic{constructor(t,e,i,r){let a;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function _1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,a=r):a=i,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.context&&(this.context=a.context),a.params&&(this.params=a.params)),this.headers||(this.headers=new La),this.context||(this.context=new g1),this.params){const u=this.params.toString();if(0===u.length)this.urlWithParams=e;else{const h=e.indexOf("?");this.urlWithParams=e+(-1===h?"?":h<e.length-1?"&":"")+u}}else this.params=new Mc,this.urlWithParams=e}serializeBody(){return null===this.body?null:nM(this.body)||iM(this.body)||rM(this.body)||function sM(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Mc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rM(this.body)?null:iM(this.body)?this.body.type||null:nM(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Mc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){const e=t.method||this.method,i=t.url||this.url,r=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,u=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,h=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let _=t.headers||this.headers,w=t.params||this.params;const M=t.context??this.context;return void 0!==t.setHeaders&&(_=Object.keys(t.setHeaders).reduce((j,Ce)=>j.set(Ce,t.setHeaders[Ce]),_)),t.setParams&&(w=Object.keys(t.setParams).reduce((j,Ce)=>j.set(Ce,t.setParams[Ce]),w)),new Ic(e,i,a,{params:w,headers:_,context:M,reportProgress:h,responseType:r,withCredentials:u})}}var qi=(()=>((qi=qi||{})[qi.Sent=0]="Sent",qi[qi.UploadProgress=1]="UploadProgress",qi[qi.ResponseHeader=2]="ResponseHeader",qi[qi.DownloadProgress=3]="DownloadProgress",qi[qi.Response=4]="Response",qi[qi.User=5]="User",qi))();class Hv{constructor(t,e=200,i="OK"){this.headers=t.headers||new La,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||i,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class Rg extends Hv{constructor(t={}){super(t),this.type=qi.ResponseHeader}clone(t={}){return new Rg({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Na extends Hv{constructor(t={}){super(t),this.type=qi.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new Na({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class Gv extends Hv{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function Wf(n,t){return{body:t,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Zd=(()=>{class n{constructor(e){this.handler=e}request(e,i,r={}){let a;if(e instanceof Ic)a=e;else{let _,w;_=r.headers instanceof La?r.headers:new La(r.headers),r.params&&(w=r.params instanceof Mc?r.params:new Mc({fromObject:r.params})),a=new Ic(e,i,void 0!==r.body?r.body:null,{headers:_,context:r.context,params:w,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const u=Nt(a).pipe(Yn(_=>this.handler.handle(_)));if(e instanceof Ic||"events"===r.observe)return u;const h=u.pipe(ei(_=>_ instanceof Na));switch(r.observe||"body"){case"body":switch(a.responseType){case"arraybuffer":return h.pipe((0,zt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return h.pipe((0,zt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return h.pipe((0,zt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return h.pipe((0,zt.U)(_=>_.body))}case"response":return h;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,i={}){return this.request("DELETE",e,i)}get(e,i={}){return this.request("GET",e,i)}head(e,i={}){return this.request("HEAD",e,i)}jsonp(e,i){return this.request("JSONP",e,{params:(new Mc).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,i={}){return this.request("OPTIONS",e,i)}patch(e,i,r={}){return this.request("PATCH",e,Wf(r,i))}post(e,i,r={}){return this.request("POST",e,Wf(r,i))}put(e,i,r={}){return this.request("PUT",e,Wf(r,i))}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Uv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class TD{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const Og=new s.OlP("HTTP_INTERCEPTORS");let zv=(()=>{class n{intercept(e,i){return i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const aM=/^\)\]\}',?\n/;let Wv=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new qn.y(i=>{const r=this.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((Me,Le)=>r.setRequestHeader(Me,Le.join(","))),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Me=e.detectContentTypeHeader();null!==Me&&r.setRequestHeader("Content-Type",Me)}if(e.responseType){const Me=e.responseType.toLowerCase();r.responseType="json"!==Me?Me:"text"}const a=e.serializeBody();let u=null;const h=()=>{if(null!==u)return u;const Me=r.statusText||"OK",Le=new La(r.getAllResponseHeaders()),$e=function xD(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(r)||e.url;return u=new Rg({headers:Le,status:r.status,statusText:Me,url:$e}),u},_=()=>{let{headers:Me,status:Le,statusText:$e,url:st}=h(),It=null;204!==Le&&(It=typeof r.response>"u"?r.responseText:r.response),0===Le&&(Le=It?200:0);let Bt=Le>=200&&Le<300;if("json"===e.responseType&&"string"==typeof It){const Qt=It;It=It.replace(aM,"");try{It=""!==It?JSON.parse(It):null}catch(Gt){It=Qt,Bt&&(Bt=!1,It={error:Gt,text:It})}}Bt?(i.next(new Na({body:It,headers:Me,status:Le,statusText:$e,url:st||void 0})),i.complete()):i.error(new Gv({error:It,headers:Me,status:Le,statusText:$e,url:st||void 0}))},w=Me=>{const{url:Le}=h(),$e=new Gv({error:Me,status:r.status||0,statusText:r.statusText||"Unknown Error",url:Le||void 0});i.error($e)};let M=!1;const j=Me=>{M||(i.next(h()),M=!0);let Le={type:qi.DownloadProgress,loaded:Me.loaded};Me.lengthComputable&&(Le.total=Me.total),"text"===e.responseType&&!!r.responseText&&(Le.partialText=r.responseText),i.next(Le)},Ce=Me=>{let Le={type:qi.UploadProgress,loaded:Me.loaded};Me.lengthComputable&&(Le.total=Me.total),i.next(Le)};return r.addEventListener("load",_),r.addEventListener("error",w),r.addEventListener("timeout",w),r.addEventListener("abort",w),e.reportProgress&&(r.addEventListener("progress",j),null!==a&&r.upload&&r.upload.addEventListener("progress",Ce)),r.send(a),i.next({type:qi.Sent}),()=>{r.removeEventListener("error",w),r.removeEventListener("abort",w),r.removeEventListener("load",_),r.removeEventListener("timeout",w),e.reportProgress&&(r.removeEventListener("progress",j),null!==a&&r.upload&&r.upload.removeEventListener("progress",Ce)),r.readyState!==r.DONE&&r.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(os))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const Fg=new s.OlP("XSRF_COOKIE_NAME"),qv=new s.OlP("XSRF_HEADER_NAME");class MD{}let ID=(()=>{class n{constructor(e,i,r){this.doc=e,this.platform=i,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Fn(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(s.Lbi),s.LFG(Fg))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),qf=(()=>{class n{constructor(e,i){this.tokenService=e,this.headerName=i}intercept(e,i){const r=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||r.startsWith("http://")||r.startsWith("https://"))return i.handle(e);const a=this.tokenService.getToken();return null!==a&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,a)})),i.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(MD),s.LFG(qv))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),w1=(()=>{class n{constructor(e,i){this.backend=e,this.injector=i,this.chain=null}handle(e){if(null===this.chain){const i=this.injector.get(Og,[]);this.chain=i.reduceRight((r,a)=>new TD(r,a),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(SD),s.LFG(s.zs3))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),cM=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:qf,useClass:zv}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Fg,useValue:e.cookieName}:[],e.headerName?{provide:qv,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[qf,{provide:Og,useExisting:qf,multi:!0},{provide:MD,useClass:ID},{provide:Fg,useValue:"XSRF-TOKEN"},{provide:qv,useValue:"X-XSRF-TOKEN"}]}),n})(),uM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Zd,{provide:Uv,useClass:w1},Wv,{provide:SD,useExisting:Wv}],imports:[cM.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();var ju=R(6036),Yf=R.t(ju,2),co=R(2813),dM=R.t(co,2);const C1=["pdfViewerContainer"];function hM(n,t){const e=new n.EventBus;return function D1(n,t){Gn(n,"documentload").pipe(Zt(t)).subscribe(()=>{const e=document.createEvent("CustomEvent");e.initCustomEvent("documentload",!0,!0,{}),window.dispatchEvent(e)}),Gn(n,"pagerendered").pipe(Zt(t)).subscribe(({pageNumber:e,cssTransform:i,source:r})=>{const a=document.createEvent("CustomEvent");a.initCustomEvent("pagerendered",!0,!0,{pageNumber:e,cssTransform:i}),r.div.dispatchEvent(a)}),Gn(n,"textlayerrendered").pipe(Zt(t)).subscribe(({pageNumber:e,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("textlayerrendered",!0,!0,{pageNumber:e}),i.textLayerDiv.dispatchEvent(r)}),Gn(n,"pagechanging").pipe(Zt(t)).subscribe(({pageNumber:e,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("pagechanging",!0,!0),r.pageNumber=e,i.container.dispatchEvent(r)}),Gn(n,"pagesinit").pipe(Zt(t)).subscribe(({source:e})=>{const i=document.createEvent("CustomEvent");i.initCustomEvent("pagesinit",!0,!0,null),e.container.dispatchEvent(i)}),Gn(n,"pagesloaded").pipe(Zt(t)).subscribe(({pagesCount:e,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagesloaded",!0,!0,{pagesCount:e}),i.container.dispatchEvent(r)}),Gn(n,"scalechange").pipe(Zt(t)).subscribe(({scale:e,presetValue:i,source:r})=>{const a=document.createEvent("UIEvents");a.initEvent("scalechange",!0,!0),a.scale=e,a.presetValue=i,r.container.dispatchEvent(a)}),Gn(n,"updateviewarea").pipe(Zt(t)).subscribe(({location:e,source:i})=>{const r=document.createEvent("UIEvents");r.initEvent("updateviewarea",!0,!0),r.location=e,i.container.dispatchEvent(r)}),Gn(n,"find").pipe(Zt(t)).subscribe(({source:e,type:i,query:r,phraseSearch:a,caseSensitive:u,highlightAll:h,findPrevious:_})=>{if(e===window)return;const w=document.createEvent("CustomEvent");w.initCustomEvent("find"+i,!0,!0,{query:r,phraseSearch:a,caseSensitive:u,highlightAll:h,findPrevious:_}),window.dispatchEvent(w)}),Gn(n,"attachmentsloaded").pipe(Zt(t)).subscribe(({attachmentsCount:e,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("attachmentsloaded",!0,!0,{attachmentsCount:e}),i.container.dispatchEvent(r)}),Gn(n,"sidebarviewchanged").pipe(Zt(t)).subscribe(({view:e,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("sidebarviewchanged",!0,!0,{view:e}),i.outerContainer.dispatchEvent(r)}),Gn(n,"pagemode").pipe(Zt(t)).subscribe(({mode:e,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("pagemode",!0,!0,{mode:e}),i.pdfViewer.container.dispatchEvent(r)}),Gn(n,"namedaction").pipe(Zt(t)).subscribe(({action:e,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("namedaction",!0,!0,{action:e}),i.pdfViewer.container.dispatchEvent(r)}),Gn(n,"presentationmodechanged").pipe(Zt(t)).subscribe(({active:e,switchInProgress:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("presentationmodechanged",!0,!0,{active:e,switchInProgress:i}),window.dispatchEvent(r)}),Gn(n,"outlineloaded").pipe(Zt(t)).subscribe(({outlineCount:e,source:i})=>{const r=document.createEvent("CustomEvent");r.initCustomEvent("outlineloaded",!0,!0,{outlineCount:e}),i.container.dispatchEvent(r)})}(e,t),e}function Yv(n,t,e){n[t]=e}function Kf(){return typeof window>"u"}Kf()||Yv(Yf,"verbosity",ju.VerbosityLevel.INFOS);var Qd=(()=>{return(n=Qd||(Qd={}))[n.DISABLED=0]="DISABLED",n[n.ENABLED=1]="ENABLED",n[n.ENHANCED=2]="ENHANCED",Qd;var n})();let E1=(()=>{class n{constructor(e,i){if(this.element=e,this.ngZone=i,this.isVisible=!1,this._cMapsUrl=typeof Yf<"u"?`https://unpkg.com/pdfjs-dist@${ju.version}/cmaps/`:null,this._imageResourcesPath=typeof Yf<"u"?`https://unpkg.com/pdfjs-dist@${ju.version}/web/images/`:null,this._renderText=!0,this._renderTextMode=Qd.ENABLED,this._stickToPage=!1,this._originalSize=!0,this._page=1,this._zoom=1,this._zoomScale="page-width",this._rotation=0,this._showAll=!0,this._canAutoResize=!0,this._fitToPage=!1,this._externalLinkTarget="blank",this._showBorders=!1,this.resizeTimeout=null,this.pageScrollTimeout=null,this.isInitialized=!1,this.destroy$=new _t.x,this.afterLoadComplete=new s.vpe,this.pageRendered=new s.vpe,this.pageInitialized=new s.vpe,this.textLayerRendered=new s.vpe,this.onError=new s.vpe,this.onProgress=new s.vpe,this.pageChange=new s.vpe(!0),Kf())return;let r;r=window.hasOwnProperty("pdfWorkerSrc")&&"string"==typeof window.pdfWorkerSrc&&window.pdfWorkerSrc?window.pdfWorkerSrc:`https://cdn.jsdelivr.net/npm/pdfjs-dist@${ju.version}/legacy/build/pdf.worker.min.js`,Yv(ju.GlobalWorkerOptions,"workerSrc",r)}set cMapsUrl(e){this._cMapsUrl=e}set page(e){const i=e=parseInt(e,10)||1;this._pdf&&(e=this.getValidPageNumber(e)),this._page=e,i!==e&&this.pageChange.emit(e)}set renderText(e){this._renderText=e}set renderTextMode(e){this._renderTextMode=e}set originalSize(e){this._originalSize=e}set showAll(e){this._showAll=e}set stickToPage(e){this._stickToPage=e}set zoom(e){e<=0||(this._zoom=e)}get zoom(){return this._zoom}set zoomScale(e){this._zoomScale=e}get zoomScale(){return this._zoomScale}set rotation(e){"number"==typeof e&&e%90==0?this._rotation=e:console.warn("Invalid pages rotation angle.")}set externalLinkTarget(e){this._externalLinkTarget=e}set autoresize(e){this._canAutoResize=Boolean(e)}set fitToPage(e){this._fitToPage=Boolean(e)}set showBorders(e){this._showBorders=Boolean(e)}static getLinkTarget(e){switch(e){case"blank":return co.LinkTarget.BLANK;case"none":return co.LinkTarget.NONE;case"self":return co.LinkTarget.SELF;case"parent":return co.LinkTarget.PARENT;case"top":return co.LinkTarget.TOP}return null}ngAfterViewChecked(){if(this.isInitialized)return;const e=this.pdfViewerContainer.nativeElement.offsetParent;!0!==this.isVisible||null!=e?!1===this.isVisible&&null!=e&&(this.isVisible=!0,setTimeout(()=>{this.initialize(),this.ngOnChanges({src:this.src})})):this.isVisible=!1}ngOnInit(){this.initialize(),this.setupResizeListener()}ngOnDestroy(){this.clear(),this.destroy$.next(),this.loadingTask=null}get pdfLinkService(){return this._showAll?this.pdfMultiPageLinkService:this.pdfSinglePageLinkService}get pdfViewer(){return this.getCurrentViewer()}get pdfFindController(){return this._showAll?this.pdfMultiPageFindController:this.pdfSinglePageFindController}ngOnChanges(e){if(!Kf()&&this.isVisible)if("src"in e)this.loadPDF();else if(this._pdf){if("renderText"in e?(this.getCurrentViewer().textLayerMode=this._renderText?this._renderTextMode:Qd.DISABLED,this.resetPdfDocument()):"showAll"in e&&this.resetPdfDocument(),"page"in e){const{page:i}=e;if(i.currentValue===this._latestScrolledPage)return;this.getCurrentViewer().scrollPageIntoView({pageNumber:this._page})}this.update()}}updateSize(){const e=this.getCurrentViewer();(0,Vn.D)(this._pdf.getPage(e.currentPageNumber)).pipe(Zt(this.destroy$)).subscribe({next:i=>{const r=this._rotation||i.rotate,a=i.getViewport({scale:this._zoom,rotation:r}).width*n.CSS_UNITS;let u=this._zoom,h=!0;if(!this._originalSize||this._fitToPage&&a>this.pdfViewerContainer.nativeElement.clientWidth){const _=i.getViewport({scale:1,rotation:r});u=this.getScale(_.width,_.height),h=!this._stickToPage}e._setScale(u,h)}})}clear(){this.loadingTask&&!this.loadingTask.destroyed&&this.loadingTask.destroy(),this._pdf&&(this._pdf.destroy(),this._pdf=null,this.pdfMultiPageViewer.setDocument(null),this.pdfSinglePageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null,null),this.pdfSinglePageLinkService.setDocument(null,null),this.pdfMultiPageFindController.setDocument(null),this.pdfSinglePageFindController.setDocument(null))}getPDFLinkServiceConfig(){const e={},i=n.getLinkTarget(this._externalLinkTarget);return i&&(e.externalLinkTarget=i),e}setupMultiPageViewer(){Yv(Yf,"disableTextLayer",!this._renderText);const e=hM(dM,this.destroy$);Gn(e,"pagerendered").pipe(Zt(this.destroy$)).subscribe(r=>{this.pageRendered.emit(r)}),Gn(e,"pagesinit").pipe(Zt(this.destroy$)).subscribe(r=>{this.pageInitialized.emit(r)}),Gn(e,"pagechanging").pipe(Zt(this.destroy$)).subscribe(({pageNumber:r})=>{this.pageScrollTimeout&&clearTimeout(this.pageScrollTimeout),this.pageScrollTimeout=window.setTimeout(()=>{this._latestScrolledPage=r,this.pageChange.emit(r)},100)}),Gn(e,"textlayerrendered").pipe(Zt(this.destroy$)).subscribe(r=>{this.textLayerRendered.emit(r)}),this.pdfMultiPageLinkService=new co.PDFLinkService({eventBus:e,...this.getPDFLinkServiceConfig()}),this.pdfMultiPageFindController=new co.PDFFindController({linkService:this.pdfMultiPageLinkService,eventBus:e});const i={eventBus:e,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfMultiPageLinkService,textLayerMode:this._renderText?this._renderTextMode:Qd.DISABLED,findController:this.pdfMultiPageFindController,renderer:"canvas",l10n:void 0,imageResourcesPath:this._imageResourcesPath};this.pdfMultiPageViewer=new co.PDFViewer(i),this.pdfMultiPageLinkService.setViewer(this.pdfMultiPageViewer),this.pdfMultiPageFindController.setDocument(this._pdf)}setupSinglePageViewer(){Yv(Yf,"disableTextLayer",!this._renderText);const e=hM(dM,this.destroy$);Gn(e,"pagechanging").pipe(Zt(this.destroy$)).subscribe(({pageNumber:r})=>{r!==this._page&&(this.page=r)}),Gn(e,"pagerendered").pipe(Zt(this.destroy$)).subscribe(r=>{this.pageRendered.emit(r)}),Gn(e,"pagesinit").pipe(Zt(this.destroy$)).subscribe(r=>{this.pageInitialized.emit(r)}),Gn(e,"textlayerrendered").pipe(Zt(this.destroy$)).subscribe(r=>{this.textLayerRendered.emit(r)}),this.pdfSinglePageLinkService=new co.PDFLinkService({eventBus:e,...this.getPDFLinkServiceConfig()}),this.pdfSinglePageFindController=new co.PDFFindController({linkService:this.pdfSinglePageLinkService,eventBus:e});const i={eventBus:e,container:this.element.nativeElement.querySelector("div"),removePageBorders:!this._showBorders,linkService:this.pdfSinglePageLinkService,textLayerMode:this._renderText?this._renderTextMode:Qd.DISABLED,findController:this.pdfSinglePageFindController,renderer:"canvas",l10n:void 0};this.pdfSinglePageViewer=new co.PDFSinglePageViewer(i),this.pdfSinglePageLinkService.setViewer(this.pdfSinglePageViewer),this.pdfSinglePageFindController.setDocument(this._pdf),this.pdfSinglePageViewer._currentPageNumber=this._page}getValidPageNumber(e){return e<1?1:e>this._pdf.numPages?this._pdf.numPages:e}getDocumentParams(){const e=typeof this.src;if(!this._cMapsUrl)return this.src;const i={cMapUrl:this._cMapsUrl,cMapPacked:!0};return"string"===e?i.url=this.src:"object"===e&&(void 0!==this.src.byteLength?i.data=this.src:Object.assign(i,this.src)),i}loadPDF(){if(!this.src)return;if(this.lastLoaded===this.src)return void this.update();this.clear(),this.loadingTask=ju.getDocument(this.getDocumentParams()),this.loadingTask.onProgress=i=>{this.onProgress.emit(i)};const e=this.src;(0,Vn.D)(this.loadingTask.promise).pipe(Zt(this.destroy$)).subscribe({next:i=>{this._pdf=i,this.lastLoaded=e,this.afterLoadComplete.emit(i),this.pdfMultiPageViewer||(this.setupMultiPageViewer(),this.setupSinglePageViewer()),this.resetPdfDocument(),this.update()},error:i=>{this.lastLoaded=null,this.onError.emit(i)}})}update(){this.page=this._page,this.render()}render(){this._page=this.getValidPageNumber(this._page);const e=this.getCurrentViewer();(0!==this._rotation||e.pagesRotation!==this._rotation)&&setTimeout(()=>{e.pagesRotation=this._rotation}),this._stickToPage&&setTimeout(()=>{e.currentPageNumber=this._page}),this.updateSize()}getScale(e,i){const r=this._showBorders?2*n.BORDER_WIDTH:0,a=this.pdfViewerContainer.nativeElement.clientWidth-r,u=this.pdfViewerContainer.nativeElement.clientHeight-r;if(0===u||0===i||0===a||0===e)return 1;let h=1;switch(this._zoomScale){case"page-fit":h=Math.min(u/i,a/e);break;case"page-height":h=u/i;break;default:h=a/e}return this._zoom*h/n.CSS_UNITS}getCurrentViewer(){return this._showAll?this.pdfMultiPageViewer:this.pdfSinglePageViewer}resetPdfDocument(){this.pdfFindController.setDocument(this._pdf),this._showAll?(this.pdfSinglePageViewer.setDocument(null),this.pdfSinglePageLinkService.setDocument(null),this.pdfMultiPageViewer.setDocument(this._pdf),this.pdfMultiPageLinkService.setDocument(this._pdf,null)):(this.pdfMultiPageViewer.setDocument(null),this.pdfMultiPageLinkService.setDocument(null),this.pdfSinglePageViewer.setDocument(this._pdf),this.pdfSinglePageLinkService.setDocument(this._pdf,null))}initialize(){Kf()||!this.isVisible||(this.isInitialized=!0,this.setupMultiPageViewer(),this.setupSinglePageViewer())}setupResizeListener(){Kf()||this.ngZone.runOutsideAngular(()=>{Gn(window,"resize").pipe(Rd(100),ei(()=>this._canAutoResize&&!!this._pdf),Zt(this.destroy$)).subscribe(()=>{this.updateSize()})})}}return n.CSS_UNITS=96/72,n.BORDER_WIDTH=9,n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b))},n.\u0275cmp=s.Xpm({type:n,selectors:[["pdf-viewer"]],viewQuery:function(e,i){if(1&e&&s.Gf(C1,5),2&e){let r;s.iGM(r=s.CRH())&&(i.pdfViewerContainer=r.first)}},inputs:{src:"src",cMapsUrl:["c-maps-url","cMapsUrl"],page:"page",renderText:["render-text","renderText"],renderTextMode:["render-text-mode","renderTextMode"],originalSize:["original-size","originalSize"],showAll:["show-all","showAll"],stickToPage:["stick-to-page","stickToPage"],zoom:"zoom",zoomScale:["zoom-scale","zoomScale"],rotation:"rotation",externalLinkTarget:["external-link-target","externalLinkTarget"],autoresize:"autoresize",fitToPage:["fit-to-page","fitToPage"],showBorders:["show-borders","showBorders"]},outputs:{afterLoadComplete:"after-load-complete",pageRendered:"page-rendered",pageInitialized:"pages-initialized",textLayerRendered:"text-layer-rendered",onError:"error",onProgress:"on-progress",pageChange:"pageChange"},features:[s.TTD],decls:3,vars:0,consts:[[1,"ng2-pdf-viewer-container"],["pdfViewerContainer",""],[1,"pdfViewer"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s._UZ(2,"div",2),s.qZA())},styles:[".ng2-pdf-viewer-container[_ngcontent-%COMP%]{overflow-x:auto;position:absolute;height:100%;width:100%;-webkit-overflow-scrolling:touch}[_nghost-%COMP%]{display:block;position:relative}[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 0;--page-margin: 1px auto -8px;--page-border: 9px solid transparent;--spreadHorizontalWrapped-margin-LR: -3.5px;--zoom-factor: 1;--viewport-scale-factor: 1;--shadow: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAAA1ElEQVQ4jbWUWw6EIAxFy2NFs/8NzR4UJhpqLsdi5mOmSSMUOfYWqv3S0gMr4XlYH/64gZa/gN3ANYA7KAXALt4ktoQ5MI9YxqaG8bWmsIysMuT6piSQCa4whZThCu8CM4zP9YJaKci9jicPq3NcBWYoPMGUlhG7ivtkB+gVyFY75wXghOvh8t5mto1Mdim6e+MBqH6XsY+YAwjpq3vGF7weTWQptLEDVCZvPTMl5JZZsdh47FHW6qFMyvLYqjcnmdFfY9Xk/KDOlzCusX2mi/ofM7MPkzBcSp4Q1/wAAAAASUVORK5CYII=);--viewer-container-height: 0;--annotation-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\");--xfa-unfocused-field-background: url(\"data:image/svg+xml;charset=UTF-8,<svg width='1px' height='1px' xmlns='http://www.w3.org/2000/svg'><rect width='100%' height='100%' style='fill:rgba(0, 54, 255, 0.13);'/></svg>\")}@media screen and (forced-colors: active){[_nghost-%COMP%]    {--pdfViewer-padding-bottom: 9px;--page-margin: 9px auto 0;--page-border: none;--spreadHorizontalWrapped-margin-LR: 4.5px}}[_nghost-%COMP%]     .textLayer{position:absolute;text-align:initial;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;-webkit-text-size-adjust:none;text-size-adjust:none;forced-color-adjust:none}[_nghost-%COMP%]     .textLayer span, [_nghost-%COMP%]     .textLayer br{color:transparent;position:absolute;white-space:pre;cursor:text;transform-origin:0% 0%}[_nghost-%COMP%]     .textLayer span.markedContent{top:0;height:0}[_nghost-%COMP%]     .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}[_nghost-%COMP%]     .textLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .textLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .textLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .textLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .textLayer .highlight.selected{background-color:#006400}[_nghost-%COMP%]     .textLayer ::selection{background:blue}[_nghost-%COMP%]     .textLayer br::selection{background:transparent}[_nghost-%COMP%]     .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;-webkit-user-select:none;user-select:none}[_nghost-%COMP%]     .textLayer .endOfContent.active{top:0}[_nghost-%COMP%]     .annotationLayer section{position:absolute;text-align:initial}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>canvas{position:relative;top:0;left:0;z-index:-1}[_nghost-%COMP%]     .annotationLayer .linkAnnotation>a:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.pushButton>a:hover{opacity:.2;background:yellow;box-shadow:0 2px 10px #ff0}[_nghost-%COMP%]     .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{background-image:var(--annotation-unfocused-field-background);border:1px solid transparent;box-sizing:border-box;font-size:9px;height:100%;margin:0;padding:0 3px;vertical-align:top;width:100%}[_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select option{padding:0}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{border-radius:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea{font:message-box;font-size:9px;resize:none}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input[disabled], [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea[disabled], [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input[disabled], [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input[disabled]{background:none;border:1px solid transparent;cursor:not-allowed}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:hover, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:hover, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:hover, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:hover{border:1px solid black}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input:focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea:focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select:focus{background:none;border:1px solid transparent}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input :focus, [_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation textarea :focus, [_nghost-%COMP%]     .annotationLayer .choiceWidgetAnnotation select :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox :focus, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton :focus{background-image:none;background-color:transparent;outline:auto}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{background-color:#000;content:\"\";display:block;position:absolute}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{height:80%;left:45%;width:1px}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:before{transform:rotate(45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input:checked:after{transform:rotate(-45deg)}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input:checked:before{border-radius:50%;height:50%;left:30%;top:20%;width:50%}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb{font-family:monospace;padding-left:2px;padding-right:0}[_nghost-%COMP%]     .annotationLayer .textWidgetAnnotation input.comb:focus{width:103%}[_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.checkBox input, [_nghost-%COMP%]     .annotationLayer .buttonWidgetAnnotation.radioButton input{-webkit-appearance:none;-moz-appearance:none;appearance:none;padding:0}[_nghost-%COMP%]     .annotationLayer .popupWrapper{position:absolute;width:20em}[_nghost-%COMP%]     .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #888;border-radius:2px;padding:6px;margin-left:5px;cursor:pointer;font:message-box;font-size:9px;white-space:normal;word-wrap:break-word}[_nghost-%COMP%]     .annotationLayer .popup>*{font-size:9px}[_nghost-%COMP%]     .annotationLayer .popup h1{display:inline-block}[_nghost-%COMP%]     .annotationLayer .popupDate{display:inline-block;margin-left:5px}[_nghost-%COMP%]     .annotationLayer .popupContent{border-top:1px solid #333333;margin-top:2px;padding-top:2px}[_nghost-%COMP%]     .annotationLayer .richText>*{white-space:pre-wrap}[_nghost-%COMP%]     .annotationLayer .highlightAnnotation, [_nghost-%COMP%]     .annotationLayer .underlineAnnotation, [_nghost-%COMP%]     .annotationLayer .squigglyAnnotation, [_nghost-%COMP%]     .annotationLayer .strikeoutAnnotation, [_nghost-%COMP%]     .annotationLayer .freeTextAnnotation, [_nghost-%COMP%]     .annotationLayer .lineAnnotation svg line, [_nghost-%COMP%]     .annotationLayer .squareAnnotation svg rect, [_nghost-%COMP%]     .annotationLayer .circleAnnotation svg ellipse, [_nghost-%COMP%]     .annotationLayer .polylineAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .polygonAnnotation svg polygon, [_nghost-%COMP%]     .annotationLayer .caretAnnotation, [_nghost-%COMP%]     .annotationLayer .inkAnnotation svg polyline, [_nghost-%COMP%]     .annotationLayer .stampAnnotation, [_nghost-%COMP%]     .annotationLayer .fileAttachmentAnnotation{cursor:pointer}[_nghost-%COMP%]     .xfaLayer .highlight{margin:-1px;padding:1px;background-color:#efcbed;border-radius:4px}[_nghost-%COMP%]     .xfaLayer .highlight.appended{position:initial}[_nghost-%COMP%]     .xfaLayer .highlight.begin{border-radius:4px 0 0 4px}[_nghost-%COMP%]     .xfaLayer .highlight.end{border-radius:0 4px 4px 0}[_nghost-%COMP%]     .xfaLayer .highlight.middle{border-radius:0}[_nghost-%COMP%]     .xfaLayer .highlight.selected{background-color:#cbdfcb}[_nghost-%COMP%]     .xfaLayer ::selection{background:blue}[_nghost-%COMP%]     .xfaPage{overflow:hidden;position:relative}[_nghost-%COMP%]     .xfaContentarea{position:absolute}[_nghost-%COMP%]     .xfaPrintOnly{display:none}[_nghost-%COMP%]     .xfaLayer{position:absolute;text-align:initial;top:0;left:0;transform-origin:0 0;line-height:1.2}[_nghost-%COMP%]     .xfaLayer *{color:inherit;font:inherit;font-style:inherit;font-weight:inherit;font-feature-settings:inherit;font-kerning:inherit;letter-spacing:-.01px;text-align:inherit;text-decoration:inherit;box-sizing:border-box;background-color:transparent;padding:0;margin:0;pointer-events:auto;line-height:inherit}[_nghost-%COMP%]     .xfaLayer div{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg{pointer-events:none}[_nghost-%COMP%]     .xfaLayer svg *{pointer-events:none}[_nghost-%COMP%]     .xfaLayer a{color:#00f}[_nghost-%COMP%]     .xfaRich li{margin-left:3em}[_nghost-%COMP%]     .xfaFont{color:#000;font-weight:400;font-feature-settings:\"kern\" off;font-kerning:none;font-size:10px;font-style:normal;letter-spacing:0;text-decoration:none;vertical-align:0}[_nghost-%COMP%]     .xfaCaption{overflow:hidden;flex:0 0 auto}[_nghost-%COMP%]     .xfaCaptionForCheckButton{overflow:hidden;flex:1 1 auto}[_nghost-%COMP%]     .xfaLabel{height:100%;width:100%}[_nghost-%COMP%]     .xfaLeft{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]     .xfaRight{display:flex;flex-direction:row-reverse;align-items:center}[_nghost-%COMP%]     .xfaLeft>.xfaCaption, [_nghost-%COMP%]     .xfaLeft>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaRight>.xfaCaption, [_nghost-%COMP%]     .xfaRight>.xfaCaptionForCheckButton{max-height:100%}[_nghost-%COMP%]     .xfaTop{display:flex;flex-direction:column;align-items:flex-start}[_nghost-%COMP%]     .xfaBottom{display:flex;flex-direction:column-reverse;align-items:flex-start}[_nghost-%COMP%]     .xfaTop>.xfaCaption, [_nghost-%COMP%]     .xfaTop>.xfaCaptionForCheckButton, [_nghost-%COMP%]     .xfaBottom>.xfaCaption, [_nghost-%COMP%]     .xfaBottom>.xfaCaptionForCheckButton{width:100%}[_nghost-%COMP%]     .xfaBorder{background-color:transparent;position:absolute;pointer-events:none}[_nghost-%COMP%]     .xfaWrapped{width:100%;height:100%}[_nghost-%COMP%]     .xfaTextfield:focus, [_nghost-%COMP%]     .xfaSelect:focus{background-image:none;background-color:transparent;outline:auto;outline-offset:-1px}[_nghost-%COMP%]     .xfaCheckbox:focus, [_nghost-%COMP%]     .xfaRadio:focus{outline:auto}[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{height:100%;width:100%;flex:1 1 auto;border:none;resize:none;background-image:var(--xfa-unfocused-field-background)}[_nghost-%COMP%]     .xfaTop>.xfaTextfield, [_nghost-%COMP%]     .xfaTop>.xfaSelect, [_nghost-%COMP%]     .xfaBottom>.xfaTextfield, [_nghost-%COMP%]     .xfaBottom>.xfaSelect{flex:0 1 auto}[_nghost-%COMP%]     .xfaButton{cursor:pointer;width:100%;height:100%;border:none;text-align:center}[_nghost-%COMP%]     .xfaLink{width:100%;height:100%;position:absolute;top:0;left:0}[_nghost-%COMP%]     .xfaCheckbox, [_nghost-%COMP%]     .xfaRadio{width:100%;height:100%;flex:0 0 auto;border:none}[_nghost-%COMP%]     .xfaRich{white-space:pre-wrap;width:100%;height:100%}[_nghost-%COMP%]     .xfaImage{object-position:left top;object-fit:contain;width:100%;height:100%}[_nghost-%COMP%]     .xfaLrTb, [_nghost-%COMP%]     .xfaRlTb, [_nghost-%COMP%]     .xfaTb{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaLr{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaRl{display:flex;flex-direction:row-reverse;align-items:stretch}[_nghost-%COMP%]     .xfaTb>div{justify-content:left}[_nghost-%COMP%]     .xfaPosition{position:relative}[_nghost-%COMP%]     .xfaArea{position:relative}[_nghost-%COMP%]     .xfaValignMiddle{display:flex;align-items:center}[_nghost-%COMP%]     .xfaTable{display:flex;flex-direction:column;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRow{display:flex;flex-direction:row;align-items:stretch}[_nghost-%COMP%]     .xfaTable .xfaRlRow{display:flex;flex-direction:row-reverse;align-items:stretch;flex:1}[_nghost-%COMP%]     .xfaTable .xfaRlRow>div{flex:1}[_nghost-%COMP%]     .xfaNonInteractive input, [_nghost-%COMP%]     .xfaNonInteractive textarea, [_nghost-%COMP%]     .xfaDisabled input, [_nghost-%COMP%]     .xfaDisabled textarea, [_nghost-%COMP%]     .xfaReadOnly input, [_nghost-%COMP%]     .xfaReadOnly textarea{background:initial}@media print{[_nghost-%COMP%]     .xfaTextfield, [_nghost-%COMP%]     .xfaSelect{background:transparent}[_nghost-%COMP%]     .xfaSelect{-webkit-appearance:none;-moz-appearance:none;appearance:none;text-indent:1px;text-overflow:\"\"}}[_nghost-%COMP%]     .pdfViewer{padding-bottom:var(--pdfViewer-padding-bottom)}[_nghost-%COMP%]     .pdfViewer .canvasWrapper{overflow:hidden}[_nghost-%COMP%]     .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:var(--page-margin);position:relative;overflow:visible;border:var(--page-border);background-clip:content-box;border-image:var(--shadow) 9 9 repeat;background-color:#fff}[_nghost-%COMP%]     .pdfViewer .dummyPage{position:relative;width:0;height:var(--viewer-container-height)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}[_nghost-%COMP%]     .pdfViewer.singlePageView{display:inline-block}[_nghost-%COMP%]     .pdfViewer.singlePageView .page{margin:0;border:none}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .pdfViewer.scrollWrapped, [_nghost-%COMP%]     .spread{margin-left:3.5px;margin-right:3.5px;text-align:center}[_nghost-%COMP%]     .pdfViewer.scrollHorizontal, [_nghost-%COMP%]     .spread{white-space:nowrap}[_nghost-%COMP%]     .pdfViewer.removePageBorders, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{margin-left:0;margin-right:0}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .spread .dummyPage, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .spread, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .spread{display:inline-block;vertical-align:middle}[_nghost-%COMP%]     .spread .page, [_nghost-%COMP%]     .pdfViewer.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.scrollWrapped .page{margin-left:var(--spreadHorizontalWrapped-margin-LR);margin-right:var(--spreadHorizontalWrapped-margin-LR)}[_nghost-%COMP%]     .pdfViewer.removePageBorders .spread .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollHorizontal .page, [_nghost-%COMP%]     .pdfViewer.removePageBorders.scrollWrapped .page{margin-left:5px;margin-right:5px}[_nghost-%COMP%]     .pdfViewer .page canvas{margin:0;display:block}[_nghost-%COMP%]     .pdfViewer .page canvas[hidden]{display:none}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0;background:url(data:image/gif;base64,R0lGODlhGAAYAPQQAM7Ozvr6+uDg4LCwsOjo6I6OjsjIyJycnNjY2KioqMDAwPLy8nZ2doaGhri4uGhoaP///wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACH/C05FVFNDQVBFMi4wAwEAAAAh/ilPcHRpbWl6ZWQgd2l0aCBodHRwczovL2V6Z2lmLmNvbS9vcHRpbWl6ZQAh+QQJBwAQACwAAAAAGAAYAAAFmiAkjiTkOGVaBgjZNGSgkgKjjM8zLoI8iy+BKCdiCX8iBeMAhEEIPRXLxViYUE9CbCQoFAzFhHY3zkaT3oPvBz1zE4UBsr1eWZH4vAowOBwGAHk8AoQLfH6Agm0Ed3qOAXWOIgQKiWyFJQgDgJEpdG+WEACNEFNFmKVlVzJQk6qdkwqBoi1mebJ3ALNGeIZHtGSwNDS1RZKueCEAIfkECQcAEAAsAAAAABgAGAAABZcgJI4kpChlWgYCWRQkEKgjURgjw4zOg9CjVwuiEyEeO6CxkBC9nA+HiuUqLEyoBZI0Mx4SAFFgQCDZuguBoGv6Dtg0gvpqdhxQQDkBzuUr/4A1JwMKP39pc2mDhYCIc4GQYn6QCwCMeY91l0p6dBAEJ0OfcFRimZ91Mwt0alxxAIZyRmuAsKxDLKKvZbM1tJxmvGKRpn8hACH5BAkHABAALAAAAAAYABgAAAWhICSOJGQYZVoGAnkcJBKoI3EAY1GMCtPSosSBINKJBIwGkHdwBGGQA0OhYpEGQxNqkYzNIITBACEKKBaxxNfBeOCO4vMy0Hg8nDHFeCktkKtfNAtoS4UqAicKBj9zBAKPC4iKi4aRkISGmWWBmjUIAIyHkCUEAKCVo2WmREecVqoCgZhgP4NHrGWCj7e3szSpuxAsoVWxnp6cVV4kyZW+KSEAIfkECQcAEAAsAAAAABgAGAAABZkgJI4kBABlWgYEOQykEKgjMSDjcYxG0dKi108nEhQKQN4rCIMkCgbawjWYnSCLY2yGVSgEooBhWqsGGwxc0RtNBgoMhmJ1QgETjANYFeBKyUmBKQQIdT9JDmgPDQ6EhoKJD4sOgpWWgiwChyqEBH5hmptSoSOZgJ4kLKWkYTF7C2SaqaM/hEWygay4mYG8t6uffFuzl1iANCEAIfkECQcAEAAsAAAAABgAGAAABZ0gJI4khCBlmhKkopBCoI6LIozDMAIHO4uuBVBnOiR+I4FrCDwAZsKdQnaCLIwwmRUA8JmioprWUCjcwlwUMnAoG0qL03k2KCS8cC0UjOzDCQKBfHQFDAwFU4CCfgqFhy9+kZJWgzSKSAcPZn+BfQENDw8OljGWJAFeDoZPYTBnC1GdSXqnsoBolSulX2GyP6hgvnG0KrS3NJNhuSQhACH5BAkHABAALAAAAAAYABgAAAWaICSOJCQIZZoupGGQRKCOC0CMijIiwz2LABtQZxoMfjQhxAXszWQ7gOwECRhh0MCJJRJARTUoIHFAgbfI6uBwAJS01J/i4PClVYHvfV8lbLlIBmwFbQt+aGmChG18jXeGT4dICQxlb4g/AQUMDER9XjR6BAdiDQwINDBmkAsPDVh4cX4imw53iLKuaVqAcUsPqEiidkt6j4AzIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiREEGWaBiSCtCoZCMsIAKOg1LEo0KKbaKFQ9EYLoOkFuQlirNxzCQkUW9GZ0hQd4nyDAWr4G/esYSbyZFYZwu3jqiuvr8u8I2BwOAwASXh1e31/doeHC3klWnElfAlTd46MfQUGk2stCVEGBQWSdCciDg5VDAVYKoEiDQ0iBwxGcj9RDw8+qHIzebc2DJJQJK6qiKVyIQAh+QQJBwAQACwAAAAAGAAYAAAFmSAkjiS0LGWaBiRBtCoZCKgoCCMB1DF0sz6cCQDo5W62l28XAyZFpyECBv3lnCbhUqHMIo0Qg4Jbmn1jRCa4iV27TzfXGjEecOFWMN1OdvvfPGUuXSoKBw6EXokrAwcHRVU0UAeEBANAAAmUI1gNDyhjJgUHLW0iDg8FIqOnBQZrDA9TELE2rEYIDw4jta2LMpCrqld/YQpgIQAh+QQJBwAQACwAAAAAGAAYAAAFmyAkjiS0LGWaBiRBkKw6BgIqCsJcyyMe4yJajhcEml5H26o1PN2QQd3uFiv2AADlAgflIbDdZLgkABOJgep5LfWty4p4zeU+w+XsvJWXliEKDwdEBgMKYQ4PDw1qK3EDCCMAiQ5BCV0LCj+FSDQkgCgGBiYHAy2MIgoMghAHqw4HAGsNDEMFBTekdgwKI7aRB2MwkL2rVHoQoWchACH5BAkHABAALAAAAAAYABgAAAWWICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkfbqjU83ZBB3e4WK0qrCxyU55peid0qcUwuixyNx6PhILsAcAJazXYj4lvz2MkLiFsHDAlEcABKZwwMBX8pBgoKQxAIigpBA1sLBj+PSDQkB4uSACYDlTMyBgWDEKVnl2QFBUigN61gBQYjtLV5JZ4jtlR6omMhACH5BAkHABAALAAAAAAYABgAAAWaICSOJLQsZZoGJEGQrDoGAioKwlzLIx7jIlqOFwSaXkdbidYanm7I4AjwYDh6saJuJ3JUG1mZi9srPA7EcRimJLrfJYWZUVC8TziXnEG3u/E+cIJaPAFrPQl1aQAIbRAGBZGHJQiMUQKRBkEKbQsAPZaEXQcslSYKmjMyAAdXj34ACkNEiUgDA5t+PAQHn6Ogjkuzry2DNwhuIQAh+QQFBwAQACwAAAAAGAAYAAAFnCAkjiS0LGVaBgBJEGSguo8zCsK4CPIsMg+ECCcKEH0ix6MwhJl4KiOp8UCdmrEbo6EoHpxF8A6aBBZ6vhf5dmAkkGr0CoWs21WGQ2FvsI9xC3l7B311fy93iWGKJQQOhHCAJQB6A3IqcWwJLU90i2FkUiMKlhBELEI6MwgDXRAGhQgAYD6tTqRFAJxpA6mvrqazSKJJhUWMpjlIIQA7) center no-repeat}[_nghost-%COMP%]     .pdfViewer .page .loadingIcon.notVisible{background:none}[_nghost-%COMP%]     .pdfViewer.enablePermissions .textLayer span{-webkit-user-select:none!important;user-select:none!important;cursor:not-allowed}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer{padding-bottom:0}[_nghost-%COMP%]     .pdfPresentationMode .spread{margin:0}[_nghost-%COMP%]     .pdfPresentationMode .pdfViewer .page{margin:0 auto;border:2px solid transparent}"]}),n})(),fM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({}),n})(),pM=(()=>{class n{constructor(e,i){this.data=e,this.http=i}ngOnInit(){if(this.data instanceof File){const e=new FileReader;e.onload=()=>this.url=e.result,e.readAsDataURL(this.data)}else this.url=this.data.url,this.http.get(this.url,{responseType:"blob"}).subscribe(e=>console.log(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Vv),s.Y36(Zd))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-pdf-preview"]],decls:1,vars:4,consts:[[2,"height","90vh","width","50vw",3,"src","render-text","original-size","fit-to-page"]],template:function(e,i){1&e&&s._UZ(0,"pdf-viewer",0),2&e&&s.Q6J("src",i.url)("render-text",!0)("original-size",!0)("fit-to-page",!0)},dependencies:[E1]}),n})(),A1=(()=>{class n{constructor(){this._vertical=!1,this._inset=!1}get vertical(){return this._vertical}set vertical(e){this._vertical=ti(e)}get inset(){return this._inset}set inset(e){this._inset=ti(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-divider"]],hostAttrs:["role","separator",1,"mat-divider"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("aria-orientation",i.vertical?"vertical":"horizontal"),s.ekj("mat-divider-vertical",i.vertical)("mat-divider-horizontal",!i.vertical)("mat-divider-inset",i.inset))},inputs:{vertical:"vertical",inset:"inset"},decls:0,vars:0,template:function(e,i){},styles:[".mat-divider{display:block;margin:0;border-top-width:1px;border-top-style:solid}.mat-divider.mat-divider-vertical{border-top:0;border-right-width:1px;border-right-style:solid}.mat-divider.mat-divider-inset{margin-left:80px}[dir=rtl] .mat-divider.mat-divider-inset{margin-left:auto;margin-right:80px}"],encapsulation:2,changeDetection:0}),n})(),mM=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bn,Bn]}),n})();var o=R(3099);const l=["*"];let c;function f(n){return function d(){if(void 0===c&&(c=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(c=n.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return c}()?.createHTML(n)||n}function m(n){return Error(`Unable to find icon with the name "${n}"`)}function D(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function T(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class H{constructor(t,e,i){this.url=t,this.svgText=e,this.options=i}}let de=(()=>{class n{constructor(e,i,r,a){this._httpClient=e,this._sanitizer=i,this._errorHandler=a,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(e,i,r){return this.addSvgIconInNamespace("",e,i,r)}addSvgIconLiteral(e,i,r){return this.addSvgIconLiteralInNamespace("",e,i,r)}addSvgIconInNamespace(e,i,r,a){return this._addSvgIconConfig(e,i,new H(r,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,i,r,a){const u=this._sanitizer.sanitize(s.q3G.HTML,r);if(!u)throw T(r);const h=f(u);return this._addSvgIconConfig(e,i,new H("",h,a))}addSvgIconSet(e,i){return this.addSvgIconSetInNamespace("",e,i)}addSvgIconSetLiteral(e,i){return this.addSvgIconSetLiteralInNamespace("",e,i)}addSvgIconSetInNamespace(e,i,r){return this._addSvgIconSetConfig(e,new H(i,null,r))}addSvgIconSetLiteralInNamespace(e,i,r){const a=this._sanitizer.sanitize(s.q3G.HTML,i);if(!a)throw T(i);const u=f(a);return this._addSvgIconSetConfig(e,new H("",u,r))}registerFontClassAlias(e,i=e){return this._fontCssClassesByAlias.set(e,i),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const i=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,e);if(!i)throw D(e);const r=this._cachedIconsByUrl.get(i);return r?Nt(qe(r)):this._loadSvgIconFromConfig(new H(e,null)).pipe((0,ai.b)(a=>this._cachedIconsByUrl.set(i,a)),(0,zt.U)(a=>qe(a)))}getNamedSvgIcon(e,i=""){const r=ht(i,e);let a=this._svgIconConfigs.get(r);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(i,e),a)return this._svgIconConfigs.set(r,a),this._getSvgFromConfig(a);const u=this._iconSetConfigs.get(i);return u?this._getSvgFromIconSetConfigs(e,u):or(m(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?Nt(qe(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,zt.U)(i=>qe(i)))}_getSvgFromIconSetConfigs(e,i){const r=this._extractIconWithNameFromAnySet(e,i);return r?Nt(r):zy(i.filter(u=>!u.svgText).map(u=>this._loadSvgIconSetFromConfig(u).pipe(mr(h=>{const w=`Loading icon set URL: ${this._sanitizer.sanitize(s.q3G.RESOURCE_URL,u.url)} failed: ${h.message}`;return this._errorHandler.handleError(new Error(w)),Nt(null)})))).pipe((0,zt.U)(()=>{const u=this._extractIconWithNameFromAnySet(e,i);if(!u)throw m(e);return u}))}_extractIconWithNameFromAnySet(e,i){for(let r=i.length-1;r>=0;r--){const a=i[r];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){const u=this._svgElementFromConfig(a),h=this._extractSvgIconFromSet(u,e,a.options);if(h)return h}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,ai.b)(i=>e.svgText=i),(0,zt.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?Nt(null):this._fetchIcon(e).pipe((0,ai.b)(i=>e.svgText=i))}_extractSvgIconFromSet(e,i,r){const a=e.querySelector(`[id="${i}"]`);if(!a)return null;const u=a.cloneNode(!0);if(u.removeAttribute("id"),"svg"===u.nodeName.toLowerCase())return this._setSvgAttributes(u,r);if("symbol"===u.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(u),r);const h=this._svgElementFromString(f("<svg></svg>"));return h.appendChild(u),this._setSvgAttributes(h,r)}_svgElementFromString(e){const i=this._document.createElement("DIV");i.innerHTML=e;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(e){const i=this._svgElementFromString(f("<svg></svg>")),r=e.attributes;for(let a=0;a<r.length;a++){const{name:u,value:h}=r[a];"id"!==u&&i.setAttribute(u,h)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&i.appendChild(e.childNodes[a].cloneNode(!0));return i}_setSvgAttributes(e,i){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),i&&i.viewBox&&e.setAttribute("viewBox",i.viewBox),e}_fetchIcon(e){const{url:i,options:r}=e,a=r?.withCredentials??!1;if(!this._httpClient)throw function v(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const u=this._sanitizer.sanitize(s.q3G.RESOURCE_URL,i);if(!u)throw D(i);const h=this._inProgressUrlFetches.get(u);if(h)return h;const _=this._httpClient.get(u,{responseType:"text",withCredentials:a}).pipe((0,zt.U)(w=>f(w)),cs(()=>this._inProgressUrlFetches.delete(u)),(0,o.B)());return this._inProgressUrlFetches.set(u,_),_}_addSvgIconConfig(e,i,r){return this._svgIconConfigs.set(ht(e,i),r),this}_addSvgIconSetConfig(e,i){const r=this._iconSetConfigs.get(e);return r?r.push(i):this._iconSetConfigs.set(e,[i]),this}_svgElementFromConfig(e){if(!e.svgElement){const i=this._svgElementFromString(e.svgText);this._setSvgAttributes(i,e.options),e.svgElement=i}return e.svgElement}_getIconConfigFromResolvers(e,i){for(let r=0;r<this._resolvers.length;r++){const a=this._resolvers[r](i,e);if(a)return Et(a)?new H(a.url,null,a.options):new H(a,null)}}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(Zd,8),s.LFG($r),s.LFG(B,8),s.LFG(s.qLn))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qe(n){return n.cloneNode(!0)}function ht(n,t){return n+":"+t}function Et(n){return!(!n.url||!n.options)}const Ft=bf(class{constructor(n){this._elementRef=n}}),Ht=new s.OlP("MAT_ICON_DEFAULT_OPTIONS"),cn=new s.OlP("mat-icon-location",{providedIn:"root",factory:function bt(){const n=(0,s.f3M)(B),t=n?n.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),sn=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Mn=sn.map(n=>`[${n}]`).join(", "),pi=/^url\(['"]?#(.*?)['"]?\)$/;let Pl=(()=>{class n extends Ft{constructor(e,i,r,a,u,h){super(e),this._iconRegistry=i,this._location=a,this._errorHandler=u,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=Zn.w0.EMPTY,h&&(h.color&&(this.color=this.defaultColor=h.color),h.fontSet&&(this.fontSet=h.fontSet)),r||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=ti(e)}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const i=this._cleanupFontValue(e);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const i=this._cleanupFontValue(e);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const i=e.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let i=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=e.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>e.classList.remove(r)),i.forEach(r=>e.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const i=this._elementsWithExternalReferences;i&&i.forEach((r,a)=>{r.forEach(u=>{a.setAttribute(u.name,`url('${e}#${u.value}')`)})})}_cacheChildrenWithExternalReferences(e){const i=e.querySelectorAll(Mn),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<i.length;a++)sn.forEach(u=>{const h=i[a],_=h.getAttribute(u),w=_?_.match(pi):null;if(w){let M=r.get(h);M||(M=[],r.set(h,M)),M.push({name:u,value:w[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[i,r]=this._splitIconName(e);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(Jn(1)).subscribe(a=>this._setSvgElement(a),a=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${a.message}`))})}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(de),s.$8M("aria-hidden"),s.Y36(cn),s.Y36(s.qLn),s.Y36(Ht,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,i){2&e&&(s.uIk("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet),s.ekj("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[s.qOj],ngContentSelectors:l,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),n})(),Kv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bn,Bn]}),n})();const S1=["*"],yj=[[["","mat-list-avatar",""],["","mat-list-icon",""],["","matListAvatar",""],["","matListIcon",""]],[["","mat-line",""],["","matLine",""]],"*"],vj=["[mat-list-avatar], [mat-list-icon], [matListAvatar], [matListIcon]","[mat-line], [matLine]","*"],Ej=vf(Eu(class{})),Aj=Eu(class{}),x1=new s.OlP("MatList"),Sj=new s.OlP("MatNavList");let Tj=(()=>{class n extends Ej{constructor(e){super(),this._elementRef=e,this._stateChanges=new _t.x,"action-list"===this._getListType()&&e.nativeElement.classList.add("mat-action-list")}_getListType(){const e=this._elementRef.nativeElement.nodeName.toLowerCase();return"mat-list"===e?"list":"mat-action-list"===e?"action-list":null}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list"],["mat-action-list"]],hostAttrs:[1,"mat-list","mat-list-base"],inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matList"],features:[s._Bn([{provide:x1,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:S1,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.Hsn(0))},styles:['.mat-subheader{display:flex;box-sizing:border-box;padding:16px;align-items:center}.mat-list-base .mat-subheader{margin:0}button.mat-list-item,button.mat-list-option{padding:0;width:100%;background:none;color:inherit;border:none;outline:inherit;-webkit-tap-highlight-color:rgba(0,0,0,0);text-align:left}[dir=rtl] button.mat-list-item,[dir=rtl] button.mat-list-option{text-align:right}button.mat-list-item::-moz-focus-inner,button.mat-list-option::-moz-focus-inner{border:0}.mat-list-base{padding-top:8px;display:block;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-list-base .mat-subheader{height:48px;line-height:16px}.mat-list-base .mat-subheader:first-child{margin-top:-8px}.mat-list-base .mat-list-item,.mat-list-base .mat-list-option{display:block;height:48px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base .mat-list-item .mat-list-item-content,.mat-list-base .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base .mat-list-item .mat-list-item-content-reverse,.mat-list-base .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base .mat-list-item .mat-list-item-ripple,.mat-list-base .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar,.mat-list-base .mat-list-option.mat-list-item-with-avatar{height:56px}.mat-list-base .mat-list-item.mat-2-line,.mat-list-base .mat-list-option.mat-2-line{height:72px}.mat-list-base .mat-list-item.mat-3-line,.mat-list-base .mat-list-option.mat-3-line{height:88px}.mat-list-base .mat-list-item.mat-multi-line,.mat-list-base .mat-list-option.mat-multi-line{height:auto}.mat-list-base .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base .mat-list-item .mat-list-text,.mat-list-base .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base .mat-list-item .mat-list-text>*,.mat-list-base .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base .mat-list-item .mat-list-text:empty,.mat-list-base .mat-list-option .mat-list-text:empty{display:none}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base .mat-list-item .mat-list-avatar,.mat-list-base .mat-list-option .mat-list-avatar{flex-shrink:0;width:40px;height:40px;border-radius:50%;object-fit:cover}.mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:72px;width:calc(100% - 72px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:72px}.mat-list-base .mat-list-item .mat-list-icon,.mat-list-base .mat-list-option .mat-list-icon{flex-shrink:0;width:24px;height:24px;font-size:24px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:64px;width:calc(100% - 64px)}[dir=rtl] .mat-list-base .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:64px}.mat-list-base .mat-list-item .mat-divider,.mat-list-base .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base .mat-list-item .mat-divider,[dir=rtl] .mat-list-base .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-list-base[dense]{padding-top:4px;display:block}.mat-list-base[dense] .mat-subheader{height:40px;line-height:8px}.mat-list-base[dense] .mat-subheader:first-child{margin-top:-4px}.mat-list-base[dense] .mat-list-item,.mat-list-base[dense] .mat-list-option{display:block;height:40px;-webkit-tap-highlight-color:rgba(0,0,0,0);width:100%;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-item-content,.mat-list-base[dense] .mat-list-option .mat-list-item-content{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;padding:0 16px;position:relative;height:inherit}.mat-list-base[dense] .mat-list-item .mat-list-item-content-reverse,.mat-list-base[dense] .mat-list-option .mat-list-item-content-reverse{display:flex;align-items:center;padding:0 16px;flex-direction:row-reverse;justify-content:space-around}.mat-list-base[dense] .mat-list-item .mat-list-item-ripple,.mat-list-base[dense] .mat-list-option .mat-list-item-ripple{display:block;top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar{height:48px}.mat-list-base[dense] .mat-list-item.mat-2-line,.mat-list-base[dense] .mat-list-option.mat-2-line{height:60px}.mat-list-base[dense] .mat-list-item.mat-3-line,.mat-list-base[dense] .mat-list-option.mat-3-line{height:76px}.mat-list-base[dense] .mat-list-item.mat-multi-line,.mat-list-base[dense] .mat-list-option.mat-multi-line{height:auto}.mat-list-base[dense] .mat-list-item.mat-multi-line .mat-list-item-content,.mat-list-base[dense] .mat-list-option.mat-multi-line .mat-list-item-content{padding-top:16px;padding-bottom:16px}.mat-list-base[dense] .mat-list-item .mat-list-text,.mat-list-base[dense] .mat-list-option .mat-list-text{display:flex;flex-direction:column;flex:auto;box-sizing:border-box;overflow:hidden;padding:0}.mat-list-base[dense] .mat-list-item .mat-list-text>*,.mat-list-base[dense] .mat-list-option .mat-list-text>*{margin:0;padding:0;font-weight:normal;font-size:inherit}.mat-list-base[dense] .mat-list-item .mat-list-text:empty,.mat-list-base[dense] .mat-list-option .mat-list-text:empty{display:none}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:0;padding-left:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:0}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-left:0;padding-right:16px}[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-item.mat-list-option .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar .mat-list-item-content-reverse .mat-list-text,[dir=rtl] .mat-list-base[dense] .mat-list-option.mat-list-option .mat-list-item-content-reverse .mat-list-text{padding-right:0;padding-left:16px}.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-item.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content-reverse .mat-list-text,.mat-list-base[dense] .mat-list-option.mat-list-item-with-avatar.mat-list-option .mat-list-item-content .mat-list-text{padding-right:16px;padding-left:16px}.mat-list-base[dense] .mat-list-item .mat-list-avatar,.mat-list-base[dense] .mat-list-option .mat-list-avatar{flex-shrink:0;width:36px;height:36px;border-radius:50%;object-fit:cover}.mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:68px;width:calc(100% - 68px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-avatar~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-avatar~.mat-divider-inset{margin-left:auto;margin-right:68px}.mat-list-base[dense] .mat-list-item .mat-list-icon,.mat-list-base[dense] .mat-list-option .mat-list-icon{flex-shrink:0;width:20px;height:20px;font-size:20px;box-sizing:content-box;border-radius:50%;padding:4px}.mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:60px;width:calc(100% - 60px)}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-list-icon~.mat-divider-inset,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-list-icon~.mat-divider-inset{margin-left:auto;margin-right:60px}.mat-list-base[dense] .mat-list-item .mat-divider,.mat-list-base[dense] .mat-list-option .mat-divider{position:absolute;bottom:0;left:0;width:100%;margin:0}[dir=rtl] .mat-list-base[dense] .mat-list-item .mat-divider,[dir=rtl] .mat-list-base[dense] .mat-list-option .mat-divider{margin-left:auto;margin-right:0}.mat-list-base[dense] .mat-list-item .mat-divider.mat-divider-inset,.mat-list-base[dense] .mat-list-option .mat-divider.mat-divider-inset{position:absolute}.mat-nav-list a{text-decoration:none;color:inherit}.mat-nav-list .mat-list-item{cursor:pointer;outline:none}mat-action-list .mat-list-item{cursor:pointer;outline:inherit}.mat-list-option:not(.mat-list-item-disabled){cursor:pointer;outline:none}.mat-list-item-disabled{pointer-events:none}.cdk-high-contrast-active .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active :host .mat-list-item-disabled{opacity:.5}.cdk-high-contrast-active .mat-list-option:hover,.cdk-high-contrast-active .mat-nav-list .mat-list-item:hover,.cdk-high-contrast-active mat-action-list .mat-list-item:hover{outline:dotted 1px;z-index:1}.cdk-high-contrast-active .mat-list-single-selected-option::after{content:"";position:absolute;top:50%;right:16px;transform:translateY(-50%);width:10px;height:0;border-bottom:solid 10px;border-radius:10px}.cdk-high-contrast-active [dir=rtl] .mat-list-single-selected-option::after{right:auto;left:16px}@media(hover: none){.mat-list-option:not(.mat-list-single-selected-option):not(.mat-list-item-disabled):hover,.mat-nav-list .mat-list-item:not(.mat-list-item-disabled):hover,.mat-action-list .mat-list-item:not(.mat-list-item-disabled):hover{background:none}}'],encapsulation:2,changeDetection:0}),n})(),M1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-avatar",""],["","matListAvatar",""]],hostAttrs:[1,"mat-list-avatar"]}),n})(),I1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","mat-list-icon",""],["","matListIcon",""]],hostAttrs:[1,"mat-list-icon"]}),n})(),xj=(()=>{class n extends Aj{constructor(e,i,r,a){super(),this._element=e,this._isInteractiveList=!1,this._destroyed=new _t.x,this._disabled=!1,this._isInteractiveList=!!(r||a&&"action-list"===a._getListType()),this._list=r||a;const u=this._getHostElement();"button"===u.nodeName.toLowerCase()&&!u.hasAttribute("type")&&u.setAttribute("type","button"),this._list&&this._list._stateChanges.pipe(Zt(this._destroyed)).subscribe(()=>{i.markForCheck()})}get disabled(){return this._disabled||!(!this._list||!this._list.disabled)}set disabled(e){this._disabled=ti(e)}ngAfterContentInit(){!function ks(n,t,e="mat"){n.changes.pipe(hi(n)).subscribe(({length:i})=>{Tu(t,`${e}-2-line`,!1),Tu(t,`${e}-3-line`,!1),Tu(t,`${e}-multi-line`,!1),2===i||3===i?Tu(t,`${e}-${i}-line`,!0):i>3&&Tu(t,`${e}-multi-line`,!0)})}(this._lines,this._element)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_isRippleDisabled(){return!this._isInteractiveList||this.disableRipple||!(!this._list||!this._list.disableRipple)}_getHostElement(){return this._element.nativeElement}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(Sj,8),s.Y36(x1,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-list-item"],["a","mat-list-item",""],["button","mat-list-item",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,M1,5),s.Suo(r,I1,5),s.Suo(r,wf,5)),2&e){let a;s.iGM(a=s.CRH())&&(i._avatar=a.first),s.iGM(a=s.CRH())&&(i._icon=a.first),s.iGM(a=s.CRH())&&(i._lines=a)}},hostAttrs:[1,"mat-list-item","mat-focus-indicator"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-list-item-disabled",i.disabled)("mat-list-item-with-avatar",i._avatar||i._icon)},inputs:{disableRipple:"disableRipple",disabled:"disabled"},exportAs:["matListItem"],features:[s.qOj],ngContentSelectors:vj,decls:6,vars:2,consts:[[1,"mat-list-item-content"],["mat-ripple","",1,"mat-list-item-ripple",3,"matRippleTrigger","matRippleDisabled"],[1,"mat-list-text"]],template:function(e,i){1&e&&(s.F$t(yj),s.TgZ(0,"span",0),s._UZ(1,"span",1),s.Hsn(2),s.TgZ(3,"span",2),s.Hsn(4,1),s.qZA(),s.Hsn(5,2),s.qZA()),2&e&&(s.xp6(1),s.Q6J("matRippleTrigger",i._getHostElement())("matRippleDisabled",i._isRippleDisabled()))},dependencies:[Cc],encapsulation:2,changeDetection:0}),n})(),Oj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xu,Cf,Bn,Oy,Xi,xu,Bn,Oy,mM]}),n})();function k1(n,t){return t?e=>ga(t.pipe(Jn(1),function Fj(){return(0,Hn.e)((n,t)=>{n.subscribe((0,Kn.x)(t,Cy.Z))})}()),e.pipe(k1(n))):(0,Hi.z)((e,i)=>n(e,i).pipe(Jn(1),hl(e)))}function R1(n,t=Ps.z){const e=Tc(n,t);return k1(()=>e)}const Lj=["mat-menu-item",""];function Nj(n,t){1&n&&(s.O4$(),s.TgZ(0,"svg",2),s._UZ(1,"polygon",3),s.qZA())}const O1=["*"];function Vj(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",0),s.NdJ("keydown",function(r){s.CHM(e);const a=s.oxw();return s.KtG(a._handleKeydown(r))})("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.closed.emit("click"))})("@transformMenu.start",function(r){s.CHM(e);const a=s.oxw();return s.KtG(a._onAnimationStart(r))})("@transformMenu.done",function(r){s.CHM(e);const a=s.oxw();return s.KtG(a._onAnimationDone(r))}),s.TgZ(1,"div",1),s.Hsn(2),s.qZA()()}if(2&n){const e=s.oxw();s.Q6J("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),s.uIk("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const BD={transformMenu:ka("transformMenu",[ms("void",kn({opacity:0,transform:"scale(0.8)"})),xr("void => enter",Pi("120ms cubic-bezier(0, 0, 0.2, 1)",kn({opacity:1,transform:"scale(1)"}))),xr("* => void",Pi("100ms 25ms linear",kn({opacity:0})))]),fadeInItems:ka("fadeInItems",[ms("showing",kn({opacity:1})),xr("void => *",[kn({opacity:0}),Pi("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},Bj=new s.OlP("MatMenuContent"),gM=new s.OlP("MAT_MENU_PANEL"),Uj=Eu(vf(class{}));let UD=(()=>{class n extends Uj{constructor(e,i,r,a,u){super(),this._elementRef=e,this._document=i,this._focusMonitor=r,this._parentMenu=a,this._changeDetectorRef=u,this.role="menuitem",this._hovered=new _t.x,this._focused=new _t.x,this._highlighted=!1,this._triggersSubmenu=!1,a?.addItem?.(this)}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._getHostElement(),e,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement.cloneNode(!0),i=e.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return e.textContent?.trim()||""}_setHighlighted(e){this._highlighted=e,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(B),s.Y36(El),s.Y36(gM,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,i){1&e&&s.NdJ("click",function(a){return i._checkDisabled(a)})("mouseenter",function(){return i._handleMouseEnter()}),2&e&&(s.uIk("role",i.role)("tabindex",i._getTabIndex())("aria-disabled",i.disabled.toString())("disabled",i.disabled||null),s.ekj("mat-menu-item",!0)("mat-menu-item-highlighted",i._highlighted)("mat-menu-item-submenu-trigger",i._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[s.qOj],attrs:Lj,ngContentSelectors:O1,decls:3,vars:3,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-menu-submenu-icon","viewBox","0 0 5 10","focusable","false",4,"ngIf"],["viewBox","0 0 5 10","focusable","false",1,"mat-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(e,i){1&e&&(s.F$t(),s.Hsn(0),s._UZ(1,"div",0),s.YNc(2,Nj,2,0,"svg",1)),2&e&&(s.xp6(1),s.Q6J("matRippleDisabled",i.disableRipple||i.disabled)("matRippleTrigger",i._getHostElement()),s.xp6(1),s.Q6J("ngIf",i._triggersSubmenu))},dependencies:[bo,Cc],encapsulation:2,changeDetection:0}),n})();const F1=new s.OlP("mat-menu-default-options",{providedIn:"root",factory:function jj(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Hj=0,Zv=(()=>{class n{constructor(e,i,r,a){this._elementRef=e,this._ngZone=i,this._defaultOptions=r,this._changeDetectorRef=a,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new s.n_E,this._tabSubscription=Zn.w0.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new _t.x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new s.vpe,this.close=this.closed,this.panelId="mat-menu-panel-"+Hj++}get xPosition(){return this._xPosition}set xPosition(e){this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=ti(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=ti(e)}set panelClass(e){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new sw(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(hi(this._directDescendantItems),oi(e=>(0,Rs.T)(...e.map(i=>i._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e)),this._directDescendantItems.changes.subscribe(e=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=e.toArray(),a=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[a]&&!r[a].disabled?i.setActiveItem(a):i.setNextItemActive()}})}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(hi(this._directDescendantItems),oi(i=>(0,Rs.T)(...i.map(r=>r._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const i=e.keyCode,r=this._keyManager;switch(i){case 27:Cu(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(e)}e.stopPropagation()}focusFirstItem(e="program"){this._ngZone.onStable.pipe(Jn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(e).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const i=Math.min(this._baseElevation+e,24),r=`${this._elevationPrefix}${i}`,a=Object.keys(this._classList).find(u=>u.startsWith(this._elevationPrefix));(!a||a===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(e=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===e,r["mat-menu-after"]="after"===e,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(hi(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(F1),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,Bj,5),s.Suo(r,UD,5),s.Suo(r,UD,4)),2&e){let a;s.iGM(a=s.CRH())&&(i.lazyContent=a.first),s.iGM(a=s.CRH())&&(i._allItems=a),s.iGM(a=s.CRH())&&(i.items=a)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,5),2&e){let r;s.iGM(r=s.CRH())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}}),n})(),Gj=(()=>{class n extends Zv{constructor(e,i,r,a){super(e,i,r,a),this._elevationPrefix="mat-elevation-z",this._baseElevation=4}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(F1),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-menu"]],hostVars:3,hostBindings:function(e,i){2&e&&s.uIk("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[s._Bn([{provide:gM,useExisting:n}]),s.qOj],ngContentSelectors:O1,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,i){1&e&&(s.F$t(),s.YNc(0,Vj,3,6,"ng-template"))},dependencies:[Ha],styles:['mat-menu{display:none}.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px;position:relative}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.cdk-high-contrast-active .mat-menu-item{margin-top:1px}.mat-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-menu-submenu-icon{fill:CanvasText}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[BD.transformMenu,BD.fadeInItems]},changeDetection:0}),n})();const L1=new s.OlP("mat-menu-scroll-strategy"),$j={provide:L1,deps:[lo],useFactory:function zj(n){return()=>n.scrollStrategies.reposition()}},N1=Go({passive:!0});let Wj=(()=>{class n{constructor(e,i,r,a,u,h,_,w,M){this._overlay=e,this._element=i,this._viewContainerRef=r,this._menuItemInstance=h,this._dir=_,this._focusMonitor=w,this._ngZone=M,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=Zn.w0.EMPTY,this._hoverSubscription=Zn.w0.EMPTY,this._menuCloseSubscription=Zn.w0.EMPTY,this._handleTouchStart=j=>{Fd(j)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new s.vpe,this.onMenuOpen=this.menuOpened,this.menuClosed=new s.vpe,this.onMenuClose=this.menuClosed,this._scrollStrategy=a,this._parentMaterialMenu=u instanceof Zv?u:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,N1),h&&(h._triggersSubmenu=this.triggersSubmenu())}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(this._menuCloseSubscription=e.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})))}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,N1),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMaterialMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const e=this.menu;if(this._menuOpen||!e)return;const i=this._createOverlay(e),r=i.getConfig(),a=r.positionStrategy;this._setPosition(e,a),r.hasBackdrop=e.hasBackdrop??!this.triggersSubmenu(),i.attach(this._getPortal(e)),e.lazyContent&&e.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(e),e instanceof Zv&&(e._startAnimation(),e._directDescendantItems.changes.pipe(Zt(e.close)).subscribe(()=>{a.withLockedPosition(!1).reapplyLastPosition(),a.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(e,i){this._focusMonitor&&e?this._focusMonitor.focusVia(this._element,e,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(e){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===e||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Zv?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(ei(r=>"void"===r.toState),Jn(1),Zt(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(e){e.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,e.direction=this.dir,this._setMenuElevation(e),e.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(e){if(e.setElevation){let i=0,r=e.parentMenu;for(;r;)i++,r=r.parentMenu;e.setElevation(i)}}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(e)}_createOverlay(e){if(!this._overlayRef){const i=this._getOverlayConfig(e);this._subscribeToPositions(e,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(e){return new Bu({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:e.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:e.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e,i){e.setPositionClasses&&i.positionChanges.subscribe(r=>{const a="start"===r.connectionPair.overlayX?"after":"before",u="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>e.setPositionClasses(a,u)):e.setPositionClasses(a,u)})}_setPosition(e,i){let[r,a]="before"===e.xPosition?["end","start"]:["start","end"],[u,h]="above"===e.yPosition?["bottom","top"]:["top","bottom"],[_,w]=[u,h],[M,j]=[r,a],Ce=0;if(this.triggersSubmenu()){if(j=r="before"===e.xPosition?"start":"end",a=M="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const Me=this._parentMaterialMenu.items.first;this._parentInnerPadding=Me?Me._getHostElement().offsetTop:0}Ce="bottom"===u?this._parentInnerPadding:-this._parentInnerPadding}}else e.overlapTrigger||(_="top"===u?"bottom":"top",w="top"===h?"bottom":"top");i.withPositions([{originX:r,originY:_,overlayX:M,overlayY:u,offsetY:Ce},{originX:a,originY:_,overlayX:j,overlayY:u,offsetY:Ce},{originX:r,originY:w,overlayX:M,overlayY:h,offsetY:-Ce},{originX:a,originY:w,overlayX:j,overlayY:h,offsetY:-Ce}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),i=this._overlayRef.detachments(),r=this._parentMaterialMenu?this._parentMaterialMenu.closed:Nt(),a=this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(ei(u=>u!==this._menuItemInstance),ei(()=>this._menuOpen)):Nt();return(0,Rs.T)(e,r,a,i)}_handleMousedown(e){Om(e)||(this._openedBy=0===e.button?"mouse":void 0,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const i=e.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(ei(e=>e===this._menuItemInstance&&!e.disabled),R1(0,kv)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Zv&&this.menu._isAnimating?this.menu._animationDone.pipe(Jn(1),R1(0,kv),Zt(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(e){return(!this._portal||this._portal.templateRef!==e.templateRef)&&(this._portal=new qd(e.templateRef,this._viewContainerRef)),this._portal}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(lo),s.Y36(s.SBq),s.Y36(s.s_b),s.Y36(L1),s.Y36(gM,8),s.Y36(UD,10),s.Y36(ps,8),s.Y36(El),s.Y36(s.R0b))},n.\u0275dir=s.lG2({type:n,hostVars:3,hostBindings:function(e,i){1&e&&s.NdJ("click",function(a){return i._handleClick(a)})("mousedown",function(a){return i._handleMousedown(a)})("keydown",function(a){return i._handleKeydown(a)}),2&e&&s.uIk("aria-haspopup",i.menu?"menu":null)("aria-expanded",i.menuOpen||null)("aria-controls",i.menuOpen?i.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}}),n})(),qj=(()=>{class n extends Wj{}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275dir=s.lG2({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-menu-trigger"],exportAs:["matMenuTrigger"],features:[s.qOj]}),n})(),Yj=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[$j],imports:[Xi,Bn,Cf,xc,Gf,Bn]}),n})();const Kj=["tooltip"],V1="tooltip-panel",B1=Go({passive:!0}),U1=new s.OlP("mat-tooltip-scroll-strategy"),Jj={provide:U1,deps:[lo],useFactory:function Xj(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},eH=new s.OlP("mat-tooltip-default-options",{providedIn:"root",factory:function tH(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let nH=(()=>{class n{constructor(e,i,r,a,u,h,_,w,M,j,Ce,Me){this._overlay=e,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=a,this._ngZone=u,this._platform=h,this._ariaDescriber=_,this._focusMonitor=w,this._dir=j,this._defaultOptions=Ce,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this._showDelay=this._defaultOptions.showDelay,this._hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new _t.x,this._scrollStrategy=M,this._document=Me,Ce&&(Ce.position&&(this.position=Ce.position),Ce.touchGestures&&(this.touchGestures=Ce.touchGestures)),j.change.pipe(Zt(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=ti(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(e){this._showDelay=hs(e)}get hideDelay(){return this._hideDelay}set hideDelay(e){this._hideDelay=hs(e),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=e?String(e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Zt(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{e.removeEventListener(i,r,B1)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message,"tooltip"),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const i=this._createOverlay();this._detach(),this._portal=this._portal||new Nu(this._tooltipComponent,this._viewContainerRef);const r=this._tooltipInstance=i.attach(this._portal).instance;r._triggerElement=this._elementRef.nativeElement,r._mouseLeaveHideDelay=this._hideDelay,r.afterHidden().pipe(Zt(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),r.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),i=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(e);return i.positionChanges.pipe(Zt(this._destroyed)).subscribe(r=>{this._updateCurrentPositionClass(r.connectionPair),this._tooltipInstance&&r.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:i,panelClass:`${this._cssClassPrefix}-${V1}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(Zt(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(Zt(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(Zt(this._destroyed)).subscribe(r=>{this._isTooltipVisible()&&27===r.keyCode&&!Cu(r)&&(r.preventDefault(),r.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(e){const i=e.getConfig().positionStrategy,r=this._getOrigin(),a=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...a.main}),this._addOffset({...r.fallback,...a.fallback})])}_addOffset(e){return e}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={originX:"end",originY:"center"});const{x:a,y:u}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:a,originY:u}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&e||"right"==i&&!e?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&e||"left"==i&&!e)&&(r={overlayX:"start",overlayY:"center"});const{x:a,y:u}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:a,overlayY:u}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(Jn(1),Zt(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:i}}_updateCurrentPositionClass(e){const{overlayY:i,originX:r,originY:a}=e;let u;if(u="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===a?"above":"below",u!==this._currentPosition){const h=this._overlayRef;if(h){const _=`${this._cssClassPrefix}-${V1}-`;h.removePanelClass(_+this._currentPosition),h.addPanelClass(_+u)}this._currentPosition=u}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",i],["touchcancel",i])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,B1)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(e){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(e.clientX,e.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const i=this._elementRef.nativeElement,r=i.style;("on"===e||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===e||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}}return n.\u0275fac=function(e){s.$Z()},n.\u0275dir=s.lG2({type:n,inputs:{position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}}),n})(),iH=(()=>{class n extends nH{constructor(e,i,r,a,u,h,_,w,M,j,Ce,Me){super(e,i,r,a,u,h,_,w,M,j,Ce,Me),this._tooltipComponent=sH}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(lo),s.Y36(s.SBq),s.Y36(Dg),s.Y36(s.s_b),s.Y36(s.R0b),s.Y36(xi),s.Y36(iw),s.Y36(El),s.Y36(U1),s.Y36(ps,8),s.Y36(eH,8),s.Y36(B))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],exportAs:["matTooltip"],features:[s.qOj]}),n})(),rH=(()=>{class n{constructor(e,i){this._changeDetectorRef=e,this._visibility="initial",this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new _t.x,this._animationsDisabled="NoopAnimations"===i}show(e){clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},e)}hide(e){clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},e)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){clearTimeout(this._showTimeoutId),clearTimeout(this._hideTimeoutId),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:e}){(!e||!this._triggerElement.contains(e))&&this.hide(this._mouseLeaveHideDelay)}_onShow(){}_handleAnimationEnd({animationName:e}){(e===this._showAnimation||e===this._hideAnimation)&&this._finalizeAnimation(e===this._showAnimation)}_finalizeAnimation(e){e?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(e){const i=this._tooltip.nativeElement,r=this._showAnimation,a=this._hideAnimation;if(i.classList.remove(e?a:r),i.classList.add(e?r:a),this._isVisible=e,e&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const u=getComputedStyle(i);("0s"===u.getPropertyValue("animation-duration")||"none"===u.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}e&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(e))}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n}),n})(),sH=(()=>{class n extends rH{constructor(e,i,r){super(e,r),this._breakpointObserver=i,this._isHandset=this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)"),this._showAnimation="mat-tooltip-show",this._hideAnimation="mat-tooltip-hide"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.sBO),s.Y36(pf),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(e,i){if(1&e&&s.Gf(Kj,7),2&e){let r;s.iGM(r=s.CRH())&&(i._tooltip=r.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,i){1&e&&s.NdJ("mouseleave",function(a){return i._handleMouseLeave(a)}),2&e&&s.Udp("zoom",i.isVisible()?1:null)},features:[s.qOj],decls:4,vars:6,consts:[[1,"mat-tooltip",3,"ngClass","animationend"],["tooltip",""]],template:function(e,i){if(1&e&&(s.TgZ(0,"div",0,1),s.NdJ("animationend",function(a){return i._handleAnimationEnd(a)}),s.ALo(2,"async"),s._uU(3),s.qZA()),2&e){let r;s.ekj("mat-tooltip-handset",null==(r=s.lcZ(2,4,i._isHandset))?null:r.matches),s.Q6J("ngClass",i.tooltipClass),s.xp6(3),s.Oqu(i.message)}},dependencies:[Ha,Hc],styles:[".mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis;transform:scale(0)}.mat-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}.mat-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-tooltip-show{0%{opacity:0;transform:scale(0)}50%{opacity:.5;transform:scale(0.99)}100%{opacity:1;transform:scale(1)}}@keyframes mat-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(1)}}.mat-tooltip-show{animation:mat-tooltip-show 200ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-tooltip-hide{animation:mat-tooltip-hide 100ms cubic-bezier(0, 0, 0.2, 1) forwards}"],encapsulation:2,changeDetection:0}),n})(),oH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[Jj],imports:[oo,Xi,xc,Bn,Bn,Gf]}),n})(),_M=(()=>{class n{constructor(){this.spacer="",this.flex="1 1 auto"}ngOnInit(){this.flex=this.spacer?`0 0 ${this.spacer}`:this.flex}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["","spacer",""]],hostVars:2,hostBindings:function(e,i){2&e&&s.Udp("flex",i.flex)},inputs:{spacer:"spacer"}}),n})(),aH=(()=>{class n{transform(e){const i=e/1073741824;if(i>1)return`${i.toFixed(1)}GB`;{const r=e/1048576;return r>1?`${r.toFixed(2)}MB`:`${(e/1024).toFixed(0)}KB`}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=s.Yjl({name:"fileSize",type:n,pure:!0}),n})();function lH(n,t){if(1&n&&(s.TgZ(0,"span"),s._uU(1),s.qZA()),2&n){const e=s.oxw();s.xp6(1),s.hij("(+",e.files.length,")")}}function cH(n,t){if(1&n){const e=s.EpF();s.ynx(0),s.TgZ(1,"button",5),s.NdJ("click",function(){s.CHM(e);const r=s.MAs(4);return s.KtG(r.click())}),s._uU(2," Select Documents "),s.qZA(),s.TgZ(3,"input",6,7),s.NdJ("change",function(r){s.CHM(e);const a=s.oxw();return s.KtG(a.onSelected(r))}),s.qZA(),s.BQk()}if(2&n){const e=s.oxw();s.xp6(3),s.Q6J("accept",e.acceptableTypes)}}function uH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(){const a=s.CHM(e).$implicit,u=s.oxw().$implicit,h=s.oxw();return s.KtG(h.changeMedicalType(u,a))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function dH(n,t){1&n&&(s.TgZ(0,"button",17),s._uU(1,"Attach"),s.qZA())}function hH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-list-item",8)(1,"span",9),s.NdJ("click",function(){const a=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.openPreview(a))}),s._uU(2),s.qZA(),s.TgZ(3,"span",10),s._uU(4),s.ALo(5,"fileSize"),s.qZA(),s._UZ(6,"span",3),s.TgZ(7,"button",11),s._uU(8),s.TgZ(9,"mat-icon"),s._uU(10,"arrow_drop_down"),s.qZA()(),s.TgZ(11,"mat-menu",null,12),s.YNc(13,uH,2,1,"button",13),s.qZA(),s.TgZ(14,"button",14),s.NdJ("click",function(){const a=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.removeFile(a))}),s.TgZ(15,"mat-icon"),s._uU(16,"close"),s.qZA()(),s.YNc(17,dH,2,0,"button",15),s.qZA()}if(2&n){const e=t.$implicit,i=s.MAs(12),r=s.oxw();s.xp6(1),s.ekj("underline",r.isPreviewable(e)),s.Q6J("matTooltipDisabled",!r.isDocument(e)),s.xp6(1),s.hij(" ",e.name," "),s.xp6(2),s.Oqu(s.lcZ(5,9,e.size)),s.xp6(3),s.Q6J("matMenuTriggerFor",i),s.xp6(1),s.hij(" ",e.medicalType," "),s.xp6(5),s.Q6J("ngForOf",r.medicalTypes),s.xp6(4),s.Q6J("ngIf",r.singleLineAttach)}}function fH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"button",16),s.NdJ("click",function(){const a=s.CHM(e).$implicit,u=s.oxw().$implicit,h=s.oxw();return s.KtG(h.changeMedicalType(u,a))}),s._uU(1),s.qZA()}if(2&n){const e=t.$implicit;s.xp6(1),s.hij(" ",e," ")}}function pH(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-list-item",8)(1,"span",18),s.NdJ("click",function(){const a=s.CHM(e).$implicit,u=s.oxw();return s.KtG(u.openPreview(a))}),s._uU(2),s.qZA(),s.TgZ(3,"span",10),s._uU(4),s.ALo(5,"fileSize"),s.qZA(),s._UZ(6,"span",3),s.TgZ(7,"button",11),s._uU(8),s.TgZ(9,"mat-icon"),s._uU(10,"arrow_drop_down"),s.qZA()(),s.TgZ(11,"mat-menu",null,12),s.YNc(13,fH,2,1,"button",13),s.qZA(),s.TgZ(14,"button",19)(15,"mat-icon"),s._uU(16,"more_horiz"),s.qZA()(),s.TgZ(17,"mat-menu",null,20)(19,"button",21)(20,"mat-icon"),s._uU(21,"file_download"),s.qZA(),s.TgZ(22,"span"),s._uU(23,"Download"),s.qZA()(),s.TgZ(24,"button",22)(25,"mat-icon"),s._uU(26,"delete"),s.qZA(),s.TgZ(27,"span"),s._uU(28,"Delete"),s.qZA()()()()}if(2&n){const e=t.$implicit,i=s.MAs(12),r=s.MAs(18),a=s.oxw();s.xp6(1),s.ekj("underline",a.isPreviewable(e)),s.Q6J("matTooltipDisabled",!a.isDocument(e)),s.xp6(1),s.hij(" ",e.name," "),s.xp6(2),s.Oqu(s.lcZ(5,9,e.size)),s.xp6(3),s.Q6J("matMenuTriggerFor",i),s.xp6(1),s.hij(" ",e.medicalType,""),s.xp6(5),s.Q6J("ngForOf",a.medicalTypes),s.xp6(1),s.Q6J("matMenuTriggerFor",r)}}function mH(n,t){1&n&&(s.ynx(0),s.TgZ(1,"mat-list-item",23)(2,"span",24),s._uU(3,"No Documents Attached"),s.qZA()(),s.BQk())}let yM=(()=>{class n{constructor(e){this.dialog=e,this.singleLineAttach=!1,this.readonly=!1,this.virtualDocuments=[],this.files=[]}ngOnInit(){}get medicalTypes(){return Object.values(Ta)}get acceptableTypes(){return[...ay.keys(),...ym.keys(),...vm.keys()].join(",")}isImage(e){return ym.has(e.extension)}isPDF(e){return vm.has(e.extension)}isDocument(e){return ay.has(e.extension)}isPreviewable(e){return ym.has(e.extension)||vm.has(e.extension)}onSelected(e){e.target.files.length>0&&(this.files=Array.from(e.target.files).map(i=>{const r=i.name.split("."),u=i;return u.extension=`.${r[r.length-1]}`,u.medicalType=Ta.activation,console.log(u),u}),e.target.value=null)}removeFile(e){const i=this.files.indexOf(e);i>=0&&this.files.splice(i,1)}changeMedicalType(e,i){e.medicalType=i}openPreview(e){ym.has(e.extension)?this.dialog.open($f,{data:e,hasBackdrop:!0,panelClass:"image-preview-dialog",maxHeight:"90vh"}):vm.has(e.extension)&&this.dialog.open(pM,{data:e,hasBackdrop:!0,panelClass:"pdf-preview-dialog",maxHeight:"90vh"})}openImagePreview(e){this.dialog.open($f,{data:e,hasBackdrop:!0,panelClass:"image-preview-dialog",maxHeight:"90vh"})}openPDFPreview(e){this.dialog.open(pM,{data:e,hasBackdrop:!0,panelClass:"pdf-preview-dialog",maxHeight:"90vh"})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ig))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-document-attachment"]],inputs:{singleLineAttach:"singleLineAttach",readonly:"readonly",virtualDocuments:"virtualDocuments"},decls:12,vars:6,consts:[[1,"row"],[1,"mat-body-strong","caption"],[4,"ngIf"],["spacer",""],["class","file",4,"ngFor","ngForOf"],["color","accent","mat-button","",3,"click"],["type","file","multiple","","hidden","",1,"file-upload",3,"accept","change"],["fileInput",""],[1,"file"],["matTooltip","Attach this document or open it locally to preview",1,"name",3,"matTooltipDisabled","click"],[1,"mat-caption","size"],["mat-button","",1,"suffixIcon",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["color","warn","mat-icon-button","",3,"click"],["color","accent","mat-flat-button","",4,"ngIf"],["mat-menu-item","",3,"click"],["color","accent","mat-flat-button",""],["matTooltip","Attach this document or open it locally to preview",3,"matTooltipDisabled","click"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["actionMenu","matMenu"],["mat-menu-item",""],["mat-menu-item","","color","warn"],[1,"no-files"],[1,"mat-body"]],template:function(e,i){1&e&&(s.TgZ(0,"div",0)(1,"span",1),s._uU(2),s.YNc(3,lH,2,1,"span",2),s.qZA(),s._UZ(4,"span",3),s.YNc(5,cH,5,1,"ng-container",2),s.qZA(),s._UZ(6,"mat-divider"),s.TgZ(7,"mat-list"),s.YNc(8,hH,18,11,"mat-list-item",4),s.YNc(9,pH,29,11,"mat-list-item",4),s.YNc(10,mH,4,0,"ng-container",2),s.qZA(),s._UZ(11,"mat-divider")),2&e&&(s.xp6(2),s.hij(" Documents ",i.virtualDocuments.length," "),s.xp6(1),s.Q6J("ngIf",i.files.length>0),s.xp6(2),s.Q6J("ngIf",!i.readonly),s.xp6(3),s.Q6J("ngForOf",i.files),s.xp6(1),s.Q6J("ngForOf",i.virtualDocuments),s.xp6(1),s.Q6J("ngIf",0==i.files.length&&0==i.virtualDocuments.length))},dependencies:[vo,bo,Dc,A1,Pl,Tj,xj,Gj,UD,qj,iH,_M,aH],styles:["[_nghost-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center}[_nghost-%COMP%]   .caption[_ngcontent-%COMP%]{padding:0 1rem;color:#0009}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]{padding:0}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .underline[_ngcontent-%COMP%]{text-decoration:underline;cursor:pointer}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]:first-child{padding-top:.5rem}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .file[_ngcontent-%COMP%]:last-child{padding-bottom:.5rem}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{max-width:55%}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .size[_ngcontent-%COMP%]{margin-left:.5rem;font-weight:400;color:#0009}[_nghost-%COMP%]   mat-list[_ngcontent-%COMP%]   .no-files[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:1rem 0;font-weight:400;color:#0009}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]{margin-top:1rem}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:not(:last-child){margin:0 .5rem}[_nghost-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-left:.5rem}"]}),n})(),gH=(()=>{class n{constructor(){this.documents=[{url:"https://github.com/Matthew-The-Developer/file-attachment/blob/master/src/assets/pdf-test.pdf",name:"pdf-test.pdf",size:2534446,extension:".pdf",type:"application/pdf",lastModified:new Date(1659762822100),medicalType:Ta.activation},{url:"https://www.thecoderpedia.com/wp-content/uploads/2020/06/Programming-Memes-Programmer-while-sleeping.jpg?x34900",name:"Programming-Memes-Programmer-while-sleeping.jpg",size:59868,extension:".jpg",type:"image/jpeg",lastModified:new Date(1661779977375),medicalType:Ta.deactivation}]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-form"]],decls:47,vars:1,consts:[[1,"example-form"],["appearance","fill",1,"example-full-width"],["matInput","","disabled","","value","Google"],["cellspacing","0",1,"example-full-width"],["matInput",""],["matInput","","placeholder","Ex. 100 Main St"],["matInput","","placeholder","Ex. San Francisco"],["matInput","","placeholder","Ex. California"],[3,"virtualDocuments"],["align","end"],["mat-stroked-button",""],["mat-flat-button","","color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card")(1,"mat-card-content")(2,"form",0)(3,"mat-form-field",1)(4,"mat-label"),s._uU(5,"Company (disabled)"),s.qZA(),s._UZ(6,"input",2),s.qZA(),s.TgZ(7,"table",3)(8,"tr")(9,"td")(10,"mat-form-field",1)(11,"mat-label"),s._uU(12,"First name"),s.qZA(),s._UZ(13,"input",4),s.qZA()(),s.TgZ(14,"td")(15,"mat-form-field",1)(16,"mat-label"),s._uU(17,"Long Last Name That Will Be Truncated"),s.qZA(),s._UZ(18,"input",4),s.qZA()()()(),s.TgZ(19,"p")(20,"mat-form-field",1)(21,"mat-label"),s._uU(22,"Address"),s.qZA(),s.TgZ(23,"textarea",5),s._uU(24,"1600 Amphitheatre Pkwy"),s.qZA()(),s.TgZ(25,"mat-form-field",1)(26,"mat-label"),s._uU(27,"Address 2"),s.qZA(),s._UZ(28,"textarea",4),s.qZA()(),s.TgZ(29,"table",3)(30,"tr")(31,"td")(32,"mat-form-field",1)(33,"mat-label"),s._uU(34,"City"),s.qZA(),s._UZ(35,"input",6),s.qZA()(),s.TgZ(36,"td")(37,"mat-form-field",1)(38,"mat-label"),s._uU(39,"State"),s.qZA(),s._UZ(40,"input",7),s.qZA()()()()(),s._UZ(41,"app-document-attachment",8),s.qZA(),s.TgZ(42,"mat-card-actions",9)(43,"button",10),s._uU(44,"Cancel"),s.qZA(),s.TgZ(45,"button",11),s._uU(46,"Save"),s.qZA()()()),2&e&&(s.xp6(41),s.Q6J("virtualDocuments",i.documents))},dependencies:[Dc,Ef,$m,Ny,Xm,Qm,bg,yM],styles:["[_nghost-%COMP%]{height:calc(100vh - 64px);display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{width:50%;padding-bottom:1.5rem}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   .example-full-width[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{padding:0 .5rem}"]}),n})();function vM(n,t,e){for(let i in t)if(t.hasOwnProperty(i)){const r=t[i];r?n.setProperty(i,r,e?.has(i)?"important":""):n.removeProperty(i)}return n}function Ng(n,t){const e=t?"":"none";vM(n.style,{"touch-action":t?"":"none","-webkit-user-drag":t?"":"none","-webkit-tap-highlight-color":t?"":"transparent","user-select":e,"-ms-user-select":e,"-webkit-user-select":e,"-moz-user-select":e})}function j1(n,t,e){vM(n.style,{position:t?"":"fixed",top:t?"":"0",opacity:t?"":"0",left:t?"":"-999em"},e)}function jD(n,t){return t&&"none"!=t?n+" "+t:n}function H1(n){const t=n.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(n)*t}function bM(n,t){return n.getPropertyValue(t).split(",").map(i=>i.trim())}function wM(n){const t=n.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height,x:t.x,y:t.y}}function CM(n,t,e){const{top:i,bottom:r,left:a,right:u}=n;return e>=i&&e<=r&&t>=a&&t<=u}function Qv(n,t,e){n.top+=t,n.bottom=n.top+n.height,n.left+=e,n.right=n.left+n.width}function G1(n,t,e,i){const{top:r,right:a,bottom:u,left:h,width:_,height:w}=n,M=_*t,j=w*t;return i>r-j&&i<u+j&&e>h-M&&e<a+M}class z1{constructor(t){this._document=t,this.positions=new Map}clear(){this.positions.clear()}cache(t){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),t.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:wM(e)})})}handleScroll(t){const e=Is(t),i=this.positions.get(e);if(!i)return null;const r=i.scrollPosition;let a,u;if(e===this._document){const w=this.getViewportScrollPosition();a=w.top,u=w.left}else a=e.scrollTop,u=e.scrollLeft;const h=r.top-a,_=r.left-u;return this.positions.forEach((w,M)=>{w.clientRect&&e!==M&&e.contains(M)&&Qv(w.clientRect,h,_)}),r.top=a,r.left=u,{top:h,left:_}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}}function $1(n){const t=n.cloneNode(!0),e=t.querySelectorAll("[id]"),i=n.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<e.length;r++)e[r].removeAttribute("id");return"canvas"===i?Y1(n,t):("input"===i||"select"===i||"textarea"===i)&&q1(n,t),W1("canvas",n,t,Y1),W1("input, textarea, select",n,t,q1),t}function W1(n,t,e,i){const r=t.querySelectorAll(n);if(r.length){const a=e.querySelectorAll(n);for(let u=0;u<r.length;u++)i(r[u],a[u])}}let vH=0;function q1(n,t){"file"!==t.type&&(t.value=n.value),"radio"===t.type&&t.name&&(t.name=`mat-clone-${t.name}-${vH++}`)}function Y1(n,t){const e=t.getContext("2d");if(e)try{e.drawImage(n,0,0)}catch{}}const K1=Go({passive:!0}),HD=Go({passive:!1}),DM=new Set(["position"]);class wH{constructor(t,e,i,r,a,u){this._config=e,this._document=i,this._ngZone=r,this._viewportRuler=a,this._dragDropRegistry=u,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=!1,this._moveEvents=new _t.x,this._pointerMoveSubscription=Zn.w0.EMPTY,this._pointerUpSubscription=Zn.w0.EMPTY,this._scrollSubscription=Zn.w0.EMPTY,this._resizeSubscription=Zn.w0.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new _t.x,this.started=new _t.x,this.released=new _t.x,this.ended=new _t.x,this.entered=new _t.x,this.exited=new _t.x,this.dropped=new _t.x,this.moved=this._moveEvents,this._pointerDown=h=>{if(this.beforeStarted.next(),this._handles.length){const _=this._getTargetHandle(h);_&&!this._disabledHandles.has(_)&&!this.disabled&&this._initializeDragSequence(_,h)}else this.disabled||this._initializeDragSequence(this._rootElement,h)},this._pointerMove=h=>{const _=this._getPointerPositionOnPage(h);if(!this._hasStartedDragging){if(Math.abs(_.x-this._pickupPositionOnPage.x)+Math.abs(_.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){const Me=Date.now()>=this._dragStartTime+this._getDragStartDelay(h),Le=this._dropContainer;if(!Me)return void this._endDragSequence(h);(!Le||!Le.isDragging()&&!Le.isReceiving())&&(h.preventDefault(),this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(h)))}return}h.preventDefault();const w=this._getConstrainedPointerPosition(_);if(this._hasMoved=!0,this._lastKnownPointerPosition=_,this._updatePointerDirectionDelta(w),this._dropContainer)this._updateActiveDropContainer(w,_);else{const M=this.constrainPosition?this._initialClientRect:this._pickupPositionOnPage,j=this._activeTransform;j.x=w.x-M.x+this._passiveTransform.x,j.y=w.y-M.y+this._passiveTransform.y,this._applyRootElementTransform(j.x,j.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:w,event:h,distance:this._getDragDistance(w),delta:this._pointerDirectionDelta})})},this._pointerUp=h=>{this._endDragSequence(h)},this._nativeDragStart=h=>{if(this._handles.length){const _=this._getTargetHandle(h);_&&!this._disabledHandles.has(_)&&!this.disabled&&h.preventDefault()}else this.disabled||h.preventDefault()},this.withRootElement(t).withParent(e.parentDragRef||null),this._parentPositions=new z1(i),u.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(t){const e=ti(t);e!==this._disabled&&(this._disabled=e,this._toggleNativeDragInteractions(),this._handles.forEach(i=>Ng(i,e)))}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(t){this._handles=t.map(i=>Ii(i)),this._handles.forEach(i=>Ng(i,this.disabled)),this._toggleNativeDragInteractions();const e=new Set;return this._disabledHandles.forEach(i=>{this._handles.indexOf(i)>-1&&e.add(i)}),this._disabledHandles=e,this}withPreviewTemplate(t){return this._previewTemplate=t,this}withPlaceholderTemplate(t){return this._placeholderTemplate=t,this}withRootElement(t){const e=Ii(t);return e!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{e.addEventListener("mousedown",this._pointerDown,HD),e.addEventListener("touchstart",this._pointerDown,K1),e.addEventListener("dragstart",this._nativeDragStart,HD)}),this._initialTransform=void 0,this._rootElement=e),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(t){return this._boundaryElement=t?Ii(t):null,this._resizeSubscription.unsubscribe(),t&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(t){return this._parentDragRef=t,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(t){!this._disabledHandles.has(t)&&this._handles.indexOf(t)>-1&&(this._disabledHandles.add(t),Ng(t,!0))}enableHandle(t){this._disabledHandles.has(t)&&(this._disabledHandles.delete(t),Ng(t,this.disabled))}withDirection(t){return this._direction=t,this}_withDropContainer(t){this._dropContainer=t}getFreeDragPosition(){const t=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:t.x,y:t.y}}setFreeDragPosition(t){return this._activeTransform={x:0,y:0},this._passiveTransform.x=t.x,this._passiveTransform.y=t.y,this._dropContainer||this._applyRootElementTransform(t.x,t.y),this}withPreviewContainer(t){return this._previewContainer=t,this}_sortFromLastPointerPosition(){const t=this._lastKnownPointerPosition;t&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(t),t)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview?.remove(),this._previewRef?.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(t){if(this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging))if(this.released.next({source:this,event:t}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(t),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;const e=this._getPointerPositionOnPage(t);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(e),dropPoint:e,event:t})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(t){Xv(t)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const e=this._dropContainer;if(e){const i=this._rootElement,r=i.parentNode,a=this._placeholder=this._createPlaceholderElement(),u=this._anchor=this._anchor||this._document.createComment(""),h=this._getShadowRoot();r.insertBefore(u,i),this._initialTransform=i.style.transform||"",this._preview=this._createPreviewElement(),j1(i,!1,DM),this._document.body.appendChild(r.replaceChild(a,i)),this._getPreviewInsertionPoint(r,h).appendChild(this._preview),this.started.next({source:this,event:t}),e.start(),this._initialContainer=e,this._initialIndex=e.getItemIndex(this)}else this.started.next({source:this,event:t}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(e?e.getScrollableParents():[])}_initializeDragSequence(t,e){this._parentDragRef&&e.stopPropagation();const i=this.isDragging(),r=Xv(e),a=!r&&0!==e.button,u=this._rootElement,h=Is(e),_=!r&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now(),w=r?Fd(e):Om(e);if(h&&h.draggable&&"mousedown"===e.type&&e.preventDefault(),i||a||_||w)return;if(this._handles.length){const Ce=u.style;this._rootElementTapHighlight=Ce.webkitTapHighlightColor||"",Ce.webkitTapHighlightColor="transparent"}this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._initialClientRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(Ce=>this._updateOnScroll(Ce)),this._boundaryElement&&(this._boundaryRect=wM(this._boundaryElement));const M=this._previewTemplate;this._pickupPositionInElement=M&&M.template&&!M.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialClientRect,t,e);const j=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(e);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:j.x,y:j.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,e)}_cleanupDragArtifacts(t){j1(this._rootElement,!0,DM),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialClientRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{const e=this._dropContainer,i=e.getItemIndex(this),r=this._getPointerPositionOnPage(t),a=this._getDragDistance(r),u=e._isOverContainer(r.x,r.y);this.ended.next({source:this,distance:a,dropPoint:r,event:t}),this.dropped.next({item:this,currentIndex:i,previousIndex:this._initialIndex,container:e,previousContainer:this._initialContainer,isPointerOverContainer:u,distance:a,dropPoint:r,event:t}),e.drop(this,i,this._initialIndex,this._initialContainer,u,a,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:t,y:e},{x:i,y:r}){let a=this._initialContainer._getSiblingContainerFromPosition(this,t,e);!a&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(t,e)&&(a=this._initialContainer),a&&a!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=a,this._dropContainer.enter(this,t,e,a===this._initialContainer&&a.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:a,currentIndex:a.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(i,r),this._dropContainer._sortItem(this,t,e,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(t,e):this._applyPreviewTransform(t-this._pickupPositionInElement.x,e-this._pickupPositionInElement.y))}_createPreviewElement(){const t=this._previewTemplate,e=this.previewClass,i=t?t.template:null;let r;if(i&&t){const a=t.matchSize?this._initialClientRect:null,u=t.viewContainer.createEmbeddedView(i,t.context);u.detectChanges(),r=Q1(u,this._document),this._previewRef=u,t.matchSize?X1(r,a):r.style.transform=GD(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else r=$1(this._rootElement),X1(r,this._initialClientRect),this._initialTransform&&(r.style.transform=this._initialTransform);return vM(r.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":`${this._config.zIndex||1e3}`},DM),Ng(r,!1),r.classList.add("cdk-drag-preview"),r.setAttribute("dir",this._direction),e&&(Array.isArray(e)?e.forEach(a=>r.classList.add(a)):r.classList.add(e)),r}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const t=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._applyPreviewTransform(t.left,t.top);const e=function yH(n){const t=getComputedStyle(n),e=bM(t,"transition-property"),i=e.find(h=>"transform"===h||"all"===h);if(!i)return 0;const r=e.indexOf(i),a=bM(t,"transition-duration"),u=bM(t,"transition-delay");return H1(a[r])+H1(u[r])}(this._preview);return 0===e?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(i=>{const r=u=>{(!u||Is(u)===this._preview&&"transform"===u.propertyName)&&(this._preview?.removeEventListener("transitionend",r),i(),clearTimeout(a))},a=setTimeout(r,1.5*e);this._preview.addEventListener("transitionend",r)}))}_createPlaceholderElement(){const t=this._placeholderTemplate,e=t?t.template:null;let i;return e?(this._placeholderRef=t.viewContainer.createEmbeddedView(e,t.context),this._placeholderRef.detectChanges(),i=Q1(this._placeholderRef,this._document)):i=$1(this._rootElement),i.style.pointerEvents="none",i.classList.add("cdk-drag-placeholder"),i}_getPointerPositionInElement(t,e,i){const r=e===this._rootElement?null:e,a=r?r.getBoundingClientRect():t,u=Xv(i)?i.targetTouches[0]:i,h=this._getViewportScrollPosition();return{x:a.left-t.left+(u.pageX-a.left-h.left),y:a.top-t.top+(u.pageY-a.top-h.top)}}_getPointerPositionOnPage(t){const e=this._getViewportScrollPosition(),i=Xv(t)?t.touches[0]||t.changedTouches[0]||{pageX:0,pageY:0}:t,r=i.pageX-e.left,a=i.pageY-e.top;if(this._ownerSVGElement){const u=this._ownerSVGElement.getScreenCTM();if(u){const h=this._ownerSVGElement.createSVGPoint();return h.x=r,h.y=a,h.matrixTransform(u.inverse())}}return{x:r,y:a}}_getConstrainedPointerPosition(t){const e=this._dropContainer?this._dropContainer.lockAxis:null;let{x:i,y:r}=this.constrainPosition?this.constrainPosition(t,this,this._initialClientRect,this._pickupPositionInElement):t;if("x"===this.lockAxis||"x"===e?r=this._pickupPositionOnPage.y:("y"===this.lockAxis||"y"===e)&&(i=this._pickupPositionOnPage.x),this._boundaryRect){const{x:a,y:u}=this._pickupPositionInElement,h=this._boundaryRect,{width:_,height:w}=this._getPreviewRect(),M=h.top+u,j=h.bottom-(w-u);i=Z1(i,h.left+a,h.right-(_-a)),r=Z1(r,M,j)}return{x:i,y:r}}_updatePointerDirectionDelta(t){const{x:e,y:i}=t,r=this._pointerDirectionDelta,a=this._pointerPositionAtLastDirectionChange,u=Math.abs(e-a.x),h=Math.abs(i-a.y);return u>this._config.pointerDirectionChangeThreshold&&(r.x=e>a.x?1:-1,a.x=e),h>this._config.pointerDirectionChangeThreshold&&(r.y=i>a.y?1:-1,a.y=i),r}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const t=this._handles.length>0||!this.isDragging();t!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=t,Ng(this._rootElement,t))}_removeRootElementListeners(t){t.removeEventListener("mousedown",this._pointerDown,HD),t.removeEventListener("touchstart",this._pointerDown,K1),t.removeEventListener("dragstart",this._nativeDragStart,HD)}_applyRootElementTransform(t,e){const i=GD(t,e),r=this._rootElement.style;null==this._initialTransform&&(this._initialTransform=r.transform&&"none"!=r.transform?r.transform:""),r.transform=jD(i,this._initialTransform)}_applyPreviewTransform(t,e){const i=this._previewTemplate?.template?void 0:this._initialTransform,r=GD(t,e);this._preview.style.transform=jD(r,i)}_getDragDistance(t){const e=this._pickupPositionOnPage;return e?{x:t.x-e.x,y:t.y-e.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:t,y:e}=this._passiveTransform;if(0===t&&0===e||this.isDragging()||!this._boundaryElement)return;const i=this._rootElement.getBoundingClientRect(),r=this._boundaryElement.getBoundingClientRect();if(0===r.width&&0===r.height||0===i.width&&0===i.height)return;const a=r.left-i.left,u=i.right-r.right,h=r.top-i.top,_=i.bottom-r.bottom;r.width>i.width?(a>0&&(t+=a),u>0&&(t-=u)):t=0,r.height>i.height?(h>0&&(e+=h),_>0&&(e-=_)):e=0,(t!==this._passiveTransform.x||e!==this._passiveTransform.y)&&this.setFreeDragPosition({y:e,x:t})}_getDragStartDelay(t){const e=this.dragStartDelay;return"number"==typeof e?e:Xv(t)?e.touch:e?e.mouse:0}_updateOnScroll(t){const e=this._parentPositions.handleScroll(t);if(e){const i=Is(t);this._boundaryRect&&i!==this._boundaryElement&&i.contains(this._boundaryElement)&&Qv(this._boundaryRect,e.top,e.left),this._pickupPositionOnPage.x+=e.left,this._pickupPositionOnPage.y+=e.top,this._dropContainer||(this._activeTransform.x-=e.left,this._activeTransform.y-=e.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return void 0===this._cachedShadowRoot&&(this._cachedShadowRoot=bm(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(t,e){const i=this._previewContainer||"global";if("parent"===i)return t;if("global"===i){const r=this._document;return e||r.fullscreenElement||r.webkitFullscreenElement||r.mozFullScreenElement||r.msFullscreenElement||r.body}return Ii(i)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialClientRect),this._previewRect}_getTargetHandle(t){return this._handles.find(e=>t.target&&(t.target===e||e.contains(t.target)))}}function GD(n,t){return`translate3d(${Math.round(n)}px, ${Math.round(t)}px, 0)`}function Z1(n,t,e){return Math.max(t,Math.min(e,n))}function Xv(n){return"t"===n.type[0]}function Q1(n,t){const e=n.rootNodes;if(1===e.length&&e[0].nodeType===t.ELEMENT_NODE)return e[0];const i=t.createElement("div");return e.forEach(r=>i.appendChild(r)),i}function X1(n,t){n.style.width=`${t.width}px`,n.style.height=`${t.height}px`,n.style.transform=GD(t.left,t.top)}function Jv(n,t){return Math.max(0,Math.min(t,n))}class DH{constructor(t,e){this._element=t,this._dragDropRegistry=e,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(t){this.withItems(t)}sort(t,e,i,r){const a=this._itemPositions,u=this._getItemIndexFromPointerPosition(t,e,i,r);if(-1===u&&a.length>0)return null;const h="horizontal"===this.orientation,_=a.findIndex(st=>st.drag===t),w=a[u],j=w.clientRect,Ce=_>u?1:-1,Me=this._getItemOffsetPx(a[_].clientRect,j,Ce),Le=this._getSiblingOffsetPx(_,a,Ce),$e=a.slice();return function CH(n,t,e){const i=Jv(t,n.length-1),r=Jv(e,n.length-1);if(i===r)return;const a=n[i],u=r<i?-1:1;for(let h=i;h!==r;h+=u)n[h]=n[h+u];n[r]=a}(a,_,u),a.forEach((st,It)=>{if($e[It]===st)return;const Bt=st.drag===t,Qt=Bt?Me:Le,Gt=Bt?t.getPlaceholderElement():st.drag.getRootElement();st.offset+=Qt,h?(Gt.style.transform=jD(`translate3d(${Math.round(st.offset)}px, 0, 0)`,st.initialTransform),Qv(st.clientRect,0,Qt)):(Gt.style.transform=jD(`translate3d(0, ${Math.round(st.offset)}px, 0)`,st.initialTransform),Qv(st.clientRect,Qt,0))}),this._previousSwap.overlaps=CM(j,e,i),this._previousSwap.drag=w.drag,this._previousSwap.delta=h?r.x:r.y,{previousIndex:_,currentIndex:u}}enter(t,e,i,r){const a=null==r||r<0?this._getItemIndexFromPointerPosition(t,e,i):r,u=this._activeDraggables,h=u.indexOf(t),_=t.getPlaceholderElement();let w=u[a];if(w===t&&(w=u[a+1]),!w&&(null==a||-1===a||a<u.length-1)&&this._shouldEnterAsFirstChild(e,i)&&(w=u[0]),h>-1&&u.splice(h,1),w&&!this._dragDropRegistry.isDragging(w)){const M=w.getRootElement();M.parentElement.insertBefore(_,M),u.splice(a,0,t)}else Ii(this._element).appendChild(_),u.push(t);_.style.transform="",this._cacheItemPositions()}withItems(t){this._activeDraggables=t.slice(),this._cacheItemPositions()}withSortPredicate(t){this._sortPredicate=t}reset(){this._activeDraggables.forEach(t=>{const e=t.getRootElement();if(e){const i=this._itemPositions.find(r=>r.drag===t)?.initialTransform;e.style.transform=i||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(t){return("horizontal"===this.orientation&&"rtl"===this.direction?this._itemPositions.slice().reverse():this._itemPositions).findIndex(i=>i.drag===t)}updateOnScroll(t,e){this._itemPositions.forEach(({clientRect:i})=>{Qv(i,t,e)}),this._itemPositions.forEach(({drag:i})=>{this._dragDropRegistry.isDragging(i)&&i._sortFromLastPointerPosition()})}_cacheItemPositions(){const t="horizontal"===this.orientation;this._itemPositions=this._activeDraggables.map(e=>{const i=e.getVisibleElement();return{drag:e,offset:0,initialTransform:i.style.transform||"",clientRect:wM(i)}}).sort((e,i)=>t?e.clientRect.left-i.clientRect.left:e.clientRect.top-i.clientRect.top)}_getItemOffsetPx(t,e,i){const r="horizontal"===this.orientation;let a=r?e.left-t.left:e.top-t.top;return-1===i&&(a+=r?e.width-t.width:e.height-t.height),a}_getSiblingOffsetPx(t,e,i){const r="horizontal"===this.orientation,a=e[t].clientRect,u=e[t+-1*i];let h=a[r?"width":"height"]*i;if(u){const _=r?"left":"top",w=r?"right":"bottom";-1===i?h-=u.clientRect[_]-a[w]:h+=a[_]-u.clientRect[w]}return h}_shouldEnterAsFirstChild(t,e){if(!this._activeDraggables.length)return!1;const i=this._itemPositions,r="horizontal"===this.orientation;if(i[0].drag!==this._activeDraggables[0]){const u=i[i.length-1].clientRect;return r?t>=u.right:e>=u.bottom}{const u=i[0].clientRect;return r?t<=u.left:e<=u.top}}_getItemIndexFromPointerPosition(t,e,i,r){const a="horizontal"===this.orientation,u=this._itemPositions.findIndex(({drag:h,clientRect:_})=>{if(h===t)return!1;if(r){const w=a?r.x:r.y;if(h===this._previousSwap.drag&&this._previousSwap.overlaps&&w===this._previousSwap.delta)return!1}return a?e>=Math.floor(_.left)&&e<Math.floor(_.right):i>=Math.floor(_.top)&&i<Math.floor(_.bottom)});return-1!==u&&this._sortPredicate(u,t)?u:-1}}class EH{constructor(t,e,i,r,a){this._dragDropRegistry=e,this._ngZone=r,this._viewportRuler=a,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new _t.x,this.entered=new _t.x,this.exited=new _t.x,this.dropped=new _t.x,this.sorted=new _t.x,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Zn.w0.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new _t.x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),function _H(n=0,t=Ps.z){return n<0&&(n=0),Tc(n,n,t)}(0,Iv).pipe(Zt(this._stopScrollTimers)).subscribe(()=>{const u=this._scrollNode,h=this.autoScrollStep;1===this._verticalScrollDirection?u.scrollBy(0,-h):2===this._verticalScrollDirection&&u.scrollBy(0,h),1===this._horizontalScrollDirection?u.scrollBy(-h,0):2===this._horizontalScrollDirection&&u.scrollBy(h,0)})},this.element=Ii(t),this._document=i,this.withScrollableParents([this.element]),e.registerDropContainer(this),this._parentPositions=new z1(i),this._sortStrategy=new DH(this.element,e),this._sortStrategy.withSortPredicate((u,h)=>this.sortPredicate(u,h,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(t,e,i,r){this._draggingStarted(),null==r&&this.sortingDisabled&&(r=this._draggables.indexOf(t)),this._sortStrategy.enter(t,e,i,r),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:t,container:this,currentIndex:this.getItemIndex(t)})}exit(t){this._reset(),this.exited.next({item:t,container:this})}drop(t,e,i,r,a,u,h,_={}){this._reset(),this.dropped.next({item:t,currentIndex:e,previousIndex:i,container:this,previousContainer:r,isPointerOverContainer:a,distance:u,dropPoint:h,event:_})}withItems(t){const e=this._draggables;return this._draggables=t,t.forEach(i=>i._withDropContainer(this)),this.isDragging()&&(e.filter(r=>r.isDragging()).every(r=>-1===t.indexOf(r))?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(t){return this._sortStrategy.direction=t,this}connectedTo(t){return this._siblings=t.slice(),this}withOrientation(t){return this._sortStrategy.orientation=t,this}withScrollableParents(t){const e=Ii(this.element);return this._scrollableElements=-1===t.indexOf(e)?[e,...t]:t.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(t){return this._isDragging?this._sortStrategy.getItemIndex(t):this._draggables.indexOf(t)}isReceiving(){return this._activeSiblings.size>0}_sortItem(t,e,i,r){if(this.sortingDisabled||!this._clientRect||!G1(this._clientRect,.05,e,i))return;const a=this._sortStrategy.sort(t,e,i,r);a&&this.sorted.next({previousIndex:a.previousIndex,currentIndex:a.currentIndex,container:this,item:t})}_startScrollingIfNecessary(t,e){if(this.autoScrollDisabled)return;let i,r=0,a=0;if(this._parentPositions.positions.forEach((u,h)=>{h===this._document||!u.clientRect||i||G1(u.clientRect,.05,t,e)&&([r,a]=function AH(n,t,e,i){const r=tF(t,i),a=nF(t,e);let u=0,h=0;if(r){const _=n.scrollTop;1===r?_>0&&(u=1):n.scrollHeight-_>n.clientHeight&&(u=2)}if(a){const _=n.scrollLeft;1===a?_>0&&(h=1):n.scrollWidth-_>n.clientWidth&&(h=2)}return[u,h]}(h,u.clientRect,t,e),(r||a)&&(i=h))}),!r&&!a){const{width:u,height:h}=this._viewportRuler.getViewportSize(),_={width:u,height:h,top:0,right:u,bottom:h,left:0};r=tF(_,e),a=nF(_,t),i=window}i&&(r!==this._verticalScrollDirection||a!==this._horizontalScrollDirection||i!==this._scrollNode)&&(this._verticalScrollDirection=r,this._horizontalScrollDirection=a,this._scrollNode=i,(r||a)&&i?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){const t=Ii(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=t.msScrollSnapType||t.scrollSnapType||"",t.scrollSnapType=t.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){const t=Ii(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(t).clientRect}_reset(){this._isDragging=!1;const t=Ii(this.element).style;t.scrollSnapType=t.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(e=>e._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(t,e){return null!=this._clientRect&&CM(this._clientRect,t,e)}_getSiblingContainerFromPosition(t,e,i){return this._siblings.find(r=>r._canReceive(t,e,i))}_canReceive(t,e,i){if(!this._clientRect||!CM(this._clientRect,e,i)||!this.enterPredicate(t,this))return!1;const r=this._getShadowRoot().elementFromPoint(e,i);if(!r)return!1;const a=Ii(this.element);return r===a||a.contains(r)}_startReceiving(t,e){const i=this._activeSiblings;!i.has(t)&&e.every(r=>this.enterPredicate(r,this)||this._draggables.indexOf(r)>-1)&&(i.add(t),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(t){this._activeSiblings.delete(t),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(t=>{if(this.isDragging()){const e=this._parentPositions.handleScroll(t);e&&this._sortStrategy.updateOnScroll(e.top,e.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const t=bm(Ii(this.element));this._cachedShadowRoot=t||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){const t=this._sortStrategy.getActiveItemsSnapshot().filter(e=>e.isDragging());this._siblings.forEach(e=>e._startReceiving(this,t))}}function tF(n,t){const{top:e,bottom:i,height:r}=n,a=.05*r;return t>=e-a&&t<=e+a?1:t>=i-a&&t<=i+a?2:0}function nF(n,t){const{left:e,right:i,width:r}=n,a=.05*r;return t>=e-a&&t<=e+a?1:t>=i-a&&t<=i+a?2:0}const zD=Go({passive:!1,capture:!0});let SH=(()=>{class n{constructor(e,i){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=[],this._globalListeners=new Map,this._draggingPredicate=r=>r.isDragging(),this.pointerMove=new _t.x,this.pointerUp=new _t.x,this.scroll=new _t.x,this._preventDefaultWhileDragging=r=>{this._activeDragInstances.length>0&&r.preventDefault()},this._persistentTouchmoveListener=r=>{this._activeDragInstances.length>0&&(this._activeDragInstances.some(this._draggingPredicate)&&r.preventDefault(),this.pointerMove.next(r))},this._document=i}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,zD)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,zD)}startDragging(e,i){if(!(this._activeDragInstances.indexOf(e)>-1)&&(this._activeDragInstances.push(e),1===this._activeDragInstances.length)){const r=i.type.startsWith("touch");this._globalListeners.set(r?"touchend":"mouseup",{handler:a=>this.pointerUp.next(a),options:!0}).set("scroll",{handler:a=>this.scroll.next(a),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:zD}),r||this._globalListeners.set("mousemove",{handler:a=>this.pointerMove.next(a),options:zD}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((a,u)=>{this._document.addEventListener(u,a.handler,a.options)})})}}stopDragging(e){const i=this._activeDragInstances.indexOf(e);i>-1&&(this._activeDragInstances.splice(i,1),0===this._activeDragInstances.length&&this._clearGlobalListeners())}isDragging(e){return this._activeDragInstances.indexOf(e)>-1}scrolled(e){const i=[this.scroll];return e&&e!==this._document&&i.push(new qn.y(r=>this._ngZone.runOutsideAngular(()=>{const u=h=>{this._activeDragInstances.length&&r.next(h)};return e.addEventListener("scroll",u,!0),()=>{e.removeEventListener("scroll",u,!0)}}))),(0,Rs.T)(...i)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,i)=>{this._document.removeEventListener(i,e.handler,e.options)}),this._globalListeners.clear()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.R0b),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const TH={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let iF=(()=>{class n{constructor(e,i,r,a){this._document=e,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=a}createDrag(e,i=TH){return new wH(e,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new EH(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(s.R0b),s.LFG(xl),s.LFG(SH))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const EM=new s.OlP("CDK_DRAG_PARENT"),xH=new s.OlP("CDK_DRAG_CONFIG"),MH=new s.OlP("CdkDropList"),AM=new s.OlP("CdkDragHandle");let IH=(()=>{class n{constructor(e,i){this.element=e,this._stateChanges=new _t.x,this._disabled=!1,this._parentDrag=i}get disabled(){return this._disabled}set disabled(e){this._disabled=ti(e),this._stateChanges.next(this)}ngOnDestroy(){this._stateChanges.complete()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(EM,12))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDragHandle",""]],hostAttrs:[1,"cdk-drag-handle"],inputs:{disabled:["cdkDragHandleDisabled","disabled"]},features:[s._Bn([{provide:AM,useExisting:n}])]}),n})();const PH=new s.OlP("CdkDragPlaceholder"),kH=new s.OlP("CdkDragPreview");let OH=(()=>{class n{constructor(e,i,r,a,u,h,_,w,M,j,Ce){this.element=e,this.dropContainer=i,this._ngZone=a,this._viewContainerRef=u,this._dir=_,this._changeDetectorRef=M,this._selfHandle=j,this._parentDrag=Ce,this._destroyed=new _t.x,this.started=new s.vpe,this.released=new s.vpe,this.ended=new s.vpe,this.entered=new s.vpe,this.exited=new s.vpe,this.dropped=new s.vpe,this.moved=new qn.y(Me=>{const Le=this._dragRef.moved.pipe((0,zt.U)($e=>({source:this,pointerPosition:$e.pointerPosition,event:$e.event,delta:$e.delta,distance:$e.distance}))).subscribe(Me);return()=>{Le.unsubscribe()}}),this._dragRef=w.createDrag(e,{dragStartThreshold:h&&null!=h.dragStartThreshold?h.dragStartThreshold:5,pointerDirectionChangeThreshold:h&&null!=h.pointerDirectionChangeThreshold?h.pointerDirectionChangeThreshold:5,zIndex:h?.zIndex}),this._dragRef.data=this,n._dragInstances.push(this),h&&this._assignDefaults(h),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(e){this._disabled=ti(e),this._dragRef.disabled=this._disabled}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(e){this._dragRef.setFreeDragPosition(e)}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(Jn(1),Zt(this._destroyed)).subscribe(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)})})}ngOnChanges(e){const i=e.rootElementSelector,r=e.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),r&&!r.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);const e=n._dragInstances.indexOf(this);e>-1&&n._dragInstances.splice(e,1),this._ngZone.runOutsideAngular(()=>{this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_updateRootElement(){const e=this.element.nativeElement;let i=e;this.rootElementSelector&&(i=void 0!==e.closest?e.closest(this.rootElementSelector):e.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||e)}_getBoundaryElement(){const e=this.boundaryElement;return e?"string"==typeof e?this.element.nativeElement.closest(e):Ii(e):null}_syncInputs(e){e.beforeStarted.subscribe(()=>{if(!e.isDragging()){const i=this._dir,r=this.dragStartDelay,a=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,u=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;e.disabled=this.disabled,e.lockAxis=this.lockAxis,e.dragStartDelay="object"==typeof r&&r?r:hs(r),e.constrainPosition=this.constrainPosition,e.previewClass=this.previewClass,e.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(a).withPreviewTemplate(u).withPreviewContainer(this.previewContainer||"global"),i&&e.withDirection(i.value)}}),e.beforeStarted.pipe(Jn(1)).subscribe(()=>{if(this._parentDrag)return void e.withParent(this._parentDrag._dragRef);let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains("cdk-drag")){e.withParent(n._dragInstances.find(r=>r.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(e){e.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),e.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),e.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),e.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),e.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),e.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(e){const{lockAxis:i,dragStartDelay:r,constrainPosition:a,previewClass:u,boundaryElement:h,draggingDisabled:_,rootElementSelector:w,previewContainer:M}=e;this.disabled=_??!1,this.dragStartDelay=r||0,i&&(this.lockAxis=i),a&&(this.constrainPosition=a),u&&(this.previewClass=u),h&&(this.boundaryElement=h),w&&(this.rootElementSelector=w),M&&(this.previewContainer=M)}_setupHandlesListener(){this._handles.changes.pipe(hi(this._handles),(0,ai.b)(e=>{const i=e.filter(r=>r._parentDrag===this).map(r=>r.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),oi(e=>(0,Rs.T)(...e.map(i=>i._stateChanges.pipe(hi(i))))),Zt(this._destroyed)).subscribe(e=>{const i=this._dragRef,r=e.element.nativeElement;e.disabled?i.disableHandle(r):i.enableHandle(r)})}}return n._dragInstances=[],n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(MH,12),s.Y36(B),s.Y36(s.R0b),s.Y36(s.s_b),s.Y36(xH,8),s.Y36(ps,8),s.Y36(iF),s.Y36(s.sBO),s.Y36(AM,10),s.Y36(EM,12))},n.\u0275dir=s.lG2({type:n,selectors:[["","cdkDrag",""]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,kH,5),s.Suo(r,PH,5),s.Suo(r,AM,5)),2&e){let a;s.iGM(a=s.CRH())&&(i._previewTemplate=a.first),s.iGM(a=s.CRH())&&(i._placeholderTemplate=a.first),s.iGM(a=s.CRH())&&(i._handles=a)}},hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("cdk-drag-disabled",i.disabled)("cdk-drag-dragging",i._dragRef.isDragging())},inputs:{data:["cdkDragData","data"],lockAxis:["cdkDragLockAxis","lockAxis"],rootElementSelector:["cdkDragRootElement","rootElementSelector"],boundaryElement:["cdkDragBoundary","boundaryElement"],dragStartDelay:["cdkDragStartDelay","dragStartDelay"],freeDragPosition:["cdkDragFreeDragPosition","freeDragPosition"],disabled:["cdkDragDisabled","disabled"],constrainPosition:["cdkDragConstrainPosition","constrainPosition"],previewClass:["cdkDragPreviewClass","previewClass"],previewContainer:["cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],features:[s._Bn([{provide:EM,useExisting:n}]),s.TTD]}),n})(),FH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[iF],imports:[Gf]}),n})();const LH=["*",[["mat-toolbar-row"]]],NH=["*","mat-toolbar-row"],VH=bf(class{constructor(n){this._elementRef=n}});let BH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=s.lG2({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),n})(),rF=(()=>{class n extends VH{constructor(e,i,r){super(e),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(xi),s.Y36(B))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-toolbar"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,BH,5),2&e){let a;s.iGM(a=s.CRH())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",0===i._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[s.qOj],ngContentSelectors:NH,decls:2,vars:0,template:function(e,i){1&e&&(s.F$t(LH),s.Hsn(0),s.Hsn(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}"],encapsulation:2,changeDetection:0}),n})(),UH=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Bn,Bn]}),n})(),jH=(()=>{class n{constructor(){}ngOnInit(){}openDocumentAttachment(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-document-dialog"]],decls:22,vars:1,consts:[["cdkDrag","","cdkDragRootElement",".cdk-overlay-pane","cdkDragBoundary",".cdk-overlay-container"],["cdkDragHandle","","color","primary"],[1,"mat-subheading-2"],[3,"singleLineAttach"],[1,"item"],["color","accent"],[1,"mat-body"],["spacer",""],["mat-stroked-button","","mat-dialog-close",""],["mat-flat-button","","color","primary"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card",0)(1,"mat-toolbar",1)(2,"span",2),s._uU(3,"Attach Documents"),s.qZA()(),s.TgZ(4,"mat-card-content"),s._UZ(5,"app-document-attachment",3),s.qZA(),s.TgZ(6,"mat-card-actions")(7,"div",4)(8,"mat-icon",5),s._uU(9,"account_circle"),s.qZA(),s.TgZ(10,"span",6),s._uU(11,"123456"),s.qZA()(),s.TgZ(12,"div",4)(13,"mat-icon",5),s._uU(14,"local_hospital"),s.qZA(),s.TgZ(15,"span",6),s._uU(16,"TN VALLEY HEALTHCARE TRANSPLANT, NASHVILLE, TN"),s.qZA()(),s._UZ(17,"span",7),s.TgZ(18,"button",8),s._uU(19,"Cancel"),s.qZA(),s.TgZ(20,"button",9),s._uU(21,"Attach All"),s.qZA()()()),2&e&&(s.xp6(5),s.Q6J("singleLineAttach",!0))},dependencies:[Dc,Ef,$m,Ny,Bv,OH,IH,Pl,rF,yM,_M],styles:["mat-card[_ngcontent-%COMP%]{padding:0 0 1.25rem}mat-card[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]{height:36px;display:flex;flex-direction:row;align-items:center}mat-card[_ngcontent-%COMP%]   mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin:0}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{margin:0;padding-top:.5rem}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;padding:.75rem 1.25rem 1.25rem}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;flex-flow:row nowrap;align-items:center}mat-card[_ngcontent-%COMP%]   mat-card-actions[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] + .item[_ngcontent-%COMP%]{margin-left:.75rem}"]}),n})(),HH=(()=>{class n{constructor(e){this.dialog=e}ngOnInit(){}openDocumentAttachment(){this.dialog.open(jH,{maxWidth:"75vw",minWidth:"55vw",panelClass:"document-dialog",autoFocus:!1,hasBackdrop:!1})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Ig))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-modal"]],decls:2,vars:0,consts:[["mat-stroked-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"button",0),s.NdJ("click",function(){return i.openDocumentAttachment()}),s._uU(1,"Attach Documents"),s.qZA())},dependencies:[Dc],styles:["[_nghost-%COMP%]{height:calc(100vh - 64px);display:flex;justify-content:center;align-items:center}"]}),n})();function GH(n,t){1&n&&s.Hsn(0)}const sF=["*"];function zH(n,t){}const $H=function(n){return{animationDuration:n}},WH=function(n,t){return{value:n,params:t}},qH=["tabListContainer"],YH=["tabList"],KH=["tabListInner"],ZH=["nextPaginator"],QH=["previousPaginator"],XH=["tabBodyWrapper"],JH=["tabHeader"];function e3(n,t){}function t3(n,t){if(1&n&&s.YNc(0,e3,0,0,"ng-template",10),2&n){const e=s.oxw().$implicit;s.Q6J("cdkPortalOutlet",e.templateLabel)}}function n3(n,t){if(1&n&&s._uU(0),2&n){const e=s.oxw().$implicit;s.Oqu(e.textLabel)}}function r3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",6),s.NdJ("click",function(){const r=s.CHM(e),a=r.$implicit,u=r.index,h=s.oxw(),_=s.MAs(1);return s.KtG(h._handleClick(a,_,u))})("cdkFocusChange",function(r){const u=s.CHM(e).index,h=s.oxw();return s.KtG(h._tabFocusChanged(r,u))}),s.TgZ(1,"div",7),s.YNc(2,t3,1,1,"ng-template",8),s.YNc(3,n3,1,1,"ng-template",null,9,s.W1O),s.qZA()()}if(2&n){const e=t.$implicit,i=t.index,r=s.MAs(4),a=s.oxw();s.ekj("mat-tab-label-active",a.selectedIndex===i),s.Q6J("id",a._getTabLabelId(i))("ngClass",e.labelClass)("disabled",e.disabled)("matRippleDisabled",e.disabled||a.disableRipple),s.uIk("tabIndex",a._getTabIndex(e,i))("aria-posinset",i+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(i))("aria-selected",a.selectedIndex===i)("aria-label",e.ariaLabel||null)("aria-labelledby",!e.ariaLabel&&e.ariaLabelledby?e.ariaLabelledby:null),s.xp6(2),s.Q6J("ngIf",e.templateLabel)("ngIfElse",r)}}function s3(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"mat-tab-body",11),s.NdJ("_onCentered",function(){s.CHM(e);const r=s.oxw();return s.KtG(r._removeTabBodyWrapperHeight())})("_onCentering",function(r){s.CHM(e);const a=s.oxw();return s.KtG(a._setTabBodyWrapperHeight(r))}),s.qZA()}if(2&n){const e=t.$implicit,i=t.index,r=s.oxw();s.ekj("mat-tab-body-active",r.selectedIndex===i),s.Q6J("id",r._getTabContentId(i))("ngClass",e.bodyClass)("content",e.content)("position",e.position)("origin",e.origin)("animationDuration",r.animationDuration)("preserveContent",r.preserveContent),s.uIk("tabindex",null!=r.contentTabIndex&&r.selectedIndex===i?r.contentTabIndex:null)("aria-labelledby",r._getTabLabelId(i))}}const o3=new s.OlP("MatInkBarPositioner",{providedIn:"root",factory:function a3(){return t=>({left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"})}});let oF=(()=>{class n{constructor(e,i,r,a){this._elementRef=e,this._ngZone=i,this._inkBarPositioner=r,this._animationMode=a}alignToElement(e){this.show(),this._ngZone.run(()=>{this._ngZone.onStable.pipe(Jn(1)).subscribe(()=>{const i=this._inkBarPositioner(e),r=this._elementRef.nativeElement;r.style.left=i.left,r.style.width=i.width})})}show(){this._elementRef.nativeElement.style.visibility="visible"}hide(){this._elementRef.nativeElement.style.visibility="hidden"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.R0b),s.Y36(o3),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(e,i){2&e&&s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode)}}),n})();const l3=new s.OlP("MatTabContent"),c3=new s.OlP("MatTabLabel"),u3=new s.OlP("MAT_TAB"),d3=vf(class{}),aF=new s.OlP("MAT_TAB_GROUP");let lF=(()=>{class n extends d3{constructor(e,i){super(),this._viewContainerRef=e,this._closestTabGroup=i,this.textLabel="",this._contentPortal=null,this._stateChanges=new _t.x,this.position=null,this.origin=null,this.isActive=!1}get templateLabel(){return this._templateLabel}set templateLabel(e){this._setTemplateLabelInput(e)}get content(){return this._contentPortal}ngOnChanges(e){(e.hasOwnProperty("textLabel")||e.hasOwnProperty("disabled"))&&this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete()}ngOnInit(){this._contentPortal=new qd(this._explicitContent||this._implicitContent,this._viewContainerRef)}_setTemplateLabelInput(e){e&&e._closestTab===this&&(this._templateLabel=e)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.s_b),s.Y36(aF,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab"]],contentQueries:function(e,i,r){if(1&e&&(s.Suo(r,c3,5),s.Suo(r,l3,7,s.Rgc)),2&e){let a;s.iGM(a=s.CRH())&&(i.templateLabel=a.first),s.iGM(a=s.CRH())&&(i._explicitContent=a.first)}},viewQuery:function(e,i){if(1&e&&s.Gf(s.Rgc,7),2&e){let r;s.iGM(r=s.CRH())&&(i._implicitContent=r.first)}},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],labelClass:"labelClass",bodyClass:"bodyClass"},exportAs:["matTab"],features:[s._Bn([{provide:u3,useExisting:n}]),s.qOj,s.TTD],ngContentSelectors:sF,decls:1,vars:0,template:function(e,i){1&e&&(s.F$t(),s.YNc(0,GH,1,0,"ng-template"))},encapsulation:2}),n})();const h3={translateTab:ka("translateTab",[ms("center, void, left-origin-center, right-origin-center",kn({transform:"none"})),ms("left",kn({transform:"translate3d(-100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),ms("right",kn({transform:"translate3d(100%, 0, 0)",minHeight:"1px",visibility:"hidden"})),xr("* => left, * => right, left => center, right => center",Pi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),xr("void => left-origin-center",[kn({transform:"translate3d(-100%, 0, 0)",visibility:"hidden"}),Pi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),xr("void => right-origin-center",[kn({transform:"translate3d(100%, 0, 0)",visibility:"hidden"}),Pi("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])};let f3=(()=>{class n extends Ml{constructor(e,i,r,a){super(e,i,a),this._host=r,this._centeringSub=Zn.w0.EMPTY,this._leavingSub=Zn.w0.EMPTY}ngOnInit(){super.ngOnInit(),this._centeringSub=this._host._beforeCentering.pipe(hi(this._host._isCenterPosition(this._host._position))).subscribe(e=>{e&&!this.hasAttached()&&this.attach(this._host._content)}),this._leavingSub=this._host._afterLeavingCenter.subscribe(()=>{this._host.preserveContent||this.detach()})}ngOnDestroy(){super.ngOnDestroy(),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s._Vd),s.Y36(s.s_b),s.Y36((0,s.Gpc)(()=>cF)),s.Y36(B))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTabBodyHost",""]],features:[s.qOj]}),n})(),p3=(()=>{class n{constructor(e,i,r){this._elementRef=e,this._dir=i,this._dirChangeSubscription=Zn.w0.EMPTY,this._translateTabComplete=new _t.x,this._onCentering=new s.vpe,this._beforeCentering=new s.vpe,this._afterLeavingCenter=new s.vpe,this._onCentered=new s.vpe(!0),this.animationDuration="500ms",this.preserveContent=!1,i&&(this._dirChangeSubscription=i.change.subscribe(a=>{this._computePositionAnimationState(a),r.markForCheck()})),this._translateTabComplete.pipe(xm((a,u)=>a.fromState===u.fromState&&a.toState===u.toState)).subscribe(a=>{this._isCenterPosition(a.toState)&&this._isCenterPosition(this._position)&&this._onCentered.emit(),this._isCenterPosition(a.fromState)&&!this._isCenterPosition(this._position)&&this._afterLeavingCenter.emit()})}set position(e){this._positionIndex=e,this._computePositionAnimationState()}ngOnInit(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}ngOnDestroy(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}_onTranslateTabStarted(e){const i=this._isCenterPosition(e.toState);this._beforeCentering.emit(i),i&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_isCenterPosition(e){return"center"==e||"left-origin-center"==e||"right-origin-center"==e}_computePositionAnimationState(e=this._getLayoutDirection()){this._position=this._positionIndex<0?"ltr"==e?"left":"right":this._positionIndex>0?"ltr"==e?"right":"left":"center"}_computePositionFromOrigin(e){const i=this._getLayoutDirection();return"ltr"==i&&e<=0||"rtl"==i&&e>0?"left-origin-center":"right-origin-center"}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ps,8),s.Y36(s.sBO))},n.\u0275dir=s.lG2({type:n,inputs:{_content:["content","_content"],origin:"origin",animationDuration:"animationDuration",preserveContent:"preserveContent",position:"position"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),n})(),cF=(()=>{class n extends p3{constructor(e,i,r){super(e,i,r)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(ps,8),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab-body"]],viewQuery:function(e,i){if(1&e&&s.Gf(Ml,5),2&e){let r;s.iGM(r=s.CRH())&&(i._portalHost=r.first)}},hostAttrs:[1,"mat-tab-body"],features:[s.qOj],decls:3,vars:6,consts:[["cdkScrollable","",1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0,1),s.NdJ("@translateTab.start",function(a){return i._onTranslateTabStarted(a)})("@translateTab.done",function(a){return i._translateTabComplete.next(a)}),s.YNc(2,zH,0,0,"ng-template",2),s.qZA()),2&e&&s.Q6J("@translateTab",s.WLB(3,WH,i._position,s.VKq(1,$H,i.animationDuration)))},dependencies:[f3],styles:['.mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}.mat-tab-body-content[style*="visibility: hidden"]{display:none}'],encapsulation:2,data:{animation:[h3.translateTab]}}),n})();const uF=new s.OlP("MAT_TABS_CONFIG"),m3=vf(class{});let dF=(()=>{class n extends m3{constructor(e){super(),this.elementRef=e}focus(){this.elementRef.nativeElement.focus()}getOffsetLeft(){return this.elementRef.nativeElement.offsetLeft}getOffsetWidth(){return this.elementRef.nativeElement.offsetWidth}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq))},n.\u0275dir=s.lG2({type:n,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(e,i){2&e&&(s.uIk("aria-disabled",!!i.disabled),s.ekj("mat-tab-disabled",i.disabled))},inputs:{disabled:"disabled"},features:[s.qOj]}),n})();const hF=Go({passive:!0});let y3=(()=>{class n{constructor(e,i,r,a,u,h,_){this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=r,this._dir=a,this._ngZone=u,this._platform=h,this._animationMode=_,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new _t.x,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new _t.x,this._disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new s.vpe,this.indexFocused=new s.vpe,u.runOutsideAngular(()=>{Gn(e.nativeElement,"mouseleave").pipe(Zt(this._destroyed)).subscribe(()=>{this._stopInterval()})})}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=ti(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){e=hs(e),this._selectedIndex!=e&&(this._selectedIndexChanged=!0,this._selectedIndex=e,this._keyManager&&this._keyManager.updateActiveItem(e))}ngAfterViewInit(){Gn(this._previousPaginator.nativeElement,"touchstart",hF).pipe(Zt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("before")}),Gn(this._nextPaginator.nativeElement,"touchstart",hF).pipe(Zt(this._destroyed)).subscribe(()=>{this._handlePaginatorPress("after")})}ngAfterContentInit(){const e=this._dir?this._dir.change:Nt("ltr"),i=this._viewportRuler.change(150),r=()=>{this.updatePagination(),this._alignInkBarToSelectedTab()};this._keyManager=new sw(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),this._ngZone.onStable.pipe(Jn(1)).subscribe(r),(0,Rs.T)(e,i,this._items.changes,this._itemsResized()).pipe(Zt(this._destroyed)).subscribe(()=>{this._ngZone.run(()=>{Promise.resolve().then(()=>{this._scrollDistance=Math.max(0,Math.min(this._getMaxScrollDistance(),this._scrollDistance)),r()})}),this._keyManager.withHorizontalOrientation(this._getLayoutDirection())}),this._keyManager.change.pipe(Zt(this._destroyed)).subscribe(a=>{this.indexFocused.emit(a),this._setTabFocus(a)})}_itemsResized(){return"function"!=typeof ResizeObserver?ji.E:this._items.changes.pipe(hi(this._items),oi(e=>new qn.y(i=>this._ngZone.runOutsideAngular(()=>{const r=new ResizeObserver(()=>{i.next()});return e.forEach(a=>{r.observe(a.elementRef.nativeElement)}),()=>{r.disconnect()}}))),by(1))}ngAfterContentChecked(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}_handleKeydown(e){if(!Cu(e))switch(e.keyCode){case 13:case 32:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(e));break;default:this._keyManager.onKeydown(e)}}_onContentChanges(){const e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run(()=>{this.updatePagination(),this._alignInkBarToSelectedTab(),this._changeDetectorRef.markForCheck()}))}updatePagination(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}get focusIndex(){return this._keyManager?this._keyManager.activeItemIndex:0}set focusIndex(e){!this._isValidIndex(e)||this.focusIndex===e||!this._keyManager||this._keyManager.setActiveItem(e)}_isValidIndex(e){if(!this._items)return!0;const i=this._items?this._items.toArray()[e]:null;return!!i&&!i.disabled}_setTabFocus(e){if(this._showPaginationControls&&this._scrollToLabel(e),this._items&&this._items.length){this._items.toArray()[e].focus();const i=this._tabListContainer.nativeElement;i.scrollLeft="ltr"==this._getLayoutDirection()?0:i.scrollWidth-i.offsetWidth}}_getLayoutDirection(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}_updateTabScrollPosition(){if(this.disablePagination)return;const e=this.scrollDistance,i="ltr"===this._getLayoutDirection()?-e:e;this._tabList.nativeElement.style.transform=`translateX(${Math.round(i)}px)`,(this._platform.TRIDENT||this._platform.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}get scrollDistance(){return this._scrollDistance}set scrollDistance(e){this._scrollTo(e)}_scrollHeader(e){return this._scrollTo(this._scrollDistance+("before"==e?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}_handlePaginatorClick(e){this._stopInterval(),this._scrollHeader(e)}_scrollToLabel(e){if(this.disablePagination)return;const i=this._items?this._items.toArray()[e]:null;if(!i)return;const r=this._tabListContainer.nativeElement.offsetWidth,{offsetLeft:a,offsetWidth:u}=i.elementRef.nativeElement;let h,_;"ltr"==this._getLayoutDirection()?(h=a,_=h+u):(_=this._tabListInner.nativeElement.offsetWidth-a,h=_-u);const w=this.scrollDistance,M=this.scrollDistance+r;h<w?this.scrollDistance-=w-h+60:_>M&&(this.scrollDistance+=_-M+60)}_checkPaginationEnabled(){if(this.disablePagination)this._showPaginationControls=!1;else{const e=this._tabListInner.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;e||(this.scrollDistance=0),e!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=e}}_checkScrollingControls(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}_getMaxScrollDistance(){return this._tabListInner.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}_alignInkBarToSelectedTab(){const e=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,i=e?e.elementRef.nativeElement:null;i?this._inkBar.alignToElement(i):this._inkBar.hide()}_stopInterval(){this._stopScrolling.next()}_handlePaginatorPress(e,i){i&&null!=i.button&&0!==i.button||(this._stopInterval(),Tc(650,100).pipe(Zt((0,Rs.T)(this._stopScrolling,this._destroyed))).subscribe(()=>{const{maxScrollDistance:r,distance:a}=this._scrollHeader(e);(0===a||a>=r)&&this._stopInterval()}))}_scrollTo(e){if(this.disablePagination)return{maxScrollDistance:0,distance:0};const i=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(i,e)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:i,distance:this._scrollDistance}}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(xl),s.Y36(ps,8),s.Y36(s.R0b),s.Y36(xi),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,inputs:{disablePagination:"disablePagination"}}),n})(),v3=(()=>{class n extends y3{constructor(e,i,r,a,u,h,_){super(e,i,r,a,u,h,_),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ti(e)}_itemSelected(e){e.preventDefault()}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(xl),s.Y36(ps,8),s.Y36(s.R0b),s.Y36(xi),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,inputs:{disableRipple:"disableRipple"},features:[s.qOj]}),n})(),b3=(()=>{class n extends v3{constructor(e,i,r,a,u,h,_){super(e,i,r,a,u,h,_)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(xl),s.Y36(ps,8),s.Y36(s.R0b),s.Y36(xi),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab-header"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,dF,4),2&e){let a;s.iGM(a=s.CRH())&&(i._items=a)}},viewQuery:function(e,i){if(1&e&&(s.Gf(oF,7),s.Gf(qH,7),s.Gf(YH,7),s.Gf(KH,7),s.Gf(ZH,5),s.Gf(QH,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._inkBar=r.first),s.iGM(r=s.CRH())&&(i._tabListContainer=r.first),s.iGM(r=s.CRH())&&(i._tabList=r.first),s.iGM(r=s.CRH())&&(i._tabListInner=r.first),s.iGM(r=s.CRH())&&(i._nextPaginator=r.first),s.iGM(r=s.CRH())&&(i._previousPaginator=r.first)}},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-tab-header-pagination-controls-enabled",i._showPaginationControls)("mat-tab-header-rtl","rtl"==i._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[s.qOj],ngContentSelectors:sF,decls:14,vars:10,consts:[["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","disabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["tabListInner",""],["aria-hidden","true","type","button","mat-ripple","","tabindex","-1",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","disabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(e,i){1&e&&(s.F$t(),s.TgZ(0,"button",0,1),s.NdJ("click",function(){return i._handlePaginatorClick("before")})("mousedown",function(a){return i._handlePaginatorPress("before",a)})("touchend",function(){return i._stopInterval()}),s._UZ(2,"div",2),s.qZA(),s.TgZ(3,"div",3,4),s.NdJ("keydown",function(a){return i._handleKeydown(a)}),s.TgZ(5,"div",5,6),s.NdJ("cdkObserveContent",function(){return i._onContentChanges()}),s.TgZ(7,"div",7,8),s.Hsn(9),s.qZA(),s._UZ(10,"mat-ink-bar"),s.qZA()(),s.TgZ(11,"button",9,10),s.NdJ("mousedown",function(a){return i._handlePaginatorPress("after",a)})("click",function(){return i._handlePaginatorClick("after")})("touchend",function(){return i._stopInterval()}),s._UZ(13,"div",2),s.qZA()),2&e&&(s.ekj("mat-tab-header-pagination-disabled",i._disableScrollBefore),s.Q6J("matRippleDisabled",i._disableScrollBefore||i.disableRipple)("disabled",i._disableScrollBefore||null),s.xp6(5),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),s.xp6(6),s.ekj("mat-tab-header-pagination-disabled",i._disableScrollAfter),s.Q6J("matRippleDisabled",i._disableScrollAfter||i.disableRipple)("disabled",i._disableScrollAfter||null))},dependencies:[Cc,hf,oF],styles:[".mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0);touch-action:none;box-sizing:content-box;background:none;border:none;outline:0;padding:0}.mat-tab-header-pagination::-moz-focus-inner{border:0}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}.mat-tab-list._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}.mat-tab-label::before{margin:5px}@media(max-width: 599px){.mat-tab-label{min-width:72px}}"],encapsulation:2}),n})(),w3=0;class C3{}const D3=bf(Eu(class{constructor(n){this._elementRef=n}}),"primary");let E3=(()=>{class n extends D3{constructor(e,i,r,a){super(e),this._changeDetectorRef=i,this._animationMode=a,this._tabs=new s.n_E,this._indexToSelect=0,this._lastFocusedTabIndex=null,this._tabBodyWrapperHeight=0,this._tabsSubscription=Zn.w0.EMPTY,this._tabLabelSubscription=Zn.w0.EMPTY,this._dynamicHeight=!1,this._selectedIndex=null,this.headerPosition="above",this._disablePagination=!1,this._preserveContent=!1,this.selectedIndexChange=new s.vpe,this.focusChange=new s.vpe,this.animationDone=new s.vpe,this.selectedTabChange=new s.vpe(!0),this._groupId=w3++,this.animationDuration=r&&r.animationDuration?r.animationDuration:"500ms",this.disablePagination=!(!r||null==r.disablePagination)&&r.disablePagination,this.dynamicHeight=!(!r||null==r.dynamicHeight)&&r.dynamicHeight,this.contentTabIndex=r?.contentTabIndex??null,this.preserveContent=!!r?.preserveContent}get dynamicHeight(){return this._dynamicHeight}set dynamicHeight(e){this._dynamicHeight=ti(e)}get selectedIndex(){return this._selectedIndex}set selectedIndex(e){this._indexToSelect=hs(e,null)}get animationDuration(){return this._animationDuration}set animationDuration(e){this._animationDuration=/^\d+$/.test(e+"")?e+"ms":e}get contentTabIndex(){return this._contentTabIndex}set contentTabIndex(e){this._contentTabIndex=hs(e,null)}get disablePagination(){return this._disablePagination}set disablePagination(e){this._disablePagination=ti(e)}get preserveContent(){return this._preserveContent}set preserveContent(e){this._preserveContent=ti(e)}get backgroundColor(){return this._backgroundColor}set backgroundColor(e){const i=this._elementRef.nativeElement;i.classList.remove(`mat-background-${this.backgroundColor}`),e&&i.classList.add(`mat-background-${e}`),this._backgroundColor=e}ngAfterContentChecked(){const e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){const i=null==this._selectedIndex;if(!i){this.selectedTabChange.emit(this._createChangeEvent(e));const r=this._tabBodyWrapper.nativeElement;r.style.minHeight=r.clientHeight+"px"}Promise.resolve().then(()=>{this._tabs.forEach((r,a)=>r.isActive=a===e),i||(this.selectedIndexChange.emit(e),this._tabBodyWrapper.nativeElement.style.minHeight="")})}this._tabs.forEach((i,r)=>{i.position=r-e,null!=this._selectedIndex&&0==i.position&&!i.origin&&(i.origin=e-this._selectedIndex)}),this._selectedIndex!==e&&(this._selectedIndex=e,this._lastFocusedTabIndex=null,this._changeDetectorRef.markForCheck())}ngAfterContentInit(){this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe(()=>{const e=this._clampTabIndex(this._indexToSelect);if(e===this._selectedIndex){const i=this._tabs.toArray();let r;for(let a=0;a<i.length;a++)if(i[a].isActive){this._indexToSelect=this._selectedIndex=a,this._lastFocusedTabIndex=null,r=i[a];break}!r&&i[e]&&Promise.resolve().then(()=>{i[e].isActive=!0,this.selectedTabChange.emit(this._createChangeEvent(e))})}this._changeDetectorRef.markForCheck()})}_subscribeToAllTabChanges(){this._allTabs.changes.pipe(hi(this._allTabs)).subscribe(e=>{this._tabs.reset(e.filter(i=>i._closestTabGroup===this||!i._closestTabGroup)),this._tabs.notifyOnChanges()})}ngOnDestroy(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}realignInkBar(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}updatePagination(){this._tabHeader&&this._tabHeader.updatePagination()}focusTab(e){const i=this._tabHeader;i&&(i.focusIndex=e)}_focusChanged(e){this._lastFocusedTabIndex=e,this.focusChange.emit(this._createChangeEvent(e))}_createChangeEvent(e){const i=new C3;return i.index=e,this._tabs&&this._tabs.length&&(i.tab=this._tabs.toArray()[e]),i}_subscribeToTabLabels(){this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=(0,Rs.T)(...this._tabs.map(e=>e._stateChanges)).subscribe(()=>this._changeDetectorRef.markForCheck())}_clampTabIndex(e){return Math.min(this._tabs.length-1,Math.max(e||0,0))}_getTabLabelId(e){return`mat-tab-label-${this._groupId}-${e}`}_getTabContentId(e){return`mat-tab-content-${this._groupId}-${e}`}_setTabBodyWrapperHeight(e){if(!this._dynamicHeight||!this._tabBodyWrapperHeight)return;const i=this._tabBodyWrapper.nativeElement;i.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(i.style.height=e+"px")}_removeTabBodyWrapperHeight(){const e=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=e.clientHeight,e.style.height="",this.animationDone.emit()}_handleClick(e,i,r){e.disabled||(this.selectedIndex=i.focusIndex=r)}_getTabIndex(e,i){return e.disabled?null:i===(this._lastFocusedTabIndex??this.selectedIndex)?0:-1}_tabFocusChanged(e,i){e&&"mouse"!==e&&"touch"!==e&&(this._tabHeader.focusIndex=i)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(uF,8),s.Y36(s.QbO,8))},n.\u0275dir=s.lG2({type:n,inputs:{dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",headerPosition:"headerPosition",animationDuration:"animationDuration",contentTabIndex:"contentTabIndex",disablePagination:"disablePagination",preserveContent:"preserveContent",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[s.qOj]}),n})(),A3=(()=>{class n extends E3{constructor(e,i,r,a){super(e,i,r,a)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(uF,8),s.Y36(s.QbO,8))},n.\u0275cmp=s.Xpm({type:n,selectors:[["mat-tab-group"]],contentQueries:function(e,i,r){if(1&e&&s.Suo(r,lF,5),2&e){let a;s.iGM(a=s.CRH())&&(i._allTabs=a)}},viewQuery:function(e,i){if(1&e&&(s.Gf(XH,5),s.Gf(JH,5)),2&e){let r;s.iGM(r=s.CRH())&&(i._tabBodyWrapper=r.first),s.iGM(r=s.CRH())&&(i._tabHeader=r.first)}},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(e,i){2&e&&s.ekj("mat-tab-group-dynamic-height",i.dynamicHeight)("mat-tab-group-inverted-header","below"===i.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[s._Bn([{provide:aF,useExisting:n}]),s.qOj],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","ngClass","disabled","matRippleDisabled","click","cdkFocusChange",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","ngClass","disabled","matRippleDisabled","click","cdkFocusChange"],[1,"mat-tab-label-content"],[3,"ngIf","ngIfElse"],["tabTextLabel",""],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","ngClass","content","position","origin","animationDuration","preserveContent","_onCentered","_onCentering"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-tab-header",0,1),s.NdJ("indexFocused",function(a){return i._focusChanged(a)})("selectFocusedIndex",function(a){return i.selectedIndex=a}),s.YNc(2,r3,5,15,"div",2),s.qZA(),s.TgZ(3,"div",3,4),s.YNc(5,s3,1,11,"mat-tab-body",5),s.qZA()),2&e&&(s.Q6J("selectedIndex",i.selectedIndex||0)("disableRipple",i.disableRipple)("disablePagination",i.disablePagination),s.xp6(2),s.Q6J("ngForOf",i._tabs),s.xp6(1),s.ekj("_mat-animation-noopable","NoopAnimations"===i._animationMode),s.xp6(2),s.Q6J("ngForOf",i._tabs))},dependencies:[Ha,vo,bo,Ml,Cc,mw,dF,cF,b3],styles:[".mat-tab-group{display:flex;flex-direction:column;max-width:100%}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-tab-body-wrapper._mat-animation-noopable{transition:none !important;animation:none !important}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;outline:0;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}"],encapsulation:2}),n})(),S3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Xi,Bn,Vu,Cf,yc,oo,Bn]}),n})();const T3=[{path:"",redirectTo:"/modal",pathMatch:"full"},{path:"form",component:gH},{path:"modal",component:HH},{path:"tabs",component:(()=>{class n{constructor(){this.documents=[{url:"https://github.com/Matthew-The-Developer/file-attachment/blob/master/src/assets/pdf-test.pdf",name:"pdf-test.pdf",size:2534446,extension:".pdf",type:"application/pdf",lastModified:new Date(1659762822100),medicalType:Ta.activation},{url:"https://www.thecoderpedia.com/wp-content/uploads/2020/06/Programming-Memes-Programmer-while-sleeping.jpg?x34900",name:"Programming-Memes-Programmer-while-sleeping.jpg",size:59868,extension:".jpg",type:"image/jpeg",lastModified:new Date(1661779977375),medicalType:Ta.declination},{url:"./assets/example03.docx",name:"example03.docx",size:108816,extension:".docx",type:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",lastModified:new Date(1659672717869),medicalType:Ta.deactivation}]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-tabs"]],decls:6,vars:2,consts:[["selectedIndex","2"],["label","Details","disabled",""],["label","History","disabled",""],["label","Douments"],[3,"readonly","virtualDocuments"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card")(1,"mat-tab-group",0),s._UZ(2,"mat-tab",1)(3,"mat-tab",2),s.TgZ(4,"mat-tab",3),s._UZ(5,"app-document-attachment",4),s.qZA()()()),2&e&&(s.xp6(5),s.Q6J("readonly",!0)("virtualDocuments",i.documents))},dependencies:[Ef,A3,lF,yM],styles:["[_nghost-%COMP%]{height:calc(100vh - 64px);display:flex;justify-content:center;align-items:center}mat-card[_ngcontent-%COMP%]{width:55%;padding:0}mat-card[_ngcontent-%COMP%]   .mat-tab-body[_ngcontent-%COMP%]{padding:1rem}"]}),n})()}];let x3=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[ny.forRoot(T3),ny]}),n})();var ut=R(5861),$D=R(5363),M3=R(6063);class I3 extends _t.x{constructor(t=1/0,e=1/0,i=M3.l){super(),this._bufferSize=t,this._windowTime=e,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,e)}next(t){const{isStopped:e,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:a,_windowTime:u}=this;e||(i.push(t),!r&&i.push(a.now()+u)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(t),{_infiniteTimeWindow:i,_buffer:r}=this,a=r.slice();for(let u=0;u<a.length&&!t.closed;u+=i?1:2)t.next(a[u]);return this._checkFinalizedStatuses(t),e}_trimBuffer(){const{_bufferSize:t,_timestampProvider:e,_buffer:i,_infiniteTimeWindow:r}=this,a=(r?1:2)*t;if(t<1/0&&a<i.length&&i.splice(0,i.length-a),!r){const u=e.now();let h=0;for(let _=1;_<i.length&&i[_]<=u;_+=2)h=_;h&&i.splice(0,h+1)}}}function pF(n,t,e){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:t=1/0,refCount:r=!1,scheduler:e}=n):i=n??1/0,(0,o.B)({connector:()=>new I3(i,t,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function mF(n,t){return(0,Xn.m)(t)?oi(()=>n,t):oi(()=>n)}var SM=R(9468),Xr=R(5813),kl=R(2011);R(5867);var Zf=R(9681),qD=R(4859),In=R(2090),Xd=R(1877);const _F=new Map,F3={activated:!1,tokenObservers:[]},L3={initialized:!1,enabled:!1};function Pr(n){return _F.get(n)||F3}function Rl(n,t){_F.set(n,t)}function YD(){return L3}class j3{constructor(t,e,i,r,a){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=i,this.lowerBound=r,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=r,r>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,ut.Z)(function*(){e.stop();try{e.pending=new In.BH,yield function H3(n){return new Promise(t=>{setTimeout(t,n)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new In.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(i){e.retryPolicy(i)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Ns=new In.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function vF(n){if(!Pr(n).activated)throw Ns.create("use-before-activation",{appName:n.name})}function IM(n,t){return PM.apply(this,arguments)}function PM(){return(PM=(0,ut.Z)(function*({url:n,body:t},e){var i,r;const a={"Content-Type":"application/json"},u=e.getImmediate({optional:!0});if(u){const Me=yield u.getHeartbeatsHeader();Me&&(a["X-Firebase-Client"]=Me)}const h={method:"POST",body:JSON.stringify(t),headers:a};let _,w;try{_=yield fetch(n,h)}catch(Me){throw Ns.create("fetch-network-error",{originalErrorMessage:null===(i=Me)||void 0===i?void 0:i.message})}if(200!==_.status)throw Ns.create("fetch-status-error",{httpStatus:_.status});try{w=yield _.json()}catch(Me){throw Ns.create("fetch-parse-error",{originalErrorMessage:null===(r=Me)||void 0===r?void 0:r.message})}const M=w.ttl.match(/^([\d.]+)(s)$/);if(!M||!M[2]||isNaN(Number(M[1])))throw Ns.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${w.ttl}`});const j=1e3*Number(M[1]),Ce=Date.now();return{token:w.token,expireTimeMillis:Ce+j,issuedAtTimeMillis:Ce}})).apply(this,arguments)}function W3(n,t){const{projectId:e,appId:i,apiKey:r}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${e}/apps/${i}:exchangeDebugToken?key=${r}`,body:{debug_token:t}}}const eb="firebase-app-check-store";let QD=null;function wF(){return QD||(QD=new Promise((n,t)=>{var e;try{const i=indexedDB.open("firebase-app-check-database",1);i.onsuccess=r=>{n(r.target.result)},i.onerror=r=>{var a;t(Ns.create("storage-open",{originalErrorMessage:null===(a=r.target.error)||void 0===a?void 0:a.message}))},i.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(eb,{keyPath:"compositeKey"})}}catch(i){t(Ns.create("storage-open",{originalErrorMessage:null===(e=i)||void 0===e?void 0:e.message}))}}),QD)}function kM(){return(kM=(0,ut.Z)(function*(n,t){const i=(yield wF()).transaction(eb,"readwrite"),a=i.objectStore(eb).put({compositeKey:n,value:t});return new Promise((u,h)=>{a.onsuccess=_=>{u()},i.onerror=_=>{var w;h(Ns.create("storage-set",{originalErrorMessage:null===(w=_.target.error)||void 0===w?void 0:w.message}))}})})).apply(this,arguments)}const tb=new Xd.Yd("@firebase/app-check");function AF(n,t){return(0,In.hl)()?function Z3(n,t){return function CF(n,t){return kM.apply(this,arguments)}(function EF(n){return`${n.options.appId}-${n.name}`}(n),t)}(n,t).catch(e=>{tb.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function SF(){return YD().enabled}function TF(){return LM.apply(this,arguments)}function LM(){return(LM=(0,ut.Z)(function*(){const n=YD();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const nG={error:"UNKNOWN_ERROR"};function iG(n){return In.US.encodeString(JSON.stringify(n),!1)}function XD(n){return NM.apply(this,arguments)}function NM(){return(NM=(0,ut.Z)(function*(n,t=!1){const e=n.app;vF(e);const i=Pr(e);let a,r=i.token;if(!r){const _=yield i.cachedTokenPromise;_&&JD(_)&&(r=_)}if(!t&&r&&JD(r))return{token:r.token};let h,u=!1;if(SF()){i.exchangeTokenPromise||(i.exchangeTokenPromise=IM(W3(e,yield TF()),n.heartbeatServiceProvider).then(w=>(i.exchangeTokenPromise=void 0,w)),u=!0);const _=yield i.exchangeTokenPromise;return yield AF(e,_),Rl(e,Object.assign(Object.assign({},i),{token:_})),{token:_.token}}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().then(_=>(i.exchangeTokenPromise=void 0,_)),u=!0),r=yield i.exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?tb.warn(_.message):tb.error(_),a=_}return r?(h={token:r.token},Rl(e,Object.assign(Object.assign({},i),{token:r})),yield AF(e,r)):h=sG(a),u&&MF(e,h),h})).apply(this,arguments)}function BM(n,t){const e=Pr(n),i=e.tokenObservers.filter(r=>r.next!==t);0===i.length&&e.tokenRefresher&&e.tokenRefresher.isRunning()&&e.tokenRefresher.stop(),Rl(n,Object.assign(Object.assign({},e),{tokenObservers:i}))}function xF(n){const{app:t}=n,e=Pr(t);let i=e.tokenRefresher;i||(i=function rG(n){const{app:t}=n;return new j3((0,ut.Z)(function*(){let i;if(i=Pr(t).token?yield XD(n,!0):yield XD(n),i.error)throw i.error}),()=>!0,()=>{const e=Pr(t);if(e.token){let i=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return i=Math.min(i,e.token.expireTimeMillis-3e5),Math.max(0,i-Date.now())}return 0},3e4,96e4)}(n),Rl(t,Object.assign(Object.assign({},e),{tokenRefresher:i}))),!i.isRunning()&&e.isTokenAutoRefreshEnabled&&i.start()}function MF(n,t){const e=Pr(n).tokenObservers;for(const i of e)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch{}}function JD(n){return n.expireTimeMillis-Date.now()>0}function sG(n){return{token:iG(nG),error:n}}class oG{constructor(t,e){this.app=t,this.heartbeatServiceProvider=e}_delete(){const{tokenObservers:t}=Pr(this.app);for(const e of t)BM(this.app,e.next);return Promise.resolve()}}const NF="app-check-internal";!function bG(){(0,Zf._registerComponent)(new qD.wA("app-check",n=>function aG(n,t){return new oG(n,t)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,t,e)=>{n.getProvider(NF).initialize()})),(0,Zf._registerComponent)(new qD.wA(NF,n=>function lG(n){return{getToken:t=>XD(n,t),addTokenListener:t=>function VM(n,t,e,i){const{app:r}=n,a=Pr(r),u={next:e,error:i,type:t};if(Rl(r,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&JD(a.token)){const h=a.token;Promise.resolve().then(()=>{e({token:h.token}),xF(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>xF(n))}(n,"INTERNAL",t),removeTokenListener:t=>BM(n.app,t)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Zf.registerVersion)("@firebase/app-check","0.5.12")}();class GM{constructor(){return(0,Xr.vb)("app-check")}}typeof window<"u"&&window;var AG=R(127);const BF=new s.OlP("angularfire2.auth.use-emulator"),UF=new s.OlP("angularfire2.auth.settings"),jF=new s.OlP("angularfire2.auth.tenant-id"),HF=new s.OlP("angularfire2.auth.langugage-code"),GF=new s.OlP("angularfire2.auth.use-device-language"),zF=new s.OlP("angularfire.auth.persistence"),$F=(n,t,e,i,r,a,u,h)=>(0,kl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=t.runOutsideAngular(()=>n.auth());if(e&&_.useEmulator(...e),i&&(_.tenantId=i),_.languageCode=r,a&&_.useDeviceLanguage(),u)for(const[w,M]of Object.entries(u))_.settings[w]=M;return h&&_.setPersistence(h),_},[e,i,r,a,u,h]);let $M=(()=>{class n{constructor(e,i,r,a,u,h,_,w,M,j,Ce,Me){const Le=new _t.x,$e=Nt(void 0).pipe((0,$D.Q)(u.outsideAngular),oi(()=>a.runOutsideAngular(()=>Promise.resolve().then(R.bind(R,1451)))),(0,zt.U)(()=>(0,kl.on)(e,a,i)),(0,zt.U)(st=>$F(st,a,h,w,M,j,_,Ce)),pF({bufferSize:1,refCount:!1}));if(rr(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Nt(null);else{$e.pipe(to()).subscribe();const It=$e.pipe(oi(Gt=>Gt.getRedirectResult().then(hn=>hn,()=>null)),Xr.iC,pF({bufferSize:1,refCount:!1})),Bt=$e.pipe(oi(Gt=>new qn.y(hn=>({unsubscribe:a.runOutsideAngular(()=>Gt.onAuthStateChanged(gn=>hn.next(gn),gn=>hn.error(gn),()=>hn.complete()))})))),Qt=$e.pipe(oi(Gt=>new qn.y(hn=>({unsubscribe:a.runOutsideAngular(()=>Gt.onIdTokenChanged(gn=>hn.next(gn),gn=>hn.error(gn),()=>hn.complete()))}))));this.authState=It.pipe(mF(Bt),(0,SM.R)(u.outsideAngular),(0,$D.Q)(u.insideAngular)),this.user=It.pipe(mF(Qt),(0,SM.R)(u.outsideAngular),(0,$D.Q)(u.insideAngular)),this.idToken=this.user.pipe(oi(Gt=>Gt?(0,Vn.D)(Gt.getIdToken()):Nt(null))),this.idTokenResult=this.user.pipe(oi(Gt=>Gt?(0,Vn.D)(Gt.getIdTokenResult()):Nt(null))),this.credential=(0,Rs.T)(It,Le,this.authState.pipe(ei(Gt=>!Gt))).pipe((0,zt.U)(Gt=>Gt?.user?Gt:null),(0,SM.R)(u.outsideAngular),(0,$D.Q)(u.insideAngular))}return(0,kl.pX)(this,$e,a,{spy:{apply:(st,It,Bt)=>{(st.startsWith("signIn")||st.startsWith("createUser"))&&Bt.then(Qt=>Le.next(Qt))}}})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kl.Dh),s.LFG(kl.xv,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Xr.HU),s.LFG(BF,8),s.LFG(UF,8),s.LFG(jF,8),s.LFG(HF,8),s.LFG(GF,8),s.LFG(zF,8),s.LFG(GM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function WM(){return(0,Hn.e)((n,t)=>{let e,i=!1;n.subscribe((0,Kn.x)(t,r=>{const a=e;e=r,i&&t.next([a,r]),i=!0}))})}R(1451);var $t,TG=R(3942),xG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Hu={},qM=qM||{},En=xG||self;function tE(){}function YM(n){var t=typeof n;return"array"==(t="object"!=t?t:n?Array.isArray(n)?"array":t:"null")||"object"==t&&"number"==typeof n.length}function nb(n){var t=typeof n;return"object"==t&&null!=n||"function"==t}var KM="closure_uid_"+(1e9*Math.random()>>>0),IG=0;function PG(n,t,e){return n.call.apply(n.bind,arguments)}function kG(n,t,e){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(t,r)}}return function(){return n.apply(t,arguments)}}function Jr(n,t,e){return(Jr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?PG:kG).apply(null,arguments)}function nE(n,t){var e=Array.prototype.slice.call(arguments,1);return function(){var i=e.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function es(n,t){function e(){}e.prototype=t.prototype,n.Z=t.prototype,n.prototype=new e,n.prototype.constructor=n,n.Vb=function(i,r,a){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return t.prototype[r].apply(i,u)}}function Jd(){this.s=this.s,this.o=this.o}var OG={};Jd.prototype.s=!1,Jd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function MG(n){return Object.prototype.hasOwnProperty.call(n,KM)&&n[KM]||(n[KM]=++IG)}(this);delete OG[n]}},Jd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const WF=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if("string"==typeof n)return"string"!=typeof t||1!=t.length?-1:n.indexOf(t,0);for(let e=0;e<n.length;e++)if(e in n&&n[e]===t)return e;return-1},qF=Array.prototype.forEach?function(n,t,e){Array.prototype.forEach.call(n,t,e)}:function(n,t,e){const i=n.length,r="string"==typeof n?n.split(""):n;for(let a=0;a<i;a++)a in r&&t.call(e,r[a],a,n)};function YF(n){return Array.prototype.concat.apply([],arguments)}function ZM(n){const t=n.length;if(0<t){const e=Array(t);for(let i=0;i<t;i++)e[i]=n[i];return e}return[]}function iE(n){return/^[\s\xa0]*$/.test(n)}var Bs,KF=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function Vs(n,t){return-1!=n.indexOf(t)}function QM(n,t){return n<t?-1:n>t?1:0}e:{var ZF=En.navigator;if(ZF){var QF=ZF.userAgent;if(QF){Bs=QF;break e}}Bs=""}function XM(n,t,e){for(const i in n)t.call(e,n[i],i,n)}function XF(n){const t={};for(const e in n)t[e]=n[e];return t}var JF="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function eL(n,t){let e,i;for(let r=1;r<arguments.length;r++){for(e in i=arguments[r],i)n[e]=i[e];for(let a=0;a<JF.length;a++)e=JF[a],Object.prototype.hasOwnProperty.call(i,e)&&(n[e]=i[e])}}function JM(n){return JM[" "](n),n}JM[" "]=tE;var rE,n,NG=Vs(Bs,"Opera"),Vg=Vs(Bs,"Trident")||Vs(Bs,"MSIE"),tL=Vs(Bs,"Edge"),eI=tL||Vg,nL=Vs(Bs,"Gecko")&&!(Vs(Bs.toLowerCase(),"webkit")&&!Vs(Bs,"Edge"))&&!(Vs(Bs,"Trident")||Vs(Bs,"MSIE"))&&!Vs(Bs,"Edge"),VG=Vs(Bs.toLowerCase(),"webkit")&&!Vs(Bs,"Edge");function iL(){var n=En.document;return n?n.documentMode:void 0}e:{var tI="",nI=(n=Bs,nL?/rv:([^\);]+)(\)|;)/.exec(n):tL?/Edge\/([\d\.]+)/.exec(n):Vg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):VG?/WebKit\/(\S+)/.exec(n):NG?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(nI&&(tI=nI?nI[1]:""),Vg){var iI=iL();if(null!=iI&&iI>parseFloat(tI)){rE=String(iI);break e}}rE=tI}var BG={};var jG=En.document&&Vg&&(iL()||parseInt(rE,10))||void 0,HG=function(){if(!En.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{En.addEventListener("test",tE,t),En.removeEventListener("test",tE,t)}catch{}return n}();function gs(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}function ib(n,t){if(gs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var e=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(nL){e:{try{JM(t.nodeName);var r=!0;break e}catch{}r=!1}r||(t=null)}}else"mouseover"==e?t=n.fromElement:"mouseout"==e&&(t=n.toElement);this.relatedTarget=t,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:GG[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&ib.Z.h.call(this)}}gs.prototype.h=function(){this.defaultPrevented=!0},es(ib,gs);var GG={2:"touch",3:"pen",4:"mouse"};ib.prototype.h=function(){ib.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var rb="closure_listenable_"+(1e6*Math.random()|0),zG=0;function $G(n,t,e,i,r){this.listener=n,this.proxy=null,this.src=t,this.type=e,this.capture=!!i,this.ia=r,this.key=++zG,this.ca=this.fa=!1}function sE(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function oE(n){this.src=n,this.g={},this.h=0}function sI(n,t){var e=t.type;if(e in n.g){var a,i=n.g[e],r=WF(i,t);(a=0<=r)&&Array.prototype.splice.call(i,r,1),a&&(sE(t),0==n.g[e].length&&(delete n.g[e],n.h--))}}function oI(n,t,e,i){for(var r=0;r<n.length;++r){var a=n[r];if(!a.ca&&a.listener==t&&a.capture==!!e&&a.ia==i)return r}return-1}oE.prototype.add=function(n,t,e,i,r){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=oI(n,t,i,r);return-1<u?(t=n[u],e||(t.fa=!1)):((t=new $G(t,this.src,a,!!i,r)).fa=e,n.push(t)),t};var aI="closure_lm_"+(1e6*Math.random()|0),lI={};function sL(n,t,e,i,r){if(i&&i.once)return aL(n,t,e,i,r);if(Array.isArray(t)){for(var a=0;a<t.length;a++)sL(n,t[a],e,i,r);return null}return e=hI(e),n&&n[rb]?n.N(t,e,nb(i)?!!i.capture:!!i,r):oL(n,t,e,!1,i,r)}function oL(n,t,e,i,r,a){if(!t)throw Error("Invalid event type");var u=nb(r)?!!r.capture:!!r,h=uI(n);if(h||(n[aI]=h=new oE(n)),(e=h.add(t,e,i,u,a)).proxy)return e;if(i=function WG(){var t=qG;return function n(e){return t.call(n.src,n.listener,e)}}(),e.proxy=i,i.src=n,i.listener=e,n.addEventListener)HG||(r=u),void 0===r&&(r=!1),n.addEventListener(t.toString(),i,r);else if(n.attachEvent)n.attachEvent(cL(t.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return e}function aL(n,t,e,i,r){if(Array.isArray(t)){for(var a=0;a<t.length;a++)aL(n,t[a],e,i,r);return null}return e=hI(e),n&&n[rb]?n.O(t,e,nb(i)?!!i.capture:!!i,r):oL(n,t,e,!0,i,r)}function lL(n,t,e,i,r){if(Array.isArray(t))for(var a=0;a<t.length;a++)lL(n,t[a],e,i,r);else i=nb(i)?!!i.capture:!!i,e=hI(e),n&&n[rb]?(n=n.i,(t=String(t).toString())in n.g&&-1<(e=oI(a=n.g[t],e,i,r))&&(sE(a[e]),Array.prototype.splice.call(a,e,1),0==a.length&&(delete n.g[t],n.h--))):n&&(n=uI(n))&&(t=n.g[t.toString()],n=-1,t&&(n=oI(t,e,i,r)),(e=-1<n?t[n]:null)&&cI(e))}function cI(n){if("number"!=typeof n&&n&&!n.ca){var t=n.src;if(t&&t[rb])sI(t.i,n);else{var e=n.type,i=n.proxy;t.removeEventListener?t.removeEventListener(e,i,n.capture):t.detachEvent?t.detachEvent(cL(e),i):t.addListener&&t.removeListener&&t.removeListener(i),(e=uI(t))?(sI(e,n),0==e.h&&(e.src=null,t[aI]=null)):sE(n)}}}function cL(n){return n in lI?lI[n]:lI[n]="on"+n}function qG(n,t){if(n.ca)n=!0;else{t=new ib(t,this);var e=n.listener,i=n.ia||n.src;n.fa&&cI(n),n=e.call(i,t)}return n}function uI(n){return(n=n[aI])instanceof oE?n:null}var dI="__closure_events_fn_"+(1e9*Math.random()>>>0);function hI(n){return"function"==typeof n?n:(n[dI]||(n[dI]=function(t){return n.handleEvent(t)}),n[dI])}function kr(){Jd.call(this),this.i=new oE(this),this.P=this,this.I=null}function ts(n,t){var e,i=n.I;if(i)for(e=[];i;i=i.I)e.push(i);if(n=n.P,i=t.type||t,"string"==typeof t)t=new gs(t,n);else if(t instanceof gs)t.target=t.target||n;else{var r=t;eL(t=new gs(i,n),r)}if(r=!0,e)for(var a=e.length-1;0<=a;a--){var u=t.g=e[a];r=aE(u,i,!0,t)&&r}if(r=aE(u=t.g=n,i,!0,t)&&r,r=aE(u,i,!1,t)&&r,e)for(a=0;a<e.length;a++)r=aE(u=t.g=e[a],i,!1,t)&&r}function aE(n,t,e,i){if(!(t=n.i.g[String(t)]))return!0;t=t.concat();for(var r=!0,a=0;a<t.length;++a){var u=t[a];if(u&&!u.ca&&u.capture==e){var h=u.listener,_=u.ia||u.src;u.fa&&sI(n.i,u),r=!1!==h.call(_,i)&&r}}return r&&!i.defaultPrevented}es(kr,Jd),kr.prototype[rb]=!0,kr.prototype.removeEventListener=function(n,t,e,i){lL(this,n,t,e,i)},kr.prototype.M=function(){if(kr.Z.M.call(this),this.i){var t,n=this.i;for(t in n.g){for(var e=n.g[t],i=0;i<e.length;i++)sE(e[i]);delete n.g[t],n.h--}}this.I=null},kr.prototype.N=function(n,t,e,i){return this.i.add(String(n),t,!1,e,i)},kr.prototype.O=function(n,t,e,i){return this.i.add(String(n),t,!0,e,i)};var fI=En.JSON.stringify;function YG(){var n=dL;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}var mI,uL=new class{constructor(n,t){this.i=n,this.j=t,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ZG,n=>n.reset());class ZG{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function QG(n){En.setTimeout(()=>{throw n},0)}function pI(n,t){mI||function XG(){var n=En.Promise.resolve(void 0);mI=function(){n.then(JG)}}(),gI||(mI(),gI=!0),dL.add(n,t)}var gI=!1,dL=new class KG{constructor(){this.h=this.g=null}add(t,e){const i=uL.get();i.set(t,e),this.h?this.h.next=i:this.g=i,this.h=i}};function JG(){for(var n;n=YG();){try{n.h.call(n.g)}catch(e){QG(e)}var t=uL;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}gI=!1}function lE(n,t){kr.call(this),this.h=n||1,this.g=t||En,this.j=Jr(this.kb,this),this.l=Date.now()}function _I(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function yI(n,t,e){if("function"==typeof n)e&&(n=Jr(n,e));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Jr(n.handleEvent,n)}return 2147483647<Number(t)?-1:En.setTimeout(n,t||0)}function hL(n){n.g=yI(()=>{n.g=null,n.i&&(n.i=!1,hL(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}es(lE,kr),($t=lE.prototype).da=!1,$t.S=null,$t.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ts(this,"tick"),this.da&&(_I(this),this.start()))}},$t.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$t.M=function(){lE.Z.M.call(this),_I(this),delete this.g};class ez extends Jd{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:hL(this)}M(){super.M(),this.g&&(En.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sb(n){Jd.call(this),this.h=n,this.g={}}es(sb,Jd);var fL=[];function pL(n,t,e,i){Array.isArray(e)||(e&&(fL[0]=e.toString()),e=fL);for(var r=0;r<e.length;r++){var a=sL(t,e[r],i||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function mL(n){XM(n.g,function(t,e){this.g.hasOwnProperty(e)&&cI(t)},n),n.g={}}function cE(){this.g=!0}function Bg(n,t,e,i){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+function rz(n,t){if(!n.g)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(n=0;n<e.length;n++)if(Array.isArray(e[n])){var i=e[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var a=r[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<r.length;u++)r[u]=""}}}return fI(e)}catch{return t}}(n,e)+(i?" "+i:"")})}sb.prototype.M=function(){sb.Z.M.call(this),mL(this)},sb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},cE.prototype.Aa=function(){this.g=!1},cE.prototype.info=function(){};var Qf={},gL=null;function uE(){return gL=gL||new kr}function _L(n){gs.call(this,Qf.Ma,n)}function ob(n){const t=uE();ts(t,new _L(t,n))}function yL(n,t){gs.call(this,Qf.STAT_EVENT,n),this.stat=t}function Us(n){const t=uE();ts(t,new yL(t,n))}function vL(n,t){gs.call(this,Qf.Na,n),this.size=t}function ab(n,t){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return En.setTimeout(function(){n()},t)}Qf.Ma="serverreachability",es(_L,gs),Qf.STAT_EVENT="statevent",es(yL,gs),Qf.Na="timingevent",es(vL,gs);var dE={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},bL={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function vI(){}function CL(){}vI.prototype.h=null;var CI,lb={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function bI(){gs.call(this,"d")}function wI(){gs.call(this,"c")}function hE(){}function cb(n,t,e,i){this.l=n,this.j=t,this.m=e,this.X=i||1,this.V=new sb(this),this.P=sz,this.W=new lE(n=eI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new DL}function DL(){this.i=null,this.g="",this.h=!1}es(bI,gs),es(wI,gs),es(hE,vI),hE.prototype.g=function(){return new XMLHttpRequest},hE.prototype.i=function(){return{}},CI=new hE;var sz=45e3,DI={},fE={};function EI(n,t,e){n.K=1,n.v=yE(Gu(t)),n.s=e,n.U=!0,EL(n,null)}function EL(n,t){n.F=Date.now(),ub(n),n.A=Gu(n.v);var e=n.A,i=n.X;Array.isArray(i)||(i=[String(i)]),RL(e.h,"t",i),n.C=0,e=n.l.H,n.h=new DL,n.g=nN(n.l,e?t:null,!n.s),0<n.O&&(n.L=new ez(Jr(n.Ia,n,n.g),n.O)),pL(n.V,n.g,"readystatechange",n.gb),t=n.H?XF(n.H):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,t)):(n.u="GET",n.g.ea(n.A,n.u,null,t)),ob(1),function tz(n,t,e,i,r,a){n.info(function(){if(n.g)if(a)for(var u="",h=a.split("&"),_=0;_<h.length;_++){var w=h[_].split("=");if(1<w.length){var M=w[0];w=w[1];var j=M.split("_");u=2<=j.length&&"type"==j[1]?u+(M+"=")+w+"&":u+(M+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+t+"\n"+e+"\n"+u})}(n.j,n.u,n.A,n.m,n.X,n.s)}function AL(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function SL(n,t,e){let r,i=!0;for(;!n.I&&n.C<e.length;){if(r=oz(n,e),r==fE){4==t&&(n.o=4,Us(14),i=!1),Bg(n.j,n.m,null,"[Incomplete Response]");break}if(r==DI){n.o=4,Us(15),Bg(n.j,n.m,e,"[Invalid Chunk]"),i=!1;break}Bg(n.j,n.m,r,null),AI(n,r)}AL(n)&&r!=fE&&r!=DI&&(n.h.g="",n.C=0),4!=t||0!=e.length||n.h.h||(n.o=1,Us(16),i=!1),n.i=n.i&&i,i?0<e.length&&!n.aa&&(n.aa=!0,(t=n.l).g==n&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+e.length),LI(t),t.L=!0,Us(11))):(Bg(n.j,n.m,e,"[Invalid Chunked Response]"),Xf(n),db(n))}function oz(n,t){var e=n.C,i=t.indexOf("\n",e);return-1==i?fE:(e=Number(t.substring(e,i)),isNaN(e)?DI:(i+=1)+e>t.length?fE:(t=t.substr(i,e),n.C=i+e,t))}function ub(n){n.Y=Date.now()+n.P,TL(n,n.P)}function TL(n,t){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ab(Jr(n.eb,n),t)}function pE(n){n.B&&(En.clearTimeout(n.B),n.B=null)}function db(n){0==n.l.G||n.I||XL(n.l,n)}function Xf(n){pE(n);var t=n.L;t&&"function"==typeof t.na&&t.na(),n.L=null,_I(n.W),mL(n.V),n.g&&(t=n.g,n.g=null,t.abort(),t.na())}function AI(n,t){try{var e=n.l;if(0!=e.G&&(e.g==n||xI(e.i,n)))if(e.I=n.N,!n.J&&xI(e.i,n)&&3==e.G){try{var i=e.Ca.g.parse(t)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!e.u){if(e.g){if(!(e.g.F+3e3<n.F))break e;EE(e),CE(e)}FI(e),Us(18)}}else e.ta=r[1],0<e.ta-e.U&&37500>r[2]&&e.N&&0==e.A&&!e.v&&(e.v=ab(Jr(e.ab,e),6e3));if(1>=LL(e.i)&&e.ka){try{e.ka()}catch{}e.ka=void 0}}else tp(e,11)}else if((n.J||e.g==n)&&EE(e),!iE(t))for(r=e.Ca.g.parse(t),t=0;t<r.length;t++){let w=r[t];if(e.U=w[0],w=w[1],2==e.G)if("c"==w[0]){e.J=w[1],e.la=w[2];const M=w[3];null!=M&&(e.ma=M,e.h.info("VER="+e.ma));const j=w[4];null!=j&&(e.za=j,e.h.info("SVER="+e.za));const Ce=w[5];null!=Ce&&"number"==typeof Ce&&0<Ce&&(e.K=i=1.5*Ce,e.h.info("backChannelRequestTimeoutMs_="+i)),i=e;const Me=n.g;if(Me){const Le=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Le){var a=i.i;!a.g&&(Vs(Le,"spdy")||Vs(Le,"quic")||Vs(Le,"h2"))&&(a.j=a.l,a.g=new Set,a.h&&(MI(a,a.h),a.h=null))}if(i.D){const $e=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;$e&&(i.sa=$e,ki(i.F,i.D,$e))}}e.G=3,e.j&&e.j.xa(),e.$&&(e.O=Date.now()-n.F,e.h.info("Handshake RTT: "+e.O+"ms"));var u=n;if((i=e).oa=tN(i,i.H?i.la:null,i.W),u.J){NL(i.i,u);var h=u,_=i.K;_&&h.setTimeout(_),h.B&&(pE(h),ub(h)),i.g=u}else ZL(i);0<e.l.length&&DE(e)}else"stop"!=w[0]&&"close"!=w[0]||tp(e,7);else 3==e.G&&("stop"==w[0]||"close"==w[0]?"stop"==w[0]?tp(e,7):RI(e):"noop"!=w[0]&&e.j&&e.j.wa(w),e.A=0)}ob(4)}catch{}}function SI(n,t){if(n.forEach&&"function"==typeof n.forEach)n.forEach(t,void 0);else if(YM(n)||"string"==typeof n)qF(n,t,void 0);else{if(n.T&&"function"==typeof n.T)var e=n.T();else if(n.R&&"function"==typeof n.R)e=void 0;else if(YM(n)||"string"==typeof n){e=[];for(var i=n.length,r=0;r<i;r++)e.push(r)}else for(r in e=[],i=0,n)e[i++]=r;i=function az(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(YM(n)){for(var t=[],e=n.length,i=0;i<e;i++)t.push(n[i]);return t}for(i in t=[],e=0,n)t[e++]=n[i];return t}(n),r=i.length;for(var a=0;a<r;a++)t.call(void 0,i[a],e&&e[a],n)}}function Ug(n,t){this.h={},this.g=[],this.i=0;var e=arguments.length;if(1<e){if(e%2)throw Error("Uneven number of arguments");for(var i=0;i<e;i+=2)this.set(arguments[i],arguments[i+1])}else if(n)if(n instanceof Ug)for(e=n.T(),i=0;i<e.length;i++)this.set(e[i],n.get(e[i]));else for(i in n)this.set(i,n[i])}function TI(n){if(n.i!=n.g.length){for(var t=0,e=0;t<n.g.length;){var i=n.g[t];Jf(n.h,i)&&(n.g[e++]=i),t++}n.g.length=e}if(n.i!=n.g.length){var r={};for(e=t=0;t<n.g.length;)Jf(r,i=n.g[t])||(n.g[e++]=i,r[i]=1),t++;n.g.length=e}}function Jf(n,t){return Object.prototype.hasOwnProperty.call(n,t)}($t=cb.prototype).setTimeout=function(n){this.P=n},$t.gb=function(n){n=n.target;const t=this.L;t&&3==zu(n)?t.l():this.Ia(n)},$t.Ia=function(n){try{if(n==this.g)e:{const M=zu(this.g);var t=this.g.Da();const j=this.g.ba();if(!(3>M)&&(3!=M||eI||this.g&&(this.h.h||this.g.ga()||$L(this.g)))){this.I||4!=M||7==t||ob(8==t||0>=j?3:2),pE(this);var e=this.g.ba();this.N=e;t:if(AL(this)){var i=$L(this.g);n="";var r=i.length,a=4==zu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xf(this),db(this);var u="";break t}this.h.i=new En.TextDecoder}for(t=0;t<r;t++)this.h.h=!0,n+=this.h.i.decode(i[t],{stream:a&&t==r-1});i.splice(0,r),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==e,function nz(n,t,e,i,r,a,u){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.X,M,e),this.i){if(this.$&&!this.J){t:{if(this.g){var h,_=this.g;if((h=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!iE(h)){var w=h;break t}}w=null}if(!(e=w)){this.i=!1,this.o=3,Us(12),Xf(this),db(this);break e}Bg(this.j,this.m,e,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,AI(this,e)}this.U?(SL(this,M,u),eI&&this.i&&3==M&&(pL(this.V,this.W,"tick",this.fb),this.W.start())):(Bg(this.j,this.m,u,null),AI(this,u)),4==M&&Xf(this),this.i&&!this.I&&(4==M?XL(this.l,this):(this.i=!1,ub(this)))}else 400==e&&0<u.indexOf("Unknown SID")?(this.o=3,Us(12)):(this.o=0,Us(13)),Xf(this),db(this)}}}catch{}},$t.fb=function(){if(this.g){var n=zu(this.g),t=this.g.ga();this.C<t.length&&(pE(this),SL(this,n,t),this.i&&4!=n&&ub(this))}},$t.cancel=function(){this.I=!0,Xf(this)},$t.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function iz(n,t){n.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(ob(3),Us(17)),Xf(this),this.o=2,db(this)):TL(this,this.Y-n)},($t=Ug.prototype).R=function(){TI(this);for(var n=[],t=0;t<this.g.length;t++)n.push(this.h[this.g[t]]);return n},$t.T=function(){return TI(this),this.g.concat()},$t.get=function(n,t){return Jf(this.h,n)?this.h[n]:t},$t.set=function(n,t){Jf(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=t},$t.forEach=function(n,t){for(var e=this.T(),i=0;i<e.length;i++){var r=e[i],a=this.get(r);n.call(t,a,r,this)}};var xL=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ep(n,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof ep){this.g=void 0!==t?t:n.g,mE(this,n.j),this.s=n.s,gE(this,n.i),_E(this,n.m),this.l=n.l,t=n.h;var e=new pb;e.i=t.i,t.g&&(e.g=new Ug(t.g),e.h=t.h),ML(this,e),this.o=n.o}else n&&(e=String(n).match(xL))?(this.g=!!t,mE(this,e[1]||"",!0),this.s=hb(e[2]||""),gE(this,e[3]||"",!0),_E(this,e[4]),this.l=hb(e[5]||"",!0),ML(this,e[6]||"",!0),this.o=hb(e[7]||"")):(this.g=!!t,this.h=new pb(null,this.g))}function Gu(n){return new ep(n)}function mE(n,t,e){n.j=e?hb(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function gE(n,t,e){n.i=e?hb(t,!0):t}function _E(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function ML(n,t,e){t instanceof pb?(n.h=t,function gz(n,t){t&&!n.j&&(eh(n),n.i=null,n.g.forEach(function(e,i){var r=i.toLowerCase();i!=r&&(PL(this,i),RL(this,r,e))},n)),n.j=t}(n.h,n.g)):(e||(t=fb(t,pz)),n.h=new pb(t,n.g))}function ki(n,t,e){n.h.set(t,e)}function yE(n){return ki(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function hb(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function fb(n,t,e){return"string"==typeof n?(n=encodeURI(n).replace(t,dz),e&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function dz(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}ep.prototype.toString=function(){var n=[],t=this.j;t&&n.push(fb(t,IL,!0),":");var e=this.i;return(e||"file"==t)&&(n.push("//"),(t=this.s)&&n.push(fb(t,IL,!0),"@"),n.push(encodeURIComponent(String(e)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(e=this.m)&&n.push(":",String(e))),(e=this.l)&&(this.i&&"/"!=e.charAt(0)&&n.push("/"),n.push(fb(e,"/"==e.charAt(0)?fz:hz,!0))),(e=this.h.toString())&&n.push("?",e),(e=this.o)&&n.push("#",fb(e,mz)),n.join("")};var IL=/[#\/\?@]/g,hz=/[#\?:]/g,fz=/[#\?]/g,pz=/[#\?@]/g,mz=/#/g;function pb(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function eh(n){n.g||(n.g=new Ug,n.h=0,n.i&&function lz(n,t){if(n){n=n.split("&");for(var e=0;e<n.length;e++){var i=n[e].indexOf("="),r=null;if(0<=i){var a=n[e].substring(0,i);r=n[e].substring(i+1)}else a=n[e];t(a,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(t,e){n.add(decodeURIComponent(t.replace(/\+/g," ")),e)}))}function PL(n,t){eh(n),t=jg(n,t),Jf(n.g.h,t)&&(n.i=null,n.h-=n.g.get(t).length,Jf((n=n.g).h,t)&&(delete n.h[t],n.i--,n.g.length>2*n.i&&TI(n)))}function kL(n,t){return eh(n),t=jg(n,t),Jf(n.g.h,t)}function RL(n,t,e){PL(n,t),0<e.length&&(n.i=null,n.g.set(jg(n,t),ZM(e)),n.h+=e.length)}function jg(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function OL(n){this.l=n||yz,n=En.PerformanceNavigationTiming?0<(n=En.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(En.g&&En.g.Ea&&En.g.Ea()&&En.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($t=pb.prototype).add=function(n,t){eh(this),this.i=null,n=jg(this,n);var e=this.g.get(n);return e||this.g.set(n,e=[]),e.push(t),this.h+=1,this},$t.forEach=function(n,t){eh(this),this.g.forEach(function(e,i){qF(e,function(r){n.call(t,r,i,this)},this)},this)},$t.T=function(){eh(this);for(var n=this.g.R(),t=this.g.T(),e=[],i=0;i<t.length;i++)for(var r=n[i],a=0;a<r.length;a++)e.push(t[i]);return e},$t.R=function(n){eh(this);var t=[];if("string"==typeof n)kL(this,n)&&(t=YF(t,this.g.get(jg(this,n))));else{n=this.g.R();for(var e=0;e<n.length;e++)t=YF(t,n[e])}return t},$t.set=function(n,t){return eh(this),this.i=null,kL(this,n=jg(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this},$t.get=function(n,t){return n&&0<(n=this.R(n)).length?String(n[0]):t},$t.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],t=this.g.T(),e=0;e<t.length;e++){var i=t[e],r=encodeURIComponent(String(i));i=this.R(i);for(var a=0;a<i.length;a++){var u=r;""!==i[a]&&(u+="="+encodeURIComponent(String(i[a]))),n.push(u)}}return this.i=n.join("&")};var yz=10;function FL(n){return!!n.h||!!n.g&&n.g.size>=n.j}function LL(n){return n.h?1:n.g?n.g.size:0}function xI(n,t){return n.h?n.h==t:!!n.g&&n.g.has(t)}function MI(n,t){n.g?n.g.add(t):n.h=t}function NL(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}function VL(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let t=n.i;for(const e of n.g.values())t=t.concat(e.D);return t}return ZM(n.i)}function II(){}function vz(){this.g=new II}function bz(n,t,e){const i=e||"";try{SI(n,function(r,a){let u=r;nb(r)&&(u=fI(r)),t.push(i+a+"="+encodeURIComponent(u))})}catch(r){throw t.push(i+"type="+encodeURIComponent("_badmap")),r}}function vE(n,t,e,i,r){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,r(i)}catch{}}function mb(n){this.l=n.$b||null,this.j=n.ib||!1}function bE(n,t){kr.call(this),this.D=n,this.u=t,this.m=void 0,this.readyState=PI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}OL.prototype.cancel=function(){if(this.i=VL(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},II.prototype.stringify=function(n){return En.JSON.stringify(n,void 0)},II.prototype.parse=function(n){return En.JSON.parse(n,void 0)},es(mb,vI),mb.prototype.g=function(){return new bE(this.l,this.j)},mb.prototype.i=function(n){return function(){return n}}({}),es(bE,kr);var PI=0;function BL(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function gb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_b(n)}function _b(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($t=bE.prototype).open=function(n,t){if(this.readyState!=PI)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,_b(this)},$t.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.D||En).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},$t.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,gb(this)),this.readyState=PI},$t.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_b(this)),this.g&&(this.readyState=3,_b(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(typeof En.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BL(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},$t.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?gb(this):_b(this),3==this.readyState&&BL(this)}},$t.Ua=function(n){this.g&&(this.response=this.responseText=n,gb(this))},$t.Ta=function(n){this.g&&(this.response=n,gb(this))},$t.ha=function(){this.g&&gb(this)},$t.setRequestHeader=function(n,t){this.v.append(n,t)},$t.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$t.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var e=t.next();!e.done;)n.push((e=e.value)[0]+": "+e[1]),e=t.next();return n.join("\r\n")},Object.defineProperty(bE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Cz=En.JSON.parse;function ur(n){kr.call(this),this.headers=new Ug,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=UL,this.K=this.L=!1}es(ur,kr);var UL="",Dz=/^https?$/i,Ez=["POST","PUT"];function Sz(n){return"content-type"==n.toLowerCase()}function jL(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,HL(n),wE(n)}function HL(n){n.D||(n.D=!0,ts(n,"complete"),ts(n,"error"))}function GL(n){if(n.h&&typeof qM<"u"&&(!n.C[1]||4!=zu(n)||2!=n.ba()))if(n.v&&4==zu(n))yI(n.Fa,0,n);else if(ts(n,"readystatechange"),4==zu(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var e;if(!(e=t)){var i;if(i=0===h){var r=String(n.H).match(xL)[1]||null;if(!r&&En.self&&En.self.location){var a=En.self.location.protocol;r=a.substr(0,a.length-1)}i=!Dz.test(r?r.toLowerCase():"")}e=i}if(e)ts(n,"complete"),ts(n,"success");else{n.m=6;try{var u=2<zu(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.ba()+"]",HL(n)}}finally{wE(n)}}}function wE(n,t){if(n.g){zL(n);const e=n.g,i=n.C[0]?tE:null;n.g=null,n.C=null,t||ts(n,"ready");try{e.onreadystatechange=i}catch{}}}function zL(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(En.clearTimeout(n.A),n.A=null)}function zu(n){return n.g?n.g.readyState:0}function $L(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case UL:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function kI(n,t,e){e:{for(i in e){var i=!1;break e}i=!0}i||(e=function Tz(n){let t="";return XM(n,function(e,i){t+=i,t+=":",t+=e,t+="\r\n"}),t}(e),"string"==typeof n?null!=e&&encodeURIComponent(String(e)):ki(n,t,e))}function yb(n,t,e){return e&&e.internalChannelParams&&e.internalChannelParams[n]||t}function WL(n){this.za=0,this.l=[],this.h=new cE,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=yb("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=yb("baseRetryDelayMs",5e3,n),this.$a=yb("retryDelaySeedMs",1e4,n),this.Ya=yb("forwardChannelMaxRetries",2,n),this.ra=yb("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new OL(n&&n.concurrentRequestLimit),this.Ca=new vz,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function RI(n){if(qL(n),3==n.G){var t=n.V++,e=Gu(n.F);ki(e,"SID",n.J),ki(e,"RID",t),ki(e,"TYPE","terminate"),vb(n,e),(t=new cb(n,n.h,t,void 0)).K=2,t.v=yE(Gu(e)),e=!1,En.navigator&&En.navigator.sendBeacon&&(e=En.navigator.sendBeacon(t.v.toString(),"")),!e&&En.Image&&((new Image).src=t.v,e=!0),e||(t.g=nN(t.l,null),t.g.ea(t.v)),t.F=Date.now(),ub(t)}eN(n)}function CE(n){n.g&&(LI(n),n.g.cancel(),n.g=null)}function qL(n){CE(n),n.u&&(En.clearTimeout(n.u),n.u=null),EE(n),n.i.cancel(),n.m&&("number"==typeof n.m&&En.clearTimeout(n.m),n.m=null)}function OI(n,t){n.l.push(new class{constructor(n,t){this.h=n,this.g=t}}(n.Za++,t)),3==n.G&&DE(n)}function DE(n){FL(n.i)||n.m||(n.m=!0,pI(n.Ha,n),n.C=0)}function YL(n,t){var e;e=t?t.m:n.V++;const i=Gu(n.F);ki(i,"SID",n.J),ki(i,"RID",e),ki(i,"AID",n.U),vb(n,i),n.o&&n.s&&kI(i,n.o,n.s),e=new cb(n,n.h,e,n.C+1),null===n.o&&(e.H=n.s),t&&(n.l=t.D.concat(n.l)),t=KL(n,e,1e3),e.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),MI(n.i,e),EI(e,i,t)}function vb(n,t){n.j&&SI({},function(e,i){ki(t,i,e)})}function KL(n,t,e){e=Math.min(n.l.length,e);var i=n.j?Jr(n.j.Oa,n.j,n):null;e:{var r=n.l;let a=-1;for(;;){const u=["count="+e];-1==a?0<e?(a=r[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let h=!0;for(let _=0;_<e;_++){let w=r[_].h;const M=r[_].g;if(w-=a,0>w)a=Math.max(0,r[_].h-100),h=!1;else try{bz(M,u,"req"+w+"_")}catch{i&&i(M)}}if(h){i=u.join("&");break e}}}return n=n.l.splice(0,e),t.D=n,i}function ZL(n){n.g||n.u||(n.Y=1,pI(n.Ga,n),n.A=0)}function FI(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=ab(Jr(n.Ga,n),JL(n,n.A)),n.A++,0))}function LI(n){null!=n.B&&(En.clearTimeout(n.B),n.B=null)}function QL(n){n.g=new cb(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var t=Gu(n.oa);ki(t,"RID","rpc"),ki(t,"SID",n.J),ki(t,"CI",n.N?"0":"1"),ki(t,"AID",n.U),vb(n,t),ki(t,"TYPE","xmlhttp"),n.o&&n.s&&kI(t,n.o,n.s),n.K&&n.g.setTimeout(n.K);var e=n.g;n=n.la,e.K=1,e.v=yE(Gu(t)),e.s=null,e.U=!0,EL(e,n)}function EE(n){null!=n.v&&(En.clearTimeout(n.v),n.v=null)}function XL(n,t){var e=null;if(n.g==t){EE(n),LI(n),n.g=null;var i=2}else{if(!xI(n.i,t))return;e=t.D,NL(n.i,t),i=1}if(n.I=t.N,0!=n.G)if(t.i)if(1==i){e=t.s?t.s.length:0,t=Date.now()-t.F;var r=n.C;ts(i=uE(),new vL(i,e,t,r)),DE(n)}else ZL(n);else if(3==(r=t.o)||0==r&&0<n.I||!(1==i&&function xz(n,t){return!(LL(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=t.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=ab(Jr(n.Ha,n,t),JL(n,n.C)),n.C++,0)))}(n,t)||2==i&&FI(n)))switch(e&&0<e.length&&(t=n.i,t.i=t.i.concat(e)),r){case 1:tp(n,5);break;case 4:tp(n,10);break;case 3:tp(n,6);break;default:tp(n,2)}}function JL(n,t){let e=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(e*=2),e*t}function tp(n,t){if(n.h.info("Error code "+t),2==t){var e=null;n.j&&(e=null);var i=Jr(n.jb,n);e||(e=new ep("//www.google.com/images/cleardot.gif"),En.location&&"http"==En.location.protocol||mE(e,"https"),yE(e)),function wz(n,t){const e=new cE;if(En.Image){const i=new Image;i.onload=nE(vE,e,i,"TestLoadImage: loaded",!0,t),i.onerror=nE(vE,e,i,"TestLoadImage: error",!1,t),i.onabort=nE(vE,e,i,"TestLoadImage: abort",!1,t),i.ontimeout=nE(vE,e,i,"TestLoadImage: timeout",!1,t),En.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else t(!1)}(e.toString(),i)}else Us(2);n.G=0,n.j&&n.j.va(t),eN(n),qL(n)}function eN(n){n.G=0,n.I=-1,n.j&&((0!=VL(n.i).length||0!=n.l.length)&&(n.i.i.length=0,ZM(n.l),n.l.length=0),n.j.ua())}function tN(n,t,e){let i=function cz(n){return n instanceof ep?Gu(n):new ep(n,void 0)}(e);if(""!=i.i)t&&gE(i,t+"."+i.i),_E(i,i.m);else{const r=En.location;i=function uz(n,t,e,i){var r=new ep(null,void 0);return n&&mE(r,n),t&&gE(r,t),e&&_E(r,e),i&&(r.l=i),r}(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return n.aa&&XM(n.aa,function(r,a){ki(i,a,r)}),e=n.sa,(t=n.D)&&e&&ki(i,t,e),ki(i,"VER",n.ma),vb(n,i),i}function nN(n,t,e){if(t&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new ur(e&&n.Ba&&!n.qa?new mb({ib:!0}):n.qa)).L=n.H,t}function iN(){}function AE(){if(Vg&&!(10<=Number(jG)))throw Error("Environmental error: no available transport.")}function qo(n,t){kr.call(this),this.g=new WL(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(n?n["X-WebChannel-Client-Profile"]=t.ya:n={"X-WebChannel-Client-Profile":t.ya}),this.g.P=n,(n=t&&t.httpHeadersOverwriteParam)&&!iE(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!iE(t)&&(this.g.D=t,null!==(n=this.h)&&t in n&&t in(n=this.h)&&delete n[t]),this.j=new Hg(this)}function rN(n){bI.call(this);var t=n.__sm__;if(t){e:{for(const e in t){n=e;break e}n=void 0}(this.i=n)&&(n=this.i,t=null!==t&&n in t?t[n]:void 0),this.data=t}else this.data=n}function sN(){wI.call(this),this.status=1}function Hg(n){this.g=n}($t=ur.prototype).ea=function(n,t,e,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);t=t?t.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():CI.g(),this.C=function wL(n){return n.h||(n.h=n.i())}(this.u?this.u:CI),this.g.onreadystatechange=Jr(this.Fa,this);try{this.F=!0,this.g.open(t,String(n),!0),this.F=!1}catch(a){return void jL(this,a)}n=e||"";const r=new Ug(this.headers);i&&SI(i,function(a,u){r.set(u,a)}),i=function FG(n){e:{var t=Sz;const e=n.length,i="string"==typeof n?n.split(""):n;for(let r=0;r<e;r++)if(r in i&&t.call(void 0,i[r],r,n)){t=r;break e}t=-1}return 0>t?null:"string"==typeof n?n.charAt(t):n[t]}(r.T()),e=En.FormData&&n instanceof En.FormData,!(0<=WF(Ez,t))||i||e||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),r.forEach(function(a,u){this.g.setRequestHeader(u,a)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{zL(this),0<this.B&&((this.K=function Az(n){return Vg&&function UG(){return function LG(n){var t=BG;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=n(9)}(function(){let n=0;const t=KF(String(rE)).split("."),e=KF("9").split("."),i=Math.max(t.length,e.length);for(let u=0;0==n&&u<i;u++){var r=t[u]||"",a=e[u]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==r[0].length&&0==a[0].length)break;n=QM(0==r[1].length?0:parseInt(r[1],10),0==a[1].length?0:parseInt(a[1],10))||QM(0==r[2].length,0==a[2].length)||QM(r[2],a[2]),r=r[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Jr(this.pa,this)):this.A=yI(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){jL(this,a)}},$t.pa=function(){typeof qM<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ts(this,"timeout"),this.abort(8))},$t.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ts(this,"complete"),ts(this,"abort"),wE(this))},$t.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),wE(this,!0)),ur.Z.M.call(this)},$t.Fa=function(){this.s||(this.F||this.v||this.l?GL(this):this.cb())},$t.cb=function(){GL(this)},$t.ba=function(){try{return 2<zu(this)?this.g.status:-1}catch{return-1}},$t.ga=function(){try{return this.g?this.g.responseText:""}catch{return""}},$t.Qa=function(n){if(this.g){var t=this.g.responseText;return n&&0==t.indexOf(n)&&(t=t.substring(n.length)),Cz(t)}},$t.Da=function(){return this.m},$t.La=function(){return"string"==typeof this.j?this.j:String(this.j)},($t=WL.prototype).ma=8,$t.G=1,$t.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch{}},$t.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const r=new cb(this,this.h,n,void 0);let a=this.s;if(this.P&&(a?(a=XF(a),eL(a,this.P)):a=this.P),null===this.o&&(r.H=a),this.ja)e:{for(var t=0,e=0;e<this.l.length;e++){var i=this.l[e];if(void 0===(i="__data__"in i.g&&"string"==typeof(i=i.g.__data__)?i.length:void 0))break;if(4096<(t+=i)){t=e;break e}if(4096===t||e===this.l.length-1){t=e+1;break e}}t=1e3}else t=1e3;t=KL(this,r,t),ki(e=Gu(this.F),"RID",n),ki(e,"CVER",22),this.D&&ki(e,"X-HTTP-Session-Id",this.D),vb(this,e),this.o&&a&&kI(e,this.o,a),MI(this.i,r),this.Ra&&ki(e,"TYPE","init"),this.ja?(ki(e,"$req",t),ki(e,"SID","null"),r.$=!0,EI(r,e,null)):EI(r,e,t),this.G=2}}else 3==this.G&&(n?YL(this,n):0==this.l.length||FL(this.i)||YL(this))},$t.Ga=function(){if(this.u=null,QL(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=ab(Jr(this.bb,this),n)}},$t.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Us(10),CE(this),QL(this))},$t.ab=function(){null!=this.v&&(this.v=null,CE(this),FI(this),Us(19))},$t.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Us(2)):(this.h.info("Failed to ping google.com"),Us(1))},($t=iN.prototype).xa=function(){},$t.wa=function(){},$t.va=function(){},$t.ua=function(){},$t.Oa=function(){},AE.prototype.g=function(n,t){return new qo(n,t)},es(qo,kr),qo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,t=this.l,e=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),pI(Jr(n.hb,n,t))),Us(0),n.W=t,n.aa=e||{},n.N=n.X,n.F=tN(n,null,n.W),DE(n)},qo.prototype.close=function(){RI(this.g)},qo.prototype.u=function(n){if("string"==typeof n){var t={};t.__data__=n,OI(this.g,t)}else this.v?((t={}).__data__=fI(n),OI(this.g,t)):OI(this.g,n)},qo.prototype.M=function(){this.g.j=null,delete this.j,RI(this.g),delete this.g,qo.Z.M.call(this)},es(rN,bI),es(sN,wI),es(Hg,iN),Hg.prototype.xa=function(){ts(this.g,"a")},Hg.prototype.wa=function(n){ts(this.g,new rN(n))},Hg.prototype.va=function(n){ts(this.g,new sN(n))},Hg.prototype.ua=function(){ts(this.g,"b")},AE.prototype.createWebChannel=AE.prototype.g,qo.prototype.send=qo.prototype.u,qo.prototype.open=qo.prototype.m,qo.prototype.close=qo.prototype.close,dE.NO_ERROR=0,dE.TIMEOUT=8,dE.HTTP_ERROR=6,bL.COMPLETE="complete",CL.EventType=lb,lb.OPEN="a",lb.CLOSE="b",lb.ERROR="c",lb.MESSAGE="d",kr.prototype.listen=kr.prototype.N,ur.prototype.listenOnce=ur.prototype.O,ur.prototype.getLastError=ur.prototype.La,ur.prototype.getLastErrorCode=ur.prototype.Da,ur.prototype.getStatus=ur.prototype.ba,ur.prototype.getResponseJson=ur.prototype.Qa,ur.prototype.getResponseText=ur.prototype.ga,ur.prototype.send=ur.prototype.ea;var Mz=Hu.createWebChannelTransport=function(){return new AE},Iz=Hu.getStatEventTarget=function(){return uE()},NI=Hu.ErrorCode=dE,Pz=Hu.EventType=bL,kz=Hu.Event=Qf,oN=Hu.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Rz=Hu.FetchXmlHttpFactory=mb,SE=Hu.WebChannel=CL,Oz=Hu.XhrIo=ur;const aN="@firebase/firestore";class Rr{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Rr.UNAUTHENTICATED=new Rr(null),Rr.GOOGLE_CREDENTIALS=new Rr("google-credentials-uid"),Rr.FIRST_PARTY=new Rr("first-party-uid"),Rr.MOCK_USER=new Rr("mock-user");let Gg="9.9.2";const th=new Xd.Yd("@firebase/firestore");function VI(){return th.logLevel}function St(n,...t){if(th.logLevel<=Xd.in.DEBUG){const e=t.map(BI);th.debug(`Firestore (${Gg}): ${n}`,...e)}}function nr(n,...t){if(th.logLevel<=Xd.in.ERROR){const e=t.map(BI);th.error(`Firestore (${Gg}): ${n}`,...e)}}function np(n,...t){if(th.logLevel<=Xd.in.WARN){const e=t.map(BI);th.warn(`Firestore (${Gg}): ${n}`,...e)}}function BI(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function qt(n="Unexpected state"){const t=`FIRESTORE (${Gg}) INTERNAL ASSERTION FAILED: `+n;throw nr(t),new Error(t)}function vn(n,t){n||qt()}function Vt(n,t){return n}const ot={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ct extends In.ZR{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class lN{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Nz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Rr.UNAUTHENTICATED))}shutdown(){}}class Vz{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class Bz{constructor(t){this.t=t,this.currentUser=Rr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var i=this;let r=this.i;const a=w=>this.i!==r?(r=this.i,e(w)):Promise.resolve();let u=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Or,t.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const w=u;t.enqueueRetryable((0,ut.Z)(function*(){yield w.promise,yield a(i.currentUser)}))},_=w=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=w,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(w=>_(w)),setTimeout(()=>{if(!this.auth){const w=this.t.getImmediate({optional:!0});w?_(w):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Or)}},0),h()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(i=>this.i!==t?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(vn("string"==typeof i.accessToken),new lN(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return vn(null===t||"string"==typeof t),new Rr(t)}}class Uz{constructor(t,e,i){this.type="FirstParty",this.user=Rr.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",e);const r=t.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),i&&this.headers.set("X-Goog-Iam-Authorization-Token",i)}}class jz{constructor(t,e,i){this.h=t,this.l=e,this.m=i}getToken(){return Promise.resolve(new Uz(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Rr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cN{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Hz{constructor(t){this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(t,e){const i=a=>{null!=a.error&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.p;return this.p=a.token,St("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?e(a.token):Promise.resolve()};this.o=a=>{t.enqueueRetryable(()=>i(a))};const r=a=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.g.onInit(a=>r(a)),setTimeout(()=>{if(!this.appCheck){const a=this.g.getImmediate({optional:!0});a?r(a):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(e=>e?(vn("string"==typeof e.token),this.p=e.token,new cN(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Gz(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class uN{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let i="";for(;i.length<20;){const r=Gz(40);for(let a=0;a<r.length;++a)i.length<20&&r[a]<e&&(i+=t.charAt(r[a]%t.length))}return i}}function An(n,t){return n<t?-1:n>t?1:0}function zg(n,t,e){return n.length===t.length&&n.every((i,r)=>e(i,t[r]))}function dN(n){return n+"\0"}class Ri{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ct(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ct(ot.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ct(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ct(ot.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Ri.fromMillis(Date.now())}static fromDate(t){return Ri.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor(1e6*(t-1e3*e));return new Ri(e,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?An(this.nanoseconds,t.nanoseconds):An(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class mn{constructor(t){this.timestamp=t}static fromTimestamp(t){return new mn(t)}static min(){return new mn(new Ri(0,0))}static max(){return new mn(new Ri(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bb{constructor(t,e,i){void 0===e?e=0:e>t.length&&qt(),void 0===i?i=t.length-e:i>t.length-e&&qt(),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return 0===bb.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof bb?t.forEach(i=>{e.push(i)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const a=t.get(r),u=e.get(r);if(a<u)return-1;if(a>u)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class Un extends bb{construct(t,e,i){return new Un(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new Ct(ot.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter(r=>r.length>0))}return new Un(e)}static emptyPath(){return new Un([])}}const zz=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yi extends bb{construct(t,e,i){return new Yi(t,e,i)}static isValidIdentifier(t){return zz.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yi.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Yi(["__name__"])}static fromServerFormat(t){const e=[];let i="",r=0;const a=()=>{if(0===i.length)throw new Ct(ot.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let u=!1;for(;r<t.length;){const h=t[r];if("\\"===h){if(r+1===t.length)throw new Ct(ot.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[r+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new Ct(ot.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=_,r+=2}else"`"===h?(u=!u,r++):"."!==h||u?(i+=h,r++):(a(),r++)}if(a(),u)throw new Ct(ot.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Yi(e)}static emptyPath(){return new Yi([])}}class Lt{constructor(t){this.path=t}static fromPath(t){return new Lt(Un.fromString(t))}static fromName(t){return new Lt(Un.fromString(t).popFirst(5))}static empty(){return new Lt(Un.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===Un.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return Un.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Lt(new Un(t.slice()))}}class TE{constructor(t,e,i,r){this.indexId=t,this.collectionGroup=e,this.fields=i,this.indexState=r}}function UI(n){return n.fields.find(t=>2===t.kind)}function ip(n){return n.fields.filter(t=>2!==t.kind)}TE.UNKNOWN_ID=-1;class xE{constructor(t,e){this.fieldPath=t,this.kind=e}}class wb{constructor(t,e){this.sequenceNumber=t,this.offset=e}static empty(){return new wb(0,Yo.min())}}function hN(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=mn.fromTimestamp(1e9===i?new Ri(e+1,0):new Ri(e,i));return new Yo(r,Lt.empty(),t)}function fN(n){return new Yo(n.readTime,n.key,-1)}class Yo{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Yo(mn.min(),Lt.empty(),-1)}static max(){return new Yo(mn.max(),Lt.empty(),-1)}}function jI(n,t){let e=n.readTime.compareTo(t.readTime);return 0!==e?e:(e=Lt.comparator(n.documentKey,t.documentKey),0!==e?e:An(n.largestBatchId,t.largestBatchId))}const pN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}function nh(n){return HI.apply(this,arguments)}function HI(){return HI=(0,ut.Z)(function*(n){if(n.code!==ot.FAILED_PRECONDITION||n.message!==pN)throw n;St("LocalStore","Unexpectedly lost primary lease")}),HI.apply(this,arguments)}class et{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&qt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new et((i,r)=>{this.nextCallback=a=>{this.wrapSuccess(t,a).next(i,r)},this.catchCallback=a=>{this.wrapFailure(e,a).next(i,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof et?e:et.resolve(e)}catch(e){return et.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):et.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):et.reject(e)}static resolve(t){return new et((e,i)=>{e(t)})}static reject(t){return new et((e,i)=>{i(t)})}static waitFor(t){return new et((e,i)=>{let r=0,a=0,u=!1;t.forEach(h=>{++r,h.next(()=>{++a,u&&a===r&&e()},_=>i(_))}),u=!0,a===r&&e()})}static or(t){let e=et.resolve(!1);for(const i of t)e=e.next(r=>r?et.resolve(r):i());return e}static forEach(t,e){const i=[];return t.forEach((r,a)=>{i.push(e.call(this,r,a))}),this.waitFor(i)}static mapArray(t,e){return new et((i,r)=>{const a=t.length,u=new Array(a);let h=0;for(let _=0;_<a;_++){const w=_;e(t[w]).next(M=>{u[w]=M,++h,h===a&&i(u)},M=>r(M))}})}static doWhile(t,e){return new et((i,r)=>{const a=()=>{!0===t()?e().next(()=>{a()},r):i()};a()})}}class ME{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.T=new Or,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{e.error?this.T.reject(new Cb(t,e.error)):this.T.resolve()},this.transaction.onerror=i=>{const r=GI(i.target.error);this.T.reject(new Cb(t,r))}}static open(t,e,i,r){try{return new ME(e,t.transaction(r,i))}catch(a){throw new Cb(e,a)}}get A(){return this.T.promise}abort(t){t&&this.T.reject(t),this.aborted||(St("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const t=this.transaction;this.aborted||"function"!=typeof t.commit||t.commit()}store(t){const e=this.transaction.objectStore(t);return new Yz(e)}}class Ol{constructor(t,e,i){this.name=t,this.version=e,this.P=i,12.2===Ol.v((0,In.z$)())&&nr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return St("SimpleDb","Removing database:",t),rp(window.indexedDB.deleteDatabase(t)).toPromise()}static V(){if(!(0,In.hl)())return!1;if(Ol.S())return!0;const t=(0,In.z$)(),e=Ol.v(t),i=0<e&&e<10,r=Ol.D(t),a=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||i||a)}static S(){var t;return typeof process<"u"&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.C)}static N(t,e){return t.store(e)}static v(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(i)}static D(t){const e=t.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}k(t){var e=this;return(0,ut.Z)(function*(){return e.db||(St("SimpleDb","Opening database:",e.name),e.db=yield new Promise((i,r)=>{const a=indexedDB.open(e.name,e.version);a.onsuccess=u=>{i(u.target.result)},a.onblocked=()=>{r(new Cb(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const h=u.target.error;r("VersionError"===h.name?new Ct(ot.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Ct(ot.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Cb(t,h))},a.onupgradeneeded=u=>{St("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',u.oldVersion),e.P.M(u.target.result,a.transaction,u.oldVersion,e.version).next(()=>{St("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.O&&(e.db.onversionchange=i=>e.O(i)),e.db})()}F(t){this.O=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,i,r){var a=this;return(0,ut.Z)(function*(){const u="readonly"===e;let h=0;for(;;){++h;try{a.db=yield a.k(t);const _=ME.open(a.db,t,u?"readonly":"readwrite",i),w=r(_).next(M=>(_.R(),M)).catch(M=>(_.abort(M),et.reject(M))).toPromise();return w.catch(()=>{}),yield _.A,w}catch(_){const w=_,M="FirebaseError"!==w.name&&h<3;if(St("SimpleDb","Transaction failed with error:",w.message,"Retrying:",M),a.close(),!M)return Promise.reject(w)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class qz{constructor(t){this.$=t,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(t){this.$=t}done(){this.B=!0}q(t){this.L=t}delete(){return rp(this.$.delete())}}class Cb extends Ct{constructor(t,e){super(ot.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function ih(n){return"IndexedDbTransactionError"===n.name}class Yz{constructor(t){this.store=t}put(t,e){let i;return void 0!==e?(St("SimpleDb","PUT",this.store.name,t,e),i=this.store.put(e,t)):(St("SimpleDb","PUT",this.store.name,"<auto-key>",t),i=this.store.put(t)),rp(i)}add(t){return St("SimpleDb","ADD",this.store.name,t,t),rp(this.store.add(t))}get(t){return rp(this.store.get(t)).next(e=>(void 0===e&&(e=null),St("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return St("SimpleDb","DELETE",this.store.name,t),rp(this.store.delete(t))}count(){return St("SimpleDb","COUNT",this.store.name),rp(this.store.count())}K(t,e){const i=this.options(t,e);if(i.index||"function"!=typeof this.store.getAll){const r=this.cursor(i),a=[];return this.G(r,(u,h)=>{a.push(h)}).next(()=>a)}{const r=this.store.getAll(i.range);return new et((a,u)=>{r.onerror=h=>{u(h.target.error)},r.onsuccess=h=>{a(h.target.result)}})}}j(t,e){const i=this.store.getAll(t,null===e?void 0:e);return new et((r,a)=>{i.onerror=u=>{a(u.target.error)},i.onsuccess=u=>{r(u.target.result)}})}W(t,e){St("SimpleDb","DELETE ALL",this.store.name);const i=this.options(t,e);i.H=!1;const r=this.cursor(i);return this.G(r,(a,u,h)=>h.delete())}J(t,e){let i;e?i=t:(i={},e=t);const r=this.cursor(i);return this.G(r,e)}Y(t){const e=this.cursor({});return new et((i,r)=>{e.onerror=a=>{const u=GI(a.target.error);r(u)},e.onsuccess=a=>{const u=a.target.result;u?t(u.primaryKey,u.value).next(h=>{h?u.continue():i()}):i()}})}G(t,e){const i=[];return new et((r,a)=>{t.onerror=u=>{a(u.target.error)},t.onsuccess=u=>{const h=u.target.result;if(!h)return void r();const _=new qz(h),w=e(h.primaryKey,h.value,_);if(w instanceof et){const M=w.catch(j=>(_.done(),et.reject(j)));i.push(M)}_.isDone?r():null===_.U?h.continue():h.continue(_.U)}}).next(()=>et.waitFor(i))}options(t,e){let i;return void 0!==t&&("string"==typeof t?i=t:e=t),{index:i,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const i=this.store.index(t.index);return t.H?i.openKeyCursor(t.range,e):i.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function rp(n){return new et((t,e)=>{n.onsuccess=i=>{t(i.target.result)},n.onerror=i=>{const r=GI(i.target.error);e(r)}})}let gN=!1;function GI(n){const t=Ol.v((0,In.z$)());if(t>=12.2&&t<13){const e="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(e)>=0){const i=new Ct("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return gN||(gN=!0,setTimeout(()=>{throw i},0)),i}}return n}class Kz{constructor(t,e){this.asyncQueue=t,this.X=e,this.task=null}start(){this.Z(15)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(t){var e=this;St("IndexBackiller",`Scheduled in ${t}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",t,(0,ut.Z)(function*(){e.task=null;try{St("IndexBackiller",`Documents written: ${yield e.X.tt()}`)}catch(i){ih(i)?St("IndexBackiller","Ignoring IndexedDB error during index backfill: ",i):yield nh(i)}yield e.Z(1)}))}}class Zz{constructor(t,e){this.localStore=t,this.persistence=e}tt(t=50){var e=this;return(0,ut.Z)(function*(){return e.persistence.runTransaction("Backfill Indexes","readwrite-primary",i=>e.et(i,t))})()}et(t,e){const i=new Set;let r=e,a=!0;return et.doWhile(()=>!0===a&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(t).next(u=>{if(null!==u&&!i.has(u))return St("IndexBackiller",`Processing collection: ${u}`),this.nt(t,u,r).next(h=>{r-=h,i.add(u)});a=!1})).next(()=>e-r)}nt(t,e,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(t,e).next(r=>this.localStore.localDocuments.getNextDocuments(t,e,r,i).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(t,u).next(()=>this.st(r,a)).next(h=>(St("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(t,e,h))).next(()=>u.size)}))}st(t,e){let i=t;return e.changes.forEach((r,a)=>{const u=fN(a);jI(u,i)>0&&(i=u)}),new Yo(i.readTime,i.documentKey,Math.max(e.batchId,t.largestBatchId))}}class uo{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.it(i),this.rt=i=>e.writeSequenceNumber(i))}it(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.rt&&this.rt(t),t}}function _N(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function sp(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function yN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}uo.ot=-1;class Ki{constructor(t,e){this.comparator=t,this.root=e||ns.EMPTY}insert(t,e){return new Ki(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,ns.BLACK,null,null))}remove(t){return new Ki(this.comparator,this.root.remove(t,this.comparator).copy(null,null,ns.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(0===i)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(0===r)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,i)=>(t(e,i),!1))}toString(){const t=[];return this.inorderTraversal((e,i)=>(t.push(`${e}:${i}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new IE(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new IE(this.root,t,this.comparator,!1)}getReverseIterator(){return new IE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new IE(this.root,t,this.comparator,!0)}}class IE{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let a=1;for(;!t.isEmpty();)if(a=e?i(t.key,e):1,e&&r&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class ns{constructor(t,e,i,r,a){this.key=t,this.value=e,this.color=i??ns.RED,this.left=r??ns.EMPTY,this.right=a??ns.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,a){return new ns(t??this.key,e??this.value,i??this.color,r??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const a=i(t,r.key);return r=a<0?r.copy(null,null,null,r.left.insert(t,e,i),null):0===a?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ns.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return ns.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,ns.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,ns.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qt();const t=this.left.check();if(t!==this.right.check())throw qt();return t+(this.isRed()?0:1)}}ns.EMPTY=null,ns.RED=!0,ns.BLACK=!1,ns.EMPTY=new class{constructor(){this.size=0}get key(){throw qt()}get value(){throw qt()}get color(){throw qt()}get left(){throw qt()}get right(){throw qt()}copy(n,t,e,i,r){return this}insert(n,t,e){return new ns(n,t)}remove(n,t){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ui{constructor(t){this.comparator=t,this.data=new Ki(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,i)=>(t(e),!1))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new vN(this.data.getIterator())}getIteratorFrom(t){return new vN(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(i=>{e=e.add(i)}),e}isEqual(t){if(!(t instanceof ui)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(0!==this.comparator(r,a))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new ui(this.comparator);return e.data=t,e}}class vN{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function $g(n){return n.hasNext()?n.getNext():void 0}class Ko{constructor(t){this.fields=t,t.sort(Yi.comparator)}static empty(){return new Ko([])}unionWith(t){let e=new ui(Yi.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ko(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return zg(this.fields,t.fields,(e,i)=>e.isEqual(i))}}class gr{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new gr(e)}static fromUint8Array(t){const e=function(i){let r="";for(let a=0;a<i.length;++a)r+=String.fromCharCode(i[a]);return r}(t);return new gr(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let i=0;i<t.length;i++)e[i]=t.charCodeAt(i);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return An(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}gr.EMPTY_BYTE_STRING=new gr("");const Xz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rh(n){if(vn(!!n),"string"==typeof n){let t=0;const e=Xz.exec(n);if(vn(!!e),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Zi(n.seconds),nanos:Zi(n.nanos)}}function Zi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function op(n){return"string"==typeof n?gr.fromBase64String(n):gr.fromUint8Array(n)}function zI(n){var t,e;return"server_timestamp"===(null===(e=((null===(t=n?.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===e?void 0:e.stringValue)}function bN(n){const t=n.mapValue.fields.__previous_value__;return zI(t)?bN(t):t}function Db(n){const t=rh(n.mapValue.fields.__local_write_time__.timestampValue);return new Ri(t.seconds,t.nanos)}class Jz{constructor(t,e,i,r,a,u,h,_){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=_}}class $u{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new $u("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof $u&&t.projectId===this.projectId&&t.database===this.database}}function Eb(n){return null==n}function Ab(n){return 0===n&&1/n==-1/0}function wN(n){return"number"==typeof n&&Number.isInteger(n)&&!Ab(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const sh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},PE={nullValue:"NULL_VALUE"};function ap(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?zI(n)?4:AN(n)?9007199254740991:10:qt()}function Pc(n,t){if(n===t)return!0;const e=ap(n);if(e!==ap(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Db(n).isEqual(Db(t));case 3:return function(i,r){if("string"==typeof i.timestampValue&&"string"==typeof r.timestampValue&&i.timestampValue.length===r.timestampValue.length)return i.timestampValue===r.timestampValue;const a=rh(i.timestampValue),u=rh(r.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return r=t,op(n.bytesValue).isEqual(op(r.bytesValue));case 7:return n.referenceValue===t.referenceValue;case 8:return function(i,r){return Zi(i.geoPointValue.latitude)===Zi(r.geoPointValue.latitude)&&Zi(i.geoPointValue.longitude)===Zi(r.geoPointValue.longitude)}(n,t);case 2:return function(i,r){if("integerValue"in i&&"integerValue"in r)return Zi(i.integerValue)===Zi(r.integerValue);if("doubleValue"in i&&"doubleValue"in r){const a=Zi(i.doubleValue),u=Zi(r.doubleValue);return a===u?Ab(a)===Ab(u):isNaN(a)&&isNaN(u)}return!1}(n,t);case 9:return zg(n.arrayValue.values||[],t.arrayValue.values||[],Pc);case 10:return function(i,r){const a=i.mapValue.fields||{},u=r.mapValue.fields||{};if(_N(a)!==_N(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===u[h]||!Pc(a[h],u[h])))return!1;return!0}(n,t);default:return qt()}var r}function Sb(n,t){return void 0!==(n.values||[]).find(e=>Pc(e,t))}function oh(n,t){if(n===t)return 0;const e=ap(n),i=ap(t);if(e!==i)return An(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return An(n.booleanValue,t.booleanValue);case 2:return function(r,a){const u=Zi(r.integerValue||r.doubleValue),h=Zi(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,t);case 3:return CN(n.timestampValue,t.timestampValue);case 4:return CN(Db(n),Db(t));case 5:return An(n.stringValue,t.stringValue);case 6:return function(r,a){const u=op(r),h=op(a);return u.compareTo(h)}(n.bytesValue,t.bytesValue);case 7:return function(r,a){const u=r.split("/"),h=a.split("/");for(let _=0;_<u.length&&_<h.length;_++){const w=An(u[_],h[_]);if(0!==w)return w}return An(u.length,h.length)}(n.referenceValue,t.referenceValue);case 8:return function(r,a){const u=An(Zi(r.latitude),Zi(a.latitude));return 0!==u?u:An(Zi(r.longitude),Zi(a.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(r,a){const u=r.values||[],h=a.values||[];for(let _=0;_<u.length&&_<h.length;++_){const w=oh(u[_],h[_]);if(w)return w}return An(u.length,h.length)}(n.arrayValue,t.arrayValue);case 10:return function(r,a){if(r===sh.mapValue&&a===sh.mapValue)return 0;if(r===sh.mapValue)return 1;if(a===sh.mapValue)return-1;const u=r.fields||{},h=Object.keys(u),_=a.fields||{},w=Object.keys(_);h.sort(),w.sort();for(let M=0;M<h.length&&M<w.length;++M){const j=An(h[M],w[M]);if(0!==j)return j;const Ce=oh(u[h[M]],_[w[M]]);if(0!==Ce)return Ce}return An(h.length,w.length)}(n.mapValue,t.mapValue);default:throw qt()}}function CN(n,t){if("string"==typeof n&&"string"==typeof t&&n.length===t.length)return An(n,t);const e=rh(n),i=rh(t),r=An(e.seconds,i.seconds);return 0!==r?r:An(e.nanos,i.nanos)}function Wg(n){return $I(n)}function $I(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(i){const r=rh(i);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?op(n.bytesValue).toBase64():"referenceValue"in n?Lt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(t=n.geoPointValue).latitude},${t.longitude})`:"arrayValue"in n?function(i){let r="[",a=!0;for(const u of i.values||[])a?a=!1:r+=",",r+=$I(u);return r+"]"}(n.arrayValue):"mapValue"in n?function(i){const r=Object.keys(i.fields||{}).sort();let a="{",u=!0;for(const h of r)u?u=!1:a+=",",a+=`${h}:${$I(i.fields[h])}`;return a+"}"}(n.mapValue):qt();var t}function lp(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function WI(n){return!!n&&"integerValue"in n}function Tb(n){return!!n&&"arrayValue"in n}function DN(n){return!!n&&"nullValue"in n}function EN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function kE(n){return!!n&&"mapValue"in n}function xb(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return sp(n.mapValue.fields,(e,i)=>t.mapValue.fields[e]=xb(i)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=xb(n.arrayValue.values[e]);return t}return Object.assign({},n)}function AN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function e$(n){return"nullValue"in n?PE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?lp($u.empty(),Lt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:qt()}function t$(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?lp($u.empty(),Lt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?sh:qt()}function SN(n,t){const e=oh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?-1:!n.inclusive&&t.inclusive?1:0}function TN(n,t){const e=oh(n.value,t.value);return 0!==e?e:n.inclusive&&!t.inclusive?1:!n.inclusive&&t.inclusive?-1:0}class is{constructor(t){this.value=t}static empty(){return new is({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!kE(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=xb(e)}setAll(t){let e=Yi.emptyPath(),i={},r=[];t.forEach((u,h)=>{if(!e.isImmediateParentOf(h)){const _=this.getFieldsMap(e);this.applyChanges(_,i,r),i={},r=[],e=h.popLast()}u?i[h.lastSegment()]=xb(u):r.push(h.lastSegment())});const a=this.getFieldsMap(e);this.applyChanges(a,i,r)}delete(t){const e=this.field(t.popLast());kE(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Pc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];kE(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){sp(e,(r,a)=>t[r]=a);for(const r of i)delete t[r]}clone(){return new is(xb(this.value))}}function xN(n){const t=[];return sp(n.fields,(e,i)=>{const r=new Yi([e]);if(kE(i)){const a=xN(i.mapValue).fields;if(0===a.length)t.push(r);else for(const u of a)t.push(r.child(u))}else t.push(r)}),new Ko(t)}class _i{constructor(t,e,i,r,a,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.data=a,this.documentState=u}static newInvalidDocument(t){return new _i(t,0,mn.min(),mn.min(),is.empty(),0)}static newFoundDocument(t,e,i){return new _i(t,1,e,mn.min(),i,0)}static newNoDocument(t,e){return new _i(t,2,e,mn.min(),is.empty(),0)}static newUnknownDocument(t,e){return new _i(t,3,e,mn.min(),is.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=is.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=is.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=mn.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof _i&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new _i(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class n${constructor(t,e=null,i=[],r=[],a=null,u=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=a,this.startAt=u,this.endAt=h,this.ut=null}}function MN(n,t=null,e=[],i=[],r=null,a=null,u=null){return new n$(n,t,e,i,r,a,u)}function cp(n){const t=Vt(n);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(i=>{return(r=i).field.canonicalString()+r.op.toString()+Wg(r.value);var r}).join(","),e+="|ob:",e+=t.orderBy.map(i=>{return(r=i).field.canonicalString()+r.dir;var r}).join(","),Eb(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(i=>Wg(i)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(i=>Wg(i)).join(",")),t.ut=e}return t.ut}function Mb(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!d$(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if((e=n.filters[r]).op!==(i=t.filters[r]).op||!e.field.isEqual(i.field)||!Pc(e.value,i.value))return!1;var e,i;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!ON(n.startAt,t.startAt)&&ON(n.endAt,t.endAt)}function RE(n){return Lt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function OE(n,t){return n.filters.filter(e=>e instanceof rs&&e.field.isEqual(t))}function IN(n,t,e){let i=PE,r=!0;for(const a of OE(n,t)){let u=PE,h=!0;switch(a.op){case"<":case"<=":u=e$(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,h=!1;break;case"!=":case"not-in":u=PE}SN({value:i,inclusive:r},{value:u,inclusive:h})<0&&(i=u,r=h)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const u=e.position[a];SN({value:i,inclusive:r},{value:u,inclusive:e.inclusive})<0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}function PN(n,t,e){let i=sh,r=!0;for(const a of OE(n,t)){let u=sh,h=!0;switch(a.op){case">=":case">":u=t$(a.value),h=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,h=!1;break;case"!=":case"not-in":u=sh}TN({value:i,inclusive:r},{value:u,inclusive:h})>0&&(i=u,r=h)}if(null!==e)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(t)){const u=e.position[a];TN({value:i,inclusive:r},{value:u,inclusive:e.inclusive})>0&&(i=u,r=e.inclusive);break}return{value:i,inclusive:r}}class rs extends class{}{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?"in"===e||"not-in"===e?this.ct(t,e,i):new r$(t,e,i):"array-contains"===e?new a$(t,i):"in"===e?new l$(t,i):"not-in"===e?new c$(t,i):"array-contains-any"===e?new u$(t,i):new rs(t,e,i)}static ct(t,e,i){return"in"===e?new s$(t,i):new o$(t,i)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.at(oh(e,this.value)):null!==e&&ap(this.value)===ap(e)&&this.at(oh(e,this.value))}at(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return qt()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class r$ extends rs{constructor(t,e,i){super(t,e,i),this.key=Lt.fromName(i.referenceValue)}matches(t){const e=Lt.comparator(t.key,this.key);return this.at(e)}}class s$ extends rs{constructor(t,e){super(t,"in",e),this.keys=kN(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class o$ extends rs{constructor(t,e){super(t,"not-in",e),this.keys=kN(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function kN(n,t){var e;return((null===(e=t.arrayValue)||void 0===e?void 0:e.values)||[]).map(i=>Lt.fromName(i.referenceValue))}class a$ extends rs{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Tb(e)&&Sb(e.arrayValue,this.value)}}class l$ extends rs{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Sb(this.value.arrayValue,e)}}class c$ extends rs{constructor(t,e){super(t,"not-in",e)}matches(t){if(Sb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Sb(this.value.arrayValue,e)}}class u$ extends rs{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Tb(e)||!e.arrayValue.values)&&e.arrayValue.values.some(i=>Sb(this.value.arrayValue,i))}}class ah{constructor(t,e){this.position=t,this.inclusive=e}}class qg{constructor(t,e="asc"){this.field=t,this.dir=e}}function d$(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}function RN(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const a=t[r],u=n.position[r];if(i=a.field.isKeyField()?Lt.comparator(Lt.fromName(u.referenceValue),e.key):oh(u,e.data.field(a.field)),"desc"===a.dir&&(i*=-1),0!==i)break}return i}function ON(n,t){if(null===n)return null===t;if(null===t||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Pc(n.position[e],t.position[e]))return!1;return!0}class Wu{constructor(t,e=null,i=[],r=[],a=null,u="F",h=null,_=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=_,this.lt=null,this.ft=null}}function FN(n,t,e,i,r,a,u,h){return new Wu(n,t,e,i,r,a,u,h)}function Yg(n){return new Wu(n)}function LN(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function qI(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function YI(n){for(const t of n.filters)if(t.ht())return t.field;return null}function KI(n){return null!==n.collectionGroup}function Kg(n){const t=Vt(n);if(null===t.lt){t.lt=[];const e=YI(t),i=qI(t);if(null!==e&&null===i)e.isKeyField()||t.lt.push(new qg(e)),t.lt.push(new qg(Yi.keyField(),"asc"));else{let r=!1;for(const a of t.explicitOrderBy)t.lt.push(a),a.field.isKeyField()&&(r=!0);if(!r){const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new qg(Yi.keyField(),a))}}}return t.lt}function ho(n){const t=Vt(n);if(!t.ft)if("F"===t.limitType)t.ft=MN(t.path,t.collectionGroup,Kg(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const a of Kg(t))e.push(new qg(a.field,"desc"===a.dir?"asc":"desc"));const i=t.endAt?new ah(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ah(t.startAt.position,t.startAt.inclusive):null;t.ft=MN(t.path,t.collectionGroup,e,t.filters,t.limit,i,r)}return t.ft}function FE(n,t,e){return new Wu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Ib(n,t){return Mb(ho(n),ho(t))&&n.limitType===t.limitType}function NN(n){return`${cp(ho(n))}|lt:${n.limitType}`}function ZI(n){return`Query(target=${function i$(n){let t=n.path.canonicalString();return null!==n.collectionGroup&&(t+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(t+=`, filters: [${n.filters.map(e=>{return`${(i=e).field.canonicalString()} ${i.op} ${Wg(i.value)}`;var i}).join(", ")}]`),Eb(n.limit)||(t+=", limit: "+n.limit),n.orderBy.length>0&&(t+=`, orderBy: [${n.orderBy.map(e=>{return`${(i=e).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),n.startAt&&(t+=", startAt: ",t+=n.startAt.inclusive?"b:":"a:",t+=n.startAt.position.map(e=>Wg(e)).join(",")),n.endAt&&(t+=", endAt: ",t+=n.endAt.inclusive?"a:":"b:",t+=n.endAt.position.map(e=>Wg(e)).join(",")),`Target(${t})`}(ho(n))}; limitType=${n.limitType})`}function QI(n,t){return t.isFoundDocument()&&function(e,i){const r=i.key.path;return null!==e.collectionGroup?i.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(r):Lt.isDocumentKey(e.path)?e.path.isEqual(r):e.path.isImmediateParentOf(r)}(n,t)&&function(e,i){for(const r of e.explicitOrderBy)if(!r.field.isKeyField()&&null===i.data.field(r.field))return!1;return!0}(n,t)&&function(e,i){for(const r of e.filters)if(!r.matches(i))return!1;return!0}(n,t)&&(i=t,!((e=n).startAt&&!function(r,a,u){const h=RN(r,a,u);return r.inclusive?h<=0:h<0}(e.startAt,Kg(e),i)||e.endAt&&!function(r,a,u){const h=RN(r,a,u);return r.inclusive?h>=0:h>0}(e.endAt,Kg(e),i)));var e,i}function VN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function BN(n){return(t,e)=>{let i=!1;for(const r of Kg(n)){const a=h$(r,t,e);if(0!==a)return a;i=i||r.field.isKeyField()}return 0}}function h$(n,t,e){const i=n.field.isKeyField()?Lt.comparator(t.key,e.key):function(r,a,u){const h=a.data.field(r),_=u.data.field(r);return null!==h&&null!==_?oh(h,_):qt()}(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return qt()}}function UN(n,t){if(n.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ab(t)?"-0":t}}function jN(n){return{integerValue:""+n}}function HN(n,t){return wN(t)?jN(t):UN(n,t)}class LE{constructor(){this._=void 0}}function f$(n,t,e){return n instanceof Zg?function(i,r){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return r&&(a.fields.__previous_value__=r),{mapValue:a}}(e,t):n instanceof up?zN(n,t):n instanceof dp?$N(n,t):function(i,r){const a=GN(i,r),u=WN(a)+WN(i._t);return WI(a)&&WI(i._t)?jN(u):UN(i.wt,u)}(n,t)}function p$(n,t,e){return n instanceof up?zN(n,t):n instanceof dp?$N(n,t):e}function GN(n,t){return n instanceof Qg?WI(e=t)||(i=e)&&"doubleValue"in i?t:{integerValue:0}:null;var i,e}class Zg extends LE{}class up extends LE{constructor(t){super(),this.elements=t}}function zN(n,t){const e=qN(t);for(const i of n.elements)e.some(r=>Pc(r,i))||e.push(i);return{arrayValue:{values:e}}}class dp extends LE{constructor(t){super(),this.elements=t}}function $N(n,t){let e=qN(t);for(const i of n.elements)e=e.filter(r=>!Pc(r,i));return{arrayValue:{values:e}}}class Qg extends LE{constructor(t,e){super(),this.wt=t,this._t=e}}function WN(n){return Zi(n.integerValue||n.doubleValue)}function qN(n){return Tb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Pb{constructor(t,e){this.field=t,this.transform=e}}class g${constructor(t,e){this.version=t,this.transformResults=e}}class Ni{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Ni}static exists(t){return new Ni(void 0,t)}static updateTime(t){return new Ni(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function NE(n,t){return void 0!==n.updateTime?t.isFoundDocument()&&t.version.isEqual(n.updateTime):void 0===n.exists||n.exists===t.isFoundDocument()}class VE{}function YN(n,t){if(!n.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return n.isNoDocument()?new Jg(n.key,Ni.none()):new Xg(n.key,n.data,Ni.none());{const e=n.data,i=is.empty();let r=new ui(Yi.comparator);for(let a of t.fields)if(!r.has(a)){let u=e.field(a);null===u&&a.length>1&&(a=a.popLast(),u=e.field(a)),null===u?i.delete(a):i.set(a,u),r=r.add(a)}return new qu(n.key,i,new Ko(r.toArray()),Ni.none())}}function _$(n,t,e){n instanceof Xg?function(i,r,a){const u=i.value.clone(),h=QN(i.fieldTransforms,r,a.transformResults);u.setAll(h),r.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,t,e):n instanceof qu?function(i,r,a){if(!NE(i.precondition,r))return void r.convertToUnknownDocument(a.version);const u=QN(i.fieldTransforms,r,a.transformResults),h=r.data;h.setAll(ZN(i)),h.setAll(u),r.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,t,e):t.convertToNoDocument(e.version).setHasCommittedMutations()}function kb(n,t,e,i){return n instanceof Xg?function(r,a,u,h){if(!NE(r.precondition,a))return u;const _=r.value.clone(),w=XN(r.fieldTransforms,h,a);return _.setAll(w),a.convertToFoundDocument(a.version,_).setHasLocalMutations(),null}(n,t,e,i):n instanceof qu?function(r,a,u,h){if(!NE(r.precondition,a))return u;const _=XN(r.fieldTransforms,h,a),w=a.data;return w.setAll(ZN(r)),w.setAll(_),a.convertToFoundDocument(a.version,w).setHasLocalMutations(),null===u?null:u.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(M=>M.field))}(n,t,e,i):(u=e,NE(n.precondition,a=t)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function y$(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),a=GN(i.transform,r||null);null!=a&&(null===e&&(e=is.empty()),e.set(i.field,a))}return e||null}function KN(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&(i=t.fieldTransforms,!!(void 0===(e=n.fieldTransforms)&&void 0===i||e&&i&&zg(e,i,(r,a)=>function m$(n,t){return n.field.isEqual(t.field)&&(i=t.transform,(e=n.transform)instanceof up&&i instanceof up||e instanceof dp&&i instanceof dp?zg(e.elements,i.elements,Pc):e instanceof Qg&&i instanceof Qg?Pc(e._t,i._t):e instanceof Zg&&i instanceof Zg);var e,i}(r,a))))&&(0===n.type?n.value.isEqual(t.value):1!==n.type||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask));var e,i}class Xg extends VE{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class qu extends VE{constructor(t,e,i,r,a=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function ZN(n){const t=new Map;return n.fieldMask.fields.forEach(e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}}),t}function QN(n,t,e){const i=new Map;vn(n.length===e.length);for(let r=0;r<e.length;r++){const a=n[r],u=a.transform,h=t.data.field(a.field);i.set(a.field,p$(u,h,e[r]))}return i}function XN(n,t,e){const i=new Map;for(const r of n){const a=r.transform,u=e.data.field(r.field);i.set(r.field,f$(a,u,t))}return i}class Jg extends VE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XI extends VE{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class v${constructor(t){this.count=t}}var dr,jn;function JN(n){switch(n){default:return qt();case ot.CANCELLED:case ot.UNKNOWN:case ot.DEADLINE_EXCEEDED:case ot.RESOURCE_EXHAUSTED:case ot.INTERNAL:case ot.UNAVAILABLE:case ot.UNAUTHENTICATED:return!1;case ot.INVALID_ARGUMENT:case ot.NOT_FOUND:case ot.ALREADY_EXISTS:case ot.PERMISSION_DENIED:case ot.FAILED_PRECONDITION:case ot.ABORTED:case ot.OUT_OF_RANGE:case ot.UNIMPLEMENTED:case ot.DATA_LOSS:return!0}}function eV(n){if(void 0===n)return nr("GRPC error has no .code"),ot.UNKNOWN;switch(n){case dr.OK:return ot.OK;case dr.CANCELLED:return ot.CANCELLED;case dr.UNKNOWN:return ot.UNKNOWN;case dr.DEADLINE_EXCEEDED:return ot.DEADLINE_EXCEEDED;case dr.RESOURCE_EXHAUSTED:return ot.RESOURCE_EXHAUSTED;case dr.INTERNAL:return ot.INTERNAL;case dr.UNAVAILABLE:return ot.UNAVAILABLE;case dr.UNAUTHENTICATED:return ot.UNAUTHENTICATED;case dr.INVALID_ARGUMENT:return ot.INVALID_ARGUMENT;case dr.NOT_FOUND:return ot.NOT_FOUND;case dr.ALREADY_EXISTS:return ot.ALREADY_EXISTS;case dr.PERMISSION_DENIED:return ot.PERMISSION_DENIED;case dr.FAILED_PRECONDITION:return ot.FAILED_PRECONDITION;case dr.ABORTED:return ot.ABORTED;case dr.OUT_OF_RANGE:return ot.OUT_OF_RANGE;case dr.UNIMPLEMENTED:return ot.UNIMPLEMENTED;case dr.DATA_LOSS:return ot.DATA_LOSS;default:return qt()}}(jn=dr||(dr={}))[jn.OK=0]="OK",jn[jn.CANCELLED=1]="CANCELLED",jn[jn.UNKNOWN=2]="UNKNOWN",jn[jn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jn[jn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jn[jn.NOT_FOUND=5]="NOT_FOUND",jn[jn.ALREADY_EXISTS=6]="ALREADY_EXISTS",jn[jn.PERMISSION_DENIED=7]="PERMISSION_DENIED",jn[jn.UNAUTHENTICATED=16]="UNAUTHENTICATED",jn[jn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jn[jn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jn[jn.ABORTED=10]="ABORTED",jn[jn.OUT_OF_RANGE=11]="OUT_OF_RANGE",jn[jn.UNIMPLEMENTED=12]="UNIMPLEMENTED",jn[jn.INTERNAL=13]="INTERNAL",jn[jn.UNAVAILABLE=14]="UNAVAILABLE",jn[jn.DATA_LOSS=15]="DATA_LOSS";class lh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0!==i)for(const[r,a]of i)if(this.equalsFn(r,t))return a}has(t){return void 0!==this.get(t)}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(void 0===r)return this.inner[i]=[[t,e]],void this.innerSize++;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],t))return void(r[a]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return 1===i.length?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){sp(this.inner,(e,i)=>{for(const[r,a]of i)t(r,a)})}isEmpty(){return yN(this.inner)}size(){return this.innerSize}}const b$=new Ki(Lt.comparator);function fo(){return b$}const tV=new Ki(Lt.comparator);function Rb(...n){let t=tV;for(const e of n)t=t.insert(e.key,e);return t}function nV(n){let t=tV;return n.forEach((e,i)=>t=t.insert(e,i.overlayedDocument)),t}function kc(){return Ob()}function iV(){return Ob()}function Ob(){return new lh(n=>n.toString(),(n,t)=>n.isEqual(t))}const w$=new Ki(Lt.comparator),C$=new ui(Lt.comparator);function Tn(...n){let t=C$;for(const e of n)t=t.add(e);return t}const D$=new ui(An);function BE(){return D$}class Fb{constructor(t,e,i,r,a){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(t,e){const i=new Map;return i.set(t,Lb.createSynthesizedTargetChangeForCurrentChange(t,e)),new Fb(mn.min(),i,BE(),fo(),Tn())}}class Lb{constructor(t,e,i,r,a){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Lb(gr.EMPTY_BYTE_STRING,e,Tn(),Tn(),Tn())}}class UE{constructor(t,e,i,r){this.gt=t,this.removedTargetIds=e,this.key=i,this.yt=r}}class rV{constructor(t,e){this.targetId=t,this.It=e}}class sV{constructor(t,e,i=gr.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class oV{constructor(){this.Tt=0,this.Et=lV(),this.At=gr.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(t){t.approximateByteSize()>0&&(this.bt=!0,this.At=t)}St(){let t=Tn(),e=Tn(),i=Tn();return this.Et.forEach((r,a)=>{switch(a){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:qt()}}),new Lb(this.At,this.Rt,t,e,i)}Dt(){this.bt=!1,this.Et=lV()}Ct(t,e){this.bt=!0,this.Et=this.Et.insert(t,e)}xt(t){this.bt=!0,this.Et=this.Et.remove(t)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Mt(){this.bt=!0,this.Rt=!0}}class E${constructor(t){this.Ot=t,this.Ft=new Map,this.$t=fo(),this.Bt=aV(),this.Lt=new ui(An)}Ut(t){for(const e of t.gt)t.yt&&t.yt.isFoundDocument()?this.qt(e,t.yt):this.Kt(e,t.key,t.yt);for(const e of t.removedTargetIds)this.Kt(e,t.key,t.yt)}Gt(t){this.forEachTarget(t,e=>{const i=this.Qt(e);switch(t.state){case 0:this.jt(e)&&i.Vt(t.resumeToken);break;case 1:i.kt(),i.Pt||i.Dt(),i.Vt(t.resumeToken);break;case 2:i.kt(),i.Pt||this.removeTarget(e);break;case 3:this.jt(e)&&(i.Mt(),i.Vt(t.resumeToken));break;case 4:this.jt(e)&&(this.Wt(e),i.Vt(t.resumeToken));break;default:qt()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Ft.forEach((i,r)=>{this.jt(r)&&e(r)})}zt(t){const e=t.targetId,i=t.It.count,r=this.Ht(e);if(r){const a=r.target;if(RE(a))if(0===i){const u=new Lt(a.path);this.Kt(e,u,_i.newNoDocument(u,mn.min()))}else vn(1===i);else this.Jt(e)!==i&&(this.Wt(e),this.Lt=this.Lt.add(e))}}Yt(t){const e=new Map;this.Ft.forEach((a,u)=>{const h=this.Ht(u);if(h){if(a.current&&RE(h.target)){const _=new Lt(h.target.path);null!==this.$t.get(_)||this.Xt(u,_)||this.Kt(u,_,_i.newNoDocument(_,t))}a.vt&&(e.set(u,a.St()),a.Dt())}});let i=Tn();this.Bt.forEach((a,u)=>{let h=!0;u.forEachWhile(_=>{const w=this.Ht(_);return!w||2===w.purpose||(h=!1,!1)}),h&&(i=i.add(a))}),this.$t.forEach((a,u)=>u.setReadTime(t));const r=new Fb(t,e,this.Lt,this.$t,i);return this.$t=fo(),this.Bt=aV(),this.Lt=new ui(An),r}qt(t,e){if(!this.jt(t))return;const i=this.Xt(t,e.key)?2:0;this.Qt(t).Ct(e.key,i),this.$t=this.$t.insert(e.key,e),this.Bt=this.Bt.insert(e.key,this.Zt(e.key).add(t))}Kt(t,e,i){if(!this.jt(t))return;const r=this.Qt(t);this.Xt(t,e)?r.Ct(e,1):r.xt(e),this.Bt=this.Bt.insert(e,this.Zt(e).delete(t)),i&&(this.$t=this.$t.insert(e,i))}removeTarget(t){this.Ft.delete(t)}Jt(t){const e=this.Qt(t).St();return this.Ot.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Nt(t){this.Qt(t).Nt()}Qt(t){let e=this.Ft.get(t);return e||(e=new oV,this.Ft.set(t,e)),e}Zt(t){let e=this.Bt.get(t);return e||(e=new ui(An),this.Bt=this.Bt.insert(t,e)),e}jt(t){const e=null!==this.Ht(t);return e||St("WatchChangeAggregator","Detected inactive target",t),e}Ht(t){const e=this.Ft.get(t);return e&&e.Pt?null:this.Ot.te(t)}Wt(t){this.Ft.set(t,new oV),this.Ot.getRemoteKeysForTarget(t).forEach(e=>{this.Kt(t,e,null)})}Xt(t,e){return this.Ot.getRemoteKeysForTarget(t).has(e)}}function aV(){return new Ki(Lt.comparator)}function lV(){return new Ki(Lt.comparator)}const A$={asc:"ASCENDING",desc:"DESCENDING"},S$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class T${constructor(t,e){this.databaseId=t,this.dt=e}}function Nb(n,t){return n.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function cV(n,t){return n.dt?t.toBase64():t.toUint8Array()}function x$(n,t){return Nb(n,t.toTimestamp())}function Fr(n){return vn(!!n),mn.fromTimestamp(function(t){const e=rh(t);return new Ri(e.seconds,e.nanos)}(n))}function JI(n,t){return(e=n,new Un(["projects",e.projectId,"databases",e.database])).child("documents").child(t).canonicalString();var e}function uV(n){const t=Un.fromString(n);return vn(vV(t)),t}function Vb(n,t){return JI(n.databaseId,t.path)}function Rc(n,t){const e=uV(t);if(e.get(1)!==n.databaseId.projectId)throw new Ct(ot.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new Ct(ot.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Lt(hV(e))}function eP(n,t){return JI(n.databaseId,t)}function dV(n){const t=uV(n);return 4===t.length?Un.emptyPath():hV(t)}function Bb(n){return new Un(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function hV(n){return vn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function fV(n,t,e){return{name:Vb(n,t),fields:e.value.mapValue.fields}}function pV(n,t,e){const i=Rc(n,t.name),r=Fr(t.updateTime),a=new is({mapValue:{fields:t.fields}}),u=_i.newFoundDocument(i,r,a);return e&&u.setHasCommittedMutations(),e?u.setHasCommittedMutations():u}function Ub(n,t){let e;if(t instanceof Xg)e={update:fV(n,t.key,t.value)};else if(t instanceof Jg)e={delete:Vb(n,t.key)};else if(t instanceof qu)e={update:fV(n,t.key,t.data),updateMask:N$(t.fieldMask)};else{if(!(t instanceof XI))return qt();e={verify:Vb(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map(i=>function(r,a){const u=a.transform;if(u instanceof Zg)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof up)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof dp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Qg)return{fieldPath:a.field.canonicalString(),increment:u._t};throw qt()}(0,i))),t.precondition.isNone||(e.currentDocument=void 0!==(r=t.precondition).updateTime?{updateTime:x$(n,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:qt()),e;var r}function tP(n,t){const e=t.currentDocument?void 0!==(r=t.currentDocument).updateTime?Ni.updateTime(Fr(r.updateTime)):void 0!==r.exists?Ni.exists(r.exists):Ni.none():Ni.none(),i=t.updateTransforms?t.updateTransforms.map(r=>function(a,u){let h=null;"setToServerValue"in u?(vn("REQUEST_TIME"===u.setToServerValue),h=new Zg):"appendMissingElements"in u?h=new up(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new dp(u.removeAllFromArray.values||[]):"increment"in u?h=new Qg(a,u.increment):qt();const _=Yi.fromServerFormat(u.fieldPath);return new Pb(_,h)}(n,r)):[];var r;if(t.update){const r=Rc(n,t.update.name),a=new is({mapValue:{fields:t.update.fields}});if(t.updateMask){const u=new Ko((t.updateMask.fieldPaths||[]).map(w=>Yi.fromServerFormat(w)));return new qu(r,a,u,e,i)}return new Xg(r,a,e,i)}if(t.delete){const r=Rc(n,t.delete);return new Jg(r,e)}if(t.verify){const r=Rc(n,t.verify);return new XI(r,e)}return qt()}function mV(n,t){return{documents:[eP(n,t.path)]}}function gV(n,t){const e={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(e.parent=eP(n,i),e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(e.parent=eP(n,i.popLast()),e.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(_){if(0===_.length)return;const w=_.map(M=>function(j){if("=="===j.op){if(EN(j.value))return{unaryFilter:{field:e_(j.field),op:"IS_NAN"}};if(DN(j.value))return{unaryFilter:{field:e_(j.field),op:"IS_NULL"}}}else if("!="===j.op){if(EN(j.value))return{unaryFilter:{field:e_(j.field),op:"IS_NOT_NAN"}};if(DN(j.value))return{unaryFilter:{field:e_(j.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:e_(j.field),op:O$(j.op),value:j.value}}}(M));return 1===w.length?w[0]:{compositeFilter:{op:"AND",filters:w}}}(t.filters);r&&(e.structuredQuery.where=r);const a=function(_){if(0!==_.length)return _.map(w=>{return{field:e_((M=w).field),direction:R$(M.dir)};var M})}(t.orderBy);a&&(e.structuredQuery.orderBy=a);const u=(w=t.limit,n.dt||Eb(w)?w:{value:w});var w,h,_;return null!==u&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt={before:(h=t.startAt).inclusive,values:h.position}),t.endAt&&(e.structuredQuery.endAt={before:!(_=t.endAt).inclusive,values:_.position}),e}function _V(n){let t=dV(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){vn(1===i);const M=e.from[0];M.allDescendants?r=M.collectionId:t=t.child(M.collectionId)}let a=[];e.where&&(a=yV(e.where));let u=[];e.orderBy&&(u=e.orderBy.map(M=>{return new qg(t_((j=M).field),function(Ce){switch(Ce){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction));var j}));let h=null;e.limit&&(h=function(M){let j;return j="object"==typeof M?M.value:M,Eb(j)?null:j}(e.limit));let _=null;var M;e.startAt&&(_=new ah((M=e.startAt).values||[],!!M.before));let w=null;return e.endAt&&(w=function(M){return new ah(M.values||[],!M.before)}(e.endAt)),FN(t,r,u,a,h,"F",_,w)}function yV(n){return n?void 0!==n.unaryFilter?[L$(n)]:void 0!==n.fieldFilter?[F$(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(t=>yV(t)).reduce((t,e)=>t.concat(e)):qt():[]}function R$(n){return A$[n]}function O$(n){return S$[n]}function e_(n){return{fieldPath:n.canonicalString()}}function t_(n){return Yi.fromServerFormat(n.fieldPath)}function F$(n){return rs.create(t_(n.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qt()}}(n.fieldFilter.op),n.fieldFilter.value)}function L$(n){switch(n.unaryFilter.op){case"IS_NAN":const t=t_(n.unaryFilter.field);return rs.create(t,"==",{doubleValue:NaN});case"IS_NULL":const e=t_(n.unaryFilter.field);return rs.create(e,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=t_(n.unaryFilter.field);return rs.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=t_(n.unaryFilter.field);return rs.create(r,"!=",{nullValue:"NULL_VALUE"});default:return qt()}}function N$(n){const t=[];return n.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function vV(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function js(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=bV(t)),t=V$(n.get(e),t);return bV(t)}function V$(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const a=n.charAt(r);switch(a){case"\0":e+="\x01\x10";break;case"\x01":e+="\x01\x11";break;default:e+=a}}return e}function bV(n){return n+"\x01\x01"}function Oc(n){const t=n.length;if(vn(t>=2),2===t)return vn("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Un.emptyPath();const e=t-2,i=[];let r="";for(let a=0;a<t;){const u=n.indexOf("\x01",a);switch((u<0||u>e)&&qt(),n.charAt(u+1)){case"\x01":const h=n.substring(a,u);let _;0===r.length?_=h:(r+=h,_=r,r=""),i.push(_);break;case"\x10":r+=n.substring(a,u),r+="\0";break;case"\x11":r+=n.substring(a,u+1);break;default:qt()}a=u+2}return new Un(i)}const wV=["userId","batchId"];function jE(n,t){return[n,js(t)]}function CV(n,t,e){return[n,js(t),e]}const B$={},U$=["prefixPath","collectionGroup","readTime","documentId"],j$=["prefixPath","collectionGroup","documentId"],H$=["collectionGroup","readTime","prefixPath","documentId"],G$=["canonicalId","targetId"],z$=["targetId","path"],$$=["path","targetId"],W$=["collectionId","parent"],q$=["indexId","uid"],Y$=["uid","sequenceNumber"],K$=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Z$=["indexId","uid","orderedDocumentKey"],Q$=["userId","collectionPath","documentId"],X$=["userId","collectionPath","largestBatchId"],J$=["userId","collectionGroup","largestBatchId"],DV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],eW=[...DV,"documentOverlays"],EV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],AV=EV,tW=[...AV,"indexConfiguration","indexState","indexEntries"];class nP extends mN{constructor(t,e){super(),this.ee=t,this.currentSequenceNumber=e}}function Lr(n,t){const e=Vt(n);return Ol.N(e.ee,t)}class iP{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const a=this.mutations[r];a.key.isEqual(t.key)&&_$(a,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=kb(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=kb(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=iV();return this.mutations.forEach(r=>{const a=t.get(r.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=e.has(r.key)?null:h;const _=YN(u,h);null!==_&&i.set(r.key,_),u.isValidDocument()||u.convertToNoDocument(mn.min())}),i}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Tn())}isEqual(t){return this.batchId===t.batchId&&zg(this.mutations,t.mutations,(e,i)=>KN(e,i))&&zg(this.baseMutations,t.baseMutations,(e,i)=>KN(e,i))}}class rP{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){vn(t.mutations.length===i.length);let r=w$;const a=t.mutations;for(let u=0;u<a.length;u++)r=r.insert(a[u].key,i[u].version);return new rP(t,e,i,r)}}class sP{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ch{constructor(t,e,i,r,a=mn.min(),u=mn.min(),h=gr.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(t){return new ch(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new ch(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class SV{constructor(t){this.ne=t}}function TV(n,t){const e=t.key,i={prefixPath:e.getCollectionPath().popLast().toArray(),collectionGroup:e.collectionGroup,documentId:e.path.lastSegment(),readTime:HE(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())i.document={name:Vb(r=n.ne,(a=t).key),fields:a.data.value.mapValue.fields,updateTime:Nb(r,a.version.toTimestamp())};else if(t.isNoDocument())i.noDocument={path:e.path.toArray(),readTime:hp(t.version)};else{if(!t.isUnknownDocument())return qt();i.unknownDocument={path:e.path.toArray(),version:hp(t.version)}}var r,a;return i}function HE(n){const t=n.toTimestamp();return[t.seconds,t.nanoseconds]}function hp(n){const t=n.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function fp(n){const t=new Ri(n.seconds,n.nanoseconds);return mn.fromTimestamp(t)}function pp(n,t){const e=(t.baseMutations||[]).map(a=>tP(n.ne,a));for(let a=0;a<t.mutations.length-1;++a){const u=t.mutations[a];a+1<t.mutations.length&&void 0!==t.mutations[a+1].transform&&(u.updateTransforms=t.mutations[a+1].transform.fieldTransforms,t.mutations.splice(a+1,1),++a)}const i=t.mutations.map(a=>tP(n.ne,a)),r=Ri.fromMillis(t.localWriteTimeMs);return new iP(t.batchId,r,e,i)}function jb(n){const t=fp(n.readTime),e=void 0!==n.lastLimboFreeSnapshotVersion?fp(n.lastLimboFreeSnapshotVersion):mn.min();let i;var r;return void 0!==n.query.documents?(vn(1===(r=n.query).documents.length),i=ho(Yg(dV(r.documents[0])))):i=ho(_V(n.query)),new ch(i,n.targetId,0,n.lastListenSequenceNumber,t,e,gr.fromBase64String(n.resumeToken))}function xV(n,t){const e=hp(t.snapshotVersion),i=hp(t.lastLimboFreeSnapshotVersion);let r;r=RE(t.target)?mV(n.ne,t.target):gV(n.ne,t.target);const a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:cp(t.target),readTime:e,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:r}}function oP(n){const t=_V({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?FE(t,t.limit,"L"):t}function aP(n,t){return new sP(t.largestBatchId,tP(n.ne,t.overlayMutation))}function MV(n,t){const e=t.path.lastSegment();return[n,js(t.path.popLast()),e]}function IV(n,t,e,i){return{indexId:n,uid:t.uid||"",sequenceNumber:e,readTime:hp(i.readTime),documentKey:js(i.documentKey.path),largestBatchId:i.largestBatchId}}class iW{getBundleMetadata(t,e){return PV(t).get(e).next(i=>{if(i)return{id:(r=i).bundleId,createTime:fp(r.createTime),version:r.version};var r})}saveBundleMetadata(t,e){return PV(t).put({bundleId:(i=e).id,createTime:hp(Fr(i.createTime)),version:i.version});var i}getNamedQuery(t,e){return kV(t).get(e).next(i=>{if(i)return{name:(r=i).name,query:oP(r.bundledQuery),readTime:fp(r.readTime)};var r})}saveNamedQuery(t,e){return kV(t).put({name:(i=e).name,readTime:hp(Fr(i.readTime)),bundledQuery:i.bundledQuery});var i}}function PV(n){return Lr(n,"bundles")}function kV(n){return Lr(n,"namedQueries")}class GE{constructor(t,e){this.wt=t,this.userId=e}static se(t,e){return new GE(t,e.uid||"")}getOverlay(t,e){return Hb(t).get(MV(this.userId,e)).next(i=>i?aP(this.wt,i):null)}getOverlays(t,e){const i=kc();return et.forEach(e,r=>this.getOverlay(t,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(t,e,i){const r=[];return i.forEach((a,u)=>{const h=new sP(e,u);r.push(this.ie(t,h))}),et.waitFor(r)}removeOverlaysForBatchId(t,e,i){const r=new Set;e.forEach(u=>r.add(js(u.getCollectionPath())));const a=[];return r.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,i],[this.userId,u,i+1],!1,!0);a.push(Hb(t).W("collectionPathOverlayIndex",h))}),et.waitFor(a)}getOverlaysForCollection(t,e,i){const r=kc(),a=js(e),u=IDBKeyRange.bound([this.userId,a,i],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Hb(t).K("collectionPathOverlayIndex",u).next(h=>{for(const _ of h){const w=aP(this.wt,_);r.set(w.getKey(),w)}return r})}getOverlaysForCollectionGroup(t,e,i,r){const a=kc();let u;const h=IDBKeyRange.bound([this.userId,e,i],[this.userId,e,Number.POSITIVE_INFINITY],!0);return Hb(t).J({index:"collectionGroupOverlayIndex",range:h},(_,w,M)=>{const j=aP(this.wt,w);a.size()<r||j.largestBatchId===u?(a.set(j.getKey(),j),u=j.largestBatchId):M.done()}).next(()=>a)}ie(t,e){return Hb(t).put(function(i,r,a){const[u,h,_]=MV(r,a.mutation.key);return{userId:r,collectionPath:h,documentId:_,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Ub(i.ne,a.mutation)}}(this.wt,this.userId,e))}}function Hb(n){return Lr(n,"documentOverlays")}class mp{constructor(){}re(t,e){this.oe(t,e),e.ue()}oe(t,e){if("nullValue"in t)this.ce(e,5);else if("booleanValue"in t)this.ce(e,10),e.ae(t.booleanValue?1:0);else if("integerValue"in t)this.ce(e,15),e.ae(Zi(t.integerValue));else if("doubleValue"in t){const i=Zi(t.doubleValue);isNaN(i)?this.ce(e,13):(this.ce(e,15),Ab(i)?e.ae(0):e.ae(i))}else if("timestampValue"in t){const i=t.timestampValue;this.ce(e,20),"string"==typeof i?e.he(i):(e.he(`${i.seconds||""}`),e.ae(i.nanos||0))}else if("stringValue"in t)this.le(t.stringValue,e),this.fe(e);else if("bytesValue"in t)this.ce(e,30),e.de(op(t.bytesValue)),this.fe(e);else if("referenceValue"in t)this._e(t.referenceValue,e);else if("geoPointValue"in t){const i=t.geoPointValue;this.ce(e,45),e.ae(i.latitude||0),e.ae(i.longitude||0)}else"mapValue"in t?AN(t)?this.ce(e,Number.MAX_SAFE_INTEGER):(this.we(t.mapValue,e),this.fe(e)):"arrayValue"in t?(this.me(t.arrayValue,e),this.fe(e)):qt()}le(t,e){this.ce(e,25),this.ge(t,e)}ge(t,e){e.he(t)}we(t,e){const i=t.fields||{};this.ce(e,55);for(const r of Object.keys(i))this.le(r,e),this.oe(i[r],e)}me(t,e){const i=t.values||[];this.ce(e,50);for(const r of i)this.oe(r,e)}_e(t,e){this.ce(e,37),Lt.fromName(t).path.forEach(i=>{this.ce(e,60),this.ge(i,e)})}ce(t,e){t.ae(e)}fe(t){t.ae(2)}}function rW(n){if(0===n)return 8;let t=0;return n>>4==0&&(t+=4,n<<=4),n>>6==0&&(t+=2,n<<=2),n>>7==0&&(t+=1),t}function RV(n){const t=64-function(e){let i=0;for(let r=0;r<8;++r){const a=rW(255&e[r]);if(i+=a,8!==a)break}return i}(n);return Math.ceil(t/8)}mp.ye=new mp;class sW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ie(i.value),i=e.next();this.Te()}Ee(t){const e=t[Symbol.iterator]();let i=e.next();for(;!i.done;)this.Ae(i.value),i=e.next();this.Re()}be(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ie(i);else if(i<2048)this.Ie(960|i>>>6),this.Ie(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ie(480|i>>>12),this.Ie(128|63&i>>>6),this.Ie(128|63&i);else{const r=e.codePointAt(0);this.Ie(240|r>>>18),this.Ie(128|63&r>>>12),this.Ie(128|63&r>>>6),this.Ie(128|63&r)}}this.Te()}Pe(t){for(const e of t){const i=e.charCodeAt(0);if(i<128)this.Ae(i);else if(i<2048)this.Ae(960|i>>>6),this.Ae(128|63&i);else if(e<"\ud800"||"\udbff"<e)this.Ae(480|i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i);else{const r=e.codePointAt(0);this.Ae(240|r>>>18),this.Ae(128|63&r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r)}}this.Re()}ve(t){const e=this.Ve(t),i=RV(e);this.Se(1+i),this.buffer[this.position++]=255&i;for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=255&e[r]}De(t){const e=this.Ve(t),i=RV(e);this.Se(1+i),this.buffer[this.position++]=~(255&i);for(let r=e.length-i;r<e.length;++r)this.buffer[this.position++]=~(255&e[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(t){this.Se(t.length),this.buffer.set(t,this.position),this.position+=t.length}Me(){return this.buffer.slice(0,this.position)}Ve(t){const e=function(r){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,r,!1),new Uint8Array(a.buffer)}(t),i=0!=(128&e[0]);e[0]^=i?255:128;for(let r=1;r<e.length;++r)e[r]^=i?255:0;return e}Ie(t){const e=255&t;0===e?(this.xe(0),this.xe(255)):255===e?(this.xe(255),this.xe(0)):this.xe(e)}Ae(t){const e=255&t;0===e?(this.ke(0),this.ke(255)):255===e?(this.ke(255),this.ke(0)):this.ke(t)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(t){this.Se(1),this.buffer[this.position++]=t}ke(t){this.Se(1),this.buffer[this.position++]=~t}Se(t){const e=t+this.position;if(e<=this.buffer.length)return;let i=2*this.buffer.length;i<e&&(i=e);const r=new Uint8Array(i);r.set(this.buffer),this.buffer=r}}class oW{constructor(t){this.Oe=t}de(t){this.Oe.pe(t)}he(t){this.Oe.be(t)}ae(t){this.Oe.ve(t)}ue(){this.Oe.Ce()}}class aW{constructor(t){this.Oe=t}de(t){this.Oe.Ee(t)}he(t){this.Oe.Pe(t)}ae(t){this.Oe.De(t)}ue(){this.Oe.Ne()}}class Gb{constructor(){this.Oe=new sW,this.Fe=new oW(this.Oe),this.$e=new aW(this.Oe)}seed(t){this.Oe.seed(t)}Be(t){return 0===t?this.Fe:this.$e}Me(){return this.Oe.Me()}reset(){this.Oe.reset()}}class gp{constructor(t,e,i,r){this.indexId=t,this.documentKey=e,this.arrayValue=i,this.directionalValue=r}Le(){const t=this.directionalValue.length,e=0===t||255===this.directionalValue[t-1]?t+1:t,i=new Uint8Array(e);return i.set(this.directionalValue,0),e!==t?i.set([0],this.directionalValue.length):++i[i.length-1],new gp(this.indexId,this.documentKey,this.arrayValue,i)}}function _p(n,t){let e=n.indexId-t.indexId;return 0!==e?e:(e=OV(n.arrayValue,t.arrayValue),0!==e?e:(e=OV(n.directionalValue,t.directionalValue),0!==e?e:Lt.comparator(n.documentKey,t.documentKey)))}function OV(n,t){for(let e=0;e<n.length&&e<t.length;++e){const i=n[e]-t[e];if(0!==i)return i}return n.length-t.length}class lW{constructor(t){this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Ue=t.orderBy,this.qe=[];for(const e of t.filters){const i=e;i.ht()?this.Ke=i:this.qe.push(i)}}Ge(t){const e=UI(t);if(void 0!==e&&!this.Qe(e))return!1;const i=ip(t);let r=0,a=0;for(;r<i.length&&this.Qe(i[r]);++r);if(r===i.length)return!0;if(void 0!==this.Ke){const u=i[r];if(!this.je(this.Ke,u)||!this.We(this.Ue[a++],u))return!1;++r}for(;r<i.length;++r){const u=i[r];if(a>=this.Ue.length||!this.We(this.Ue[a++],u))return!1}return!0}Qe(t){for(const e of this.qe)if(this.je(e,t))return!0;return!1}je(t,e){return!(void 0===t||!t.field.isEqual(e.fieldPath))&&2===e.kind==("array-contains"===t.op||"array-contains-any"===t.op)}We(t,e){return!!t.field.isEqual(e.fieldPath)&&(0===e.kind&&"asc"===t.dir||1===e.kind&&"desc"===t.dir)}}class cW{constructor(){this.ze=new lP}addToCollectionParentIndex(t,e){return this.ze.add(e),et.resolve()}getCollectionParents(t,e){return et.resolve(this.ze.getEntries(e))}addFieldIndex(t,e){return et.resolve()}deleteFieldIndex(t,e){return et.resolve()}getDocumentsMatchingTarget(t,e){return et.resolve(null)}getIndexType(t,e){return et.resolve(0)}getFieldIndexes(t,e){return et.resolve([])}getNextCollectionGroupToUpdate(t){return et.resolve(null)}getMinOffset(t,e){return et.resolve(Yo.min())}getMinOffsetFromCollectionGroup(t,e){return et.resolve(Yo.min())}updateCollectionGroup(t,e,i){return et.resolve()}updateIndexEntries(t,e){return et.resolve()}}class lP{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new ui(Un.comparator),a=!r.has(i);return this.index[e]=r.add(i),a}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new ui(Un.comparator)).toArray()}}const zE=new Uint8Array(0);class uW{constructor(t,e){this.user=t,this.databaseId=e,this.He=new lP,this.Je=new lh(i=>cp(i),(i,r)=>Mb(i,r)),this.uid=t.uid||""}addToCollectionParentIndex(t,e){if(!this.He.has(e)){const i=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.He.add(e)});const a={collectionId:i,parent:js(r)};return FV(t).put(a)}return et.resolve()}getCollectionParents(t,e){const i=[],r=IDBKeyRange.bound([e,""],[dN(e),""],!1,!0);return FV(t).K(r).next(a=>{for(const u of a){if(u.collectionId!==e)break;i.push(Oc(u.parent))}return i})}addFieldIndex(t,e){const i=$E(t),r={indexId:(u=e).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete r.indexId;const a=i.add(r);if(e.indexState){const u=$b(t);return a.next(h=>{u.put(IV(h,this.user,e.indexState.sequenceNumber,e.indexState.offset))})}return a.next()}deleteFieldIndex(t,e){const i=$E(t),r=$b(t),a=zb(t);return i.delete(e.indexId).next(()=>r.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([e.indexId],[e.indexId+1],!1,!0)))}getDocumentsMatchingTarget(t,e){const i=zb(t);let r=!0;const a=new Map;return et.forEach(this.Ye(e),u=>this.Xe(t,u).next(h=>{r&&(r=!!h),a.set(u,h)})).next(()=>{if(r){let u=Tn();const h=[];return et.forEach(a,(_,w)=>{var M;St("IndexedDbIndexManager",`Using index ${M=_,`id=${M.indexId}|cg=${M.collectionGroup}|f=${M.fields.map(Qt=>`${Qt.fieldPath}:${Qt.kind}`).join(",")}`} to execute ${cp(e)}`);const j=function(Qt,Gt){const hn=UI(Gt);if(void 0===hn)return null;for(const gn of OE(Qt,hn.fieldPath))switch(gn.op){case"array-contains-any":return gn.value.arrayValue.values||[];case"array-contains":return[gn.value]}return null}(w,_),Ce=function(Qt,Gt){const hn=new Map;for(const gn of ip(Gt))for(const Nn of OE(Qt,gn.fieldPath))switch(Nn.op){case"==":case"in":hn.set(gn.fieldPath.canonicalString(),Nn.value);break;case"not-in":case"!=":return hn.set(gn.fieldPath.canonicalString(),Nn.value),Array.from(hn.values())}return null}(w,_),Me=function(Qt,Gt){const hn=[];let gn=!0;for(const Nn of ip(Gt)){const zs=0===Nn.kind?IN(Qt,Nn.fieldPath,Qt.startAt):PN(Qt,Nn.fieldPath,Qt.startAt);hn.push(zs.value),gn&&(gn=zs.inclusive)}return new ah(hn,gn)}(w,_),Le=function(Qt,Gt){const hn=[];let gn=!0;for(const Nn of ip(Gt)){const zs=0===Nn.kind?PN(Qt,Nn.fieldPath,Qt.endAt):IN(Qt,Nn.fieldPath,Qt.endAt);hn.push(zs.value),gn&&(gn=zs.inclusive)}return new ah(hn,gn)}(w,_),$e=this.Ze(_,w,Me),st=this.Ze(_,w,Le),It=this.tn(_,w,Ce),Bt=this.en(_.indexId,j,$e,Me.inclusive,st,Le.inclusive,It);return et.forEach(Bt,Qt=>i.j(Qt,e.limit).next(Gt=>{Gt.forEach(hn=>{const gn=Lt.fromSegments(hn.documentKey);u.has(gn)||(u=u.add(gn),h.push(gn))})}))}).next(()=>h)}return et.resolve(null)})}Ye(t){let e=this.Je.get(t);return e||(e=[t],this.Je.set(t,e),e)}en(t,e,i,r,a,u,h){const _=(null!=e?e.length:1)*Math.max(i.length,a.length),w=_/(null!=e?e.length:1),M=[];for(let j=0;j<_;++j){const Ce=e?this.nn(e[j/w]):zE,Me=this.sn(t,Ce,i[j%w],r),Le=this.rn(t,Ce,a[j%w],u),$e=h.map(st=>this.sn(t,Ce,st,!0));M.push(...this.createRange(Me,Le,$e))}return M}sn(t,e,i,r){const a=new gp(t,Lt.empty(),e,i);return r?a:a.Le()}rn(t,e,i,r){const a=new gp(t,Lt.empty(),e,i);return r?a.Le():a}Xe(t,e){const i=new lW(e),r=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment();return this.getFieldIndexes(t,r).next(a=>{let u=null;for(const h of a)i.Ge(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(t,e){let i=2;return et.forEach(this.Ye(e),r=>this.Xe(t,r).next(a=>{a?0!==i&&a.fields.length<function(u){let h=new ui(Yi.comparator),_=!1;for(const w of u.filters){const M=w;M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?_=!0:h=h.add(M.field))}for(const w of u.orderBy)w.field.isKeyField()||(h=h.add(w.field));return h.size+(_?1:0)}(r)&&(i=1):i=0})).next(()=>i)}on(t,e){const i=new Gb;for(const r of ip(t)){const a=e.data.field(r.fieldPath);if(null==a)return null;const u=i.Be(r.kind);mp.ye.re(a,u)}return i.Me()}nn(t){const e=new Gb;return mp.ye.re(t,e.Be(0)),e.Me()}un(t,e){const i=new Gb;return mp.ye.re(lp(this.databaseId,e),i.Be(function(r){const a=ip(r);return 0===a.length?0:a[a.length-1].kind}(t))),i.Me()}tn(t,e,i){if(null===i)return[];let r=[];r.push(new Gb);let a=0;for(const u of ip(t)){const h=i[a++];for(const _ of r)if(this.cn(e,u.fieldPath)&&Tb(h))r=this.an(r,u,h);else{const w=_.Be(u.kind);mp.ye.re(h,w)}}return this.hn(r)}Ze(t,e,i){return this.tn(t,e,i.position)}hn(t){const e=[];for(let i=0;i<t.length;++i)e[i]=t[i].Me();return e}an(t,e,i){const r=[...t],a=[];for(const u of i.arrayValue.values||[])for(const h of r){const _=new Gb;_.seed(h.Me()),mp.ye.re(u,_.Be(e.kind)),a.push(_)}return a}cn(t,e){return!!t.filters.find(i=>i instanceof rs&&i.field.isEqual(e)&&("in"===i.op||"not-in"===i.op))}getFieldIndexes(t,e){const i=$E(t),r=$b(t);return(e?i.K("collectionGroupIndex",IDBKeyRange.bound(e,e)):i.K()).next(a=>{const u=[];return et.forEach(a,h=>r.get([h.indexId,this.uid]).next(_=>{u.push(function(w,M){const j=M?new wb(M.sequenceNumber,new Yo(fp(M.readTime),new Lt(Oc(M.documentKey)),M.largestBatchId)):wb.empty(),Ce=w.fields.map(([Me,Le])=>new xE(Yi.fromServerFormat(Me),Le));return new TE(w.indexId,w.collectionGroup,Ce,j)}(h,_))})).next(()=>u)})}getNextCollectionGroupToUpdate(t){return this.getFieldIndexes(t).next(e=>0===e.length?null:(e.sort((i,r)=>{const a=i.indexState.sequenceNumber-r.indexState.sequenceNumber;return 0!==a?a:An(i.collectionGroup,r.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(t,e,i){const r=$E(t),a=$b(t);return this.ln(t).next(u=>r.K("collectionGroupIndex",IDBKeyRange.bound(e,e)).next(h=>et.forEach(h,_=>a.put(IV(_.indexId,this.user,u,i)))))}updateIndexEntries(t,e){const i=new Map;return et.forEach(e,(r,a)=>{const u=i.get(r.collectionGroup);return(u?et.resolve(u):this.getFieldIndexes(t,r.collectionGroup)).next(h=>(i.set(r.collectionGroup,h),et.forEach(h,_=>this.fn(t,r,_).next(w=>{const M=this.dn(a,_);return w.isEqual(M)?et.resolve():this._n(t,a,_,w,M)}))))})}wn(t,e,i,r){return zb(t).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(i,e.key),documentKey:e.key.path.toArray()})}mn(t,e,i,r){return zb(t).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(i,e.key),e.key.path.toArray()])}fn(t,e,i){const r=zb(t);let a=new ui(_p);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([i.indexId,this.uid,this.un(i,e)])},(u,h)=>{a=a.add(new gp(i.indexId,e,h.arrayValue,h.directionalValue))}).next(()=>a)}dn(t,e){let i=new ui(_p);const r=this.on(e,t);if(null==r)return i;const a=UI(e);if(null!=a){const u=t.data.field(a.fieldPath);if(Tb(u))for(const h of u.arrayValue.values||[])i=i.add(new gp(e.indexId,t.key,this.nn(h),r))}else i=i.add(new gp(e.indexId,t.key,zE,r));return i}_n(t,e,i,r,a){St("IndexedDbIndexManager","Updating index entries for document '%s'",e.key);const u=[];return function(h,_,w,M,j){const Ce=h.getIterator(),Me=_.getIterator();let Le=$g(Ce),$e=$g(Me);for(;Le||$e;){let st=!1,It=!1;if(Le&&$e){const Bt=w(Le,$e);Bt<0?It=!0:Bt>0&&(st=!0)}else null!=Le?It=!0:st=!0;st?(M($e),$e=$g(Me)):It?(j(Le),Le=$g(Ce)):(Le=$g(Ce),$e=$g(Me))}}(r,a,_p,h=>{u.push(this.wn(t,e,i,h))},h=>{u.push(this.mn(t,e,i,h))}),et.waitFor(u)}ln(t){let e=1;return $b(t).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(i,r,a)=>{a.done(),e=r.sequenceNumber+1}).next(()=>e)}createRange(t,e,i){i=i.sort((u,h)=>_p(u,h)).filter((u,h,_)=>!h||0!==_p(u,_[h-1]));const r=[];r.push(t);for(const u of i){const h=_p(u,t),_=_p(u,e);if(0===h)r[0]=t.Le();else if(h>0&&_<0)r.push(u),r.push(u.Le());else if(_>0)break}r.push(e);const a=[];for(let u=0;u<r.length;u+=2)a.push(IDBKeyRange.bound([r[u].indexId,this.uid,r[u].arrayValue,r[u].directionalValue,zE,[]],[r[u+1].indexId,this.uid,r[u+1].arrayValue,r[u+1].directionalValue,zE,[]]));return a}getMinOffsetFromCollectionGroup(t,e){return this.getFieldIndexes(t,e).next(LV)}getMinOffset(t,e){return et.mapArray(this.Ye(e),i=>this.Xe(t,i).next(r=>r||qt())).next(LV)}}function FV(n){return Lr(n,"collectionParents")}function zb(n){return Lr(n,"indexEntries")}function $E(n){return Lr(n,"indexConfiguration")}function $b(n){return Lr(n,"indexState")}function LV(n){vn(0!==n.length);let t=n[0].indexState.offset,e=t.largestBatchId;for(let i=1;i<n.length;i++){const r=n[i].indexState.offset;jI(r,t)<0&&(t=r),e<r.largestBatchId&&(e=r.largestBatchId)}return new Yo(t.readTime,t.documentKey,e)}const NV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class po{constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}static withCacheSize(t){return new po(t,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function VV(n,t,e){const i=n.store("mutations"),r=n.store("documentMutations"),a=[],u=IDBKeyRange.only(e.batchId);let h=0;const _=i.J({range:u},(M,j,Ce)=>(h++,Ce.delete()));a.push(_.next(()=>{vn(1===h)}));const w=[];for(const M of e.mutations){const j=CV(t,M.key.path,e.batchId);a.push(r.delete(j)),w.push(M.key)}return et.waitFor(a).next(()=>w)}function WE(n){if(!n)return 0;let t;if(n.document)t=n.document;else if(n.unknownDocument)t=n.unknownDocument;else{if(!n.noDocument)throw qt();t=n.noDocument}return JSON.stringify(t).length}po.DEFAULT_COLLECTION_PERCENTILE=10,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,po.DEFAULT=new po(41943040,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),po.DISABLED=new po(-1,0,0);class qE{constructor(t,e,i,r){this.userId=t,this.wt=e,this.indexManager=i,this.referenceDelegate=r,this.gn={}}static se(t,e,i,r){vn(""!==t.uid);const a=t.isAuthenticated()?t.uid:"";return new qE(a,e,i,r)}checkEmpty(t){let e=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return uh(t).J({index:"userMutationsIndex",range:i},(r,a,u)=>{e=!1,u.done()}).next(()=>e)}addMutationBatch(t,e,i,r){const a=n_(t),u=uh(t);return u.add({}).next(h=>{vn("number"==typeof h);const _=new iP(h,e,i,r),w=function(Ce,Me,Le){const $e=Le.baseMutations.map(It=>Ub(Ce.ne,It)),st=Le.mutations.map(It=>Ub(Ce.ne,It));return{userId:Me,batchId:Le.batchId,localWriteTimeMs:Le.localWriteTime.toMillis(),baseMutations:$e,mutations:st}}(this.wt,this.userId,_),M=[];let j=new ui((Ce,Me)=>An(Ce.canonicalString(),Me.canonicalString()));for(const Ce of r){const Me=CV(this.userId,Ce.key.path,h);j=j.add(Ce.key.path.popLast()),M.push(u.put(w)),M.push(a.put(Me,B$))}return j.forEach(Ce=>{M.push(this.indexManager.addToCollectionParentIndex(t,Ce))}),t.addOnCommittedListener(()=>{this.gn[h]=_.keys()}),et.waitFor(M).next(()=>_)})}lookupMutationBatch(t,e){return uh(t).get(e).next(i=>i?(vn(i.userId===this.userId),pp(this.wt,i)):null)}yn(t,e){return this.gn[e]?et.resolve(this.gn[e]):this.lookupMutationBatch(t,e).next(i=>{if(i){const r=i.keys();return this.gn[e]=r,r}return null})}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=IDBKeyRange.lowerBound([this.userId,i]);let a=null;return uh(t).J({index:"userMutationsIndex",range:r},(u,h,_)=>{h.userId===this.userId&&(vn(h.batchId>=i),a=pp(this.wt,h)),_.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=-1;return uh(t).J({index:"userMutationsIndex",range:e,reverse:!0},(r,a,u)=>{i=a.batchId,u.done()}).next(()=>i)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return uh(t).K("userMutationsIndex",e).next(i=>i.map(r=>pp(this.wt,r)))}getAllMutationBatchesAffectingDocumentKey(t,e){const i=jE(this.userId,e.path),r=IDBKeyRange.lowerBound(i),a=[];return n_(t).J({range:r},(u,h,_)=>{const[w,M,j]=u,Ce=Oc(M);if(w===this.userId&&e.path.isEqual(Ce))return uh(t).get(j).next(Me=>{if(!Me)throw qt();vn(Me.userId===this.userId),a.push(pp(this.wt,Me))});_.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ui(An);const r=[];return e.forEach(a=>{const u=jE(this.userId,a.path),h=IDBKeyRange.lowerBound(u),_=n_(t).J({range:h},(w,M,j)=>{const[Ce,Me,Le]=w,$e=Oc(Me);Ce===this.userId&&a.path.isEqual($e)?i=i.add(Le):j.done()});r.push(_)}),et.waitFor(r).next(()=>this.pn(t,i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1,a=jE(this.userId,i),u=IDBKeyRange.lowerBound(a);let h=new ui(An);return n_(t).J({range:u},(_,w,M)=>{const[j,Ce,Me]=_,Le=Oc(Ce);j===this.userId&&i.isPrefixOf(Le)?Le.length===r&&(h=h.add(Me)):M.done()}).next(()=>this.pn(t,h))}pn(t,e){const i=[],r=[];return e.forEach(a=>{r.push(uh(t).get(a).next(u=>{if(null===u)throw qt();vn(u.userId===this.userId),i.push(pp(this.wt,u))}))}),et.waitFor(r).next(()=>i)}removeMutationBatch(t,e){return VV(t.ee,this.userId,e).next(i=>(t.addOnCommittedListener(()=>{this.In(e.batchId)}),et.forEach(i,r=>this.referenceDelegate.markPotentiallyOrphaned(t,r))))}In(t){delete this.gn[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return et.resolve();const i=IDBKeyRange.lowerBound([this.userId]),r=[];return n_(t).J({range:i},(a,u,h)=>{if(a[0]===this.userId){const _=Oc(a[1]);r.push(_)}else h.done()}).next(()=>{vn(0===r.length)})})}containsKey(t,e){return BV(t,this.userId,e)}Tn(t){return UV(t).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function BV(n,t,e){const i=jE(t,e.path),r=i[1],a=IDBKeyRange.lowerBound(i);let u=!1;return n_(n).J({range:a,H:!0},(h,_,w)=>{const[M,j,Ce]=h;M===t&&j===r&&(u=!0),w.done()}).next(()=>u)}function uh(n){return Lr(n,"mutations")}function n_(n){return Lr(n,"documentMutations")}function UV(n){return Lr(n,"mutationQueues")}class yp{constructor(t){this.En=t}next(){return this.En+=2,this.En}static An(){return new yp(0)}static Rn(){return new yp(-1)}}class dW{constructor(t,e){this.referenceDelegate=t,this.wt=e}allocateTargetId(t){return this.bn(t).next(e=>{const i=new yp(e.highestTargetId);return e.highestTargetId=i.next(),this.Pn(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.bn(t).next(e=>mn.fromTimestamp(new Ri(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.bn(t).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(t,e,i){return this.bn(t).next(r=>(r.highestListenSequenceNumber=e,i&&(r.lastRemoteSnapshotVersion=i.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.Pn(t,r)))}addTargetData(t,e){return this.vn(t,e).next(()=>this.bn(t).next(i=>(i.targetCount+=1,this.Vn(e,i),this.Pn(t,i))))}updateTargetData(t,e){return this.vn(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>i_(t).delete(e.targetId)).next(()=>this.bn(t)).next(i=>(vn(i.targetCount>0),i.targetCount-=1,this.Pn(t,i)))}removeTargets(t,e,i){let r=0;const a=[];return i_(t).J((u,h)=>{const _=jb(h);_.sequenceNumber<=e&&null===i.get(_.targetId)&&(r++,a.push(this.removeTargetData(t,_)))}).next(()=>et.waitFor(a)).next(()=>r)}forEachTarget(t,e){return i_(t).J((i,r)=>{const a=jb(r);e(a)})}bn(t){return jV(t).get("targetGlobalKey").next(e=>(vn(null!==e),e))}Pn(t,e){return jV(t).put("targetGlobalKey",e)}vn(t,e){return i_(t).put(xV(this.wt,e))}Vn(t,e){let i=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,i=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,i=!0),i}getTargetCount(t){return this.bn(t).next(e=>e.targetCount)}getTargetData(t,e){const i=cp(e),r=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let a=null;return i_(t).J({range:r,index:"queryTargetsIndex"},(u,h,_)=>{const w=jb(h);Mb(e,w.target)&&(a=w,_.done())}).next(()=>a)}addMatchingKeys(t,e,i){const r=[],a=dh(t);return e.forEach(u=>{const h=js(u.path);r.push(a.put({targetId:i,path:h})),r.push(this.referenceDelegate.addReference(t,i,u))}),et.waitFor(r)}removeMatchingKeys(t,e,i){const r=dh(t);return et.forEach(e,a=>{const u=js(a.path);return et.waitFor([r.delete([i,u]),this.referenceDelegate.removeReference(t,i,a)])})}removeMatchingKeysForTargetId(t,e){const i=dh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return i.delete(r)}getMatchingKeysForTargetId(t,e){const i=IDBKeyRange.bound([e],[e+1],!1,!0),r=dh(t);let a=Tn();return r.J({range:i,H:!0},(u,h,_)=>{const w=Oc(u[1]),M=new Lt(w);a=a.add(M)}).next(()=>a)}containsKey(t,e){const i=js(e.path),r=IDBKeyRange.bound([i],[dN(i)],!1,!0);let a=0;return dh(t).J({index:"documentTargetsIndex",H:!0,range:r},([u,h],_,w)=>{0!==u&&(a++,w.done())}).next(()=>a>0)}te(t,e){return i_(t).get(e).next(i=>i?jb(i):null)}}function i_(n){return Lr(n,"targets")}function jV(n){return Lr(n,"targetGlobal")}function dh(n){return Lr(n,"targetDocuments")}function HV([n,t],[e,i]){const r=An(n,e);return 0===r?An(t,i):r}class hW{constructor(t){this.Sn=t,this.buffer=new ui(HV),this.Dn=0}Cn(){return++this.Dn}xn(t){const e=[t,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();HV(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class fW{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(t){var e=this;St("LruGarbageCollector",`Garbage collection scheduled in ${t}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(0,ut.Z)(function*(){e.Nn=null;try{yield e.localStore.collectGarbage(e.garbageCollector)}catch(i){ih(i)?St("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",i):yield nh(i)}yield e.kn(3e5)}))}}class pW{constructor(t,e){this.Mn=t,this.params=e}calculateTargetCount(t,e){return this.Mn.On(t).next(i=>Math.floor(e/100*i))}nthSequenceNumber(t,e){if(0===e)return et.resolve(uo.ot);const i=new hW(e);return this.Mn.forEachTarget(t,r=>i.xn(r.sequenceNumber)).next(()=>this.Mn.Fn(t,r=>i.xn(r))).next(()=>i.maxValue)}removeTargets(t,e,i){return this.Mn.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.Mn.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector","Garbage collection skipped; disabled"),et.resolve(NV)):this.getCacheSize(t).next(i=>i<this.params.cacheSizeCollectionThreshold?(St("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),NV):this.$n(t,e))}getCacheSize(t){return this.Mn.getCacheSize(t)}$n(t,e){let i,r,a,u,h,_,w;const M=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(j=>(j>this.params.maximumSequenceNumbersToCollect?(St("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${j}`),r=this.params.maximumSequenceNumbersToCollect):r=j,u=Date.now(),this.nthSequenceNumber(t,r))).next(j=>(i=j,h=Date.now(),this.removeTargets(t,i,e))).next(j=>(a=j,_=Date.now(),this.removeOrphanedDocuments(t,i))).next(j=>(w=Date.now(),VI()<=Xd.in.DEBUG&&St("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-M}ms\n\tDetermined least recently used ${r} in `+(h-u)+`ms\n\tRemoved ${a} targets in `+(_-h)+`ms\n\tRemoved ${j} documents in `+(w-_)+`ms\nTotal Duration: ${w-M}ms`),et.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:a,documentsRemoved:j})))}}class mW{constructor(t,e){this.db=t,this.garbageCollector=new pW(this,e)}On(t){const e=this.Bn(t);return this.db.getTargetCache().getTargetCount(t).next(i=>e.next(r=>i+r))}Bn(t){let e=0;return this.Fn(t,i=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}Fn(t,e){return this.Ln(t,(i,r)=>e(r))}addReference(t,e,i){return YE(t,i)}removeReference(t,e,i){return YE(t,i)}removeTargets(t,e,i){return this.db.getTargetCache().removeTargets(t,e,i)}markPotentiallyOrphaned(t,e){return YE(t,e)}Un(t,e){return function(i,r){let a=!1;return UV(i).Y(u=>BV(i,u,r).next(h=>(h&&(a=!0),et.resolve(!h)))).next(()=>a)}(t,e)}removeOrphanedDocuments(t,e){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let a=0;return this.Ln(t,(u,h)=>{if(h<=e){const _=this.Un(t,u).next(w=>{if(!w)return a++,i.getEntry(t,u).next(()=>(i.removeEntry(u,mn.min()),dh(t).delete([0,js(u.path)])))});r.push(_)}}).next(()=>et.waitFor(r)).next(()=>i.apply(t)).next(()=>a)}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,i)}updateLimboDocument(t,e){return YE(t,e)}Ln(t,e){const i=dh(t);let r,a=uo.ot;return i.J({index:"documentTargetsIndex"},([u,h],{path:_,sequenceNumber:w})=>{0===u?(a!==uo.ot&&e(new Lt(Oc(r)),a),a=w,r=_):a=uo.ot}).next(()=>{a!==uo.ot&&e(new Lt(Oc(r)),a)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function YE(n,t){return dh(n).put((i=n.currentSequenceNumber,{targetId:0,path:js(t.path),sequenceNumber:i}));var i}class GV{constructor(){this.changes=new lh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,_i.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return void 0!==i?et.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class gW{constructor(t){this.wt=t}setIndexManager(t){this.indexManager=t}addEntry(t,e,i){return vp(t).put(i)}removeEntry(t,e,i){return vp(t).delete(function(r,a){const u=r.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],HE(a),u[u.length-1]]}(e,i))}updateMetadata(t,e){return this.getMetadata(t).next(i=>(i.byteSize+=e,this.qn(t,i)))}getEntry(t,e){let i=_i.newInvalidDocument(e);return vp(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Wb(e))},(r,a)=>{i=this.Kn(e,a)}).next(()=>i)}Gn(t,e){let i={size:0,document:_i.newInvalidDocument(e)};return vp(t).J({index:"documentKeyIndex",range:IDBKeyRange.only(Wb(e))},(r,a)=>{i={document:this.Kn(e,a),size:WE(a)}}).next(()=>i)}getEntries(t,e){let i=fo();return this.Qn(t,e,(r,a)=>{const u=this.Kn(r,a);i=i.insert(r,u)}).next(()=>i)}jn(t,e){let i=fo(),r=new Ki(Lt.comparator);return this.Qn(t,e,(a,u)=>{const h=this.Kn(a,u);i=i.insert(a,h),r=r.insert(a,WE(u))}).next(()=>({documents:i,Wn:r}))}Qn(t,e,i){if(e.isEmpty())return et.resolve();let r=new ui(qV);e.forEach(_=>r=r.add(_));const a=IDBKeyRange.bound(Wb(r.first()),Wb(r.last())),u=r.getIterator();let h=u.getNext();return vp(t).J({index:"documentKeyIndex",range:a},(_,w,M)=>{const j=Lt.fromSegments([...w.prefixPath,w.collectionGroup,w.documentId]);for(;h&&qV(h,j)<0;)i(h,null),h=u.getNext();h&&h.isEqual(j)&&(i(h,w),h=u.hasNext()?u.getNext():null),h?M.q(Wb(h)):M.done()}).next(()=>{for(;h;)i(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(t,e,i){const r=[e.popLast().toArray(),e.lastSegment(),HE(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],a=[e.popLast().toArray(),e.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vp(t).K(IDBKeyRange.bound(r,a,!0)).next(u=>{let h=fo();for(const _ of u){const w=this.Kn(Lt.fromSegments(_.prefixPath.concat(_.collectionGroup,_.documentId)),_);h=h.insert(w.key,w)}return h})}getAllFromCollectionGroup(t,e,i,r){let a=fo();const u=WV(e,i),h=WV(e,Yo.max());return vp(t).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(_,w,M)=>{const j=this.Kn(Lt.fromSegments(w.prefixPath.concat(w.collectionGroup,w.documentId)),w);a=a.insert(j.key,j),a.size===r&&M.done()}).next(()=>a)}newChangeBuffer(t){return new _W(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(e=>e.byteSize)}getMetadata(t){return $V(t).get("remoteDocumentGlobalKey").next(e=>(vn(!!e),e))}qn(t,e){return $V(t).put("remoteDocumentGlobalKey",e)}Kn(t,e){if(e){const i=function nW(n,t){let e;if(t.document)e=pV(n.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const i=Lt.fromSegments(t.noDocument.path),r=fp(t.noDocument.readTime);e=_i.newNoDocument(i,r),t.hasCommittedMutations&&e.setHasCommittedMutations()}else{if(!t.unknownDocument)return qt();{const i=Lt.fromSegments(t.unknownDocument.path),r=fp(t.unknownDocument.version);e=_i.newUnknownDocument(i,r)}}return t.readTime&&e.setReadTime(function(i){const r=new Ri(i[0],i[1]);return mn.fromTimestamp(r)}(t.readTime)),e}(this.wt,e);if(!i.isNoDocument()||!i.version.isEqual(mn.min()))return i}return _i.newInvalidDocument(t)}}function zV(n){return new gW(n)}class _W extends GV{constructor(t,e){super(),this.zn=t,this.trackRemovals=e,this.Hn=new lh(i=>i.toString(),(i,r)=>i.isEqual(r))}applyChanges(t){const e=[];let i=0,r=new ui((a,u)=>An(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const h=this.Hn.get(a);if(e.push(this.zn.removeEntry(t,a,h.readTime)),u.isValidDocument()){const _=TV(this.zn.wt,u);r=r.add(a.path.popLast()),i+=WE(_)-h.size,e.push(this.zn.addEntry(t,a,_))}else if(i-=h.size,this.trackRemovals){const _=TV(this.zn.wt,u.convertToNoDocument(mn.min()));e.push(this.zn.addEntry(t,a,_))}}),r.forEach(a=>{e.push(this.zn.indexManager.addToCollectionParentIndex(t,a))}),e.push(this.zn.updateMetadata(t,i)),et.waitFor(e)}getFromCache(t,e){return this.zn.Gn(t,e).next(i=>(this.Hn.set(e,{size:i.size,readTime:i.document.readTime}),i.document))}getAllFromCache(t,e){return this.zn.jn(t,e).next(({documents:i,Wn:r})=>(r.forEach((a,u)=>{this.Hn.set(a,{size:u,readTime:i.get(a).readTime})}),i))}}function $V(n){return Lr(n,"remoteDocumentGlobal")}function vp(n){return Lr(n,"remoteDocumentsV14")}function Wb(n){const t=n.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function WV(n,t){const e=t.documentKey.path.toArray();return[n,HE(t.readTime),e.slice(0,e.length-2),e.length>0?e[e.length-1]:""]}function qV(n,t){const e=n.path.toArray(),i=t.path.toArray();let r=0;for(let a=0;a<e.length-2&&a<i.length-2;++a)if(r=An(e[a],i[a]),r)return r;return r=An(e.length,i.length),r||(r=An(e[e.length-2],i[i.length-2]),r||An(e[e.length-1],i[i.length-1]))}class yW{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class YV{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next(r=>(i=r,this.getBaseDocument(t,e,i))).next(r=>(null!==i&&kb(i.mutation,r,Ko.empty(),Ri.now()),r))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.getLocalViewOfDocuments(t,i,Tn()).next(()=>i))}getLocalViewOfDocuments(t,e,i=Tn()){const r=kc();return this.populateOverlays(t,r,e).next(()=>this.computeViews(t,e,r,i).next(a=>{let u=Rb();return a.forEach((h,_)=>{u=u.insert(h,_.overlayedDocument)}),u}))}getOverlayedDocuments(t,e){const i=kc();return this.populateOverlays(t,i,e).next(()=>this.computeViews(t,e,i,Tn()))}populateOverlays(t,e,i){const r=[];return i.forEach(a=>{e.has(a)||r.push(a)}),this.documentOverlayCache.getOverlays(t,r).next(a=>{a.forEach((u,h)=>{e.set(u,h)})})}computeViews(t,e,i,r){let a=fo();const u=Ob(),h=Ob();return e.forEach((_,w)=>{const M=i.get(w.key);r.has(w.key)&&(void 0===M||M.mutation instanceof qu)?a=a.insert(w.key,w):void 0!==M&&(u.set(w.key,M.mutation.getFieldMask()),kb(M.mutation,w,M.mutation.getFieldMask(),Ri.now()))}),this.recalculateAndSaveOverlays(t,a).next(_=>(_.forEach((w,M)=>u.set(w,M)),e.forEach((w,M)=>{var j;return h.set(w,new yW(M,null!==(j=u.get(w))&&void 0!==j?j:null))}),h))}recalculateAndSaveOverlays(t,e){const i=Ob();let r=new Ki((u,h)=>u-h),a=Tn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(u=>{for(const h of u)h.keys().forEach(_=>{const w=e.get(_);if(null===w)return;let M=i.get(_)||Ko.empty();M=h.applyToLocalView(w,M),i.set(_,M);const j=(r.get(h.batchId)||Tn()).add(_);r=r.insert(h.batchId,j)})}).next(()=>{const u=[],h=r.getReverseIterator();for(;h.hasNext();){const _=h.getNext(),w=_.key,M=_.value,j=iV();M.forEach(Ce=>{if(!a.has(Ce)){const Me=YN(e.get(Ce),i.get(Ce));null!==Me&&j.set(Ce,Me),a=a.add(Ce)}}),u.push(this.documentOverlayCache.saveOverlays(t,w,j))}return et.waitFor(u)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next(i=>this.recalculateAndSaveOverlays(t,i))}getDocumentsMatchingQuery(t,e,i){return Lt.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(t,e.path):KI(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i):this.getDocumentsMatchingCollectionQuery(t,e,i);var r}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next(a=>{const u=r-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-a.size):et.resolve(kc());let h=-1,_=a;return u.next(w=>et.forEach(w,(M,j)=>(h<j.largestBatchId&&(h=j.largestBatchId),a.get(M)?et.resolve():this.getBaseDocument(t,M,j).next(Ce=>{_=_.insert(M,Ce)}))).next(()=>this.populateOverlays(t,w,a)).next(()=>this.computeViews(t,_,w,Tn())).next(M=>({batchId:h,changes:nV(M)})))})}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Lt(e)).next(i=>{let r=Rb();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(t,e,i){const r=e.collectionGroup;let a=Rb();return this.indexManager.getCollectionParents(t,r).next(u=>et.forEach(u,h=>{const _=(w=e,M=h.child(r),new Wu(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt));var w,M;return this.getDocumentsMatchingCollectionQuery(t,_,i).next(w=>{w.forEach((M,j)=>{a=a.insert(M,j)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(t,e,i){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,i).next(a=>(r=a,this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId))).next(a=>{a.forEach((h,_)=>{const w=_.getKey();null===r.get(w)&&(r=r.insert(w,_i.newInvalidDocument(w)))});let u=Rb();return r.forEach((h,_)=>{const w=a.get(h);void 0!==w&&kb(w.mutation,_,Ko.empty(),Ri.now()),QI(e,_)&&(u=u.insert(h,_))}),u})}getBaseDocument(t,e,i){return null===i||1===i.mutation.type?this.remoteDocumentCache.getEntry(t,e):et.resolve(_i.newInvalidDocument(e))}}class vW{constructor(t){this.wt=t,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(t,e){return et.resolve(this.Jn.get(e))}saveBundleMetadata(t,e){var i;return this.Jn.set(e.id,{id:(i=e).id,version:i.version,createTime:Fr(i.createTime)}),et.resolve()}getNamedQuery(t,e){return et.resolve(this.Yn.get(e))}saveNamedQuery(t,e){return this.Yn.set(e.name,{name:(i=e).name,query:oP(i.bundledQuery),readTime:Fr(i.readTime)}),et.resolve();var i}}class bW{constructor(){this.overlays=new Ki(Lt.comparator),this.Xn=new Map}getOverlay(t,e){return et.resolve(this.overlays.get(e))}getOverlays(t,e){const i=kc();return et.forEach(e,r=>this.getOverlay(t,r).next(a=>{null!==a&&i.set(r,a)})).next(()=>i)}saveOverlays(t,e,i){return i.forEach((r,a)=>{this.ie(t,e,a)}),et.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.Xn.get(i);return void 0!==r&&(r.forEach(a=>this.overlays=this.overlays.remove(a)),this.Xn.delete(i)),et.resolve()}getOverlaysForCollection(t,e,i){const r=kc(),a=e.length+1,u=new Lt(e.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const _=h.getNext().value,w=_.getKey();if(!e.isPrefixOf(w.path))break;w.path.length===a&&_.largestBatchId>i&&r.set(_.getKey(),_)}return et.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let a=new Ki((w,M)=>w-M);const u=this.overlays.getIterator();for(;u.hasNext();){const w=u.getNext().value;if(w.getKey().getCollectionGroup()===e&&w.largestBatchId>i){let M=a.get(w.largestBatchId);null===M&&(M=kc(),a=a.insert(w.largestBatchId,M)),M.set(w.getKey(),w)}}const h=kc(),_=a.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((w,M)=>h.set(w,M)),!(h.size()>=r)););return et.resolve(h)}ie(t,e,i){const r=this.overlays.get(i.key);if(null!==r){const u=this.Xn.get(r.largestBatchId).delete(i.key);this.Xn.set(r.largestBatchId,u)}this.overlays=this.overlays.insert(i.key,new sP(e,i));let a=this.Xn.get(e);void 0===a&&(a=Tn(),this.Xn.set(e,a)),this.Xn.set(e,a.add(i.key))}}class cP{constructor(){this.Zn=new ui(Nr.ts),this.es=new ui(Nr.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const i=new Nr(t,e);this.Zn=this.Zn.add(i),this.es=this.es.add(i)}ss(t,e){t.forEach(i=>this.addReference(i,e))}removeReference(t,e){this.rs(new Nr(t,e))}os(t,e){t.forEach(i=>this.removeReference(i,e))}us(t){const e=new Lt(new Un([])),i=new Nr(e,t),r=new Nr(e,t+1),a=[];return this.es.forEachInRange([i,r],u=>{this.rs(u),a.push(u.key)}),a}cs(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new Lt(new Un([])),i=new Nr(e,t),r=new Nr(e,t+1);let a=Tn();return this.es.forEachInRange([i,r],u=>{a=a.add(u.key)}),a}containsKey(t){const e=new Nr(t,0),i=this.Zn.firstAfterOrEqual(e);return null!==i&&t.isEqual(i.key)}}class Nr{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return Lt.comparator(t.key,e.key)||An(t.ls,e.ls)}static ns(t,e){return An(t.ls,e.ls)||Lt.comparator(t.key,e.key)}}class wW{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.fs=1,this.ds=new ui(Nr.ts)}checkEmpty(t){return et.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,i,r){const a=this.fs;this.fs++;const u=new iP(a,e,i,r);this.mutationQueue.push(u);for(const h of r)this.ds=this.ds.add(new Nr(h.key,a)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return et.resolve(u)}lookupMutationBatch(t,e){return et.resolve(this._s(e))}getNextMutationBatchAfterBatchId(t,e){const r=this.ws(e+1),a=r<0?0:r;return et.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return et.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(t){return et.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Nr(e,0),r=new Nr(e,Number.POSITIVE_INFINITY),a=[];return this.ds.forEachInRange([i,r],u=>{const h=this._s(u.ls);a.push(h)}),et.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new ui(An);return e.forEach(r=>{const a=new Nr(r,0),u=new Nr(r,Number.POSITIVE_INFINITY);this.ds.forEachInRange([a,u],h=>{i=i.add(h.ls)})}),et.resolve(this.gs(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let a=i;Lt.isDocumentKey(a)||(a=a.child(""));const u=new Nr(new Lt(a),0);let h=new ui(An);return this.ds.forEachWhile(_=>{const w=_.key.path;return!!i.isPrefixOf(w)&&(w.length===r&&(h=h.add(_.ls)),!0)},u),et.resolve(this.gs(h))}gs(t){const e=[];return t.forEach(i=>{const r=this._s(i);null!==r&&e.push(r)}),e}removeMutationBatch(t,e){vn(0===this.ys(e.batchId,"removed")),this.mutationQueue.shift();let i=this.ds;return et.forEach(e.mutations,r=>{const a=new Nr(r.key,e.batchId);return i=i.delete(a),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=i})}In(t){}containsKey(t,e){const i=new Nr(e,0),r=this.ds.firstAfterOrEqual(i);return et.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return et.resolve()}ys(t,e){return this.ws(t)}ws(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}_s(t){const e=this.ws(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class CW{constructor(t){this.ps=t,this.docs=new Ki(Lt.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),a=r?r.size:0,u=this.ps(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return et.resolve(i?i.document.mutableCopy():_i.newInvalidDocument(e))}getEntries(t,e){let i=fo();return e.forEach(r=>{const a=this.docs.get(r);i=i.insert(r,a?a.document.mutableCopy():_i.newInvalidDocument(r))}),et.resolve(i)}getAllFromCollection(t,e,i){let r=fo();const a=new Lt(e.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:_}}=u.getNext();if(!e.isPrefixOf(h.path))break;h.path.length>e.length+1||jI(fN(_),i)<=0||(r=r.insert(_.key,_.mutableCopy()))}return et.resolve(r)}getAllFromCollectionGroup(t,e,i,r){qt()}Is(t,e){return et.forEach(this.docs,i=>e(i))}newChangeBuffer(t){return new DW(this)}getSize(t){return et.resolve(this.size)}}class DW extends GV{constructor(t){super(),this.zn=t}applyChanges(t){const e=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?e.push(this.zn.addEntry(t,r)):this.zn.removeEntry(i)}),et.waitFor(e)}getFromCache(t,e){return this.zn.getEntry(t,e)}getAllFromCache(t,e){return this.zn.getEntries(t,e)}}class EW{constructor(t){this.persistence=t,this.Ts=new lh(e=>cp(e),Mb),this.lastRemoteSnapshotVersion=mn.min(),this.highestTargetId=0,this.Es=0,this.As=new cP,this.targetCount=0,this.Rs=yp.An()}forEachTarget(t,e){return this.Ts.forEach((i,r)=>e(r)),et.resolve()}getLastRemoteSnapshotVersion(t){return et.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return et.resolve(this.Es)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),et.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.Es&&(this.Es=e),et.resolve()}vn(t){this.Ts.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new yp(e),this.highestTargetId=e),t.sequenceNumber>this.Es&&(this.Es=t.sequenceNumber)}addTargetData(t,e){return this.vn(e),this.targetCount+=1,et.resolve()}updateTargetData(t,e){return this.vn(e),et.resolve()}removeTargetData(t,e){return this.Ts.delete(e.target),this.As.us(e.targetId),this.targetCount-=1,et.resolve()}removeTargets(t,e,i){let r=0;const a=[];return this.Ts.forEach((u,h)=>{h.sequenceNumber<=e&&null===i.get(h.targetId)&&(this.Ts.delete(u),a.push(this.removeMatchingKeysForTargetId(t,h.targetId)),r++)}),et.waitFor(a).next(()=>r)}getTargetCount(t){return et.resolve(this.targetCount)}getTargetData(t,e){const i=this.Ts.get(e)||null;return et.resolve(i)}addMatchingKeys(t,e,i){return this.As.ss(e,i),et.resolve()}removeMatchingKeys(t,e,i){this.As.os(e,i);const r=this.persistence.referenceDelegate,a=[];return r&&e.forEach(u=>{a.push(r.markPotentiallyOrphaned(t,u))}),et.waitFor(a)}removeMatchingKeysForTargetId(t,e){return this.As.us(e),et.resolve()}getMatchingKeysForTargetId(t,e){const i=this.As.hs(e);return et.resolve(i)}containsKey(t,e){return et.resolve(this.As.containsKey(e))}}class KV{constructor(t,e){this.bs={},this.overlays={},this.Ps=new uo(0),this.vs=!1,this.vs=!0,this.referenceDelegate=t(this),this.Vs=new EW(this),this.indexManager=new cW,this.remoteDocumentCache=new CW(i=>this.referenceDelegate.Ss(i)),this.wt=new SV(e),this.Ds=new vW(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new bW,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.bs[t.toKey()];return i||(i=new wW(e,this.referenceDelegate),this.bs[t.toKey()]=i),i}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(t,e,i){St("MemoryPersistence","Starting transaction:",t);const r=new AW(this.Ps.next());return this.referenceDelegate.Cs(),i(r).next(a=>this.referenceDelegate.xs(r).next(()=>a)).toPromise().then(a=>(r.raiseOnCommittedEvent(),a))}Ns(t,e){return et.or(Object.values(this.bs).map(i=>()=>i.containsKey(t,e)))}}class AW extends mN{constructor(t){super(),this.currentSequenceNumber=t}}class KE{constructor(t){this.persistence=t,this.ks=new cP,this.Ms=null}static Os(t){return new KE(t)}get Fs(){if(this.Ms)return this.Ms;throw qt()}addReference(t,e,i){return this.ks.addReference(i,e),this.Fs.delete(i.toString()),et.resolve()}removeReference(t,e,i){return this.ks.removeReference(i,e),this.Fs.add(i.toString()),et.resolve()}markPotentiallyOrphaned(t,e){return this.Fs.add(e.toString()),et.resolve()}removeTarget(t,e){this.ks.us(e.targetId).forEach(r=>this.Fs.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next(r=>{r.forEach(a=>this.Fs.add(a.toString()))}).next(()=>i.removeTargetData(t,e))}Cs(){this.Ms=new Set}xs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return et.forEach(this.Fs,i=>{const r=Lt.fromPath(i);return this.$s(t,r).next(a=>{a||e.removeEntry(r,mn.min())})}).next(()=>(this.Ms=null,e.apply(t)))}updateLimboDocument(t,e){return this.$s(t,e).next(i=>{i?this.Fs.delete(e.toString()):this.Fs.add(e.toString())})}Ss(t){return 0}$s(t,e){return et.or([()=>et.resolve(this.ks.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ns(t,e)])}}class SW{constructor(t){this.wt=t}M(t,e,i,r){const a=new ME("createOrUpgrade",e);var h;i<1&&r>=1&&(t.createObjectStore("owner"),(h=t).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wV,{unique:!0}),h.createObjectStore("documentMutations"),ZV(t),function(h){h.createObjectStore("remoteDocuments")}(t));let u=et.resolve();return i<3&&r>=3&&(0!==i&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(t),ZV(t)),u=u.next(()=>function(h){const _=h.store("targetGlobal"),w={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:mn.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",w)}(a))),i<4&&r>=4&&(0!==i&&(u=u.next(()=>function(h,_){return _.store("mutations").K().next(w=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",wV,{unique:!0});const M=_.store("mutations"),j=w.map(Ce=>M.put(Ce));return et.waitFor(j)})}(t,a))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(t)})),i<5&&r>=5&&(u=u.next(()=>this.Bs(a))),i<6&&r>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(t),this.Ls(a)))),i<7&&r>=7&&(u=u.next(()=>this.Us(a))),i<8&&r>=8&&(u=u.next(()=>this.qs(t,a))),i<9&&r>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(t)})),i<10&&r>=10&&(u=u.next(()=>this.Ks(a))),i<11&&r>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(t),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(t)})),i<12&&r>=12&&(u=u.next(()=>{!function(h){const _=h.createObjectStore("documentOverlays",{keyPath:Q$});_.createIndex("collectionPathOverlayIndex",X$,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",J$,{unique:!1})}(t)})),i<13&&r>=13&&(u=u.next(()=>function(h){const _=h.createObjectStore("remoteDocumentsV14",{keyPath:U$});_.createIndex("documentKeyIndex",j$),_.createIndex("collectionGroupIndex",H$)}(t)).next(()=>this.Gs(t,a)).next(()=>t.deleteObjectStore("remoteDocuments"))),i<14&&r>=14&&(u=u.next(()=>this.Qs(t,a))),i<15&&r>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:q$}).createIndex("sequenceNumberIndex",Y$,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:K$}).createIndex("documentKeyIndex",Z$,{unique:!1})}(t))),u}Ls(t){let e=0;return t.store("remoteDocuments").J((i,r)=>{e+=WE(r)}).next(()=>{const i={byteSize:e};return t.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",i)})}Bs(t){const e=t.store("mutationQueues"),i=t.store("mutations");return e.K().next(r=>et.forEach(r,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return i.K("userMutationsIndex",u).next(h=>et.forEach(h,_=>{vn(_.userId===a.userId);const w=pp(this.wt,_);return VV(t,a.userId,w).next(()=>{})}))}))}Us(t){const e=t.store("targetDocuments"),i=t.store("remoteDocuments");return t.store("targetGlobal").get("targetGlobalKey").next(r=>{const a=[];return i.J((u,h)=>{const _=new Un(u),w=[0,js(_)];a.push(e.get(w).next(M=>M?et.resolve():e.put({targetId:0,path:js(_),sequenceNumber:r.highestListenSequenceNumber})))}).next(()=>et.waitFor(a))})}qs(t,e){t.createObjectStore("collectionParents",{keyPath:W$});const i=e.store("collectionParents"),r=new lP,a=u=>{if(r.add(u)){const h=u.lastSegment(),_=u.popLast();return i.put({collectionId:h,parent:js(_)})}};return e.store("remoteDocuments").J({H:!0},(u,h)=>{const _=new Un(u);return a(_.popLast())}).next(()=>e.store("documentMutations").J({H:!0},([u,h,_],w)=>{const M=Oc(h);return a(M.popLast())}))}Ks(t){const e=t.store("targets");return e.J((i,r)=>{const a=jb(r),u=xV(this.wt,a);return e.put(u)})}Gs(t,e){const i=e.store("remoteDocuments"),r=[];return i.J((a,u)=>{const h=e.store("remoteDocumentsV14"),_=(w=u,w.document?new Lt(Un.fromString(w.document.name).popFirst(5)):w.noDocument?Lt.fromSegments(w.noDocument.path):w.unknownDocument?Lt.fromSegments(w.unknownDocument.path):qt()).path.toArray();var w;const M={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};r.push(h.put(M))}).next(()=>et.waitFor(r))}Qs(t,e){const i=e.store("mutations"),r=zV(this.wt),a=new KV(KE.Os,this.wt.ne);return i.K().next(u=>{const h=new Map;return u.forEach(_=>{var w;let M=null!==(w=h.get(_.userId))&&void 0!==w?w:Tn();pp(this.wt,_).keys().forEach(j=>M=M.add(j)),h.set(_.userId,M)}),et.forEach(h,(_,w)=>{const M=new Rr(w),j=GE.se(this.wt,M),Ce=a.getIndexManager(M),Me=qE.se(M,this.wt,Ce,a.referenceDelegate);return new YV(r,Me,j,Ce).recalculateAndSaveOverlaysForDocumentKeys(new nP(e,uo.ot),_).next()})})}}function ZV(n){n.createObjectStore("targetDocuments",{keyPath:z$}).createIndex("documentTargetsIndex",$$,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",G$,{unique:!0}),n.createObjectStore("targetGlobal")}const uP="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class dP{constructor(t,e,i,r,a,u,h,_,w,M,j=15){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=i,this.js=a,this.window=u,this.document=h,this.Ws=w,this.zs=M,this.Hs=j,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=Ce=>Promise.resolve(),!dP.V())throw new Ct(ot.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mW(this,r),this.ei=e+"main",this.wt=new SV(_),this.ni=new Ol(this.ei,this.Hs,new SW(this.wt)),this.Vs=new dW(this.referenceDelegate,this.wt),this.remoteDocumentCache=zV(this.wt),this.Ds=new iW,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===M&&nr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Ct(ot.FAILED_PRECONDITION,uP);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.Vs.getHighestSequenceNumber(t))}).then(t=>{this.Ps=new uo(t,this.Ws)}).then(()=>{this.vs=!0}).catch(t=>(this.ni&&this.ni.close(),Promise.reject(t)))}ci(t){var e=this;return this.ti=function(){var i=(0,ut.Z)(function*(r){if(e.started)return t(r)});return function(r){return i.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.ni.F(function(){var e=(0,ut.Z)(function*(i){null===i.newVersion&&(yield t())});return function(i){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.js.enqueueAndForget((0,ut.Z)(function*(){e.started&&(yield e.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>ZE(t).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(t).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(t)).next(e=>this.isPrimary&&!e?this.li(t).next(()=>!1):!!e&&this.fi(t).next(()=>!0))).catch(t=>{if(ih(t))return St("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return St("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.js.enqueueRetryable(()=>this.ti(t)),this.isPrimary=t})}ai(t){return qb(t).get("owner").next(e=>et.resolve(this.di(e)))}_i(t){return ZE(t).delete(this.clientId)}wi(){var t=this;return(0,ut.Z)(function*(){if(t.isPrimary&&!t.mi(t.Zs,18e5)){t.Zs=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",i=>{const r=Lr(i,"clientMetadata");return r.K().next(a=>{const u=t.gi(a,18e5),h=a.filter(_=>-1===u.indexOf(_));return et.forEach(h,_=>r.delete(_.clientId)).next(()=>h)})}).catch(()=>[]);if(t.si)for(const i of e)t.si.removeItem(t.yi(i.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(t){return!!t&&t.ownerId===this.clientId}hi(t){return this.zs?et.resolve(!0):qb(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)){if(this.di(e)&&this.networkEnabled)return!0;if(!this.di(e)){if(!e.allowTabSynchronization)throw new Ct(ot.FAILED_PRECONDITION,uP);return!1}}return!(!this.networkEnabled||!this.inForeground)||ZE(t).K().next(i=>void 0===this.gi(i,5e3).find(r=>{if(this.clientId!==r.clientId){const u=!this.inForeground&&r.inForeground,h=this.networkEnabled===r.networkEnabled;if(!this.networkEnabled&&r.networkEnabled||u&&h)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&St("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var t=this;return(0,ut.Z)(function*(){t.vs=!1,t.Ii(),t.Xs&&(t.Xs.cancel(),t.Xs=null),t.Ti(),t.Ei(),yield t.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const i=new nP(e,uo.ot);return t.li(i).next(()=>t._i(i))}),t.ni.close(),t.Ai()})()}gi(t,e){return t.filter(i=>this.mi(i.updateTimeMs,e)&&!this.pi(i.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",t=>ZE(t).K().next(e=>this.gi(e,18e5).map(i=>i.clientId)))}get started(){return this.vs}getMutationQueue(t,e){return qE.se(t,this.wt,e,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(t){return new uW(t,this.wt.ne.databaseId)}getDocumentOverlayCache(t){return GE.se(this.wt,t)}getBundleCache(){return this.Ds}runTransaction(t,e,i){St("IndexedDbPersistence","Starting transaction:",t);const r="readonly"===e?"readonly":"readwrite",a=15===(u=this.Hs)?tW:14===u?AV:13===u?EV:12===u?eW:11===u?DV:void qt();var u;let h;return this.ni.runTransaction(t,r,a,_=>(h=new nP(_,this.Ps?this.Ps.next():uo.ot),"readwrite-primary"===e?this.ai(h).next(w=>!!w||this.hi(h)).next(w=>{if(!w)throw nr(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Ct(ot.FAILED_PRECONDITION,pN);return i(h)}).next(w=>this.fi(h).next(()=>w)):this.bi(h).next(()=>i(h)))).then(_=>(h.raiseOnCommittedEvent(),_))}bi(t){return qb(t).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Ct(ot.FAILED_PRECONDITION,uP)})}fi(t){const e={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qb(t).put("owner",e)}static V(){return Ol.V()}li(t){const e=qb(t);return e.get("owner").next(i=>this.di(i)?(St("IndexedDbPersistence","Releasing primary lease."),e.delete("owner")):et.resolve())}mi(t,e){const i=Date.now();return!(t<i-e||t>i&&(nr(`Detected an update time that is in the future: ${t} > ${i}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Js=()=>{this.Ii(),(0,In.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(t){var e;try{const i=null!==(null===(e=this.si)||void 0===e?void 0:e.getItem(this.yi(t)));return St("IndexedDbPersistence",`Client '${t}' ${i?"is":"is not"} zombied in LocalStorage`),i}catch(i){return nr("IndexedDbPersistence","Failed to get zombied client id.",i),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(t){nr("Failed to set zombie client id.",t)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch{}}yi(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function qb(n){return Lr(n,"owner")}function ZE(n){return Lr(n,"clientMetadata")}function hP(n,t){let e=n.projectId;return n.isDefaultDatabase||(e+="."+n.database),"firestore/"+t+"/"+e+"/"}class fP{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Pi=i,this.vi=r}static Vi(t,e){let i=Tn(),r=Tn();for(const a of e.docChanges)switch(a.type){case 0:i=i.add(a.doc.key);break;case 1:r=r.add(a.doc.key)}return new fP(t,e.fromCache,i,r)}}class QV{constructor(){this.Si=!1}initialize(t,e){this.Di=t,this.indexManager=e,this.Si=!0}getDocumentsMatchingQuery(t,e,i,r){return this.Ci(t,e).next(a=>a||this.xi(t,e,r,i)).next(a=>a||this.Ni(t,e))}Ci(t,e){if(LN(e))return et.resolve(null);let i=ho(e);return this.indexManager.getIndexType(t,i).next(r=>0===r?null:(null!==e.limit&&1===r&&(e=FE(e,null,"F"),i=ho(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next(a=>{const u=Tn(...a);return this.Di.getDocuments(t,u).next(h=>this.indexManager.getMinOffset(t,i).next(_=>{const w=this.ki(e,h);return this.Mi(e,w,u,_.readTime)?this.Ci(t,FE(e,null,"F")):this.Oi(t,w,e,_)}))})))}xi(t,e,i,r){return LN(e)||r.isEqual(mn.min())?this.Ni(t,e):this.Di.getDocuments(t,i).next(a=>{const u=this.ki(e,a);return this.Mi(e,u,i,r)?this.Ni(t,e):(VI()<=Xd.in.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ZI(e)),this.Oi(t,u,e,hN(r,-1)))})}ki(t,e){let i=new ui(BN(t));return e.forEach((r,a)=>{QI(t,a)&&(i=i.add(a))}),i}Mi(t,e,i,r){if(null===t.limit)return!1;if(i.size!==e.size)return!0;const a="F"===t.limitType?e.last():e.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(r)>0)}Ni(t,e){return VI()<=Xd.in.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",ZI(e)),this.Di.getDocumentsMatchingQuery(t,e,Yo.min())}Oi(t,e,i,r){return this.Di.getDocumentsMatchingQuery(t,i,r).next(a=>(e.forEach(u=>{a=a.insert(u.key,u)}),a))}}class TW{constructor(t,e,i,r){this.persistence=t,this.Fi=e,this.wt=r,this.$i=new Ki(An),this.Bi=new lh(a=>cp(a),Mb),this.Li=new Map,this.Ui=t.getRemoteDocumentCache(),this.Vs=t.getTargetCache(),this.Ds=t.getBundleCache(),this.qi(i)}qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new YV(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.$i))}}function XV(n,t,e,i){return new TW(n,t,e,i)}function JV(n,t){return pP.apply(this,arguments)}function pP(){return pP=(0,ut.Z)(function*(n,t){const e=Vt(n);return yield e.persistence.runTransaction("Handle user change","readonly",i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next(a=>(r=a,e.qi(t),e.mutationQueue.getAllMutationBatches(i))).next(a=>{const u=[],h=[];let _=Tn();for(const w of r){u.push(w.batchId);for(const M of w.mutations)_=_.add(M.key)}for(const w of a){h.push(w.batchId);for(const M of w.mutations)_=_.add(M.key)}return e.localDocuments.getDocuments(i,_).next(w=>({Ki:w,removedBatchIds:u,addedBatchIds:h}))})})}),pP.apply(this,arguments)}function xW(n,t){const e=Vt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=t.batch.keys(),a=e.Ui.newChangeBuffer({trackRemovals:!0});return function(u,h,_,w){const M=_.batch,j=M.keys();let Ce=et.resolve();return j.forEach(Me=>{Ce=Ce.next(()=>w.getEntry(h,Me)).next(Le=>{const $e=_.docVersions.get(Me);vn(null!==$e),Le.version.compareTo($e)<0&&(M.applyToRemoteDocument(Le,_),Le.isValidDocument()&&(Le.setReadTime(_.commitVersion),w.addEntry(Le)))})}),Ce.next(()=>u.mutationQueue.removeMutationBatch(h,M))}(e,i,t,a).next(()=>a.apply(i)).next(()=>e.mutationQueue.performConsistencyCheck(i)).next(()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId)).next(()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(u){let h=Tn();for(let _=0;_<u.mutationResults.length;++_)u.mutationResults[_].transformResults.length>0&&(h=h.add(u.batch.mutations[_].key));return h}(t))).next(()=>e.localDocuments.getDocuments(i,r))})}function eB(n){const t=Vt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function MW(n,t){const e=Vt(n),i=t.snapshotVersion;let r=e.$i;return e.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=e.Ui.newChangeBuffer({trackRemovals:!0});r=e.$i;const h=[];t.targetChanges.forEach((M,j)=>{const Ce=r.get(j);if(!Ce)return;h.push(e.Vs.removeMatchingKeys(a,M.removedDocuments,j).next(()=>e.Vs.addMatchingKeys(a,M.addedDocuments,j)));let Me=Ce.withSequenceNumber(a.currentSequenceNumber);var Le,$e,st;t.targetMismatches.has(j)?Me=Me.withResumeToken(gr.EMPTY_BYTE_STRING,mn.min()).withLastLimboFreeSnapshotVersion(mn.min()):M.resumeToken.approximateByteSize()>0&&(Me=Me.withResumeToken(M.resumeToken,i)),r=r.insert(j,Me),$e=Me,st=M,(0===(Le=Ce).resumeToken.approximateByteSize()||$e.snapshotVersion.toMicroseconds()-Le.snapshotVersion.toMicroseconds()>=3e8||st.addedDocuments.size+st.modifiedDocuments.size+st.removedDocuments.size>0)&&h.push(e.Vs.updateTargetData(a,Me))});let _=fo(),w=Tn();if(t.documentUpdates.forEach(M=>{t.resolvedLimboDocuments.has(M)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(a,M))}),h.push(tB(a,u,t.documentUpdates).next(M=>{_=M.Gi,w=M.Qi})),!i.isEqual(mn.min())){const M=e.Vs.getLastRemoteSnapshotVersion(a).next(j=>e.Vs.setTargetsMetadata(a,a.currentSequenceNumber,i));h.push(M)}return et.waitFor(h).next(()=>u.apply(a)).next(()=>e.localDocuments.getLocalViewOfDocuments(a,_,w)).next(()=>_)}).then(a=>(e.$i=r,a))}function tB(n,t,e){let i=Tn(),r=Tn();return e.forEach(a=>i=i.add(a)),t.getEntries(n,i).next(a=>{let u=fo();return e.forEach((h,_)=>{const w=a.get(h);_.isFoundDocument()!==w.isFoundDocument()&&(r=r.add(h)),_.isNoDocument()&&_.version.isEqual(mn.min())?(t.removeEntry(h,_.readTime),u=u.insert(h,_)):!w.isValidDocument()||_.version.compareTo(w.version)>0||0===_.version.compareTo(w.version)&&w.hasPendingWrites?(t.addEntry(_),u=u.insert(h,_)):St("LocalStore","Ignoring outdated watch update for ",h,". Current version:",w.version," Watch version:",_.version)}),{Gi:u,Qi:r}})}function IW(n,t){const e=Vt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===t&&(t=-1),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t)))}function r_(n,t){const e=Vt(n);return e.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return e.Vs.getTargetData(i,t).next(a=>a?(r=a,et.resolve(r)):e.Vs.allocateTargetId(i).next(u=>(r=new ch(t,u,0,i.currentSequenceNumber),e.Vs.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=e.$i.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.$i=e.$i.insert(i.targetId,i),e.Bi.set(t,i.targetId)),i})}function s_(n,t,e){return mP.apply(this,arguments)}function mP(){return mP=(0,ut.Z)(function*(n,t,e){const i=Vt(n),r=i.$i.get(t),a=e?"readwrite":"readwrite-primary";try{e||(yield i.persistence.runTransaction("Release target",a,u=>i.persistence.referenceDelegate.removeTarget(u,r)))}catch(u){if(!ih(u))throw u;St("LocalStore",`Failed to update sequence numbers for target ${t}: ${u}`)}i.$i=i.$i.remove(t),i.Bi.delete(r.target)}),mP.apply(this,arguments)}function QE(n,t,e){const i=Vt(n);let r=mn.min(),a=Tn();return i.persistence.runTransaction("Execute query","readonly",u=>function(h,_,w){const M=Vt(h),j=M.Bi.get(w);return void 0!==j?et.resolve(M.$i.get(j)):M.Vs.getTargetData(_,w)}(i,u,ho(t)).next(h=>{if(h)return r=h.lastLimboFreeSnapshotVersion,i.Vs.getMatchingKeysForTargetId(u,h.targetId).next(_=>{a=_})}).next(()=>i.Fi.getDocumentsMatchingQuery(u,t,e?r:mn.min(),e?a:Tn())).next(h=>(rB(i,VN(t),h),{documents:h,ji:a})))}function nB(n,t){const e=Vt(n),i=Vt(e.Vs),r=e.$i.get(t);return r?Promise.resolve(r.target):e.persistence.runTransaction("Get target data","readonly",a=>i.te(a,t).next(u=>u?u.target:null))}function iB(n,t){const e=Vt(n),i=e.Li.get(t)||mn.min();return e.persistence.runTransaction("Get new document changes","readonly",r=>e.Ui.getAllFromCollectionGroup(r,t,hN(i,-1),Number.MAX_SAFE_INTEGER)).then(r=>(rB(e,t,r),r))}function rB(n,t,e){let i=mn.min();e.forEach((r,a)=>{a.readTime.compareTo(i)>0&&(i=a.readTime)}),n.Li.set(t,i)}function gP(){return gP=(0,ut.Z)(function*(n,t,e,i){const r=Vt(n);let a=Tn(),u=fo();for(const w of e){const M=t.Wi(w.metadata.name);w.document&&(a=a.add(M));const j=t.zi(w);j.setReadTime(t.Hi(w.metadata.readTime)),u=u.insert(M,j)}const h=r.Ui.newChangeBuffer({trackRemovals:!0}),_=yield r_(r,(w=i,ho(Yg(Un.fromString(`__bundle__/docs/${w}`)))));var w;return r.persistence.runTransaction("Apply bundle documents","readwrite",w=>tB(w,h,u).next(M=>(h.apply(w),M)).next(M=>r.Vs.removeMatchingKeysForTargetId(w,_.targetId).next(()=>r.Vs.addMatchingKeys(w,a,_.targetId)).next(()=>r.localDocuments.getLocalViewOfDocuments(w,M.Gi,M.Qi)).next(()=>M.Gi)))}),gP.apply(this,arguments)}function kW(n,t){return _P.apply(this,arguments)}function _P(){return _P=(0,ut.Z)(function*(n,t,e=Tn()){const i=yield r_(n,ho(oP(t.bundledQuery))),r=Vt(n);return r.persistence.runTransaction("Save named query","readwrite",a=>{const u=Fr(t.readTime);if(i.snapshotVersion.compareTo(u)>=0)return r.Ds.saveNamedQuery(a,t);const h=i.withResumeToken(gr.EMPTY_BYTE_STRING,u);return r.$i=r.$i.insert(h.targetId,h),r.Vs.updateTargetData(a,h).next(()=>r.Vs.removeMatchingKeysForTargetId(a,i.targetId)).next(()=>r.Vs.addMatchingKeys(a,e,i.targetId)).next(()=>r.Ds.saveNamedQuery(a,t))})}),_P.apply(this,arguments)}function sB(n,t){return`firestore_clients_${n}_${t}`}function oB(n,t,e){let i=`firestore_mutations_${n}_${e}`;return t.isAuthenticated()&&(i+=`_${t.uid}`),i}function yP(n,t){return`firestore_targets_${n}_${t}`}class XE{constructor(t,e,i,r){this.user=t,this.batchId=e,this.state=i,this.error=r}static Ji(t,e,i){const r=JSON.parse(i);let a,u="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return u&&r.error&&(u="string"==typeof r.error.message&&"string"==typeof r.error.code,u&&(a=new Ct(r.error.code,r.error.message))),u?new XE(t,e,r.state,a):(nr("SharedClientState",`Failed to parse mutation state for ID '${e}': ${i}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class Yb{constructor(t,e,i){this.targetId=t,this.state=e,this.error=i}static Ji(t,e){const i=JSON.parse(e);let r,a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&(a="string"==typeof i.error.message&&"string"==typeof i.error.code,a&&(r=new Ct(i.error.code,i.error.message))),a?new Yb(t,i.state,r):(nr("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Yi(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class JE{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static Ji(t,e){const i=JSON.parse(e);let r="object"==typeof i&&i.activeTargetIds instanceof Array,a=BE();for(let u=0;r&&u<i.activeTargetIds.length;++u)r=wN(i.activeTargetIds[u]),a=a.add(i.activeTargetIds[u]);return r?new JE(t,a):(nr("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class vP{constructor(t,e){this.clientId=t,this.onlineState=e}static Ji(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new vP(e.clientId,e.onlineState):(nr("SharedClientState",`Failed to parse online state: ${t}`),null)}}class bP{constructor(){this.activeTargetIds=BE()}Xi(t){this.activeTargetIds=this.activeTargetIds.add(t)}Zi(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Yi(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wP{constructor(t,e,i,r,a){this.window=t,this.js=e,this.persistenceKey=i,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Ki(An),this.started=!1,this.ir=[];const u=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.rr=sB(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new bP),this.cr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,ut.Z)(function*(){const e=yield t.syncEngine.Ri();for(const r of e){if(r===t.tr)continue;const a=t.getItem(sB(t.persistenceKey,r));if(a){const u=JE.Ji(r,a);u&&(t.sr=t.sr.insert(u.clientId,u))}}t._r();const i=t.storage.getItem(t.lr);if(i){const r=t.wr(i);r&&t.mr(r)}for(const r of t.ir)t.nr(r);t.ir=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.ur,JSON.stringify(t))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(t){let e=!1;return this.sr.forEach((i,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.yr(t,"pending")}updateMutationState(t,e,i){this.yr(t,e,i),this.pr(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const i=this.storage.getItem(yP(this.persistenceKey,t));if(i){const r=Yb.Ji(t,i);r&&(e=r.state)}}return this.Ir.Xi(t),this._r(),e}removeLocalQueryTarget(t){this.Ir.Zi(t),this._r()}isLocalQueryTarget(t){return this.Ir.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(yP(this.persistenceKey,t))}updateQueryState(t,e,i){this.Tr(t,e,i)}handleUserChange(t,e,i){e.forEach(r=>{this.pr(r)}),this.currentUser=t,i.forEach(r=>{this.addPendingMutation(r)})}setOnlineState(t){this.Er(t)}notifyBundleLoaded(t){this.Ar(t)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return St("SharedClientState","READ",t,e),e}setItem(t,e){St("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){St("SharedClientState","REMOVE",t),this.storage.removeItem(t)}nr(t){var e=this;const i=t;if(i.storageArea===this.storage){if(St("SharedClientState","EVENT",i.key,i.newValue),i.key===this.rr)return void nr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,ut.Z)(function*(){if(e.started){if(null!==i.key)if(e.cr.test(i.key)){if(null==i.newValue){const r=e.Rr(i.key);return e.br(r,null)}{const r=e.Pr(i.key,i.newValue);if(r)return e.br(r.clientId,r)}}else if(e.ar.test(i.key)){if(null!==i.newValue){const r=e.vr(i.key,i.newValue);if(r)return e.Vr(r)}}else if(e.hr.test(i.key)){if(null!==i.newValue){const r=e.Sr(i.key,i.newValue);if(r)return e.Dr(r)}}else if(i.key===e.lr){if(null!==i.newValue){const r=e.wr(i.newValue);if(r)return e.mr(r)}}else if(i.key===e.ur){const r=function(a){let u=uo.ot;if(null!=a)try{const h=JSON.parse(a);vn("number"==typeof h),u=h}catch(h){nr("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(i.newValue);r!==uo.ot&&e.sequenceNumberHandler(r)}else if(i.key===e.dr){const r=e.Cr(i.newValue);yield Promise.all(r.map(a=>e.syncEngine.Nr(a)))}}else e.ir.push(i)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(t,e,i){const r=new XE(this.currentUser,t,e,i),a=oB(this.persistenceKey,this.currentUser,t);this.setItem(a,r.Yi())}pr(t){const e=oB(this.persistenceKey,this.currentUser,t);this.removeItem(e)}Er(t){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:t}))}Tr(t,e,i){const r=yP(this.persistenceKey,t),a=new Yb(t,e,i);this.setItem(r,a.Yi())}Ar(t){const e=JSON.stringify(Array.from(t));this.setItem(this.dr,e)}Rr(t){const e=this.cr.exec(t);return e?e[1]:null}Pr(t,e){const i=this.Rr(t);return JE.Ji(i,e)}vr(t,e){const i=this.ar.exec(t),r=Number(i[1]);return XE.Ji(new Rr(void 0!==i[2]?i[2]:null),r,e)}Sr(t,e){const i=this.hr.exec(t),r=Number(i[1]);return Yb.Ji(r,e)}wr(t){return vP.Ji(t)}Cr(t){return JSON.parse(t)}Vr(t){var e=this;return(0,ut.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine.kr(t.batchId,t.state,t.error);St("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}Dr(t){return this.syncEngine.Mr(t.targetId,t.state,t.error)}br(t,e){const i=e?this.sr.insert(t,e):this.sr.remove(t),r=this.gr(this.sr),a=this.gr(i),u=[],h=[];return a.forEach(_=>{r.has(_)||u.push(_)}),r.forEach(_=>{a.has(_)||h.push(_)}),this.syncEngine.Or(u,h).then(()=>{this.sr=i})}mr(t){this.sr.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}gr(t){let e=BE();return t.forEach((i,r)=>{e=e.unionWith(r.activeTargetIds)}),e}}class aB{constructor(){this.Fr=new bP,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t){return this.Fr.Xi(t),this.$r[t]||"not-current"}updateQueryState(t,e,i){this.$r[t]=e}removeLocalQueryTarget(t){this.Fr.Zi(t)}isLocalQueryTarget(t){return this.Fr.activeTargetIds.has(t)}clearQueryState(t){delete this.$r[t]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(t){return this.Fr.activeTargetIds.has(t)}start(){return this.Fr=new bP,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class RW{Br(t){}shutdown(){}}class lB{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(t){this.Gr.push(t)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Gr)t(0)}Kr(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Gr)t(1)}static V(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const OW={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class FW{constructor(t){this.jr=t.jr,this.Wr=t.Wr}zr(t){this.Hr=t}Jr(t){this.Yr=t}onMessage(t){this.Xr=t}close(){this.Wr()}send(t){this.jr(t)}Zr(){this.Hr()}eo(t){this.Yr(t)}no(t){this.Xr(t)}}class LW extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.so=(t.ssl?"https":"http")+"://"+t.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(t,e,i,r,a){const u=this.oo(t,e);St("RestConnection","Sending: ",u,i);const h={};return this.uo(h,r,a),this.co(t,u,h,i).then(_=>(St("RestConnection","Received: ",_),_),_=>{throw np("RestConnection",`${t} failed with error: `,_,"url: ",u,"request:",i),_})}ao(t,e,i,r,a,u){return this.ro(t,e,i,r,a)}uo(t,e,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+Gg,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach((r,a)=>t[a]=r),i&&i.headers.forEach((r,a)=>t[a]=r)}oo(t,e){return`${this.so}/v1/${e}:${OW[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}co(t,e,i,r){return new Promise((a,u)=>{const h=new Oz;h.listenOnce(Pz.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case NI.NO_ERROR:const w=h.getResponseJson();St("Connection","XHR received:",JSON.stringify(w)),a(w);break;case NI.TIMEOUT:St("Connection",'RPC "'+t+'" timed out'),u(new Ct(ot.DEADLINE_EXCEEDED,"Request time out"));break;case NI.HTTP_ERROR:const M=h.getStatus();if(St("Connection",'RPC "'+t+'" failed with status:',M,"response text:",h.getResponseText()),M>0){const j=h.getResponseJson().error;if(j&&j.status&&j.message){const Ce=function(Me){const Le=Me.toLowerCase().replace(/_/g,"-");return Object.values(ot).indexOf(Le)>=0?Le:ot.UNKNOWN}(j.status);u(new Ct(Ce,j.message))}else u(new Ct(ot.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Ct(ot.UNAVAILABLE,"Connection failed."));break;default:qt()}}finally{St("Connection",'RPC "'+t+'" completed.')}});const _=JSON.stringify(r);h.send(e,"POST",_,i,15)})}ho(t,e,i){const r=[this.so,"/","google.firestore.v1.Firestore","/",t,"/channel"],a=Mz(),u=Iz(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new Rz({})),this.uo(h.initMessageHeaders,e,i),(0,In.uI)()||(0,In.b$)()||(0,In.d)()||(0,In.w1)()||(0,In.Mn)()||(0,In.ru)()||(h.httpHeadersOverwriteParam="$httpHeaders");const _=r.join("");St("Connection","Creating WebChannel: "+_,h);const w=a.createWebChannel(_,h);let M=!1,j=!1;const Ce=new FW({jr:Le=>{j?St("Connection","Not sending because WebChannel is closed:",Le):(M||(St("Connection","Opening WebChannel transport."),w.open(),M=!0),St("Connection","WebChannel sending:",Le),w.send(Le))},Wr:()=>w.close()}),Me=(Le,$e,st)=>{Le.listen($e,It=>{try{st(It)}catch(Bt){setTimeout(()=>{throw Bt},0)}})};return Me(w,SE.EventType.OPEN,()=>{j||St("Connection","WebChannel transport opened.")}),Me(w,SE.EventType.CLOSE,()=>{j||(j=!0,St("Connection","WebChannel transport closed"),Ce.eo())}),Me(w,SE.EventType.ERROR,Le=>{j||(j=!0,np("Connection","WebChannel transport errored:",Le),Ce.eo(new Ct(ot.UNAVAILABLE,"The operation could not be completed")))}),Me(w,SE.EventType.MESSAGE,Le=>{var $e;if(!j){const st=Le.data[0];vn(!!st);const It=st,Bt=It.error||(null===($e=It[0])||void 0===$e?void 0:$e.error);if(Bt){St("Connection","WebChannel received error:",Bt);const Qt=Bt.status;let Gt=function(gn){const Nn=dr[gn];if(void 0!==Nn)return eV(Nn)}(Qt),hn=Bt.message;void 0===Gt&&(Gt=ot.INTERNAL,hn="Unknown error status: "+Qt+" with message "+Bt.message),j=!0,Ce.eo(new Ct(Gt,hn)),w.close()}else St("Connection","WebChannel received:",st),Ce.no(st)}}),Me(u,kz.STAT_EVENT,Le=>{Le.stat===oN.PROXY?St("Connection","Detected buffering proxy"):Le.stat===oN.NOPROXY&&St("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ce.Zr()},0),Ce}}function cB(){return typeof window<"u"?window:null}function eA(){return typeof document<"u"?document:null}function Kb(n){return new T$(n,!0)}class CP{constructor(t,e,i=1e3,r=1.5,a=6e4){this.js=t,this.timerId=e,this.lo=i,this.fo=r,this._o=a,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(t){this.cancel();const e=Math.floor(this.wo+this.To()),i=Math.max(0,Date.now()-this.yo),r=Math.max(0,e-i);r>0&&St("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),t())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class uB{constructor(t,e,i,r,a,u,h,_){this.js=t,this.Ao=i,this.Ro=r,this.bo=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=_,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new CP(t,e)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var t=this;return(0,ut.Z)(function*(){t.Do()&&(yield t.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(t){this.Fo(),this.stream.send(t)}Mo(){var t=this;return(0,ut.Z)(function*(){if(t.Co())return t.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(t,e){var i=this;return(0,ut.Z)(function*(){i.Fo(),i.$o(),i.So.cancel(),i.Po++,4!==t?i.So.reset():e&&e.code===ot.RESOURCE_EXHAUSTED?(nr(e.toString()),nr("Using maximum backoff delay to prevent overloading the backend."),i.So.po()):e&&e.code===ot.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.Bo(),i.stream.close(),i.stream=null),i.state=t,yield i.listener.Jr(e)})()}Bo(){}auth(){this.state=1;const t=this.Lo(this.Po),e=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Po===e&&this.Uo(i,r)},i=>{t(()=>{const r=new Ct(ot.UNKNOWN,"Fetching auth token failed: "+i.message);return this.qo(r)})})}Uo(t,e){const i=this.Lo(this.Po);this.stream=this.Ko(t,e),this.stream.zr(()=>{i(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(r=>{i(()=>this.qo(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}xo(){var t=this;this.state=5,this.So.Io((0,ut.Z)(function*(){t.state=0,t.start()}))}qo(t){return St("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Lo(t){return e=>{this.js.enqueueAndForget(()=>this.Po===t?e():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class NW extends uB{constructor(t,e,i,r,a,u){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,u),this.wt=a}Ko(t,e){return this.bo.ho("Listen",t,e)}onMessage(t){this.So.reset();const e=function I$(n,t){let e;if("targetChange"in t){const i="NO_CHANGE"===(_=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:qt(),r=t.targetChange.targetIds||[],a=function(_,w){return _.dt?(vn(void 0===w||"string"==typeof w),gr.fromBase64String(w||"")):(vn(void 0===w||w instanceof Uint8Array),gr.fromUint8Array(w||new Uint8Array))}(n,t.targetChange.resumeToken),u=t.targetChange.cause,h=u&&function(_){const w=void 0===_.code?ot.UNKNOWN:eV(_.code);return new Ct(w,_.message||"")}(u);e=new sV(i,r,a,h||null)}else if("documentChange"in t){const i=t.documentChange,r=Rc(n,i.document.name),a=Fr(i.document.updateTime),u=new is({mapValue:{fields:i.document.fields}}),h=_i.newFoundDocument(r,a,u);e=new UE(i.targetIds||[],i.removedTargetIds||[],h.key,h)}else if("documentDelete"in t){const i=t.documentDelete,r=Rc(n,i.document),a=i.readTime?Fr(i.readTime):mn.min(),u=_i.newNoDocument(r,a);e=new UE([],i.removedTargetIds||[],u.key,u)}else if("documentRemove"in t){const i=t.documentRemove,r=Rc(n,i.document);e=new UE([],i.removedTargetIds||[],r,null)}else{if(!("filter"in t))return qt();{const i=t.filter,a=new v$(i.count||0);e=new rV(i.targetId,a)}}var _;return e}(this.wt,t),i=function(r){if(!("targetChange"in r))return mn.min();const a=r.targetChange;return a.targetIds&&a.targetIds.length?mn.min():a.readTime?Fr(a.readTime):mn.min()}(t);return this.listener.Go(e,i)}Qo(t){const e={};e.database=Bb(this.wt),e.addTarget=function(r,a){let u;const h=a.target;return u=RE(h)?{documents:mV(r,h)}:{query:gV(r,h)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=cV(r,a.resumeToken):a.snapshotVersion.compareTo(mn.min())>0&&(u.readTime=Nb(r,a.snapshotVersion.toTimestamp())),u}(this.wt,t);const i=function k$(n,t){const e=function(i,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return qt()}}(0,t.purpose);return null==e?null:{"goog-listen-tags":e}}(0,t);i&&(e.labels=i),this.Oo(e)}jo(t){const e={};e.database=Bb(this.wt),e.removeTarget=t,this.Oo(e)}}class VW extends uB{constructor(t,e,i,r,a,u){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,u),this.wt=a,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(t,e){return this.bo.ho("Write",t,e)}onMessage(t){if(vn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Wo){this.So.reset();const e=function P$(n,t){return n&&n.length>0?(vn(void 0!==t),n.map(e=>function(i,r){let a=Fr(i.updateTime?i.updateTime:r);return a.isEqual(mn.min())&&(a=Fr(r)),new g$(a,i.transformResults||[])}(e,t))):[]}(t.writeResults,t.commitTime),i=Fr(t.commitTime);return this.listener.Jo(i,e)}return vn(!t.writeResults||0===t.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const t={};t.database=Bb(this.wt),this.Oo(t)}Ho(t){const e={streamToken:this.lastStreamToken,writes:t.map(i=>Ub(this.wt,i))};this.Oo(e)}}class BW extends class{}{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.bo=i,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Ct(ot.FAILED_PRECONDITION,"The client has already been terminated.")}ro(t,e,i){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,a])=>this.bo.ro(t,e,i,r,a)).catch(r=>{throw"FirebaseError"===r.name?(r.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new Ct(ot.UNKNOWN,r.toString())})}ao(t,e,i,r){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.bo.ao(t,e,i,a,u,r)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ot.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Ct(ot.UNKNOWN,a.toString())})}terminate(){this.Zo=!0}}class UW{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(t){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ru("Offline")))}set(t){this.cu(),this.eu=0,"Online"===t&&(this.su=!1),this.ru(t)}ru(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}ou(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(nr(e),this.su=!1):St("OnlineStateTracker",e)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class jW{constructor(t,e,i,r,a){var u=this;this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=a,this.du.Br(h=>{i.enqueueAndForget((0,ut.Z)(function*(){var _;hh(u)&&(St("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,ut.Z)(function*(w){const M=Vt(w);M.lu.add(4),yield o_(M),M._u.set("Unknown"),M.lu.delete(4),yield Zb(M)}),function(w){return _.apply(this,arguments)})(u))}))}),this._u=new UW(i,r)}}function Zb(n){return DP.apply(this,arguments)}function DP(){return DP=(0,ut.Z)(function*(n){if(hh(n))for(const t of n.fu)yield t(!0)}),DP.apply(this,arguments)}function o_(n){return EP.apply(this,arguments)}function EP(){return EP=(0,ut.Z)(function*(n){for(const t of n.fu)yield t(!1)}),EP.apply(this,arguments)}function tA(n,t){const e=Vt(n);e.hu.has(t.targetId)||(e.hu.set(t.targetId,t),TP(e)?SP(e):l_(e).Co()&&AP(e,t))}function Qb(n,t){const e=Vt(n),i=l_(e);e.hu.delete(t),i.Co()&&dB(e,t),0===e.hu.size&&(i.Co()?i.ko():hh(e)&&e._u.set("Unknown"))}function AP(n,t){n.wu.Nt(t.targetId),l_(n).Qo(t)}function dB(n,t){n.wu.Nt(t),l_(n).jo(t)}function SP(n){n.wu=new E$({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),te:t=>n.hu.get(t)||null}),l_(n).start(),n._u.iu()}function TP(n){return hh(n)&&!l_(n).Do()&&n.hu.size>0}function hh(n){return 0===Vt(n).lu.size}function hB(n){n.wu=void 0}function HW(n){return xP.apply(this,arguments)}function xP(){return xP=(0,ut.Z)(function*(n){n.hu.forEach((t,e)=>{AP(n,t)})}),xP.apply(this,arguments)}function GW(n,t){return MP.apply(this,arguments)}function MP(){return MP=(0,ut.Z)(function*(n,t){hB(n),TP(n)?(n._u.uu(t),SP(n)):n._u.set("Unknown")}),MP.apply(this,arguments)}function zW(n,t,e){return IP.apply(this,arguments)}function IP(){return IP=(0,ut.Z)(function*(n,t,e){if(n._u.set("Online"),t instanceof sV&&2===t.state&&t.cause)try{yield(i=(0,ut.Z)(function*(r,a){const u=a.cause;for(const h of a.targetIds)r.hu.has(h)&&(yield r.remoteSyncer.rejectListen(h,u),r.hu.delete(h),r.wu.removeTarget(h))}),function(r,a){return i.apply(this,arguments)})(n,t)}catch(i){St("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),i),yield nA(n,i)}else if(t instanceof UE?n.wu.Ut(t):t instanceof rV?n.wu.zt(t):n.wu.Gt(t),!e.isEqual(mn.min()))try{const i=yield eB(n.localStore);e.compareTo(i)>=0&&(yield function(r,a){const u=r.wu.Yt(a);return u.targetChanges.forEach((h,_)=>{if(h.resumeToken.approximateByteSize()>0){const w=r.hu.get(_);w&&r.hu.set(_,w.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach(h=>{const _=r.hu.get(h);if(!_)return;r.hu.set(h,_.withResumeToken(gr.EMPTY_BYTE_STRING,_.snapshotVersion)),dB(r,h);const w=new ch(_.target,h,1,_.sequenceNumber);AP(r,w)}),r.remoteSyncer.applyRemoteEvent(u)}(n,e))}catch(i){St("RemoteStore","Failed to raise snapshot:",i),yield nA(n,i)}var i}),IP.apply(this,arguments)}function nA(n,t,e){return PP.apply(this,arguments)}function PP(){return PP=(0,ut.Z)(function*(n,t,e){if(!ih(t))throw t;n.lu.add(1),yield o_(n),n._u.set("Offline"),e||(e=()=>eB(n.localStore)),n.asyncQueue.enqueueRetryable((0,ut.Z)(function*(){St("RemoteStore","Retrying IndexedDB access"),yield e(),n.lu.delete(1),yield Zb(n)}))}),PP.apply(this,arguments)}function fB(n,t){return t().catch(e=>nA(n,e,t))}function a_(n){return kP.apply(this,arguments)}function kP(){return kP=(0,ut.Z)(function*(n){const t=Vt(n),e=fh(t);let i=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;$W(t);)try{const r=yield IW(t.localStore,i);if(null===r){0===t.au.length&&e.ko();break}i=r.batchId,WW(t,r)}catch(r){yield nA(t,r)}pB(t)&&mB(t)}),kP.apply(this,arguments)}function $W(n){return hh(n)&&n.au.length<10}function WW(n,t){n.au.push(t);const e=fh(n);e.Co()&&e.zo&&e.Ho(t.mutations)}function pB(n){return hh(n)&&!fh(n).Do()&&n.au.length>0}function mB(n){fh(n).start()}function qW(n){return RP.apply(this,arguments)}function RP(){return RP=(0,ut.Z)(function*(n){fh(n).Xo()}),RP.apply(this,arguments)}function YW(n){return OP.apply(this,arguments)}function OP(){return OP=(0,ut.Z)(function*(n){const t=fh(n);for(const e of n.au)t.Ho(e.mutations)}),OP.apply(this,arguments)}function KW(n,t,e){return FP.apply(this,arguments)}function FP(){return FP=(0,ut.Z)(function*(n,t,e){const i=n.au.shift(),r=rP.from(i,t,e);yield fB(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield a_(n)}),FP.apply(this,arguments)}function ZW(n,t){return LP.apply(this,arguments)}function LP(){return LP=(0,ut.Z)(function*(n,t){var e;t&&fh(n).zo&&(yield(e=(0,ut.Z)(function*(i,r){if(JN(a=r.code)&&a!==ot.ABORTED){const u=i.au.shift();fh(i).No(),yield fB(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,r)),yield a_(i)}var a}),function(i,r){return e.apply(this,arguments)})(n,t)),pB(n)&&mB(n)}),LP.apply(this,arguments)}function gB(n,t){return NP.apply(this,arguments)}function NP(){return NP=(0,ut.Z)(function*(n,t){const e=Vt(n);e.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const i=hh(e);e.lu.add(3),yield o_(e),i&&e._u.set("Unknown"),yield e.remoteSyncer.handleCredentialChange(t),e.lu.delete(3),yield Zb(e)}),NP.apply(this,arguments)}function VP(n,t){return BP.apply(this,arguments)}function BP(){return BP=(0,ut.Z)(function*(n,t){const e=Vt(n);t?(e.lu.delete(2),yield Zb(e)):t||(e.lu.add(2),yield o_(e),e._u.set("Unknown"))}),BP.apply(this,arguments)}function l_(n){return n.mu||(n.mu=function(t,e,i){const r=Vt(t);return r.tu(),new NW(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:HW.bind(null,n),Jr:GW.bind(null,n),Go:zW.bind(null,n)}),n.fu.push(function(){var t=(0,ut.Z)(function*(e){e?(n.mu.No(),TP(n)?SP(n):n._u.set("Unknown")):(yield n.mu.stop(),hB(n))});return function(e){return t.apply(this,arguments)}}())),n.mu}function fh(n){return n.gu||(n.gu=function(t,e,i){const r=Vt(t);return r.tu(),new VW(e,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,i)}(n.datastore,n.asyncQueue,{zr:qW.bind(null,n),Jr:ZW.bind(null,n),Yo:YW.bind(null,n),Jo:KW.bind(null,n)}),n.fu.push(function(){var t=(0,ut.Z)(function*(e){e?(n.gu.No(),yield a_(n)):(yield n.gu.stop(),n.au.length>0&&(St("RemoteStore",`Stopping write stream with ${n.au.length} pending writes`),n.au=[]))});return function(e){return t.apply(this,arguments)}}())),n.gu}class UP{constructor(t,e,i,r,a){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=a,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(t,e,i,r,a){const u=Date.now()+i,h=new UP(t,e,u,r,a);return h.start(i),h}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ct(ot.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function c_(n,t){if(nr("AsyncQueue",`${t}: ${n}`),ih(n))return new Ct(ot.UNAVAILABLE,`${t}: ${n}`);throw n}class u_{constructor(t){this.comparator=t?(e,i)=>t(e,i)||Lt.comparator(e.key,i.key):(e,i)=>Lt.comparator(e.key,i.key),this.keyedMap=Rb(),this.sortedSet=new Ki(this.comparator)}static emptySet(t){return new u_(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,i)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof u_)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,a=i.getNext().key;if(!r.isEqual(a))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const i=new u_;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class _B{constructor(){this.yu=new Ki(Lt.comparator)}track(t){const e=t.doc.key,i=this.yu.get(e);i?0!==t.type&&3===i.type?this.yu=this.yu.insert(e,t):3===t.type&&1!==i.type?this.yu=this.yu.insert(e,{type:i.type,doc:t.doc}):2===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===i.type?this.yu=this.yu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===i.type?this.yu=this.yu.remove(e):1===t.type&&2===i.type?this.yu=this.yu.insert(e,{type:1,doc:i.doc}):0===t.type&&1===i.type?this.yu=this.yu.insert(e,{type:2,doc:t.doc}):qt():this.yu=this.yu.insert(e,t)}pu(){const t=[];return this.yu.inorderTraversal((e,i)=>{t.push(i)}),t}}class d_{constructor(t,e,i,r,a,u,h,_){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=_}static fromInitialDocuments(t,e,i,r){const a=[];return e.forEach(u=>{a.push({type:0,doc:u})}),new d_(t,e,u_.emptySet(e),a,i,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ib(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class QW{constructor(){this.Iu=void 0,this.listeners=[]}}class XW{constructor(){this.queries=new lh(t=>NN(t),Ib),this.onlineState="Unknown",this.Tu=new Set}}function jP(n,t){return HP.apply(this,arguments)}function HP(){return HP=(0,ut.Z)(function*(n,t){const e=Vt(n),i=t.query;let r=!1,a=e.queries.get(i);if(a||(r=!0,a=new QW),r)try{a.Iu=yield e.onListen(i)}catch(u){const h=c_(u,`Initialization of query '${ZI(t.query)}' failed`);return void t.onError(h)}e.queries.set(i,a),a.listeners.push(t),t.Eu(e.onlineState),a.Iu&&t.Au(a.Iu)&&$P(e)}),HP.apply(this,arguments)}function GP(n,t){return zP.apply(this,arguments)}function zP(){return zP=(0,ut.Z)(function*(n,t){const e=Vt(n),i=t.query;let r=!1;const a=e.queries.get(i);if(a){const u=a.listeners.indexOf(t);u>=0&&(a.listeners.splice(u,1),r=0===a.listeners.length)}if(r)return e.queries.delete(i),e.onUnlisten(i)}),zP.apply(this,arguments)}function JW(n,t){const e=Vt(n);let i=!1;for(const r of t){const u=e.queries.get(r.query);if(u){for(const h of u.listeners)h.Au(r)&&(i=!0);u.Iu=r}}i&&$P(e)}function e6(n,t,e){const i=Vt(n),r=i.queries.get(t);if(r)for(const a of r.listeners)a.onError(e);i.queries.delete(t)}function $P(n){n.Tu.forEach(t=>{t.next()})}class WP{constructor(t,e,i){this.query=t,this.Ru=e,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=i||{}}Au(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)3!==r.type&&i.push(r);t=new d_(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.bu?this.vu(t)&&(this.Ru.next(t),e=!0):this.Vu(t,this.onlineState)&&(this.Su(t),e=!0),this.Pu=t,e}onError(t){this.Ru.error(t)}Eu(t){this.onlineState=t;let e=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,t)&&(this.Su(this.Pu),e=!0),e}Vu(t,e){return!t.fromCache||!(this.options.Du&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}vu(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(t){t=d_.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.bu=!0,this.Ru.next(t)}}class t6{constructor(t,e){this.payload=t,this.byteLength=e}Cu(){return"metadata"in this.payload}}class yB{constructor(t){this.wt=t}Wi(t){return Rc(this.wt,t)}zi(t){return t.metadata.exists?pV(this.wt,t.document,!1):_i.newNoDocument(this.Wi(t.metadata.name),this.Hi(t.metadata.readTime))}Hi(t){return Fr(t)}}class n6{constructor(t,e,i){this.xu=t,this.localStore=e,this.wt=i,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=vB(t)}Nu(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;if(t.payload.namedQuery)this.queries.push(t.payload.namedQuery);else if(t.payload.documentMetadata){this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e;const i=Un.fromString(t.payload.documentMetadata.name);this.collectionGroups.add(i.get(i.length-2))}else t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e);return e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}ku(t){const e=new Map,i=new yB(this.wt);for(const r of t)if(r.metadata.queries){const a=i.Wi(r.metadata.name);for(const u of r.metadata.queries){const h=(e.get(u)||Tn()).add(a);e.set(u,h)}}return e}complete(){var t=this;return(0,ut.Z)(function*(){const e=yield function PW(n,t,e,i){return gP.apply(this,arguments)}(t.localStore,new yB(t.wt),t.documents,t.xu.id),i=t.ku(t.documents);for(const r of t.queries)yield kW(t.localStore,r,i.get(r.name));return t.progress.taskState="Success",{progress:t.progress,Mu:t.collectionGroups,Ou:e}})()}}function vB(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class bB{constructor(t){this.key=t}}class wB{constructor(t){this.key=t}}class CB{constructor(t,e){this.query=t,this.Fu=e,this.$u=null,this.current=!1,this.Bu=Tn(),this.mutatedKeys=Tn(),this.Lu=BN(t),this.Uu=new u_(this.Lu)}get qu(){return this.Fu}Ku(t,e){const i=e?e.Gu:new _B,r=e?e.Uu:this.Uu;let a=e?e.mutatedKeys:this.mutatedKeys,u=r,h=!1;const _="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,w="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((M,j)=>{const Ce=r.get(M),Me=QI(this.query,j)?j:null,Le=!!Ce&&this.mutatedKeys.has(Ce.key),$e=!!Me&&(Me.hasLocalMutations||this.mutatedKeys.has(Me.key)&&Me.hasCommittedMutations);let st=!1;Ce&&Me?Ce.data.isEqual(Me.data)?Le!==$e&&(i.track({type:3,doc:Me}),st=!0):this.Qu(Ce,Me)||(i.track({type:2,doc:Me}),st=!0,(_&&this.Lu(Me,_)>0||w&&this.Lu(Me,w)<0)&&(h=!0)):!Ce&&Me?(i.track({type:0,doc:Me}),st=!0):Ce&&!Me&&(i.track({type:1,doc:Ce}),st=!0,(_||w)&&(h=!0)),st&&(Me?(u=u.add(Me),a=$e?a.add(M):a.delete(M)):(u=u.delete(M),a=a.delete(M)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const M="F"===this.query.limitType?u.last():u.first();u=u.delete(M.key),a=a.delete(M.key),i.track({type:1,doc:M})}return{Uu:u,Gu:i,Mi:h,mutatedKeys:a}}Qu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i){const r=this.Uu;this.Uu=t.Uu,this.mutatedKeys=t.mutatedKeys;const a=t.Gu.pu();a.sort((w,M)=>function(j,Ce){const Me=Le=>{switch(Le){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qt()}};return Me(j)-Me(Ce)}(w.type,M.type)||this.Lu(w.doc,M.doc)),this.ju(i);const u=e?this.Wu():[],h=0===this.Bu.size&&this.current?1:0,_=h!==this.$u;return this.$u=h,0!==a.length||_?{snapshot:new d_(this.query,t.Uu,r,a,t.mutatedKeys,0===h,_,!1),zu:u}:{zu:u}}Eu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new _B,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{zu:[]}}Hu(t){return!this.Fu.has(t)&&!!this.Uu.has(t)&&!this.Uu.get(t).hasLocalMutations}ju(t){t&&(t.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),t.modifiedDocuments.forEach(e=>{}),t.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=t.current)}Wu(){if(!this.current)return[];const t=this.Bu;this.Bu=Tn(),this.Uu.forEach(i=>{this.Hu(i.key)&&(this.Bu=this.Bu.add(i.key))});const e=[];return t.forEach(i=>{this.Bu.has(i)||e.push(new wB(i))}),this.Bu.forEach(i=>{t.has(i)||e.push(new bB(i))}),e}Ju(t){this.Fu=t.ji,this.Bu=Tn();const e=this.Ku(t.documents);return this.applyChanges(e,!0)}Yu(){return d_.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class r6{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class s6{constructor(t){this.key=t,this.Xu=!1}}class o6{constructor(t,e,i,r,a,u){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Zu={},this.tc=new lh(h=>NN(h),Ib),this.ec=new Map,this.nc=new Set,this.sc=new Ki(Lt.comparator),this.ic=new Map,this.rc=new cP,this.oc={},this.uc=new Map,this.cc=yp.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function a6(n,t){return qP.apply(this,arguments)}function qP(){return qP=(0,ut.Z)(function*(n,t){const e=gk(n);let i,r;const a=e.tc.get(t);if(a)i=a.targetId,e.sharedClientState.addLocalQueryTarget(i),r=a.view.Yu();else{const u=yield r_(e.localStore,ho(t));e.isPrimaryClient&&tA(e.remoteStore,u);const h=e.sharedClientState.addLocalQueryTarget(u.targetId);i=u.targetId,r=yield YP(e,t,i,"current"===h)}return r}),qP.apply(this,arguments)}function YP(n,t,e,i){return KP.apply(this,arguments)}function KP(){return KP=(0,ut.Z)(function*(n,t,e,i){n.hc=(M,j,Ce)=>{return(Me=(0,ut.Z)(function*(Le,$e,st,It){let Bt=$e.view.Ku(st);Bt.Mi&&(Bt=yield QE(Le.localStore,$e.query,!1).then(({documents:hn})=>$e.view.Ku(hn,Bt)));const Qt=It&&It.targetChanges.get($e.targetId),Gt=$e.view.applyChanges(Bt,Le.isPrimaryClient,Qt);return sk(Le,$e.targetId,Gt.zu),Gt.snapshot}),function(Le,$e,st,It){return Me.apply(this,arguments)})(n,M,j,Ce);var Me};const r=yield QE(n.localStore,t,!0),a=new CB(t,r.ji),u=a.Ku(r.documents),h=Lb.createSynthesizedTargetChangeForCurrentChange(e,i&&"Offline"!==n.onlineState),_=a.applyChanges(u,n.isPrimaryClient,h);sk(n,e,_.zu);const w=new r6(t,e,a);return n.tc.set(t,w),n.ec.has(e)?n.ec.get(e).push(t):n.ec.set(e,[t]),_.snapshot}),KP.apply(this,arguments)}function l6(n,t){return ZP.apply(this,arguments)}function ZP(){return ZP=(0,ut.Z)(function*(n,t){const e=Vt(n),i=e.tc.get(t),r=e.ec.get(i.targetId);if(r.length>1)return e.ec.set(i.targetId,r.filter(a=>!Ib(a,t))),void e.tc.delete(t);e.isPrimaryClient?(e.sharedClientState.removeLocalQueryTarget(i.targetId),e.sharedClientState.isActiveQueryTarget(i.targetId)||(yield s_(e.localStore,i.targetId,!1).then(()=>{e.sharedClientState.clearQueryState(i.targetId),Qb(e.remoteStore,i.targetId),h_(e,i.targetId)}).catch(nh))):(h_(e,i.targetId),yield s_(e.localStore,i.targetId,!0))}),ZP.apply(this,arguments)}function QP(){return QP=(0,ut.Z)(function*(n,t,e){const i=_k(n);try{const r=yield function(a,u){const h=Vt(a),_=Ri.now(),w=u.reduce((Ce,Me)=>Ce.add(Me.key),Tn());let M,j;return h.persistence.runTransaction("Locally write mutations","readwrite",Ce=>{let Me=fo(),Le=Tn();return h.Ui.getEntries(Ce,w).next($e=>{Me=$e,Me.forEach((st,It)=>{It.isValidDocument()||(Le=Le.add(st))})}).next(()=>h.localDocuments.getOverlayedDocuments(Ce,Me)).next($e=>{M=$e;const st=[];for(const It of u){const Bt=y$(It,M.get(It.key).overlayedDocument);null!=Bt&&st.push(new qu(It.key,Bt,xN(Bt.value.mapValue),Ni.exists(!0)))}return h.mutationQueue.addMutationBatch(Ce,_,st,u)}).next($e=>{j=$e;const st=$e.applyToLocalDocumentSet(M,Le);return h.documentOverlayCache.saveOverlays(Ce,$e.batchId,st)})}).then(()=>({batchId:j.batchId,changes:nV(M)}))}(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),function(a,u,h){let _=a.oc[a.currentUser.toKey()];_||(_=new Ki(An)),_=_.insert(u,h),a.oc[a.currentUser.toKey()]=_}(i,r.batchId,e),yield Yu(i,r.changes),yield a_(i.remoteStore)}catch(r){const a=c_(r,"Failed to persist write");e.reject(a)}}),QP.apply(this,arguments)}function DB(n,t){return XP.apply(this,arguments)}function XP(){return XP=(0,ut.Z)(function*(n,t){const e=Vt(n);try{const i=yield MW(e.localStore,t);t.targetChanges.forEach((r,a)=>{const u=e.ic.get(a);u&&(vn(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?u.Xu=!0:r.modifiedDocuments.size>0?vn(u.Xu):r.removedDocuments.size>0&&(vn(u.Xu),u.Xu=!1))}),yield Yu(e,i,t)}catch(i){yield nh(i)}}),XP.apply(this,arguments)}function EB(n,t,e){const i=Vt(n);if(i.isPrimaryClient&&0===e||!i.isPrimaryClient&&1===e){const r=[];i.tc.forEach((a,u)=>{const h=u.view.Eu(t);h.snapshot&&r.push(h.snapshot)}),function(a,u){const h=Vt(a);h.onlineState=u;let _=!1;h.queries.forEach((w,M)=>{for(const j of M.listeners)j.Eu(u)&&(_=!0)}),_&&$P(h)}(i.eventManager,t),r.length&&i.Zu.Go(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}function u6(n,t,e){return JP.apply(this,arguments)}function JP(){return JP=(0,ut.Z)(function*(n,t,e){const i=Vt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.ic.get(t),a=r&&r.key;if(a){let u=new Ki(Lt.comparator);u=u.insert(a,_i.newNoDocument(a,mn.min()));const h=Tn().add(a),_=new Fb(mn.min(),new Map,new ui(An),u,h);yield DB(i,_),i.sc=i.sc.remove(a),i.ic.delete(t),ok(i)}else yield s_(i.localStore,t,!1).then(()=>h_(i,t,e)).catch(nh)}),JP.apply(this,arguments)}function d6(n,t){return ek.apply(this,arguments)}function ek(){return ek=(0,ut.Z)(function*(n,t){const e=Vt(n),i=t.batch.batchId;try{const r=yield xW(e.localStore,t);rk(e,i,null),ik(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),yield Yu(e,r)}catch(r){yield nh(r)}}),ek.apply(this,arguments)}function h6(n,t,e){return tk.apply(this,arguments)}function tk(){return tk=(0,ut.Z)(function*(n,t,e){const i=Vt(n);try{const r=yield function(a,u){const h=Vt(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let w;return h.mutationQueue.lookupMutationBatch(_,u).next(M=>(vn(null!==M),w=M.keys(),h.mutationQueue.removeMutationBatch(_,M))).next(()=>h.mutationQueue.performConsistencyCheck(_)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(_,w,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,w)).next(()=>h.localDocuments.getDocuments(_,w))})}(i.localStore,t);rk(i,t,e),ik(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),yield Yu(i,r)}catch(r){yield nh(r)}}),tk.apply(this,arguments)}function nk(){return nk=(0,ut.Z)(function*(n,t){const e=Vt(n);hh(e.remoteStore)||St("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const i=yield function(a){const u=Vt(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(e.localStore);if(-1===i)return void t.resolve();const r=e.uc.get(i)||[];r.push(t),e.uc.set(i,r)}catch(i){const r=c_(i,"Initialization of waitForPendingWrites() operation failed");t.reject(r)}}),nk.apply(this,arguments)}function ik(n,t){(n.uc.get(t)||[]).forEach(e=>{e.resolve()}),n.uc.delete(t)}function rk(n,t,e){const i=Vt(n);let r=i.oc[i.currentUser.toKey()];if(r){const a=r.get(t);a&&(e?a.reject(e):a.resolve(),r=r.remove(t)),i.oc[i.currentUser.toKey()]=r}}function h_(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.ec.get(t))n.tc.delete(i),e&&n.Zu.lc(i,e);n.ec.delete(t),n.isPrimaryClient&&n.rc.us(t).forEach(i=>{n.rc.containsKey(i)||AB(n,i)})}function AB(n,t){n.nc.delete(t.path.canonicalString());const e=n.sc.get(t);null!==e&&(Qb(n.remoteStore,e),n.sc=n.sc.remove(t),n.ic.delete(e),ok(n))}function sk(n,t,e){for(const i of e)i instanceof bB?(n.rc.addReference(i.key,t),p6(n,i)):i instanceof wB?(St("SyncEngine","Document no longer in limbo: "+i.key),n.rc.removeReference(i.key,t),n.rc.containsKey(i.key)||AB(n,i.key)):qt()}function p6(n,t){const e=t.key,i=e.path.canonicalString();n.sc.get(e)||n.nc.has(i)||(St("SyncEngine","New document in limbo: "+e),n.nc.add(i),ok(n))}function ok(n){for(;n.nc.size>0&&n.sc.size<n.maxConcurrentLimboResolutions;){const t=n.nc.values().next().value;n.nc.delete(t);const e=new Lt(Un.fromString(t)),i=n.cc.next();n.ic.set(i,new s6(e)),n.sc=n.sc.insert(e,i),tA(n.remoteStore,new ch(ho(Yg(e.path)),i,2,uo.ot))}}function Yu(n,t,e){return ak.apply(this,arguments)}function ak(){return ak=(0,ut.Z)(function*(n,t,e){const i=Vt(n),r=[],a=[],u=[];var h;i.tc.isEmpty()||(i.tc.forEach((h,_)=>{u.push(i.hc(_,t,e).then(w=>{if(w){i.isPrimaryClient&&i.sharedClientState.updateQueryState(_.targetId,w.fromCache?"not-current":"current"),r.push(w);const M=fP.Vi(_.targetId,w);a.push(M)}}))}),yield Promise.all(u),i.Zu.Go(r),yield(h=(0,ut.Z)(function*(_,w){const M=Vt(_);try{yield M.persistence.runTransaction("notifyLocalViewChanges","readwrite",j=>et.forEach(w,Ce=>et.forEach(Ce.Pi,Me=>M.persistence.referenceDelegate.addReference(j,Ce.targetId,Me)).next(()=>et.forEach(Ce.vi,Me=>M.persistence.referenceDelegate.removeReference(j,Ce.targetId,Me)))))}catch(j){if(!ih(j))throw j;St("LocalStore","Failed to update sequence numbers: "+j)}for(const j of w){const Ce=j.targetId;if(!j.fromCache){const Me=M.$i.get(Ce),$e=Me.withLastLimboFreeSnapshotVersion(Me.snapshotVersion);M.$i=M.$i.insert(Ce,$e)}}}),function(_,w){return h.apply(this,arguments)})(i.localStore,a))}),ak.apply(this,arguments)}function m6(n,t){return lk.apply(this,arguments)}function lk(){return lk=(0,ut.Z)(function*(n,t){const e=Vt(n);if(!e.currentUser.isEqual(t)){St("SyncEngine","User change. New user:",t.toKey());const i=yield JV(e.localStore,t);e.currentUser=t,(r=e).uc.forEach(u=>{u.forEach(h=>{h.reject(new Ct(ot.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.uc.clear(),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),yield Yu(e,i.Ki)}var r}),lk.apply(this,arguments)}function g6(n,t){const e=Vt(n),i=e.ic.get(t);if(i&&i.Xu)return Tn().add(i.key);{let r=Tn();const a=e.ec.get(t);if(!a)return r;for(const u of a){const h=e.tc.get(u);r=r.unionWith(h.view.qu)}return r}}function _6(n,t){return ck.apply(this,arguments)}function ck(){return ck=(0,ut.Z)(function*(n,t){const e=Vt(n),i=yield QE(e.localStore,t.query,!0),r=t.view.Ju(i);return e.isPrimaryClient&&sk(e,t.targetId,r.zu),r}),ck.apply(this,arguments)}function y6(n,t){return uk.apply(this,arguments)}function uk(){return uk=(0,ut.Z)(function*(n,t){const e=Vt(n);return iB(e.localStore,t).then(i=>Yu(e,i))}),uk.apply(this,arguments)}function v6(n,t,e,i){return dk.apply(this,arguments)}function dk(){return dk=(0,ut.Z)(function*(n,t,e,i){const r=Vt(n),a=yield function(u,h){const _=Vt(u),w=Vt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",M=>w.yn(M,h).next(j=>j?_.localDocuments.getDocuments(M,j):et.resolve(null)))}(r.localStore,t);var h;null!==a?("pending"===e?yield a_(r.remoteStore):"acknowledged"===e||"rejected"===e?(rk(r,t,i||null),ik(r,t),h=t,Vt(Vt(r.localStore).mutationQueue).In(h)):qt(),yield Yu(r,a)):St("SyncEngine","Cannot apply mutation batch with id: "+t)}),dk.apply(this,arguments)}function hk(){return hk=(0,ut.Z)(function*(n,t){const e=Vt(n);if(gk(e),_k(e),!0===t&&!0!==e.ac){const i=e.sharedClientState.getAllActiveQueryTargets(),r=yield SB(e,i.toArray());e.ac=!0,yield VP(e.remoteStore,!0);for(const a of r)tA(e.remoteStore,a)}else if(!1===t&&!1!==e.ac){const i=[];let r=Promise.resolve();e.ec.forEach((a,u)=>{e.sharedClientState.isLocalQueryTarget(u)?i.push(u):r=r.then(()=>(h_(e,u),s_(e.localStore,u,!0))),Qb(e.remoteStore,u)}),yield r,yield SB(e,i),function(a){const u=Vt(a);u.ic.forEach((h,_)=>{Qb(u.remoteStore,_)}),u.rc.cs(),u.ic=new Map,u.sc=new Ki(Lt.comparator)}(e),e.ac=!1,yield VP(e.remoteStore,!1)}}),hk.apply(this,arguments)}function SB(n,t,e){return fk.apply(this,arguments)}function fk(){return fk=(0,ut.Z)(function*(n,t,e){const i=Vt(n),r=[],a=[];for(const u of t){let h;const _=i.ec.get(u);if(_&&0!==_.length){h=yield r_(i.localStore,ho(_[0]));for(const w of _){const M=i.tc.get(w),j=yield _6(i,M);j.snapshot&&a.push(j.snapshot)}}else{const w=yield nB(i.localStore,u);h=yield r_(i.localStore,w),yield YP(i,TB(w),u,!1)}r.push(h)}return i.Zu.Go(a),r}),fk.apply(this,arguments)}function TB(n){return FN(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function w6(n){const t=Vt(n);return Vt(Vt(t.localStore).persistence).Ri()}function C6(n,t,e,i){return pk.apply(this,arguments)}function pk(){return pk=(0,ut.Z)(function*(n,t,e,i){const r=Vt(n);if(r.ac)return void St("SyncEngine","Ignoring unexpected query state notification.");const a=r.ec.get(t);if(a&&a.length>0)switch(e){case"current":case"not-current":{const u=yield iB(r.localStore,VN(a[0])),h=Fb.createSynthesizedRemoteEventForCurrentChange(t,"current"===e);yield Yu(r,u,h);break}case"rejected":yield s_(r.localStore,t,!0),h_(r,t,i);break;default:qt()}}),pk.apply(this,arguments)}function D6(n,t,e){return mk.apply(this,arguments)}function mk(){return mk=(0,ut.Z)(function*(n,t,e){const i=gk(n);if(i.ac){for(const r of t){if(i.ec.has(r)){St("SyncEngine","Adding an already active target "+r);continue}const a=yield nB(i.localStore,r),u=yield r_(i.localStore,a);yield YP(i,TB(a),u.targetId,!1),tA(i.remoteStore,u)}for(const r of e)i.ec.has(r)&&(yield s_(i.localStore,r,!1).then(()=>{Qb(i.remoteStore,r),h_(i,r)}).catch(nh))}}),mk.apply(this,arguments)}function gk(n){const t=Vt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=DB.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=g6.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=u6.bind(null,t),t.Zu.Go=JW.bind(null,t.eventManager),t.Zu.lc=e6.bind(null,t.eventManager),t}function _k(n){const t=Vt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=d6.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=h6.bind(null,t),t}class xB{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,ut.Z)(function*(){e.wt=Kb(t.databaseInfo.databaseId),e.sharedClientState=e.dc(t),e.persistence=e._c(t),yield e.persistence.start(),e.localStore=e.wc(t),e.gcScheduler=e.mc(t,e.localStore),e.indexBackfillerScheduler=e.gc(t,e.localStore)})()}mc(t,e){return null}gc(t,e){return null}wc(t){return XV(this.persistence,new QV,t.initialUser,this.wt)}_c(t){return new KV(KE.Os,this.wt)}dc(t){return new aB}terminate(){var t=this;return(0,ut.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class MB extends xB{constructor(t,e,i){super(),this.yc=t,this.cacheSizeBytes=e,this.forceOwnership=i,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,i=this;return(0,ut.Z)(function*(){yield e().call(i,t),yield i.yc.initialize(i,t),yield _k(i.yc.syncEngine),yield a_(i.yc.remoteStore),yield i.persistence.ci(()=>(i.gcScheduler&&!i.gcScheduler.started&&i.gcScheduler.start(),i.indexBackfillerScheduler&&!i.indexBackfillerScheduler.started&&i.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(t){return XV(this.persistence,new QV,t.initialUser,this.wt)}mc(t,e){return new fW(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue,e)}gc(t,e){const i=new Zz(e,this.persistence);return new Kz(t.asyncQueue,i)}_c(t){const e=hP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),i=void 0!==this.cacheSizeBytes?po.withCacheSize(this.cacheSizeBytes):po.DEFAULT;return new dP(this.synchronizeTabs,e,t.clientId,i,t.asyncQueue,cB(),eA(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(t){return new aB}}class A6 extends MB{constructor(t,e){super(t,e,!1),this.yc=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,i=this;return(0,ut.Z)(function*(){yield e().call(i,t);const r=i.yc.syncEngine;i.sharedClientState instanceof wP&&(i.sharedClientState.syncEngine={kr:v6.bind(null,r),Mr:C6.bind(null,r),Or:D6.bind(null,r),Ri:w6.bind(null,r),Nr:y6.bind(null,r)},yield i.sharedClientState.start()),yield i.persistence.ci(function(){var a=(0,ut.Z)(function*(u){yield function b6(n,t){return hk.apply(this,arguments)}(i.yc.syncEngine,u),i.gcScheduler&&(u&&!i.gcScheduler.started?i.gcScheduler.start():u||i.gcScheduler.stop()),i.indexBackfillerScheduler&&(u&&!i.indexBackfillerScheduler.started?i.indexBackfillerScheduler.start():u||i.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}dc(t){const e=cB();if(!wP.V(e))throw new Ct(ot.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=hP(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new wP(e,t.asyncQueue,i,t.clientId,t.initialUser)}}class yk{initialize(t,e){var i=this;return(0,ut.Z)(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(e),i.remoteStore=i.createRemoteStore(e),i.eventManager=i.createEventManager(e),i.syncEngine=i.createSyncEngine(e,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>EB(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=m6.bind(null,i.syncEngine),yield VP(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new XW}createDatastore(t){const e=Kb(t.databaseInfo.databaseId),i=new LW(t.databaseInfo);return new BW(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return e=this.localStore,i=this.datastore,r=t.asyncQueue,a=h=>EB(this.syncEngine,h,0),u=lB.V()?new lB:new RW,new jW(e,i,r,a,u);var e,i,r,a,u}createSyncEngine(t,e){return function(i,r,a,u,h,_,w){const M=new o6(i,r,a,u,h,_);return w&&(M.ac=!0),M}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,ut.Z)(function*(e){const i=Vt(e);St("RemoteStore","RemoteStore shutting down."),i.lu.add(5),yield o_(i),i.du.shutdown(),i._u.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function IB(n,t=10240){let e=0;return{read:()=>(0,ut.Z)(function*(){if(e<n.byteLength){const i={value:n.slice(e,e+t),done:!1};return e+=t,i}return{done:!0}})(),cancel:()=>(0,ut.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class iA{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Ic(this.observer.next,t)}error(t){this.observer.error?this.Ic(this.observer.error,t):nr("Uncaught Error in snapshot listener:",t)}Tc(){this.muted=!0}Ic(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class S6{constructor(t,e){this.Ec=t,this.wt=e,this.metadata=new Or,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(i=>{i&&i.Cu()?this.metadata.resolve(i.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(i?.payload)}`))},i=>this.metadata.reject(i))}close(){return this.Ec.cancel()}getMetadata(){var t=this;return(0,ut.Z)(function*(){return t.metadata.promise})()}fc(){var t=this;return(0,ut.Z)(function*(){return yield t.getMetadata(),t.Rc()})()}Rc(){var t=this;return(0,ut.Z)(function*(){const e=yield t.bc();if(null===e)return null;const i=t.Ac.decode(e),r=Number(i);isNaN(r)&&t.Pc(`length string (${i}) is not valid number`);const a=yield t.vc(r);return new t6(JSON.parse(a),e.length+r)})()}Vc(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}bc(){var t=this;return(0,ut.Z)(function*(){for(;t.Vc()<0&&!(yield t.Sc()););if(0===t.buffer.length)return null;const e=t.Vc();e<0&&t.Pc("Reached the end of bundle when a length string is expected.");const i=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),i})()}vc(t){var e=this;return(0,ut.Z)(function*(){for(;e.buffer.length<t;)(yield e.Sc())&&e.Pc("Reached the end of bundle when more is expected.");const i=e.Ac.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),i})()}Pc(t){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${t}`)}Sc(){var t=this;return(0,ut.Z)(function*(){const e=yield t.Ec.read();if(!e.done){const i=new Uint8Array(t.buffer.length+e.value.length);i.set(t.buffer),i.set(e.value,t.buffer.length),t.buffer=i}return e.done})()}}class T6{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,ut.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new Ct(ot.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const i=yield(r=(0,ut.Z)(function*(a,u){const h=Vt(a),_=Bb(h.wt)+"/documents",w={documents:u.map(Me=>Vb(h.wt,Me))},M=yield h.ao("BatchGetDocuments",_,w,u.length),j=new Map;M.forEach(Me=>{const Le=function M$(n,t){return"found"in t?function(e,i){vn(!!i.found);const r=Rc(e,i.found.name),a=Fr(i.found.updateTime),u=new is({mapValue:{fields:i.found.fields}});return _i.newFoundDocument(r,a,u)}(n,t):"missing"in t?function(e,i){vn(!!i.missing),vn(!!i.readTime);const r=Rc(e,i.missing),a=Fr(i.readTime);return _i.newNoDocument(r,a)}(n,t):qt()}(h.wt,Me);j.set(Le.key.toString(),Le)});const Ce=[];return u.forEach(Me=>{const Le=j.get(Me.toString());vn(!!Le),Ce.push(Le)}),Ce}),function(a,u){return r.apply(this,arguments)})(e.datastore,t);var r;return i.forEach(r=>e.recordVersion(r)),i})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(i){this.lastWriteError=i}this.writtenDocs.add(t.toString())}delete(t){this.write(new Jg(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,ut.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var i;t.mutations.forEach(i=>{e.delete(i.key.toString())}),e.forEach((i,r)=>{const a=Lt.fromPath(r);t.mutations.push(new XI(a,t.precondition(a)))}),yield(i=(0,ut.Z)(function*(r,a){const u=Vt(r),h=Bb(u.wt)+"/documents",_={writes:a.map(w=>Ub(u.wt,w))};yield u.ro("Commit",h,_)}),function(r,a){return i.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw qt();e=mn.min()}const i=this.readVersions.get(t.key.toString());if(i){if(!e.isEqual(i))throw new Ct(ot.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?Ni.updateTime(e):Ni.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(mn.min()))throw new Ct(ot.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ni.updateTime(e)}return Ni.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class x6{constructor(t,e,i,r,a){this.asyncQueue=t,this.datastore=e,this.options=i,this.updateFunction=r,this.deferred=a,this.Dc=i.maxAttempts,this.So=new CP(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var t=this;this.So.Io((0,ut.Z)(function*(){const e=new T6(t.datastore),i=t.xc(e);i&&i.then(r=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(r)}).catch(a=>{t.Nc(a)}))}).catch(r=>{t.Nc(r)})}))}xc(t){try{const e=this.updateFunction(t);return!Eb(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(t){this.Dc>0&&this.kc(t)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(t)}kc(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!JN(e)}return!1}}class M6{constructor(t,e,i,r){var a=this;this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Rr.UNAUTHENTICATED,this.clientId=uN.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var u=(0,ut.Z)(function*(h){St("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(i,u=>(St("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var t=this;return(0,ut.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,authCredentials:t.authCredentials,appCheckCredentials:t.appCheckCredentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ct(ot.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ut.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.authCredentials.shutdown(),t.appCheckCredentials.shutdown(),e.resolve()}catch(i){const r=c_(i,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}function PB(n,t){return vk.apply(this,arguments)}function vk(){return vk=(0,ut.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const e=yield n.getConfiguration();yield t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener(function(){var r=(0,ut.Z)(function*(a){i.isEqual(a)||(yield JV(t.localStore,a),i=a)});return function(a){return r.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=t}),vk.apply(this,arguments)}function kB(n,t){return bk.apply(this,arguments)}function bk(){return bk=(0,ut.Z)(function*(n,t){n.asyncQueue.verifyOperationInProgress();const e=yield wk(n);St("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield t.initialize(e,i),n.setCredentialChangeListener(r=>gB(t.remoteStore,r)),n.setAppCheckTokenChangeListener((r,a)=>gB(t.remoteStore,a)),n.onlineComponents=t}),bk.apply(this,arguments)}function wk(n){return Ck.apply(this,arguments)}function Ck(){return Ck=(0,ut.Z)(function*(n){return n.offlineComponents||(St("FirestoreClient","Using default OfflineComponentProvider"),yield PB(n,new xB)),n.offlineComponents}),Ck.apply(this,arguments)}function rA(n){return Dk.apply(this,arguments)}function Dk(){return Dk=(0,ut.Z)(function*(n){return n.onlineComponents||(St("FirestoreClient","Using default OnlineComponentProvider"),yield kB(n,new yk)),n.onlineComponents}),Dk.apply(this,arguments)}function RB(n){return wk(n).then(t=>t.persistence)}function sA(n){return wk(n).then(t=>t.localStore)}function OB(n){return rA(n).then(t=>t.remoteStore)}function Ek(n){return rA(n).then(t=>t.syncEngine)}function f_(n){return Ak.apply(this,arguments)}function Ak(){return Ak=(0,ut.Z)(function*(n){const t=yield rA(n),e=t.eventManager;return e.onListen=a6.bind(null,t.syncEngine),e.onUnlisten=l6.bind(null,t.syncEngine),e}),Ak.apply(this,arguments)}function FB(n,t,e={}){const i=new Or;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function(r,a,u,h,_){const w=new iA({next:j=>{a.enqueueAndForget(()=>GP(r,M));const Ce=j.docs.has(u);!Ce&&j.fromCache?_.reject(new Ct(ot.UNAVAILABLE,"Failed to get document because the client is offline.")):Ce&&j.fromCache&&h&&"server"===h.source?_.reject(new Ct(ot.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(j)},error:j=>_.reject(j)}),M=new WP(Yg(u.path),w,{includeMetadataChanges:!0,Du:!0});return jP(r,M)}(yield f_(n),n.asyncQueue,t,e,i)})),i.promise}function LB(n,t,e={}){const i=new Or;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function(r,a,u,h,_){const w=new iA({next:j=>{a.enqueueAndForget(()=>GP(r,M)),j.fromCache&&"server"===h.source?_.reject(new Ct(ot.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(j)},error:j=>_.reject(j)}),M=new WP(u,w,{includeMetadataChanges:!0,Du:!0});return jP(r,M)}(yield f_(n),n.asyncQueue,t,e,i)})),i.promise}const NB=new Map;function Sk(n,t,e){if(!e)throw new Ct(ot.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function VB(n,t,e,i){if(!0===t&&!0===i)throw new Ct(ot.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function BB(n){if(!Lt.isDocumentKey(n))throw new Ct(ot.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function UB(n){if(Lt.isDocumentKey(n))throw new Ct(ot.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function oA(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const t=(e=n).constructor?e.constructor.name:null;return t?`a custom ${t} object`:"an object"}}var e;return"function"==typeof n?"a function":qt()}function Ln(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new Ct(ot.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=oA(n);throw new Ct(ot.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function jB(n,t){if(t<=0)throw new Ct(ot.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${t}.`)}class HB{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ct(ot.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ct(ot.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,VB("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Xb{constructor(t,e,i){this._authCredentials=e,this._appCheckCredentials=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HB({}),this._settingsFrozen=!1,t instanceof $u?this._databaseId=t:(this._app=t,this._databaseId=function(r){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new Ct(ot.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $u(r.options.projectId)}(t))}get app(){if(!this._app)throw new Ct(ot.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Ct(ot.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HB(t),void 0!==t.credentials&&(this._authCredentials=function(e){if(!e)return new Nz;switch(e.type){case"gapi":const i=e.client;return vn(!("object"!=typeof i||null===i||!i.auth||!i.auth.getAuthHeaderValueForFirstParty)),new jz(i,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Ct(ot.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=NB.get(t);e&&(St("ComponentProvider","Removing Datastore"),NB.delete(t),e.terminate())}(this),Promise.resolve()}}class Di{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fc(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Di(this.firestore,t,this._key)}}class _s{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new _s(this.firestore,t,this._query)}}class Fc extends _s{constructor(t,e,i){super(t,e,Yg(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Di(this.firestore,null,new Lt(t))}withConverter(t){return new Fc(this.firestore,t,this._path)}}function GB(n,t,...e){if(n=(0,In.m9)(n),Sk("collection","path",t),n instanceof Xb){const i=Un.fromString(t,...e);return UB(i),new Fc(n,null,i)}{if(!(n instanceof Di||n instanceof Fc))throw new Ct(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Un.fromString(t,...e));return UB(i),new Fc(n.firestore,null,i)}}function aA(n,t,...e){if(n=(0,In.m9)(n),1===arguments.length&&(t=uN.I()),Sk("doc","path",t),n instanceof Xb){const i=Un.fromString(t,...e);return BB(i),new Di(n,null,new Lt(i))}{if(!(n instanceof Di||n instanceof Fc))throw new Ct(ot.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Un.fromString(t,...e));return BB(i),new Di(n.firestore,n instanceof Fc?n.converter:null,new Lt(i))}}function zB(n,t){return n=(0,In.m9)(n),t=(0,In.m9)(t),(n instanceof Di||n instanceof Fc)&&(t instanceof Di||t instanceof Fc)&&n.firestore===t.firestore&&n.path===t.path&&n.converter===t.converter}function $B(n,t){return n=(0,In.m9)(n),t=(0,In.m9)(t),n instanceof _s&&t instanceof _s&&n.firestore===t.firestore&&Ib(n._query,t._query)&&n.converter===t.converter}class U6{constructor(){this.Mc=Promise.resolve(),this.Oc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new CP(this,"async_queue_retry"),this.Kc=()=>{const e=eA();e&&St("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const t=eA();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Gc(),this.Qc(t)}enterRestrictedMode(t){if(!this.Fc){this.Fc=!0,this.Uc=t||!1;const e=eA();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Kc)}}enqueue(t){if(this.Gc(),this.Fc)return new Promise(()=>{});const e=new Or;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Oc.push(t),this.jc()))}jc(){var t=this;return(0,ut.Z)(function*(){if(0!==t.Oc.length){try{yield t.Oc[0](),t.Oc.shift(),t.So.reset()}catch(e){if(!ih(e))throw e;St("AsyncQueue","Operation failed with retryable error: "+e)}t.Oc.length>0&&t.So.Io(()=>t.jc())}})()}Qc(t){const e=this.Mc.then(()=>(this.Lc=!0,t().catch(i=>{throw this.Bc=i,this.Lc=!1,nr("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(i)),i}).then(i=>(this.Lc=!1,i))));return this.Mc=e,e}enqueueAfterDelay(t,e,i){this.Gc(),this.qc.indexOf(t)>-1&&(e=0);const r=UP.createAndSchedule(this,t,e,i,a=>this.Wc(a));return this.$c.push(r),r}Gc(){this.Bc&&qt()}verifyOperationInProgress(){}zc(){var t=this;return(0,ut.Z)(function*(){let e;do{e=t.Mc,yield e}while(e!==t.Mc)})()}Hc(t){for(const e of this.$c)if(e.timerId===t)return!0;return!1}Jc(t){return this.zc().then(()=>{this.$c.sort((e,i)=>e.targetTimeMs-i.targetTimeMs);for(const e of this.$c)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.zc()})}Yc(t){this.qc.push(t)}Wc(t){const e=this.$c.indexOf(t);this.$c.splice(e,1)}}function Tk(n){return function(t,e){if("object"!=typeof t||null===t)return!1;const i=t;for(const r of["next","error","complete"])if(r in i&&"function"==typeof i[r])return!0;return!1}(n)}class j6{constructor(){this._progressObserver={},this._taskCompletionResolver=new Or,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,i){this._progressObserver={next:t,error:e,complete:i}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class Oi extends Xb{constructor(t,e,i){super(t,e,i),this.type="firestore",this._queue=new U6,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||WB(this),this._firestoreClient.terminate()}}function hr(n){return n._firestoreClient||WB(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function WB(n){var t;const e=n._freezeSettings(),i=(a=(null===(t=n._app)||void 0===t?void 0:t.options.appId)||"",new Jz(n._databaseId,a,n._persistenceKey,(h=e).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new M6(n._authCredentials,n._appCheckCredentials,n._queue,i)}function qB(n,t,e){const i=new Or;return n.asyncQueue.enqueue((0,ut.Z)(function*(){try{yield PB(n,e),yield kB(n,t),i.resolve()}catch(r){const a=r;if(!("FirebaseError"===(u=a).name?u.code===ot.FAILED_PRECONDITION||u.code===ot.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;np("Error enabling offline persistence. Falling back to persistence disabled: "+a),i.reject(a)}var u})).then(()=>i.promise)}function YB(n){if(n._initialized||n._terminated)throw new Ct(ot.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ku{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Ct(ot.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yi(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Lc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Lc(gr.fromBase64String(t))}catch(e){throw new Ct(ot.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Lc(gr.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class bp{constructor(t){this._methodName=t}}class lA{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ct(ot.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ct(ot.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return An(this._lat,t._lat)||An(this._long,t._long)}}const Q6=/^__.*__$/;class X6{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return null!==this.fieldMask?new qu(t,this.data,this.fieldMask,e,this.fieldTransforms):new Xg(t,this.data,e,this.fieldTransforms)}}class KB{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new qu(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ZB(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qt()}}class cA{constructor(t,e,i,r,a,u){this.settings=t,this.databaseId=e,this.wt=i,this.ignoreUndefinedProperties=r,void 0===a&&this.Xc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(t){return new cA(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.sa(t),r}ia(t){var e;const i=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ta({path:i,na:!1});return r.Xc(),r}ra(t){return this.ta({path:void 0,na:!0})}oa(t){return hA(t,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Xc(){if(this.path)for(let t=0;t<this.path.length;t++)this.sa(this.path.get(t))}sa(t){if(0===t.length)throw this.oa("Document fields must not be empty");if(ZB(this.Zc)&&Q6.test(t))throw this.oa('Document fields cannot begin and end with "__"')}}class J6{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.wt=i||Kb(t)}aa(t,e,i,r=!1){return new cA({Zc:t,methodName:e,ca:i,path:Yi.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function wp(n){const t=n._freezeSettings(),e=Kb(n._databaseId);return new J6(n._databaseId,!!t.ignoreUndefinedProperties,e)}function uA(n,t,e,i,r,a={}){const u=n.aa(a.merge||a.mergeFields?2:0,t,e,r);Pk("Data must be an object, but it was:",u,i);const h=JB(i,u);let _,w;if(a.merge)_=new Ko(u.fieldMask),w=u.fieldTransforms;else if(a.mergeFields){const M=[];for(const j of a.mergeFields){const Ce=kk(t,j,e);if(!u.contains(Ce))throw new Ct(ot.INVALID_ARGUMENT,`Field '${Ce}' is specified in your field mask but missing from your input data.`);t2(M,Ce)||M.push(Ce)}_=new Ko(M),w=u.fieldTransforms.filter(j=>_.covers(j.field))}else _=null,w=u.fieldTransforms;return new X6(new is(h),_,w)}class Jb extends bp{_toFieldTransform(t){if(2!==t.Zc)throw t.oa(1===t.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Jb}}function QB(n,t,e){return new cA({Zc:3,ca:t.settings.ca,methodName:n._methodName,na:e},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class xk extends bp{_toFieldTransform(t){return new Pb(t.path,new Zg)}isEqual(t){return t instanceof xk}}class e4 extends bp{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=QB(this,t,!0),i=this.ha.map(a=>Cp(a,e)),r=new up(i);return new Pb(t.path,r)}isEqual(t){return this===t}}class t4 extends bp{constructor(t,e){super(t),this.ha=e}_toFieldTransform(t){const e=QB(this,t,!0),i=this.ha.map(a=>Cp(a,e)),r=new dp(i);return new Pb(t.path,r)}isEqual(t){return this===t}}class n4 extends bp{constructor(t,e){super(t),this.la=e}_toFieldTransform(t){const e=new Qg(t.wt,HN(t.wt,this.la));return new Pb(t.path,e)}isEqual(t){return this===t}}function Mk(n,t,e,i){const r=n.aa(1,t,e);Pk("Data must be an object, but it was:",r,i);const a=[],u=is.empty();sp(i,(_,w)=>{const M=dA(t,_,e);w=(0,In.m9)(w);const j=r.ia(M);if(w instanceof Jb)a.push(M);else{const Ce=Cp(w,j);null!=Ce&&(a.push(M),u.set(M,Ce))}});const h=new Ko(a);return new KB(u,h,r.fieldTransforms)}function Ik(n,t,e,i,r,a){const u=n.aa(1,t,e),h=[kk(t,i,e)],_=[r];if(a.length%2!=0)throw new Ct(ot.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ce=0;Ce<a.length;Ce+=2)h.push(kk(t,a[Ce])),_.push(a[Ce+1]);const w=[],M=is.empty();for(let Ce=h.length-1;Ce>=0;--Ce)if(!t2(w,h[Ce])){const Me=h[Ce];let Le=_[Ce];Le=(0,In.m9)(Le);const $e=u.ia(Me);if(Le instanceof Jb)w.push(Me);else{const st=Cp(Le,$e);null!=st&&(w.push(Me),M.set(Me,st))}}const j=new Ko(w);return new KB(M,j,u.fieldTransforms)}function XB(n,t,e,i=!1){return Cp(e,n.aa(i?4:3,t))}function Cp(n,t){if(e2(n=(0,In.m9)(n)))return Pk("Unsupported field value:",t,n),JB(n,t);if(n instanceof bp)return function(e,i){if(!ZB(i.Zc))throw i.oa(`${e._methodName}() can only be used with update() and set()`);if(!i.path)throw i.oa(`${e._methodName}() is not currently supported inside arrays`);const r=e._toFieldTransform(i);r&&i.fieldTransforms.push(r)}(n,t),null;if(void 0===n&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,i){const r=[];let a=0;for(const u of e){let h=Cp(u,i.ra(a));null==h&&(h={nullValue:"NULL_VALUE"}),r.push(h),a++}return{arrayValue:{values:r}}}(n,t)}return function(e,i){if(null===(e=(0,In.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return HN(i.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const r=Ri.fromDate(e);return{timestampValue:Nb(i.wt,r)}}if(e instanceof Ri){const r=new Ri(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Nb(i.wt,r)}}if(e instanceof lA)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Lc)return{bytesValue:cV(i.wt,e._byteString)};if(e instanceof Di){const r=i.databaseId,a=e.firestore._databaseId;if(!a.isEqual(r))throw i.oa(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:JI(e.firestore._databaseId||i.databaseId,e._key.path)}}throw i.oa(`Unsupported field value: ${oA(e)}`)}(n,t)}function JB(n,t){const e={};return yN(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sp(n,(i,r)=>{const a=Cp(r,t.ea(i));null!=a&&(e[i]=a)}),{mapValue:{fields:e}}}function e2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Ri||n instanceof lA||n instanceof Lc||n instanceof Di||n instanceof bp)}function Pk(n,t,e){if(!e2(e)||"object"!=typeof(i=e)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const i=oA(e);throw t.oa("an object"===i?n+" a custom object":n+" "+i)}var i}function kk(n,t,e){if((t=(0,In.m9)(t))instanceof Ku)return t._internalPath;if("string"==typeof t)return dA(n,t);throw hA("Field path arguments must be of type string or ",n,!1,void 0,e)}const r4=new RegExp("[~\\*/\\[\\]]");function dA(n,t,e){if(t.search(r4)>=0)throw hA(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ku(...t.split("."))._internalPath}catch{throw hA(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function hA(n,t,e,i,r){const a=i&&!i.isEmpty(),u=void 0!==r;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let _="";return(a||u)&&(_+=" (found",a&&(_+=` in field ${i}`),u&&(_+=` in document ${r}`),_+=")"),new Ct(ot.INVALID_ARGUMENT,h+n+_)}function t2(n,t){return n.some(e=>e.isEqual(t))}class e0{constructor(t,e,i,r,a){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Di(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new s4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(fA("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class s4 extends e0{data(){return super.data()}}function fA(n,t){return"string"==typeof t?dA(n,t):t instanceof Ku?t._internalPath:t._delegate._internalPath}class Dp{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Zu extends e0{constructor(t,e,i,r,a,u){super(t,e,i,r,u),this._firestore=t,this._firestoreImpl=t,this.metadata=a}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new t0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(fA("DocumentSnapshot.get",t));if(null!==i)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}}class t0 extends Zu{data(t={}){return super.data(t)}}class ph{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Dp(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(i=>{t.call(e,new t0(this._firestore,this._userDataWriter,i.key,i,new Dp(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ct(ot.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(i,r){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(u=>({type:"added",doc:new t0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Dp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:a++}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>r||3!==u.type).map(u=>{const h=new t0(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Dp(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let _=-1,w=-1;return 0!==u.type&&(_=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),w=a.indexOf(u.doc.key)),{type:o4(u.type),doc:h,oldIndex:_,newIndex:w}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function o4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qt()}}function n2(n,t){return n instanceof Zu&&t instanceof Zu?n._firestore===t._firestore&&n._key.isEqual(t._key)&&(null===n._document?null===t._document:n._document.isEqual(t._document))&&n._converter===t._converter:n instanceof ph&&t instanceof ph&&n._firestore===t._firestore&&$B(n.query,t.query)&&n.metadata.isEqual(t.metadata)&&n._snapshot.isEqual(t._snapshot)}function r2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ct(ot.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class n0{}function mh(n,...t){for(const e of t)n=e._apply(n);return n}class a4 extends n0{constructor(t,e,i){super(),this.fa=t,this.da=e,this._a=i,this.type="where"}_apply(t){const e=wp(t.firestore),i=function(r,a,u,h,_,w,M){let j;if(_.isKeyField()){if("array-contains"===w||"array-contains-any"===w)throw new Ct(ot.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if("in"===w||"not-in"===w){u2(M,w);const Me=[];for(const Le of M)Me.push(c2(h,r,Le));j={arrayValue:{values:Me}}}else j=c2(h,r,M)}else"in"!==w&&"not-in"!==w&&"array-contains-any"!==w||u2(M,w),j=XB(u,"where",M,"in"===w||"not-in"===w);const Ce=rs.create(_,w,j);return function(Me,Le){if(Le.ht()){const st=YI(Me);if(null!==st&&!st.isEqual(Le.field))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${st.toString()}' and '${Le.field.toString()}'`);const It=qI(Me);null!==It&&d2(0,Le.field,It)}const $e=function(st,It){for(const Bt of st.filters)if(It.indexOf(Bt.op)>=0)return Bt.op;return null}(Me,function(st){switch(st){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Le.op));if(null!==$e)throw new Ct(ot.INVALID_ARGUMENT,$e===Le.op?`Invalid query. You cannot use more than one '${Le.op.toString()}' filter.`:`Invalid query. You cannot use '${Le.op.toString()}' filters with '${$e.toString()}' filters.`)}(r,Ce),Ce}(t._query,0,e,t.firestore._databaseId,this.fa,this.da,this._a);return new _s(t.firestore,t.converter,function(r,a){const u=r.filters.concat([a]);return new Wu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),u,r.limit,r.limitType,r.startAt,r.endAt)}(t._query,i))}}class c4 extends n0{constructor(t,e){super(),this.fa=t,this.wa=e,this.type="orderBy"}_apply(t){const e=function(i,r,a){if(null!==i.startAt)throw new Ct(ot.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==i.endAt)throw new Ct(ot.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new qg(r,a);return function(h,_){if(null===qI(h)){const w=YI(h);null!==w&&d2(0,w,_.field)}}(i,u),u}(t._query,this.fa,this.wa);return new _s(t.firestore,t.converter,function(i,r){const a=i.explicitOrderBy.concat([r]);return new Wu(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(t._query,e))}}class s2 extends n0{constructor(t,e,i){super(),this.type=t,this.ma=e,this.ga=i}_apply(t){return new _s(t.firestore,t.converter,FE(t._query,this.ma,this.ga))}}class o2 extends n0{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=l2(t,this.type,this.ya,this.pa);return new _s(t.firestore,t.converter,(r=e,new Wu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,r,i.endAt)));var i,r}}class a2 extends n0{constructor(t,e,i){super(),this.type=t,this.ya=e,this.pa=i}_apply(t){const e=l2(t,this.type,this.ya,this.pa);return new _s(t.firestore,t.converter,(r=e,new Wu((i=t._query).path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,r)));var i,r}}function l2(n,t,e,i){if(e[0]=(0,In.m9)(e[0]),e[0]instanceof e0)return function(r,a,u,h,_){if(!h)throw new Ct(ot.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const w=[];for(const M of Kg(r))if(M.field.isKeyField())w.push(lp(a,h.key));else{const j=h.data.field(M.field);if(zI(j))throw new Ct(ot.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+M.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===j){const Ce=M.field.canonicalString();throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ce}' (used as the orderBy) does not exist.`)}w.push(j)}return new ah(w,_)}(n._query,n.firestore._databaseId,t,e[0]._document,i);{const r=wp(n.firestore);return function(a,u,h,_,w,M){const j=a.explicitOrderBy;if(w.length>j.length)throw new Ct(ot.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ce=[];for(let Me=0;Me<w.length;Me++){const Le=w[Me];if(j[Me].field.isKeyField()){if("string"!=typeof Le)throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof Le}`);if(!KI(a)&&-1!==Le.indexOf("/"))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${Le}' contains a slash.`);const $e=a.path.child(Un.fromString(Le));if(!Lt.isDocumentKey($e))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${$e}' is not because it contains an odd number of segments.`);const st=new Lt($e);Ce.push(lp(u,st))}else{const $e=XB(h,_,Le);Ce.push($e)}}return new ah(Ce,M)}(n._query,n.firestore._databaseId,r,t,e,i)}}function c2(n,t,e){if("string"==typeof(e=(0,In.m9)(e))){if(""===e)throw new Ct(ot.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KI(t)&&-1!==e.indexOf("/"))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Un.fromString(e));if(!Lt.isDocumentKey(i))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return lp(n,new Lt(i))}if(e instanceof Di)return lp(n,e._key);throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oA(e)}.`)}function u2(n,t){if(!Array.isArray(n)||0===n.length)throw new Ct(ot.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(n.length>10)throw new Ct(ot.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function d2(n,t,e){if(!e.isEqual(t))throw new Ct(ot.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${e.toString()}' instead.`)}const _4={maxAttempts:5};class Rk{convertValue(t,e="none"){switch(ap(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Zi(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(op(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw qt()}}convertObject(t,e){const i={};return sp(t.fields,(r,a)=>{i[r]=this.convertValue(a,e)}),i}convertGeoPoint(t){return new lA(Zi(t.latitude),Zi(t.longitude))}convertArray(t,e){return(t.values||[]).map(i=>this.convertValue(i,e))}convertServerTimestamp(t,e){switch(e){case"previous":const i=bN(t);return null==i?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Db(t));default:return null}}convertTimestamp(t){const e=rh(t);return new Ri(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Un.fromString(t);vn(vV(i));const r=new $u(i.get(1),i.get(3)),a=new Lt(i.popFirst(5));return r.isEqual(e)||nr(`Document ${a} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),a}}function pA(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class y4 extends Rk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Lc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Di(this.firestore,null,e)}}class h2{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=wp(t)}set(t,e,i){this._verifyNotCommitted();const r=gh(t,this._firestore),a=pA(r.converter,e,i),u=uA(this._dataReader,"WriteBatch.set",r._key,a,null!==r.converter,i);return this._mutations.push(u.toMutation(r._key,Ni.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const a=gh(t,this._firestore);let u;return u="string"==typeof(e=(0,In.m9)(e))||e instanceof Ku?Ik(this._dataReader,"WriteBatch.update",a._key,e,i,r):Mk(this._dataReader,"WriteBatch.update",a._key,e),this._mutations.push(u.toMutation(a._key,Ni.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=gh(t,this._firestore);return this._mutations=this._mutations.concat(new Jg(e._key,Ni.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Ct(ot.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function gh(n,t){if((n=(0,In.m9)(n)).firestore!==t)throw new Ct(ot.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class Ep extends Rk{constructor(t){super(),this.firestore=t}convertBytes(t){return new Lc(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Di(this.firestore,null,e)}}function f2(n,t,e){n=Ln(n,Di);const i=Ln(n.firestore,Oi),r=pA(n.converter,t,e);return p_(i,[uA(wp(i),"setDoc",n._key,r,null!==n.converter,e).toMutation(n._key,Ni.none())])}function p2(n,t,e,...i){n=Ln(n,Di);const r=Ln(n.firestore,Oi),a=wp(r);let u;return u="string"==typeof(t=(0,In.m9)(t))||t instanceof Ku?Ik(a,"updateDoc",n._key,t,e,i):Mk(a,"updateDoc",n._key,t),p_(r,[u.toMutation(n._key,Ni.exists(!0))])}function m2(n,...t){var e,i,r;n=(0,In.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof t[u]||Tk(t[u])||(a=t[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges};if(Tk(t[u])){const j=t[u];t[u]=null===(e=j.next)||void 0===e?void 0:e.bind(j),t[u+1]=null===(i=j.error)||void 0===i?void 0:i.bind(j),t[u+2]=null===(r=j.complete)||void 0===r?void 0:r.bind(j)}let _,w,M;if(n instanceof Di)w=Ln(n.firestore,Oi),M=Yg(n._key.path),_={next:j=>{t[u]&&t[u](Ok(w,n,j))},error:t[u+1],complete:t[u+2]};else{const j=Ln(n,_s);w=Ln(j.firestore,Oi),M=j._query;const Ce=new Ep(w);_={next:Me=>{t[u]&&t[u](new ph(w,Ce,j,Me))},error:t[u+1],complete:t[u+2]},r2(n._query)}return function(j,Ce,Me,Le){const $e=new iA(Le),st=new WP(Ce,$e,Me);return j.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return jP(yield f_(j),st)})),()=>{$e.Tc(),j.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return GP(yield f_(j),st)}))}}(hr(w),M,h,_)}function p_(n,t){return function(e,i){const r=new Or;return e.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function c6(n,t,e){return QP.apply(this,arguments)}(yield Ek(e),i,r)})),r.promise}(hr(n),t)}function Ok(n,t,e){const i=e.docs.get(t._key),r=new Ep(n);return new Zu(n,r,t._key,i,new Dp(e.hasPendingWrites,e.fromCache),t.converter)}class x4 extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=wp(t)}get(t){const e=gh(t,this._firestore),i=new y4(this._firestore);return this._transaction.lookup([e._key]).then(r=>{if(!r||1!==r.length)return qt();const a=r[0];if(a.isFoundDocument())return new e0(this._firestore,i,a.key,a,e.converter);if(a.isNoDocument())return new e0(this._firestore,i,e._key,null,e.converter);throw qt()})}set(t,e,i){const r=gh(t,this._firestore),a=pA(r.converter,e,i),u=uA(this._dataReader,"Transaction.set",r._key,a,null!==r.converter,i);return this._transaction.set(r._key,u),this}update(t,e,i,...r){const a=gh(t,this._firestore);let u;return u="string"==typeof(e=(0,In.m9)(e))||e instanceof Ku?Ik(this._dataReader,"Transaction.update",a._key,e,i,r):Mk(this._dataReader,"Transaction.update",a._key,e),this._transaction.update(a._key,u),this}delete(t){const e=gh(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=gh(t,this._firestore),i=new Ep(this._firestore);return super.get(t).then(r=>new Zu(this._firestore,i,e._key,r._document,new Dp(!1,!1),e.converter))}}function Fk(n,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Ct("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return t}function _2(){if(typeof Uint8Array>"u")throw new Ct("unimplemented","Uint8Arrays are not available in this environment.")}function y2(){if(!function Qz(){return typeof atob<"u"}())throw new Ct("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,t=!0){Gg=Zf.SDK_VERSION,(0,Zf._registerComponent)(new qD.wA("firestore",(e,{options:i})=>{const r=e.getProvider("app").getImmediate(),a=new Oi(r,new Bz(e.getProvider("auth-internal")),new Hz(e.getProvider("app-check-internal")));return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a},"PUBLIC")),(0,Zf.registerVersion)(aN,"3.4.14",n),(0,Zf.registerVersion)(aN,"3.4.14","esm2017")}();class r0{constructor(t){this._delegate=t}static fromBase64String(t){return y2(),new r0(Lc.fromBase64String(t))}static fromUint8Array(t){return _2(),new r0(Lc.fromUint8Array(t))}toBase64(){return y2(),this._delegate.toBase64()}toUint8Array(){return _2(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Lk(n){return function N4(n,t){if("object"!=typeof n||null===n)return!1;const e=n;for(const i of t)if(i in e&&"function"==typeof e[i])return!0;return!1}(n,["next","error","complete"])}class V4{enableIndexedDbPersistence(t,e){return function G6(n,t){YB(n=Ln(n,Oi));const e=hr(n),i=n._freezeSettings(),r=new yk;return qB(e,r,new MB(r,i.cacheSizeBytes,t?.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function z6(n){YB(n=Ln(n,Oi));const t=hr(n),e=n._freezeSettings(),i=new yk;return qB(t,i,new A6(i,e.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function $6(n){if(n._initialized&&!n._terminated)throw new Ct(ot.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Or;return n._queue.enqueueAndForgetEvenWhileRestricted((0,ut.Z)(function*(){try{yield(e=(0,ut.Z)(function*(i){if(!Ol.V())return Promise.resolve();const r=i+"main";yield Ol.delete(r)}),function(i){return e.apply(this,arguments)})(hP(n._databaseId,n._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var e})),t.promise}(t._delegate)}}class v2{constructor(t,e,i){this._delegate=e,this._persistenceProvider=i,this.INTERNAL={delete:()=>this.terminate()},t instanceof $u||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&np("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,i={}){!function V6(n,t,e,i={}){var r;const a=(n=Ln(n,Xb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&np("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${t}:${e}`,ssl:!1})),i.mockUserToken){let u,h;if("string"==typeof i.mockUserToken)u=i.mockUserToken,h=Rr.MOCK_USER;else{u=(0,In.Sg)(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const _=i.mockUserToken.sub||i.mockUserToken.user_id;if(!_)throw new Ct(ot.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Rr(_)}n._authCredentials=new Vz(new lN(u,h))}}(this._delegate,t,e,i)}enableNetwork(){return function q6(n){return function I6(n){return n.asyncQueue.enqueue((0,ut.Z)(function*(){const t=yield RB(n),e=yield OB(n);return t.setNetworkEnabled(!0),function(i){const r=Vt(i);return r.lu.delete(0),Zb(r)}(e)}))}(hr(n=Ln(n,Oi)))}(this._delegate)}disableNetwork(){return function Y6(n){return function P6(n){return n.asyncQueue.enqueue((0,ut.Z)(function*(){const t=yield RB(n),e=yield OB(n);return t.setNetworkEnabled(!1),(i=(0,ut.Z)(function*(r){const a=Vt(r);a.lu.add(0),yield o_(a),a._u.set("Offline")}),function(r){return i.apply(this,arguments)})(e);var i}))}(hr(n=Ln(n,Oi)))}(this._delegate)}enablePersistence(t){let e=!1,i=!1;return t&&(e=!!t.synchronizeTabs,i=!!t.experimentalForceOwningTab,VB("synchronizeTabs",e,"experimentalForceOwningTab",i)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,i)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function W6(n){return function(t){const e=new Or;return t.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return function f6(n,t){return nk.apply(this,arguments)}(yield Ek(t),e)})),e.promise}(hr(n=Ln(n,Oi)))}(this._delegate)}onSnapshotsInSync(t){return function T4(n,t){return function O6(n,t){const e=new iA(t);return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return i=yield f_(n),r=e,Vt(i).Tu.add(r),void r.next();var i,r})),()=>{e.Tc(),n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return i=yield f_(n),r=e,void Vt(i).Tu.delete(r);var i,r}))}}(hr(n=Ln(n,Oi)),Tk(t)?t:{next:t})}(this._delegate,t)}get app(){if(!this._appCompat)throw new Ct("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new m_(this,GB(this._delegate,t))}catch(e){throw Hs(e,"collection()","Firestore.collection()")}}doc(t){try{return new Va(this,aA(this._delegate,t))}catch(e){throw Hs(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Gs(this,function B6(n,t){if(n=Ln(n,Xb),Sk("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Ct(ot.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new _s(n,null,(e=t,new Wu(Un.emptyPath(),e)));var e}(this._delegate,t))}catch(e){throw Hs(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function M4(n,t,e){n=Ln(n,Oi);const i=Object.assign(Object.assign({},_4),e);return function(r){if(r.maxAttempts<1)throw new Ct(ot.INVALID_ARGUMENT,"Max attempts must be at least 1")}(i),function F6(n,t,e){const i=new Or;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){const r=yield(a=n,rA(a).then(u=>u.datastore));var a;new x6(n.asyncQueue,r,e,t,i).run()})),i.promise}(hr(n),r=>t(new x4(n,r)),i)}(this._delegate,e=>t(new b2(this,e)))}batch(){return hr(this._delegate),new w2(new h2(this._delegate,t=>p_(this._delegate,t)))}loadBundle(t){return function K6(n,t){const e=hr(n=Ln(n,Oi)),i=new j6;return function L6(n,t,e,i){const r=function(a,u){let h;return h="string"==typeof a?(new TextEncoder).encode(a):a,_=function(_,w){if(_ instanceof Uint8Array)return IB(_,w);if(_ instanceof ArrayBuffer)return IB(new Uint8Array(_),w);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new S6(_,u);var _}(e,Kb(t));n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){!function E6(n,t,e){const i=Vt(n);var r;(r=(0,ut.Z)(function*(a,u,h){try{const _=yield u.getMetadata();if(yield function(Ce,Me){const Le=Vt(Ce),$e=Fr(Me.createTime);return Le.persistence.runTransaction("hasNewerBundle","readonly",st=>Le.Ds.getBundleMetadata(st,Me.id)).then(st=>!!st&&st.createTime.compareTo($e)>=0)}(a.localStore,_))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(Ce=_).totalDocuments,bytesLoaded:Ce.totalBytes,totalDocuments:Ce.totalDocuments,totalBytes:Ce.totalBytes}),Promise.resolve(new Set);h._updateProgress(vB(_));const w=new n6(_,a.localStore,u.wt);let M=yield u.fc();for(;M;){const Ce=yield w.Nu(M);Ce&&h._updateProgress(Ce),M=yield u.fc()}const j=yield w.complete();return yield Yu(a,j.Ou,void 0),yield function(Ce,Me){const Le=Vt(Ce);return Le.persistence.runTransaction("Save bundle","readwrite",$e=>Le.Ds.saveBundleMetadata($e,Me))}(a.localStore,_),h._completeWith(j.progress),Promise.resolve(j.Mu)}catch(_){return np("SyncEngine",`Loading bundle failed with ${_}`),h._failWith(_),Promise.resolve(new Set)}var Ce}),function(a,u,h){return r.apply(this,arguments)})(i,t,e).then(r=>{i.sharedClientState.notifyBundleLoaded(r)})}(yield Ek(n),r,i)}))}(e,n._databaseId,t,i),i}(this._delegate,t)}namedQuery(t){return function Z6(n,t){return function N6(n,t){return n.asyncQueue.enqueue((0,ut.Z)(function*(){return function(e,i){const r=Vt(e);return r.persistence.runTransaction("Get named query","readonly",a=>r.Ds.getNamedQuery(a,i))}(yield sA(n),t)}))}(hr(n=Ln(n,Oi)),t).then(e=>e?new _s(n,null,e.query):null)}(this._delegate,t).then(e=>e?new Gs(this,e):null)}}class mA extends Rk{constructor(t){super(),this.firestore=t}convertBytes(t){return new r0(new Lc(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Va.forKey(e,this.firestore,null)}}class b2{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new mA(t)}get(t){const e=Sp(t);return this._delegate.get(e).then(i=>new s0(this._firestore,new Zu(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,e.converter)))}set(t,e,i){const r=Sp(t);return i?(Fk("Transaction.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=Sp(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=Sp(t);return this._delegate.delete(e),this}}class w2{constructor(t){this._delegate=t}set(t,e,i){const r=Sp(t);return i?(Fk("WriteBatch.set",i),this._delegate.set(r,e,i)):this._delegate.set(r,e),this}update(t,e,i,...r){const a=Sp(t);return 2===arguments.length?this._delegate.update(a,e):this._delegate.update(a,e,i,...r),this}delete(t){const e=Sp(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Ap{constructor(t,e,i){this._firestore=t,this._userDataWriter=e,this._delegate=i}fromFirestore(t,e){const i=new t0(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new o0(this._firestore,i),e??{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const i=Ap.INSTANCES;let r=i.get(t);r||(r=new WeakMap,i.set(t,r));let a=r.get(e);return a||(a=new Ap(t,new mA(t),e),r.set(e,a)),a}}Ap.INSTANCES=new WeakMap;class Va{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new mA(t)}static forPath(t,e,i){if(t.length%2!=0)throw new Ct("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Va(e,new Di(e._delegate,i,new Lt(t)))}static forKey(t,e,i){return new Va(e,new Di(e._delegate,i,t))}get id(){return this._delegate.id}get parent(){return new m_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new m_(this.firestore,GB(this._delegate,t))}catch(e){throw Hs(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,In.m9)(t))instanceof Di&&zB(this._delegate,t)}set(t,e){e=Fk("DocumentReference.set",e);try{return e?f2(this._delegate,t,e):f2(this._delegate,t)}catch(i){throw Hs(i,"setDoc()","DocumentReference.set()")}}update(t,e,...i){try{return 1===arguments.length?p2(this._delegate,t):p2(this._delegate,t,e,...i)}catch(r){throw Hs(r,"updateDoc()","DocumentReference.update()")}}delete(){return function A4(n){return p_(Ln(n.firestore,Oi),[new Jg(n._key,Ni.none())])}(this._delegate)}onSnapshot(...t){const e=C2(t),i=D2(t,r=>new s0(this.firestore,new Zu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)));return m2(this._delegate,e,i)}get(t){let e;return e="cache"===t?.source?function b4(n){n=Ln(n,Di);const t=Ln(n.firestore,Oi),e=hr(t),i=new Ep(t);return function k6(n,t){const e=new Or;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return(i=(0,ut.Z)(function*(r,a,u){try{const h=yield function(_,w){const M=Vt(_);return M.persistence.runTransaction("read document","readonly",j=>M.localDocuments.getDocument(j,w))}(r,a);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Ct(ot.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const _=c_(h,`Failed to get document '${a} from cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield sA(n),t,e);var i})),e.promise}(e,n._key).then(r=>new Zu(t,i,n._key,r,new Dp(null!==r&&r.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===t?.source?function w4(n){n=Ln(n,Di);const t=Ln(n.firestore,Oi);return FB(hr(t),n._key,{source:"server"}).then(e=>Ok(t,n,e))}(this._delegate):function v4(n){n=Ln(n,Di);const t=Ln(n.firestore,Oi);return FB(hr(t),n._key).then(e=>Ok(t,n,e))}(this._delegate),e.then(i=>new s0(this.firestore,new Zu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)))}withConverter(t){return new Va(this.firestore,this._delegate.withConverter(t?Ap.getInstance(this.firestore,t):null))}}function Hs(n,t,e){return n.message=n.message.replace(t,e),n}function C2(n){for(const t of n)if("object"==typeof t&&!Lk(t))return t;return{}}function D2(n,t){var e,i;let r;return r=Lk(n[0])?n[0]:Lk(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{r.next&&r.next(t(a))},error:null===(e=r.error)||void 0===e?void 0:e.bind(r),complete:null===(i=r.complete)||void 0===i?void 0:i.bind(r)}}class s0{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Va(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return n2(this._delegate,t._delegate)}}class o0 extends s0{data(t){const e=this._delegate.data(t);return function Lz(n,t){n||qt()}(void 0!==e),e}}class Gs{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new mA(t)}where(t,e,i){try{return new Gs(this.firestore,mh(this._delegate,function l4(n,t,e){const i=t,r=fA("where",n);return new a4(r,i,e)}(t,e,i)))}catch(r){throw Hs(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Gs(this.firestore,mh(this._delegate,function u4(n,t="asc"){const e=t,i=fA("orderBy",n);return new c4(i,e)}(t,e)))}catch(i){throw Hs(i,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Gs(this.firestore,mh(this._delegate,function d4(n){return jB("limit",n),new s2("limit",n,"F")}(t)))}catch(e){throw Hs(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Gs(this.firestore,mh(this._delegate,function h4(n){return jB("limitToLast",n),new s2("limitToLast",n,"L")}(t)))}catch(e){throw Hs(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Gs(this.firestore,mh(this._delegate,function f4(...n){return new o2("startAt",n,!0)}(...t)))}catch(e){throw Hs(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Gs(this.firestore,mh(this._delegate,function p4(...n){return new o2("startAfter",n,!1)}(...t)))}catch(e){throw Hs(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Gs(this.firestore,mh(this._delegate,function m4(...n){return new a2("endBefore",n,!1)}(...t)))}catch(e){throw Hs(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Gs(this.firestore,mh(this._delegate,function g4(...n){return new a2("endAt",n,!0)}(...t)))}catch(e){throw Hs(e,"endAt()","Query.endAt()")}}isEqual(t){return $B(this._delegate,t._delegate)}get(t){let e;return e="cache"===t?.source?function D4(n){n=Ln(n,_s);const t=Ln(n.firestore,Oi),e=hr(t),i=new Ep(t);return function R6(n,t){const e=new Or;return n.asyncQueue.enqueueAndForget((0,ut.Z)(function*(){return(i=(0,ut.Z)(function*(r,a,u){try{const h=yield QE(r,a,!0),_=new CB(a,h.ji),w=_.Ku(h.documents),M=_.applyChanges(w,!1);u.resolve(M.snapshot)}catch(h){const _=c_(h,`Failed to execute query '${a} against cache`);u.reject(_)}}),function(r,a,u){return i.apply(this,arguments)})(yield sA(n),t,e);var i})),e.promise}(e,n._query).then(r=>new ph(t,i,n,r))}(this._delegate):"server"===t?.source?function E4(n){n=Ln(n,_s);const t=Ln(n.firestore,Oi),e=hr(t),i=new Ep(t);return LB(e,n._query,{source:"server"}).then(r=>new ph(t,i,n,r))}(this._delegate):function C4(n){n=Ln(n,_s);const t=Ln(n.firestore,Oi),e=hr(t),i=new Ep(t);return r2(n._query),LB(e,n._query).then(r=>new ph(t,i,n,r))}(this._delegate),e.then(i=>new Nk(this.firestore,new ph(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)))}onSnapshot(...t){const e=C2(t),i=D2(t,r=>new Nk(this.firestore,new ph(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)));return m2(this._delegate,e,i)}withConverter(t){return new Gs(this.firestore,this._delegate.withConverter(t?Ap.getInstance(this.firestore,t):null))}}class U4{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new o0(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Nk{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Gs(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new o0(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(e=>new U4(this._firestore,e))}forEach(t,e){this._delegate.forEach(i=>{t.call(e,new o0(this._firestore,i))})}isEqual(t){return n2(this._delegate,t._delegate)}}class m_ extends Gs{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Va(this.firestore,t):null}doc(t){try{return new Va(this.firestore,void 0===t?aA(this._delegate):aA(this._delegate,t))}catch(e){throw Hs(e,"doc()","CollectionReference.doc()")}}add(t){return function S4(n,t){const e=Ln(n.firestore,Oi),i=aA(n),r=pA(n.converter,t);return p_(e,[uA(wp(n.firestore),"addDoc",i._key,r,null!==n.converter,{}).toMutation(i._key,Ni.exists(!1))]).then(()=>i)}(this._delegate,t).then(e=>new Va(this.firestore,e))}isEqual(t){return zB(this._delegate,t._delegate)}withConverter(t){return new m_(this.firestore,this._delegate.withConverter(t?Ap.getInstance(this.firestore,t):null))}}function Sp(n){return Ln(n,Di)}class Vk{constructor(...t){this._delegate=new Ku(...t)}static documentId(){return new Vk(Yi.keyField().canonicalString())}isEqual(t){return(t=(0,In.m9)(t))instanceof Ku&&this._delegate._internalPath.isEqual(t._internalPath)}}class Tp{constructor(t){this._delegate=t}static serverTimestamp(){const t=function P4(){return new xk("serverTimestamp")}();return t._methodName="FieldValue.serverTimestamp",new Tp(t)}static delete(){const t=function I4(){return new Jb("deleteField")}();return t._methodName="FieldValue.delete",new Tp(t)}static arrayUnion(...t){const e=function k4(...n){return new e4("arrayUnion",n)}(...t);return e._methodName="FieldValue.arrayUnion",new Tp(e)}static arrayRemove(...t){const e=function R4(...n){return new t4("arrayRemove",n)}(...t);return e._methodName="FieldValue.arrayRemove",new Tp(e)}static increment(t){const e=function O4(n){return new n4("increment",n)}(t);return e._methodName="FieldValue.increment",new Tp(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const j4={Firestore:v2,GeoPoint:lA,Timestamp:Ri,Blob:r0,Transaction:b2,WriteBatch:w2,DocumentReference:Va,DocumentSnapshot:s0,Query:Gs,QueryDocumentSnapshot:o0,QuerySnapshot:Nk,CollectionReference:m_,FieldPath:Vk,FieldValue:Tp,setLogLevel:function B4(n){!function Fz(n){th.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function E2(n,t){return function z4(n,t=Ps.z){return new qn.y(e=>{let i;return null!=t?t.schedule(()=>{i=n.onSnapshot({includeMetadataChanges:!0},e)}):i=n.onSnapshot({includeMetadataChanges:!0},e),()=>{i?.()}})}(n,t)}function Bk(n,t){return E2(n,t).pipe((0,zt.U)(e=>({payload:e,type:"query"})))}function gA(n,t){return Bk(n,t).pipe(hi(void 0),WM(),(0,zt.U)(([e,i])=>{const r=i.payload.docChanges(),a=r.map(u=>({type:u.type,payload:u}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(i.payload.metadata)&&i.payload.docs.forEach((u,h)=>{const _=r.find(M=>M.doc.ref.isEqual(u.ref)),w=e?.payload.docs.find(M=>M.ref.isEqual(u.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(u.metadata)||!_&&w&&JSON.stringify(w.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),a}))}function A2(n,t,e){return gA(n,e).pipe(ya((i,r)=>function W4(n,t,e){return t.forEach(i=>{e.indexOf(i.type)>-1&&(n=function q4(n,t){switch(t.type){case"added":if(!n[t.newIndex]||!n[t.newIndex].doc.ref.isEqual(t.doc.ref))return Uk(n,t.newIndex,0,t);break;case"modified":if(null==n[t.oldIndex]||n[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const e=n.slice();return e.splice(t.oldIndex,1),e.splice(t.newIndex,0,t),e}return Uk(n,t.newIndex,1,t)}break;case"removed":if(n[t.oldIndex]&&n[t.oldIndex].doc.ref.isEqual(t.doc.ref))return Uk(n,t.oldIndex,1)}return n}(n,i))}),n}(i,r.map(a=>a.payload),t),[]),xm(),(0,zt.U)(i=>i.map(r=>({type:r.type,payload:r}))))}function Uk(n,t,e,...i){const r=n.slice();return r.splice(t,e,...i),r}function S2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function G4(n){(function H4(n,t){n.INTERNAL.registerComponent(new qD.wA("firestore-compat",e=>{const i=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(i,r)},"PUBLIC").setServiceProps(Object.assign({},j4)))})(n,(t,e)=>new v2(t,e,new V4)),n.registerVersion("@firebase/firestore-compat","0.1.23")}(TG.Z);class T2{constructor(t,e,i){this.ref=t,this.query=e,this.afs=i}stateChanges(t){let e=gA(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,zt.U)(i=>i.filter(r=>t.indexOf(r.type)>-1)))),e.pipe(hi(void 0),WM(),ei(([i,r])=>r.length>0||!i),(0,zt.U)(([i,r])=>r),Xr.iC)}auditTrail(t){return this.stateChanges(t).pipe(ya((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=S2(t);return A2(this.query,e,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(t={}){return Bk(this.query,this.afs.schedulers.outsideAngular).pipe((0,zt.U)(e=>e.payload.docs.map(i=>t.idField?Object.assign(Object.assign({},i.data()),{[t.idField]:i.id}):i.data())),Xr.iC)}get(t){return(0,Vn.D)(this.query.get(t)).pipe(Xr.iC)}add(t){return this.ref.add(t)}doc(t){return new x2(this.ref.doc(t),this.afs)}}class x2{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const i=this.ref.collection(t),{ref:r,query:a}=P2(i,e);return new T2(r,a,this.afs)}snapshotChanges(){return function $4(n,t){return E2(n,t).pipe(hi(void 0),WM(),(0,zt.U)(([e,i])=>i.exists?e?.exists?{payload:i,type:"modified"}:{payload:i,type:"added"}:{payload:i,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,zt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Vn.D)(this.ref.get(t)).pipe(Xr.iC)}}class Y4{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?gA(this.query,this.afs.schedulers.outsideAngular).pipe((0,zt.U)(e=>e.filter(i=>t.indexOf(i.type)>-1)),ei(e=>e.length>0),Xr.iC):gA(this.query,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}auditTrail(t){return this.stateChanges(t).pipe(ya((e,i)=>[...e,...i],[]))}snapshotChanges(t){const e=S2(t);return A2(this.query,e,this.afs.schedulers.outsideAngular).pipe(Xr.iC)}valueChanges(t={}){return Bk(this.query,this.afs.schedulers.outsideAngular).pipe((0,zt.U)(i=>i.payload.docs.map(r=>t.idField?Object.assign({[t.idField]:r.id},r.data()):r.data())),Xr.iC)}get(t){return(0,Vn.D)(this.query.get(t)).pipe(Xr.iC)}}const M2=new s.OlP("angularfire2.enableFirestorePersistence"),I2=new s.OlP("angularfire2.firestore.persistenceSettings"),K4=new s.OlP("angularfire2.firestore.settings"),Z4=new s.OlP("angularfire2.firestore.use-emulator");function P2(n,t=(e=>e)){return{query:t(n),ref:n}}let k2=(()=>{class n{constructor(e,i,r,a,u,h,_,w,M,j,Ce,Me,Le,$e,st,It,Bt){this.schedulers=_;const Qt=(0,kl.on)(e,h,i),Gt=M;j&&$F(Qt,h,Ce,Le,$e,st,Me,It),[this.firestore,this.persistenceEnabled$]=(0,kl.cc)(`${Qt.name}.firestore`,"AngularFirestore",Qt.name,()=>{const hn=h.runOutsideAngular(()=>Qt.firestore());if(a&&hn.settings(a),Gt&&hn.useEmulator(...Gt),r&&!rr(u)){const gn=()=>{try{return(0,Vn.D)(hn.enablePersistence(w||void 0).then(()=>!0,()=>!1))}catch(Nn){return typeof console<"u"&&console.warn(Nn),Nt(!1)}};return[hn,h.runOutsideAngular(gn)]}return[hn,Nt(!1)]},[a,Gt,r])}collection(e,i){let r;r="string"==typeof e?this.firestore.collection(e):e;const{ref:a,query:u}=P2(r,i),h=this.schedulers.ngZone.run(()=>a);return new T2(h,u,this)}collectionGroup(e,i){const r=i||(u=>u),a=this.firestore.collectionGroup(e);return new Y4(r(a),this)}doc(e){let i;i="string"==typeof e?this.firestore.doc(e):e;const r=this.schedulers.ngZone.run(()=>i);return new x2(r,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(kl.Dh),s.LFG(kl.xv,8),s.LFG(M2,8),s.LFG(K4,8),s.LFG(s.Lbi),s.LFG(s.R0b),s.LFG(Xr.HU),s.LFG(I2,8),s.LFG(Z4,8),s.LFG($M,8),s.LFG(BF,8),s.LFG(UF,8),s.LFG(jF,8),s.LFG(HF,8),s.LFG(GF,8),s.LFG(zF,8),s.LFG(GM,8))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Q4=(()=>{class n{constructor(){AG.Z.registerVersion("angularfire",Xr.q4.full,"fst-compat")}static enablePersistence(e){return{ngModule:n,providers:[{provide:M2,useValue:!0},{provide:I2,useValue:e}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[k2]}),n})(),jk=(()=>{class n{constructor(e,i){this.fireAuth=e,this.firestore=i,this.user$=this.fireAuth.authState.pipe(oi(r=>r?this.firestore.doc(`users/${r.uid}`).valueChanges():Nt(null)))}emailSignIn(e,i){var r=this;return(0,ut.Z)(function*(){const a=yield r.fireAuth.signInWithEmailAndPassword(e,i);return r.updateUserData(a.user)})()}signOut(){var e=this;return(0,ut.Z)(function*(){yield e.fireAuth.signOut()})()}updateUserData(e){const i=this.firestore.doc(`users/${e.uid}`),r={uid:e.uid,...e.email&&{email:e.email},...e.displayName&&{displayName:e.displayName},...e.photoURL&&{photoURL:e.photoURL}};return i.set(r,{merge:!0})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG($M),s.LFG(k2))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function X4(n,t){if(1&n){const e=s.EpF();s.TgZ(0,"div",2)(1,"button",3),s.NdJ("click",function(){s.CHM(e);const r=s.oxw();return s.KtG(r.action())}),s._uU(2),s.qZA()()}if(2&n){const e=s.oxw();s.xp6(2),s.Oqu(e.data.action)}}function J4(n,t){}const R2=new s.OlP("MatSnackBarData");class _A{constructor(){this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}}const eq=Math.pow(2,31)-1;class Hk{constructor(t,e){this._overlayRef=e,this._afterDismissed=new _t.x,this._afterOpened=new _t.x,this._onAction=new _t.x,this._dismissedByAction=!1,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,eq))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}}let tq=(()=>{class n{constructor(e,i){this.snackBarRef=e,this.data=i}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Hk),s.Y36(R2))},n.\u0275cmp=s.Xpm({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[[1,"mat-simple-snack-bar-content"],["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"span",0),s._uU(1),s.qZA(),s.YNc(2,X4,3,1,"div",1)),2&e&&(s.xp6(1),s.Oqu(i.data.message),s.xp6(1),s.Q6J("ngIf",i.hasAction))},dependencies:[bo,Dc],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}.mat-simple-snack-bar-content{overflow:hidden;text-overflow:ellipsis}"],encapsulation:2,changeDetection:0}),n})();const nq={snackBarState:ka("state",[ms("void, hidden",kn({transform:"scale(0.8)",opacity:0})),ms("visible",kn({transform:"scale(1)",opacity:1})),xr("* => visible",Pi("150ms cubic-bezier(0, 0, 0.2, 1)")),xr("* => void, * => hidden",Pi("75ms cubic-bezier(0.4, 0.0, 1, 1)",kn({opacity:0})))])};let iq=(()=>{class n extends Eg{constructor(e,i,r,a,u){super(),this._ngZone=e,this._elementRef=i,this._changeDetectorRef=r,this._platform=a,this.snackBarConfig=u,this._announceDelay=150,this._destroyed=!1,this._onAnnounce=new _t.x,this._onExit=new _t.x,this._onEnter=new _t.x,this._animationState="void",this.attachDomPortal=h=>{this._assertNotAttached();const _=this._portalOutlet.attachDomPortal(h);return this._afterPortalAttached(),_},this._live="assertive"!==u.politeness||u.announcementMessage?"off"===u.politeness?"off":"polite":"assertive",this._platform.FIREFOX&&("polite"===this._live&&(this._role="status"),"assertive"===this._live&&(this._role="alert"))}attachComponentPortal(e){this._assertNotAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}onAnimationEnd(e){const{fromState:i,toState:r}=e;if(("void"===r&&"void"!==i||"hidden"===r)&&this._completeExit(),"visible"===r){const a=this._onEnter;this._ngZone.run(()=>{a.next(),a.complete()})}}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}exit(){return this._ngZone.run(()=>{this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId)}),this._onExit}ngOnDestroy(){this._destroyed=!0,this._completeExit()}_completeExit(){this._ngZone.onMicrotaskEmpty.pipe(Jn(1)).subscribe(()=>{this._ngZone.run(()=>{this._onExit.next(),this._onExit.complete()})})}_afterPortalAttached(){const e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i))}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{const e=this._elementRef.nativeElement.querySelector("[aria-hidden]"),i=this._elementRef.nativeElement.querySelector("[aria-live]");if(e&&i){let r=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(r=document.activeElement),e.removeAttribute("aria-hidden"),i.appendChild(e),r?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.R0b),s.Y36(s.SBq),s.Y36(s.sBO),s.Y36(xi),s.Y36(_A))},n.\u0275dir=s.lG2({type:n,viewQuery:function(e,i){if(1&e&&s.Gf(Ml,7),2&e){let r;s.iGM(r=s.CRH())&&(i._portalOutlet=r.first)}},features:[s.qOj]}),n})(),rq=(()=>{class n extends iq{_afterPortalAttached(){super._afterPortalAttached(),"center"===this.snackBarConfig.horizontalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&this._elementRef.nativeElement.classList.add("mat-snack-bar-top")}}return n.\u0275fac=function(){let t;return function(i){return(t||(t=s.n5z(n)))(i||n)}}(),n.\u0275cmp=s.Xpm({type:n,selectors:[["snack-bar-container"]],hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(e,i){1&e&&s.WFA("@state.done",function(a){return i.onAnimationEnd(a)}),2&e&&s.d8E("@state",i._animationState)},features:[s.qOj],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(e,i){1&e&&(s.TgZ(0,"div",0),s.YNc(1,J4,0,0,"ng-template",1),s.qZA(),s._UZ(2,"div")),2&e&&(s.xp6(2),s.uIk("aria-live",i._live)("role",i._role))},dependencies:[Ml],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}"],encapsulation:2,data:{animation:[nq.snackBarState]}}),n})(),O2=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[xc,Vu,Xi,Df,Bn,Bn]}),n})();const F2=new s.OlP("mat-snack-bar-default-options",{providedIn:"root",factory:function sq(){return new _A}});let oq=(()=>{class n{constructor(e,i,r,a,u,h){this._overlay=e,this._live=i,this._injector=r,this._breakpointObserver=a,this._parentSnackBar=u,this._defaultConfig=h,this._snackBarRefAtThisLevel=null}get _openedSnackBarRef(){const e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",r){const a={...this._defaultConfig,...r};return a.data={message:e,action:i},a.announcementMessage===e&&(a.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,a)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){const a=s.zs3.create({parent:i&&i.viewContainerRef&&i.viewContainerRef.injector||this._injector,providers:[{provide:_A,useValue:i}]}),u=new Nu(this.snackBarContainerComponent,i.viewContainerRef,a),h=e.attach(u);return h.instance.snackBarConfig=i,h.instance}_attach(e,i){const r={...new _A,...this._defaultConfig,...i},a=this._createOverlay(r),u=this._attachSnackBarContainer(a,r),h=new Hk(u,a);if(e instanceof s.Rgc){const _=new qd(e,null,{$implicit:r.data,snackBarRef:h});h.instance=u.attachTemplatePortal(_)}else{const _=this._createInjector(r,h),w=new Nu(e,void 0,_),M=u.attachComponentPortal(w);h.instance=M.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Zt(a.detachments())).subscribe(_=>{a.overlayElement.classList.toggle(this.handsetCssClass,_.matches)}),r.announcementMessage&&u._onAnnounce.subscribe(()=>{this._live.announce(r.announcementMessage,r.politeness)}),this._animateSnackBar(h,r),this._openedSnackBarRef=h,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter(),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration))}_createOverlay(e){const i=new Bu;i.direction=e.direction;let r=this._overlay.position().global();const a="rtl"===e.direction,u="left"===e.horizontalPosition||"start"===e.horizontalPosition&&!a||"end"===e.horizontalPosition&&a,h=!u&&"center"!==e.horizontalPosition;return u?r.left("0"):h?r.right("0"):r.centerHorizontally(),"top"===e.verticalPosition?r.top("0"):r.bottom("0"),i.positionStrategy=r,this._overlay.create(i)}_createInjector(e,i){return s.zs3.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Hk,useValue:i},{provide:R2,useValue:e.data}]})}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lo),s.LFG($S),s.LFG(s.zs3),s.LFG(pf),s.LFG(n,12),s.LFG(F2))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),aq=(()=>{class n extends oq{constructor(e,i,r,a,u,h){super(e,i,r,a,u,h),this.simpleSnackBarComponent=tq,this.snackBarContainerComponent=rq,this.handsetCssClass="mat-snack-bar-handset"}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(lo),s.LFG($S),s.LFG(s.zs3),s.LFG(pf),s.LFG(n,12),s.LFG(F2))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:O2}),n})();const lq=["matErrorMessaging",""];let cq=(()=>{class n{constructor(e,i){this.injector=e,this.cdr=i,this.overrideMap={},this.name="",this.updateErrors=r=>{if("INVALID"===r){const a=this.input.ngControl?.errors||{},u=Object.keys(a)[0];this.error=this.errorMap[u]?this.errorMap[u](this.name):a[u],this.cdr.detectChanges()}}}ngAfterViewInit(){this.errorMap={required:r=>`${r} is required`,minlength:r=>`${r} should be longer`,maxlength:r=>`${r} should be shorter`,pattern:r=>`Invalid ${r} format`,min:r=>`${r} is too low`,max:r=>`${r} is too high`,matDatePickerMax:r=>`${r} cannot be in the future`,incorrectDescription:r=>`The ${r} doesn't match the content`,email:r=>`Invalid ${r} format`,...this.overrideMap};const e=this.injector.get(Xm);this.input=e._control,this.name=this.input.ngControl.name.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),this.input.ngControl?.statusChanges?.pipe(hi(this.input.ngControl.status)).subscribe(this.updateErrors)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(s.zs3),s.Y36(s.sBO))},n.\u0275cmp=s.Xpm({type:n,selectors:[["","matErrorMessaging",""]],inputs:{overrideMap:"overrideMap"},attrs:lq,decls:1,vars:1,template:function(e,i){1&e&&s._uU(0),2&e&&s.Oqu(i.error)},encapsulation:2}),n})(),L2=(()=>{class n{constructor(e){this.matformfield=e,this.updateCompact=()=>{this.input.touched&&null!=this.input.errors?this.element.nativeElement.classList.remove("compact"):this.element.nativeElement.classList.add("compact")}}ngOnInit(){this.element=this.matformfield._elementRef,this.element.nativeElement.classList.add("compactable"),this.element.nativeElement.classList.add("compact")}ngAfterViewInit(){this.input=this.matformfield._control.ngControl,this.element.nativeElement.querySelector("input").addEventListener("blur",this.updateCompact),this.input.statusChanges?.subscribe(this.updateCompact)}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(Xm))},n.\u0275dir=s.lG2({type:n,selectors:[["","compact",""]]}),n})(),uq=(()=>{class n{constructor(e,i,r,a){this.dialogRef=e,this.fb=i,this.authService=r,this.snackBar=a,this.show=!1,this.loading=!1}ngOnInit(){this.loginGroup=this.fb.group({email:[null,[jd.required,jd.email]],password:[null,jd.required]})}get passwordType(){return this.show?"text":"password"}get visibilityIcon(){return this.show?"visibility":"visibility_off"}login(){if(this.loginGroup.markAllAsTouched(),this.loginGroup.updateValueAndValidity(),this.loginGroup.valid){const{email:e,password:i}=this.loginGroup.value;this.loading=!0,this.authService.emailSignIn(e,i).then(()=>{this.loading=!1,this.dialogRef.close()}).catch(r=>{console.log(r),this.loading=!1,this.snackBar.open("Unable to login","Dismiss")})}else this.snackBar.open("Invalid login form","Dismiss")}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(vD),s.Y36(Av),s.Y36(jk),s.Y36(aq))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-login"]],decls:26,vars:5,consts:[["mat-card-avatar",""],["color","primary"],[1,"mat-display-1"],[3,"formGroup"],["appearance","outline","compact",""],["matInput","","type","email","formControlName","email"],["matErrorMessaging",""],["matInput","","formControlName","password",3,"type"],["matSuffix","",3,"click"],["align","end"],["mat-button","","mat-dialog-close",""],["mat-button","","color","primary",3,"click"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-card")(1,"mat-card-header")(2,"div",0)(3,"mat-icon",1),s._uU(4,"person"),s.qZA()(),s.TgZ(5,"mat-card-title",2),s._uU(6,"Login"),s.qZA()(),s.TgZ(7,"mat-card-content")(8,"form",3)(9,"mat-form-field",4)(10,"mat-label"),s._uU(11,"Email"),s.qZA(),s._UZ(12,"input",5)(13,"mat-error",6),s.qZA(),s.TgZ(14,"mat-form-field",4)(15,"mat-label"),s._uU(16,"Password"),s.qZA(),s._UZ(17,"input",7),s.TgZ(18,"mat-icon",8),s.NdJ("click",function(){return i.show=!i.show}),s._uU(19),s.qZA(),s._UZ(20,"mat-error",6),s.qZA()()(),s.TgZ(21,"mat-card-actions",9)(22,"button",10),s._uU(23,"Cancel"),s.qZA(),s.TgZ(24,"button",11),s.NdJ("click",function(){return i.login()}),s._uU(25,"Login"),s.qZA()()()),2&e&&(s.xp6(8),s.Q6J("formGroup",i.loginGroup),s.xp6(9),s.Q6J("type",i.passwordType),s.xp6(2),s.Oqu(i.visibilityIcon),s.xp6(5),s.ekj("spinner",i.loading))},dependencies:[Dc,Ef,Pw,$m,xw,Ny,Iw,Bv,$w,Xm,Qm,IT,Pl,bg,SC,Ra,Hd,dC,gg,mv,cq,L2],styles:["mat-card[_ngcontent-%COMP%]   mat-card-header[_ngcontent-%COMP%]   .mat-card-avatar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;background-color:#0c267826}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{margin-bottom:0}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#0009}"]}),n})(),dq=(()=>{class n{constructor(e,i){this.authService=e,this.dialog=i}openLogin(){this.dialog.open(uq,{width:"340px",panelClass:"login-dialog",autoFocus:!1})}}return n.\u0275fac=function(e){return new(e||n)(s.Y36(jk),s.Y36(Ig))},n.\u0275cmp=s.Xpm({type:n,selectors:[["app-root"]],decls:11,vars:0,consts:[["spacer",""],["mat-button","","routerLink","/modal","routerLinkActive","active"],["mat-button","","routerLink","/form","routerLinkActive","active"],["mat-button","","routerLink","/tabs","routerLinkActive","active"]],template:function(e,i){1&e&&(s.TgZ(0,"mat-toolbar")(1,"span"),s._uU(2,"File Attachment"),s.qZA(),s._UZ(3,"span",0),s.TgZ(4,"button",1),s._uU(5,"Modal"),s.qZA(),s.TgZ(6,"button",2),s._uU(7,"Form"),s.qZA(),s.TgZ(8,"button",3),s._uU(9,"Tabs"),s.qZA()(),s._UZ(10,"router-outlet"))},dependencies:[dc,mm,T0,Dc,rF,_M],styles:[".active[_ngcontent-%COMP%]{color:#0c2678}"]}),n})();function N2(n){return new s.vHH(3e3,!1)}function Wq(){return typeof window<"u"&&typeof window.document<"u"}function Gk(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function _h(n){switch(n.length){case 0:return new Qr;case 1:return n[0];default:return new ao(n)}}function V2(n,t,e,i,r=new Map,a=new Map){const u=[],h=[];let _=-1,w=null;if(i.forEach(M=>{const j=M.get("offset"),Ce=j==_,Me=Ce&&w||new Map;M.forEach((Le,$e)=>{let st=$e,It=Le;if("offset"!==$e)switch(st=t.normalizePropertyName(st,u),It){case"!":It=r.get($e);break;case Pa:It=a.get($e);break;default:It=t.normalizeStyleValue($e,st,It,u)}Me.set(st,It)}),Ce||h.push(Me),w=Me,_=j}),u.length)throw function Oq(n){return new s.vHH(3502,!1)}();return h}function zk(n,t,e,i){switch(t){case"start":n.onStart(()=>i(e&&$k(e,"start",n)));break;case"done":n.onDone(()=>i(e&&$k(e,"done",n)));break;case"destroy":n.onDestroy(()=>i(e&&$k(e,"destroy",n)))}}function $k(n,t,e){const a=Wk(n.element,n.triggerName,n.fromState,n.toState,t||n.phaseName,e.totalTime??n.totalTime,!!e.disabled),u=n._data;return null!=u&&(a._data=u),a}function Wk(n,t,e,i,r="",a=0,u){return{element:n,triggerName:t,fromState:e,toState:i,phaseName:r,totalTime:a,disabled:!!u}}function Zo(n,t,e){let i=n.get(t);return i||n.set(t,i=e),i}function B2(n){const t=n.indexOf(":");return[n.substring(1,t),n.slice(t+1)]}let qk=(n,t)=>!1,U2=(n,t,e)=>[],j2=null;function Yk(n){const t=n.parentNode||n.host;return t===j2?null:t}(Gk()||typeof Element<"u")&&(Wq()?(j2=(()=>document.documentElement)(),qk=(n,t)=>{for(;t;){if(t===n)return!0;t=Yk(t)}return!1}):qk=(n,t)=>n.contains(t),U2=(n,t,e)=>{if(e)return Array.from(n.querySelectorAll(t));const i=n.querySelector(t);return i?[i]:[]});let xp=null,H2=!1;const G2=qk,z2=U2;let $2=(()=>{class n{validateStyleProperty(e){return function Yq(n){xp||(xp=function Kq(){return typeof document<"u"?document.body:null}()||{},H2=!!xp.style&&"WebkitAppearance"in xp.style);let t=!0;return xp.style&&!function qq(n){return"ebkit"==n.substring(1,6)}(n)&&(t=n in xp.style,!t&&H2&&(t="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in xp.style)),t}(e)}matchesElement(e,i){return!1}containsElement(e,i){return G2(e,i)}getParentElement(e){return Yk(e)}query(e,i,r){return z2(e,i,r)}computeStyle(e,i,r){return r||""}animate(e,i,r,a,u,h=[],_){return new Qr(r,a)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})(),Kk=(()=>{class n{}return n.NOOP=new $2,n})();const Zk="ng-enter",yA="ng-leave",vA="ng-trigger",bA=".ng-trigger",q2="ng-animating",Qk=".ng-animating";function yh(n){if("number"==typeof n)return n;const t=n.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Xk(parseFloat(t[1]),t[2])}function Xk(n,t){return"s"===t?1e3*n:n}function wA(n,t,e){return n.hasOwnProperty("duration")?n:function Xq(n,t,e){let r,a=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return t.push(N2()),{duration:0,delay:0,easing:""};r=Xk(parseFloat(h[1]),h[2]);const _=h[3];null!=_&&(a=Xk(parseFloat(_),h[4]));const w=h[5];w&&(u=w)}else r=n;if(!e){let h=!1,_=t.length;r<0&&(t.push(function hq(){return new s.vHH(3100,!1)}()),h=!0),a<0&&(t.push(function fq(){return new s.vHH(3101,!1)}()),h=!0),h&&t.splice(_,0,N2())}return{duration:r,delay:a,easing:u}}(n,t,e)}function a0(n,t={}){return Object.keys(n).forEach(e=>{t[e]=n[e]}),t}function Y2(n){const t=new Map;return Object.keys(n).forEach(e=>{t.set(e,n[e])}),t}function vh(n,t=new Map,e){if(e)for(let[i,r]of e)t.set(i,r);for(let[i,r]of n)t.set(i,r);return t}function Z2(n,t,e){return e?t+":"+e+";":""}function Q2(n){let t="";for(let e=0;e<n.style.length;e++){const i=n.style.item(e);t+=Z2(0,i,n.style.getPropertyValue(i))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(t+=Z2(0,nY(e),n.style[e]));n.setAttribute("style",t)}function Nc(n,t,e){n.style&&(t.forEach((i,r)=>{const a=eR(r);e&&!e.has(r)&&e.set(r,n.style[a]),n.style[a]=i}),Gk()&&Q2(n))}function Mp(n,t){n.style&&(t.forEach((e,i)=>{const r=eR(i);n.style[r]=""}),Gk()&&Q2(n))}function l0(n){return Array.isArray(n)?1==n.length?n[0]:Lw(n):n}const Jk=new RegExp("{{\\s*(.+?)\\s*}}","g");function X2(n){let t=[];if("string"==typeof n){let e;for(;e=Jk.exec(n);)t.push(e[1]);Jk.lastIndex=0}return t}function CA(n,t,e){const i=n.toString(),r=i.replace(Jk,(a,u)=>{let h=t[u];return null==h&&(e.push(function mq(n){return new s.vHH(3003,!1)}()),h=""),h.toString()});return r==i?n:r}function DA(n){const t=[];let e=n.next();for(;!e.done;)t.push(e.value),e=n.next();return t}const tY=/-+([a-z0-9])/g;function eR(n){return n.replace(tY,(...t)=>t[1].toUpperCase())}function nY(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Qo(n,t,e){switch(t.type){case 7:return n.visitTrigger(t,e);case 0:return n.visitState(t,e);case 1:return n.visitTransition(t,e);case 2:return n.visitSequence(t,e);case 3:return n.visitGroup(t,e);case 4:return n.visitAnimate(t,e);case 5:return n.visitKeyframes(t,e);case 6:return n.visitStyle(t,e);case 8:return n.visitReference(t,e);case 9:return n.visitAnimateChild(t,e);case 10:return n.visitAnimateRef(t,e);case 11:return n.visitQuery(t,e);case 12:return n.visitStagger(t,e);default:throw function gq(n){return new s.vHH(3004,!1)}()}}function J2(n,t){return window.getComputedStyle(n)[t]}function lY(n,t){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function cY(n,t,e){if(":"==n[0]){const _=function uY(n,t){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,i)=>parseFloat(i)>parseFloat(e);case":decrement":return(e,i)=>parseFloat(i)<parseFloat(e);default:return t.push(function Iq(n){return new s.vHH(3016,!1)}()),"* => *"}}(n,e);if("function"==typeof _)return void t.push(_);n=_}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return e.push(function Mq(n){return new s.vHH(3015,!1)}()),t;const r=i[1],a=i[2],u=i[3];t.push(eU(r,u));"<"==a[0]&&!("*"==r&&"*"==u)&&t.push(eU(u,r))}(i,e,t)):e.push(n),e}const TA=new Set(["true","1"]),xA=new Set(["false","0"]);function eU(n,t){const e=TA.has(n)||xA.has(n),i=TA.has(t)||xA.has(t);return(r,a)=>{let u="*"==n||n==r,h="*"==t||t==a;return!u&&e&&"boolean"==typeof r&&(u=r?TA.has(n):xA.has(n)),!h&&i&&"boolean"==typeof a&&(h=a?TA.has(t):xA.has(t)),u&&h}}const dY=new RegExp("s*:selfs*,?","g");function tR(n,t,e,i){return new hY(n).build(t,e,i)}class hY{constructor(t){this._driver=t}build(t,e,i){const r=new mY(e);return this._resetContextStyleTimingState(r),Qo(this,l0(t),r)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles=new Map,t.collectedStyles.set("",new Map),t.currentTime=0}visitTrigger(t,e){let i=e.queryCount=0,r=e.depCount=0;const a=[],u=[];return"@"==t.name.charAt(0)&&e.errors.push(function yq(){return new s.vHH(3006,!1)}()),t.definitions.forEach(h=>{if(this._resetContextStyleTimingState(e),0==h.type){const _=h,w=_.name;w.toString().split(/\s*,\s*/).forEach(M=>{_.name=M,a.push(this.visitState(_,e))}),_.name=w}else if(1==h.type){const _=this.visitTransition(h,e);i+=_.queryCount,r+=_.depCount,u.push(_)}else e.errors.push(function vq(){return new s.vHH(3007,!1)}())}),{type:7,name:t.name,states:a,transitions:u,queryCount:i,depCount:r,options:null}}visitState(t,e){const i=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(i.containsDynamicStyles){const a=new Set,u=r||{};i.styles.forEach(h=>{h instanceof Map&&h.forEach(_=>{X2(_).forEach(w=>{u.hasOwnProperty(w)||a.add(w)})})}),a.size&&(DA(a.values()),e.errors.push(function bq(n,t){return new s.vHH(3008,!1)}()))}return{type:0,name:t.name,style:i,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const i=Qo(this,l0(t.animation),e);return{type:1,matchers:lY(t.expr,e.errors),animation:i,queryCount:e.queryCount,depCount:e.depCount,options:Ip(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(i=>Qo(this,i,e)),options:Ip(t.options)}}visitGroup(t,e){const i=e.currentTime;let r=0;const a=t.steps.map(u=>{e.currentTime=i;const h=Qo(this,u,e);return r=Math.max(r,e.currentTime),h});return e.currentTime=r,{type:3,steps:a,options:Ip(t.options)}}visitAnimate(t,e){const i=function _Y(n,t){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return nR(wA(n,t).duration,0,"");const e=n;if(e.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=nR(0,0,"");return a.dynamic=!0,a.strValue=e,a}const r=wA(e,t);return nR(r.duration,r.delay,r.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;let r,a=t.styles?t.styles:kn({});if(5==a.type)r=this.visitKeyframes(a,e);else{let u=t.styles,h=!1;if(!u){h=!0;const w={};i.easing&&(w.easing=i.easing),u=kn(w)}e.currentTime+=i.duration+i.delay;const _=this.visitStyle(u,e);_.isEmptyStep=h,r=_}return e.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(t,e){const i=this._makeStyleAst(t,e);return this._validateStyleAst(i,e),i}_makeStyleAst(t,e){const i=[],r=Array.isArray(t.styles)?t.styles:[t.styles];for(let h of r)"string"==typeof h?h===Pa?i.push(h):e.errors.push(new s.vHH(3002,!1)):i.push(Y2(h));let a=!1,u=null;return i.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!a))for(let _ of h.values())if(_.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:i,easing:u,offset:t.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(t,e){const i=e.currentAnimateTimings;let r=e.currentTime,a=e.currentTime;i&&a>0&&(a-=i.duration+i.delay),t.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,_)=>{const w=e.collectedStyles.get(e.currentQuerySelector),M=w.get(_);let j=!0;M&&(a!=r&&a>=M.startTime&&r<=M.endTime&&(e.errors.push(function Cq(n,t,e,i,r){return new s.vHH(3010,!1)}()),j=!1),a=M.startTime),j&&w.set(_,{startTime:a,endTime:r}),e.options&&function eY(n,t,e){const i=t.params||{},r=X2(n);r.length&&r.forEach(a=>{i.hasOwnProperty(a)||e.push(function pq(n){return new s.vHH(3001,!1)}())})}(h,e.options,e.errors)})})}visitKeyframes(t,e){const i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function Dq(){return new s.vHH(3011,!1)}()),i;let a=0;const u=[];let h=!1,_=!1,w=0;const M=t.steps.map(It=>{const Bt=this._makeStyleAst(It,e);let Qt=null!=Bt.offset?Bt.offset:function gY(n){if("string"==typeof n)return null;let t=null;if(Array.isArray(n))n.forEach(e=>{if(e instanceof Map&&e.has("offset")){const i=e;t=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const e=n;t=parseFloat(e.get("offset")),e.delete("offset")}return t}(Bt.styles),Gt=0;return null!=Qt&&(a++,Gt=Bt.offset=Qt),_=_||Gt<0||Gt>1,h=h||Gt<w,w=Gt,u.push(Gt),Bt});_&&e.errors.push(function Eq(){return new s.vHH(3012,!1)}()),h&&e.errors.push(function Aq(){return new s.vHH(3200,!1)}());const j=t.steps.length;let Ce=0;a>0&&a<j?e.errors.push(function Sq(){return new s.vHH(3202,!1)}()):0==a&&(Ce=1/(j-1));const Me=j-1,Le=e.currentTime,$e=e.currentAnimateTimings,st=$e.duration;return M.forEach((It,Bt)=>{const Qt=Ce>0?Bt==Me?1:Ce*Bt:u[Bt],Gt=Qt*st;e.currentTime=Le+$e.delay+Gt,$e.duration=Gt,this._validateStyleAst(It,e),It.offset=Qt,i.styles.push(It)}),i}visitReference(t,e){return{type:8,animation:Qo(this,l0(t.animation),e),options:Ip(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:Ip(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:Ip(t.options)}}visitQuery(t,e){const i=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[a,u]=function fY(n){const t=!!n.split(/\s*,\s*/).find(e=>":self"==e);return t&&(n=n.replace(dY,"")),n=n.replace(/@\*/g,bA).replace(/@\w+/g,e=>bA+"-"+e.slice(1)).replace(/:animating/g,Qk),[n,t]}(t.selector);e.currentQuerySelector=i.length?i+" "+a:a,Zo(e.collectedStyles,e.currentQuerySelector,new Map);const h=Qo(this,l0(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=i,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:u,animation:h,originalSelector:t.selector,options:Ip(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(function Tq(){return new s.vHH(3013,!1)}());const i="full"===t.timings?{duration:0,delay:0,easing:"full"}:wA(t.timings,e.errors,!0);return{type:12,animation:Qo(this,l0(t.animation),e),timings:i,options:null}}}class mY{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ip(n){return n?(n=a0(n)).params&&(n.params=function pY(n){return n?a0(n):null}(n.params)):n={},n}function nR(n,t,e){return{duration:n,delay:t,easing:e}}function iR(n,t,e,i,r,a,u=null,h=!1){return{type:1,element:n,keyframes:t,preStyleProps:e,postStyleProps:i,duration:r,delay:a,totalTime:r+a,easing:u,subTimeline:h}}class MA{constructor(){this._map=new Map}get(t){return this._map.get(t)||[]}append(t,e){let i=this._map.get(t);i||this._map.set(t,i=[]),i.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const bY=new RegExp(":enter","g"),CY=new RegExp(":leave","g");function rR(n,t,e,i,r,a=new Map,u=new Map,h,_,w=[]){return(new DY).buildKeyframes(n,t,e,i,r,a,u,h,_,w)}class DY{buildKeyframes(t,e,i,r,a,u,h,_,w,M=[]){w=w||new MA;const j=new sR(t,e,w,r,a,M,[]);j.options=_;const Ce=_.delay?yh(_.delay):0;j.currentTimeline.delayNextStep(Ce),j.currentTimeline.setStyles([u],null,j.errors,_),Qo(this,i,j);const Me=j.timelines.filter(Le=>Le.containsAnimation());if(Me.length&&h.size){let Le;for(let $e=Me.length-1;$e>=0;$e--){const st=Me[$e];if(st.element===e){Le=st;break}}Le&&!Le.allowOnlyTimelineStyles()&&Le.setStyles([h],null,j.errors,_)}return Me.length?Me.map(Le=>Le.buildKeyframes()):[iR(e,[],[],[],0,Ce,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const i=e.subInstructions.get(e.element);if(i){const r=e.createSubContext(t.options),a=e.currentTimeline.currentTime,u=this._visitSubInstructions(i,r,r.options);a!=u&&e.transformIntoNewTimeline(u)}e.previousNode=t}visitAnimateRef(t,e){const i=e.createSubContext(t.options);i.transformIntoNewTimeline(),this.visitReference(t.animation,i),e.transformIntoNewTimeline(i.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,i){let a=e.currentTimeline.currentTime;const u=null!=i.duration?yh(i.duration):null,h=null!=i.delay?yh(i.delay):null;return 0!==u&&t.forEach(_=>{const w=e.appendInstructionToTimeline(_,u,h);a=Math.max(a,w.duration+w.delay)}),a}visitReference(t,e){e.updateOptions(t.options,!0),Qo(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const i=e.subContextCount;let r=e;const a=t.options;if(a&&(a.params||a.delay)&&(r=e.createSubContext(a),r.transformIntoNewTimeline(),null!=a.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=IA);const u=yh(a.delay);r.delayNextStep(u)}t.steps.length&&(t.steps.forEach(u=>Qo(this,u,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const i=[];let r=e.currentTimeline.currentTime;const a=t.options&&t.options.delay?yh(t.options.delay):0;t.steps.forEach(u=>{const h=e.createSubContext(t.options);a&&h.delayNextStep(a),Qo(this,u,h),r=Math.max(r,h.currentTimeline.currentTime),i.push(h.currentTimeline)}),i.forEach(u=>e.currentTimeline.mergeTimelineCollectedStyles(u)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const i=t.strValue;return wA(e.params?CA(i,e.params,e.errors):i,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const i=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;i.delay&&(e.incrementTime(i.delay),r.snapshotCurrentStyles());const a=t.style;5==a.type?this.visitKeyframes(a,e):(e.incrementTime(i.duration),this.visitStyle(a,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const i=e.currentTimeline,r=e.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const a=r&&r.easing||t.easing;t.isEmptyStep?i.applyEmptyStep(a):i.setStyles(t.styles,a,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const i=e.currentAnimateTimings,r=e.currentTimeline.duration,a=i.duration,h=e.createSubContext().currentTimeline;h.easing=i.easing,t.styles.forEach(_=>{h.forwardTime((_.offset||0)*a),h.setStyles(_.styles,_.easing,e.errors,e.options),h.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(h),e.transformIntoNewTimeline(r+a),e.previousNode=t}visitQuery(t,e){const i=e.currentTimeline.currentTime,r=t.options||{},a=r.delay?yh(r.delay):0;a&&(6===e.previousNode.type||0==i&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=IA);let u=i;const h=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=h.length;let _=null;h.forEach((w,M)=>{e.currentQueryIndex=M;const j=e.createSubContext(t.options,w);a&&j.delayNextStep(a),w===e.element&&(_=j.currentTimeline),Qo(this,t.animation,j),j.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,j.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(u),_&&(e.currentTimeline.mergeTimelineCollectedStyles(_),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const i=e.parentContext,r=e.currentTimeline,a=t.timings,u=Math.abs(a.duration),h=u*(e.currentQueryTotal-1);let _=u*e.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":_=h-_;break;case"full":_=i.currentStaggerTime}const M=e.currentTimeline;_&&M.delayNextStep(_);const j=M.currentTime;Qo(this,t.animation,e),e.previousNode=t,i.currentStaggerTime=r.currentTime-j+(r.startTime-i.currentTimeline.startTime)}}const IA={};class sR{constructor(t,e,i,r,a,u,h,_){this._driver=t,this.element=e,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=a,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=IA,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new PA(this._driver,e,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const i=t;let r=this.options;null!=i.duration&&(r.duration=yh(i.duration)),null!=i.delay&&(r.delay=yh(i.delay));const a=i.params;if(a){let u=r.params;u||(u=this.options.params={}),Object.keys(a).forEach(h=>{(!e||!u.hasOwnProperty(h))&&(u[h]=CA(a[h],u,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const i=t.params={};Object.keys(e).forEach(r=>{i[r]=e[r]})}}return t}createSubContext(t=null,e,i){const r=e||this.element,a=new sR(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(t){return this.previousNode=IA,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,i){const r={duration:e??t.duration,delay:this.currentTimeline.currentTime+(i??0)+t.delay,easing:""},a=new EY(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(a),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,i,r,a,u){let h=[];if(r&&h.push(this.element),t.length>0){t=(t=t.replace(bY,"."+this._enterClassName)).replace(CY,"."+this._leaveClassName);let w=this._driver.query(this.element,t,1!=i);0!==i&&(w=i<0?w.slice(w.length+i,w.length):w.slice(0,i)),h.push(...w)}return!a&&0==h.length&&u.push(function xq(n){return new s.vHH(3014,!1)}()),h}}class PA{constructor(t,e,i,r){this._driver=t,this.element=e,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1===this._keyframes.size&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new PA(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,i]of this._globalTimelineStyles)this._backFill.set(e,i||Pa),this._currentKeyframe.set(e,Pa);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,i,r){e&&this._previousKeyframe.set("easing",e);const a=r&&r.params||{},u=function AY(n,t){const e=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||t.keys();for(let a of i)e.set(a,Pa)}else vh(r,e)}),e}(t,this._globalTimelineStyles);for(let[h,_]of u){const w=CA(_,a,i);this._pendingStyles.set(h,w),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Pa),this._updateStyle(h,w)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,i)=>{const r=this._styleSummary.get(i);(!r||e.time>r.time)&&this._updateStyle(i,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((h,_)=>{const w=vh(h,new Map,this._backFill);w.forEach((M,j)=>{"!"===M?t.add(j):M===Pa&&e.add(j)}),i||w.set("offset",_/this.duration),r.push(w)});const a=t.size?DA(t.values()):[],u=e.size?DA(e.values()):[];if(i){const h=r[0],_=new Map(h);h.set("offset",0),_.set("offset",1),r=[h,_]}return iR(this.element,r,a,u,this.duration,this.startTime,this.easing,!1)}}class EY extends PA{constructor(t,e,i,r,a,u,h=!1){super(t,e,u.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const a=[],u=i+e,h=e/u,_=vh(t[0]);_.set("offset",0),a.push(_);const w=vh(t[0]);w.set("offset",iU(h)),a.push(w);const M=t.length-1;for(let j=1;j<=M;j++){let Ce=vh(t[j]);const Me=Ce.get("offset");Ce.set("offset",iU((e+Me*i)/u)),a.push(Ce)}i=u,e=0,r="",t=a}return iR(this.element,t,this.preStyleProps,this.postStyleProps,i,e,r,!0)}}function iU(n,t=3){const e=Math.pow(10,t-1);return Math.round(n*e)/e}class oR{}const SY=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class TY extends oR{normalizePropertyName(t,e){return eR(t)}normalizeStyleValue(t,e,i,r){let a="";const u=i.toString().trim();if(SY.has(e)&&0!==i&&"0"!==i)if("number"==typeof i)a="px";else{const h=i.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&r.push(function _q(n,t){return new s.vHH(3005,!1)}())}return u+a}}function rU(n,t,e,i,r,a,u,h,_,w,M,j,Ce){return{type:0,element:n,triggerName:t,isRemovalTransition:r,fromState:e,fromStyles:a,toState:i,toStyles:u,timelines:h,queriedElements:_,preStyleProps:w,postStyleProps:M,totalTime:j,errors:Ce}}const aR={};class sU{constructor(t,e,i){this._triggerName=t,this.ast=e,this._stateStyles=i}match(t,e,i,r){return function xY(n,t,e,i,r){return n.some(a=>a(t,e,i,r))}(this.ast.matchers,t,e,i,r)}buildStyles(t,e,i){let r=this._stateStyles.get("*");return void 0!==t&&(r=this._stateStyles.get(t?.toString())||r),r?r.buildStyles(e,i):new Map}build(t,e,i,r,a,u,h,_,w,M){const j=[],Ce=this.ast.options&&this.ast.options.params||aR,Le=this.buildStyles(i,h&&h.params||aR,j),$e=_&&_.params||aR,st=this.buildStyles(r,$e,j),It=new Set,Bt=new Map,Qt=new Map,Gt="void"===r,hn={params:MY($e,Ce),delay:this.ast.options?.delay},gn=M?[]:rR(t,e,this.ast.animation,a,u,Le,st,hn,w,j);let Nn=0;if(gn.forEach(Qu=>{Nn=Math.max(Qu.duration+Qu.delay,Nn)}),j.length)return rU(e,this._triggerName,i,r,Gt,Le,st,[],[],Bt,Qt,Nn,j);gn.forEach(Qu=>{const Xu=Qu.element,AU=Zo(Bt,Xu,new Set);Qu.preStyleProps.forEach(Pp=>AU.add(Pp));const u0=Zo(Qt,Xu,new Set);Qu.postStyleProps.forEach(Pp=>u0.add(Pp)),Xu!==e&&It.add(Xu)});const zs=DA(It.values());return rU(e,this._triggerName,i,r,Gt,Le,st,gn,zs,Bt,Qt,Nn)}}function MY(n,t){const e=a0(t);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(e[i]=n[i]);return e}class IY{constructor(t,e,i){this.styles=t,this.defaultParams=e,this.normalizer=i}buildStyles(t,e){const i=new Map,r=a0(this.defaultParams);return Object.keys(t).forEach(a=>{const u=t[a];null!==u&&(r[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{u&&(u=CA(u,r,e));const _=this.normalizer.normalizePropertyName(h,e);u=this.normalizer.normalizeStyleValue(h,_,u,e),i.set(_,u)})}),i}}class kY{constructor(t,e,i){this.name=t,this.ast=e,this._normalizer=i,this.transitionFactories=[],this.states=new Map,e.states.forEach(r=>{this.states.set(r.name,new IY(r.style,r.options&&r.options.params||{},i))}),oU(this.states,"true","1"),oU(this.states,"false","0"),e.transitions.forEach(r=>{this.transitionFactories.push(new sU(t,r,this.states))}),this.fallbackTransition=function RY(n,t,e){return new sU(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},t)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,i,r){return this.transitionFactories.find(u=>u.match(t,e,i,r))||null}matchStyles(t,e,i){return this.fallbackTransition.buildStyles(t,e,i)}}function oU(n,t,e){n.has(t)?n.has(e)||n.set(e,n.get(t)):n.has(e)&&n.set(t,n.get(e))}const OY=new MA;class FY{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(t,e){const i=[],a=tR(this._driver,e,i,[]);if(i.length)throw function Fq(n){return new s.vHH(3503,!1)}();this._animations.set(t,a)}_buildPlayer(t,e,i){const r=t.element,a=V2(0,this._normalizer,0,t.keyframes,e,i);return this._driver.animate(r,a,t.duration,t.delay,t.easing,[],!0)}create(t,e,i={}){const r=[],a=this._animations.get(t);let u;const h=new Map;if(a?(u=rR(this._driver,e,a,Zk,yA,new Map,new Map,i,OY,r),u.forEach(M=>{const j=Zo(h,M.element,new Map);M.postStyleProps.forEach(Ce=>j.set(Ce,null))})):(r.push(function Lq(){return new s.vHH(3300,!1)}()),u=[]),r.length)throw function Nq(n){return new s.vHH(3504,!1)}();h.forEach((M,j)=>{M.forEach((Ce,Me)=>{M.set(Me,this._driver.computeStyle(j,Me,Pa))})});const w=_h(u.map(M=>{const j=h.get(M.element);return this._buildPlayer(M,new Map,j)}));return this._playersById.set(t,w),w.onDestroy(()=>this.destroy(t)),this.players.push(w),w}destroy(t){const e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);const i=this.players.indexOf(e);i>=0&&this.players.splice(i,1)}_getPlayer(t){const e=this._playersById.get(t);if(!e)throw function Vq(n){return new s.vHH(3301,!1)}();return e}listen(t,e,i,r){const a=Wk(e,"","","");return zk(this._getPlayer(t),i,a,r),()=>{}}command(t,e,i,r){if("register"==i)return void this.register(t,r[0]);if("create"==i)return void this.create(t,e,r[0]||{});const a=this._getPlayer(t);switch(i){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const aU="ng-animate-queued",lR="ng-animate-disabled",UY=[],lU={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},jY={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Ba="__ng_removed";class cR{constructor(t,e=""){this.namespaceId=e;const i=t&&t.hasOwnProperty("value");if(this.value=function $Y(n){return n??null}(i?t.value:t),i){const a=a0(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const i=this.options.params;Object.keys(e).forEach(r=>{null==i[r]&&(i[r]=e[r])})}}}const c0="void",uR=new cR(c0);class HY{constructor(t,e,i){this.id=t,this.hostElement=e,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,Ua(e,this._hostClassName)}listen(t,e,i,r){if(!this._triggers.has(e))throw function Bq(n,t){return new s.vHH(3302,!1)}();if(null==i||0==i.length)throw function Uq(n){return new s.vHH(3303,!1)}();if(!function WY(n){return"start"==n||"done"==n}(i))throw function jq(n,t){return new s.vHH(3400,!1)}();const a=Zo(this._elementListeners,t,[]),u={name:e,phase:i,callback:r};a.push(u);const h=Zo(this._engine.statesByElement,t,new Map);return h.has(e)||(Ua(t,vA),Ua(t,vA+"-"+e),h.set(e,uR)),()=>{this._engine.afterFlush(()=>{const _=a.indexOf(u);_>=0&&a.splice(_,1),this._triggers.has(e)||h.delete(e)})}}register(t,e){return!this._triggers.has(t)&&(this._triggers.set(t,e),!0)}_getTrigger(t){const e=this._triggers.get(t);if(!e)throw function Hq(n){return new s.vHH(3401,!1)}();return e}trigger(t,e,i,r=!0){const a=this._getTrigger(e),u=new dR(this.id,e,t);let h=this._engine.statesByElement.get(t);h||(Ua(t,vA),Ua(t,vA+"-"+e),this._engine.statesByElement.set(t,h=new Map));let _=h.get(e);const w=new cR(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&_&&w.absorbOptions(_.options),h.set(e,w),_||(_=uR),w.value!==c0&&_.value===w.value){if(!function KY(n,t){const e=Object.keys(n),i=Object.keys(t);if(e.length!=i.length)return!1;for(let r=0;r<e.length;r++){const a=e[r];if(!t.hasOwnProperty(a)||n[a]!==t[a])return!1}return!0}(_.params,w.params)){const $e=[],st=a.matchStyles(_.value,_.params,$e),It=a.matchStyles(w.value,w.params,$e);$e.length?this._engine.reportError($e):this._engine.afterFlush(()=>{Mp(t,st),Nc(t,It)})}return}const Ce=Zo(this._engine.playersByElement,t,[]);Ce.forEach($e=>{$e.namespaceId==this.id&&$e.triggerName==e&&$e.queued&&$e.destroy()});let Me=a.matchTransition(_.value,w.value,t,w.params),Le=!1;if(!Me){if(!r)return;Me=a.fallbackTransition,Le=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:Me,fromState:_,toState:w,player:u,isFallbackTransition:Le}),Le||(Ua(t,aU),u.onStart(()=>{g_(t,aU)})),u.onDone(()=>{let $e=this.players.indexOf(u);$e>=0&&this.players.splice($e,1);const st=this._engine.playersByElement.get(t);if(st){let It=st.indexOf(u);It>=0&&st.splice(It,1)}}),this.players.push(u),Ce.push(u),u}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,i)=>{this._elementListeners.set(i,e.filter(r=>r.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(i=>i.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const i=this._engine.driver.query(t,bA,!0);i.forEach(r=>{if(r[Ba])return;const a=this._engine.fetchNamespacesByElement(r);a.size?a.forEach(u=>u.triggerLeaveAnimation(r,e,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(t,e,i,r){const a=this._engine.statesByElement.get(t),u=new Map;if(a){const h=[];if(a.forEach((_,w)=>{if(u.set(w,_.value),this._triggers.has(w)){const M=this.trigger(t,w,c0,r);M&&h.push(M)}}),h.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,u),i&&_h(h).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(e&&i){const r=new Set;e.forEach(a=>{const u=a.name;if(r.has(u))return;r.add(u);const _=this._triggers.get(u).fallbackTransition,w=i.get(u)||uR,M=new cR(c0),j=new dR(this.id,u,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:u,transition:_,fromState:w,toState:M,player:j,isFallbackTransition:!0})})}}removeNode(t,e){const i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(i.totalAnimations){const a=i.players.length?i.playersByQueriedElement.get(t):[];if(a&&a.length)r=!0;else{let u=t;for(;u=u.parentNode;)if(i.statesByElement.get(u)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{const a=t[Ba];(!a||a===lU)&&(i.afterFlush(()=>this.clearElementCache(t)),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}insertNode(t,e){Ua(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const a=i.element,u=this._elementListeners.get(a);u&&u.forEach(h=>{if(h.name==i.triggerName){const _=Wk(a,i.triggerName,i.fromState.value,i.toState.value);_._data=t,zk(i.player,h.phase,_,h.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(i)}),this._queue=[],e.sort((i,r)=>{const a=i.transition.ast.depCount,u=r.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(i=>i.element===t)||e,e}}class GY{constructor(t,e,i){this.bodyNode=t,this.driver=e,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,a)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(i=>{i.queued&&t.push(i)})}),t}createNamespace(t,e){const i=new HY(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(i,e):(this.newHostElements.set(e,i),this.collectEnterElement(e)),this._namespaceLookup[t]=i}_balanceNamespaceList(t,e){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let u=!1,h=this.driver.getParentElement(e);for(;h;){const _=r.get(h);if(_){const w=i.indexOf(_);i.splice(w+1,0,t),u=!0;break}h=this.driver.getParentElement(h)}u||i.unshift(t)}else i.push(t);return r.set(e,t),t}register(t,e){let i=this._namespaceLookup[t];return i||(i=this.createNamespace(t,e)),i}registerTrigger(t,e,i){let r=this._namespaceLookup[t];r&&r.register(e,i)&&this.totalAnimations++}destroy(t,e){if(!t)return;const i=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(i.hostElement),delete this._namespaceLookup[t];const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1)}),this.afterFlushAnimationsDone(()=>i.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,i=this.statesByElement.get(t);if(i)for(let r of i.values())if(r.namespaceId){const a=this._fetchNamespace(r.namespaceId);a&&e.add(a)}return e}trigger(t,e,i,r){if(kA(e)){const a=this._fetchNamespace(t);if(a)return a.trigger(e,i,r),!0}return!1}insertNode(t,e,i,r){if(!kA(e))return;const a=e[Ba];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(e);u>=0&&this.collectedLeaveElements.splice(u,1)}if(t){const u=this._fetchNamespace(t);u&&u.insertNode(e,i)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ua(t,lR)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),g_(t,lR))}removeNode(t,e,i,r){if(kA(e)){const a=t?this._fetchNamespace(t):null;if(a?a.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),i){const u=this.namespacesByHostElement.get(e);u&&u.id!==t&&u.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,i,r,a){this.collectedLeaveElements.push(e),e[Ba]={namespaceId:t,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:a}}listen(t,e,i,r,a){return kA(e)?this._fetchNamespace(t).listen(e,i,r,a):()=>{}}_buildInstruction(t,e,i,r,a){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,i,r,t.fromState.options,t.toState.options,e,a)}destroyInnerAnimations(t){let e=this.driver.query(t,bA,!0);e.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,Qk,!0),e.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return _h(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[Ba];if(e&&e.setForRemoval){if(t[Ba]=lU,e.namespaceId){this.destroyInnerAnimations(t);const i=this._fetchNamespace(e.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(lR)&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)Ua(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{e=this._flushAnimations(i,t)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],e.length?_h(e).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(t){throw function Gq(n){return new s.vHH(3402,!1)}()}_flushAnimations(t,e){const i=new MA,r=[],a=new Map,u=[],h=new Map,_=new Map,w=new Map,M=new Set;this.disabledNodes.forEach(Xt=>{M.add(Xt);const un=this.driver.query(Xt,".ng-animate-queued",!0);for(let _n=0;_n<un.length;_n++)M.add(un[_n])});const j=this.bodyNode,Ce=Array.from(this.statesByElement.keys()),Me=dU(Ce,this.collectedEnterElements),Le=new Map;let $e=0;Me.forEach((Xt,un)=>{const _n=Zk+$e++;Le.set(un,_n),Xt.forEach(zn=>Ua(zn,_n))});const st=[],It=new Set,Bt=new Set;for(let Xt=0;Xt<this.collectedLeaveElements.length;Xt++){const un=this.collectedLeaveElements[Xt],_n=un[Ba];_n&&_n.setForRemoval&&(st.push(un),It.add(un),_n.hasAnimation?this.driver.query(un,".ng-star-inserted",!0).forEach(zn=>It.add(zn)):Bt.add(un))}const Qt=new Map,Gt=dU(Ce,Array.from(It));Gt.forEach((Xt,un)=>{const _n=yA+$e++;Qt.set(un,_n),Xt.forEach(zn=>Ua(zn,_n))}),t.push(()=>{Me.forEach((Xt,un)=>{const _n=Le.get(un);Xt.forEach(zn=>g_(zn,_n))}),Gt.forEach((Xt,un)=>{const _n=Qt.get(un);Xt.forEach(zn=>g_(zn,_n))}),st.forEach(Xt=>{this.processLeaveNode(Xt)})});const hn=[],gn=[];for(let Xt=this._namespaceList.length-1;Xt>=0;Xt--)this._namespaceList[Xt].drainQueuedTransitions(e).forEach(_n=>{const zn=_n.player,Vr=_n.element;if(hn.push(zn),this.collectedEnterElements.length){const ys=Vr[Ba];if(ys&&ys.setForMove){if(ys.previousTriggersValues&&ys.previousTriggersValues.has(_n.triggerName)){const kp=ys.previousTriggersValues.get(_n.triggerName),ja=this.statesByElement.get(_n.element);if(ja&&ja.has(_n.triggerName)){const VA=ja.get(_n.triggerName);VA.value=kp,ja.set(_n.triggerName,VA)}}return void zn.destroy()}}const Vc=!j||!this.driver.containsElement(j,Vr),Xo=Qt.get(Vr),bh=Le.get(Vr),Vi=this._buildInstruction(_n,i,bh,Xo,Vc);if(Vi.errors&&Vi.errors.length)return void gn.push(Vi);if(Vc)return zn.onStart(()=>Mp(Vr,Vi.fromStyles)),zn.onDestroy(()=>Nc(Vr,Vi.toStyles)),void r.push(zn);if(_n.isFallbackTransition)return zn.onStart(()=>Mp(Vr,Vi.fromStyles)),zn.onDestroy(()=>Nc(Vr,Vi.toStyles)),void r.push(zn);const xU=[];Vi.timelines.forEach(ys=>{ys.stretchStartingKeyframe=!0,this.disabledNodes.has(ys.element)||xU.push(ys)}),Vi.timelines=xU,i.append(Vr,Vi.timelines),u.push({instruction:Vi,player:zn,element:Vr}),Vi.queriedElements.forEach(ys=>Zo(h,ys,[]).push(zn)),Vi.preStyleProps.forEach((ys,kp)=>{if(ys.size){let ja=_.get(kp);ja||_.set(kp,ja=new Set),ys.forEach((VA,pR)=>ja.add(pR))}}),Vi.postStyleProps.forEach((ys,kp)=>{let ja=w.get(kp);ja||w.set(kp,ja=new Set),ys.forEach((VA,pR)=>ja.add(pR))})});if(gn.length){const Xt=[];gn.forEach(un=>{Xt.push(function zq(n,t){return new s.vHH(3505,!1)}())}),hn.forEach(un=>un.destroy()),this.reportError(Xt)}const Nn=new Map,zs=new Map;u.forEach(Xt=>{const un=Xt.element;i.has(un)&&(zs.set(un,un),this._beforeAnimationBuild(Xt.player.namespaceId,Xt.instruction,Nn))}),r.forEach(Xt=>{const un=Xt.element;this._getPreviousPlayers(un,!1,Xt.namespaceId,Xt.triggerName,null).forEach(zn=>{Zo(Nn,un,[]).push(zn),zn.destroy()})});const Qu=st.filter(Xt=>fU(Xt,_,w)),Xu=new Map;uU(Xu,this.driver,Bt,w,Pa).forEach(Xt=>{fU(Xt,_,w)&&Qu.push(Xt)});const u0=new Map;Me.forEach((Xt,un)=>{uU(u0,this.driver,new Set(Xt),_,"!")}),Qu.forEach(Xt=>{const un=Xu.get(Xt),_n=u0.get(Xt);Xu.set(Xt,new Map([...Array.from(un?.entries()??[]),...Array.from(_n?.entries()??[])]))});const Pp=[],SU=[],TU={};u.forEach(Xt=>{const{element:un,player:_n,instruction:zn}=Xt;if(i.has(un)){if(M.has(un))return _n.onDestroy(()=>Nc(un,zn.toStyles)),_n.disabled=!0,_n.overrideTotalTime(zn.totalTime),void r.push(_n);let Vr=TU;if(zs.size>1){let Xo=un;const bh=[];for(;Xo=Xo.parentNode;){const Vi=zs.get(Xo);if(Vi){Vr=Vi;break}bh.push(Xo)}bh.forEach(Vi=>zs.set(Vi,Vr))}const Vc=this._buildAnimation(_n.namespaceId,zn,Nn,a,u0,Xu);if(_n.setRealPlayer(Vc),Vr===TU)Pp.push(_n);else{const Xo=this.playersByElement.get(Vr);Xo&&Xo.length&&(_n.parentPlayer=_h(Xo)),r.push(_n)}}else Mp(un,zn.fromStyles),_n.onDestroy(()=>Nc(un,zn.toStyles)),SU.push(_n),M.has(un)&&r.push(_n)}),SU.forEach(Xt=>{const un=a.get(Xt.element);if(un&&un.length){const _n=_h(un);Xt.setRealPlayer(_n)}}),r.forEach(Xt=>{Xt.parentPlayer?Xt.syncPlayerEvents(Xt.parentPlayer):Xt.destroy()});for(let Xt=0;Xt<st.length;Xt++){const un=st[Xt],_n=un[Ba];if(g_(un,yA),_n&&_n.hasAnimation)continue;let zn=[];if(h.size){let Vc=h.get(un);Vc&&Vc.length&&zn.push(...Vc);let Xo=this.driver.query(un,Qk,!0);for(let bh=0;bh<Xo.length;bh++){let Vi=h.get(Xo[bh]);Vi&&Vi.length&&zn.push(...Vi)}}const Vr=zn.filter(Vc=>!Vc.destroyed);Vr.length?qY(this,un,Vr):this.processLeaveNode(un)}return st.length=0,Pp.forEach(Xt=>{this.players.push(Xt),Xt.onDone(()=>{Xt.destroy();const un=this.players.indexOf(Xt);this.players.splice(un,1)}),Xt.play()}),Pp}elementContainsData(t,e){let i=!1;const r=e[Ba];return r&&r.setForRemoval&&(i=!0),this.playersByElement.has(e)&&(i=!0),this.playersByQueriedElement.has(e)&&(i=!0),this.statesByElement.has(e)&&(i=!0),this._fetchNamespace(t).elementContainsData(e)||i}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,i,r,a){let u=[];if(e){const h=this.playersByQueriedElement.get(t);h&&(u=h)}else{const h=this.playersByElement.get(t);if(h){const _=!a||a==c0;h.forEach(w=>{w.queued||!_&&w.triggerName!=r||u.push(w)})}}return(i||r)&&(u=u.filter(h=>!(i&&i!=h.namespaceId||r&&r!=h.triggerName))),u}_beforeAnimationBuild(t,e,i){const a=e.element,u=e.isRemovalTransition?void 0:t,h=e.isRemovalTransition?void 0:e.triggerName;for(const _ of e.timelines){const w=_.element,M=w!==a,j=Zo(i,w,[]);this._getPreviousPlayers(w,M,u,h,e.toState).forEach(Me=>{const Le=Me.getRealPlayer();Le.beforeDestroy&&Le.beforeDestroy(),Me.destroy(),j.push(Me)})}Mp(a,e.fromStyles)}_buildAnimation(t,e,i,r,a,u){const h=e.triggerName,_=e.element,w=[],M=new Set,j=new Set,Ce=e.timelines.map(Le=>{const $e=Le.element;M.add($e);const st=$e[Ba];if(st&&st.removedBeforeQueried)return new Qr(Le.duration,Le.delay);const It=$e!==_,Bt=function YY(n){const t=[];return hU(n,t),t}((i.get($e)||UY).map(Nn=>Nn.getRealPlayer())).filter(Nn=>!!Nn.element&&Nn.element===$e),Qt=a.get($e),Gt=u.get($e),hn=V2(0,this._normalizer,0,Le.keyframes,Qt,Gt),gn=this._buildPlayer(Le,hn,Bt);if(Le.subTimeline&&r&&j.add($e),It){const Nn=new dR(t,h,$e);Nn.setRealPlayer(gn),w.push(Nn)}return gn});w.forEach(Le=>{Zo(this.playersByQueriedElement,Le.element,[]).push(Le),Le.onDone(()=>function zY(n,t,e){let i=n.get(t);if(i){if(i.length){const r=i.indexOf(e);i.splice(r,1)}0==i.length&&n.delete(t)}return i}(this.playersByQueriedElement,Le.element,Le))}),M.forEach(Le=>Ua(Le,q2));const Me=_h(Ce);return Me.onDestroy(()=>{M.forEach(Le=>g_(Le,q2)),Nc(_,e.toStyles)}),j.forEach(Le=>{Zo(r,Le,[]).push(Me)}),Me}_buildPlayer(t,e,i){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,i):new Qr(t.duration,t.delay)}}class dR{constructor(t,e,i){this.namespaceId=t,this.triggerName=e,this.element=i,this._player=new Qr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,i)=>{e.forEach(r=>zk(t,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Zo(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function kA(n){return n&&1===n.nodeType}function cU(n,t){const e=n.style.display;return n.style.display=t??"none",e}function uU(n,t,e,i,r){const a=[];e.forEach(_=>a.push(cU(_)));const u=[];i.forEach((_,w)=>{const M=new Map;_.forEach(j=>{const Ce=t.computeStyle(w,j,r);M.set(j,Ce),(!Ce||0==Ce.length)&&(w[Ba]=jY,u.push(w))}),n.set(w,M)});let h=0;return e.forEach(_=>cU(_,a[h++])),u}function dU(n,t){const e=new Map;if(n.forEach(h=>e.set(h,[])),0==t.length)return e;const r=new Set(t),a=new Map;function u(h){if(!h)return 1;let _=a.get(h);if(_)return _;const w=h.parentNode;return _=e.has(w)?w:r.has(w)?1:u(w),a.set(h,_),_}return t.forEach(h=>{const _=u(h);1!==_&&e.get(_).push(h)}),e}function Ua(n,t){n.classList?.add(t)}function g_(n,t){n.classList?.remove(t)}function qY(n,t,e){_h(e).onDone(()=>n.processLeaveNode(t))}function hU(n,t){for(let e=0;e<n.length;e++){const i=n[e];i instanceof ao?hU(i.players,t):t.push(i)}}function fU(n,t,e){const i=e.get(n);if(!i)return!1;let r=t.get(n);return r?i.forEach(a=>r.add(a)):t.set(n,i),e.delete(n),!0}class RA{constructor(t,e,i){this.bodyNode=t,this._driver=e,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,a)=>{},this._transitionEngine=new GY(t,e,i),this._timelineEngine=new FY(t,e,i),this._transitionEngine.onRemovalComplete=(r,a)=>this.onRemovalComplete(r,a)}registerTrigger(t,e,i,r,a){const u=t+"-"+r;let h=this._triggerCache[u];if(!h){const _=[],M=tR(this._driver,a,_,[]);if(_.length)throw function Rq(n,t){return new s.vHH(3404,!1)}();h=function PY(n,t,e){return new kY(n,t,e)}(r,M,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(e,r,h)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,i,r){this._transitionEngine.insertNode(t,e,i,r)}onRemove(t,e,i,r){this._transitionEngine.removeNode(t,e,r||!1,i)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,i,r){if("@"==i.charAt(0)){const[a,u]=B2(i);this._timelineEngine.command(a,e,u,r)}else this._transitionEngine.trigger(t,e,i,r)}listen(t,e,i,r,a){if("@"==i.charAt(0)){const[u,h]=B2(i);return this._timelineEngine.listen(u,e,h,a)}return this._transitionEngine.listen(t,e,i,r,a)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let QY=(()=>{class n{constructor(e,i,r){this._element=e,this._startStyles=i,this._endStyles=r,this._state=0;let a=n.initialStylesByElement.get(e);a||n.initialStylesByElement.set(e,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&Nc(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Nc(this._element,this._initialStyles),this._endStyles&&(Nc(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Mp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Mp(this._element,this._endStyles),this._endStyles=null),Nc(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function hR(n){let t=null;return n.forEach((e,i)=>{(function XY(n){return"display"===n||"position"===n})(i)&&(t=t||new Map,t.set(i,e))}),t}class pU{constructor(t,e,i,r){this.element=t,this.keyframes=e,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){const e=[];return t.forEach(i=>{e.push(Object.fromEntries(i))}),e}_triggerWebAnimation(t,e,i){return t.animate(this._convertKeyframesToObject(e),i)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&t.set(r,this._finished?i:J2(this.element,r))}),this.currentSnapshot=t}triggerCallback(t){const e="start"===t?this._onStartFns:this._onDoneFns;e.forEach(i=>i()),e.length=0}}class JY{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}matchesElement(t,e){return!1}containsElement(t,e){return G2(t,e)}getParentElement(t){return Yk(t)}query(t,e,i){return z2(t,e,i)}computeStyle(t,e,i){return window.getComputedStyle(t)[e]}animate(t,e,i,r,a,u=[]){const _={duration:i,delay:r,fill:0==r?"both":"forwards"};a&&(_.easing=a);const w=new Map,M=u.filter(Me=>Me instanceof pU);(function iY(n,t){return 0===n||0===t})(i,r)&&M.forEach(Me=>{Me.currentSnapshot.forEach((Le,$e)=>w.set($e,Le))});let j=function Jq(n){return n.length?n[0]instanceof Map?n:n.map(t=>Y2(t)):[]}(e).map(Me=>vh(Me));j=function rY(n,t,e){if(e.size&&t.length){let i=t[0],r=[];if(e.forEach((a,u)=>{i.has(u)||r.push(u),i.set(u,a)}),r.length)for(let a=1;a<t.length;a++){let u=t[a];r.forEach(h=>u.set(h,J2(n,h)))}}return t}(t,j,w);const Ce=function ZY(n,t){let e=null,i=null;return Array.isArray(t)&&t.length?(e=hR(t[0]),t.length>1&&(i=hR(t[t.length-1]))):t instanceof Map&&(e=hR(t)),e||i?new QY(n,e,i):null}(t,j);return new pU(t,j,_,Ce)}}let e5=(()=>{class n extends Vy{constructor(e,i){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(i.body,{id:"0",encapsulation:s.ifc.None,styles:[],data:{animation:[]}})}build(e){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(e)?Lw(e):e;return mU(this._renderer,null,i,"register",[r]),new t5(i,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(B))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class t5 extends class gT{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new n5(this._id,t,e||{},this._renderer)}}class n5{constructor(t,e,i,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return mU(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function mU(n,t,e,i,r){return n.setProperty(t,`@@${e}:${i}`,r)}const gU="@.disabled";let r5=(()=>{class n{constructor(e,i,r){this.delegate=e,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),i.onRemovalComplete=(a,u)=>{const h=u?.parentNode(a);h&&u.removeChild(h,a)}}createRenderer(e,i){const a=this.delegate.createRenderer(e,i);if(!(e&&i&&i.data&&i.data.animation)){let M=this._rendererCache.get(a);return M||(M=new _U("",a,this.engine),this._rendererCache.set(a,M)),M}const u=i.id,h=i.id+"-"+this._currentId;this._currentId++,this.engine.register(h,e);const _=M=>{Array.isArray(M)?M.forEach(_):this.engine.registerTrigger(u,h,e,M.name,M)};return i.data.animation.forEach(_),new s5(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,i,r){e>=0&&e<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,h]=a;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(s.FYo),s.LFG(RA),s.LFG(s.R0b))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();class _U{constructor(t,e,i){this.namespaceId=t,this.delegate=e,this.engine=i,this.destroyNode=this.delegate.destroyNode?r=>e.destroyNode(r):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,i,r=!0){this.delegate.insertBefore(t,e,i),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,i){this.engine.onRemove(this.namespaceId,e,this.delegate,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){"@"==e.charAt(0)&&e==gU?this.disableAnimations(t,!!i):this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.delegate.listen(t,e,i)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class s5 extends _U{constructor(t,e,i,r){super(e,i,r),this.factory=t,this.namespaceId=e}setProperty(t,e,i){"@"==e.charAt(0)?"."==e.charAt(1)&&e==gU?this.disableAnimations(t,i=void 0===i||!!i):this.engine.process(this.namespaceId,t,e.slice(1),i):this.delegate.setProperty(t,e,i)}listen(t,e,i){if("@"==e.charAt(0)){const r=function o5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(t);let a=e.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function a5(n){const t=n.indexOf(".");return[n.substring(0,t),n.slice(t+1)]}(a)),this.engine.listen(this.namespaceId,r,a,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,i,h)})}return this.delegate.listen(t,e,i)}}let l5=(()=>{class n extends RA{constructor(e,i,r,a){super(e.body,i,r)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(s.LFG(B),s.LFG(Kk),s.LFG(oR),s.LFG(s.z2F))},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac}),n})();const yU=[{provide:Vy,useClass:e5},{provide:oR,useFactory:function c5(){return new TY}},{provide:RA,useClass:l5},{provide:s.FYo,useFactory:function u5(n,t,e){return new r5(n,t,e)},deps:[Xa,RA,s.R0b]}],fR=[{provide:Kk,useFactory:()=>new JY},{provide:s.QbO,useValue:"BrowserAnimations"},...yU],vU=[{provide:Kk,useClass:$2},{provide:s.QbO,useValue:"NoopAnimations"},...yU];let d5=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?vU:fR}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:fR,imports:[As]}),n})(),p5=(()=>{class n{constructor(){this.changes=new _t.x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.closeCalendarLabel="Close calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 24 years",this.nextMultiYearLabel="Next 24 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year",this.startDateLabel="Start date",this.endDateLabel="End date"}formatYearRange(e,i){return`${e} \u2013 ${i}`}formatYearRangeLabel(e,i){return`${e} to ${i}`}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=s.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const E5={provide:new s.OlP("mat-datepicker-scroll-strategy"),deps:[lo],useFactory:function D5(n){return()=>n.scrollStrategies.reposition()}};let M5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[p5,E5],imports:[Xi,Df,xc,oo,Vu,Bn,Gf]}),n})(),DU=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({imports:[Df,kw,M5,Pg,mM,FH,Hy,Kv,hx,Oj,Yj,O2,S3,UH,oH]}),n})(),I5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n}),n.\u0275inj=s.cJS({providers:[jk,L2],imports:[Xi,DU,fM,yg,Bf,uM]}),n})();const EU_firebase={apiKey:"AIzaSyBsy03qoAlCIgVWTIAgFpETXrCcIdNwK-4",authDomain:"file-attachment-57ac0.firebaseapp.com",projectId:"file-attachment-57ac0",storageBucket:"file-attachment-57ac0.appspot.com",messagingSenderId:"4632517516",appId:"1:4632517516:web:ec900dad10a07a55a614a9"};let P5=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=s.oAB({type:n,bootstrap:[dq]}),n.\u0275inj=s.cJS({imports:[As,x3,d5,DU,fM,kl.hO.initializeApp(EU_firebase),Q4,I5]}),n})();(0,s.G48)(),Xc().bootstrapModule(P5).catch(n=>console.error(n))},5867:(Ie,x,R)=>{"use strict";R.d(x,{C6:()=>s.getApps,Mq:()=>s.getApp});var s=R(9681);(0,s.registerVersion)("firebase","9.9.2","app")},127:(Ie,x,R)=>{"use strict";R.d(x,{Z:()=>s.Z});var s=R(3942);s.Z.registerVersion("firebase","9.9.2","app-compat")},1451:(Ie,x,R)=>{"use strict";R.r(x);var s=R(5861),te=R(3942),O=R(2090),pe=R(9681),ie=R(655),re=R(1877),B=R(4859);const q=function $(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},fe=function ae(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},z=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),E=new re.Yd("@firebase/auth");function A(y,...p){E.logLevel<=re.in.ERROR&&E.error(`Auth (${pe.SDK_VERSION}): ${y}`,...p)}function F(y,...p){throw G(y,...p)}function X(y,...p){return G(y,...p)}function N(y,p,g){const C=Object.assign(Object.assign({},fe()),{[p]:g});return new O.LL("auth","Firebase",C).create(p,{appName:y.name})}function J(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&F(y,"argument-error"),N(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function G(y,...p){if("string"!=typeof y){const g=p[0],C=[...p.slice(1)];return C[0]&&(C[0].appName=y.name),y._errorFactory.create(g,...C)}return z.create(y,...p)}function S(y,p,...g){if(!y)throw G(p,...g)}function oe(y){const p="INTERNAL ASSERTION FAILED: "+y;throw A(p),new Error(p)}function W(y,p){y||oe(p)}const le=new Map;function me(y){W(y instanceof Function,"Expected a class definition");let p=le.get(y);return p?(W(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,le.set(y,p),p)}function Ve(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function Xe(){return"http:"===it()||"https:"===it()}function it(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class b{constructor(p,g){this.shortDelay=p,this.longDelay=g,W(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function ve(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Xe()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function P(y,p){W(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class L{static initialize(p,g,C){this.fetchImpl=p,g&&(this.headersImpl=g),C&&(this.responseImpl=C)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void oe("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void oe("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void oe("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Q={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ne=new b(3e4,6e4);function U(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function be(y,p,g,C){return je.apply(this,arguments)}function je(){return(je=(0,s.Z)(function*(y,p,g,C,Z={}){return Pe(y,Z,(0,s.Z)(function*(){let _e={},Ge={};C&&("GET"===p?Ge=C:_e={body:JSON.stringify(C)});const tt=(0,O.xO)(Object.assign({key:y.config.apiKey},Ge)).slice(1),Mt=yield y._getAdditionalHeaders();return Mt["Content-Type"]="application/json",y.languageCode&&(Mt["X-Firebase-Locale"]=y.languageCode),L.fetch()(Qe(y,y.config.apiHost,g,tt),Object.assign({method:p,headers:Mt,referrerPolicy:"no-referrer"},_e))}))})).apply(this,arguments)}function Pe(y,p,g){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,s.Z)(function*(y,p,g){y._canInitEmulator=!1;const C=Object.assign(Object.assign({},Q),p);try{const Z=new gt(y),_e=yield Promise.race([g(),Z.promise]);Z.clearNetworkTimeout();const Ge=yield _e.json();if("needConfirmation"in Ge)throw Tt(y,"account-exists-with-different-credential",Ge);if(_e.ok&&!("errorMessage"in Ge))return Ge;{const tt=_e.ok?Ge.errorMessage:Ge.error.message,[Mt,Ut]=tt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Mt)throw Tt(y,"credential-already-in-use",Ge);if("EMAIL_EXISTS"===Mt)throw Tt(y,"email-already-in-use",Ge);if("USER_DISABLED"===Mt)throw Tt(y,"user-disabled",Ge);const an=C[Mt]||Mt.toLowerCase().replace(/[_\s]+/g,"-");if(Ut)throw N(y,an,Ut);F(y,an)}}catch(Z){if(Z instanceof O.ZR)throw Z;F(y,"network-request-failed")}})).apply(this,arguments)}function Be(y,p,g,C){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,s.Z)(function*(y,p,g,C,Z={}){const _e=yield be(y,p,g,C,Z);return"mfaPendingCredential"in _e&&F(y,"multi-factor-auth-required",{_serverResponse:_e}),_e})).apply(this,arguments)}function Qe(y,p,g,C){const Z=`${p}${g}?${C}`;return y.config.emulator?P(y.config,Z):`${y.config.apiScheme}://${Z}`}class gt{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,C)=>{this.timer=setTimeout(()=>C(X(this.auth,"network-request-failed")),ne.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Tt(y,p,g){const C={appName:y.name};g.email&&(C.email=g.email),g.phoneNumber&&(C.phoneNumber=g.phoneNumber);const Z=X(y,p,C);return Z.customData._tokenResponse=g,Z}function yt(){return(yt=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ct(y,p){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ot(y,p){return At.apply(this,arguments)}function At(){return(At=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function nt(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Ze(){return(Ze=(0,s.Z)(function*(y,p=!1){const g=(0,O.m9)(y),C=yield g.getIdToken(p),Z=xe(C);S(Z&&Z.exp&&Z.auth_time&&Z.iat,g.auth,"internal-error");const _e="object"==typeof Z.firebase?Z.firebase:void 0,Ge=_e?.sign_in_provider;return{claims:Z,token:C,authTime:nt(ge(Z.auth_time)),issuedAtTime:nt(ge(Z.iat)),expirationTime:nt(ge(Z.exp)),signInProvider:Ge||null,signInSecondFactor:_e?.sign_in_second_factor||null}})).apply(this,arguments)}function ge(y){return 1e3*Number(y)}function xe(y){var p;const[g,C,Z]=y.split(".");if(void 0===g||void 0===C||void 0===Z)return A("JWT malformed, contained fewer than 3 sections"),null;try{const _e=(0,O.tV)(C);return _e?JSON.parse(_e):(A("Failed to decode base64 JWT payload"),null)}catch(_e){return A("Caught error parsing JWT payload as JSON",null===(p=_e)||void 0===p?void 0:p.toString()),null}}function wt(y,p){return Ne.apply(this,arguments)}function Ne(){return(Ne=(0,s.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(C){throw C instanceof O.ZR&&we(C)&&y.auth.currentUser===y&&(yield y.auth.signOut()),C}})).apply(this,arguments)}function we({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Fe{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const C=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),C}{this.errorBackoff=3e4;const Z=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,Z)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const C=this.getInterval(p);this.timerId=setTimeout((0,s.Z)(function*(){yield g.iteration()}),C)}iteration(){var p=this;return(0,s.Z)(function*(){var g;try{yield p.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===(null===(g=C)||void 0===g?void 0:g.code)&&p.schedule(!0))}p.schedule()})()}}class rt{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=nt(this.lastLoginAt),this.creationTime=nt(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function vt(y){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,s.Z)(function*(y){var p;const g=y.auth,C=yield y.getIdToken(),Z=yield wt(y,Ot(g,{idToken:C}));S(Z?.users.length,g,"internal-error");const _e=Z.users[0];y._notifyReloadListener(_e);const Ge=null!==(p=_e.providerUserInfo)&&void 0!==p&&p.length?De(_e.providerUserInfo):[],tt=Te(y.providerData,Ge),an=!!y.isAnonymous&&!(y.email&&_e.passwordHash||tt?.length),en={uid:_e.localId,displayName:_e.displayName||null,photoURL:_e.photoUrl||null,email:_e.email||null,emailVerified:_e.emailVerified||!1,phoneNumber:_e.phoneNumber||null,tenantId:_e.tenantId||null,providerData:tt,metadata:new rt(_e.createdAt,_e.lastLoginAt),isAnonymous:an};Object.assign(y,en)})).apply(this,arguments)}function Ee(){return(Ee=(0,s.Z)(function*(y){const p=(0,O.m9)(y);yield vt(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Te(y,p){return[...y.filter(C=>!p.some(Z=>Z.providerId===C.providerId)),...p]}function De(y){return y.map(p=>{var{providerId:g}=p,C=(0,ie._T)(p,["providerId"]);return{providerId:g,uid:C.rawId||"",displayName:C.displayName||null,email:C.email||null,phoneNumber:C.phoneNumber||null,photoURL:C.photoUrl||null}})}function ke(){return(ke=(0,s.Z)(function*(y,p){const g=yield Pe(y,{},(0,s.Z)(function*(){const C=(0,O.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:Z,apiKey:_e}=y.config,Ge=Qe(y,Z,"/v1/token",`key=${_e}`),tt=yield y._getAdditionalHeaders();return tt["Content-Type"]="application/x-www-form-urlencoded",L.fetch()(Ge,{method:"POST",headers:tt,body:C})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class We{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){S(p.idToken,"internal-error"),S(typeof p.idToken<"u","internal-error"),S(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function ft(y){const p=xe(y);return S(p,"internal-error"),S(typeof p.exp<"u","internal-error"),S(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var C=this;return(0,s.Z)(function*(){return S(!C.accessToken||C.refreshToken,p,"user-token-expired"),g||!C.accessToken||C.isExpired?C.refreshToken?(yield C.refresh(p,C.refreshToken),C.accessToken):null:C.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var C=this;return(0,s.Z)(function*(){const{accessToken:Z,refreshToken:_e,expiresIn:Ge}=yield function Ae(y,p){return ke.apply(this,arguments)}(p,g);C.updateTokensAndExpiration(Z,_e,Number(Ge))})()}updateTokensAndExpiration(p,g,C){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*C}static fromJSON(p,g){const{refreshToken:C,accessToken:Z,expirationTime:_e}=g,Ge=new We;return C&&(S("string"==typeof C,"internal-error",{appName:p}),Ge.refreshToken=C),Z&&(S("string"==typeof Z,"internal-error",{appName:p}),Ge.accessToken=Z),_e&&(S("number"==typeof _e,"internal-error",{appName:p}),Ge.expirationTime=_e),Ge}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new We,this.toJSON())}_performRefresh(){return oe("not implemented")}}function at(y,p){S("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Dt{constructor(p){var{uid:g,auth:C,stsTokenManager:Z}=p,_e=(0,ie._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=C,this.stsTokenManager=Z,this.accessToken=Z.accessToken,this.displayName=_e.displayName||null,this.email=_e.email||null,this.emailVerified=_e.emailVerified||!1,this.phoneNumber=_e.phoneNumber||null,this.photoURL=_e.photoURL||null,this.isAnonymous=_e.isAnonymous||!1,this.tenantId=_e.tenantId||null,this.providerData=_e.providerData?[..._e.providerData]:[],this.metadata=new rt(_e.createdAt||void 0,_e.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,s.Z)(function*(){const C=yield wt(g,g.stsTokenManager.getToken(g.auth,p));return S(C,g.auth,"internal-error"),g.accessToken!==C&&(g.accessToken=C,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),C})()}getIdTokenResult(p){return function Pt(y){return Ze.apply(this,arguments)}(this,p)}reload(){return function Ke(y){return Ee.apply(this,arguments)}(this)}_assign(p){this!==p&&(S(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new Dt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){S(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var C=this;return(0,s.Z)(function*(){let Z=!1;p.idToken&&p.idToken!==C.stsTokenManager.accessToken&&(C.stsTokenManager.updateFromServerResponse(p),Z=!0),g&&(yield vt(C)),yield C.auth._persistUserIfCurrent(C),Z&&C.auth._notifyListenersIfCurrent(C)})()}delete(){var p=this;return(0,s.Z)(function*(){const g=yield p.getIdToken();return yield wt(p,function lt(y,p){return yt.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var C,Z,_e,Ge,tt,Mt,Ut,an;const en=null!==(C=g.displayName)&&void 0!==C?C:void 0,Ti=null!==(Z=g.email)&&void 0!==Z?Z:void 0,Ar=null!==(_e=g.phoneNumber)&&void 0!==_e?_e:void 0,wl=null!==(Ge=g.photoURL)&&void 0!==Ge?Ge:void 0,Td=null!==(tt=g.tenantId)&&void 0!==tt?tt:void 0,Sa=null!==(Mt=g._redirectEventId)&&void 0!==Mt?Mt:void 0,yu=null!==(Ut=g.createdAt)&&void 0!==Ut?Ut:void 0,am=null!==(an=g.lastLoginAt)&&void 0!==an?an:void 0,{uid:ef,emailVerified:xd,isAnonymous:z_,providerData:lm,stsTokenManager:Cl}=g;S(ef&&Cl,p,"internal-error");const m0=We.fromJSON(this.name,Cl);S("string"==typeof ef,p,"internal-error"),at(en,p.name),at(Ti,p.name),S("boolean"==typeof xd,p,"internal-error"),S("boolean"==typeof z_,p,"internal-error"),at(Ar,p.name),at(wl,p.name),at(Td,p.name),at(Sa,p.name),at(yu,p.name),at(am,p.name);const cm=new Dt({uid:ef,auth:p,email:Ti,emailVerified:xd,displayName:en,isAnonymous:z_,photoURL:wl,phoneNumber:Ar,tenantId:Td,stsTokenManager:m0,createdAt:yu,lastLoginAt:am});return lm&&Array.isArray(lm)&&(cm.providerData=lm.map(g0=>Object.assign({},g0))),Sa&&(cm._redirectEventId=Sa),cm}static _fromIdTokenResponse(p,g,C=!1){return(0,s.Z)(function*(){const Z=new We;Z.updateFromServerResponse(g);const _e=new Dt({uid:g.localId,auth:p,stsTokenManager:Z,isAnonymous:C});return yield vt(_e),_e})()}}const nn=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,s.Z)(function*(){return!0})()}_set(g,C){var Z=this;return(0,s.Z)(function*(){Z.storage[g]=C})()}_get(g){var C=this;return(0,s.Z)(function*(){const Z=C.storage[g];return void 0===Z?null:Z})()}_remove(g){var C=this;return(0,s.Z)(function*(){delete C.storage[g]})()}_addListener(g,C){}_removeListener(g,C){}}return y.type="NONE",y})();function On(y,p,g){return`firebase:${y}:${p}:${g}`}class tn{constructor(p,g,C){this.persistence=p,this.auth=g,this.userKey=C;const{config:Z,name:_e}=this.auth;this.fullUserKey=On(this.userKey,Z.apiKey,_e),this.fullPersistenceKey=On("persistence",Z.apiKey,_e),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,s.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Dt._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,s.Z)(function*(){if(g.persistence===p)return;const C=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,C?g.setCurrentUser(C):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,C="authUser"){return(0,s.Z)(function*(){if(!g.length)return new tn(me(nn),p,C);const Z=(yield Promise.all(g.map(function(){var Ut=(0,s.Z)(function*(an){if(yield an._isAvailable())return an});return function(an){return Ut.apply(this,arguments)}}()))).filter(Ut=>Ut);let _e=Z[0]||me(nn);const Ge=On(C,p.config.apiKey,p.name);let tt=null;for(const Ut of g)try{const an=yield Ut._get(Ge);if(an){const en=Dt._fromJSON(p,an);Ut!==_e&&(tt=en),_e=Ut;break}}catch{}const Mt=Z.filter(Ut=>Ut._shouldAllowMigration);return _e._shouldAllowMigration&&Mt.length?(_e=Mt[0],tt&&(yield _e._set(Ge,tt.toJSON())),yield Promise.all(g.map(function(){var Ut=(0,s.Z)(function*(an){if(an!==_e)try{yield an._remove(Ge)}catch{}});return function(an){return Ut.apply(this,arguments)}}())),new tn(_e,p,C)):new tn(_e,p,C)})()}}function rn(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(ni(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(wn(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(on(p))return"Blackberry";if(Pn(p))return"Webos";if(Sn(p))return"Safari";if((p.includes("chrome/")||Rn(p))&&!p.includes("edge/"))return"Chrome";if(xt(p))return"Android";{const C=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===C?.length)return C[1]}return"Other"}function wn(y=(0,O.z$)()){return/firefox\//i.test(y)}function Sn(y=(0,O.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Rn(y=(0,O.z$)()){return/crios\//i.test(y)}function ni(y=(0,O.z$)()){return/iemobile/i.test(y)}function xt(y=(0,O.z$)()){return/android/i.test(y)}function on(y=(0,O.z$)()){return/blackberry/i.test(y)}function Pn(y=(0,O.z$)()){return/webos/i.test(y)}function Ei(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function ri(y=(0,O.z$)()){return Ei(y)||xt(y)||Pn(y)||on(y)||/windows phone/i.test(y)||ni(y)}function vs(y,p=[]){let g;switch(y){case"Browser":g=rn((0,O.z$)());break;case"Worker":g=`${rn((0,O.z$)())}-${y}`;break;default:g=y}const C=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${pe.SDK_VERSION}/${C}`}class bn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const C=_e=>new Promise((Ge,tt)=>{try{Ge(p(_e))}catch(Mt){tt(Mt)}});C.onAbort=g,this.queue.push(C);const Z=this.queue.length-1;return()=>{this.queue[Z]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,s.Z)(function*(){var C;if(g.auth.currentUser===p)return;const Z=[];try{for(const _e of g.queue)yield _e(p),_e.onAbort&&Z.push(_e.onAbort)}catch(_e){Z.reverse();for(const Ge of Z)try{Ge()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:null===(C=_e)||void 0===C?void 0:C.message})}})()}}class Fl{constructor(p,g,C){this.app=p,this.heartbeatServiceProvider=g,this.config=C,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ll(this),this.idTokenSubscription=new Ll(this),this.beforeStateQueue=new bn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=z,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=C.sdkClientVersion}_initializeWithPersistence(p,g){var C=this;return g&&(this._popupRedirectResolver=me(g)),this._initializationPromise=this.queue((0,s.Z)(function*(){var Z,_e;if(!C._deleted&&(C.persistenceManager=yield tn.create(C,p),!C._deleted)){if(null!==(Z=C._popupRedirectResolver)&&void 0!==Z&&Z._shouldInitProactively)try{yield C._popupRedirectResolver._initialize(C)}catch{}yield C.initializeCurrentUser(g),C.lastNotifiedUid=(null===(_e=C.currentUser)||void 0===_e?void 0:_e.uid)||null,!C._deleted&&(C._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,s.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,s.Z)(function*(){var C;const Z=yield g.assertedPersistence.getCurrentUser();let _e=Z,Ge=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const tt=null===(C=g.redirectUser)||void 0===C?void 0:C._redirectEventId,Mt=_e?._redirectEventId,Ut=yield g.tryRedirectSignIn(p);(!tt||tt===Mt)&&Ut?.user&&(_e=Ut.user,Ge=!0)}if(!_e)return g.directlySetCurrentUser(null);if(!_e._redirectEventId){if(Ge)try{yield g.beforeStateQueue.runMiddleware(_e)}catch(tt){_e=Z,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(tt))}return _e?g.reloadAndSetCurrentUserOrClear(_e):g.directlySetCurrentUser(null)}return S(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===_e._redirectEventId?g.directlySetCurrentUser(_e):g.reloadAndSetCurrentUserOrClear(_e)})()}tryRedirectSignIn(p){var g=this;return(0,s.Z)(function*(){let C=null;try{C=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return C})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,s.Z)(function*(){var C;try{yield vt(p)}catch(Z){if("auth/network-request-failed"!==(null===(C=Z)||void 0===C?void 0:C.code))return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function I(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,s.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,s.Z)(function*(){const C=p?(0,O.m9)(p):null;return C&&S(C.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(C&&C._clone(g))})()}_updateCurrentUser(p,g=!1){var C=this;return(0,s.Z)(function*(){if(!C._deleted)return p&&S(C.tenantId===p.tenantId,C,"tenant-id-mismatch"),g||(yield C.beforeStateQueue.runMiddleware(p)),C.queue((0,s.Z)(function*(){yield C.directlySetCurrentUser(p),C.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,s.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,s.Z)(function*(){yield g.assertedPersistence.setPersistence(me(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new O.LL("auth","Firebase",p())}onAuthStateChanged(p,g,C){return this.registerStateListener(this.authStateSubscription,p,g,C)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,C){return this.registerStateListener(this.idTokenSubscription,p,g,C)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var C=this;return(0,s.Z)(function*(){const Z=yield C.getOrInitRedirectPersistenceManager(g);return null===p?Z.removeCurrentUser():Z.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,s.Z)(function*(){if(!g.redirectPersistenceManager){const C=p&&me(p)||g._popupRedirectResolver;S(C,g,"argument-error"),g.redirectPersistenceManager=yield tn.create(g,[me(C._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,s.Z)(function*(){var C,Z;return g._isInitialized&&(yield g.queue((0,s.Z)(function*(){}))),(null===(C=g._currentUser)||void 0===C?void 0:C._redirectEventId)===p?g._currentUser:(null===(Z=g.redirectUser)||void 0===Z?void 0:Z._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,s.Z)(function*(){if(p===g.currentUser)return g.queue((0,s.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const C=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==C&&(this.lastNotifiedUid=C,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,C,Z){if(this._deleted)return()=>{};const _e="function"==typeof g?g:g.next.bind(g),Ge=this._isInitialized?Promise.resolve():this._initializationPromise;return S(Ge,this,"internal-error"),Ge.then(()=>_e(this.currentUser)),"function"==typeof g?p.addObserver(g,C,Z):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,s.Z)(function*(){g.currentUser&&g.currentUser!==p&&(g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh()),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return S(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=vs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,s.Z)(function*(){var g;const C={"X-Client-Version":p.clientVersion};p.app.options.appId&&(C["X-Firebase-gmpid"]=p.app.options.appId);const Z=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();return Z&&(C["X-Firebase-Client"]=Z),C})()}}function Wn(y){return(0,O.m9)(y)}class Ll{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,O.ne)(g=>this.observer=g)}get next(){return S(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function yi(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function bs(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class Br{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return oe("not implemented")}_getIdTokenResponse(p){return oe("not implemented")}_linkToIdToken(p,g){return oe("not implemented")}_getReauthenticationResolver(p){return oe("not implemented")}}function Qi(y,p){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:resetPassword",U(y,p))})).apply(this,arguments)}function Ha(y,p){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function ea(y,p){return ta.apply(this,arguments)}function ta(){return(ta=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",U(y,p))})).apply(this,arguments)}function vo(){return(vo=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithPassword",U(y,p))})).apply(this,arguments)}function Ur(y,p){return mi.apply(this,arguments)}function mi(){return(mi=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:sendOobCode",U(y,p))})).apply(this,arguments)}function bo(y,p){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,s.Z)(function*(y,p){return Ur(y,p)})).apply(this,arguments)}function ir(y,p){return na.apply(this,arguments)}function na(){return(na=(0,s.Z)(function*(y,p){return Ur(y,p)})).apply(this,arguments)}function ia(y,p){return ra.apply(this,arguments)}function ra(){return(ra=(0,s.Z)(function*(y,p){return Ur(y,p)})).apply(this,arguments)}function ss(y,p){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,s.Z)(function*(y,p){return Ur(y,p)})).apply(this,arguments)}function Uc(){return(Uc=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithEmailLink",U(y,p))})).apply(this,arguments)}function Ju(){return(Ju=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithEmailLink",U(y,p))})).apply(this,arguments)}class jc extends Br{constructor(p,g,C,Z=null){super("password",C),this._email=p,this._password=g,this._tenantId=Z}static _fromEmailAndPassword(p,g){return new jc(p,g,"password")}static _fromEmailAndCode(p,g,C=null){return new jc(p,g,"emailLink",C)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,s.Z)(function*(){switch(g.signInMethod){case"password":return function yo(y,p){return vo.apply(this,arguments)}(p,{returnSecureToken:!0,email:g._email,password:g._password});case"emailLink":return function Rp(y,p){return Uc.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:F(p,"internal-error")}})()}_linkToIdToken(p,g){var C=this;return(0,s.Z)(function*(){switch(C.signInMethod){case"password":return Ha(p,{idToken:g,returnSecureToken:!0,email:C._email,password:C._password});case"emailLink":return function wh(y,p){return Ju.apply(this,arguments)}(p,{idToken:g,email:C._email,oobCode:C._password});default:F(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Ai(y,p){return ed.apply(this,arguments)}function ed(){return(ed=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithIdp",U(y,p))})).apply(this,arguments)}class ws extends Br{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new ws(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):F("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:Z}=g,_e=(0,ie._T)(g,["providerId","signInMethod"]);if(!C||!Z)return null;const Ge=new ws(C,Z);return Ge.idToken=_e.idToken||void 0,Ge.accessToken=_e.accessToken||void 0,Ge.secret=_e.secret,Ge.nonce=_e.nonce,Ge.pendingToken=_e.pendingToken||null,Ge}_getIdTokenResponse(p){return Ai(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,Ai(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Ai(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,O.xO)(g)}return p}}function Fp(y,p){return Hc.apply(this,arguments)}function Hc(){return(Hc=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:sendVerificationCode",U(y,p))})).apply(this,arguments)}function Ws(){return(Ws=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithPhoneNumber",U(y,p))})).apply(this,arguments)}function td(){return(td=(0,s.Z)(function*(y,p){const g=yield Be(y,"POST","/v1/accounts:signInWithPhoneNumber",U(y,p));if(g.temporaryProof)throw Tt(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const Np={USER_NOT_FOUND:"user-not-found"};function Nl(){return(Nl=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithPhoneNumber",U(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),Np)})).apply(this,arguments)}class Cs extends Br{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Cs({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Cs({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Gc(y,p){return Ws.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function Lp(y,p){return td.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Vp(y,p){return Nl.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:C,verificationCode:Z}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:C,code:Z}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:C,phoneNumber:Z,temporaryProof:_e}=p;return C||g||Z||_e?new Cs({verificationId:g,verificationCode:C,phoneNumber:Z,temporaryProof:_e}):null}}class Vl{constructor(p){var g,C,Z,_e,Ge,tt;const Mt=(0,O.zd)((0,O.pd)(p)),Ut=null!==(g=Mt.apiKey)&&void 0!==g?g:null,an=null!==(C=Mt.oobCode)&&void 0!==C?C:null,en=function y_(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(Z=Mt.mode)&&void 0!==Z?Z:null);S(Ut&&an&&en,"argument-error"),this.apiKey=Ut,this.operation=en,this.code=an,this.continueUrl=null!==(_e=Mt.continueUrl)&&void 0!==_e?_e:null,this.languageCode=null!==(Ge=Mt.languageCode)&&void 0!==Ge?Ge:null,this.tenantId=null!==(tt=Mt.tenantId)&&void 0!==tt?tt:null}static parseLink(p){const g=function nd(y){const p=(0,O.zd)((0,O.pd)(y)).link,g=p?(0,O.zd)((0,O.pd)(p)).deep_link_id:null,C=(0,O.zd)((0,O.pd)(y)).deep_link_id;return(C?(0,O.zd)((0,O.pd)(C)).link:null)||C||g||p||y}(p);try{return new Vl(g)}catch{return null}}}let Bl=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,C){return jc._fromEmailAndPassword(g,C)}static credentialWithLink(g,C){const Z=Vl.parseLink(C);return S(Z,"argument-error"),jc._fromEmailAndCode(g,Z.code,Z.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class jr{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Ys extends jr{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class sa extends Ys{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return S("providerId"in g&&"signInMethod"in g,"argument-error"),ws._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return S(p.idToken||p.accessToken,"argument-error"),ws._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return sa.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return sa.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:C,oauthTokenSecret:Z,pendingToken:_e,nonce:Ge,providerId:tt}=p;if(!C&&!Z&&!g&&!_e||!tt)return null;try{return new sa(tt)._credential({idToken:g,accessToken:C,nonce:Ge,pendingToken:_e})}catch{return null}}}let za=(()=>{class y extends Ys{constructor(){super("facebook.com")}static credential(g){return ws._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),$a=(()=>{class y extends Ys{constructor(){super("google.com"),this.addScope("profile")}static credential(g,C){return ws._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:C,oauthAccessToken:Z}=g;if(!C&&!Z)return null;try{return y.credential(C,Z)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),zc=(()=>{class y extends Ys{constructor(){super("github.com")}static credential(g){return ws._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Xi extends Br{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return Ai(p,this.buildRequest())}_linkToIdToken(p,g){const C=this.buildRequest();return C.idToken=g,Ai(p,C)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,Ai(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:C,signInMethod:Z,pendingToken:_e}=g;return C&&Z&&_e&&C===Z?new Xi(C,_e):null}static _create(p,g){return new Xi(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Qn extends jr{constructor(p){S(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Qn.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Qn.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=Xi.fromJSON(p);return S(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:C}=p;if(!g||!C)return null;try{return Xi._create(C,g)}catch{return null}}}let Ul=(()=>{class y extends Ys{constructor(){super("twitter.com")}static credential(g,C){return ws._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:C})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:C,oauthTokenSecret:Z}=g;if(!C||!Z)return null;try{return y.credential(C,Z)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function jl(y,p){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signUp",U(y,p))})).apply(this,arguments)}class rr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,C,Z=!1){return(0,s.Z)(function*(){const _e=yield Dt._fromIdTokenResponse(p,C,Z),Ge=Up(C);return new rr({user:_e,providerId:Ge,_tokenResponse:C,operationType:g})})()}static _forOperation(p,g,C){return(0,s.Z)(function*(){yield p._updateTokensIfNecessary(C,!0);const Z=Up(C);return new rr({user:p,providerId:Z,_tokenResponse:C,operationType:g})})()}}function Up(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function id(){return(id=(0,s.Z)(function*(y){var p;const g=Wn(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new rr({user:g.currentUser,providerId:null,operationType:"signIn"});const C=yield jl(g,{returnSecureToken:!0}),Z=yield rr._fromIdTokenResponse(g,"signIn",C,!0);return yield g._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class $c extends O.ZR{constructor(p,g,C,Z){var _e;super(g.code,g.message),this.operationType=C,this.user=Z,Object.setPrototypeOf(this,$c.prototype),this.customData={appName:p.name,tenantId:null!==(_e=p.tenantId)&&void 0!==_e?_e:void 0,_serverResponse:g.customData._serverResponse,operationType:C}}static _fromErrorAndOperation(p,g,C,Z){return new $c(p,g,C,Z)}}function qa(y,p,g,C){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(_e=>{throw"auth/multi-factor-auth-required"===_e.code?$c._fromErrorAndOperation(y,_e,p,C):_e})}function gi(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function oa(){return(oa=(0,s.Z)(function*(y,p){const g=(0,O.m9)(y);yield Ds(!0,g,p);const{providerUserInfo:C}=yield ct(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),Z=gi(C||[]);return g.providerData=g.providerData.filter(_e=>Z.has(_e.providerId)),Z.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g})).apply(this,arguments)}function os(y,p){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,s.Z)(function*(y,p,g=!1){const C=yield wt(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return rr._forOperation(y,"link",C)})).apply(this,arguments)}function Ds(y,p,g){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,s.Z)(function*(y,p,g){yield vt(p);const Z=!1===y?"provider-already-linked":"no-such-provider";S(gi(p.providerData).has(g)===y,p.auth,Z)})).apply(this,arguments)}function rd(y,p){return Ji.apply(this,arguments)}function Ji(){return(Ji=(0,s.Z)(function*(y,p,g=!1){var C;const{auth:Z}=y,_e="reauthenticate";try{const Ge=yield wt(y,qa(Z,_e,p,y),g);S(Ge.idToken,Z,"internal-error");const tt=xe(Ge.idToken);S(tt,Z,"internal-error");const{sub:Mt}=tt;return S(y.uid===Mt,Z,"user-mismatch"),rr._forOperation(y,_e,Ge)}catch(Ge){throw"auth/user-not-found"===(null===(C=Ge)||void 0===C?void 0:C.code)&&F(Z,"user-mismatch"),Ge}})).apply(this,arguments)}function Ya(y,p){return aa.apply(this,arguments)}function aa(){return(aa=(0,s.Z)(function*(y,p,g=!1){const C="signIn",Z=yield qa(y,C,p),_e=yield rr._fromIdTokenResponse(y,C,Z);return g||(yield y._updateCurrentUser(_e.user)),_e})).apply(this,arguments)}function jt(y,p){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,s.Z)(function*(y,p){return Ya(Wn(y),p)})).apply(this,arguments)}function qc(y,p){return Yc.apply(this,arguments)}function Yc(){return(Yc=(0,s.Z)(function*(y,p){const g=(0,O.m9)(y);return yield Ds(!1,g,p.providerId),os(g,p)})).apply(this,arguments)}function Co(y,p){return Do.apply(this,arguments)}function Do(){return(Do=(0,s.Z)(function*(y,p){return rd((0,O.m9)(y),p)})).apply(this,arguments)}function Ka(y,p){return la.apply(this,arguments)}function la(){return(la=(0,s.Z)(function*(y,p){return Be(y,"POST","/v1/accounts:signInWithCustomToken",U(y,p))})).apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(y,p){const g=Wn(y),C=yield Ka(g,{token:p,returnSecureToken:!0}),Z=yield rr._fromIdTokenResponse(g,"signIn",C);return yield g._updateCurrentUser(Z.user),Z})).apply(this,arguments)}class Cn{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?ca._fromServerResponse(p,g):F(p,"internal-error")}}class ca extends Cn{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new ca(g)}}function ua(y,p,g){var C;S((null===(C=g.url)||void 0===C?void 0:C.length)>0,y,"invalid-continue-uri"),S(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(S(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(S(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function Za(){return(Za=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y),Z={requestType:"PASSWORD_RESET",email:p};g&&ua(C,Z,g),yield ir(C,Z)})).apply(this,arguments)}function _r(){return(_r=(0,s.Z)(function*(y,p,g){yield Qi((0,O.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Es(){return(Es=(0,s.Z)(function*(y,p){yield ea((0,O.m9)(y),{oobCode:p})})).apply(this,arguments)}function Gl(y,p){return sd.apply(this,arguments)}function sd(){return(sd=(0,s.Z)(function*(y,p){const g=(0,O.m9)(y),C=yield Qi(g,{oobCode:p}),Z=C.requestType;switch(S(Z,g,"internal-error"),Z){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":S(C.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":S(C.mfaInfo,g,"internal-error");default:S(C.email,g,"internal-error")}let _e=null;return C.mfaInfo&&(_e=Cn._fromServerResponse(Wn(g),C.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.newEmail:C.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===C.requestType?C.email:C.newEmail)||null,multiFactorInfo:_e},operation:Z}})).apply(this,arguments)}function Ks(){return(Ks=(0,s.Z)(function*(y,p){const{data:g}=yield Gl((0,O.m9)(y),p);return g.email})).apply(this,arguments)}function yr(){return(yr=(0,s.Z)(function*(y,p,g){const C=Wn(y),Z=yield jl(C,{returnSecureToken:!0,email:p,password:g}),_e=yield rr._fromIdTokenResponse(C,"signIn",Z);return yield C._updateCurrentUser(_e.user),_e})).apply(this,arguments)}function Gr(){return(Gr=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y),Z={requestType:"EMAIL_SIGNIN",email:p};S(g.handleCodeInApp,C,"argument-error"),g&&ua(C,Z,g),yield ia(C,Z)})).apply(this,arguments)}function Ja(){return(Ja=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y),Z=Bl.credentialWithLink(p,g||Ve());return S(Z._tenantId===(C.tenantId||null),C,"tenant-id-mismatch"),jt(C,Z)})).apply(this,arguments)}function Ch(y,p){return So.apply(this,arguments)}function So(){return(So=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:createAuthUri",U(y,p))})).apply(this,arguments)}function zl(){return(zl=(0,s.Z)(function*(y,p){const C={identifier:p,continueUri:Xe()?Ve():"http://localhost"},{signinMethods:Z}=yield Ch((0,O.m9)(y),C);return Z||[]})).apply(this,arguments)}function nl(){return(nl=(0,s.Z)(function*(y,p){const g=(0,O.m9)(y),Z={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&ua(g.auth,Z,p);const{email:_e}=yield bo(g.auth,Z);_e!==y.email&&(yield y.reload())})).apply(this,arguments)}function il(){return(il=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y),_e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&ua(C.auth,_e,g);const{email:Ge}=yield ss(C.auth,_e);Ge!==y.email&&(yield y.reload())})).apply(this,arguments)}function $l(y,p){return Wl.apply(this,arguments)}function Wl(){return(Wl=(0,s.Z)(function*(y,p){return be(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function rl(){return(rl=(0,s.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const C=(0,O.m9)(y),_e={idToken:yield C.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},Ge=yield wt(C,$l(C.auth,_e));C.displayName=Ge.displayName||null,C.photoURL=Ge.photoUrl||null;const tt=C.providerData.find(({providerId:Mt})=>"password"===Mt);tt&&(tt.displayName=C.displayName,tt.photoURL=C.photoURL),yield C._updateTokensIfNecessary(Ge)})).apply(this,arguments)}function Kl(y,p,g){return vi.apply(this,arguments)}function vi(){return(vi=(0,s.Z)(function*(y,p,g){const{auth:C}=y,_e={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(_e.email=p),g&&(_e.password=g);const Ge=yield wt(y,Ha(C,_e));yield y._updateTokensIfNecessary(Ge,!0)})).apply(this,arguments)}class $n{constructor(p,g,C={}){this.isNewUser=p,this.providerId=g,this.profile=C}}class Jc extends $n{constructor(p,g,C,Z){super(p,g,C),this.username=Z}}class Dh extends $n{constructor(p,g){super(p,"facebook.com",g)}}class eu extends Jc{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class ad extends $n{constructor(p,g){super(p,"google.com",g)}}class tu extends Jc{constructor(p,g,C){super(p,"twitter.com",g,C)}}function Eh(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function As(y){var p,g;if(!y)return null;const{providerId:C}=y,Z=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},_e=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!C&&y?.idToken){const Ge=null===(g=null===(p=xe(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(Ge)return new $n(_e,"anonymous"!==Ge&&"custom"!==Ge?Ge:null)}if(!C)return null;switch(C){case"facebook.com":return new Dh(_e,Z);case"github.com":return new eu(_e,Z);case"google.com":return new ad(_e,Z);case"twitter.com":return new tu(_e,Z,y.screenName||null);case"custom":case"anonymous":return new $n(_e,null);default:return new $n(_e,C,Z)}}(g)}class fa{constructor(p,g){this.type=p,this.credential=g}static _fromIdtoken(p){return new fa("enroll",p)}static _fromMfaPendingCredential(p){return new fa("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,C;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return fa._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(C=p.multiFactorSession)&&void 0!==C&&C.idToken)return fa._fromIdtoken(p.multiFactorSession.idToken)}return null}}class To{constructor(p,g,C){this.session=p,this.hints=g,this.signInResolver=C}static _fromError(p,g){const C=Wn(p),Z=g.customData._serverResponse,_e=(Z.mfaInfo||[]).map(tt=>Cn._fromServerResponse(C,tt));S(Z.mfaPendingCredential,C,"internal-error");const Ge=fa._fromMfaPendingCredential(Z.mfaPendingCredential);return new To(Ge,_e,function(){var tt=(0,s.Z)(function*(Mt){const Ut=yield Mt._process(C,Ge);delete Z.mfaInfo,delete Z.mfaPendingCredential;const an=Object.assign(Object.assign({},Z),{idToken:Ut.idToken,refreshToken:Ut.refreshToken});switch(g.operationType){case"signIn":const en=yield rr._fromIdTokenResponse(C,g.operationType,an);return yield C._updateCurrentUser(en.user),en;case"reauthenticate":return S(g.user,C,"internal-error"),rr._forOperation(g.user,g.operationType,an);default:F(C,"internal-error")}});return function(Mt){return tt.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,s.Z)(function*(){return g.signInResolver(p)})()}}function Th(y,p){return be(y,"POST","/v2/accounts/mfaEnrollment:start",U(y,p))}class xh{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(C=>Cn._fromServerResponse(p.auth,C)))})}static _fromUser(p){return new xh(p)}getSession(){var p=this;return(0,s.Z)(function*(){return fa._fromIdtoken(yield p.user.getIdToken())})()}enroll(p,g){var C=this;return(0,s.Z)(function*(){const Z=p,_e=yield C.getSession(),Ge=yield wt(C.user,Z._process(C.user.auth,_e,g));return yield C.user._updateTokensIfNecessary(Ge),C.user.reload()})()}unenroll(p){var g=this;return(0,s.Z)(function*(){var C;const Z="string"==typeof p?p:p.uid,_e=yield g.user.getIdToken(),Ge=yield wt(g.user,function v_(y,p){return be(y,"POST","/v2/accounts/mfaEnrollment:withdraw",U(y,p))}(g.user.auth,{idToken:_e,mfaEnrollmentId:Z}));g.enrolledFactors=g.enrolledFactors.filter(({uid:tt})=>tt!==Z),yield g.user._updateTokensIfNecessary(Ge);try{yield g.user.reload()}catch(tt){if("auth/user-token-expired"!==(null===(C=tt)||void 0===C?void 0:C.code))throw tt}})()}}const xo=new WeakMap,pa="__sak";class Zl{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(pa,"1"),this.storage.removeItem(pa),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const $r=(()=>{class y extends Zl{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,C)=>this.onStorageEvent(g,C),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Mh(){const y=(0,O.z$)();return Sn(y)||Ei(y)}()&&function go(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ri(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const C of Object.keys(this.listeners)){const Z=this.storage.getItem(C),_e=this.localCache[C];Z!==_e&&g(C,_e,Z)}}onStorageEvent(g,C=!1){if(!g.key)return void this.forAllChangedKeys((tt,Mt,Ut)=>{this.notifyListeners(tt,Ut)});const Z=g.key;if(C?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const tt=this.storage.getItem(Z);if(g.newValue!==tt)null!==g.newValue?this.storage.setItem(Z,g.newValue):this.storage.removeItem(Z);else if(this.localCache[Z]===g.newValue&&!C)return}const _e=()=>{const tt=this.storage.getItem(Z);!C&&this.localCache[Z]===tt||this.notifyListeners(Z,tt)},Ge=this.storage.getItem(Z);!function mo(){return(0,O.w1)()&&10===document.documentMode}()||Ge===g.newValue||g.newValue===g.oldValue?_e():setTimeout(_e,10)}notifyListeners(g,C){this.localCache[g]=C;const Z=this.listeners[g];if(Z)for(const _e of Array.from(Z))_e(C&&JSON.parse(C))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,C,Z)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:C,newValue:Z}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,C){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,C){var Z=()=>super._set,_e=this;return(0,s.Z)(function*(){yield Z().call(_e,g,C),_e.localCache[g]=JSON.stringify(C)})()}_get(g){var C=()=>super._get,Z=this;return(0,s.Z)(function*(){const _e=yield C().call(Z,g);return Z.localCache[g]=JSON.stringify(_e),_e})()}_remove(g){var C=()=>super._remove,Z=this;return(0,s.Z)(function*(){yield C().call(Z,g),delete Z.localCache[g]})()}}return y.type="LOCAL",y})(),vr=(()=>{class y extends Zl{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,C){}_removeListener(g,C){}}return y.type="SESSION",y})();let Vn=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const C=this.receivers.find(_e=>_e.isListeningto(g));if(C)return C;const Z=new y(g);return this.receivers.push(Z),Z}isListeningto(g){return this.eventTarget===g}handleEvent(g){var C=this;return(0,s.Z)(function*(){const Z=g,{eventId:_e,eventType:Ge,data:tt}=Z.data,Mt=C.handlersMap[Ge];if(!Mt?.size)return;Z.ports[0].postMessage({status:"ack",eventId:_e,eventType:Ge});const Ut=Array.from(Mt).map(function(){var en=(0,s.Z)(function*(Ti){return Ti(Z.origin,tt)});return function(Ti){return en.apply(this,arguments)}}()),an=yield function Gp(y){return Promise.all(y.map(function(){var p=(0,s.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(C){return{fulfilled:!1,reason:C}}});return function(g){return p.apply(this,arguments)}}()))}(Ut);Z.ports[0].postMessage({status:"done",eventId:_e,eventType:Ge,response:an})})()}_subscribe(g,C){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(C)}_unsubscribe(g,C){this.handlersMap[g]&&C&&this.handlersMap[g].delete(C),(!C||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Wr(y="",p=10){let g="";for(let C=0;C<p;C++)g+=Math.floor(10*Math.random());return y+g}class Nt{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,C=50){var Z=this;return(0,s.Z)(function*(){const _e=typeof MessageChannel<"u"?new MessageChannel:null;if(!_e)throw new Error("connection_unavailable");let Ge,tt;return new Promise((Mt,Ut)=>{const an=Wr("",20);_e.port1.start();const en=setTimeout(()=>{Ut(new Error("unsupported_event"))},C);tt={messageChannel:_e,onMessage(Ti){const Ar=Ti;if(Ar.data.eventId===an)switch(Ar.data.status){case"ack":clearTimeout(en),Ge=setTimeout(()=>{Ut(new Error("timeout"))},3e3);break;case"done":clearTimeout(Ge),Mt(Ar.data.response);break;default:clearTimeout(en),clearTimeout(Ge),Ut(new Error("invalid_response"))}}},Z.handlers.add(tt),_e.port1.addEventListener("message",tt.onMessage),Z.target.postMessage({eventType:p,eventId:an,data:g},[_e.port2])}).finally(()=>{tt&&Z.removeMessageHandler(tt)})})()}}function _t(){return window}function qn(){return typeof _t().WorkerGlobalScope<"u"&&"function"==typeof _t().importScripts}function ll(){return(ll=(0,s.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cl="firebaseLocalStorageDb",qr="firebaseLocalStorage",zt="fbase_key";class Qs{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Jl(y,p){return y.transaction([qr],p?"readwrite":"readonly").objectStore(qr)}function Js(){const y=indexedDB.open(cl,1);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const C=y.result;try{C.createObjectStore(qr,{keyPath:zt})}catch(Z){g(Z)}}),y.addEventListener("success",(0,s.Z)(function*(){const C=y.result;C.objectStoreNames.contains(qr)?p(C):(C.close(),yield function Xs(){const y=indexedDB.deleteDatabase(cl);return new Qs(y).toPromise()}(),p(yield Js()))}))})}function Kn(y,p,g){return ec.apply(this,arguments)}function ec(){return(ec=(0,s.Z)(function*(y,p,g){const C=Jl(y,!0).put({[zt]:p,value:g});return new Qs(C).toPromise()})).apply(this,arguments)}function as(){return(as=(0,s.Z)(function*(y,p){const g=Jl(y,!1).get(p),C=yield new Qs(g).toPromise();return void 0===C?null:C.value})).apply(this,arguments)}function tc(y,p){const g=Jl(y,!0).delete(p);return new Qs(g).toPromise()}const pr=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,s.Z)(function*(){return g.db||(g.db=yield Js()),g.db})()}_withRetries(g){var C=this;return(0,s.Z)(function*(){let Z=0;for(;;)try{const _e=yield C._openDb();return yield g(_e)}catch(_e){if(Z++>3)throw _e;C.db&&(C.db.close(),C.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,s.Z)(function*(){return qn()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,s.Z)(function*(){g.receiver=Vn._getInstance(function Xl(){return qn()?self:null}()),g.receiver._subscribe("keyChanged",function(){var C=(0,s.Z)(function*(Z,_e){return{keyProcessed:(yield g._poll()).includes(_e.key)}});return function(Z,_e){return C.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var C=(0,s.Z)(function*(Z,_e){return["keyChanged"]});return function(Z,_e){return C.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,s.Z)(function*(){var C,Z;if(g.activeServiceWorker=yield function al(){return ll.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new Nt(g.activeServiceWorker);const _e=yield g.sender._send("ping",{},800);!_e||(null===(C=_e[0])||void 0===C?void 0:C.fulfilled)&&(null===(Z=_e[0])||void 0===Z?void 0:Z.value.includes("keyChanged"))&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var C=this;return(0,s.Z)(function*(){if(C.sender&&C.activeServiceWorker&&function Ql(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===C.activeServiceWorker)try{yield C.sender._send("keyChanged",{key:g},C.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,s.Z)(function*(){try{if(!indexedDB)return!1;const g=yield Js();return yield Kn(g,pa,"1"),yield tc(g,pa),!0}catch{}return!1})()}_withPendingWrite(g){var C=this;return(0,s.Z)(function*(){C.pendingWrites++;try{yield g()}finally{C.pendingWrites--}})()}_set(g,C){var Z=this;return(0,s.Z)(function*(){return Z._withPendingWrite((0,s.Z)(function*(){return yield Z._withRetries(_e=>Kn(_e,g,C)),Z.localCache[g]=C,Z.notifyServiceWorker(g)}))})()}_get(g){var C=this;return(0,s.Z)(function*(){const Z=yield C._withRetries(_e=>function ma(y,p){return as.apply(this,arguments)}(_e,g));return C.localCache[g]=Z,Z})()}_remove(g){var C=this;return(0,s.Z)(function*(){return C._withPendingWrite((0,s.Z)(function*(){return yield C._withRetries(Z=>tc(Z,g)),delete C.localCache[g],C.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,s.Z)(function*(){const C=yield g._withRetries(Ge=>{const tt=Jl(Ge,!1).getAll();return new Qs(tt).toPromise()});if(!C)return[];if(0!==g.pendingWrites)return[];const Z=[],_e=new Set;for(const{fbase_key:Ge,value:tt}of C)_e.add(Ge),JSON.stringify(g.localCache[Ge])!==JSON.stringify(tt)&&(g.notifyListeners(Ge,tt),Z.push(Ge));for(const Ge of Object.keys(g.localCache))g.localCache[Ge]&&!_e.has(Ge)&&(g.notifyListeners(Ge,null),Z.push(Ge));return Z})()}notifyListeners(g,C){this.localCache[g]=C;const Z=this.listeners[g];if(Z)for(const _e of Array.from(Z))_e(C)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,s.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,C){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(C)}_removeListener(g,C){this.listeners[g]&&(this.listeners[g].delete(C),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})();function eo(y,p){return be(y,"POST","/v2/accounts/mfaSignIn:start",U(y,p))}function or(){return(or=(0,s.Z)(function*(y){return(yield be(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function br(y){return new Promise((p,g)=>{const C=document.createElement("script");C.setAttribute("src",y),C.onload=p,C.onerror=Z=>{const _e=X("internal-error");_e.customData=Z,g(_e)},C.type="text/javascript",C.charset="UTF-8",function ru(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(C)})}function ji(y){return`__${y}${Math.floor(1e6*Math.random())}`}const xn=1e12;class zp{constructor(p){this.auth=p,this.counter=xn,this._widgets=new Map}render(p,g){const C=this.counter;return this._widgets.set(C,new oi(p,this.auth.name,g||{})),this.counter++,C}reset(p){var g;const C=p||xn;null===(g=this._widgets.get(C))||void 0===g||g.delete(),this._widgets.delete(C)}getResponse(p){var g;return(null===(g=this._widgets.get(p||xn))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,s.Z)(function*(){var C;return null===(C=g._widgets.get(p||xn))||void 0===C||C.execute(),""})()}}class oi{constructor(p,g,C){this.params=C,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const Z="string"==typeof p?document.getElementById(p):p;S(Z,"argument-error",{appName:g}),this.container=Z,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Jn(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let C=0;C<y;C++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hi=ji("rcb"),ei=new b(3e4,6e4);class ul{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=_t().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return S(function dl(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)?Promise.resolve(_t().grecaptcha):new Promise((C,Z)=>{const _e=_t().setTimeout(()=>{Z(X(p,"network-request-failed"))},ei.get());_t()[hi]=()=>{_t().clearTimeout(_e),delete _t()[hi];const tt=_t().grecaptcha;if(!tt)return void Z(X(p,"internal-error"));const Mt=tt.render;tt.render=(Ut,an)=>{const en=Mt(Ut,an);return this.counter++,en},this.hostLanguage=g,C(tt)},br(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:hi,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(_e),Z(X(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=_t().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class b_{load(p){return(0,s.Z)(function*(){return new zp(p)})()}clearedOneInstance(){}}const to="recaptcha",Yn={theme:"light",type:"image"};class ai{constructor(p,g=Object.assign({},Yn),C){this.parameters=g,this.type=to,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Wn(C),this.isInvisible="invisible"===this.parameters.size,S(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const Z="string"==typeof p?document.getElementById(p):p;S(Z,this.auth,"argument-error"),this.container=Z,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new b_:new ul,this.validateStartingState()}verify(){var p=this;return(0,s.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),C=p.getAssertedRecaptcha();return C.getResponse(g)||new Promise(_e=>{const Ge=tt=>{!tt||(p.tokenChangeListeners.delete(Ge),_e(tt))};p.tokenChangeListeners.add(Ge),p.isInvisible&&C.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){S(!this.parameters.sitekey,this.auth,"argument-error"),S(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),S(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(C=>C(g)),"function"==typeof p)p(g);else if("string"==typeof p){const C=_t()[p];"function"==typeof C&&C(g)}}}assertNotDestroyed(){S(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,s.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const C=document.createElement("div");g.appendChild(C),g=C}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,s.Z)(function*(){S(Xe()&&!qn(),p.auth,"internal-error"),yield function mr(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function Xn(y){return or.apply(this,arguments)}(p.auth);S(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return S(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ph{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Cs._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function Si(){return(Si=(0,s.Z)(function*(y,p,g){const C=Wn(y),Z=yield pn(C,p,(0,O.m9)(g));return new Ph(Z,_e=>jt(C,_e))})).apply(this,arguments)}function nc(){return(nc=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y);yield Ds(!1,C,"phone");const Z=yield pn(C.auth,p,(0,O.m9)(g));return new Ph(Z,_e=>qc(C,_e))})).apply(this,arguments)}function cs(){return(cs=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y),Z=yield pn(C.auth,p,(0,O.m9)(g));return new Ph(Z,_e=>Co(C,_e))})).apply(this,arguments)}function pn(y,p,g){return su.apply(this,arguments)}function su(){return(su=(0,s.Z)(function*(y,p,g){var C;const Z=yield g.verify();try{let _e;if(S("string"==typeof Z,y,"argument-error"),S(g.type===to,y,"argument-error"),_e="string"==typeof p?{phoneNumber:p}:p,"session"in _e){const Ge=_e.session;if("phoneNumber"in _e)return S("enroll"===Ge.type,y,"internal-error"),(yield Th(y,{idToken:Ge.credential,phoneEnrollmentInfo:{phoneNumber:_e.phoneNumber,recaptchaToken:Z}})).phoneSessionInfo.sessionInfo;{S("signin"===Ge.type,y,"internal-error");const tt=(null===(C=_e.multiFactorHint)||void 0===C?void 0:C.uid)||_e.multiFactorUid;return S(tt,y,"missing-multi-factor-info"),(yield eo(y,{mfaPendingCredential:Ge.credential,mfaEnrollmentId:tt,phoneSignInInfo:{recaptchaToken:Z}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:Ge}=yield Fp(y,{phoneNumber:_e.phoneNumber,recaptchaToken:Z});return Ge}}finally{g._reset()}})).apply(this,arguments)}function hd(){return(hd=(0,s.Z)(function*(y,p){yield os((0,O.m9)(y),p)})).apply(this,arguments)}let ic=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Wn(g)}verifyPhoneNumber(g,C){return pn(this.auth,g,(0,O.m9)(C))}static credential(g,C){return Cs._fromVerification(g,C)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:C,temporaryProof:Z}=g;return C&&Z?Cs._fromTokenResponse(C,Z):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Li(y,p){return p?me(p):(S(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Gi extends Br{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Ai(p,this._buildIdpRequest())}_linkToIdToken(p,g){return Ai(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return Ai(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function rc(y){return Ya(y.auth,new Gi(y),y.bypassAuthState)}function Ts(y){const{auth:p,user:g}=y;return S(g,p,"internal-error"),rd(g,new Gi(y),y.bypassAuthState)}function kh(y){return li.apply(this,arguments)}function li(){return(li=(0,s.Z)(function*(y){const{auth:p,user:g}=y;return S(g,p,"internal-error"),os(g,new Gi(y),y.bypassAuthState)})).apply(this,arguments)}class wr{constructor(p,g,C,Z,_e=!1){this.auth=p,this.resolver=C,this.user=Z,this.bypassAuthState=_e,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,s.Z)(function*(C,Z){p.pendingPromise={resolve:C,reject:Z};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(_e){p.reject(_e)}});return function(C,Z){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,s.Z)(function*(){const{urlResponse:C,sessionId:Z,postBody:_e,tenantId:Ge,error:tt,type:Mt}=p;if(tt)return void g.reject(tt);const Ut={auth:g.auth,requestUri:C,sessionId:Z,tenantId:Ge||void 0,postBody:_e||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(Mt)(Ut))}catch(an){g.reject(an)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return rc;case"linkViaPopup":case"linkViaRedirect":return kh;case"reauthViaPopup":case"reauthViaRedirect":return Ts;default:F(this.auth,"internal-error")}}resolve(p){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){W(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const pl=new b(2e3,1e4);function ml(){return(ml=(0,s.Z)(function*(y,p,g){const C=Wn(y);J(y,p,jr);const Z=Li(C,g);return new pd(C,"signInViaPopup",p,Z).executeNotNull()})).apply(this,arguments)}function au(){return(au=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y);J(C.auth,p,jr);const Z=Li(C.auth,g);return new pd(C.auth,"reauthViaPopup",p,Z,C).executeNotNull()})).apply(this,arguments)}function Io(){return(Io=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y);J(C.auth,p,jr);const Z=Li(C.auth,g);return new pd(C.auth,"linkViaPopup",p,Z,C).executeNotNull()})).apply(this,arguments)}let pd=(()=>{class y extends wr{constructor(g,C,Z,_e,Ge){super(g,C,_e,Ge),this.provider=Z,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,s.Z)(function*(){const C=yield g.execute();return S(C,g.auth,"internal-error"),C})()}onExecution(){var g=this;return(0,s.Z)(function*(){W(1===g.filter.length,"Popup operations only handle one event");const C=Wr();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],C),g.authWindow.associatedEvent=C,g.resolver._originValidation(g.auth).catch(Z=>{g.reject(Z)}),g.resolver._isIframeWebStorageSupported(g.auth,Z=>{Z||g.reject(X(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(X(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var C,Z;this.pollId=null!==(Z=null===(C=this.authWindow)||void 0===C?void 0:C.window)&&void 0!==Z&&Z.closed?window.setTimeout(()=>{this.pollId=null,this.reject(X(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(g,pl.get())};g()}}return y.currentPopupAction=null,y})();const xs=new Map;class Po extends wr{constructor(p,g,C=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,C),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,s.Z)(function*(){let C=xs.get(g.auth._key());if(!C){try{const _e=(yield function ko(y,p){return dn.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;C=()=>Promise.resolve(_e)}catch(Z){C=()=>Promise.reject(Z)}xs.set(g.auth._key(),C)}return g.bypassAuthState||xs.set(g.auth._key(),()=>Promise.resolve(null)),C()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,C=this;return(0,s.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(C,p);if("unknown"!==p.type){if(p.eventId){const Z=yield C.auth._redirectUserForId(p.eventId);if(Z)return C.user=Z,g().call(C,p);C.resolve(null)}}else C.resolve(null)})()}onExecution(){return(0,s.Z)(function*(){})()}cleanUp(){}}function dn(){return(dn=(0,s.Z)(function*(y,p){const g=ci(p),C=sc(y);if(!(yield C._isAvailable()))return!1;const Z="true"===(yield C._get(g));return yield C._remove(g),Z})).apply(this,arguments)}function Ro(y,p){return us.apply(this,arguments)}function us(){return(us=(0,s.Z)(function*(y,p){return sc(y)._set(ci(p),"true")})).apply(this,arguments)}function Oo(y,p){xs.set(y._key(),p)}function sc(y){return me(y._redirectPersistence)}function ci(y){return On("pendingRedirect",y.config.apiKey,y.name)}function k(){return(k=(0,s.Z)(function*(y,p,g){const C=Wn(y);J(y,p,jr);const Z=Li(C,g);return yield Ro(Z,C),Z._openRedirect(C,p,"signInViaRedirect")})).apply(this,arguments)}function Oe(){return(Oe=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y);J(C.auth,p,jr);const Z=Li(C.auth,g);yield Ro(Z,C.auth);const _e=yield Wt(C);return Z._openRedirect(C.auth,p,"reauthViaRedirect",_e)})).apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(y,p,g){const C=(0,O.m9)(y);J(C.auth,p,jr);const Z=Li(C.auth,g);yield Ds(!1,C,p.providerId),yield Ro(Z,C.auth);const _e=yield Wt(C);return Z._openRedirect(C.auth,p,"linkViaRedirect",_e)})).apply(this,arguments)}function Kt(){return(Kt=(0,s.Z)(function*(y,p){return yield Wn(y)._initializationPromise,fn(y,p,!1)})).apply(this,arguments)}function fn(y,p){return yn.apply(this,arguments)}function yn(){return(yn=(0,s.Z)(function*(y,p,g=!1){const C=Wn(y),Z=Li(C,p),Ge=yield new Po(C,Z,g).execute();return Ge&&!g&&(delete Ge.user._redirectEventId,yield C._persistUserIfCurrent(Ge.user),yield C._setRedirectUser(null,p)),Ge})).apply(this,arguments)}function Wt(y){return fi.apply(this,arguments)}function fi(){return(fi=(0,s.Z)(function*(y){const p=Wr(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class gl{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(C=>{this.isEventForConsumer(p,C)&&(g=!0,this.sendToConsumer(p,C),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Fo(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cr(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var C;if(p.error&&!Cr(p)){const Z=(null===(C=p.error.code)||void 0===C?void 0:C.split("auth/")[1])||"internal-error";g.onError(X(this.auth,Z))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const C=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&C}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(va(p))}saveEventToCache(p){this.cachedEventUids.add(va(p)),this.lastProcessedEventTime=Date.now()}}function va(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function Cr({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function Lo(y){return ba.apply(this,arguments)}function ba(){return(ba=(0,s.Z)(function*(y,p={}){return be(y,"GET","/v1/projects",p)})).apply(this,arguments)}const lr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,no=/^https?/;function Oh(){return(Oh=(0,s.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Lo(y);for(const g of p)try{if(w_(g))return}catch{}F(y,"unauthorized-domain")})).apply(this,arguments)}function w_(y){const p=Ve(),{protocol:g,hostname:C}=new URL(p);if(y.startsWith("chrome-extension://")){const Ge=new URL(y);return""===Ge.hostname&&""===C?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&Ge.hostname===C}if(!no.test(g))return!1;if(lr.test(y))return C===y;const Z=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+Z+"|"+Z+")$","i").test(C)}const C_=new b(3e4,6e4);function No(){const y=_t().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let Vo=null;function Fh(y){return Vo=Vo||function ac(y){return new Promise((p,g)=>{var C,Z,_e;function Ge(){No(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{No(),g(X(y,"network-request-failed"))},timeout:C_.get()})}if(null!==(Z=null===(C=_t().gapi)||void 0===C?void 0:C.iframes)&&void 0!==Z&&Z.Iframe)p(gapi.iframes.getContext());else{if(null===(_e=_t().gapi)||void 0===_e||!_e.load){const tt=ji("iframefcb");return _t()[tt]=()=>{gapi.load?Ge():g(X(y,"network-request-failed"))},br(`https://apis.google.com/js/api.js?onload=${tt}`).catch(Mt=>g(Mt))}Ge()}}).catch(p=>{throw Vo=null,p})}(y),Vo}const D_=new b(5e3,15e3),Nh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},E_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vh(y){const p=y.config;S(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?P(p,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,C={apiKey:p.apiKey,appName:y.name,v:pe.SDK_VERSION},Z=E_.get(y.config.apiHost);Z&&(C.eid=Z);const _e=y._getFrameworks();return _e.length&&(C.fw=_e.join(",")),`${g}?${(0,O.xO)(C).slice(1)}`}function _l(){return _l=(0,s.Z)(function*(y){const p=yield Fh(y),g=_t().gapi;return S(g,y,"internal-error"),p.open({where:document.body,url:Vh(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Nh,dontclear:!0},C=>new Promise(function(){var Z=(0,s.Z)(function*(_e,Ge){yield C.restyle({setHideOnLeave:!1});const tt=X(y,"network-request-failed"),Mt=_t().setTimeout(()=>{Ge(tt)},D_.get());function Ut(){_t().clearTimeout(Mt),_e(C)}C.ping(Ut).then(Ut,()=>{Ge(tt)})});return function(_e,Ge){return Z.apply(this,arguments)}}()))}),_l.apply(this,arguments)}const io={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class uu{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function yd(y,p,g,C,Z,_e){S(y.config.authDomain,y,"auth-domain-config-required"),S(y.config.apiKey,y,"invalid-api-key");const Ge={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:C,v:pe.SDK_VERSION,eventId:Z};if(p instanceof jr){p.setDefaultLanguage(y.languageCode),Ge.providerId=p.providerId||"",(0,O.xb)(p.getCustomParameters())||(Ge.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Mt,Ut]of Object.entries(_e||{}))Ge[Mt]=Ut}if(p instanceof Ys){const Mt=p.getScopes().filter(Ut=>""!==Ut);Mt.length>0&&(Ge.scopes=Mt.join(","))}y.tenantId&&(Ge.tid=y.tenantId);const tt=Ge;for(const Mt of Object.keys(tt))void 0===tt[Mt]&&delete tt[Mt];return`${function S_({config:y}){return y.emulator?P(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}(y)}?${(0,O.xO)(tt).slice(1)}`}const Uh="webStorageSupport";class Ca extends class Bo{constructor(p){this.factorId=p}_process(p,g,C){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,C);case"signin":return this._finalizeSignIn(p,g.credential);default:return oe("unexpected MultiFactorSessionType")}}}{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Ca(p)}_finalizeEnroll(p,g,C){return function Hp(y,p){return be(y,"POST","/v2/accounts/mfaEnrollment:finalize",U(y,p))}(p,{idToken:g,displayName:C,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function _a(y,p){return be(y,"POST","/v2/accounts/mfaSignIn:finalize",U(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let x_=(()=>{class y{constructor(){}static assertion(g){return Ca._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var qp="@firebase/auth";class M_{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,s.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(C=>{var Z;p((null===(Z=C)||void 0===Z?void 0:Z.stsTokenManager.accessToken)||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);!g||(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){S(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Da(){return window}function Ms(){return(Ms=(0,s.Z)(function*(y,p,g){var C;const{BuildInfo:Z}=Da();W(p.sessionId,"AuthEvent did not contain a session ID");const _e=yield Qp(p.sessionId),Ge={};return Ei()?Ge.ibi=Z.packageName:xt()?Ge.apn=Z.packageName:F(y,"operation-not-supported-in-this-environment"),Z.displayName&&(Ge.appDisplayName=Z.displayName),Ge.sessionId=_e,yd(y,g,p.type,void 0,null!==(C=p.eventId)&&void 0!==C?C:void 0,Ge)})).apply(this,arguments)}function vd(){return(vd=(0,s.Z)(function*(y){const{BuildInfo:p}=Da(),g={};Ei()?g.iosBundleId=p.packageName:xt()?g.androidPackageName=p.packageName:F(y,"operation-not-supported-in-this-environment"),yield Lo(y,g)})).apply(this,arguments)}function er(){return(er=(0,s.Z)(function*(y,p,g){const{cordova:C}=Da();let Z=()=>{};try{yield new Promise((_e,Ge)=>{let tt=null;function Mt(){var en;_e();const Ti=null===(en=C.plugins.browsertab)||void 0===en?void 0:en.close;"function"==typeof Ti&&Ti(),"function"==typeof g?.close&&g.close()}function Ut(){tt||(tt=window.setTimeout(()=>{Ge(X(y,"redirect-cancelled-by-user"))},2e3))}function an(){"visible"===document?.visibilityState&&Ut()}p.addPassiveListener(Mt),document.addEventListener("resume",Ut,!1),xt()&&document.addEventListener("visibilitychange",an,!1),Z=()=>{p.removePassiveListener(Mt),document.removeEventListener("resume",Ut,!1),document.removeEventListener("visibilitychange",an,!1),tt&&window.clearTimeout(tt)}})}finally{Z()}})).apply(this,arguments)}function Qp(y){return yl.apply(this,arguments)}function yl(){return(yl=(0,s.Z)(function*(y){const p=Gh(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(Z=>Z.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Gh(y){if(W(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let C=0;C<y.length;C++)g[C]=y.charCodeAt(C);return g}!function Kp(y){(0,pe._registerComponent)(new B.wA("auth",(p,{options:g})=>{const C=p.getProvider("app").getImmediate(),Z=p.getProvider("heartbeat"),{apiKey:_e,authDomain:Ge}=C.options;return((tt,Mt)=>{S(_e&&!_e.includes(":"),"invalid-api-key",{appName:tt.name}),S(!Ge?.includes(":"),"argument-error",{appName:tt.name});const Ut={apiKey:_e,authDomain:Ge,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vs(y)},an=new Fl(tt,Mt,Ut);return function Re(y,p){const g=p?.persistence||[],C=(Array.isArray(g)?g:[g]).map(me);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(C,p?.popupRedirectResolver)}(an,g),an})(C,Z)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,C)=>{p.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new B.wA("auth-internal",p=>{const g=Wn(p.getProvider("auth").getImmediate());return new M_(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(qp,"0.20.5",function I_(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,pe.registerVersion)(qp,"0.20.5","esm2017")}("Browser");class k_ extends gl{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,s.Z)(function*(){yield p.initPromise})()}}function bd(y){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,s.Z)(function*(y){const p=yield uc()._get(wd(y));return p&&(yield uc()._remove(wd(y))),p})).apply(this,arguments)}function f0(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<20;g++){const C=Math.floor(Math.random()*p.length);y.push(p.charAt(C))}return y.join("")}function uc(){return me($r)}function wd(y){return On("authEvent",y.config.apiKey,y.name)}function fu(y){if(!y?.includes("?"))return{};const[p,...g]=y.split("?");return(0,O.zd)(g.join("?"))}function dc(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:X("no-auth-event")}}function hc(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function F_(y=(0,O.z$)()){return!("file:"!==hc()&&"ionic:"!==hc()&&"capacitor:"!==hc()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function V_(){try{const y=self.localStorage,p=Wr();if(y)return y.setItem(p,"1"),y.removeItem(p),!function N_(y=(0,O.z$)()){return function zh(){return(0,O.w1)()&&11===document?.documentMode}()||function L_(y=(0,O.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,O.hl)()}catch{return Cd()&&(0,O.hl)()}return!1}function Cd(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function zi(){return(function O_(){return"http:"===hc()||"https:"===hc()}()||(0,O.ru)()||F_())&&!function p0(){return(0,O.b$)()||(0,O.UG)()}()&&V_()&&!Cd()}function mu(){return F_()&&typeof document<"u"}function Dd(){return(Dd=(0,s.Z)(function*(){return!!mu()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Dr={LOCAL:"local",NONE:"none",SESSION:"session"},jo=S,Wh="persistence";function gu(y){return vl.apply(this,arguments)}function vl(){return(vl=(0,s.Z)(function*(y){yield y._initializationPromise;const p=Kh(),g=On(Wh,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function Kh(){var y;try{return(null===(y=function sm(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const fc=S;class $i{constructor(){this.browserResolver=me(class T_{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=vr,this._completeRedirectFn=fn,this._overrideRedirectResult=Oo}_openPopup(p,g,C,Z){var _e=this;return(0,s.Z)(function*(){var Ge;W(null===(Ge=_e.eventManagers[p._key()])||void 0===Ge?void 0:Ge.manager,"_initialize() not called before _openPopup()");const tt=yd(p,g,C,Ve(),Z);return function ro(y,p,g,C=500,Z=600){const _e=Math.max((window.screen.availHeight-Z)/2,0).toString(),Ge=Math.max((window.screen.availWidth-C)/2,0).toString();let tt="";const Mt=Object.assign(Object.assign({},io),{width:C.toString(),height:Z.toString(),top:_e,left:Ge}),Ut=(0,O.z$)().toLowerCase();g&&(tt=Rn(Ut)?"_blank":g),wn(Ut)&&(p=p||"http://localhost",Mt.scrollbars="yes");const an=Object.entries(Mt).reduce((Ti,[Ar,wl])=>`${Ti}${Ar}=${wl},`,"");if(function ii(y=(0,O.z$)()){var p;return Ei(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(Ut)&&"_self"!==tt)return function _d(y,p){const g=document.createElement("a");g.href=y,g.target=p;const C=document.createEvent("MouseEvent");C.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(C)}(p||"",tt),new uu(null);const en=window.open(p||"",tt,an);S(en,y,"popup-blocked");try{en.focus()}catch{}return new uu(en)}(p,tt,Wr())})()}_openRedirect(p,g,C,Z){var _e=this;return(0,s.Z)(function*(){return yield _e._originValidation(p),function sr(y){_t().location.href=y}(yd(p,g,C,Ve(),Z)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:Z,promise:_e}=this.eventManagers[g];return Z?Promise.resolve(Z):(W(_e,"If manager is not set, promise should be"),_e)}const C=this.initAndGetManager(p);return this.eventManagers[g]={promise:C},C.catch(()=>{delete this.eventManagers[g]}),C}initAndGetManager(p){var g=this;return(0,s.Z)(function*(){const C=yield function gd(y){return _l.apply(this,arguments)}(p),Z=new gl(p);return C.register("authEvent",_e=>(S(_e?.authEvent,p,"invalid-auth-event"),{status:Z.onEvent(_e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:Z},g.iframes[p._key()]=C,Z})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Uh,{type:Uh},Z=>{var _e;const Ge=null===(_e=Z?.[0])||void 0===_e?void 0:_e[Uh];void 0!==Ge&&g(!!Ge),F(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function $p(y){return Oh.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return ri()||Sn()||Ei()}}),this.cordovaResolver=me(class Ea{constructor(){this._redirectPersistence=vr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=fn,this._overrideRedirectResult=Oo}_initialize(p){var g=this;return(0,s.Z)(function*(){const C=p._key();let Z=g.eventManagers.get(C);return Z||(Z=new k_(p),g.eventManagers.set(C,Z),g.attachCallbackListeners(p,Z)),Z})()}_openPopup(p){F(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,C,Z){var _e=this;return(0,s.Z)(function*(){!function cc(y){var p,g,C,Z,_e,Ge,tt,Mt,Ut,an;const en=Da();S("function"==typeof(null===(p=en?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),S(typeof(null===(g=en?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),S("function"==typeof(null===(_e=null===(Z=null===(C=en?.cordova)||void 0===C?void 0:C.plugins)||void 0===Z?void 0:Z.browsertab)||void 0===_e?void 0:_e.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),S("function"==typeof(null===(Mt=null===(tt=null===(Ge=en?.cordova)||void 0===Ge?void 0:Ge.plugins)||void 0===tt?void 0:tt.browsertab)||void 0===Mt?void 0:Mt.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),S("function"==typeof(null===(an=null===(Ut=en?.cordova)||void 0===Ut?void 0:Ut.InAppBrowser)||void 0===an?void 0:an.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const Ge=yield _e._initialize(p);yield Ge.initialized(),Ge.resetRedirect(),function ds(){xs.clear()}(),yield _e._originValidation(p);const tt=function Jp(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:f0(),postBody:null,tenantId:y.tenantId,error:X(y,"no-auth-event")}}(p,C,Z);yield function hu(y,p){return uc()._set(wd(y),p)}(p,tt);const Mt=yield function Hh(y,p,g){return Ms.apply(this,arguments)}(p,tt,g),Ut=yield function lc(y){const{cordova:p}=Da();return new Promise(g=>{p.plugins.browsertab.isAvailable(C=>{let Z=null;C?p.plugins.browsertab.openUrl(y):Z=p.InAppBrowser.open(y,function Jo(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(Z)})})}(Mt);return function Zp(y,p,g){return er.apply(this,arguments)}(p,Ge,Ut)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function du(y){return vd.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:C,handleOpenURL:Z,BuildInfo:_e}=Da(),Ge=setTimeout((0,s.Z)(function*(){yield bd(p),g.onEvent(dc())}),500),tt=function(){var an=(0,s.Z)(function*(en){clearTimeout(Ge);const Ti=yield bd(p);let Ar=null;Ti&&en?.url&&(Ar=function h0(y,p){var g,C;const Z=function tm(y){const p=fu(y),g=p.link?decodeURIComponent(p.link):void 0,C=fu(g).link,Z=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return fu(Z).link||Z||C||g||y}(p);if(Z.includes("/__/auth/callback")){const _e=fu(Z),Ge=_e.firebaseError?function em(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(_e.firebaseError)):null,tt=null===(C=null===(g=Ge?.code)||void 0===g?void 0:g.split("auth/"))||void 0===C?void 0:C[1],Mt=tt?X(tt):null;return Mt?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Mt,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:Z,postBody:null}}return null}(Ti,en.url)),g.onEvent(Ar||dc())});return function(Ti){return an.apply(this,arguments)}}();typeof C<"u"&&"function"==typeof C.subscribe&&C.subscribe(null,tt);const Mt=Z,Ut=`${_e.packageName.toLowerCase()}://`;Da().handleOpenURL=function(){var an=(0,s.Z)(function*(en){if(en.toLowerCase().startsWith(Ut)&&tt({url:en}),"function"==typeof Mt)try{Mt(en)}catch(Ti){console.error(Ti)}});return function(en){return an.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=vr,this._completeRedirectFn=fn,this._overrideRedirectResult=Oo}_initialize(p){var g=this;return(0,s.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,C,Z){var _e=this;return(0,s.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openPopup(p,g,C,Z)})()}_openRedirect(p,g,C,Z){var _e=this;return(0,s.Z)(function*(){return yield _e.selectUnderlyingResolver(),_e.assertedUnderlyingResolver._openRedirect(p,g,C,Z)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return mu()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return fc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,s.Z)(function*(){if(p.underlyingResolver)return;const g=yield function $h(){return Dd.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function om(y){return y.unwrap()}function Ed(y){return Ad(y)}function Ad(y){const{_tokenResponse:p}=y instanceof O.ZR?y.customData:y;if(!p)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return ic.credentialFromResult(y);const g=p.providerId;if(!g||"password"===g)return null;let C;switch(g){case"google.com":C=$a;break;case"facebook.com":C=za;break;case"github.com":C=zc;break;case"twitter.com":C=Ul;break;default:const{oauthIdToken:Z,oauthAccessToken:_e,oauthTokenSecret:Ge,pendingToken:tt,nonce:Mt}=p;return _e||Ge||Z||tt?tt?g.startsWith("saml.")?Xi._create(g,tt):ws._fromParams({providerId:g,signInMethod:g,pendingToken:tt,idToken:Z,accessToken:_e}):new sa(g).credential({idToken:Z,accessToken:_e,rawNonce:Mt}):null}return y instanceof O.ZR?C.credentialFromError(y):C.credentialFromResult(y)}function tr(y,p){return p.catch(g=>{throw g instanceof O.ZR&&function B_(y,p){var g,C;const Z=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===(null===(C=p)||void 0===C?void 0:C.code))p.resolver=new pc(y,function bi(y,p){var g;const C=(0,O.m9)(y),Z=p;return S(p.customData.operationType,C,"argument-error"),S(null===(g=Z.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,C,"argument-error"),To._fromError(C,Z)}(y,p));else if(Z){const _e=Ad(p),Ge=p;_e&&(Ge.credential=_e,Ge.tenantId=Z.tenantId||void 0,Ge.email=Z.email||void 0,Ge.phoneNumber=Z.phoneNumber||void 0)}}(y,g),g}).then(g=>{const Z=g.user;return{operationType:g.operationType,credential:Ed(g),additionalUserInfo:Eh(g),user:Er.getOrCreate(Z)}})}function Aa(y,p){return Sd.apply(this,arguments)}function Sd(){return(Sd=(0,s.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:C=>tr(y,g.confirm(C))}})).apply(this,arguments)}class pc{constructor(p,g){this.resolver=g,this.auth=function Zh(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return tr(om(this.auth),this.resolver.resolveSignIn(p))}}class Er{constructor(p){this._delegate=p,this.multiFactor=function cd(y){const p=(0,O.m9)(y);return xo.has(p)||xo.set(p,xh._fromUser(p)),xo.get(p)}(p)}static getOrCreate(p){return Er.USER_MAP.has(p)||Er.USER_MAP.set(p,new Er(p)),Er.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,s.Z)(function*(){return tr(g.auth,qc(g._delegate,p))})()}linkWithPhoneNumber(p,g){var C=this;return(0,s.Z)(function*(){return Aa(C.auth,function ls(y,p,g){return nc.apply(this,arguments)}(C._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,s.Z)(function*(){return tr(g.auth,function fd(y,p,g){return Io.apply(this,arguments)}(g._delegate,p,$i))})()}linkWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield gu(Wn(g.auth)),function ze(y,p,g){return function Je(y,p,g){return pt.apply(this,arguments)}(y,p,g)}(g._delegate,p,$i)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,s.Z)(function*(){return tr(g.auth,Co(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Aa(this.auth,function hl(y,p,g){return cs.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return tr(this.auth,function Rh(y,p,g){return au.apply(this,arguments)}(this._delegate,p,$i))}reauthenticateWithRedirect(p){var g=this;return(0,s.Z)(function*(){return yield gu(Wn(g.auth)),function V(y,p,g){return function ue(y,p,g){return Oe.apply(this,arguments)}(y,p,g)}(g._delegate,p,$i)})()}sendEmailVerification(p){return function tl(y,p){return nl.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,s.Z)(function*(){return yield function Wc(y,p){return oa.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function Xc(y,p){return Kl((0,O.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function Yl(y,p){return Kl((0,O.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function fl(y,p){return hd.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function ql(y,p){return rl.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function Qc(y,p,g){return il.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Er.USER_MAP=new WeakMap;const _u=S;let Qh=(()=>{class y{constructor(g,C){if(this.app=g,C.isInitialized())return this._delegate=C.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Z}=g.options;_u(Z,"invalid-api-key",{appName:g.name}),_u(Z,"invalid-api-key",{appName:g.name});const _e=typeof window<"u"?$i:void 0;this._delegate=C.initialize({options:{persistence:U_(Z,g.name),popupRedirectResolver:_e}}),this._delegate._updateErrorMap(q),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Er.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,C){!function _o(y,p,g){const C=Wn(y);S(C._canInitEmulator,C,"emulator-config-failed"),S(/^https?:\/\//.test(p),C,"invalid-emulator-scheme");const Z=!!g?.disableWarnings,_e=yi(p),{host:Ge,port:tt}=function $s(y){const p=yi(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const C=g[2].split("@").pop()||"",Z=/^(\[[^\]]+\])(:|$)/.exec(C);if(Z){const _e=Z[1];return{host:_e,port:bs(C.substr(_e.length+1))}}{const[_e,Ge]=C.split(":");return{host:_e,port:bs(Ge)}}}(p);C.config.emulator={url:`${_e}//${Ge}${null===tt?"":`:${tt}`}/`},C.settings.appVerificationDisabledForTesting=!0,C.emulatorConfig=Object.freeze({host:Ge,port:tt,protocol:_e.replace(":",""),options:Object.freeze({disableWarnings:Z})}),Z||function fr(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,C)}applyActionCode(g){return function Qa(y,p){return Es.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Gl(this._delegate,g)}confirmPasswordReset(g,C){return function Ao(y,p,g){return _r.apply(this,arguments)}(this._delegate,g,C)}createUserWithEmailAndPassword(g,C){var Z=this;return(0,s.Z)(function*(){return tr(Z._delegate,function Ui(y,p,g){return yr.apply(this,arguments)}(Z._delegate,g,C))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function el(y,p){return zl.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function od(y,p){return"EMAIL_SIGNIN"===Vl.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,s.Z)(function*(){_u(zi(),g._delegate,"operation-not-supported-in-this-environment");const C=yield function kt(y,p){return Kt.apply(this,arguments)}(g._delegate,$i);return C?tr(g._delegate,Promise.resolve(C)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function R_(y,p){Wn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,C,Z){const{next:_e,error:Ge,complete:tt}=bl(g,C,Z);return this._delegate.onAuthStateChanged(_e,Ge,tt)}onIdTokenChanged(g,C,Z){const{next:_e,error:Ge,complete:tt}=bl(g,C,Z);return this._delegate.onIdTokenChanged(_e,Ge,tt)}sendSignInLinkToEmail(g,C){return function da(y,p,g){return Gr.apply(this,arguments)}(this._delegate,g,C)}sendPasswordResetEmail(g,C){return function si(y,p,g){return Za.apply(this,arguments)}(this._delegate,g,C||void 0)}setPersistence(g){var C=this;return(0,s.Z)(function*(){let Z;switch(function qh(y,p){jo(Object.values(Dr).includes(p),y,"invalid-persistence-type"),(0,O.b$)()?jo(p!==Dr.SESSION,y,"unsupported-persistence-type"):(0,O.UG)()?jo(p===Dr.NONE,y,"unsupported-persistence-type"):Cd()?jo(p===Dr.NONE||p===Dr.LOCAL&&(0,O.hl)(),y,"unsupported-persistence-type"):jo(p===Dr.NONE||V_(),y,"unsupported-persistence-type")}(C._delegate,g),g){case Dr.SESSION:Z=vr;break;case Dr.LOCAL:Z=(yield me(pr)._isAvailable())?pr:$r;break;case Dr.NONE:Z=nn;break;default:return F("argument-error",{appName:C._delegate.name})}return C._delegate.setPersistence(Z)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return tr(this._delegate,function di(y){return id.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return tr(this._delegate,jt(this._delegate,g))}signInWithCustomToken(g){return tr(this._delegate,function Eo(y,p){return mt.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,C){return tr(this._delegate,function Kc(y,p,g){return jt((0,O.m9)(y),Bl.credential(p,g))}(this._delegate,g,C))}signInWithEmailLink(g,C){return tr(this._delegate,function Zc(y,p,g){return Ja.apply(this,arguments)}(this._delegate,g,C))}signInWithPhoneNumber(g,C){return Aa(this._delegate,function ya(y,p,g){return Si.apply(this,arguments)}(this._delegate,g,C))}signInWithPopup(g){var C=this;return(0,s.Z)(function*(){return _u(zi(),C._delegate,"operation-not-supported-in-this-environment"),tr(C._delegate,function ou(y,p,g){return ml.apply(this,arguments)}(C._delegate,g,$i))})()}signInWithRedirect(g){var C=this;return(0,s.Z)(function*(){return _u(zi(),C._delegate,"operation-not-supported-in-this-environment"),yield gu(C._delegate),function md(y,p,g){return function oc(y,p,g){return k.apply(this,arguments)}(y,p,g)}(C._delegate,g,$i)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Xa(y,p){return Ks.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Dr,y})();function bl(y,p,g){let C=y;"function"!=typeof y&&({next:C,error:p,complete:g}=y);const Z=C;return{next:Ge=>Z(Ge&&Er.getOrCreate(Ge)),error:p,complete:g}}function U_(y,p){const g=function Yh(y,p){const g=Kh();if(!g)return[];const C=On(Wh,y,p);switch(g.getItem(C)){case Dr.NONE:return[nn];case Dr.LOCAL:return[pr,vr];case Dr.SESSION:return[vr];default:return[]}}(y,p);if(typeof self<"u"&&!g.includes(pr)&&g.push(pr),typeof window<"u")for(const C of[$r,vr])g.includes(C)||g.push(C);return g.includes(nn)||g.push(nn),g}class Xh{constructor(){this.providerId="phone",this._delegate=new ic(om(te.Z.auth()))}static credential(p,g){return ic.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Xh.PHONE_SIGN_IN_METHOD=ic.PHONE_SIGN_IN_METHOD,Xh.PROVIDER_ID=ic.PROVIDER_ID;const j_=S;class H_{constructor(p,g,C=te.Z.app()){var Z;j_(null===(Z=C.options)||void 0===Z?void 0:Z.apiKey,"invalid-api-key",{appName:C.name}),this._delegate=new ai(p,g,C.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function G_(y){y.INTERNAL.registerComponent(new B.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),C=p.getProvider("auth");return new Qh(g,C)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Bl,FacebookAuthProvider:za,GithubAuthProvider:zc,GoogleAuthProvider:$a,OAuthProvider:sa,SAMLAuthProvider:Qn,PhoneAuthProvider:Xh,PhoneMultiFactorGenerator:x_,RecaptchaVerifier:H_,TwitterAuthProvider:Ul,Auth:Qh,AuthCredential:Br,Error:O.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.2.18")}(te.Z)},6036:function(module,__unused_webpack_exports,__webpack_require__){var _classStaticPrivateMethodGet=__webpack_require__(5764).default,_defineProperty=__webpack_require__(8416).default,_classPrivateMethodInitSpec=__webpack_require__(1860).default,_classPrivateMethodGet=__webpack_require__(4467).default,_classPrivateFieldInitSpec=__webpack_require__(9159).default,_classPrivateFieldSet=__webpack_require__(5661).default,_classPrivateFieldGet=__webpack_require__(468).default,_classStaticPrivateFieldSpecSet=__webpack_require__(2306).default,_classStaticPrivateFieldSpecGet=__webpack_require__(1280).default,_asyncToGenerator=__webpack_require__(7156).default,R;R=()=>(()=>{"use strict";var __webpack_modules__=[,(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.VerbosityLevel=x.Util=x.UnknownErrorException=x.UnexpectedResponseException=x.UNSUPPORTED_FEATURES=x.TextRenderingMode=x.StreamType=x.RenderingIntentFlag=x.PermissionFlag=x.PasswordResponses=x.PasswordException=x.PageActionEventType=x.OPS=x.MissingPDFException=x.InvalidPDFException=x.ImageKind=x.IDENTITY_MATRIX=x.FormatError=x.FontType=x.FeatureTest=x.FONT_IDENTITY_MATRIX=x.DocumentActionEventType=x.CMapCompressionType=x.BaseException=x.AnnotationType=x.AnnotationStateModelType=x.AnnotationReviewState=x.AnnotationReplyType=x.AnnotationMode=x.AnnotationMarkedState=x.AnnotationFlag=x.AnnotationFieldFlag=x.AnnotationBorderStyleType=x.AnnotationActionEventType=x.AbortException=void 0,x.arrayByteLength=Pe,x.arraysToBytes=function Ue(Ne){const we=Ne.length;if(1===we&&Ne[0]instanceof Uint8Array)return Ne[0];let Fe=0;for(let Yt=0;Yt<we;Yt++)Fe+=Pe(Ne[Yt]);let rt=0;const vt=new Uint8Array(Fe);for(let Yt=0;Yt<we;Yt++){let Ke=Ne[Yt];Ke instanceof Uint8Array||(Ke="string"==typeof Ke?je(Ke):new Uint8Array(Ke));const Ee=Ke.byteLength;vt.set(Ke,rt),rt+=Ee}return vt},x.assert=function Re(Ne,we){Ne||ye(we)},x.bytesToString=function be(Ne){("object"!=typeof Ne||null===Ne||void 0===Ne.length)&&ye("Invalid argument for bytesToString");const we=Ne.length;if(we<8192)return String.fromCharCode.apply(null,Ne);const rt=[];for(let vt=0;vt<we;vt+=8192){const Yt=Math.min(vt+8192,we),Ke=Ne.subarray(vt,Yt);rt.push(String.fromCharCode.apply(null,Ke))}return rt.join("")},x.createPromiseCapability=function wt(){const Ne=Object.create(null);let we=!1;return Object.defineProperty(Ne,"settled",{get:()=>we}),Ne.promise=new Promise(function(Fe,rt){Ne.resolve=function(vt){we=!0,Fe(vt)},Ne.reject=function(vt){we=!0,rt(vt)}}),Ne},x.createValidAbsoluteUrl=function Xe(Ne,we=null,Fe=null){if(!Ne)return null;try{if(Fe&&"string"==typeof Ne){if(Fe.addDefaultProtocol&&Ne.startsWith("www.")){const vt=Ne.match(/\./g);vt&&vt.length>=2&&(Ne=`http://${Ne}`)}if(Fe.tryConvertEncoding)try{Ne=Pt(Ne)}catch{}}const rt=we?new URL(Ne,we):new URL(Ne);if(function Ve(Ne){if(!Ne)return!1;switch(Ne.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(rt))return rt}catch{}return null},x.escapeString=function At(Ne){return Ne.replace(/([()\\\n\r])/g,we=>"\n"===we?"\\n":"\r"===we?"\\r":`\\${we}`)},x.getModificationDate=function ft(Ne=new Date){return[Ne.getUTCFullYear().toString(),(Ne.getUTCMonth()+1).toString().padStart(2,"0"),Ne.getUTCDate().toString().padStart(2,"0"),Ne.getUTCHours().toString().padStart(2,"0"),Ne.getUTCMinutes().toString().padStart(2,"0"),Ne.getUTCSeconds().toString().padStart(2,"0")].join("")},x.getVerbosityLevel=function W(){return S},x.info=function le(Ne){S>=F.INFOS&&console.log(`Info: ${Ne}`)},x.isArrayBuffer=function ge(Ne){return"object"==typeof Ne&&null!==Ne&&void 0!==Ne.byteLength},x.isArrayEqual=function xe(Ne,we){if(Ne.length!==we.length)return!1;for(let Fe=0,rt=Ne.length;Fe<rt;Fe++)if(Ne[Fe]!==we[Fe])return!1;return!0},x.isAscii=function nt(Ne){return/^[\x00-\x7F]*$/.test(Ne)},x.objectFromMap=function Qe(Ne){const we=Object.create(null);for(const[Fe,rt]of Ne)we[Fe]=rt;return we},x.objectSize=function Ye(Ne){return Object.keys(Ne).length},x.setVerbosityLevel=function oe(Ne){Number.isInteger(Ne)&&(S=Ne)},x.shadow=it,x.string32=function Be(Ne){return String.fromCharCode(Ne>>24&255,Ne>>16&255,Ne>>8&255,255&Ne)},x.stringToBytes=je,x.stringToPDFString=function Ot(Ne){if(Ne[0]>="\xef"){let Fe;if("\xfe"===Ne[0]&&"\xff"===Ne[1]?Fe="utf-16be":"\xff"===Ne[0]&&"\xfe"===Ne[1]?Fe="utf-16le":"\xef"===Ne[0]&&"\xbb"===Ne[1]&&"\xbf"===Ne[2]&&(Fe="utf-8"),Fe)try{const rt=new TextDecoder(Fe,{fatal:!0}),vt=je(Ne);return rt.decode(vt)}catch(rt){me(`stringToPDFString: "${rt}".`)}}const we=[];for(let Fe=0,rt=Ne.length;Fe<rt;Fe++){const vt=Rt[Ne.charCodeAt(Fe)];we.push(vt?String.fromCharCode(vt):Ne.charAt(Fe))}return we.join("")},x.stringToUTF16BEString=function dt(Ne){const we=["\xfe\xff"];for(let Fe=0,rt=Ne.length;Fe<rt;Fe++){const vt=Ne.charCodeAt(Fe);we.push(String.fromCharCode(vt>>8&255),String.fromCharCode(255&vt))}return we.join("")},x.stringToUTF8String=Pt,x.unreachable=ye,x.utf8StringToString=function Ze(Ne){return unescape(encodeURIComponent(Ne))},x.warn=me,R(2),x.IDENTITY_MATRIX=[1,0,0,1,0,0],x.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],x.RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},x.AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},x.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},x.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},x.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},x.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},x.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},x.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},x.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},x.AnnotationReplyType={GROUP:"Group",REPLY:"R"},x.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},x.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},x.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},x.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},x.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},x.PageActionEventType={O:"PageOpen",C:"PageClose"},x.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},x.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const F={ERRORS:0,WARNINGS:1,INFOS:5};x.VerbosityLevel=F,x.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},x.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},x.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"},x.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let S=F.WARNINGS;function me(Ne){S>=F.WARNINGS&&console.log(`Warning: ${Ne}`)}function ye(Ne){throw new Error(Ne)}function it(Ne,we,Fe){return Object.defineProperty(Ne,we,{value:Fe,enumerable:!0,configurable:!0,writable:!1}),Fe}const ve=function(){function we(Fe,rt){this.constructor===we&&ye("Cannot initialize BaseException."),this.message=Fe,this.name=rt}return we.prototype=new Error,we.constructor=we,we}();function je(Ne){"string"!=typeof Ne&&ye("Invalid argument for stringToBytes");const we=Ne.length,Fe=new Uint8Array(we);for(let rt=0;rt<we;++rt)Fe[rt]=255&Ne.charCodeAt(rt);return Fe}function Pe(Ne){return void 0!==Ne.length?Ne.length:void 0!==Ne.byteLength?Ne.byteLength:void ye("Invalid argument for arrayByteLength")}x.BaseException=ve,x.PasswordException=class I extends ve{constructor(we,Fe){super(we,"PasswordException"),this.code=Fe}},x.UnknownErrorException=class b extends ve{constructor(we,Fe){super(we,"UnknownErrorException"),this.details=Fe}},x.InvalidPDFException=class P extends ve{constructor(we){super(we,"InvalidPDFException")}},x.MissingPDFException=class L extends ve{constructor(we){super(we,"MissingPDFException")}},x.UnexpectedResponseException=class Q extends ve{constructor(we,Fe){super(we,"UnexpectedResponseException"),this.status=Fe}},x.FormatError=class ne extends ve{constructor(we){super(we,"FormatError")}},x.AbortException=class U extends ve{constructor(we){super(we,"AbortException")}},x.FeatureTest=class lt{static get isLittleEndian(){return it(this,"isLittleEndian",function gt(){const Ne=new Uint8Array(4);return Ne[0]=1,1===new Uint32Array(Ne.buffer,0,1)[0]}())}static get isEvalSupported(){return it(this,"isEvalSupported",function Tt(){try{return new Function(""),!0}catch{return!1}}())}static get isOffscreenCanvasSupported(){return it(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}};const yt=[...Array(256).keys()].map(Ne=>Ne.toString(16).padStart(2,"0"));class ct{static makeHexColor(we,Fe,rt){return`#${yt[we]}${yt[Fe]}${yt[rt]}`}static scaleMinMax(we,Fe){let rt;we[0]?(we[0]<0&&(rt=Fe[0],Fe[0]=Fe[1],Fe[1]=rt),Fe[0]*=we[0],Fe[1]*=we[0],we[3]<0&&(rt=Fe[2],Fe[2]=Fe[3],Fe[3]=rt),Fe[2]*=we[3],Fe[3]*=we[3]):(rt=Fe[0],Fe[0]=Fe[2],Fe[2]=rt,rt=Fe[1],Fe[1]=Fe[3],Fe[3]=rt,we[1]<0&&(rt=Fe[2],Fe[2]=Fe[3],Fe[3]=rt),Fe[2]*=we[1],Fe[3]*=we[1],we[2]<0&&(rt=Fe[0],Fe[0]=Fe[1],Fe[1]=rt),Fe[0]*=we[2],Fe[1]*=we[2]),Fe[0]+=we[4],Fe[1]+=we[4],Fe[2]+=we[5],Fe[3]+=we[5]}static transform(we,Fe){return[we[0]*Fe[0]+we[2]*Fe[1],we[1]*Fe[0]+we[3]*Fe[1],we[0]*Fe[2]+we[2]*Fe[3],we[1]*Fe[2]+we[3]*Fe[3],we[0]*Fe[4]+we[2]*Fe[5]+we[4],we[1]*Fe[4]+we[3]*Fe[5]+we[5]]}static applyTransform(we,Fe){return[we[0]*Fe[0]+we[1]*Fe[2]+Fe[4],we[0]*Fe[1]+we[1]*Fe[3]+Fe[5]]}static applyInverseTransform(we,Fe){const rt=Fe[0]*Fe[3]-Fe[1]*Fe[2];return[(we[0]*Fe[3]-we[1]*Fe[2]+Fe[2]*Fe[5]-Fe[4]*Fe[3])/rt,(-we[0]*Fe[1]+we[1]*Fe[0]+Fe[4]*Fe[1]-Fe[5]*Fe[0])/rt]}static getAxialAlignedBoundingBox(we,Fe){const rt=ct.applyTransform(we,Fe),vt=ct.applyTransform(we.slice(2,4),Fe),Yt=ct.applyTransform([we[0],we[3]],Fe),Ke=ct.applyTransform([we[2],we[1]],Fe);return[Math.min(rt[0],vt[0],Yt[0],Ke[0]),Math.min(rt[1],vt[1],Yt[1],Ke[1]),Math.max(rt[0],vt[0],Yt[0],Ke[0]),Math.max(rt[1],vt[1],Yt[1],Ke[1])]}static inverseTransform(we){const Fe=we[0]*we[3]-we[1]*we[2];return[we[3]/Fe,-we[1]/Fe,-we[2]/Fe,we[0]/Fe,(we[2]*we[5]-we[4]*we[3])/Fe,(we[4]*we[1]-we[5]*we[0])/Fe]}static apply3dTransform(we,Fe){return[we[0]*Fe[0]+we[1]*Fe[1]+we[2]*Fe[2],we[3]*Fe[0]+we[4]*Fe[1]+we[5]*Fe[2],we[6]*Fe[0]+we[7]*Fe[1]+we[8]*Fe[2]]}static singularValueDecompose2dScale(we){const Fe=[we[0],we[2],we[1],we[3]],rt=we[0]*Fe[0]+we[1]*Fe[2],Ke=we[2]*Fe[1]+we[3]*Fe[3],Ee=(rt+Ke)/2,Te=Math.sqrt((rt+Ke)**2-4*(rt*Ke-(we[2]*Fe[0]+we[3]*Fe[2])*(we[0]*Fe[1]+we[1]*Fe[3])))/2,Ae=Ee-Te||1;return[Math.sqrt(Ee+Te||1),Math.sqrt(Ae)]}static normalizeRect(we){const Fe=we.slice(0);return we[0]>we[2]&&(Fe[0]=we[2],Fe[2]=we[0]),we[1]>we[3]&&(Fe[1]=we[3],Fe[3]=we[1]),Fe}static intersect(we,Fe){const rt=Math.max(Math.min(we[0],we[2]),Math.min(Fe[0],Fe[2])),vt=Math.min(Math.max(we[0],we[2]),Math.max(Fe[0],Fe[2]));if(rt>vt)return null;const Yt=Math.max(Math.min(we[1],we[3]),Math.min(Fe[1],Fe[3])),Ke=Math.min(Math.max(we[1],we[3]),Math.max(Fe[1],Fe[3]));return Yt>Ke?null:[rt,Yt,vt,Ke]}static bezierBoundingBox(we,Fe,rt,vt,Yt,Ke,Ee,Te){const De=[],Ae=[[],[]];let ke,We,at,Dt,Jt,nn,On,tn;for(let Rn=0;Rn<2;++Rn)if(0===Rn?(We=6*we-12*rt+6*Yt,ke=-3*we+9*rt-9*Yt+3*Ee,at=3*rt-3*we):(We=6*Fe-12*vt+6*Ke,ke=-3*Fe+9*vt-9*Ke+3*Te,at=3*vt-3*Fe),Math.abs(ke)<1e-12){if(Math.abs(We)<1e-12)continue;Dt=-at/We,0<Dt&&Dt<1&&De.push(Dt)}else On=We*We-4*at*ke,tn=Math.sqrt(On),!(On<0)&&(Jt=(-We+tn)/(2*ke),0<Jt&&Jt<1&&De.push(Jt),nn=(-We-tn)/(2*ke),0<nn&&nn<1&&De.push(nn));let wn,rn=De.length;const Sn=rn;for(;rn--;)Dt=De[rn],wn=1-Dt,Ae[0][rn]=wn*wn*wn*we+3*wn*wn*Dt*rt+3*wn*Dt*Dt*Yt+Dt*Dt*Dt*Ee,Ae[1][rn]=wn*wn*wn*Fe+3*wn*wn*Dt*vt+3*wn*Dt*Dt*Ke+Dt*Dt*Dt*Te;return Ae[0][Sn]=we,Ae[1][Sn]=Fe,Ae[0][Sn+1]=Ee,Ae[1][Sn+1]=Te,Ae[0].length=Ae[1].length=Sn+2,[Math.min(...Ae[0]),Math.min(...Ae[1]),Math.max(...Ae[0]),Math.max(...Ae[1])]}}x.Util=ct;const Rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Pt(Ne){return decodeURIComponent(escape(Ne))}},(Ie,x,R)=>{R(3)},(Ie,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.isNodeJS=void 0;const R=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);x.isNodeJS=R},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_display_utils=__w_pdfjs_require__(5),_font_loader=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(13),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(14),_metadata=__w_pdfjs_require__(15),_optional_content_config=__w_pdfjs_require__(16),_transport_stream=__w_pdfjs_require__(17),_xfa_text=__w_pdfjs_require__(18);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100;let DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory,createPDFNetworkStream;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){const{NodeCanvasFactory:Ie,NodeCMapReaderFactory:x,NodeStandardFontDataFactory:R}=__w_pdfjs_require__(19);exports.DefaultCanvasFactory=DefaultCanvasFactory=Ie,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=x,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=R}function setPDFNetworkStreamFactory(Ie){createPDFNetworkStream=Ie}function getDocument(Ie){const x=new PDFDocumentLoadingTask;let R;if("string"==typeof Ie||Ie instanceof URL)R={url:Ie};else if((0,_util.isArrayBuffer)(Ie))R={data:Ie};else if(Ie instanceof PDFDataRangeTransport)R={range:Ie};else{if("object"!=typeof Ie)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!Ie.url&&!Ie.data&&!Ie.range)throw new Error("Invalid parameter object: need either .data, .range or .url");R=Ie}const s=Object.create(null);let te=null,O=null;for(const ie in R){const re=R[ie];switch(ie){case"url":if(typeof window<"u")try{s[ie]=new URL(re,window.location).href;continue}catch(B){(0,_util.warn)(`Cannot create valid URL: "${B}".`)}else if("string"==typeof re||re instanceof URL){s[ie]=re.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":te=re;continue;case"worker":O=re;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&re instanceof Buffer)s[ie]=new Uint8Array(re);else{if(re instanceof Uint8Array)break;if("string"==typeof re)s[ie]=(0,_util.stringToBytes)(re);else if("object"!=typeof re||null===re||isNaN(re.length)){if(!(0,_util.isArrayBuffer)(re))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");s[ie]=new Uint8Array(re)}else s[ie]=new Uint8Array(re)}continue}s[ie]=re}if(s.CMapReaderFactory=s.CMapReaderFactory||DefaultCMapReaderFactory,s.StandardFontDataFactory=s.StandardFontDataFactory||DefaultStandardFontDataFactory,s.ignoreErrors=!0!==s.stopAtErrors,s.fontExtraProperties=!0===s.fontExtraProperties,s.pdfBug=!0===s.pdfBug,s.enableXfa=!0===s.enableXfa,(!Number.isInteger(s.rangeChunkSize)||s.rangeChunkSize<1)&&(s.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),("string"!=typeof s.docBaseUrl||(0,_display_utils.isDataScheme)(s.docBaseUrl))&&(s.docBaseUrl=null),(!Number.isInteger(s.maxImageSize)||s.maxImageSize<-1)&&(s.maxImageSize=-1),"string"!=typeof s.cMapUrl&&(s.cMapUrl=null),"string"!=typeof s.standardFontDataUrl&&(s.standardFontDataUrl=null),"boolean"!=typeof s.useWorkerFetch&&(s.useWorkerFetch=s.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&s.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),"boolean"!=typeof s.isEvalSupported&&(s.isEvalSupported=!0),"boolean"!=typeof s.disableFontFace&&(s.disableFontFace=_is_node.isNodeJS),"boolean"!=typeof s.useSystemFonts&&(s.useSystemFonts=!_is_node.isNodeJS&&!s.disableFontFace),("object"!=typeof s.ownerDocument||null===s.ownerDocument)&&(s.ownerDocument=globalThis.document),"boolean"!=typeof s.disableRange&&(s.disableRange=!1),"boolean"!=typeof s.disableStream&&(s.disableStream=!1),"boolean"!=typeof s.disableAutoFetch&&(s.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(s.verbosity),!O){const ie={verbosity:s.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};O=ie.port?_PDFWorker.fromPort(ie):new _PDFWorker(ie),x._worker=O}const pe=x.docId;return O.promise.then(function(){if(x.destroyed)throw new Error("Loading aborted");const ie=_fetchDocument(O,s,te,pe),re=new Promise(function(B){let ce;te?ce=new _transport_stream.PDFDataTransportStream({length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,contentDispositionFilename:s.contentDispositionFilename,disableRange:s.disableRange,disableStream:s.disableStream},te):s.data||(ce=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream})),B(ce)});return Promise.all([ie,re]).then(function([B,ce]){if(x.destroyed)throw new Error("Loading aborted");const he=new _message_handler.MessageHandler(pe,B,O.port),ee=new WorkerTransport(he,x,ce,s);x._transport=ee,he.send("Ready",null)})}).catch(x._capability.reject),x}function _fetchDocument(Ie,x,R,s){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){return(_fetchDocument2=_asyncToGenerator(function*(Ie,x,R,s){if(Ie.destroyed)throw new Error("Worker was destroyed");R&&(x.length=R.length,x.initialData=R.initialData,x.progressiveDone=R.progressiveDone,x.contentDispositionFilename=R.contentDispositionFilename);const te=yield Ie.messageHandler.sendWithPromise("GetDocRequest",{docId:s,apiVersion:"2.14.305",source:{data:x.data,url:x.url,password:x.password,disableAutoFetch:x.disableAutoFetch,rangeChunkSize:x.rangeChunkSize,length:x.length},maxImageSize:x.maxImageSize,disableFontFace:x.disableFontFace,docBaseUrl:x.docBaseUrl,ignoreErrors:x.ignoreErrors,isEvalSupported:x.isEvalSupported,fontExtraProperties:x.fontExtraProperties,enableXfa:x.enableXfa,useSystemFonts:x.useSystemFonts,cMapUrl:x.useWorkerFetch?x.cMapUrl:null,standardFontDataUrl:x.useWorkerFetch?x.standardFontDataUrl:null});if(Ie.destroyed)throw new Error("Worker was destroyed");return te})).apply(this,arguments)}class PDFDocumentLoadingTask{constructor(){var x,R;this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${_classStaticPrivateFieldSpecSet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId,(x=_classStaticPrivateFieldSpecGet(PDFDocumentLoadingTask,PDFDocumentLoadingTask,_docId),R=x++,x)),R}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){var x=this;return _asyncToGenerator(function*(){x.destroyed=!0,yield x._transport?.destroy(),x._transport=null,x._worker&&(x._worker.destroy(),x._worker=null)})()}}var _docId={writable:!0,value:0};exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(x,R,s=!1,te=null){this.length=x,this.initialData=R,this.progressiveDone=s,this.contentDispositionFilename=te,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(x){this._rangeListeners.push(x)}addProgressListener(x){this._progressListeners.push(x)}addProgressiveReadListener(x){this._progressiveReadListeners.push(x)}addProgressiveDoneListener(x){this._progressiveDoneListeners.push(x)}onDataRange(x,R){for(const s of this._rangeListeners)s(x,R)}onDataProgress(x,R){this._readyCapability.promise.then(()=>{for(const s of this._progressListeners)s(x,R)})}onDataProgressiveRead(x){this._readyCapability.promise.then(()=>{for(const R of this._progressiveReadListeners)R(x)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const x of this._progressiveDoneListeners)x()})}transportReady(){this._readyCapability.resolve()}requestDataRange(x,R){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(x,R){var te,s=this;this._pdfInfo=x,this._transport=R,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:(te=_asyncToGenerator(function*(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),s.stats||{streamTypes:{},fontTypes:{}}}),function(){return te.apply(this,arguments)})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(x){return this._transport.getPage(x)}getPageIndex(x){return this._transport.getPageIndex(x)}getDestinations(){return this._transport.getDestinations()}getDestination(x){return this._transport.getDestination(x)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(x=!1){return this._transport.startCleanup(x||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(x,R,s,te,O=!1){this._pageIndex=x,this._pageInfo=R,this._ownerDocument=te,this._transport=s,this._stats=O?new _display_utils.StatTimer:null,this._pdfBug=O,this.commonObjs=s.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:x,rotation:R=this.rotate,offsetX:s=0,offsetY:te=0,dontFlip:O=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:x,rotation:R,offsetX:s,offsetY:te,dontFlip:O})}getAnnotations({intent:x="display"}={}){const R=this._transport.getRenderingIntent(x);let s=this._annotationPromises.get(R.cacheKey);return s||(s=this._transport.getAnnotations(this._pageIndex,R.renderingIntent),this._annotationPromises.set(R.cacheKey,s),s=s.then(te=>{for(const O of te)void 0!==O.titleObj&&Object.defineProperty(O,"title",{get:()=>((0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),O.titleObj.str)}),void 0!==O.contentsObj&&Object.defineProperty(O,"contents",{get:()=>((0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),O.contentsObj.str)});return te})),s}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){var x=this;return _asyncToGenerator(function*(){return x._transport._htmlForXfa?.children[x._pageIndex]||null})()}render({canvasContext:x,viewport:R,intent:s="display",annotationMode:te=_util.AnnotationMode.ENABLE,transform:O=null,imageLayer:pe=null,canvasFactory:ie=null,background:re=null,optionalContentConfigPromise:B=null,annotationCanvasMap:ce=null,pageColors:he=null}){void 0!==arguments[0]?.renderInteractiveForms&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),!0===arguments[0].renderInteractiveForms&&te===_util.AnnotationMode.ENABLE&&(te=_util.AnnotationMode.ENABLE_FORMS)),void 0!==arguments[0]?.includeAnnotationStorage&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),!0===arguments[0].includeAnnotationStorage&&te===_util.AnnotationMode.ENABLE&&(te=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");const ee=this._transport.getRenderingIntent(s,te);this.pendingCleanup=!1,B||(B=this._transport.getOptionalContentConfig());let Y=this._intentStates.get(ee.cacheKey);Y||(Y=Object.create(null),this._intentStates.set(ee.cacheKey,Y)),Y.streamReaderCancelTimeout&&(clearTimeout(Y.streamReaderCancelTimeout),Y.streamReaderCancelTimeout=null);const se=ie||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),$=!!(ee.renderingIntent&_util.RenderingIntentFlag.PRINT);Y.displayReadyCapability||(Y.displayReadyCapability=(0,_util.createPromiseCapability)(),Y.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(ee));const ae=z=>{Y.renderTasks.delete(q),(this.cleanupAfterRender||$)&&(this.pendingCleanup=!0),this._tryCleanup(),z?(q.capability.reject(z),this._abortOperatorList({intentState:Y,reason:z instanceof Error?z:new Error(z)})):q.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},q=new InternalRenderTask({callback:ae,params:{canvasContext:x,viewport:R,transform:O,imageLayer:pe,background:re},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ce,operatorList:Y.operatorList,pageIndex:this._pageIndex,canvasFactory:se,useRequestAnimationFrame:!$,pdfBug:this._pdfBug,pageColors:he});(Y.renderTasks||(Y.renderTasks=new Set)).add(q);const fe=q.task;return Promise.all([Y.displayReadyCapability.promise,B]).then(([z,K])=>{this.pendingCleanup?ae():(this._stats&&this._stats.time("Rendering"),q.initializeGraphics({transparency:z,optionalContentConfig:K}),q.operatorListChanged())}).catch(ae),fe}getOperatorList({intent:x="display",annotationMode:R=_util.AnnotationMode.ENABLE}={}){const te=this._transport.getRenderingIntent(x,R,!0);let pe,O=this._intentStates.get(te.cacheKey);return O||(O=Object.create(null),this._intentStates.set(te.cacheKey,O)),O.opListReadCapability||(pe=Object.create(null),pe.operatorListChanged=function s(){O.operatorList.lastChunk&&(O.opListReadCapability.resolve(O.operatorList),O.renderTasks.delete(pe))},O.opListReadCapability=(0,_util.createPromiseCapability)(),(O.renderTasks||(O.renderTasks=new Set)).add(pe),O.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(te)),O.opListReadCapability.promise}streamTextContent({disableCombineTextItems:x=!1,includeMarkedContent:R=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:!0!==x,includeMarkedContent:!0===R},{highWaterMark:100,size:te=>te.items.length})}getTextContent(x={}){if(this._transport._htmlForXfa)return this.getXfa().then(s=>_xfa_text.XfaText.textContent(s));const R=this.streamTextContent(x);return new Promise(function(s,te){const pe=R.getReader(),ie={items:[],styles:Object.create(null)};!function O(){pe.read().then(function({value:re,done:B}){B?s(ie):(Object.assign(ie.styles,re.styles),ie.items.push(...re.items),O())},te)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0;const x=[];for(const R of this._intentStates.values())if(this._abortOperatorList({intentState:R,reason:new Error("Page was destroyed."),force:!0}),!R.opListReadCapability)for(const s of R.renderTasks)x.push(s.completed),s.cancel();this.objs.clear();for(const R of this._bitmaps)R.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(x)}cleanup(x=!1){return this.pendingCleanup=!0,this._tryCleanup(x)}_tryCleanup(x=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:R,operatorList:s}of this._intentStates.values())if(R.size>0||!s.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,x&&this._stats&&(this._stats=new _display_utils.StatTimer);for(const R of this._bitmaps)R.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(x,R){const s=this._intentStates.get(R);!s||(this._stats&&this._stats.timeEnd("Page Request"),s.displayReadyCapability&&s.displayReadyCapability.resolve(x))}_renderPageChunk(x,R){for(let s=0,te=x.length;s<te;s++)R.operatorList.fnArray.push(x.fnArray[s]),R.operatorList.argsArray.push(x.argsArray[s]);R.operatorList.lastChunk=x.lastChunk;for(const s of R.renderTasks)s.operatorListChanged();x.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:x,cacheKey:R}){const te=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:x,cacheKey:R,annotationStorage:x&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null}).getReader(),O=this._intentStates.get(R);O.streamReader=te;const pe=()=>{te.read().then(({value:ie,done:re})=>{re?O.streamReader=null:this._transport.destroyed||(this._renderPageChunk(ie,O),pe())},ie=>{if(O.streamReader=null,!this._transport.destroyed){if(O.operatorList){O.operatorList.lastChunk=!0;for(const re of O.renderTasks)re.operatorListChanged();this._tryCleanup()}if(O.displayReadyCapability)O.displayReadyCapability.reject(ie);else{if(!O.opListReadCapability)throw ie;O.opListReadCapability.reject(ie)}}})};pe()}_abortOperatorList({intentState:x,reason:R,force:s=!1}){if(x.streamReader){if(!s){if(x.renderTasks.size>0)return;if(R instanceof _display_utils.RenderingCancelledException)return void(x.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:x,reason:R,force:!0}),x.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(x.streamReader.cancel(new _util.AbortException(R.message)).catch(()=>{}),x.streamReader=null,!this._transport.destroyed){for(const[te,O]of this._intentStates)if(O===x){this._intentStates.delete(te);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(x,R){const s={data:structuredClone(x,R)};this._deferred.then(()=>{for(const te of this._listeners)te.call(this,s)})}addEventListener(x,R){this._listeners.push(R)}removeEventListener(x,R){const s=this._listeners.indexOf(R);this._listeners.splice(s,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};if(exports.PDFWorkerUtil=PDFWorkerUtil,_is_node.isNodeJS)PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document){const Ie=document?.currentScript?.src;Ie&&(PDFWorkerUtil.fallbackWorkerSrc=Ie.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(Ie,x){let R;try{if(R=new URL(Ie),!R.origin||"null"===R.origin)return!1}catch{return!1}const s=new URL(x,R);return R.origin===s.origin},PDFWorkerUtil.createCDNWrapper=function(Ie){return URL.createObjectURL(new Blob([`importScripts("${Ie}");`]))};class _PDFWorker{constructor({name:Ie=null,port:x=null,verbosity:R=(0,_util.getVerbosityLevel)()}={}){if(x&&_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).has(x))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=Ie,this.destroyed=!1,this.verbosity=R,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,x)return _classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).set(x,this),void this._initializeFromPort(x);this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(Ie){this._port=Ie,this._messageHandler=new _message_handler.MessageHandler("main","worker",Ie),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!PDFWorkerUtil.isWorkerDisabled&&!_PDFWorker._mainThreadWorkerMessageHandler){let Ie=_PDFWorker.workerSrc;try{PDFWorkerUtil.isSameOrigin(window.location.href,Ie)||(Ie=PDFWorkerUtil.createCDNWrapper(new URL(Ie,window.location).href));const x=new Worker(Ie),R=new _message_handler.MessageHandler("main","worker",x),s=()=>{x.removeEventListener("error",te),R.destroy(),x.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},te=()=>{this._webWorker||s()};x.addEventListener("error",te),R.on("test",pe=>{x.removeEventListener("error",te),this.destroyed?s():pe?(this._messageHandler=R,this._port=x,this._webWorker=x,this._readyCapability.resolve(),R.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),R.destroy(),x.terminate())}),R.on("ready",pe=>{if(x.removeEventListener("error",te),this.destroyed)s();else try{O()}catch{this._setupFakeWorker()}});const O=()=>{const pe=new Uint8Array;R.send("test",pe,[pe.buffer])};return void O()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),_PDFWorker._setupFakeWorkerGlobal.then(Ie=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const x=new LoopbackPort;this._port=x;const R="fake"+PDFWorkerUtil.fakeWorkerId++,s=new _message_handler.MessageHandler(R+"_worker",R,x);Ie.setup(s,x);const te=new _message_handler.MessageHandler(R,R+"_worker",x);this._messageHandler=te,this._readyCapability.resolve(),te.send("configure",{verbosity:this.verbosity})}).catch(Ie=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${Ie.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),_classStaticPrivateFieldSpecGet(_PDFWorker,_PDFWorker,_workerPorts).delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(Ie){if(!Ie?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return _classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).has(Ie.port)?_classStaticPrivateFieldSpecGet(this,_PDFWorker,_workerPorts).get(Ie.port):new _PDFWorker(Ie)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(null!==PDFWorkerUtil.fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){var _this4=this;const loader=function(){var _ref2=_asyncToGenerator(function*(){const mainWorkerMessageHandler=_this4._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS){const worker=eval("require")(_this4.workerSrc);return worker.WorkerMessageHandler}return yield(0,_display_utils.loadScript)(_this4.workerSrc),window.pdfjsWorker.WorkerMessageHandler});return function Ie(){return _ref2.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}var _workerPorts={writable:!0,value:new WeakMap};exports.PDFWorker=_PDFWorker,_PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};var _docStats=new WeakMap,_pageCache=new WeakMap,_pagePromises=new WeakMap,_metadataPromise=new WeakMap;class WorkerTransport{constructor(x,R,s,te){_classPrivateFieldInitSpec(this,_docStats,{writable:!0,value:null}),_classPrivateFieldInitSpec(this,_pageCache,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_pagePromises,{writable:!0,value:new Map}),_classPrivateFieldInitSpec(this,_metadataPromise,{writable:!0,value:null}),this.messageHandler=x,this.loadingTask=R,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:R.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:te.ownerDocument,styleElement:te.styleElement}),this._params=te,te.useWorkerFetch||(this.CMapReaderFactory=new te.CMapReaderFactory({baseUrl:te.cMapUrl,isCompressed:te.cMapPacked}),this.StandardFontDataFactory=new te.StandardFontDataFactory({baseUrl:te.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=s,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return _classPrivateFieldGet(this,_docStats)}getRenderingIntent(x,R=_util.AnnotationMode.ENABLE,s=!1){let te=_util.RenderingIntentFlag.DISPLAY,O="";switch(x){case"any":te=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":te=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${x}`)}switch(R){case _util.AnnotationMode.DISABLE:te+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:te+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:te+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,O=this.annotationStorage.hash;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${R}`)}return s&&(te+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:te,cacheKey:`${te}_${O}`}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const x=[];for(const s of _classPrivateFieldGet(this,_pageCache).values())x.push(s._destroy());_classPrivateFieldGet(this,_pageCache).clear(),_classPrivateFieldGet(this,_pagePromises).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const R=this.messageHandler.sendWithPromise("Terminate",null);return x.push(R),Promise.all(x).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),_classPrivateFieldSet(this,_metadataPromise,null),this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:x,loadingTask:R}=this;x.on("GetReader",(s,te)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=O=>{this._lastProgress={loaded:O.loaded,total:O.total}},te.onPull=()=>{this._fullReader.read().then(function({value:O,done:pe}){pe?te.close():((0,_util.assert)((0,_util.isArrayBuffer)(O),"GetReader - expected an ArrayBuffer."),te.enqueue(new Uint8Array(O),1,[O]))}).catch(O=>{te.error(O)})},te.onCancel=O=>{this._fullReader.cancel(O),te.ready.catch(pe=>{if(!this.destroyed)throw pe})}}),x.on("ReaderHeadersReady",s=>{const te=(0,_util.createPromiseCapability)(),O=this._fullReader;return O.headersReady.then(()=>{(!O.isStreamingSupported||!O.isRangeSupported)&&(this._lastProgress&&R.onProgress?.(this._lastProgress),O.onProgress=pe=>{R.onProgress?.({loaded:pe.loaded,total:pe.total})}),te.resolve({isStreamingSupported:O.isStreamingSupported,isRangeSupported:O.isRangeSupported,contentLength:O.contentLength})},te.reject),te.promise}),x.on("GetRangeReader",(s,te)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const O=this._networkStream.getRangeReader(s.begin,s.end);O?(te.onPull=()=>{O.read().then(function({value:pe,done:ie}){ie?te.close():((0,_util.assert)((0,_util.isArrayBuffer)(pe),"GetRangeReader - expected an ArrayBuffer."),te.enqueue(new Uint8Array(pe),1,[pe]))}).catch(pe=>{te.error(pe)})},te.onCancel=pe=>{O.cancel(pe),te.ready.catch(ie=>{if(!this.destroyed)throw ie})}):te.close()}),x.on("GetDoc",({pdfInfo:s})=>{this._numPages=s.numPages,this._htmlForXfa=s.htmlForXfa,delete s.htmlForXfa,R._capability.resolve(new PDFDocumentProxy(s,this))}),x.on("DocException",function(s){let te;switch(s.name){case"PasswordException":te=new _util.PasswordException(s.message,s.code);break;case"InvalidPDFException":te=new _util.InvalidPDFException(s.message);break;case"MissingPDFException":te=new _util.MissingPDFException(s.message);break;case"UnexpectedResponseException":te=new _util.UnexpectedResponseException(s.message,s.status);break;case"UnknownErrorException":te=new _util.UnknownErrorException(s.message,s.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}R._capability.reject(te)}),x.on("PasswordRequest",s=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),R.onPassword){const te=O=>{O instanceof Error?this._passwordCapability.reject(O):this._passwordCapability.resolve({password:O})};try{R.onPassword(te,s.code)}catch(O){this._passwordCapability.reject(O)}}else this._passwordCapability.reject(new _util.PasswordException(s.message,s.code));return this._passwordCapability.promise}),x.on("DataLoaded",s=>{R.onProgress?.({loaded:s.length,total:s.length}),this.downloadInfoCapability.resolve(s)}),x.on("StartRenderPage",s=>{this.destroyed||_classPrivateFieldGet(this,_pageCache).get(s.pageIndex)._startRenderPage(s.transparency,s.cacheKey)}),x.on("commonobj",([s,te,O])=>{if(!this.destroyed&&!this.commonObjs.has(s))switch(te){case"Font":const pe=this._params;if("error"in O){const B=O.error;(0,_util.warn)(`Error during font loading: ${B}`),this.commonObjs.resolve(s,B);break}let ie=null;pe.pdfBug&&globalThis.FontInspector?.enabled&&(ie={registerFont(B,ce){globalThis.FontInspector.fontAdded(B,ce)}});const re=new _font_loader.FontFaceObject(O,{isEvalSupported:pe.isEvalSupported,disableFontFace:pe.disableFontFace,ignoreErrors:pe.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:ie});this.fontLoader.bind(re).catch(B=>x.sendWithPromise("FontFallback",{id:s})).finally(()=>{!pe.fontExtraProperties&&re.data&&(re.data=null),this.commonObjs.resolve(s,re)});break;case"FontPath":case"Image":this.commonObjs.resolve(s,O);break;default:throw new Error(`Got unknown common object type ${te}`)}}),x.on("obj",([s,te,O,pe])=>{if(this.destroyed)return;const ie=_classPrivateFieldGet(this,_pageCache).get(te);if(!ie.objs.has(s))switch(O){case"Image":ie.objs.resolve(s,pe);const re=8e6;if(pe){let B;if(pe.bitmap){const{bitmap:ce,width:he,height:ee}=pe;B=he*ee*4,ie._bitmaps.add(ce)}else B=pe.data?.length||0;B>re&&(ie.cleanupAfterRender=!0)}break;case"Pattern":ie.objs.resolve(s,pe);break;default:throw new Error(`Got unknown object type ${O}`)}}),x.on("DocProgress",s=>{this.destroyed||R.onProgress?.({loaded:s.loaded,total:s.total})}),x.on("DocStats",s=>{this.destroyed||_classPrivateFieldSet(this,_docStats,Object.freeze({streamTypes:Object.freeze(s.streamTypes),fontTypes:Object.freeze(s.fontTypes)}))}),x.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),x.on("FetchBuiltInCMap",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(s):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),x.on("FetchStandardFontData",s=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(s):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:x}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(x)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(x){if(!Number.isInteger(x)||x<=0||x>this._numPages)return Promise.reject(new Error("Invalid page request."));const R=x-1,s=_classPrivateFieldGet(this,_pagePromises).get(R);if(s)return s;const te=this.messageHandler.sendWithPromise("GetPage",{pageIndex:R}).then(O=>{if(this.destroyed)throw new Error("Transport destroyed");const pe=new PDFPageProxy(R,O,this,this._params.ownerDocument,this._params.pdfBug);return _classPrivateFieldGet(this,_pageCache).set(R,pe),pe});return _classPrivateFieldGet(this,_pagePromises).set(R,te),te}getPageIndex(x){return"object"!=typeof x||null===x||!Number.isInteger(x.num)||x.num<0||!Number.isInteger(x.gen)||x.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:x.num,gen:x.gen})}getAnnotations(x,R){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:x,intent:R})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(x){return"string"!=typeof x?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:x})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(x){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:x})}getStructTree(x){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:x})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(x=>new _optional_content_config.OptionalContentConfig(x))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(x=>({info:x[0],metadata:x[1]?new _metadata.Metadata(x[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null})))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}startCleanup(x=!1){var R=this;return _asyncToGenerator(function*(){if(yield R.messageHandler.sendWithPromise("Cleanup",null),!R.destroyed){for(const s of _classPrivateFieldGet(R,_pageCache).values())if(!s.cleanup())throw new Error(`startCleanup: Page ${s.pageNumber} is currently rendering.`);R.commonObjs.clear(),x||R.fontLoader.clear(),_classPrivateFieldSet(R,_metadataPromise,null),R._getFieldObjectsPromise=null,R._hasJSActionsPromise=null}})()}get loadingParams(){const x=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:x.disableAutoFetch,enableXfa:x.enableXfa})}}var _objs=new WeakMap,_ensureObj=new WeakSet;class PDFObjects{constructor(){_classPrivateMethodInitSpec(this,_ensureObj),_classPrivateFieldInitSpec(this,_objs,{writable:!0,value:Object.create(null)})}get(x,R=null){if(R){const te=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,x);return te.capability.promise.then(()=>R(te.data)),null}const s=_classPrivateFieldGet(this,_objs)[x];if(!s?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${x}.`);return s.data}has(x){return _classPrivateFieldGet(this,_objs)[x]?.capability.settled||!1}resolve(x,R=null){const s=_classPrivateMethodGet(this,_ensureObj,_ensureObj2).call(this,x);s.data=R,s.capability.resolve()}clear(){_classPrivateFieldSet(this,_objs,Object.create(null))}}function _ensureObj2(Ie){return _classPrivateFieldGet(this,_objs)[Ie]||(_classPrivateFieldGet(this,_objs)[Ie]={capability:(0,_util.createPromiseCapability)(),data:null})}class RenderTask{constructor(x){this._internalRenderTask=x,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}exports.RenderTask=RenderTask;class InternalRenderTask{constructor({callback:x,params:R,objs:s,commonObjs:te,annotationCanvasMap:O,operatorList:pe,pageIndex:ie,canvasFactory:re,useRequestAnimationFrame:B=!1,pdfBug:ce=!1,pageColors:he=null}){this.callback=x,this.params=R,this.objs=s,this.commonObjs=te,this.annotationCanvasMap=O,this.operatorListIdx=null,this.operatorList=pe,this._pageIndex=ie,this.canvasFactory=re,this._pdfBug=ce,this.pageColors=he,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===B&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=R.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:x=!1,optionalContentConfig:R}){if(this.cancelled)return;if(this._canvas){if(_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:te,transform:O,imageLayer:pe,background:ie}=this.params;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,pe,R,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:O,viewport:te,transparency:x,background:ie}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(x=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(this._canvas),this.callback(x||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}_next(){var x=this;return _asyncToGenerator(function*(){x.cancelled||(x.operatorListIdx=x.gfx.executeOperatorList(x.operatorList,x.operatorListIdx,x._continueBound,x.stepper),x.operatorListIdx===x.operatorList.argsArray.length&&(x.running=!1,x.operatorList.lastChunk&&(x.gfx.endDrawing(),x._canvas&&_classStaticPrivateFieldSpecGet(InternalRenderTask,InternalRenderTask,_canvasInUse).delete(x._canvas),x.callback())))})()}}var _canvasInUse={writable:!0,value:new WeakSet};const version="2.14.305";exports.version=version;const build="eaaa8b4ad";exports.build=build},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.StatTimer=x.RenderingCancelledException=x.PixelsPerInch=x.PageViewport=x.PDFDateString=x.DOMStandardFontDataFactory=x.DOMSVGFactory=x.DOMCanvasFactory=x.DOMCMapReaderFactory=void 0,x.deprecated=function A(J){console.log("Deprecated API usage: "+J)},x.getFilenameFromUrl=function q(J){const G=J.indexOf("#"),S=J.indexOf("?"),oe=Math.min(G>0?G:J.length,S>0?S:J.length);return J.substring(J.lastIndexOf("/",oe)+1,oe)},x.getPdfFilenameFromUrl=function fe(J,G="document.pdf"){if("string"!=typeof J)return G;if($(J))return(0,te.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),G;const oe=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,W=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(J);let le=oe.exec(W[1])||oe.exec(W[2])||oe.exec(W[3]);if(le&&(le=le[0],le.includes("%")))try{le=oe.exec(decodeURIComponent(le))[0]}catch{}return le||G},x.getXfaPageViewport=function N(J,{scale:G=1,rotation:S=0}){const{width:oe,height:W}=J.attributes.style,le=[0,0,parseInt(oe),parseInt(W)];return new Y({viewBox:le,scale:G,rotation:S})},x.isDataScheme=$,x.isPdfFile=function ae(J){return"string"==typeof J&&/\.pdf$/i.test(J)},x.isValidFetchUrl=K,x.loadScript=function E(J,G=!1){return new Promise((S,oe)=>{const W=document.createElement("script");W.src=J,W.onload=function(le){G&&W.remove(),S(le)},W.onerror=function(){oe(new Error(`Cannot load script at: ${W.src}`))},(document.head||document.documentElement).appendChild(W)})};var s=R(6),te=R(1);class pe{}function re(J){return B.apply(this,arguments)}function B(){return(B=_asyncToGenerator(function*(J,G=!1){if(K(J,document.baseURI)){const S=yield fetch(J);if(!S.ok)throw new Error(S.statusText);return G?new Uint8Array(yield S.arrayBuffer()):(0,te.stringToBytes)(yield S.text())}return new Promise((S,oe)=>{const W=new XMLHttpRequest;W.open("GET",J,!0),G&&(W.responseType="arraybuffer"),W.onreadystatechange=()=>{if(W.readyState===XMLHttpRequest.DONE){if(200===W.status||0===W.status){let le;if(G&&W.response?le=new Uint8Array(W.response):!G&&W.responseText&&(le=(0,te.stringToBytes)(W.responseText)),le)return void S(le)}oe(new Error(W.statusText))}},W.send(null)})})).apply(this,arguments)}_defineProperty(pe,"CSS",96),_defineProperty(pe,"PDF",72),_defineProperty(pe,"PDF_TO_CSS_UNITS",pe.CSS/pe.PDF),x.PixelsPerInch=pe,x.DOMCanvasFactory=class ie extends s.BaseCanvasFactory{constructor({ownerDocument:G=globalThis.document}={}){super(),this._document=G}_createCanvas(G,S){const oe=this._document.createElement("canvas");return oe.width=G,oe.height=S,oe}},x.DOMCMapReaderFactory=class ce extends s.BaseCMapReaderFactory{_fetchData(G,S){return re(G,this.isCompressed).then(oe=>({cMapData:oe,compressionType:S}))}},x.DOMStandardFontDataFactory=class he extends s.BaseStandardFontDataFactory{_fetchData(G){return re(G,!0)}},x.DOMSVGFactory=class ee extends s.BaseSVGFactory{_createSVG(G){return document.createElementNS("http://www.w3.org/2000/svg",G)}};class Y{constructor({viewBox:G,scale:S,rotation:oe,offsetX:W=0,offsetY:le=0,dontFlip:me=!1}){this.viewBox=G,this.scale=S,this.rotation=oe,this.offsetX=W,this.offsetY=le;const ye=(G[2]+G[0])/2,Re=(G[3]+G[1])/2;let Ve,Xe,it,ve,I,b,P,L;switch((oe%=360)<0&&(oe+=360),oe){case 180:Ve=-1,Xe=0,it=0,ve=1;break;case 90:Ve=0,Xe=1,it=1,ve=0;break;case 270:Ve=0,Xe=-1,it=-1,ve=0;break;case 0:Ve=1,Xe=0,it=0,ve=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}me&&(it=-it,ve=-ve),0===Ve?(I=Math.abs(Re-G[1])*S+W,b=Math.abs(ye-G[0])*S+le,P=Math.abs(G[3]-G[1])*S,L=Math.abs(G[2]-G[0])*S):(I=Math.abs(ye-G[0])*S+W,b=Math.abs(Re-G[1])*S+le,P=Math.abs(G[2]-G[0])*S,L=Math.abs(G[3]-G[1])*S),this.transform=[Ve*S,Xe*S,it*S,ve*S,I-Ve*S*ye-it*S*Re,b-Xe*S*ye-ve*S*Re],this.width=P,this.height=L}clone({scale:G=this.scale,rotation:S=this.rotation,offsetX:oe=this.offsetX,offsetY:W=this.offsetY,dontFlip:le=!1}={}){return new Y({viewBox:this.viewBox.slice(),scale:G,rotation:S,offsetX:oe,offsetY:W,dontFlip:le})}convertToViewportPoint(G,S){return te.Util.applyTransform([G,S],this.transform)}convertToViewportRectangle(G){const S=te.Util.applyTransform([G[0],G[1]],this.transform),oe=te.Util.applyTransform([G[2],G[3]],this.transform);return[S[0],S[1],oe[0],oe[1]]}convertToPdfPoint(G,S){return te.Util.applyInverseTransform([G,S],this.transform)}}function $(J){const G=J.length;let S=0;for(;S<G&&""===J[S].trim();)S++;return"data:"===J.substring(S,S+5).toLowerCase()}function K(J,G){try{const{protocol:S}=G?new URL(J,G):new URL(J);return"http:"===S||"https:"===S}catch{return!1}}let F;x.PageViewport=Y,x.RenderingCancelledException=class se extends te.BaseException{constructor(G,S){super(G,"RenderingCancelledException"),this.type=S}},x.StatTimer=class z{constructor(){this.started=Object.create(null),this.times=[]}time(G){G in this.started&&(0,te.warn)(`Timer is already running for ${G}`),this.started[G]=Date.now()}timeEnd(G){G in this.started||(0,te.warn)(`Timer has not been started for ${G}`),this.times.push({name:G,start:this.started[G],end:Date.now()}),delete this.started[G]}toString(){const G=[];let S=0;for(const oe of this.times){const W=oe.name;W.length>S&&(S=W.length)}for(const oe of this.times){const W=oe.end-oe.start;G.push(`${oe.name.padEnd(S)} ${W}ms\n`)}return G.join("")}},x.PDFDateString=class X{static toDateObject(G){if(!G||"string"!=typeof G)return null;F||(F=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const S=F.exec(G);if(!S)return null;const oe=parseInt(S[1],10);let W=parseInt(S[2],10);W=W>=1&&W<=12?W-1:0;let le=parseInt(S[3],10);le=le>=1&&le<=31?le:1;let me=parseInt(S[4],10);me=me>=0&&me<=23?me:0;let ye=parseInt(S[5],10);ye=ye>=0&&ye<=59?ye:0;let Re=parseInt(S[6],10);Re=Re>=0&&Re<=59?Re:0;const Ve=S[7]||"Z";let Xe=parseInt(S[8],10);Xe=Xe>=0&&Xe<=23?Xe:0;let it=parseInt(S[9],10)||0;return it=it>=0&&it<=59?it:0,"-"===Ve?(me+=Xe,ye+=it):"+"===Ve&&(me-=Xe,ye-=it),new Date(Date.UTC(oe,W,le,me,ye,Re))}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.BaseStandardFontDataFactory=x.BaseSVGFactory=x.BaseCanvasFactory=x.BaseCMapReaderFactory=void 0;var s=R(1);class te{constructor(){this.constructor===te&&(0,s.unreachable)("Cannot initialize BaseCanvasFactory.")}create(B,ce){if(B<=0||ce<=0)throw new Error("Invalid canvas size");const he=this._createCanvas(B,ce);return{canvas:he,context:he.getContext("2d")}}reset(B,ce,he){if(!B.canvas)throw new Error("Canvas is not specified");if(ce<=0||he<=0)throw new Error("Invalid canvas size");B.canvas.width=ce,B.canvas.height=he}destroy(B){if(!B.canvas)throw new Error("Canvas is not specified");B.canvas.width=0,B.canvas.height=0,B.canvas=null,B.context=null}_createCanvas(B,ce){(0,s.unreachable)("Abstract method `_createCanvas` called.")}}x.BaseCanvasFactory=te;class O{constructor({baseUrl:B=null,isCompressed:ce=!1}){this.constructor===O&&(0,s.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=B,this.isCompressed=ce}fetch({name:B}){var ce=this;return _asyncToGenerator(function*(){if(!ce.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!B)throw new Error("CMap name must be specified.");const he=ce.baseUrl+B+(ce.isCompressed?".bcmap":"");return ce._fetchData(he,ce.isCompressed?s.CMapCompressionType.BINARY:s.CMapCompressionType.NONE).catch(Y=>{throw new Error(`Unable to load ${ce.isCompressed?"binary ":""}CMap at: ${he}`)})})()}_fetchData(B,ce){(0,s.unreachable)("Abstract method `_fetchData` called.")}}x.BaseCMapReaderFactory=O;class pe{constructor({baseUrl:B=null}){this.constructor===pe&&(0,s.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=B}fetch({filename:B}){var ce=this;return _asyncToGenerator(function*(){if(!ce.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!B)throw new Error("Font filename must be specified.");const he=`${ce.baseUrl}${B}`;return ce._fetchData(he).catch(ee=>{throw new Error(`Unable to load font data at: ${he}`)})})()}_fetchData(B){(0,s.unreachable)("Abstract method `_fetchData` called.")}}x.BaseStandardFontDataFactory=pe;class ie{constructor(){this.constructor===ie&&(0,s.unreachable)("Cannot initialize BaseSVGFactory.")}create(B,ce){if(B<=0||ce<=0)throw new Error("Invalid SVG dimensions");const he=this._createSVG("svg:svg");return he.setAttribute("version","1.1"),he.setAttribute("width",`${B}px`),he.setAttribute("height",`${ce}px`),he.setAttribute("preserveAspectRatio","none"),he.setAttribute("viewBox",`0 0 ${B} ${ce}`),he}createElement(B){if("string"!=typeof B)throw new Error("Invalid SVG element type");return this._createSVG(B)}_createSVG(B){(0,s.unreachable)("Abstract method `_createSVG` called.")}}x.BaseSVGFactory=ie},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.FontLoader=x.FontFaceObject=void 0;var s=R(1);class te{constructor({docId:re,onUnsupportedFeature:B,ownerDocument:ce=globalThis.document,styleElement:he=null}){this.constructor===te&&(0,s.unreachable)("Cannot initialize BaseFontLoader."),this.docId=re,this._onUnsupportedFeature=B,this._document=ce,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(re){this.nativeFontFaces.push(re),this._document.fonts.add(re)}insertRule(re){let B=this.styleElement;B||(B=this.styleElement=this._document.createElement("style"),B.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(B));const ce=B.sheet;ce.insertRule(re,ce.cssRules.length)}clear(){for(const re of this.nativeFontFaces)this._document.fonts.delete(re);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}bind(re){var B=this;return _asyncToGenerator(function*(){if(re.attached||re.missingFile)return;if(re.attached=!0,B.isFontLoadingAPISupported){const he=re.createNativeFontFace();if(he){B.addNativeFontFace(he);try{yield he.loaded}catch(ee){throw B._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,s.warn)(`Failed to load font '${he.family}': '${ee}'.`),re.disableFontFace=!0,ee}}return}const ce=re.createFontFaceRule();if(ce){if(B.insertRule(ce),B.isSyncFontLoadingSupported)return;yield new Promise(he=>{const ee=B._queueLoadingCallback(he);B._prepareFontLoadEvent([ce],[re],ee)})}})()}_queueLoadingCallback(re){(0,s.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,s.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,s.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,s.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(re,B,ce){(0,s.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let O;x.FontLoader=O,x.FontLoader=O=class extends te{constructor(re){super(re),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let re=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(re=!0),(0,s.shadow)(this,"isSyncFontLoadingSupported",re)}_queueLoadingCallback(re){const ce=this.loadingContext,he={id:"pdfjs-font-loading-"+ce.nextRequestId++,done:!1,complete:function B(){for((0,s.assert)(!he.done,"completeRequest() cannot be called twice."),he.done=!0;ce.requests.length>0&&ce.requests[0].done;){const ee=ce.requests.shift();setTimeout(ee.callback,0)}},callback:re};return ce.requests.push(he),he}get _loadTestFont(){return(0,s.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(re,B,ce){function he(oe,W){return oe.charCodeAt(W)<<24|oe.charCodeAt(W+1)<<16|oe.charCodeAt(W+2)<<8|255&oe.charCodeAt(W+3)}function ee(oe,W,le,me){return oe.substring(0,W)+me+oe.substring(W+le)}let Y,se;const $=this._document.createElement("canvas");$.width=1,$.height=1;const ae=$.getContext("2d");let q=0;const z=`lt${Date.now()}${this.loadTestFontId++}`;let K=this._loadTestFont;K=ee(K,976,z.length,z);const F=1482184792;let X=he(K,16);for(Y=0,se=z.length-3;Y<se;Y+=4)X=X-F+he(z,Y)|0;Y<z.length&&(X=X-F+he(z+"XXX",Y)|0),K=ee(K,16,4,(0,s.string32)(X));const N=`url(data:font/opentype;base64,${btoa(K)});`;this.insertRule(`@font-face {font-family:"${z}";src:${N}}`);const G=[];for(const oe of B)G.push(oe.loadedName);G.push(z);const S=this._document.createElement("div");S.style.visibility="hidden",S.style.width=S.style.height="10px",S.style.position="absolute",S.style.top=S.style.left="0px";for(const oe of G){const W=this._document.createElement("span");W.textContent="Hi",W.style.fontFamily=oe,S.appendChild(W)}this._document.body.appendChild(S),function fe(oe,W){if(q++,q>30)return(0,s.warn)("Load test font never loaded."),void W();ae.font="30px "+oe,ae.fillText(".",0,20),ae.getImageData(0,0,1,1).data[3]>0?W():setTimeout(fe.bind(null,oe,W))}(z,()=>{S.remove(),ce.complete()})}},x.FontFaceObject=class pe{constructor(re,{isEvalSupported:B=!0,disableFontFace:ce=!1,ignoreErrors:he=!1,onUnsupportedFeature:ee,fontRegistry:Y=null}){this.compiledGlyphs=Object.create(null);for(const se in re)this[se]=re[se];this.isEvalSupported=!1!==B,this.disableFontFace=!0===ce,this.ignoreErrors=!0===he,this._onUnsupportedFeature=ee,this.fontRegistry=Y}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let re;if(this.cssFontInfo){const B={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(B.style=`oblique ${this.cssFontInfo.italicAngle}deg`),re=new FontFace(this.cssFontInfo.fontFamily,this.data,B)}else re=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),re}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const re=(0,s.bytesToString)(this.data),B=`url(data:${this.mimetype};base64,${btoa(re)});`;let ce;if(this.cssFontInfo){let he=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(he+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),ce=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${he}src:${B}}`}else ce=`@font-face {font-family:"${this.loadedName}";src:${B}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,B),ce}getPathGenerator(re,B){if(void 0!==this.compiledGlyphs[B])return this.compiledGlyphs[B];let ce;try{ce=re.get(this.loadedName+"_path_"+B)}catch(he){if(!this.ignoreErrors)throw he;return this._onUnsupportedFeature({featureId:s.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,s.warn)(`getPathGenerator - ignoring character: "${he}".`),this.compiledGlyphs[B]=function(ee,Y){}}if(this.isEvalSupported&&s.FeatureTest.isEvalSupported){const he=[];for(const ee of ce){const Y=void 0!==ee.args?ee.args.join(","):"";he.push("c.",ee.cmd,"(",Y,");\n")}return this.compiledGlyphs[B]=new Function("c","size",he.join(""))}return this.compiledGlyphs[B]=function(he,ee){for(const Y of ce)"scale"===Y.cmd&&(Y.args=[ee,-ee]),he[Y.cmd].apply(he,Y.args)}}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.AnnotationStorage=void 0;var s=R(9),te=R(1);x.AnnotationStorage=class O{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(ie,re){const B=this._storage.get(ie);return void 0===B?re:Object.assign(re,B)}getRawValue(ie){return this._storage.get(ie)}setValue(ie,re){const B=this._storage.get(ie);let ce=!1;if(void 0!==B)for(const[he,ee]of Object.entries(re))B[he]!==ee&&(ce=!0,B[he]=ee);else ce=!0,this._storage.set(ie,re);ce&&this._setModified()}getAll(){return this._storage.size>0?(0,te.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}get hash(){const ie=new s.MurmurHash3_64;for(const[re,B]of this._storage)ie.update(`${re}:${JSON.stringify(B)}`);return ie.hexdigest()}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.MurmurHash3_64=void 0;var s=R(1);const te=3285377520,O=4294901760,pe=65535;x.MurmurHash3_64=class ie{constructor(B){this.h1=B?4294967295&B:te,this.h2=B?4294967295&B:te}update(B){let ce,he;if("string"==typeof B){ce=new Uint8Array(2*B.length),he=0;for(let F=0,X=B.length;F<X;F++){const N=B.charCodeAt(F);N<=255?ce[he++]=N:(ce[he++]=N>>>8,ce[he++]=255&N)}}else{if(!(0,s.isArrayBuffer)(B))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");ce=B.slice(),he=ce.byteLength}const ee=he>>2,Y=he-4*ee,se=new Uint32Array(ce.buffer,0,ee);let $=0,ae=0,q=this.h1,fe=this.h2;const z=3432918353,K=461845907,E=z&pe,A=K&pe;for(let F=0;F<ee;F++)1&F?($=se[F],$=$*z&O|$*E&pe,$=$<<15|$>>>17,$=$*K&O|$*A&pe,q^=$,q=q<<13|q>>>19,q=5*q+3864292196):(ae=se[F],ae=ae*z&O|ae*E&pe,ae=ae<<15|ae>>>17,ae=ae*K&O|ae*A&pe,fe^=ae,fe=fe<<13|fe>>>19,fe=5*fe+3864292196);switch($=0,Y){case 3:$^=ce[4*ee+2]<<16;case 2:$^=ce[4*ee+1]<<8;case 1:$^=ce[4*ee],$=$*z&O|$*E&pe,$=$<<15|$>>>17,$=$*K&O|$*A&pe,1&ee?q^=$:fe^=$}this.h1=q,this.h2=fe}hexdigest(){let B=this.h1,ce=this.h2;B^=ce>>>1,B=3981806797*B&O|36045*B&pe,ce=4283543511*ce&O|(2950163797*(ce<<16|B>>>16)&O)>>>16,B^=ce>>>1,B=444984403*B&O|60499*B&pe,ce=3301882366*ce&O|(3120437893*(ce<<16|B>>>16)&O)>>>16,B^=ce>>>1;const he=(B>>>0).toString(16),ee=(ce>>>0).toString(16);return he.padStart(8,"0")+ee.padStart(8,"0")}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.CanvasGraphics=void 0;var s=R(1),te=R(11),O=R(12),pe=R(3),ie=R(5);const ce=4096,$=16;function fe(ve){if(ve._transformStack&&(ve._transformStack=[]),!ve.mozCurrentTransform){ve._originalSave=ve.save,ve._originalRestore=ve.restore,ve._originalRotate=ve.rotate,ve._originalScale=ve.scale,ve._originalTranslate=ve.translate,ve._originalTransform=ve.transform,ve._originalSetTransform=ve.setTransform,ve._originalResetTransform=ve.resetTransform,ve._transformMatrix=ve._transformMatrix||[1,0,0,1,0,0],ve._transformStack=[];try{const I=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(ve),"lineWidth");ve._setLineWidth=I.set,ve._getLineWidth=I.get,Object.defineProperty(ve,"lineWidth",{set:function(P){this._setLineWidth(1.000001*P)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(ve,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(ve,"mozCurrentTransformInverse",{get:function(){const[b,P,L,Q,ne,U]=this._transformMatrix,be=b*Q-P*L,je=P*L-b*Q;return[Q/be,P/je,L/je,b/be,(Q*ne-L*U)/je,(P*ne-b*U)/be]}}),ve.save=function(){const b=this._transformMatrix;this._transformStack.push(b),this._transformMatrix=b.slice(0,6),this._originalSave()},ve.restore=function(){0===this._transformStack.length&&(0,s.warn)("Tried to restore a ctx when the stack was already empty.");const b=this._transformStack.pop();b&&(this._transformMatrix=b,this._originalRestore())},ve.translate=function(b,P){const L=this._transformMatrix;L[4]=L[0]*b+L[2]*P+L[4],L[5]=L[1]*b+L[3]*P+L[5],this._originalTranslate(b,P)},ve.scale=function(b,P){const L=this._transformMatrix;L[0]*=b,L[1]*=b,L[2]*=P,L[3]*=P,this._originalScale(b,P)},ve.transform=function(b,P,L,Q,ne,U){const be=this._transformMatrix;this._transformMatrix=[be[0]*b+be[2]*P,be[1]*b+be[3]*P,be[0]*L+be[2]*Q,be[1]*L+be[3]*Q,be[0]*ne+be[2]*U+be[4],be[1]*ne+be[3]*U+be[5]],ve._originalTransform(b,P,L,Q,ne,U)},ve.setTransform=function(b,P,L,Q,ne,U){this._transformMatrix=[b,P,L,Q,ne,U],ve._originalSetTransform(b,P,L,Q,ne,U)},ve.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],ve._originalResetTransform()},ve.rotate=function(b){const P=Math.cos(b),L=Math.sin(b),Q=this._transformMatrix;this._transformMatrix=[Q[0]*P+Q[2]*L,Q[1]*P+Q[3]*L,Q[0]*-L+Q[2]*P,Q[1]*-L+Q[3]*P,Q[4],Q[5]],this._originalRotate(b)}}}class z{constructor(I){this.canvasFactory=I,this.cache=Object.create(null)}getCanvas(I,b,P,L){let Q;return void 0!==this.cache[I]?(Q=this.cache[I],this.canvasFactory.reset(Q,b,P),Q.context.setTransform(1,0,0,1,0,0)):(Q=this.canvasFactory.create(b,P),this.cache[I]=Q),L&&fe(Q.context),Q}delete(I){delete this.cache[I]}clear(){for(const I in this.cache)this.canvasFactory.destroy(this.cache[I]),delete this.cache[I]}}function K(ve,I,b,P,L,Q,ne,U,be,je){const[Pe,Ue,Be,Ye,Qe,gt]=ve.mozCurrentTransform;if(0===Ue&&0===Be){const ct=Math.round(ne*Pe+Qe),Ot=Math.round(U*Ye+gt),nt=Math.abs(Math.round((ne+be)*Pe+Qe)-ct)||1,Pt=Math.abs(Math.round((U+je)*Ye+gt)-Ot)||1;return ve.setTransform(Math.sign(Pe),0,0,Math.sign(Ye),ct,Ot),ve.drawImage(I,b,P,L,Q,0,0,nt,Pt),ve.setTransform(Pe,Ue,Be,Ye,Qe,gt),[nt,Pt]}if(0===Pe&&0===Ye){const ct=Math.round(U*Be+Qe),Ot=Math.round(ne*Ue+gt),nt=Math.abs(Math.round((U+je)*Be+Qe)-ct)||1,Pt=Math.abs(Math.round((ne+be)*Ue+gt)-Ot)||1;return ve.setTransform(0,Math.sign(Ue),Math.sign(Be),0,ct,Ot),ve.drawImage(I,b,P,L,Q,0,0,Pt,nt),ve.setTransform(Pe,Ue,Be,Ye,Qe,gt),[Pt,nt]}return ve.drawImage(I,b,P,L,Q,ne,U,be,je),[Math.hypot(Pe,Ue)*be,Math.hypot(Be,Ye)*je]}class A{constructor(I,b){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=s.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=s.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,I,b])}clone(){const I=Object.create(this);return I.clipBox=this.clipBox.slice(),I}setCurrentPoint(I,b){this.x=I,this.y=b}updatePathMinMax(I,b,P){[b,P]=s.Util.applyTransform([b,P],I),this.minX=Math.min(this.minX,b),this.minY=Math.min(this.minY,P),this.maxX=Math.max(this.maxX,b),this.maxY=Math.max(this.maxY,P)}updateRectMinMax(I,b){const P=s.Util.applyTransform(b,I),L=s.Util.applyTransform(b.slice(2),I);this.minX=Math.min(this.minX,P[0],L[0]),this.minY=Math.min(this.minY,P[1],L[1]),this.maxX=Math.max(this.maxX,P[0],L[0]),this.maxY=Math.max(this.maxY,P[1],L[1])}updateScalingPathMinMax(I,b){s.Util.scaleMinMax(I,b),this.minX=Math.min(this.minX,b[0]),this.maxX=Math.max(this.maxX,b[1]),this.minY=Math.min(this.minY,b[2]),this.maxY=Math.max(this.maxY,b[3])}updateCurvePathMinMax(I,b,P,L,Q,ne,U,be,je,Pe){const Ue=s.Util.bezierBoundingBox(b,P,L,Q,ne,U,be,je);if(Pe)return Pe[0]=Math.min(Pe[0],Ue[0],Ue[2]),Pe[1]=Math.max(Pe[1],Ue[0],Ue[2]),Pe[2]=Math.min(Pe[2],Ue[1],Ue[3]),void(Pe[3]=Math.max(Pe[3],Ue[1],Ue[3]));this.updateRectMinMax(I,Ue)}getPathBoundingBox(I=te.PathType.FILL,b=null){const P=[this.minX,this.minY,this.maxX,this.maxY];if(I===te.PathType.STROKE){b||(0,s.unreachable)("Stroke bounding box must include transform.");const L=s.Util.singularValueDecompose2dScale(b),Q=L[0]*this.lineWidth/2,ne=L[1]*this.lineWidth/2;P[0]-=Q,P[1]-=ne,P[2]+=Q,P[3]+=ne}return P}updateClipFromPath(){const I=s.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(I||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(I){this.clipBox=I,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(I=te.PathType.FILL,b=null){return s.Util.intersect(this.clipBox,this.getPathBoundingBox(I,b))}}function F(ve,I,b=null){if(typeof ImageData<"u"&&I instanceof ImageData)return void ve.putImageData(I,0,0);const P=I.height,L=I.width,Q=P%$,ne=(P-Q)/$,U=0===Q?ne:ne+1,be=ve.createImageData(L,$);let Pe,je=0;const Ue=I.data,Be=be.data;let Ye,Qe,gt,Tt,lt,yt,ct,Rt;if(b)switch(b.length){case 1:lt=b[0],yt=b[0],ct=b[0],Rt=b[0];break;case 4:lt=b[0],yt=b[1],ct=b[2],Rt=b[3]}if(I.kind===s.ImageKind.GRAYSCALE_1BPP){const Ot=Ue.byteLength,At=new Uint32Array(Be.buffer,0,Be.byteLength>>2),nt=At.length,dt=L+7>>3;let Pt=4294967295,Ze=s.FeatureTest.isLittleEndian?4278190080:255;for(Rt&&255===Rt[0]&&0===Rt[255]&&([Pt,Ze]=[Ze,Pt]),Ye=0;Ye<U;Ye++){for(gt=Ye<ne?$:Q,Pe=0,Qe=0;Qe<gt;Qe++){const ge=Ot-je;let xe=0;const ft=ge>dt?L:8*ge-7,wt=-8&ft;let Ne=0,we=0;for(;xe<wt;xe+=8)we=Ue[je++],At[Pe++]=128&we?Pt:Ze,At[Pe++]=64&we?Pt:Ze,At[Pe++]=32&we?Pt:Ze,At[Pe++]=16&we?Pt:Ze,At[Pe++]=8&we?Pt:Ze,At[Pe++]=4&we?Pt:Ze,At[Pe++]=2&we?Pt:Ze,At[Pe++]=1&we?Pt:Ze;for(;xe<ft;xe++)0===Ne&&(we=Ue[je++],Ne=128),At[Pe++]=we&Ne?Pt:Ze,Ne>>=1}for(;Pe<nt;)At[Pe++]=0;ve.putImageData(be,0,Ye*$)}}else if(I.kind===s.ImageKind.RGBA_32BPP){const Ot=!!(lt||yt||ct);for(Qe=0,Tt=L*$*4,Ye=0;Ye<ne;Ye++){if(Be.set(Ue.subarray(je,je+Tt)),je+=Tt,Ot)for(let At=0;At<Tt;At+=4)lt&&(Be[At+0]=lt[Be[At+0]]),yt&&(Be[At+1]=yt[Be[At+1]]),ct&&(Be[At+2]=ct[Be[At+2]]);ve.putImageData(be,0,Qe),Qe+=$}if(Ye<U){if(Tt=L*Q*4,Be.set(Ue.subarray(je,je+Tt)),Ot)for(let At=0;At<Tt;At+=4)lt&&(Be[At+0]=lt[Be[At+0]]),yt&&(Be[At+1]=yt[Be[At+1]]),ct&&(Be[At+2]=ct[Be[At+2]]);ve.putImageData(be,0,Qe)}}else{if(I.kind!==s.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${I.kind}`);{const Ot=!!(lt||yt||ct);for(gt=$,Tt=L*gt,Ye=0;Ye<U;Ye++){for(Ye>=ne&&(gt=Q,Tt=L*gt),Pe=0,Qe=Tt;Qe--;)Be[Pe++]=Ue[je++],Be[Pe++]=Ue[je++],Be[Pe++]=Ue[je++],Be[Pe++]=255;if(Ot)for(let At=0;At<Pe;At+=4)lt&&(Be[At+0]=lt[Be[At+0]]),yt&&(Be[At+1]=yt[Be[At+1]]),ct&&(Be[At+2]=ct[Be[At+2]]);ve.putImageData(be,0,Ye*$)}}}}function X(ve,I){if(I.bitmap)return void ve.drawImage(I.bitmap,0,0);const b=I.height,P=I.width,L=b%$,Q=(b-L)/$,ne=0===L?Q:Q+1,U=ve.createImageData(P,$);let be=0;const je=I.data,Pe=U.data;for(let Ue=0;Ue<ne;Ue++){const Be=Ue<Q?$:L;({srcPos:be}=(0,O.applyMaskImageData)({src:je,srcPos:be,dest:Pe,width:P,height:Be})),ve.putImageData(U,0,Ue*$)}}function N(ve,I){const b=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let P=0,L=b.length;P<L;P++){const Q=b[P];void 0!==ve[Q]&&(I[Q]=ve[Q])}void 0!==ve.setLineDash&&(I.setLineDash(ve.getLineDash()),I.lineDashOffset=ve.lineDashOffset)}function J(ve,I){ve.strokeStyle=ve.fillStyle=I||"#000000",ve.fillRule="nonzero",ve.globalAlpha=1,ve.lineWidth=1,ve.lineCap="butt",ve.lineJoin="miter",ve.miterLimit=10,ve.globalCompositeOperation="source-over",ve.font="10px sans-serif",void 0!==ve.setLineDash&&(ve.setLineDash([]),ve.lineDashOffset=0)}function G(ve,I,b,P){const L=ve.length;for(let Q=3;Q<L;Q+=4){const ne=ve[Q];if(0===ne)ve[Q-3]=I,ve[Q-2]=b,ve[Q-1]=P;else if(ne<255){const U=255-ne;ve[Q-3]=ve[Q-3]*ne+I*U>>8,ve[Q-2]=ve[Q-2]*ne+b*U>>8,ve[Q-1]=ve[Q-1]*ne+P*U>>8}}}function S(ve,I,b){const P=ve.length;for(let Q=3;Q<P;Q+=4)I[Q]=I[Q]*(b?b[ve[Q]]:ve[Q])*.00392156862745098|0}function oe(ve,I,b){const P=ve.length;for(let L=3;L<P;L+=4){const Q=77*ve[L-3]+152*ve[L-2]+28*ve[L-1];I[L]=b?I[L]*b[Q>>8]>>8:I[L]*Q>>16}}function me(ve,I){const b=s.Util.singularValueDecompose2dScale(ve);b[0]=Math.fround(b[0]),b[1]=Math.fround(b[1]);const P=Math.fround((globalThis.devicePixelRatio||1)*ie.PixelsPerInch.PDF_TO_CSS_UNITS);return void 0!==I?I:b[0]<=P||b[1]<=P}const ye=["butt","round","square"],Re=["miter","round","bevel"],Ve={},Xe={};class it{constructor(I,b,P,L,Q,ne,U,be){this.ctx=I,this.current=new A(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=b,this.objs=P,this.canvasFactory=L,this.imageLayer=Q,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=ne,this.cachedCanvases=new z(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=U,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=be?.background||null,this.foregroundColor=be?.foreground||null,I&&fe(I),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(I,b=null){return"string"==typeof I?I.startsWith("g_")?this.commonObjs.get(I):this.objs.get(I):b}beginDrawing({transform:I,viewport:b,transparency:P=!1,background:L=null}){const Q=this.ctx.canvas.width,ne=this.ctx.canvas.height,U=L||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;const be=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;const je=this.backgroundColor=this.ctx.fillStyle;let Pe=!0,Ue=U;if(this.ctx.fillStyle=U,Ue=this.ctx.fillStyle,Pe="string"==typeof Ue&&/^#[0-9A-Fa-f]{6}$/.test(Ue),"#000000"===be&&"#ffffff"===je||be===je||!Pe)this.foregroundColor=this.backgroundColor=null;else{const Be=parseInt(Ue.slice(1),16),Qe=(Be&&65280)>>8,gt=Be&&255,Tt=yt=>(yt/=255)<=.03928?yt/12.92:((yt+.055)/1.055)**2.4,lt=Math.round(.2126*Tt((Be&&16711680)>>16)+.7152*Tt(Qe)+.0722*Tt(gt));this.selectColor=(yt,ct,Rt)=>{const Ot=.2126*Tt(yt)+.7152*Tt(ct)+.0722*Tt(Rt);return Math.round(Ot)===lt?je:be}}}if(this.ctx.fillStyle=this.backgroundColor||U,this.ctx.fillRect(0,0,Q,ne),this.ctx.restore(),P){const be=this.cachedCanvases.getCanvas("transparent",Q,ne,!0);this.compositeCtx=this.ctx,this.transparentCanvas=be.canvas,this.ctx=be.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),J(this.ctx,this.foregroundColor),I&&(this.ctx.transform.apply(this.ctx,I),this.outputScaleX=I[0],this.outputScaleY=I[0]),this.ctx.transform.apply(this.ctx,b.transform),this.viewportScale=b.scale,this.baseTransform=this.ctx.mozCurrentTransform.slice(),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(I,b,P,L){const Q=I.argsArray,ne=I.fnArray;let U=b||0;const be=Q.length;if(be===U)return U;const je=be-U>10&&"function"==typeof P,Pe=je?Date.now()+15:0;let Ue=0;const Be=this.commonObjs,Ye=this.objs;let Qe;for(;;){if(void 0!==L&&U===L.nextBreakPoint)return L.breakIt(U,P),U;if(Qe=ne[U],Qe!==s.OPS.dependency)this[Qe].apply(this,Q[U]);else for(const gt of Q[U]){const Tt=gt.startsWith("g_")?Be:Ye;if(!Tt.has(gt))return Tt.get(gt,P),U}if(U++,U===be)return U;if(je&&++Ue>10){if(Date.now()>Pe)return P(),U;Ue=0}}}endDrawing(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const I of this._cachedBitmapsMap.values()){for(const b of I.values())typeof HTMLCanvasElement<"u"&&b instanceof HTMLCanvasElement&&(b.width=b.height=0);I.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(I,b){const P=I.width,L=I.height;let Pe,Ue,Q=Math.max(Math.hypot(b[0],b[1]),1),ne=Math.max(Math.hypot(b[2],b[3]),1),U=P,be=L,je="prescale1";for(;Q>2&&U>1||ne>2&&be>1;){let Be=U,Ye=be;Q>2&&U>1&&(Be=Math.ceil(U/2),Q/=U/Be),ne>2&&be>1&&(Ye=Math.ceil(be/2),ne/=be/Ye),Pe=this.cachedCanvases.getCanvas(je,Be,Ye,!1),Ue=Pe.context,Ue.clearRect(0,0,Be,Ye),Ue.drawImage(I,0,0,U,be,0,0,Be,Ye),I=Pe.canvas,U=Be,be=Ye,je="prescale1"===je?"prescale2":"prescale1"}return{img:I,paintWidth:U,paintHeight:be}}_createMaskCanvas(I){const b=this.ctx,{width:P,height:L}=I,Q=this.current.fillColor,ne=this.current.patternFill,U=b.mozCurrentTransform;let be,je,Pe,Ue;if((I.bitmap||I.data)&&I.count>1){const nt=I.bitmap||I.data.buffer,dt=U.slice(0,4);je=JSON.stringify(ne?dt:[dt,Q]),be=this._cachedBitmapsMap.get(nt),be||(be=new Map,this._cachedBitmapsMap.set(nt,be));const Pt=be.get(je);if(Pt&&!ne)return{canvas:Pt,offsetX:Math.round(Math.min(U[0],U[2])+U[4]),offsetY:Math.round(Math.min(U[1],U[3])+U[5])};Pe=Pt}Pe||(Ue=this.cachedCanvases.getCanvas("maskCanvas",P,L,!1),X(Ue.context,I));let Be=s.Util.transform(U,[1/P,0,0,-1/L,0,0]);Be=s.Util.transform(Be,[1,0,0,1,0,-L]);const Ye=s.Util.applyTransform([0,0],Be),Qe=s.Util.applyTransform([P,L],Be),gt=s.Util.normalizeRect([Ye[0],Ye[1],Qe[0],Qe[1]]),Tt=Math.round(gt[2]-gt[0])||1,lt=Math.round(gt[3]-gt[1])||1,yt=this.cachedCanvases.getCanvas("fillCanvas",Tt,lt,!0),ct=yt.context,Rt=Math.min(Ye[0],Qe[0]),Ot=Math.min(Ye[1],Qe[1]);ct.translate(-Rt,-Ot),ct.transform.apply(ct,Be),Pe||(Pe=this._scaleImage(Ue.canvas,ct.mozCurrentTransformInverse),Pe=Pe.img,be&&ne&&be.set(je,Pe)),ct.imageSmoothingEnabled=me(ct.mozCurrentTransform,I.interpolate),K(ct,Pe,0,0,Pe.width,Pe.height,0,0,P,L),ct.globalCompositeOperation="source-in";const At=s.Util.transform(ct.mozCurrentTransformInverse,[1,0,0,1,-Rt,-Ot]);return ct.fillStyle=ne?Q.getPattern(b,this,At,te.PathType.FILL):Q,ct.fillRect(0,0,P,L),be&&!ne&&(this.cachedCanvases.delete("fillCanvas"),be.set(je,yt.canvas)),{canvas:yt.canvas,offsetX:Math.round(Rt),offsetY:Math.round(Ot)}}setLineWidth(I){I!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=I,this.ctx.lineWidth=I}setLineCap(I){this.ctx.lineCap=ye[I]}setLineJoin(I){this.ctx.lineJoin=Re[I]}setMiterLimit(I){this.ctx.miterLimit=I}setDash(I,b){const P=this.ctx;void 0!==P.setLineDash&&(P.setLineDash(I),P.lineDashOffset=b)}setRenderingIntent(I){}setFlatness(I){}setGState(I){for(let b=0,P=I.length;b<P;b++){const L=I[b],ne=L[1];switch(L[0]){case"LW":this.setLineWidth(ne);break;case"LC":this.setLineCap(ne);break;case"LJ":this.setLineJoin(ne);break;case"ML":this.setMiterLimit(ne);break;case"D":this.setDash(ne[0],ne[1]);break;case"RI":this.setRenderingIntent(ne);break;case"FL":this.setFlatness(ne);break;case"Font":this.setFont(ne[0],ne[1]);break;case"CA":this.current.strokeAlpha=L[1];break;case"ca":this.current.fillAlpha=L[1],this.ctx.globalAlpha=L[1];break;case"BM":this.ctx.globalCompositeOperation=ne;break;case"SMask":this.current.activeSMask=ne?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=ne}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const I=this.inSMaskMode;this.current.activeSMask&&!I?this.beginSMaskMode():!this.current.activeSMask&&I&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const L=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,this.ctx.canvas.width,this.ctx.canvas.height,!0);this.suspendedCtx=this.ctx,this.ctx=L.context;const Q=this.ctx;Q.setTransform.apply(Q,this.suspendedCtx.mozCurrentTransform),N(this.suspendedCtx,Q),function q(ve,I){if(ve._removeMirroring)throw new Error("Context is already forwarding operations.");ve.__originalSave=ve.save,ve.__originalRestore=ve.restore,ve.__originalRotate=ve.rotate,ve.__originalScale=ve.scale,ve.__originalTranslate=ve.translate,ve.__originalTransform=ve.transform,ve.__originalSetTransform=ve.setTransform,ve.__originalResetTransform=ve.resetTransform,ve.__originalClip=ve.clip,ve.__originalMoveTo=ve.moveTo,ve.__originalLineTo=ve.lineTo,ve.__originalBezierCurveTo=ve.bezierCurveTo,ve.__originalRect=ve.rect,ve.__originalClosePath=ve.closePath,ve.__originalBeginPath=ve.beginPath,ve._removeMirroring=()=>{ve.save=ve.__originalSave,ve.restore=ve.__originalRestore,ve.rotate=ve.__originalRotate,ve.scale=ve.__originalScale,ve.translate=ve.__originalTranslate,ve.transform=ve.__originalTransform,ve.setTransform=ve.__originalSetTransform,ve.resetTransform=ve.__originalResetTransform,ve.clip=ve.__originalClip,ve.moveTo=ve.__originalMoveTo,ve.lineTo=ve.__originalLineTo,ve.bezierCurveTo=ve.__originalBezierCurveTo,ve.rect=ve.__originalRect,ve.closePath=ve.__originalClosePath,ve.beginPath=ve.__originalBeginPath,delete ve._removeMirroring},ve.save=function(){I.save(),this.__originalSave()},ve.restore=function(){I.restore(),this.__originalRestore()},ve.translate=function(P,L){I.translate(P,L),this.__originalTranslate(P,L)},ve.scale=function(P,L){I.scale(P,L),this.__originalScale(P,L)},ve.transform=function(P,L,Q,ne,U,be){I.transform(P,L,Q,ne,U,be),this.__originalTransform(P,L,Q,ne,U,be)},ve.setTransform=function(P,L,Q,ne,U,be){I.setTransform(P,L,Q,ne,U,be),this.__originalSetTransform(P,L,Q,ne,U,be)},ve.resetTransform=function(){I.resetTransform(),this.__originalResetTransform()},ve.rotate=function(P){I.rotate(P),this.__originalRotate(P)},ve.clip=function(P){I.clip(P),this.__originalClip(P)},ve.moveTo=function(b,P){I.moveTo(b,P),this.__originalMoveTo(b,P)},ve.lineTo=function(b,P){I.lineTo(b,P),this.__originalLineTo(b,P)},ve.bezierCurveTo=function(b,P,L,Q,ne,U){I.bezierCurveTo(b,P,L,Q,ne,U),this.__originalBezierCurveTo(b,P,L,Q,ne,U)},ve.rect=function(b,P,L,Q){I.rect(b,P,L,Q),this.__originalRect(b,P,L,Q)},ve.closePath=function(){I.closePath(),this.__originalClosePath()},ve.beginPath=function(){I.beginPath(),this.__originalBeginPath()}}(Q,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),N(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(I){this.current.activeSMask&&(I?(I[0]=Math.floor(I[0]),I[1]=Math.floor(I[1]),I[2]=Math.ceil(I[2]),I[3]=Math.ceil(I[3])):I=[0,0,this.ctx.canvas.width,this.ctx.canvas.height],function le(ve,I,b,P){const L=P[0],Q=P[1],ne=P[2]-L,U=P[3]-Q;0===ne||0===U||(function W(ve,I,b,P,L,Q,ne,U,be,je,Pe){const Ue=!!Q,Be=Ue?Q[0]:0,Ye=Ue?Q[1]:0,Qe=Ue?Q[2]:0;let gt;gt="Luminosity"===L?oe:S;const lt=Math.min(P,Math.ceil(1048576/b));for(let yt=0;yt<P;yt+=lt){const ct=Math.min(lt,P-yt),Rt=ve.getImageData(U-je,yt+(be-Pe),b,ct),Ot=I.getImageData(U,yt+be,b,ct);Ue&&G(Rt.data,Be,Ye,Qe),gt(Rt.data,Ot.data,ne),I.putImageData(Ot,U,yt+be)}}(I.context,b,ne,U,I.subtype,I.backdrop,I.transferMap,L,Q,I.offsetX,I.offsetY),ve.save(),ve.globalAlpha=1,ve.globalCompositeOperation="source-over",ve.setTransform(1,0,0,1,0,0),ve.drawImage(b.canvas,0,0),ve.restore())}(this.suspendedCtx,this.current.activeSMask,this.ctx,I),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore())}save(){this.inSMaskMode?(N(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const I=this.current;this.stateStack.push(I),this.current=I.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),N(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(I,b,P,L,Q,ne){this.ctx.transform(I,b,P,L,Q,ne),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(I,b,P){const L=this.ctx,Q=this.current;let be,je,ne=Q.x,U=Q.y;const Pe=L.mozCurrentTransform,Ue=0===Pe[0]&&0===Pe[3]||0===Pe[1]&&0===Pe[2],Be=Ue?P.slice(0):null;for(let Ye=0,Qe=0,gt=I.length;Ye<gt;Ye++)switch(0|I[Ye]){case s.OPS.rectangle:ne=b[Qe++],U=b[Qe++];const Tt=b[Qe++],lt=b[Qe++],yt=ne+Tt,ct=U+lt;L.moveTo(ne,U),0===Tt||0===lt?L.lineTo(yt,ct):(L.lineTo(yt,U),L.lineTo(yt,ct),L.lineTo(ne,ct)),Ue||Q.updateRectMinMax(Pe,[ne,U,yt,ct]),L.closePath();break;case s.OPS.moveTo:ne=b[Qe++],U=b[Qe++],L.moveTo(ne,U),Ue||Q.updatePathMinMax(Pe,ne,U);break;case s.OPS.lineTo:ne=b[Qe++],U=b[Qe++],L.lineTo(ne,U),Ue||Q.updatePathMinMax(Pe,ne,U);break;case s.OPS.curveTo:be=ne,je=U,ne=b[Qe+4],U=b[Qe+5],L.bezierCurveTo(b[Qe],b[Qe+1],b[Qe+2],b[Qe+3],ne,U),Q.updateCurvePathMinMax(Pe,be,je,b[Qe],b[Qe+1],b[Qe+2],b[Qe+3],ne,U,Be),Qe+=6;break;case s.OPS.curveTo2:be=ne,je=U,L.bezierCurveTo(ne,U,b[Qe],b[Qe+1],b[Qe+2],b[Qe+3]),Q.updateCurvePathMinMax(Pe,be,je,ne,U,b[Qe],b[Qe+1],b[Qe+2],b[Qe+3],Be),ne=b[Qe+2],U=b[Qe+3],Qe+=4;break;case s.OPS.curveTo3:be=ne,je=U,ne=b[Qe+2],U=b[Qe+3],L.bezierCurveTo(b[Qe],b[Qe+1],ne,U,ne,U),Q.updateCurvePathMinMax(Pe,be,je,b[Qe],b[Qe+1],ne,U,ne,U,Be),Qe+=4;break;case s.OPS.closePath:L.closePath()}Ue&&Q.updateScalingPathMinMax(Pe,Be),Q.setCurrentPoint(ne,U)}closePath(){this.ctx.closePath()}stroke(I){I=!(typeof I<"u")||I;const b=this.ctx,P=this.current.strokeColor;b.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"==typeof P&&P?.getPattern?(b.save(),b.strokeStyle=P.getPattern(b,this,b.mozCurrentTransformInverse,te.PathType.STROKE),this.rescaleAndStroke(!1),b.restore()):this.rescaleAndStroke(!0)),I&&this.consumePath(this.current.getClippedPathBoundingBox()),b.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(I){I=!(typeof I<"u")||I;const b=this.ctx,P=this.current.fillColor;let Q=!1;this.current.patternFill&&(b.save(),b.fillStyle=P.getPattern(b,this,b.mozCurrentTransformInverse,te.PathType.FILL),Q=!0);const ne=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==ne&&(this.pendingEOFill?(b.fill("evenodd"),this.pendingEOFill=!1):b.fill()),Q&&b.restore(),I&&this.consumePath(ne)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=Ve}eoClip(){this.pendingClip=Xe}beginText(){this.current.textMatrix=s.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const I=this.pendingTextPaths,b=this.ctx;if(void 0!==I){b.save(),b.beginPath();for(let P=0;P<I.length;P++){const L=I[P];b.setTransform.apply(b,L.transform),b.translate(L.x,L.y),L.addToPath(b,L.fontSize)}b.restore(),b.clip(),b.beginPath(),delete this.pendingTextPaths}else b.beginPath()}setCharSpacing(I){this.current.charSpacing=I}setWordSpacing(I){this.current.wordSpacing=I}setHScale(I){this.current.textHScale=I/100}setLeading(I){this.current.leading=-I}setFont(I,b){const P=this.commonObjs.get(I),L=this.current;if(!P)throw new Error(`Can't find font for ${I}`);if(L.fontMatrix=P.fontMatrix||s.FONT_IDENTITY_MATRIX,(0===L.fontMatrix[0]||0===L.fontMatrix[3])&&(0,s.warn)("Invalid font matrix for font "+I),b<0?(b=-b,L.fontDirection=-1):L.fontDirection=1,this.current.font=P,this.current.fontSize=b,P.isType3Font)return;let ne="normal";P.black?ne="900":P.bold&&(ne="bold");const U=P.italic?"italic":"normal",be=`"${P.loadedName||"sans-serif"}", ${P.fallbackName}`;let je=b;b<16?je=16:b>100&&(je=100),this.current.fontSizeScale=b/je,this.ctx.font=`${U} ${ne} ${je}px ${be}`}setTextRenderingMode(I){this.current.textRenderingMode=I}setTextRise(I){this.current.textRise=I}moveText(I,b){this.current.x=this.current.lineX+=I,this.current.y=this.current.lineY+=b}setLeadingMoveText(I,b){this.setLeading(-b),this.moveText(I,b)}setTextMatrix(I,b,P,L,Q,ne){this.current.textMatrix=[I,b,P,L,Q,ne],this.current.textMatrixScale=Math.hypot(I,b),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(I,b,P,L){const Q=this.ctx,ne=this.current,U=ne.font,be=ne.textRenderingMode,je=ne.fontSize/ne.fontSizeScale,Pe=be&s.TextRenderingMode.FILL_STROKE_MASK,Ue=!!(be&s.TextRenderingMode.ADD_TO_PATH_FLAG),Be=ne.patternFill&&!U.missingFile;let Ye;(U.disableFontFace||Ue||Be)&&(Ye=U.getPathGenerator(this.commonObjs,I)),U.disableFontFace||Be?(Q.save(),Q.translate(b,P),Q.beginPath(),Ye(Q,je),L&&Q.setTransform.apply(Q,L),(Pe===s.TextRenderingMode.FILL||Pe===s.TextRenderingMode.FILL_STROKE)&&Q.fill(),(Pe===s.TextRenderingMode.STROKE||Pe===s.TextRenderingMode.FILL_STROKE)&&Q.stroke(),Q.restore()):((Pe===s.TextRenderingMode.FILL||Pe===s.TextRenderingMode.FILL_STROKE)&&Q.fillText(I,b,P),(Pe===s.TextRenderingMode.STROKE||Pe===s.TextRenderingMode.FILL_STROKE)&&Q.strokeText(I,b,P)),Ue&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Q.mozCurrentTransform,x:b,y:P,fontSize:je,addToPath:Ye})}get isFontSubpixelAAEnabled(){const{context:I}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10,!1);I.scale(1.5,1),I.fillText("I",0,10);const b=I.getImageData(0,0,10,10).data;let P=!1;for(let L=3;L<b.length;L+=4)if(b[L]>0&&b[L]<255){P=!0;break}return(0,s.shadow)(this,"isFontSubpixelAAEnabled",P)}showText(I){const b=this.current,P=b.font;if(P.isType3Font)return this.showType3Text(I);const L=b.fontSize;if(0===L)return;const Q=this.ctx,ne=b.fontSizeScale,U=b.charSpacing,be=b.wordSpacing,je=b.fontDirection,Pe=b.textHScale*je,Ue=I.length,Be=P.vertical,Ye=Be?1:-1,Qe=P.defaultVMetrics,gt=L*b.fontMatrix[0],Tt=b.textRenderingMode===s.TextRenderingMode.FILL&&!P.disableFontFace&&!b.patternFill;let lt;if(Q.save(),Q.transform.apply(Q,b.textMatrix),Q.translate(b.x,b.y+b.textRise),Q.scale(Pe,je>0?-1:1),b.patternFill){Q.save();const At=b.fillColor.getPattern(Q,this,Q.mozCurrentTransformInverse,te.PathType.FILL);lt=Q.mozCurrentTransform,Q.restore(),Q.fillStyle=At}let yt=b.lineWidth;const ct=b.textMatrixScale;if(0===ct||0===yt){const At=b.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;(At===s.TextRenderingMode.STROKE||At===s.TextRenderingMode.FILL_STROKE)&&(yt=this.getSinglePixelWidth())}else yt/=ct;1!==ne&&(Q.scale(ne,ne),yt/=ne),Q.lineWidth=yt;let Ot,Rt=0;for(Ot=0;Ot<Ue;++Ot){const At=I[Ot];if("number"==typeof At){Rt+=Ye*At*L/1e3;continue}let nt=!1;const dt=(At.isSpace?be:0)+U,Pt=At.fontChar,Ze=At.accent;let ge,xe,wt,ft=At.width;if(Be){const Ne=At.vmetric||Qe,we=-(At.vmetric?Ne[1]:.5*ft)*gt;ft=Ne?-Ne[0]:ft,ge=we/ne,xe=(Rt+Ne[2]*gt)/ne}else ge=Rt/ne,xe=0;if(P.remeasure&&ft>0){const Ne=1e3*Q.measureText(Pt).width/L*ne;if(ft<Ne&&this.isFontSubpixelAAEnabled){const we=ft/Ne;nt=!0,Q.save(),Q.scale(we,1),ge/=we}else ft!==Ne&&(ge+=(ft-Ne)/2e3*L/ne)}this.contentVisible&&(At.isInFont||P.missingFile)&&(Tt&&!Ze?Q.fillText(Pt,ge,xe):(this.paintChar(Pt,ge,xe,lt),Ze&&this.paintChar(Ze.fontChar,ge+L*Ze.offset.x/ne,xe-L*Ze.offset.y/ne,lt))),wt=Be?ft*gt-dt*je:ft*gt+dt*je,Rt+=wt,nt&&Q.restore()}Be?b.y-=Rt:b.x+=Rt*Pe,Q.restore(),this.compose()}showType3Text(I){const b=this.ctx,P=this.current,L=P.font,Q=P.fontSize,ne=P.fontDirection,U=L.vertical?1:-1,be=P.charSpacing,je=P.wordSpacing,Pe=P.textHScale*ne,Ue=P.fontMatrix||s.FONT_IDENTITY_MATRIX,Be=I.length;let Qe,gt,Tt,lt;if(P.textRenderingMode!==s.TextRenderingMode.INVISIBLE&&0!==Q){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,b.save(),b.transform.apply(b,P.textMatrix),b.translate(P.x,P.y),b.scale(Pe,ne),Qe=0;Qe<Be;++Qe){if(gt=I[Qe],"number"==typeof gt){lt=U*gt*Q/1e3,this.ctx.translate(lt,0),P.x+=lt*Pe;continue}const yt=(gt.isSpace?je:0)+be,ct=L.charProcOperatorList[gt.operatorListId];ct?(this.contentVisible&&(this.processingType3=gt,this.save(),b.scale(Q,Q),b.transform.apply(b,Ue),this.executeOperatorList(ct),this.restore()),Tt=s.Util.applyTransform([gt.width,0],Ue)[0]*Q+yt,b.translate(Tt,0),P.x+=Tt*Pe):(0,s.warn)(`Type3 character "${gt.operatorListId}" is not available.`)}b.restore(),this.processingType3=null}}setCharWidth(I,b){}setCharWidthAndBounds(I,b,P,L,Q,ne){this.ctx.rect(P,L,Q-P,ne-L),this.ctx.clip(),this.endPath()}getColorN_Pattern(I){let b;if("TilingPattern"===I[0]){const P=I[1],L=this.baseTransform||this.ctx.mozCurrentTransform.slice();b=new te.TilingPattern(I,P,this.ctx,{createCanvasGraphics:ne=>new it(ne,this.commonObjs,this.objs,this.canvasFactory)},L)}else b=this._getPattern(I[1],I[2]);return b}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(I,b,P){const L=this.selectColor?.(I,b,P)||s.Util.makeHexColor(I,b,P);this.ctx.strokeStyle=L,this.current.strokeColor=L}setFillRGBColor(I,b,P){const L=this.selectColor?.(I,b,P)||s.Util.makeHexColor(I,b,P);this.ctx.fillStyle=L,this.current.fillColor=L,this.current.patternFill=!1}_getPattern(I,b=null){let P;return this.cachedPatterns.has(I)?P=this.cachedPatterns.get(I):(P=(0,te.getShadingPattern)(this.objs.get(I)),this.cachedPatterns.set(I,P)),b&&(P.matrix=b),P}shadingFill(I){if(!this.contentVisible)return;const b=this.ctx;this.save();const P=this._getPattern(I);b.fillStyle=P.getPattern(b,this,b.mozCurrentTransformInverse,te.PathType.SHADING);const L=b.mozCurrentTransformInverse;if(L){const Q=b.canvas,ne=Q.width,U=Q.height,be=s.Util.applyTransform([0,0],L),je=s.Util.applyTransform([0,U],L),Pe=s.Util.applyTransform([ne,0],L),Ue=s.Util.applyTransform([ne,U],L),Be=Math.min(be[0],je[0],Pe[0],Ue[0]),Ye=Math.min(be[1],je[1],Pe[1],Ue[1]),Qe=Math.max(be[0],je[0],Pe[0],Ue[0]),gt=Math.max(be[1],je[1],Pe[1],Ue[1]);this.ctx.fillRect(Be,Ye,Qe-Be,gt-Ye)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,s.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,s.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(I,b){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(I)&&6===I.length&&this.transform.apply(this,I),this.baseTransform=this.ctx.mozCurrentTransform,b)&&(this.ctx.rect(b[0],b[1],b[2]-b[0],b[3]-b[1]),this.current.updateRectMinMax(this.ctx.mozCurrentTransform,b),this.clip(),this.endPath())}paintFormXObjectEnd(){!this.contentVisible||(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(I){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const b=this.ctx;I.isolated||(0,s.info)("TODO: Support non-isolated groups."),I.knockout&&(0,s.warn)("Knockout groups not supported.");const P=b.mozCurrentTransform;if(I.matrix&&b.transform.apply(b,I.matrix),!I.bbox)throw new Error("Bounding box is required.");let L=s.Util.getAxialAlignedBoundingBox(I.bbox,b.mozCurrentTransform);L=s.Util.intersect(L,[0,0,b.canvas.width,b.canvas.height])||[0,0,0,0];const ne=Math.floor(L[0]),U=Math.floor(L[1]);let be=Math.max(Math.ceil(L[2])-ne,1),je=Math.max(Math.ceil(L[3])-U,1),Pe=1,Ue=1;be>ce&&(Pe=be/ce,be=ce),je>ce&&(Ue=je/ce,je=ce),this.current.startNewPathAndClipBox([0,0,be,je]);let Be="groupAt"+this.groupLevel;I.smask&&(Be+="_smask_"+this.smaskCounter++%2);const Ye=this.cachedCanvases.getCanvas(Be,be,je,!0),Qe=Ye.context;Qe.scale(1/Pe,1/Ue),Qe.translate(-ne,-U),Qe.transform.apply(Qe,P),I.smask?this.smaskStack.push({canvas:Ye.canvas,context:Qe,offsetX:ne,offsetY:U,scaleX:Pe,scaleY:Ue,subtype:I.smask.subtype,backdrop:I.smask.backdrop,transferMap:I.smask.transferMap||null,startTransformInverse:null}):(b.setTransform(1,0,0,1,0,0),b.translate(ne,U),b.scale(Pe,Ue),b.save()),N(b,Qe),this.ctx=Qe,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(b),this.groupLevel++}endGroup(I){if(!this.contentVisible)return;this.groupLevel--;const b=this.ctx,P=this.groupStack.pop();if(this.ctx=P,this.ctx.imageSmoothingEnabled=!1,I.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const L=this.ctx.mozCurrentTransform;this.restore(),this.ctx.save(),this.ctx.setTransform.apply(this.ctx,L);const Q=s.Util.getAxialAlignedBoundingBox([0,0,b.canvas.width,b.canvas.height],L);this.ctx.drawImage(b.canvas,0,0),this.ctx.restore(),this.compose(Q)}}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(I,b,P,L,Q){if(this.save(),Array.isArray(b)&&4===b.length){const ne=b[2]-b[0],U=b[3]-b[1];if(Q&&this.annotationCanvasMap){(P=P.slice())[4]-=b[0],P[5]-=b[1],(b=b.slice())[0]=b[1]=0,b[2]=ne,b[3]=U;const[be,je]=s.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),{viewportScale:Pe}=this,Ue=Math.ceil(ne*this.outputScaleX*Pe),Be=Math.ceil(U*this.outputScaleY*Pe);this.annotationCanvas=this.canvasFactory.create(Ue,Be);const{canvas:Ye,context:Qe}=this.annotationCanvas,gt=`var(--zoom-factor) * ${ie.PixelsPerInch.PDF_TO_CSS_UNITS}`;Ye.style.width=`calc(${ne}px * ${gt})`,Ye.style.height=`calc(${U}px * ${gt})`,this.annotationCanvasMap.set(I,Ye),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Qe,this.ctx.setTransform(be,0,0,-je,0,U*je),fe(this.ctx),J(this.ctx,this.foregroundColor)}else J(this.ctx,this.foregroundColor),this.ctx.rect(b[0],b[1],ne,U),this.ctx.clip(),this.endPath()}this.current=new A(this.ctx.canvas.width,this.ctx.canvas.height),this.transform.apply(this,P),this.transform.apply(this,L)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas),this.restore()}paintImageMaskXObject(I){if(!this.contentVisible)return;const b=I.count;(I=this.getObject(I.data,I)).count=b;const P=this.ctx,L=this.processingType3;if(L&&(void 0===L.compiled&&(L.compiled=function E(ve){const{width:I,height:b}=ve;if(I>1e3||b>1e3)return null;const L=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),Q=I+1;let U,be,je,ne=new Uint8Array(Q*(b+1));const Pe=I+7&-8;let Ue=new Uint8Array(Pe*b),Be=0;for(const ct of ve.data){let Rt=128;for(;Rt>0;)Ue[Be++]=ct&Rt?0:255,Rt>>=1}let Ye=0;for(Be=0,0!==Ue[Be]&&(ne[0]=1,++Ye),be=1;be<I;be++)Ue[Be]!==Ue[Be+1]&&(ne[be]=Ue[Be]?2:1,++Ye),Be++;for(0!==Ue[Be]&&(ne[be]=2,++Ye),U=1;U<b;U++){Be=U*Pe,je=U*Q,Ue[Be-Pe]!==Ue[Be]&&(ne[je]=Ue[Be]?1:8,++Ye);let ct=(Ue[Be]?4:0)+(Ue[Be-Pe]?8:0);for(be=1;be<I;be++)ct=(ct>>2)+(Ue[Be+1]?4:0)+(Ue[Be-Pe+1]?8:0),L[ct]&&(ne[je+be]=L[ct],++Ye),Be++;if(Ue[Be-Pe]!==Ue[Be]&&(ne[je+be]=Ue[Be]?2:4,++Ye),Ye>1e3)return null}for(Be=Pe*(b-1),je=U*Q,0!==Ue[Be]&&(ne[je]=8,++Ye),be=1;be<I;be++)Ue[Be]!==Ue[Be+1]&&(ne[je+be]=Ue[Be]?4:8,++Ye),Be++;if(0!==Ue[Be]&&(ne[je+be]=4,++Ye),Ye>1e3)return null;const Qe=new Int32Array([0,Q,-1,0,-Q,0,0,0,1]);let gt,Tt,lt;for(pe.isNodeJS?Tt=[]:gt=new Path2D,U=0;Ye&&U<=b;U++){let ct=U*Q;const Rt=ct+I;for(;ct<Rt&&!ne[ct];)ct++;if(ct===Rt)continue;gt?gt.moveTo(ct%Q,U):lt=[ct%Q,U];const Ot=ct;let At=ne[ct];do{const nt=Qe[At];do{ct+=nt}while(!ne[ct]);const dt=ne[ct];5!==dt&&10!==dt?(At=dt,ne[ct]=0):(At=dt&51*At>>4,ne[ct]&=At>>2|At<<2),gt?gt.lineTo(ct%Q,ct/Q|0):lt.push(ct%Q,ct/Q|0),ne[ct]||--Ye}while(Ot!==ct);gt||Tt.push(lt),--U}return Ue=null,ne=null,function(ct){if(ct.save(),ct.scale(1/I,-1/b),ct.translate(0,-b),gt)ct.fill(gt);else{ct.beginPath();for(const Rt of Tt){ct.moveTo(Rt[0],Rt[1]);for(let Ot=2,At=Rt.length;Ot<At;Ot+=2)ct.lineTo(Rt[Ot],Rt[Ot+1])}ct.fill()}ct.beginPath(),ct.restore()}}(I)),L.compiled))return void L.compiled(P);const Q=this._createMaskCanvas(I),ne=Q.canvas;P.save(),P.setTransform(1,0,0,1,0,0),P.drawImage(ne,Q.offsetX,Q.offsetY),P.restore(),this.compose()}paintImageMaskXObjectRepeat(I,b,P=0,L=0,Q,ne){if(!this.contentVisible)return;I=this.getObject(I.data,I);const U=this.ctx;U.save();const be=U.mozCurrentTransform;U.transform(b,P,L,Q,0,0);const je=this._createMaskCanvas(I);U.setTransform(1,0,0,1,0,0);for(let Pe=0,Ue=ne.length;Pe<Ue;Pe+=2){const Be=s.Util.transform(be,[b,P,L,Q,ne[Pe],ne[Pe+1]]),[Ye,Qe]=s.Util.applyTransform([0,0],Be);U.drawImage(je.canvas,Ye,Qe)}U.restore(),this.compose()}paintImageMaskXObjectGroup(I){if(!this.contentVisible)return;const b=this.ctx,P=this.current.fillColor,L=this.current.patternFill;for(let Q=0,ne=I.length;Q<ne;Q++){const U=I[Q],be=U.width,je=U.height,Pe=this.cachedCanvases.getCanvas("maskCanvas",be,je,!1),Ue=Pe.context;Ue.save(),X(Ue,U),Ue.globalCompositeOperation="source-in",Ue.fillStyle=L?P.getPattern(Ue,this,b.mozCurrentTransformInverse,te.PathType.FILL):P,Ue.fillRect(0,0,be,je),Ue.restore(),b.save(),b.transform.apply(b,U.transform),b.scale(1,-1),K(b,Pe.canvas,0,0,be,je,0,-1,1,1),b.restore()}this.compose()}paintImageXObject(I){if(!this.contentVisible)return;const b=this.getObject(I);b?this.paintInlineImageXObject(b):(0,s.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(I,b,P,L){if(!this.contentVisible)return;const Q=this.getObject(I);if(!Q)return void(0,s.warn)("Dependent image isn't ready yet");const ne=Q.width,U=Q.height,be=[];for(let je=0,Pe=L.length;je<Pe;je+=2)be.push({transform:[b,0,0,P,L[je],L[je+1]],x:0,y:0,w:ne,h:U});this.paintInlineImageXObjectGroup(Q,be)}paintInlineImageXObject(I){if(!this.contentVisible)return;const b=I.width,P=I.height,L=this.ctx;let Q;if(this.save(),L.scale(1/b,-1/P),"function"==typeof HTMLElement&&I instanceof HTMLElement||!I.data)Q=I;else{const je=this.cachedCanvases.getCanvas("inlineImage",b,P,!1);F(je.context,I,this.current.transferMaps),Q=je.canvas}const ne=this._scaleImage(Q,L.mozCurrentTransformInverse);L.imageSmoothingEnabled=me(L.mozCurrentTransform,I.interpolate);const[U,be]=K(L,ne.img,0,0,ne.paintWidth,ne.paintHeight,0,-P,b,P);if(this.imageLayer){const je=this.getCanvasPosition(0,-P);this.imageLayer.appendImage({imgData:I,left:je[0],top:je[1],width:U,height:be})}this.compose(),this.restore()}paintInlineImageXObjectGroup(I,b){if(!this.contentVisible)return;const P=this.ctx,L=I.width,Q=I.height,ne=this.cachedCanvases.getCanvas("inlineImage",L,Q,!1);F(ne.context,I,this.current.transferMaps);for(let be=0,je=b.length;be<je;be++){const Pe=b[be];if(P.save(),P.transform.apply(P,Pe.transform),P.scale(1,-1),K(P,ne.canvas,Pe.x,Pe.y,Pe.w,Pe.h,0,-1,1,1),this.imageLayer){const Ue=this.getCanvasPosition(Pe.x,Pe.y);this.imageLayer.appendImage({imgData:I,left:Ue[0],top:Ue[1],width:L,height:Q})}P.restore()}this.compose()}paintSolidColorImageMask(){!this.contentVisible||(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(I){}markPointProps(I,b){}beginMarkedContent(I){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(I,b){this.markedContentStack.push("OC"===I?{visible:this.optionalContentConfig.isVisible(b)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(I){const b=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(I);const P=this.ctx;this.pendingClip&&(b||(this.pendingClip===Xe?P.clip("evenodd"):P.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),P.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const I=this.ctx.mozCurrentTransform;if(0===I[1]&&0===I[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(I[0]),Math.abs(I[3]));else{const b=Math.abs(I[0]*I[3]-I[2]*I[1]),P=Math.hypot(I[0],I[2]),L=Math.hypot(I[1],I[3]);this._cachedGetSinglePixelWidth=Math.max(P,L)/b}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){const{lineWidth:I}=this.current,b=this.ctx.mozCurrentTransform;let P,L;if(0===b[1]&&0===b[2]){const Q=Math.abs(b[0]),ne=Math.abs(b[3]);if(0===I)P=1/Q,L=1/ne;else{const U=Q*I,be=ne*I;P=U<1?1/U:1,L=be<1?1/be:1}}else{const Q=Math.abs(b[0]*b[3]-b[2]*b[1]),ne=Math.hypot(b[0],b[1]),U=Math.hypot(b[2],b[3]);if(0===I)P=U/Q,L=ne/Q;else{const be=I*Q;P=U>be?U/be:1,L=ne>be?ne/be:1}}this._cachedScaleForStroking=[P,L]}return this._cachedScaleForStroking}rescaleAndStroke(I){const{ctx:b}=this,{lineWidth:P}=this.current,[L,Q]=this.getScaleForStroking();if(b.lineWidth=P||1,1===L&&1===Q)return void b.stroke();let ne,U,be;I&&(ne=b.mozCurrentTransform.slice(),U=b.getLineDash().slice(),be=b.lineDashOffset),b.scale(L,Q);const je=Math.max(L,Q);b.setLineDash(b.getLineDash().map(Pe=>Pe/je)),b.lineDashOffset/=je,b.stroke(),I&&(b.setTransform(...ne),b.setLineDash(U),b.lineDashOffset=be)}getCanvasPosition(I,b){const P=this.ctx.mozCurrentTransform;return[P[0]*I+P[2]*b+P[4],P[1]*I+P[3]*b+P[5]]}isContentVisible(){for(let I=this.markedContentStack.length-1;I>=0;I--)if(!this.markedContentStack[I].visible)return!1;return!0}}x.CanvasGraphics=it;for(const ve in s.OPS)void 0!==it.prototype[ve]&&(it.prototype[s.OPS[ve]]=it.prototype[ve])},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.TilingPattern=x.PathType=void 0,x.getShadingPattern=function Y(ae){switch(ae[0]){case"RadialAxial":return new re(ae);case"Mesh":return new he(ae);case"Dummy":return new ee}throw new Error(`Unknown IR type: ${ae[0]}`)};var s=R(1),te=R(3);const O={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function pe(ae,q){if(!q||te.isNodeJS)return;const fe=q[2]-q[0],z=q[3]-q[1],K=new Path2D;K.rect(q[0],q[1],fe,z),ae.clip(K)}x.PathType=O;class ie{constructor(){this.constructor===ie&&(0,s.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,s.unreachable)("Abstract method `getPattern` called.")}}class re extends ie{constructor(q){super(),this._type=q[1],this._bbox=q[2],this._colorStops=q[3],this._p0=q[4],this._p1=q[5],this._r0=q[6],this._r1=q[7],this.matrix=null}_createGradient(q){let fe;"axial"===this._type?fe=q.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(fe=q.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const z of this._colorStops)fe.addColorStop(z[0],z[1]);return fe}getPattern(q,fe,z,K){let E;if(K===O.STROKE||K===O.FILL){const A=fe.current.getClippedPathBoundingBox(K,q.mozCurrentTransform)||[0,0,0,0],F=Math.ceil(A[2]-A[0])||1,X=Math.ceil(A[3]-A[1])||1,N=fe.cachedCanvases.getCanvas("pattern",F,X,!0),J=N.context;J.clearRect(0,0,J.canvas.width,J.canvas.height),J.beginPath(),J.rect(0,0,J.canvas.width,J.canvas.height),J.translate(-A[0],-A[1]),z=s.Util.transform(z,[1,0,0,1,A[0],A[1]]),J.transform.apply(J,fe.baseTransform),this.matrix&&J.transform.apply(J,this.matrix),pe(J,this._bbox),J.fillStyle=this._createGradient(J),J.fill(),E=q.createPattern(N.canvas,"no-repeat");const G=new DOMMatrix(z);try{E.setTransform(G)}catch(S){(0,s.warn)(`RadialAxialShadingPattern.getPattern: "${S?.message}".`)}}else pe(q,this._bbox),E=this._createGradient(q);return E}}function B(ae,q,fe,z,K,E,A,F){const X=q.coords,N=q.colors,J=ae.data,G=4*ae.width;let S;X[fe+1]>X[z+1]&&(S=fe,fe=z,z=S,S=E,E=A,A=S),X[z+1]>X[K+1]&&(S=z,z=K,K=S,S=A,A=F,F=S),X[fe+1]>X[z+1]&&(S=fe,fe=z,z=S,S=E,E=A,A=S);const oe=(X[fe]+q.offsetX)*q.scaleX,W=(X[fe+1]+q.offsetY)*q.scaleY,le=(X[z]+q.offsetX)*q.scaleX,me=(X[z+1]+q.offsetY)*q.scaleY,ye=(X[K]+q.offsetX)*q.scaleX,Re=(X[K+1]+q.offsetY)*q.scaleY;if(W>=Re)return;const Ve=N[E],Xe=N[E+1],it=N[E+2],ve=N[A],I=N[A+1],b=N[A+2],P=N[F],L=N[F+1],Q=N[F+2],ne=Math.round(W),U=Math.round(Re);let be,je,Pe,Ue,Be,Ye,Qe,gt;for(let Tt=ne;Tt<=U;Tt++){if(Tt<me){let Ot;Ot=Tt<W?0:(W-Tt)/(W-me),be=oe-(oe-le)*Ot,je=Ve-(Ve-ve)*Ot,Pe=Xe-(Xe-I)*Ot,Ue=it-(it-b)*Ot}else{let Ot;Ot=Tt>Re?1:me===Re?0:(me-Tt)/(me-Re),be=le-(le-ye)*Ot,je=ve-(ve-P)*Ot,Pe=I-(I-L)*Ot,Ue=b-(b-Q)*Ot}let lt;lt=Tt<W?0:Tt>Re?1:(W-Tt)/(W-Re),Be=oe-(oe-ye)*lt,Ye=Ve-(Ve-P)*lt,Qe=Xe-(Xe-L)*lt,gt=it-(it-Q)*lt;const yt=Math.round(Math.min(be,Be)),ct=Math.round(Math.max(be,Be));let Rt=G*Tt+4*yt;for(let Ot=yt;Ot<=ct;Ot++)lt=(be-Ot)/(be-Be),lt<0?lt=0:lt>1&&(lt=1),J[Rt++]=je-(je-Ye)*lt|0,J[Rt++]=Pe-(Pe-Qe)*lt|0,J[Rt++]=Ue-(Ue-gt)*lt|0,J[Rt++]=255}}function ce(ae,q,fe){const z=q.coords,K=q.colors;let E,A;switch(q.type){case"lattice":const F=q.verticesPerRow,X=Math.floor(z.length/F)-1,N=F-1;for(E=0;E<X;E++){let J=E*F;for(let G=0;G<N;G++,J++)B(ae,fe,z[J],z[J+1],z[J+F],K[J],K[J+1],K[J+F]),B(ae,fe,z[J+F+1],z[J+1],z[J+F],K[J+F+1],K[J+1],K[J+F])}break;case"triangles":for(E=0,A=z.length;E<A;E+=3)B(ae,fe,z[E],z[E+1],z[E+2],K[E],K[E+1],K[E+2]);break;default:throw new Error("illegal figure")}}class he extends ie{constructor(q){super(),this._coords=q[2],this._colors=q[3],this._figures=q[4],this._bounds=q[5],this._bbox=q[7],this._background=q[8],this.matrix=null}_createMeshCanvas(q,fe,z){const F=Math.floor(this._bounds[0]),X=Math.floor(this._bounds[1]),N=Math.ceil(this._bounds[2])-F,J=Math.ceil(this._bounds[3])-X,G=Math.min(Math.ceil(Math.abs(N*q[0]*1.1)),3e3),S=Math.min(Math.ceil(Math.abs(J*q[1]*1.1)),3e3),oe=N/G,W=J/S,le={coords:this._coords,colors:this._colors,offsetX:-F,offsetY:-X,scaleX:1/oe,scaleY:1/W},Re=z.getCanvas("mesh",G+4,S+4,!1),Ve=Re.context,Xe=Ve.createImageData(G,S);if(fe){const ve=Xe.data;for(let I=0,b=ve.length;I<b;I+=4)ve[I]=fe[0],ve[I+1]=fe[1],ve[I+2]=fe[2],ve[I+3]=255}for(const ve of this._figures)ce(Xe,ve,le);return Ve.putImageData(Xe,2,2),{canvas:Re.canvas,offsetX:F-2*oe,offsetY:X-2*W,scaleX:oe,scaleY:W}}getPattern(q,fe,z,K){let E;if(pe(q,this._bbox),K===O.SHADING)E=s.Util.singularValueDecompose2dScale(q.mozCurrentTransform);else if(E=s.Util.singularValueDecompose2dScale(fe.baseTransform),this.matrix){const F=s.Util.singularValueDecompose2dScale(this.matrix);E=[E[0]*F[0],E[1]*F[1]]}const A=this._createMeshCanvas(E,K===O.SHADING?null:this._background,fe.cachedCanvases);return K!==O.SHADING&&(q.setTransform.apply(q,fe.baseTransform),this.matrix&&q.transform.apply(q,this.matrix)),q.translate(A.offsetX,A.offsetY),q.scale(A.scaleX,A.scaleY),q.createPattern(A.canvas,"no-repeat")}}class ee extends ie{getPattern(){return"hotpink"}}class ${static get MAX_PATTERN_SIZE(){return(0,s.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(q,fe,z,K,E){this.operatorList=q[2],this.matrix=q[3]||[1,0,0,1,0,0],this.bbox=q[4],this.xstep=q[5],this.ystep=q[6],this.paintType=q[7],this.tilingType=q[8],this.color=fe,this.ctx=z,this.canvasGraphicsFactory=K,this.baseTransform=E}createPatternCanvas(q){const fe=this.operatorList,z=this.bbox,K=this.xstep,E=this.ystep,A=this.paintType,X=this.color,N=this.canvasGraphicsFactory;(0,s.info)("TilingType: "+this.tilingType);const J=z[0],G=z[1],S=z[2],oe=z[3],W=s.Util.singularValueDecompose2dScale(this.matrix),le=s.Util.singularValueDecompose2dScale(this.baseTransform),me=[W[0]*le[0],W[1]*le[1]],ye=this.getSizeAndScale(K,this.ctx.canvas.width,me[0]),Re=this.getSizeAndScale(E,this.ctx.canvas.height,me[1]),Ve=q.cachedCanvases.getCanvas("pattern",ye.size,Re.size,!0),Xe=Ve.context,it=N.createCanvasGraphics(Xe);it.groupLevel=q.groupLevel,this.setFillAndStrokeStyleToContext(it,A,X);let ve=J,I=G,b=S,P=oe;return J<0&&(ve=0,b+=Math.abs(J)),G<0&&(I=0,P+=Math.abs(G)),Xe.translate(-ye.scale*ve,-Re.scale*I),it.transform(ye.scale,0,0,Re.scale,0,0),Xe.save(),this.clipBbox(it,ve,I,b,P),it.baseTransform=it.ctx.mozCurrentTransform.slice(),it.executeOperatorList(fe),it.endDrawing(),{canvas:Ve.canvas,scaleX:ye.scale,scaleY:Re.scale,offsetX:ve,offsetY:I}}getSizeAndScale(q,fe,z){q=Math.abs(q);const K=Math.max($.MAX_PATTERN_SIZE,fe);let E=Math.ceil(q*z);return E>=K?E=K:z=E/q,{scale:z,size:E}}clipBbox(q,fe,z,K,E){q.ctx.rect(fe,z,K-fe,E-z),q.current.updateRectMinMax(q.ctx.mozCurrentTransform,[fe,z,K,E]),q.clip(),q.endPath()}setFillAndStrokeStyleToContext(q,fe,z){const K=q.ctx,E=q.current;switch(fe){case 1:const A=this.ctx;K.fillStyle=A.fillStyle,K.strokeStyle=A.strokeStyle,E.fillColor=A.fillStyle,E.strokeColor=A.strokeStyle;break;case 2:const F=s.Util.makeHexColor(z[0],z[1],z[2]);K.fillStyle=F,K.strokeStyle=F,E.fillColor=F,E.strokeColor=F;break;default:throw new s.FormatError(`Unsupported paint type: ${fe}`)}}getPattern(q,fe,z,K){let E=z;K!==O.SHADING&&(E=s.Util.transform(E,fe.baseTransform),this.matrix&&(E=s.Util.transform(E,this.matrix)));const A=this.createPatternCanvas(fe);let F=new DOMMatrix(E);F=F.translate(A.offsetX,A.offsetY),F=F.scale(1/A.scaleX,1/A.scaleY);const X=q.createPattern(A.canvas,"repeat");try{X.setTransform(F)}catch(N){(0,s.warn)(`TilingPattern.getPattern: "${N?.message}".`)}return X}}x.TilingPattern=$},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.applyMaskImageData=function te({src:O,srcPos:pe=0,dest:ie,destPos:re=0,width:B,height:ce,inverseDecode:he=!1}){const ee=s.FeatureTest.isLittleEndian?4278190080:255,[Y,se]=he?[0,ee]:[ee,0],$=B>>3,ae=7&B,q=O.length;ie=new Uint32Array(ie.buffer);for(let fe=0;fe<ce;fe++){for(const K=pe+$;pe<K;pe++){const E=pe<q?O[pe]:255;ie[re++]=128&E?se:Y,ie[re++]=64&E?se:Y,ie[re++]=32&E?se:Y,ie[re++]=16&E?se:Y,ie[re++]=8&E?se:Y,ie[re++]=4&E?se:Y,ie[re++]=2&E?se:Y,ie[re++]=1&E?se:Y}if(0===ae)continue;const z=pe<q?O[pe++]:255;for(let K=0;K<ae;K++)ie[re++]=z&1<<7-K?se:Y}return{srcPos:pe,destPos:re}};var s=R(1)},(Ie,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.GlobalWorkerOptions=void 0;const R=Object.create(null);x.GlobalWorkerOptions=R,R.workerPort=void 0===R.workerPort?null:R.workerPort,R.workerSrc=void 0===R.workerSrc?"":R.workerSrc},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.MessageHandler=void 0;var s=R(1);function pe(re){switch(re instanceof Error||"object"==typeof re&&null!==re||(0,s.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),re.name){case"AbortException":return new s.AbortException(re.message);case"MissingPDFException":return new s.MissingPDFException(re.message);case"PasswordException":return new s.PasswordException(re.message,re.code);case"UnexpectedResponseException":return new s.UnexpectedResponseException(re.message,re.status);case"UnknownErrorException":return new s.UnknownErrorException(re.message,re.details);default:return new s.UnknownErrorException(re.message,re.toString())}}x.MessageHandler=class ie{constructor(B,ce,he){this.sourceName=B,this.targetName=ce,this.comObj=he,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=ee=>{const Y=ee.data;if(Y.targetName!==this.sourceName)return;if(Y.stream)return void this._processStreamMessage(Y);if(Y.callback){const $=Y.callbackId,ae=this.callbackCapabilities[$];if(!ae)throw new Error(`Cannot resolve callback ${$}`);if(delete this.callbackCapabilities[$],1===Y.callback)ae.resolve(Y.data);else{if(2!==Y.callback)throw new Error("Unexpected callback case");ae.reject(pe(Y.reason))}return}const se=this.actionHandler[Y.action];if(!se)throw new Error(`Unknown action from worker: ${Y.action}`);if(Y.callbackId){const $=this.sourceName,ae=Y.sourceName;new Promise(function(q){q(se(Y.data))}).then(function(q){he.postMessage({sourceName:$,targetName:ae,callback:1,callbackId:Y.callbackId,data:q})},function(q){he.postMessage({sourceName:$,targetName:ae,callback:2,callbackId:Y.callbackId,reason:pe(q)})})}else Y.streamId?this._createStreamSink(Y):se(Y.data)},he.addEventListener("message",this._onComObjOnMessage)}on(B,ce){const he=this.actionHandler;if(he[B])throw new Error(`There is already an actionName called "${B}"`);he[B]=ce}send(B,ce,he){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:B,data:ce},he)}sendWithPromise(B,ce,he){const ee=this.callbackId++,Y=(0,s.createPromiseCapability)();this.callbackCapabilities[ee]=Y;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:B,callbackId:ee,data:ce},he)}catch(se){Y.reject(se)}return Y.promise}sendWithStream(B,ce,he,ee){const Y=this.streamId++,se=this.sourceName,$=this.targetName,ae=this.comObj;return new ReadableStream({start:q=>{const fe=(0,s.createPromiseCapability)();return this.streamControllers[Y]={controller:q,startCall:fe,pullCall:null,cancelCall:null,isClosed:!1},ae.postMessage({sourceName:se,targetName:$,action:B,streamId:Y,data:ce,desiredSize:q.desiredSize},ee),fe.promise},pull:q=>{const fe=(0,s.createPromiseCapability)();return this.streamControllers[Y].pullCall=fe,ae.postMessage({sourceName:se,targetName:$,stream:6,streamId:Y,desiredSize:q.desiredSize}),fe.promise},cancel:q=>{(0,s.assert)(q instanceof Error,"cancel must have a valid reason");const fe=(0,s.createPromiseCapability)();return this.streamControllers[Y].cancelCall=fe,this.streamControllers[Y].isClosed=!0,ae.postMessage({sourceName:se,targetName:$,stream:1,streamId:Y,reason:pe(q)}),fe.promise}},he)}_createStreamSink(B){const ce=B.streamId,he=this.sourceName,ee=B.sourceName,Y=this.comObj,se=this,$=this.actionHandler[B.action],ae={enqueue(q,fe=1,z){if(this.isCancelled)return;const K=this.desiredSize;this.desiredSize-=fe,K>0&&this.desiredSize<=0&&(this.sinkCapability=(0,s.createPromiseCapability)(),this.ready=this.sinkCapability.promise),Y.postMessage({sourceName:he,targetName:ee,stream:4,streamId:ce,chunk:q},z)},close(){this.isCancelled||(this.isCancelled=!0,Y.postMessage({sourceName:he,targetName:ee,stream:3,streamId:ce}),delete se.streamSinks[ce])},error(q){(0,s.assert)(q instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,Y.postMessage({sourceName:he,targetName:ee,stream:5,streamId:ce,reason:pe(q)}))},sinkCapability:(0,s.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:B.desiredSize,ready:null};ae.sinkCapability.resolve(),ae.ready=ae.sinkCapability.promise,this.streamSinks[ce]=ae,new Promise(function(q){q($(B.data,ae))}).then(function(){Y.postMessage({sourceName:he,targetName:ee,stream:8,streamId:ce,success:!0})},function(q){Y.postMessage({sourceName:he,targetName:ee,stream:8,streamId:ce,reason:pe(q)})})}_processStreamMessage(B){const ce=B.streamId,he=this.sourceName,ee=B.sourceName,Y=this.comObj,se=this.streamControllers[ce],$=this.streamSinks[ce];switch(B.stream){case 8:B.success?se.startCall.resolve():se.startCall.reject(pe(B.reason));break;case 7:B.success?se.pullCall.resolve():se.pullCall.reject(pe(B.reason));break;case 6:if(!$){Y.postMessage({sourceName:he,targetName:ee,stream:7,streamId:ce,success:!0});break}$.desiredSize<=0&&B.desiredSize>0&&$.sinkCapability.resolve(),$.desiredSize=B.desiredSize,new Promise(function(ae){ae($.onPull&&$.onPull())}).then(function(){Y.postMessage({sourceName:he,targetName:ee,stream:7,streamId:ce,success:!0})},function(ae){Y.postMessage({sourceName:he,targetName:ee,stream:7,streamId:ce,reason:pe(ae)})});break;case 4:if((0,s.assert)(se,"enqueue should have stream controller"),se.isClosed)break;se.controller.enqueue(B.chunk);break;case 3:if((0,s.assert)(se,"close should have stream controller"),se.isClosed)break;se.isClosed=!0,se.controller.close(),this._deleteStreamController(se,ce);break;case 5:(0,s.assert)(se,"error should have stream controller"),se.controller.error(pe(B.reason)),this._deleteStreamController(se,ce);break;case 2:B.success?se.cancelCall.resolve():se.cancelCall.reject(pe(B.reason)),this._deleteStreamController(se,ce);break;case 1:if(!$)break;new Promise(function(ae){ae($.onCancel&&$.onCancel(pe(B.reason)))}).then(function(){Y.postMessage({sourceName:he,targetName:ee,stream:2,streamId:ce,success:!0})},function(ae){Y.postMessage({sourceName:he,targetName:ee,stream:2,streamId:ce,reason:pe(ae)})}),$.sinkCapability.reject(pe(B.reason)),$.isCancelled=!0,delete this.streamSinks[ce];break;default:throw new Error("Unexpected stream case")}}_deleteStreamController(B,ce){var he=this;return _asyncToGenerator(function*(){yield Promise.allSettled([B.startCall&&B.startCall.promise,B.pullCall&&B.pullCall.promise,B.cancelCall&&B.cancelCall.promise]),delete he.streamControllers[ce]})()}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.Metadata=void 0;var s=R(1),te=new WeakMap,O=new WeakMap;x.Metadata=class pe{constructor({parsedData:re,rawData:B}){_classPrivateFieldInitSpec(this,te,{writable:!0,value:void 0}),_classPrivateFieldInitSpec(this,O,{writable:!0,value:void 0}),_classPrivateFieldSet(this,te,re),_classPrivateFieldSet(this,O,B)}getRaw(){return _classPrivateFieldGet(this,O)}get(re){return _classPrivateFieldGet(this,te).get(re)??null}getAll(){return(0,s.objectFromMap)(_classPrivateFieldGet(this,te))}has(re){return _classPrivateFieldGet(this,te).has(re)}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.OptionalContentConfig=void 0;var s=R(1);class te{constructor(ie,re){this.visible=!0,this.name=ie,this.intent=re}}x.OptionalContentConfig=class O{constructor(ie){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==ie){this.name=ie.name,this.creator=ie.creator,this._order=ie.order;for(const re of ie.groups)this._groups.set(re.id,new te(re.name,re.intent));if("OFF"===ie.baseState)for(const re of this._groups)re.visible=!1;for(const re of ie.on)this._groups.get(re).visible=!0;for(const re of ie.off)this._groups.get(re).visible=!1}}_evaluateVisibilityExpression(ie){const re=ie.length;if(re<2)return!0;const B=ie[0];for(let ce=1;ce<re;ce++){const he=ie[ce];let ee;if(Array.isArray(he))ee=this._evaluateVisibilityExpression(he);else{if(!this._groups.has(he))return(0,s.warn)(`Optional content group not found: ${he}`),!0;ee=this._groups.get(he).visible}switch(B){case"And":if(!ee)return!1;break;case"Or":if(ee)return!0;break;case"Not":return!ee;default:return!0}}return"And"===B}isVisible(ie){if(0===this._groups.size)return!0;if(!ie)return(0,s.warn)("Optional content group not defined."),!0;if("OCG"===ie.type)return this._groups.has(ie.id)?this._groups.get(ie.id).visible:((0,s.warn)(`Optional content group not found: ${ie.id}`),!0);if("OCMD"===ie.type){if(ie.expression)return this._evaluateVisibilityExpression(ie.expression);if(!ie.policy||"AnyOn"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,s.warn)(`Optional content group not found: ${re}`),!0;if(this._groups.get(re).visible)return!0}return!1}if("AllOn"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,s.warn)(`Optional content group not found: ${re}`),!0;if(!this._groups.get(re).visible)return!1}return!0}if("AnyOff"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,s.warn)(`Optional content group not found: ${re}`),!0;if(!this._groups.get(re).visible)return!0}return!1}if("AllOff"===ie.policy){for(const re of ie.ids){if(!this._groups.has(re))return(0,s.warn)(`Optional content group not found: ${re}`),!0;if(this._groups.get(re).visible)return!1}return!0}return(0,s.warn)(`Unknown optional content policy ${ie.policy}.`),!0}return(0,s.warn)(`Unknown group type ${ie.type}.`),!0}setVisibility(ie,re=!0){this._groups.has(ie)?this._groups.get(ie).visible=!!re:(0,s.warn)(`Optional content group not found: ${ie}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,s.objectFromMap)(this._groups):null}getGroup(ie){return this._groups.get(ie)||null}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFDataTransportStream=void 0;var s=R(1),te=R(5);x.PDFDataTransportStream=class O{constructor(B,ce){(0,s.assert)(ce,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=B.progressiveDone||!1,this._contentDispositionFilename=B.contentDispositionFilename||null;const he=B.initialData;if(he?.length>0){const ee=new Uint8Array(he).buffer;this._queuedChunks.push(ee)}this._pdfDataRangeTransport=ce,this._isStreamingSupported=!B.disableStream,this._isRangeSupported=!B.disableRange,this._contentLength=B.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((ee,Y)=>{this._onReceiveData({begin:ee,chunk:Y})}),this._pdfDataRangeTransport.addProgressListener((ee,Y)=>{this._onProgress({loaded:ee,total:Y})}),this._pdfDataRangeTransport.addProgressiveReadListener(ee=>{this._onReceiveData({chunk:ee})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(B){const ce=new Uint8Array(B.chunk).buffer;if(void 0===B.begin)this._fullRequestReader?this._fullRequestReader._enqueue(ce):this._queuedChunks.push(ce);else{const he=this._rangeReaders.some(function(ee){return ee._begin===B.begin&&(ee._enqueue(ce),!0)});(0,s.assert)(he,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(B){if(void 0===B.total){const ce=this._rangeReaders[0];ce?.onProgress&&ce.onProgress({loaded:B.loaded})}else{const ce=this._fullRequestReader;ce?.onProgress&&ce.onProgress({loaded:B.loaded,total:B.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(B){const ce=this._rangeReaders.indexOf(B);ce>=0&&this._rangeReaders.splice(ce,1)}getFullReader(){(0,s.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const B=this._queuedChunks;return this._queuedChunks=null,new pe(this,B,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(B,ce){if(ce<=this._progressiveDataLength)return null;const he=new ie(this,B,ce);return this._pdfDataRangeTransport.requestDataRange(B,ce),this._rangeReaders.push(he),he}cancelAllRequests(B){this._fullRequestReader&&this._fullRequestReader.cancel(B);for(const ce of this._rangeReaders.slice(0))ce.cancel(B);this._pdfDataRangeTransport.abort()}};class pe{constructor(B,ce,he=!1,ee=null){this._stream=B,this._done=he||!1,this._filename=(0,te.isPdfFile)(ee)?ee:null,this._queuedChunks=ce||[],this._loaded=0;for(const Y of this._queuedChunks)this._loaded+=Y.byteLength;this._requests=[],this._headersReady=Promise.resolve(),B._fullRequestReader=this,this.onProgress=null}_enqueue(B){this._done||(this._requests.length>0?this._requests.shift().resolve({value:B,done:!1}):this._queuedChunks.push(B),this._loaded+=B.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}read(){var B=this;return _asyncToGenerator(function*(){if(B._queuedChunks.length>0)return{value:B._queuedChunks.shift(),done:!1};if(B._done)return{value:void 0,done:!0};const ce=(0,s.createPromiseCapability)();return B._requests.push(ce),ce.promise})()}cancel(B){this._done=!0;for(const ce of this._requests)ce.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class ie{constructor(B,ce,he){this._stream=B,this._begin=ce,this._end=he,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(B){if(!this._done){if(0===this._requests.length)this._queuedChunk=B;else{this._requests.shift().resolve({value:B,done:!1});for(const he of this._requests)he.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}read(){var B=this;return _asyncToGenerator(function*(){if(B._queuedChunk){const he=B._queuedChunk;return B._queuedChunk=null,{value:he,done:!1}}if(B._done)return{value:void 0,done:!0};const ce=(0,s.createPromiseCapability)();return B._requests.push(ce),ce.promise})()}cancel(B){this._done=!0;for(const ce of this._requests)ce.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(Ie,x)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XfaText=void 0;class R{static textContent(te){const O=[],pe={items:O,styles:Object.create(null)};return function ie(re){if(!re)return;let B=null;const ce=re.name;if("#text"===ce)B=re.value;else{if(!R.shouldBuildText(ce))return;re?.attributes?.textContent?B=re.attributes.textContent:re.value&&(B=re.value)}if(null!==B&&O.push({str:B}),re.children)for(const he of re.children)ie(he)}(te),pe}static shouldBuildText(te){return!("textarea"===te||"input"===te||"option"===te||"select"===te)}}x.XfaText=R},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.NodeStandardFontDataFactory=x.NodeCanvasFactory=x.NodeCMapReaderFactory=void 0;var s=R(6);const te=function(re){return new Promise((B,ce)=>{__webpack_require__(172).readFile(re,(ee,Y)=>{!ee&&Y?B(new Uint8Array(Y)):ce(new Error(ee))})})};x.NodeCanvasFactory=class O extends s.BaseCanvasFactory{_createCanvas(B,ce){return __webpack_require__(3414).createCanvas(B,ce)}},x.NodeCMapReaderFactory=class pe extends s.BaseCMapReaderFactory{_fetchData(B,ce){return te(B).then(he=>({cMapData:he,compressionType:ce}))}},x.NodeStandardFontDataFactory=class ie extends s.BaseStandardFontDataFactory{_fetchData(B){return te(B)}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.AnnotationLayer=void 0;var s=R(1),te=R(5),O=R(8),pe=R(21),ie=R(22);const B=new WeakSet;function ce(I){return{width:I[2]-I[0],height:I[3]-I[1]}}class he{static create(b){switch(b.data.annotationType){case s.AnnotationType.LINK:return new Y(b);case s.AnnotationType.TEXT:return new se(b);case s.AnnotationType.WIDGET:switch(b.data.fieldType){case"Tx":return new ae(b);case"Btn":return b.data.radioButton?new fe(b):b.data.checkBox?new q(b):new z(b);case"Ch":return new K(b)}return new $(b);case s.AnnotationType.POPUP:return new E(b);case s.AnnotationType.FREETEXT:return new F(b);case s.AnnotationType.LINE:return new X(b);case s.AnnotationType.SQUARE:return new N(b);case s.AnnotationType.CIRCLE:return new J(b);case s.AnnotationType.POLYLINE:return new G(b);case s.AnnotationType.CARET:return new oe(b);case s.AnnotationType.INK:return new W(b);case s.AnnotationType.POLYGON:return new S(b);case s.AnnotationType.HIGHLIGHT:return new le(b);case s.AnnotationType.UNDERLINE:return new me(b);case s.AnnotationType.SQUIGGLY:return new ye(b);case s.AnnotationType.STRIKEOUT:return new Re(b);case s.AnnotationType.STAMP:return new Ve(b);case s.AnnotationType.FILEATTACHMENT:return new Xe(b);default:return new ee(b)}}}class ee{constructor(b,{isRenderable:P=!1,ignoreBorder:L=!1,createQuadrilaterals:Q=!1}={}){this.isRenderable=P,this.data=b.data,this.layer=b.layer,this.page=b.page,this.viewport=b.viewport,this.linkService=b.linkService,this.downloadManager=b.downloadManager,this.imageResourcesPath=b.imageResourcesPath,this.renderForms=b.renderForms,this.svgFactory=b.svgFactory,this.annotationStorage=b.annotationStorage,this.enableScripting=b.enableScripting,this.hasJSActions=b.hasJSActions,this._fieldObjects=b.fieldObjects,this._mouseState=b.mouseState,P&&(this.container=this._createContainer(L)),Q&&(this.quadrilaterals=this._createQuadrilaterals(L))}_createContainer(b=!1){const P=this.data,L=this.page,Q=this.viewport,ne=document.createElement("section");let{width:U,height:be}=ce(P.rect);ne.setAttribute("data-annotation-id",P.id);const je=s.Util.normalizeRect([P.rect[0],L.view[3]-P.rect[1]+L.view[1],P.rect[2],L.view[3]-P.rect[3]+L.view[1]]);if(P.hasOwnCanvas){const Pe=Q.transform.slice(),[Ue,Be]=s.Util.singularValueDecompose2dScale(Pe);U=Math.ceil(U*Ue),be=Math.ceil(be*Be),je[0]*=Ue,je[1]*=Be;for(let Ye=0;Ye<4;Ye++)Pe[Ye]=Math.sign(Pe[Ye]);ne.style.transform=`matrix(${Pe.join(",")})`}else ne.style.transform=`matrix(${Q.transform.join(",")})`;if(ne.style.transformOrigin=`${-je[0]}px ${-je[1]}px`,!b&&P.borderStyle.width>0){ne.style.borderWidth=`${P.borderStyle.width}px`,P.borderStyle.style!==s.AnnotationBorderStyleType.UNDERLINE&&(U-=2*P.borderStyle.width,be-=2*P.borderStyle.width);const Pe=P.borderStyle.horizontalCornerRadius,Ue=P.borderStyle.verticalCornerRadius;switch((Pe>0||Ue>0)&&(ne.style.borderRadius=`${Pe}px / ${Ue}px`),P.borderStyle.style){case s.AnnotationBorderStyleType.SOLID:ne.style.borderStyle="solid";break;case s.AnnotationBorderStyleType.DASHED:ne.style.borderStyle="dashed";break;case s.AnnotationBorderStyleType.BEVELED:(0,s.warn)("Unimplemented border style: beveled");break;case s.AnnotationBorderStyleType.INSET:(0,s.warn)("Unimplemented border style: inset");break;case s.AnnotationBorderStyleType.UNDERLINE:ne.style.borderBottomStyle="solid"}P.borderColor||P.color?ne.style.borderColor=s.Util.makeHexColor(0|P.color[0],0|P.color[1],0|P.color[2]):ne.style.borderWidth=0}return ne.style.left=`${je[0]}px`,ne.style.top=`${je[1]}px`,P.hasOwnCanvas?ne.style.width=ne.style.height="auto":(ne.style.width=`${U}px`,ne.style.height=`${be}px`),ne}get _commonActions(){const b=(P,L,Q)=>{const ne=Q.detail[P];Q.target.style[L]=pe.ColorConverters[`${ne[0]}_HTML`](ne.slice(1))};return(0,s.shadow)(this,"_commonActions",{display:P=>{const L=P.detail.display%2==1;P.target.style.visibility=L?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:L,print:0===P.detail.display||3===P.detail.display})},print:P=>{this.annotationStorage.setValue(this.data.id,{print:P.detail.print})},hidden:P=>{P.target.style.visibility=P.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:P.detail.hidden})},focus:P=>{setTimeout(()=>P.target.focus({preventScroll:!1}),0)},userName:P=>{P.target.title=P.detail.userName},readonly:P=>{P.detail.readonly?P.target.setAttribute("readonly",""):P.target.removeAttribute("readonly")},required:P=>{P.detail.required?P.target.setAttribute("required",""):P.target.removeAttribute("required")},bgColor:P=>{b("bgColor","backgroundColor",P)},fillColor:P=>{b("fillColor","backgroundColor",P)},fgColor:P=>{b("fgColor","color",P)},textColor:P=>{b("textColor","color",P)},borderColor:P=>{b("borderColor","borderColor",P)},strokeColor:P=>{b("strokeColor","borderColor",P)}})}_dispatchEventFromSandbox(b,P){const L=this._commonActions;for(const Q of Object.keys(P.detail)){const ne=b[Q]||L[Q];ne&&ne(P)}}_setDefaultPropertiesFromJS(b){if(!this.enableScripting)return;const P=this.annotationStorage.getRawValue(this.data.id);if(!P)return;const L=this._commonActions;for(const[Q,ne]of Object.entries(P)){const U=L[Q];U&&(U({detail:ne,target:b}),delete P[Q])}}_createQuadrilaterals(b=!1){if(!this.data.quadPoints)return null;const P=[],L=this.data.rect;for(const Q of this.data.quadPoints)this.data.rect=[Q[2].x,Q[2].y,Q[1].x,Q[1].y],P.push(this._createContainer(b));return this.data.rect=L,P}_createPopup(b,P){let L=this.container;this.quadrilaterals&&(b=b||this.quadrilaterals,L=this.quadrilaterals[0]),b||((b=document.createElement("div")).style.height=L.style.height,b.style.width=L.style.width,L.appendChild(b));const ne=new A({container:L,trigger:b,color:P.color,titleObj:P.titleObj,modificationDate:P.modificationDate,contentsObj:P.contentsObj,richText:P.richText,hideWrapper:!0}).render();ne.style.left=L.style.width,L.appendChild(ne)}_renderQuadrilaterals(b){for(const P of this.quadrilaterals)P.className=b;return this.quadrilaterals}render(){(0,s.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(b,P=null){const L=[];if(this._fieldObjects){const Q=this._fieldObjects[b];if(Q)for(const{page:ne,id:U,exportValues:be}of Q){if(-1===ne||U===P)continue;const je="string"==typeof be?be:null,Pe=document.getElementById(U);!Pe||B.has(Pe)?L.push({id:U,exportValue:je,domElement:Pe}):(0,s.warn)(`_getElementsByName - element not allowed: ${U}`)}return L}for(const Q of document.getElementsByName(b)){const{id:ne,exportValue:U}=Q;ne!==P&&(!B.has(Q)||L.push({id:ne,exportValue:U,domElement:Q}))}return L}static get platform(){const b=typeof navigator<"u"?navigator.platform:"";return(0,s.shadow)(this,"platform",{isWin:b.includes("Win"),isMac:b.includes("Mac")})}}class Y extends ee{constructor(b,P=null){super(b,{isRenderable:!!(b.data.url||b.data.dest||b.data.action||b.data.isTooltipOnly||b.data.resetForm||b.data.actions&&(b.data.actions.Action||b.data.actions["Mouse Up"]||b.data.actions["Mouse Down"])),ignoreBorder:!!P?.ignoreBorder,createQuadrilaterals:!0})}render(){const{data:b,linkService:P}=this,L=document.createElement("a");if(b.url)P.addLinkAttributes(L,b.url,b.newWindow);else if(b.action)this._bindNamedAction(L,b.action);else if(b.dest)this._bindLink(L,b.dest);else{let Q=!1;b.actions&&(b.actions.Action||b.actions["Mouse Up"]||b.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(Q=!0,this._bindJSAction(L,b)),b.resetForm?this._bindResetFormAction(L,b.resetForm):Q||this._bindLink(L,"")}return this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((Q,ne)=>{const U=0===ne?L:L.cloneNode();return Q.appendChild(U),Q}):(this.container.className="linkAnnotation",this.container.appendChild(L),this.container)}_bindLink(b,P){b.href=this.linkService.getDestinationHash(P),b.onclick=()=>(P&&this.linkService.goToDestination(P),!1),(P||""===P)&&(b.className="internalLink")}_bindNamedAction(b,P){b.href=this.linkService.getAnchorUrl(""),b.onclick=()=>(this.linkService.executeNamedAction(P),!1),b.className="internalLink"}_bindJSAction(b,P){b.href=this.linkService.getAnchorUrl("");const L=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const Q of Object.keys(P.actions)){const ne=L.get(Q);!ne||(b[ne]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P.id,name:Q}}),!1))}b.onclick||(b.onclick=()=>!1),b.className="internalLink"}_bindResetFormAction(b,P){const L=b.onclick;if(L||(b.href=this.linkService.getAnchorUrl("")),b.className="internalLink",!this._fieldObjects)return(0,s.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(L||(b.onclick=()=>!1));b.onclick=()=>{L&&L();const{fields:Q,refs:ne,include:U}=P,be=[];if(0!==Q.length||0!==ne.length){const Ue=new Set(ne);for(const Be of Q){const Ye=this._fieldObjects[Be]||[];for(const{id:Qe}of Ye)Ue.add(Qe)}for(const Be of Object.values(this._fieldObjects))for(const Ye of Be)Ue.has(Ye.id)===U&&be.push(Ye)}else for(const Ue of Object.values(this._fieldObjects))be.push(...Ue);const je=this.annotationStorage,Pe=[];for(const Ue of be){const{id:Be}=Ue;switch(Pe.push(Be),Ue.type){case"text":case"combobox":case"listbox":je.setValue(Be,{value:Ue.defaultValue||""});break;case"checkbox":case"radiobutton":je.setValue(Be,{value:Ue.defaultValue===Ue.exportValues});break;default:continue}const Ye=document.getElementById(Be);!Ye||!B.has(Ye)||Ye.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Pe,name:"ResetForm"}}),!1}}}class se extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str)})}render(){this.container.className="textAnnotation";const b=document.createElement("img");return b.style.height=this.container.style.height,b.style.width=this.container.style.width,b.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",b.alt="[{{type}} Annotation]",b.dataset.l10nId="text_annotation_type",b.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(b,this.data),this.container.appendChild(b),this.container}}class $ extends ee{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(b){const{isWin:P,isMac:L}=ee.platform;return P&&b.ctrlKey||L&&b.metaKey}_setEventListener(b,P,L,Q){P.includes("mouse")?b.addEventListener(P,ne=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:Q(ne),shift:ne.shiftKey,modifier:this._getKeyModifier(ne)}})}):b.addEventListener(P,ne=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:L,value:Q(ne)}})})}_setEventListeners(b,P,L){for(const[Q,ne]of P)("Action"===ne||this.data.actions?.[ne])&&this._setEventListener(b,Q,ne,L)}_setBackgroundColor(b){const P=this.data.backgroundColor||null;b.style.backgroundColor=null===P?"transparent":s.Util.makeHexColor(P[0],P[1],P[2])}}class ae extends ${constructor(b){super(b,{isRenderable:b.renderForms||!b.data.hasAppearance&&!!b.data.fieldValue})}setPropertyOnSiblings(b,P,L,Q){const ne=this.annotationStorage;for(const U of this._getElementsByName(b.name,b.id))U.domElement&&(U.domElement[P]=L),ne.setValue(U.id,{[Q]:L})}render(){const b=this.annotationStorage,P=this.data.id;this.container.className="textWidgetAnnotation";let L=null;if(this.renderForms){const Q=b.getValue(P,{value:this.data.fieldValue}),ne=Q.formattedValue||Q.value||"",U={userValue:null,formattedValue:null,valueOnFocus:""};this.data.multiLine?(L=document.createElement("textarea"),L.textContent=ne):(L=document.createElement("input"),L.type="text",L.setAttribute("value",ne)),B.add(L),L.disabled=this.data.readOnly,L.name=this.data.fieldName,L.tabIndex=1e3,U.userValue=ne,L.setAttribute("id",P),L.addEventListener("input",je=>{b.setValue(P,{value:je.target.value}),this.setPropertyOnSiblings(L,"value",je.target.value,"value")}),L.addEventListener("resetform",je=>{L.value=U.userValue=this.data.defaultFieldValue??"",U.formattedValue=null});let be=je=>{const{formattedValue:Pe}=U;null!=Pe&&(je.target.value=Pe),je.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){L.addEventListener("focus",Pe=>{U.userValue&&(Pe.target.value=U.userValue),U.valueOnFocus=Pe.target.value}),L.addEventListener("updatefromsandbox",Pe=>{this._dispatchEventFromSandbox({value(Be){U.userValue=Be.detail.value??"",b.setValue(P,{value:U.userValue.toString()}),Be.target.value=U.userValue},formattedValue(Be){const{formattedValue:Ye}=Be.detail;U.formattedValue=Ye,null!=Ye&&Be.target!==document.activeElement&&(Be.target.value=Ye),b.setValue(P,{formattedValue:Ye})},selRange(Be){Be.target.setSelectionRange(...Be.detail.selRange)}},Pe)}),L.addEventListener("keydown",Pe=>{let Ue=-1;if("Escape"===Pe.key?Ue=0:"Enter"===Pe.key?Ue=2:"Tab"===Pe.key&&(Ue=3),-1===Ue)return;const{value:Be}=Pe.target;U.valueOnFocus!==Be&&(U.userValue=Be,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:Be,willCommit:!0,commitKey:Ue,selStart:Pe.target.selectionStart,selEnd:Pe.target.selectionEnd}}))});const je=be;be=null,L.addEventListener("blur",Pe=>{const{value:Ue}=Pe.target;U.userValue=Ue,this._mouseState.isDown&&U.valueOnFocus!==Ue&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:Ue,willCommit:!0,commitKey:1,selStart:Pe.target.selectionStart,selEnd:Pe.target.selectionEnd}}),je(Pe)}),this.data.actions?.Keystroke&&L.addEventListener("beforeinput",Pe=>{const{data:Ue,target:Be}=Pe,{value:Ye,selectionStart:Qe,selectionEnd:gt}=Be;let Tt=Qe,lt=gt;switch(Pe.inputType){case"deleteWordBackward":{const yt=Ye.substring(0,Qe).match(/\w*[^\w]*$/);yt&&(Tt-=yt[0].length);break}case"deleteWordForward":{const yt=Ye.substring(Qe).match(/^[^\w]*\w*/);yt&&(lt+=yt[0].length);break}case"deleteContentBackward":Qe===gt&&(Tt-=1);break;case"deleteContentForward":Qe===gt&&(lt+=1)}Pe.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:Ye,change:Ue||"",willCommit:!1,selStart:Tt,selEnd:lt}})}),this._setEventListeners(L,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Pe=>Pe.target.value)}if(be&&L.addEventListener("blur",be),null!==this.data.maxLen&&(L.maxLength=this.data.maxLen),this.data.comb){const Pe=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;L.classList.add("comb"),L.style.letterSpacing=`calc(${Pe}px - 1ch)`}}else L=document.createElement("div"),L.textContent=this.data.fieldValue,L.style.verticalAlign="middle",L.style.display="table-cell";return this._setTextStyle(L),this._setBackgroundColor(L),this._setDefaultPropertiesFromJS(L),this.container.appendChild(L),this.container}_setTextStyle(b){const{fontSize:L,fontColor:Q}=this.data.defaultAppearanceData,ne=b.style;L&&(ne.fontSize=`${L}px`),ne.color=s.Util.makeHexColor(Q[0],Q[1],Q[2]),null!==this.data.textAlignment&&(ne.textAlign=["left","center","right"][this.data.textAlignment])}}class q extends ${constructor(b){super(b,{isRenderable:b.renderForms})}render(){const b=this.annotationStorage,P=this.data,L=P.id;let Q=b.getValue(L,{value:P.exportValue===P.fieldValue}).value;"string"==typeof Q&&(Q="Off"!==Q,b.setValue(L,{value:Q})),this.container.className="buttonWidgetAnnotation checkBox";const ne=document.createElement("input");return B.add(ne),ne.disabled=P.readOnly,ne.type="checkbox",ne.name=P.fieldName,Q&&ne.setAttribute("checked",!0),ne.setAttribute("id",L),ne.setAttribute("exportValue",P.exportValue),ne.tabIndex=1e3,ne.addEventListener("change",U=>{const{name:be,checked:je}=U.target;for(const Pe of this._getElementsByName(be,L)){const Ue=je&&Pe.exportValue===P.exportValue;Pe.domElement&&(Pe.domElement.checked=Ue),b.setValue(Pe.id,{value:Ue})}b.setValue(L,{value:je})}),ne.addEventListener("resetform",U=>{U.target.checked=(P.defaultFieldValue||"Off")===P.exportValue}),this.enableScripting&&this.hasJSActions&&(ne.addEventListener("updatefromsandbox",U=>{this._dispatchEventFromSandbox({value(je){je.target.checked="Off"!==je.detail.value,b.setValue(L,{value:je.target.checked})}},U)}),this._setEventListeners(ne,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],U=>U.target.checked)),this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.appendChild(ne),this.container}}class fe extends ${constructor(b){super(b,{isRenderable:b.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const b=this.annotationStorage,P=this.data,L=P.id;let Q=b.getValue(L,{value:P.fieldValue===P.buttonValue}).value;"string"==typeof Q&&(Q=Q!==P.buttonValue,b.setValue(L,{value:Q}));const ne=document.createElement("input");if(B.add(ne),ne.disabled=P.readOnly,ne.type="radio",ne.name=P.fieldName,Q&&ne.setAttribute("checked",!0),ne.setAttribute("id",L),ne.tabIndex=1e3,ne.addEventListener("change",U=>{const{name:be,checked:je}=U.target;for(const Pe of this._getElementsByName(be,L))b.setValue(Pe.id,{value:!1});b.setValue(L,{value:je})}),ne.addEventListener("resetform",U=>{const be=P.defaultFieldValue;U.target.checked=null!=be&&be===P.buttonValue}),this.enableScripting&&this.hasJSActions){const U=P.buttonValue;ne.addEventListener("updatefromsandbox",be=>{this._dispatchEventFromSandbox({value:Pe=>{const Ue=U===Pe.detail.value;for(const Be of this._getElementsByName(Pe.target.name)){const Ye=Ue&&Be.id===L;Be.domElement&&(Be.domElement.checked=Ye),b.setValue(Be.id,{value:Ye})}}},be)}),this._setEventListeners(ne,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],be=>be.target.checked)}return this._setBackgroundColor(ne),this._setDefaultPropertiesFromJS(ne),this.container.appendChild(ne),this.container}}class z extends Y{constructor(b){super(b,{ignoreBorder:b.data.hasAppearance})}render(){const b=super.render();return b.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(b.title=this.data.alternativeText),this._setDefaultPropertiesFromJS(b),b}}class K extends ${constructor(b){super(b,{isRenderable:b.renderForms})}render(){this.container.className="choiceWidgetAnnotation";const b=this.annotationStorage,P=this.data.id,L=b.getValue(P,{value:this.data.fieldValue});let{fontSize:Q}=this.data.defaultAppearanceData;Q||(Q=9);const ne=`calc(${Q}px * var(--zoom-factor))`,U=document.createElement("select");B.add(U),U.disabled=this.data.readOnly,U.name=this.data.fieldName,U.setAttribute("id",P),U.tabIndex=1e3,U.style.fontSize=`${Q}px`,this.data.combo||(U.size=this.data.options.length,this.data.multiSelect&&(U.multiple=!0)),U.addEventListener("resetform",Pe=>{const Ue=this.data.defaultFieldValue;for(const Be of U.options)Be.selected=Be.value===Ue});for(const Pe of this.data.options){const Ue=document.createElement("option");Ue.textContent=Pe.displayValue,Ue.value=Pe.exportValue,this.data.combo&&(Ue.style.fontSize=ne),L.value.includes(Pe.exportValue)&&Ue.setAttribute("selected",!0),U.appendChild(Ue)}const be=(Pe,Ue)=>{const Be=Ue?"value":"textContent",Ye=Pe.target.options;return Pe.target.multiple?Array.prototype.filter.call(Ye,Qe=>Qe.selected).map(Qe=>Qe[Be]):-1===Ye.selectedIndex?null:Ye[Ye.selectedIndex][Be]},je=Pe=>Array.prototype.map.call(Pe.target.options,Be=>({displayValue:Be.textContent,exportValue:Be.value}));return this.enableScripting&&this.hasJSActions?(U.addEventListener("updatefromsandbox",Pe=>{this._dispatchEventFromSandbox({value(Be){const Ye=Be.detail.value,Qe=new Set(Array.isArray(Ye)?Ye:[Ye]);for(const gt of U.options)gt.selected=Qe.has(gt.value);b.setValue(P,{value:be(Be,!0)})},multipleSelection(Be){U.multiple=!0},remove(Be){const Ye=U.options,Qe=Be.detail.remove;Ye[Qe].selected=!1,U.remove(Qe),Ye.length>0&&-1===Array.prototype.findIndex.call(Ye,Tt=>Tt.selected)&&(Ye[0].selected=!0),b.setValue(P,{value:be(Be,!0),items:je(Be)})},clear(Be){for(;0!==U.length;)U.remove(0);b.setValue(P,{value:null,items:[]})},insert(Be){const{index:Ye,displayValue:Qe,exportValue:gt}=Be.detail.insert,Tt=document.createElement("option");Tt.textContent=Qe,Tt.value=gt,U.insertBefore(Tt,U.children[Ye]),b.setValue(P,{value:be(Be,!0),items:je(Be)})},items(Be){const{items:Ye}=Be.detail;for(;0!==U.length;)U.remove(0);for(const Qe of Ye){const{displayValue:gt,exportValue:Tt}=Qe,lt=document.createElement("option");lt.textContent=gt,lt.value=Tt,U.appendChild(lt)}U.options.length>0&&(U.options[0].selected=!0),b.setValue(P,{value:be(Be,!0),items:je(Be)})},indices(Be){const Ye=new Set(Be.detail.indices);for(const Qe of Be.target.options)Qe.selected=Ye.has(Qe.index);b.setValue(P,{value:be(Be,!0)})},editable(Be){Be.target.disabled=!Be.detail.editable}},Pe)}),U.addEventListener("input",Pe=>{const Ue=be(Pe,!0),Be=be(Pe,!1);b.setValue(P,{value:Ue}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:P,name:"Keystroke",value:Be,changeEx:Ue,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(U,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Pe=>Pe.target.checked)):U.addEventListener("input",function(Pe){b.setValue(P,{value:be(Pe,!0)})}),this._setBackgroundColor(U),this._setDefaultPropertiesFromJS(U),this.container.appendChild(U),this.container}}class E extends ee{constructor(b){super(b,{isRenderable:!!(b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const L=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===L.length)return this.container;const Q=new A({container:this.container,trigger:Array.from(L),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),ne=this.page,U=s.Util.normalizeRect([this.data.parentRect[0],ne.view[3]-this.data.parentRect[1]+ne.view[1],this.data.parentRect[2],ne.view[3]-this.data.parentRect[3]+ne.view[1]]),be=U[0]+this.data.parentRect[2]-this.data.parentRect[0],je=U[1];return this.container.style.transformOrigin=`${-be}px ${-je}px`,this.container.style.left=`${be}px`,this.container.style.top=`${je}px`,this.container.appendChild(Q.render()),this.container}}class A{constructor(b){this.container=b.container,this.trigger=b.trigger,this.color=b.color,this.titleObj=b.titleObj,this.modificationDate=b.modificationDate,this.contentsObj=b.contentsObj,this.richText=b.richText,this.hideWrapper=b.hideWrapper||!1,this.pinned=!1}render(){const P=document.createElement("div");P.className="popupWrapper",this.hideElement=this.hideWrapper?P:this.container,this.hideElement.hidden=!0;const L=document.createElement("div");L.className="popup";const Q=this.color;Q&&(L.style.backgroundColor=s.Util.makeHexColor(0|.7*(255-Q[0])+Q[0],0|.7*(255-Q[1])+Q[1],0|.7*(255-Q[2])+Q[2]));const ne=document.createElement("h1");ne.dir=this.titleObj.dir,ne.textContent=this.titleObj.str,L.appendChild(ne);const U=te.PDFDateString.toDateObject(this.modificationDate);if(U){const be=document.createElement("span");be.className="popupDate",be.textContent="{{date}}, {{time}}",be.dataset.l10nId="annotation_date_string",be.dataset.l10nArgs=JSON.stringify({date:U.toLocaleDateString(),time:U.toLocaleTimeString()}),L.appendChild(be)}if(!this.richText?.str||this.contentsObj?.str&&this.contentsObj.str!==this.richText.str){const be=this._formatContents(this.contentsObj);L.appendChild(be)}else ie.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:L}),L.lastChild.className="richText popupContent";Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const be of this.trigger)be.addEventListener("click",this._toggle.bind(this)),be.addEventListener("mouseover",this._show.bind(this,!1)),be.addEventListener("mouseout",this._hide.bind(this,!1));return L.addEventListener("click",this._hide.bind(this,!0)),P.appendChild(L),P}_formatContents({str:b,dir:P}){const L=document.createElement("p");L.className="popupContent",L.dir=P;const Q=b.split(/(?:\r\n?|\n)/);for(let ne=0,U=Q.length;ne<U;++ne)L.appendChild(document.createTextNode(Q[ne])),ne<U-1&&L.appendChild(document.createElement("br"));return L}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(b=!1){b&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(b=!0){b&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class F extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class X extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const b=this.data,{width:P,height:L}=ce(b.rect),Q=this.svgFactory.create(P,L),ne=this.svgFactory.createElement("svg:line");return ne.setAttribute("x1",b.rect[2]-b.lineCoordinates[0]),ne.setAttribute("y1",b.rect[3]-b.lineCoordinates[1]),ne.setAttribute("x2",b.rect[2]-b.lineCoordinates[2]),ne.setAttribute("y2",b.rect[3]-b.lineCoordinates[3]),ne.setAttribute("stroke-width",b.borderStyle.width||1),ne.setAttribute("stroke","transparent"),ne.setAttribute("fill","transparent"),Q.appendChild(ne),this.container.append(Q),this._createPopup(ne,b),this.container}}class N extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const b=this.data,{width:P,height:L}=ce(b.rect),Q=this.svgFactory.create(P,L),ne=b.borderStyle.width,U=this.svgFactory.createElement("svg:rect");return U.setAttribute("x",ne/2),U.setAttribute("y",ne/2),U.setAttribute("width",P-ne),U.setAttribute("height",L-ne),U.setAttribute("stroke-width",ne||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),Q.appendChild(U),this.container.append(Q),this._createPopup(U,b),this.container}}class J extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const b=this.data,{width:P,height:L}=ce(b.rect),Q=this.svgFactory.create(P,L),ne=b.borderStyle.width,U=this.svgFactory.createElement("svg:ellipse");return U.setAttribute("cx",P/2),U.setAttribute("cy",L/2),U.setAttribute("rx",P/2-ne/2),U.setAttribute("ry",L/2-ne/2),U.setAttribute("stroke-width",ne||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),Q.appendChild(U),this.container.append(Q),this._createPopup(U,b),this.container}}class G extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const b=this.data,{width:P,height:L}=ce(b.rect),Q=this.svgFactory.create(P,L);let ne=[];for(const be of b.vertices)ne.push(be.x-b.rect[0]+","+(b.rect[3]-be.y));ne=ne.join(" ");const U=this.svgFactory.createElement(this.svgElementName);return U.setAttribute("points",ne),U.setAttribute("stroke-width",b.borderStyle.width||1),U.setAttribute("stroke","transparent"),U.setAttribute("fill","transparent"),Q.appendChild(U),this.container.append(Q),this._createPopup(U,b),this.container}}class S extends G{constructor(b){super(b),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class oe extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class W extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const b=this.data,{width:P,height:L}=ce(b.rect),Q=this.svgFactory.create(P,L);for(const ne of b.inkLists){let U=[];for(const je of ne)U.push(`${je.x-b.rect[0]},${b.rect[3]-je.y}`);U=U.join(" ");const be=this.svgFactory.createElement(this.svgElementName);be.setAttribute("points",U),be.setAttribute("stroke-width",b.borderStyle.width||1),be.setAttribute("stroke","transparent"),be.setAttribute("fill","transparent"),this._createPopup(be,b),Q.appendChild(be)}return this.container.append(Q),this.container}}class le extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class me extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class ye extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class Re extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class Ve extends ee{constructor(b){super(b,{isRenderable:!!(b.data.hasPopup||b.data.titleObj?.str||b.data.contentsObj?.str||b.data.richText?.str),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class Xe extends ee{constructor(b){super(b,{isRenderable:!0});const{filename:P,content:L}=this.data.file;this.filename=(0,te.getFilenameFromUrl)(P),this.content=L,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:P,content:L})}render(){this.container.className="fileAttachmentAnnotation";const b=document.createElement("div");return b.style.height=this.container.style.height,b.style.width=this.container.style.width,b.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(b,this.data),this.container.appendChild(b),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class it{static render(b){const P=[],L=[];for(const ne of b.annotations){if(!ne)continue;const{width:U,height:be}=ce(ne.rect);if(!(U<=0||be<=0)){if(ne.annotationType===s.AnnotationType.POPUP){L.push(ne);continue}P.push(ne)}}L.length&&P.push(...L);const Q=b.div;for(const ne of P){const U=he.create({data:ne,layer:Q,page:b.page,viewport:b.viewport,linkService:b.linkService,downloadManager:b.downloadManager,imageResourcesPath:b.imageResourcesPath||"",renderForms:!1!==b.renderForms,svgFactory:new te.DOMSVGFactory,annotationStorage:b.annotationStorage||new O.AnnotationStorage,enableScripting:b.enableScripting,hasJSActions:b.hasJSActions,fieldObjects:b.fieldObjects,mouseState:b.mouseState||{isDown:!1}});if(U.isRenderable){const be=U.render();if(ne.hidden&&(be.style.visibility="hidden"),Array.isArray(be))for(const je of be)Q.appendChild(je);else U instanceof E?Q.prepend(be):Q.appendChild(be)}}_classStaticPrivateMethodGet(this,it,ve).call(this,Q,b.annotationCanvasMap)}static update(b){const{page:P,viewport:L,annotations:Q,annotationCanvasMap:ne,div:U}=b,be=L.transform,je=`matrix(${be.join(",")})`;let Pe,Ue;for(const Be of Q){const Ye=U.querySelectorAll(`[data-annotation-id="${Be.id}"]`);if(Ye)for(const Qe of Ye)if(Be.hasOwnCanvas){const gt=s.Util.normalizeRect([Be.rect[0],P.view[3]-Be.rect[1]+P.view[1],Be.rect[2],P.view[3]-Be.rect[3]+P.view[1]]);if(!Ue){Pe=Math.abs(be[0]||be[1]);const yt=be.slice();for(let ct=0;ct<4;ct++)yt[ct]=Math.sign(yt[ct]);Ue=`matrix(${yt.join(",")})`}const Tt=gt[0]*Pe,lt=gt[1]*Pe;Qe.style.left=`${Tt}px`,Qe.style.top=`${lt}px`,Qe.style.transformOrigin=`${-Tt}px ${-lt}px`,Qe.style.transform=Ue}else Qe.style.transform=je}_classStaticPrivateMethodGet(this,it,ve).call(this,U,ne),U.hidden=!1}}function ve(I,b){if(b){for(const[P,L]of b){const Q=I.querySelector(`[data-annotation-id="${P}"]`);if(!Q)continue;const{firstChild:ne}=Q;"CANVAS"===ne.nodeName?Q.replaceChild(L,ne):Q.insertBefore(L,ne)}b.clear()}}x.AnnotationLayer=it},(Ie,x)=>{function R(te){return Math.floor(255*Math.max(0,Math.min(1,te))).toString(16).padStart(2,"0")}Object.defineProperty(x,"__esModule",{value:!0}),x.ColorConverters=void 0,x.ColorConverters=class s{static CMYK_G([O,pe,ie,re]){return["G",1-Math.min(1,.3*O+.59*ie+.11*pe+re)]}static G_CMYK([O]){return["CMYK",0,0,0,1-O]}static G_RGB([O]){return["RGB",O,O,O]}static G_HTML([O]){const pe=R(O);return`#${pe}${pe}${pe}`}static RGB_G([O,pe,ie]){return["G",.3*O+.59*pe+.11*ie]}static RGB_HTML([O,pe,ie]){return`#${R(O)}${R(pe)}${R(ie)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([O,pe,ie,re]){return["RGB",1-Math.min(1,O+re),1-Math.min(1,ie+re),1-Math.min(1,pe+re)]}static CMYK_HTML(O){return this.RGB_HTML(this.CMYK_RGB(O))}static RGB_CMYK([O,pe,ie]){const re=1-O,B=1-pe,ce=1-ie;return["CMYK",re,B,ce,Math.min(re,B,ce)]}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.XfaLayer=void 0;var s=R(18);x.XfaLayer=class te{static setupStorage(pe,ie,re,B,ce){const he=B.getValue(ie,{value:null});switch(re.name){case"textarea":if(null!==he.value&&(pe.textContent=he.value),"print"===ce)break;pe.addEventListener("input",ee=>{B.setValue(ie,{value:ee.target.value})});break;case"input":if("radio"===re.attributes.type||"checkbox"===re.attributes.type){if(he.value===re.attributes.xfaOn?pe.setAttribute("checked",!0):he.value===re.attributes.xfaOff&&pe.removeAttribute("checked"),"print"===ce)break;pe.addEventListener("change",ee=>{B.setValue(ie,{value:ee.target.getAttribute(ee.target.checked?"xfaOn":"xfaOff")})})}else{if(null!==he.value&&pe.setAttribute("value",he.value),"print"===ce)break;pe.addEventListener("input",ee=>{B.setValue(ie,{value:ee.target.value})})}break;case"select":if(null!==he.value)for(const ee of re.children)ee.attributes.value===he.value&&(ee.attributes.selected=!0);pe.addEventListener("input",ee=>{const Y=ee.target.options;B.setValue(ie,{value:-1===Y.selectedIndex?"":Y[Y.selectedIndex].value})})}}static setAttributes({html:pe,element:ie,storage:re=null,intent:B,linkService:ce}){const{attributes:he}=ie,ee=pe instanceof HTMLAnchorElement;"radio"===he.type&&(he.name=`${he.name}-${B}`);for(const[Y,se]of Object.entries(he))if(null!=se&&"dataId"!==Y)if("style"!==Y)if("textContent"===Y)pe.textContent=se;else if("class"===Y)se.length&&pe.setAttribute(Y,se.join(" "));else{if(ee&&("href"===Y||"newWindow"===Y))continue;pe.setAttribute(Y,se)}else Object.assign(pe.style,se);ee&&ce.addLinkAttributes(pe,he.href,he.newWindow),re&&he.dataId&&this.setupStorage(pe,he.dataId,ie,re)}static render(pe){const ie=pe.annotationStorage,re=pe.linkService,B=pe.xfaHtml,ce=pe.intent||"display",he=document.createElement(B.name);B.attributes&&this.setAttributes({html:he,element:B,intent:ce,linkService:re});const ee=[[B,-1,he]],Y=pe.div;if(Y.appendChild(he),pe.viewport){const $=`matrix(${pe.viewport.transform.join(",")})`;Y.style.transform=$}"richText"!==ce&&Y.setAttribute("class","xfaLayer xfaFont");const se=[];for(;ee.length>0;){const[$,ae,q]=ee[ee.length-1];if(ae+1===$.children.length){ee.pop();continue}const fe=$.children[++ee[ee.length-1][1]];if(null===fe)continue;const{name:z}=fe;if("#text"===z){const E=document.createTextNode(fe.value);se.push(E),q.appendChild(E);continue}let K;if(K=fe?.attributes?.xmlns?document.createElementNS(fe.attributes.xmlns,z):document.createElement(z),q.appendChild(K),fe.attributes&&this.setAttributes({html:K,element:fe,storage:ie,intent:ce,linkService:re}),fe.children&&fe.children.length>0)ee.push([fe,-1,K]);else if(fe.value){const E=document.createTextNode(fe.value);s.XfaText.shouldBuildText(z)&&se.push(E),K.appendChild(E)}}for(const $ of Y.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))$.setAttribute("readOnly",!0);return{textDivs:se}}static update(pe){const ie=`matrix(${pe.viewport.transform.join(",")})`;pe.div.style.transform=ie,pe.div.hidden=!1}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.renderTextLayer=function q(fe){const z=new ae({textContent:fe.textContent,textContentStream:fe.textContentStream,container:fe.container,viewport:fe.viewport,textDivs:fe.textDivs,textContentItemsStr:fe.textContentItemsStr,enhanceTextSelection:fe.enhanceTextSelection});return z._render(fe.timeout),z};var s=R(1);const O=30,ie=new Map,re=/^\s+$/g;function ce(fe,z,K,E){const A=document.createElement("span"),F=fe._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:""!==z.str,hasEOL:z.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:""!==z.str,hasEOL:z.hasEOL};fe._textDivs.push(A);const X=s.Util.transform(fe._viewport.transform,z.transform);let N=Math.atan2(X[1],X[0]);const J=K[z.fontName];J.vertical&&(N+=Math.PI/2);const G=Math.hypot(X[2],X[3]),S=G*function B(fe,z){const K=ie.get(fe);if(K)return K;z.save(),z.font=`30px ${fe}`;const E=z.measureText("");let A=E.fontBoundingBoxAscent,F=Math.abs(E.fontBoundingBoxDescent);if(A){z.restore();const N=A/(A+F);return ie.set(fe,N),N}z.strokeStyle="red",z.clearRect(0,0,O,O),z.strokeText("g",0,0);let X=z.getImageData(0,0,O,O).data;F=0;for(let N=X.length-1-3;N>=0;N-=4)if(X[N]>0){F=Math.ceil(N/4/O);break}z.clearRect(0,0,O,O),z.strokeText("A",0,O),X=z.getImageData(0,0,O,O).data,A=0;for(let N=0,J=X.length;N<J;N+=4)if(X[N]>0){A=O-Math.floor(N/4/O);break}if(z.restore(),A){const N=A/(A+F);return ie.set(fe,N),N}return ie.set(fe,.8),.8}(J.fontFamily,E);let oe,W;0===N?(oe=X[4],W=X[5]-S):(oe=X[4]+S*Math.sin(N),W=X[5]-S*Math.cos(N)),A.style.left=`${oe}px`,A.style.top=`${W}px`,A.style.fontSize=`${G}px`,A.style.fontFamily=J.fontFamily,A.setAttribute("role","presentation"),A.textContent=z.str,A.dir=z.dir,fe._fontInspectorEnabled&&(A.dataset.fontName=z.fontName),0!==N&&(F.angle=N*(180/Math.PI));let le=!1;if(z.str.length>1||fe._enhanceTextSelection&&re.test(z.str))le=!0;else if(" "!==z.str&&z.transform[0]!==z.transform[3]){const me=Math.abs(z.transform[0]),ye=Math.abs(z.transform[3]);me!==ye&&Math.max(me,ye)/Math.min(me,ye)>1.5&&(le=!0)}if(le&&(F.canvasWidth=J.vertical?z.height*fe._viewport.scale:z.width*fe._viewport.scale),fe._textDivProperties.set(A,F),fe._textContentStream&&fe._layoutText(A),fe._enhanceTextSelection&&F.hasText){let me=1,ye=0;0!==N&&(me=Math.cos(N),ye=Math.sin(N));const Re=(J.vertical?z.height:z.width)*fe._viewport.scale,Ve=G;let Xe,it;0!==N?(Xe=[me,ye,-ye,me,oe,W],it=s.Util.getAxialAlignedBoundingBox([0,0,Re,Ve],Xe)):it=[oe,W,oe+Re,W+Ve],fe._bounds.push({left:it[0],top:it[1],right:it[2],bottom:it[3],div:A,size:[Re,Ve],m:Xe})}}function he(fe){if(fe._canceled)return;const z=fe._textDivs,K=fe._capability,E=z.length;if(E>1e5)return fe._renderingDone=!0,void K.resolve();if(!fe._textContentStream)for(let A=0;A<E;A++)fe._layoutText(z[A]);fe._renderingDone=!0,K.resolve()}function ee(fe,z,K){let E=0;for(let A=0;A<K;A++){const F=fe[z++];F>0&&(E=E?Math.min(F,E):F)}return E}function $(fe,z){z.sort(function(A,F){return A.x1-F.x1||A.index-F.index});const E=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const A of z){let F=0;for(;F<E.length&&E[F].end<=A.y1;)F++;let X=E.length-1;for(;X>=0&&E[X].start>=A.y2;)X--;let N,J,G,S,oe=-1/0;for(G=F;G<=X;G++){let me;N=E[G],J=N.boundary,me=J.x2>A.x1?J.index>A.index?J.x1New:A.x1:void 0===J.x2New?(J.x2+A.x1)/2:J.x2New,me>oe&&(oe=me)}for(A.x1New=oe,G=F;G<=X;G++)N=E[G],J=N.boundary,void 0===J.x2New?J.x2>A.x1?J.index>A.index&&(J.x2New=J.x2):J.x2New=oe:J.x2New>oe&&(J.x2New=Math.max(oe,J.x2));const W=[];let le=null;for(G=F;G<=X;G++){N=E[G],J=N.boundary;const me=J.x2>A.x2?J:A;le===me?W[W.length-1].end=N.end:(W.push({start:N.start,end:N.end,boundary:me}),le=me)}for(E[F].start<A.y1&&(W[0].start=A.y1,W.unshift({start:E[F].start,end:A.y1,boundary:E[F].boundary})),A.y2<E[X].end&&(W[W.length-1].end=A.y2,W.push({start:A.y2,end:E[X].end,boundary:E[X].boundary})),G=F;G<=X;G++){if(N=E[G],J=N.boundary,void 0!==J.x2New)continue;let me=!1;for(S=F-1;!me&&S>=0&&E[S].start>=J.y1;S--)me=E[S].boundary===J;for(S=X+1;!me&&S<E.length&&E[S].end<=J.y2;S++)me=E[S].boundary===J;for(S=0;!me&&S<W.length;S++)me=W[S].boundary===J;me||(J.x2New=oe)}Array.prototype.splice.apply(E,[F,X-F+1].concat(W))}for(const A of E){const F=A.boundary;void 0===F.x2New&&(F.x2New=Math.max(fe,F.x2))}}class ae{constructor({textContent:z,textContentStream:K,container:E,viewport:A,textDivs:F,textContentItemsStr:X,enhanceTextSelection:N}){this._textContent=z,this._textContentStream=K,this._container=E,this._document=E.ownerDocument,this._viewport=A,this._textDivs=F||[],this._textContentItemsStr=X||[],this._enhanceTextSelection=!!N,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,s.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new s.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(z,K){for(let E=0,A=z.length;E<A;E++)if(void 0!==z[E].str)this._textContentItemsStr.push(z[E].str),ce(this,z[E],K,this._layoutTextCtx);else if("beginMarkedContentProps"===z[E].type||"beginMarkedContent"===z[E].type){const F=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==z[E].id&&this._container.setAttribute("id",`${z[E].id}`),F.appendChild(this._container)}else"endMarkedContent"===z[E].type&&(this._container=this._container.parentNode)}_layoutText(z){const K=this._textDivProperties.get(z);let E="";if(0!==K.canvasWidth&&K.hasText){const{fontSize:A,fontFamily:F}=z.style;(A!==this._layoutTextLastFontSize||F!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${A} ${F}`,this._layoutTextLastFontSize=A,this._layoutTextLastFontFamily=F);const{width:X}=this._layoutTextCtx.measureText(z.textContent);if(X>0){const N=K.canvasWidth/X;this._enhanceTextSelection&&(K.scale=N),E=`scaleX(${N})`}}if(0!==K.angle&&(E=`rotate(${K.angle}deg) ${E}`),E.length>0&&(this._enhanceTextSelection&&(K.originalTransform=E),z.style.transform=E),K.hasText&&this._container.appendChild(z),K.hasEOL){const A=document.createElement("br");A.setAttribute("role","presentation"),this._container.appendChild(A)}}_render(z=0){const K=(0,s.createPromiseCapability)();let E=Object.create(null);const A=this._document.createElement("canvas");if(A.height=A.width=O,this._layoutTextCtx=A.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),K.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const F=()=>{this._reader.read().then(({value:X,done:N})=>{N?K.resolve():(Object.assign(E,X.styles),this._processItems(X.items,E),F())},K.reject)};this._reader=this._textContentStream.getReader(),F()}}K.promise.then(()=>{E=null,z?this._renderTimer=setTimeout(()=>{he(this),this._renderTimer=null},z):he(this)},this._capability.reject)}expandTextDivs(z=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function Y(fe){const z=fe._bounds,K=fe._viewport,E=function se(fe,z,K){const E=K.map(function(F,X){return{x1:F.left,y1:F.top,x2:F.right,y2:F.bottom,index:X,x1New:void 0,x2New:void 0}});$(fe,E);const A=new Array(K.length);for(const F of E)A[F.index]={left:F.x1New,top:0,right:F.x2New,bottom:0};K.map(function(F,X){const N=A[X],J=E[X];J.x1=F.top,J.y1=fe-N.right,J.x2=F.bottom,J.y2=fe-N.left,J.index=X,J.x1New=void 0,J.x2New=void 0}),$(z,E);for(const F of E){const X=F.index;A[X].top=F.x1New,A[X].bottom=F.x2New}return A}(K.width,K.height,z);for(let A=0;A<E.length;A++){const F=z[A].div,X=fe._textDivProperties.get(F);if(0===X.angle){X.paddingLeft=z[A].left-E[A].left,X.paddingTop=z[A].top-E[A].top,X.paddingRight=E[A].right-z[A].right,X.paddingBottom=E[A].bottom-z[A].bottom,fe._textDivProperties.set(F,X);continue}const N=E[A],J=z[A],G=J.m,S=G[0],oe=G[1],W=[[0,0],[0,J.size[1]],[J.size[0],0],J.size],le=new Float64Array(64);for(let ye=0,Re=W.length;ye<Re;ye++){const Ve=s.Util.applyTransform(W[ye],G);le[ye+0]=S&&(N.left-Ve[0])/S,le[ye+4]=oe&&(N.top-Ve[1])/oe,le[ye+8]=S&&(N.right-Ve[0])/S,le[ye+12]=oe&&(N.bottom-Ve[1])/oe,le[ye+16]=oe&&(N.left-Ve[0])/-oe,le[ye+20]=S&&(N.top-Ve[1])/S,le[ye+24]=oe&&(N.right-Ve[0])/-oe,le[ye+28]=S&&(N.bottom-Ve[1])/S,le[ye+32]=S&&(N.left-Ve[0])/-S,le[ye+36]=oe&&(N.top-Ve[1])/-oe,le[ye+40]=S&&(N.right-Ve[0])/-S,le[ye+44]=oe&&(N.bottom-Ve[1])/-oe,le[ye+48]=oe&&(N.left-Ve[0])/oe,le[ye+52]=S&&(N.top-Ve[1])/-S,le[ye+56]=oe&&(N.right-Ve[0])/oe,le[ye+60]=S&&(N.bottom-Ve[1])/-S}const me=1+Math.min(Math.abs(S),Math.abs(oe));X.paddingLeft=ee(le,32,16)/me,X.paddingTop=ee(le,48,16)/me,X.paddingRight=ee(le,0,16)/me,X.paddingBottom=ee(le,16,16)/me,fe._textDivProperties.set(F,X)}}(this),this._bounds=null);const K=[],E=[];for(let A=0,F=this._textDivs.length;A<F;A++){const X=this._textDivs[A],N=this._textDivProperties.get(X);!N.hasText||(z?(K.length=0,E.length=0,N.originalTransform&&K.push(N.originalTransform),N.paddingTop>0?(E.push(`${N.paddingTop}px`),K.push(`translateY(${-N.paddingTop}px)`)):E.push(0),E.push(N.paddingRight>0?N.paddingRight/N.scale+"px":0),E.push(N.paddingBottom>0?`${N.paddingBottom}px`:0),N.paddingLeft>0?(E.push(N.paddingLeft/N.scale+"px"),K.push(`translateX(${-N.paddingLeft/N.scale}px)`)):E.push(0),X.style.padding=E.join(" "),K.length&&(X.style.transform=K.join(" "))):(X.style.padding=null,X.style.transform=N.originalTransform))}}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.SVGGraphics=void 0;var s=R(1),te=R(5),O=R(3);let pe=class{constructor(){(0,s.unreachable)("Not implemented: SVGGraphics")}};x.SVGGraphics=pe;{let $=function(E){let A=[];const F=[];for(const X of E)"save"!==X.fn?"restore"===X.fn?A=F.pop():A.push(X):(A.push({fnId:92,fn:"group",items:[]}),F.push(A),A=A[A.length-1].items);return A},ae=function(E){if(Number.isInteger(E))return E.toString();const A=E.toFixed(10);let F=A.length-1;if("0"!==A[F])return A;do{F--}while("0"===A[F]);return A.substring(0,"."===A[F]?F:F+1)},q=function(E){if(0===E[4]&&0===E[5]){if(0===E[1]&&0===E[2])return 1===E[0]&&1===E[3]?"":`scale(${ae(E[0])} ${ae(E[3])})`;if(E[0]===E[3]&&E[1]===-E[2]){const A=180*Math.acos(E[0])/Math.PI;return`rotate(${ae(A)})`}}else if(1===E[0]&&0===E[1]&&0===E[2]&&1===E[3])return`translate(${ae(E[4])} ${ae(E[5])})`;return`matrix(${ae(E[0])} ${ae(E[1])} ${ae(E[2])} ${ae(E[3])} ${ae(E[4])} ${ae(E[5])})`};const ie={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},re="http://www.w3.org/XML/1998/namespace",B="http://www.w3.org/1999/xlink",ce=["butt","round","square"],he=["miter","round","bevel"],ee=function(E,A="",F=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!F)return URL.createObjectURL(new Blob([E],{type:A}));const X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let N=`data:${A};base64,`;for(let J=0,G=E.length;J<G;J+=3){const S=255&E[J],oe=255&E[J+1],W=255&E[J+2];N+=X[S>>2]+X[(3&S)<<4|oe>>4]+X[J+1<G?(15&oe)<<2|W>>6:64]+X[J+2<G?63&W:64]}return N},Y=function(){const E=new Uint8Array([137,80,78,71,13,10,26,10]),F=new Int32Array(256);for(let W=0;W<256;W++){let le=W;for(let me=0;me<8;me++)le=1&le?3988292384^le>>1&2147483647:le>>1&2147483647;F[W]=le}function N(W,le,me,ye){let Re=ye;const Ve=le.length;me[Re]=Ve>>24&255,me[Re+1]=Ve>>16&255,me[Re+2]=Ve>>8&255,me[Re+3]=255&Ve,Re+=4,me[Re]=255&W.charCodeAt(0),me[Re+1]=255&W.charCodeAt(1),me[Re+2]=255&W.charCodeAt(2),me[Re+3]=255&W.charCodeAt(3),Re+=4,me.set(le,Re),Re+=le.length;const Xe=function X(W,le,me){let ye=-1;for(let Re=le;Re<me;Re++)ye=ye>>>8^F[255&(ye^W[Re])];return-1^ye}(me,ye+4,Re);me[Re]=Xe>>24&255,me[Re+1]=Xe>>16&255,me[Re+2]=Xe>>8&255,me[Re+3]=255&Xe}function S(W){let le=W.length;const me=65535,ye=Math.ceil(le/me),Re=new Uint8Array(2+le+5*ye+4);let Ve=0;Re[Ve++]=120,Re[Ve++]=156;let Xe=0;for(;le>me;)Re[Ve++]=0,Re[Ve++]=255,Re[Ve++]=255,Re[Ve++]=0,Re[Ve++]=0,Re.set(W.subarray(Xe,Xe+me),Ve),Ve+=me,Xe+=me,le-=me;Re[Ve++]=1,Re[Ve++]=255&le,Re[Ve++]=le>>8&255,Re[Ve++]=255&~le,Re[Ve++]=(65535&~le)>>8&255,Re.set(W.subarray(Xe),Ve),Ve+=W.length-Xe;const it=function J(W,le,me){let ye=1,Re=0;for(let Ve=le;Ve<me;++Ve)ye=(ye+(255&W[Ve]))%65521,Re=(Re+ye)%65521;return Re<<16|ye}(W,0,W.length);return Re[Ve++]=it>>24&255,Re[Ve++]=it>>16&255,Re[Ve++]=it>>8&255,Re[Ve++]=255&it,Re}return function(le,me,ye){return function oe(W,le,me,ye){const Re=W.width,Ve=W.height;let Xe,it,ve;const I=W.data;switch(le){case s.ImageKind.GRAYSCALE_1BPP:it=0,Xe=1,ve=Re+7>>3;break;case s.ImageKind.RGB_24BPP:it=2,Xe=8,ve=3*Re;break;case s.ImageKind.RGBA_32BPP:it=6,Xe=8,ve=4*Re;break;default:throw new Error("invalid format")}const b=new Uint8Array((1+ve)*Ve);let P=0,L=0;for(let Pe=0;Pe<Ve;++Pe)b[P++]=0,b.set(I.subarray(L,L+ve),P),L+=ve,P+=ve;if(le===s.ImageKind.GRAYSCALE_1BPP&&ye){P=0;for(let Pe=0;Pe<Ve;Pe++){P++;for(let Ue=0;Ue<ve;Ue++)b[P++]^=255}}const Q=new Uint8Array([Re>>24&255,Re>>16&255,Re>>8&255,255&Re,Ve>>24&255,Ve>>16&255,Ve>>8&255,255&Ve,Xe,it,0,0,0]),ne=function G(W){if(!O.isNodeJS)return S(W);try{let le;le=parseInt(process.versions.node)>=8?W:Buffer.from(W);const me=__webpack_require__(2258).deflateSync(le,{level:9});return me instanceof Uint8Array?me:new Uint8Array(me)}catch(le){(0,s.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+le)}return S(W)}(b),be=new Uint8Array(E.length+36+Q.length+ne.length);let je=0;return be.set(E,je),je+=E.length,N("IHDR",Q,be,je),je+=12+Q.length,N("IDATA",ne,be,je),je+=12+ne.length,N("IEND",new Uint8Array(0),be,je),ee(be,"image/png",me)}(le,void 0===le.kind?s.ImageKind.GRAYSCALE_1BPP:le.kind,me,ye)}}();class se{constructor(){this.fontSizeScale=1,this.fontWeight=ie.fontWeight,this.fontSize=0,this.textMatrix=s.IDENTITY_MATRIX,this.fontMatrix=s.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=s.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=ie.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(A,F){this.x=A,this.y=F}}let fe=0,z=0,K=0;x.SVGGraphics=pe=class{constructor(E,A,F=!1){this.svgFactory=new te.DOMSVGFactory,this.current=new se,this.transformMatrix=s.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=E,this.objs=A,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!F,this._operatorIdMapping=[];for(const X in s.OPS)this._operatorIdMapping[s.OPS[X]]=X}save(){this.transformStack.push(this.transformMatrix);const E=this.current;this.extraStack.push(E),this.current=E.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(E){this.save(),this.executeOpTree(E),this.restore()}loadDependencies(E){const A=E.fnArray,F=E.argsArray;for(let X=0,N=A.length;X<N;X++)if(A[X]===s.OPS.dependency)for(const J of F[X]){const G=J.startsWith("g_")?this.commonObjs:this.objs,S=new Promise(oe=>{G.get(J,oe)});this.current.dependencies.push(S)}return Promise.all(this.current.dependencies)}transform(E,A,F,X,N,J){this.transformMatrix=s.Util.transform(this.transformMatrix,[E,A,F,X,N,J]),this.tgrp=null}getSVG(E,A){this.viewport=A;const F=this._initialize(A);return this.loadDependencies(E).then(()=>(this.transformMatrix=s.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(E)),F))}convertOpList(E){const A=this._operatorIdMapping,F=E.argsArray,X=E.fnArray,N=[];for(let J=0,G=X.length;J<G;J++){const S=X[J];N.push({fnId:S,fn:A[S],args:F[J]})}return $(N)}executeOpTree(E){for(const A of E){const F=A.fn,N=A.args;switch(0|A.fnId){case s.OPS.beginText:this.beginText();break;case s.OPS.dependency:break;case s.OPS.setLeading:this.setLeading(N);break;case s.OPS.setLeadingMoveText:this.setLeadingMoveText(N[0],N[1]);break;case s.OPS.setFont:this.setFont(N);break;case s.OPS.showText:case s.OPS.showSpacedText:this.showText(N[0]);break;case s.OPS.endText:this.endText();break;case s.OPS.moveText:this.moveText(N[0],N[1]);break;case s.OPS.setCharSpacing:this.setCharSpacing(N[0]);break;case s.OPS.setWordSpacing:this.setWordSpacing(N[0]);break;case s.OPS.setHScale:this.setHScale(N[0]);break;case s.OPS.setTextMatrix:this.setTextMatrix(N[0],N[1],N[2],N[3],N[4],N[5]);break;case s.OPS.setTextRise:this.setTextRise(N[0]);break;case s.OPS.setTextRenderingMode:this.setTextRenderingMode(N[0]);break;case s.OPS.setLineWidth:this.setLineWidth(N[0]);break;case s.OPS.setLineJoin:this.setLineJoin(N[0]);break;case s.OPS.setLineCap:this.setLineCap(N[0]);break;case s.OPS.setMiterLimit:this.setMiterLimit(N[0]);break;case s.OPS.setFillRGBColor:this.setFillRGBColor(N[0],N[1],N[2]);break;case s.OPS.setStrokeRGBColor:this.setStrokeRGBColor(N[0],N[1],N[2]);break;case s.OPS.setStrokeColorN:this.setStrokeColorN(N);break;case s.OPS.setFillColorN:this.setFillColorN(N);break;case s.OPS.shadingFill:this.shadingFill(N[0]);break;case s.OPS.setDash:this.setDash(N[0],N[1]);break;case s.OPS.setRenderingIntent:this.setRenderingIntent(N[0]);break;case s.OPS.setFlatness:this.setFlatness(N[0]);break;case s.OPS.setGState:this.setGState(N[0]);break;case s.OPS.fill:this.fill();break;case s.OPS.eoFill:this.eoFill();break;case s.OPS.stroke:this.stroke();break;case s.OPS.fillStroke:this.fillStroke();break;case s.OPS.eoFillStroke:this.eoFillStroke();break;case s.OPS.clip:this.clip("nonzero");break;case s.OPS.eoClip:this.clip("evenodd");break;case s.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case s.OPS.paintImageXObject:this.paintImageXObject(N[0]);break;case s.OPS.paintInlineImageXObject:this.paintInlineImageXObject(N[0]);break;case s.OPS.paintImageMaskXObject:this.paintImageMaskXObject(N[0]);break;case s.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(N[0],N[1]);break;case s.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case s.OPS.closePath:this.closePath();break;case s.OPS.closeStroke:this.closeStroke();break;case s.OPS.closeFillStroke:this.closeFillStroke();break;case s.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case s.OPS.nextLine:this.nextLine();break;case s.OPS.transform:this.transform(N[0],N[1],N[2],N[3],N[4],N[5]);break;case s.OPS.constructPath:this.constructPath(N[0],N[1]);break;case s.OPS.endPath:this.endPath();break;case 92:this.group(A.items);break;default:(0,s.warn)(`Unimplemented operator ${F}`)}}}setWordSpacing(E){this.current.wordSpacing=E}setCharSpacing(E){this.current.charSpacing=E}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(E,A,F,X,N,J){const G=this.current;G.textMatrix=G.lineMatrix=[E,A,F,X,N,J],G.textMatrixScale=Math.hypot(E,A),G.x=G.lineX=0,G.y=G.lineY=0,G.xcoords=[],G.ycoords=[],G.tspan=this.svgFactory.createElement("svg:tspan"),G.tspan.setAttributeNS(null,"font-family",G.fontFamily),G.tspan.setAttributeNS(null,"font-size",`${ae(G.fontSize)}px`),G.tspan.setAttributeNS(null,"y",ae(-G.y)),G.txtElement=this.svgFactory.createElement("svg:text"),G.txtElement.appendChild(G.tspan)}beginText(){const E=this.current;E.x=E.lineX=0,E.y=E.lineY=0,E.textMatrix=s.IDENTITY_MATRIX,E.lineMatrix=s.IDENTITY_MATRIX,E.textMatrixScale=1,E.tspan=this.svgFactory.createElement("svg:tspan"),E.txtElement=this.svgFactory.createElement("svg:text"),E.txtgrp=this.svgFactory.createElement("svg:g"),E.xcoords=[],E.ycoords=[]}moveText(E,A){const F=this.current;F.x=F.lineX+=E,F.y=F.lineY+=A,F.xcoords=[],F.ycoords=[],F.tspan=this.svgFactory.createElement("svg:tspan"),F.tspan.setAttributeNS(null,"font-family",F.fontFamily),F.tspan.setAttributeNS(null,"font-size",`${ae(F.fontSize)}px`),F.tspan.setAttributeNS(null,"y",ae(-F.y))}showText(E){const A=this.current,F=A.font,X=A.fontSize;if(0===X)return;const N=A.fontSizeScale,J=A.charSpacing,G=A.wordSpacing,S=A.fontDirection,oe=A.textHScale*S,W=F.vertical,le=W?1:-1,me=F.defaultVMetrics,ye=X*A.fontMatrix[0];let Re=0;for(const it of E){if(null===it){Re+=S*G;continue}if("number"==typeof it){Re+=le*it*X/1e3;continue}const ve=(it.isSpace?G:0)+J,I=it.fontChar;let b,P,Q,L=it.width;if(W){let ne;const U=it.vmetric||me;ne=it.vmetric?U[1]:.5*L,ne=-ne*ye,L=U?-U[0]:L,b=ne/N,P=(Re+U[2]*ye)/N}else b=Re/N,P=0;(it.isInFont||F.missingFile)&&(A.xcoords.push(A.x+b),W&&A.ycoords.push(-A.y+P),A.tspan.textContent+=I),Q=W?L*ye-ve*S:L*ye+ve*S,Re+=Q}A.tspan.setAttributeNS(null,"x",A.xcoords.map(ae).join(" ")),A.tspan.setAttributeNS(null,"y",W?A.ycoords.map(ae).join(" "):ae(-A.y)),W?A.y-=Re:A.x+=Re*oe,A.tspan.setAttributeNS(null,"font-family",A.fontFamily),A.tspan.setAttributeNS(null,"font-size",`${ae(A.fontSize)}px`),A.fontStyle!==ie.fontStyle&&A.tspan.setAttributeNS(null,"font-style",A.fontStyle),A.fontWeight!==ie.fontWeight&&A.tspan.setAttributeNS(null,"font-weight",A.fontWeight);const Ve=A.textRenderingMode&s.TextRenderingMode.FILL_STROKE_MASK;Ve===s.TextRenderingMode.FILL||Ve===s.TextRenderingMode.FILL_STROKE?(A.fillColor!==ie.fillColor&&A.tspan.setAttributeNS(null,"fill",A.fillColor),A.fillAlpha<1&&A.tspan.setAttributeNS(null,"fill-opacity",A.fillAlpha)):A.tspan.setAttributeNS(null,"fill",A.textRenderingMode===s.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(Ve===s.TextRenderingMode.STROKE||Ve===s.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(A.tspan,1/(A.textMatrixScale||1));let Xe=A.textMatrix;0!==A.textRise&&(Xe=Xe.slice(),Xe[5]+=A.textRise),A.txtElement.setAttributeNS(null,"transform",`${q(Xe)} scale(${ae(oe)}, -1)`),A.txtElement.setAttributeNS(re,"xml:space","preserve"),A.txtElement.appendChild(A.tspan),A.txtgrp.appendChild(A.txtElement),this._ensureTransformGroup().appendChild(A.txtElement)}setLeadingMoveText(E,A){this.setLeading(-A),this.moveText(E,A)}addFontStyle(E){if(!E.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const A=ee(E.data,E.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${E.loadedName}"; src: url(${A}); }\n`}setFont(E){const A=this.current,F=this.commonObjs.get(E[0]);let X=E[1];A.font=F,this.embedFonts&&!F.missingFile&&!this.embeddedFonts[F.loadedName]&&(this.addFontStyle(F),this.embeddedFonts[F.loadedName]=F),A.fontMatrix=F.fontMatrix||s.FONT_IDENTITY_MATRIX;let N="normal";F.black?N="900":F.bold&&(N="bold");const J=F.italic?"italic":"normal";X<0?(X=-X,A.fontDirection=-1):A.fontDirection=1,A.fontSize=X,A.fontFamily=F.loadedName,A.fontWeight=N,A.fontStyle=J,A.tspan=this.svgFactory.createElement("svg:tspan"),A.tspan.setAttributeNS(null,"y",ae(-A.y)),A.xcoords=[],A.ycoords=[]}endText(){const E=this.current;E.textRenderingMode&s.TextRenderingMode.ADD_TO_PATH_FLAG&&E.txtElement?.hasChildNodes()&&(E.element=E.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(E){E>0&&(this.current.lineWidth=E)}setLineCap(E){this.current.lineCap=ce[E]}setLineJoin(E){this.current.lineJoin=he[E]}setMiterLimit(E){this.current.miterLimit=E}setStrokeAlpha(E){this.current.strokeAlpha=E}setStrokeRGBColor(E,A,F){this.current.strokeColor=s.Util.makeHexColor(E,A,F)}setFillAlpha(E){this.current.fillAlpha=E}setFillRGBColor(E,A,F){this.current.fillColor=s.Util.makeHexColor(E,A,F),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(E){this.current.strokeColor=this._makeColorN_Pattern(E)}setFillColorN(E){this.current.fillColor=this._makeColorN_Pattern(E)}shadingFill(E){const A=this.viewport.width,F=this.viewport.height,X=s.Util.inverseTransform(this.transformMatrix),N=s.Util.applyTransform([0,0],X),J=s.Util.applyTransform([0,F],X),G=s.Util.applyTransform([A,0],X),S=s.Util.applyTransform([A,F],X),oe=Math.min(N[0],J[0],G[0],S[0]),W=Math.min(N[1],J[1],G[1],S[1]),le=Math.max(N[0],J[0],G[0],S[0]),me=Math.max(N[1],J[1],G[1],S[1]),ye=this.svgFactory.createElement("svg:rect");ye.setAttributeNS(null,"x",oe),ye.setAttributeNS(null,"y",W),ye.setAttributeNS(null,"width",le-oe),ye.setAttributeNS(null,"height",me-W),ye.setAttributeNS(null,"fill",this._makeShadingPattern(E)),this.current.fillAlpha<1&&ye.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(ye)}_makeColorN_Pattern(E){return"TilingPattern"===E[0]?this._makeTilingPattern(E):this._makeShadingPattern(E)}_makeTilingPattern(E){const A=E[1],F=E[2],X=E[3]||s.IDENTITY_MATRIX,[N,J,G,S]=E[4],oe=E[5],W=E[6],le=E[7],me="shading"+K++,[ye,Re,Ve,Xe]=s.Util.normalizeRect([...s.Util.applyTransform([N,J],X),...s.Util.applyTransform([G,S],X)]),[it,ve]=s.Util.singularValueDecompose2dScale(X),I=oe*it,b=W*ve,P=this.svgFactory.createElement("svg:pattern");P.setAttributeNS(null,"id",me),P.setAttributeNS(null,"patternUnits","userSpaceOnUse"),P.setAttributeNS(null,"width",I),P.setAttributeNS(null,"height",b),P.setAttributeNS(null,"x",`${ye}`),P.setAttributeNS(null,"y",`${Re}`);const L=this.svg,Q=this.transformMatrix,ne=this.current.fillColor,U=this.current.strokeColor,be=this.svgFactory.create(Ve-ye,Xe-Re);if(this.svg=be,this.transformMatrix=X,2===le){const je=s.Util.makeHexColor(...A);this.current.fillColor=je,this.current.strokeColor=je}return this.executeOpTree(this.convertOpList(F)),this.svg=L,this.transformMatrix=Q,this.current.fillColor=ne,this.current.strokeColor=U,P.appendChild(be.childNodes[0]),this.defs.appendChild(P),`url(#${me})`}_makeShadingPattern(E){switch("string"==typeof E&&(E=this.objs.get(E)),E[0]){case"RadialAxial":const A="shading"+K++,F=E[3];let X;switch(E[1]){case"axial":const N=E[4],J=E[5];X=this.svgFactory.createElement("svg:linearGradient"),X.setAttributeNS(null,"id",A),X.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),X.setAttributeNS(null,"x1",N[0]),X.setAttributeNS(null,"y1",N[1]),X.setAttributeNS(null,"x2",J[0]),X.setAttributeNS(null,"y2",J[1]);break;case"radial":const G=E[4],S=E[5],oe=E[6],W=E[7];X=this.svgFactory.createElement("svg:radialGradient"),X.setAttributeNS(null,"id",A),X.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),X.setAttributeNS(null,"cx",S[0]),X.setAttributeNS(null,"cy",S[1]),X.setAttributeNS(null,"r",W),X.setAttributeNS(null,"fx",G[0]),X.setAttributeNS(null,"fy",G[1]),X.setAttributeNS(null,"fr",oe);break;default:throw new Error(`Unknown RadialAxial type: ${E[1]}`)}for(const N of F){const J=this.svgFactory.createElement("svg:stop");J.setAttributeNS(null,"offset",N[0]),J.setAttributeNS(null,"stop-color",N[1]),X.appendChild(J)}return this.defs.appendChild(X),`url(#${A})`;case"Mesh":return(0,s.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${E[0]}`)}}setDash(E,A){this.current.dashArray=E,this.current.dashPhase=A}constructPath(E,A){const F=this.current;let X=F.x,N=F.y,J=[],G=0;for(const S of E)switch(0|S){case s.OPS.rectangle:X=A[G++],N=A[G++];const le=X+A[G++],me=N+A[G++];J.push("M",ae(X),ae(N),"L",ae(le),ae(N),"L",ae(le),ae(me),"L",ae(X),ae(me),"Z");break;case s.OPS.moveTo:X=A[G++],N=A[G++],J.push("M",ae(X),ae(N));break;case s.OPS.lineTo:X=A[G++],N=A[G++],J.push("L",ae(X),ae(N));break;case s.OPS.curveTo:X=A[G+4],N=A[G+5],J.push("C",ae(A[G]),ae(A[G+1]),ae(A[G+2]),ae(A[G+3]),ae(X),ae(N)),G+=6;break;case s.OPS.curveTo2:J.push("C",ae(X),ae(N),ae(A[G]),ae(A[G+1]),ae(A[G+2]),ae(A[G+3])),X=A[G+2],N=A[G+3],G+=4;break;case s.OPS.curveTo3:X=A[G+2],N=A[G+3],J.push("C",ae(A[G]),ae(A[G+1]),ae(X),ae(N),ae(X),ae(N)),G+=4;break;case s.OPS.closePath:J.push("Z")}J=J.join(" "),F.path&&E.length>0&&E[0]!==s.OPS.rectangle&&E[0]!==s.OPS.moveTo?J=F.path.getAttributeNS(null,"d")+J:(F.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(F.path)),F.path.setAttributeNS(null,"d",J),F.path.setAttributeNS(null,"fill","none"),F.element=F.path,F.setCurrentPoint(X,N)}endPath(){const E=this.current;if(E.path=null,!this.pendingClip)return;if(!E.element)return void(this.pendingClip=null);const A="clippath"+fe++,F=this.svgFactory.createElement("svg:clipPath");F.setAttributeNS(null,"id",A),F.setAttributeNS(null,"transform",q(this.transformMatrix));const X=E.element.cloneNode(!0);if(X.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,F.appendChild(X),this.defs.appendChild(F),E.activeClipUrl){E.clipGroup=null;for(const N of this.extraStack)N.clipGroup=null;F.setAttributeNS(null,"clip-path",E.activeClipUrl)}E.activeClipUrl=`url(#${A})`,this.tgrp=null}clip(E){this.pendingClip=E}closePath(){const E=this.current;if(E.path){const A=`${E.path.getAttributeNS(null,"d")}Z`;E.path.setAttributeNS(null,"d",A)}}setLeading(E){this.current.leading=-E}setTextRise(E){this.current.textRise=E}setTextRenderingMode(E){this.current.textRenderingMode=E}setHScale(E){this.current.textHScale=E/100}setRenderingIntent(E){}setFlatness(E){}setGState(E){for(const[A,F]of E)switch(A){case"LW":this.setLineWidth(F);break;case"LC":this.setLineCap(F);break;case"LJ":this.setLineJoin(F);break;case"ML":this.setMiterLimit(F);break;case"D":this.setDash(F[0],F[1]);break;case"RI":this.setRenderingIntent(F);break;case"FL":this.setFlatness(F);break;case"Font":this.setFont(F);break;case"CA":this.setStrokeAlpha(F);break;case"ca":this.setFillAlpha(F);break;default:(0,s.warn)(`Unimplemented graphic state operator ${A}`)}}fill(){const E=this.current;E.element&&(E.element.setAttributeNS(null,"fill",E.fillColor),E.element.setAttributeNS(null,"fill-opacity",E.fillAlpha),this.endPath())}stroke(){const E=this.current;E.element&&(this._setStrokeAttributes(E.element),E.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(E,A=1){const F=this.current;let X=F.dashArray;1!==A&&X.length>0&&(X=X.map(function(N){return A*N})),E.setAttributeNS(null,"stroke",F.strokeColor),E.setAttributeNS(null,"stroke-opacity",F.strokeAlpha),E.setAttributeNS(null,"stroke-miterlimit",ae(F.miterLimit)),E.setAttributeNS(null,"stroke-linecap",F.lineCap),E.setAttributeNS(null,"stroke-linejoin",F.lineJoin),E.setAttributeNS(null,"stroke-width",ae(A*F.lineWidth)+"px"),E.setAttributeNS(null,"stroke-dasharray",X.map(ae).join(" ")),E.setAttributeNS(null,"stroke-dashoffset",ae(A*F.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const E=this.svgFactory.createElement("svg:rect");E.setAttributeNS(null,"x","0"),E.setAttributeNS(null,"y","0"),E.setAttributeNS(null,"width","1px"),E.setAttributeNS(null,"height","1px"),E.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(E)}paintImageXObject(E){const A=E.startsWith("g_")?this.commonObjs.get(E):this.objs.get(E);A?this.paintInlineImageXObject(A):(0,s.warn)(`Dependent image with object ID ${E} is not ready yet`)}paintInlineImageXObject(E,A){const F=E.width,X=E.height,N=Y(E,this.forceDataSchema,!!A),J=this.svgFactory.createElement("svg:rect");J.setAttributeNS(null,"x","0"),J.setAttributeNS(null,"y","0"),J.setAttributeNS(null,"width",ae(F)),J.setAttributeNS(null,"height",ae(X)),this.current.element=J,this.clip("nonzero");const G=this.svgFactory.createElement("svg:image");G.setAttributeNS(B,"xlink:href",N),G.setAttributeNS(null,"x","0"),G.setAttributeNS(null,"y",ae(-X)),G.setAttributeNS(null,"width",ae(F)+"px"),G.setAttributeNS(null,"height",ae(X)+"px"),G.setAttributeNS(null,"transform",`scale(${ae(1/F)} ${ae(-1/X)})`),A?A.appendChild(G):this._ensureTransformGroup().appendChild(G)}paintImageMaskXObject(E){const A=this.current,F=E.width,X=E.height,N=A.fillColor;A.maskId="mask"+z++;const J=this.svgFactory.createElement("svg:mask");J.setAttributeNS(null,"id",A.maskId);const G=this.svgFactory.createElement("svg:rect");G.setAttributeNS(null,"x","0"),G.setAttributeNS(null,"y","0"),G.setAttributeNS(null,"width",ae(F)),G.setAttributeNS(null,"height",ae(X)),G.setAttributeNS(null,"fill",N),G.setAttributeNS(null,"mask",`url(#${A.maskId})`),this.defs.appendChild(J),this._ensureTransformGroup().appendChild(G),this.paintInlineImageXObject(E,J)}paintFormXObjectBegin(E,A){if(Array.isArray(E)&&6===E.length&&this.transform(E[0],E[1],E[2],E[3],E[4],E[5]),A){const F=A[2]-A[0],X=A[3]-A[1],N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x",A[0]),N.setAttributeNS(null,"y",A[1]),N.setAttributeNS(null,"width",ae(F)),N.setAttributeNS(null,"height",ae(X)),this.current.element=N,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(E){const A=this.svgFactory.create(E.width,E.height),F=this.svgFactory.createElement("svg:defs");A.appendChild(F),this.defs=F;const X=this.svgFactory.createElement("svg:g");return X.setAttributeNS(null,"transform",q(E.transform)),A.appendChild(X),this.svg=X,A}_ensureClipGroup(){if(!this.current.clipGroup){const E=this.svgFactory.createElement("svg:g");E.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(E),this.current.clipGroup=E}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",q(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFNodeStream=void 0;var s=R(1),te=R(26);const O=__webpack_require__(172),pe=__webpack_require__(2001),ie=__webpack_require__(3779),re=__webpack_require__(6558),B=/^file:\/\/\/[a-zA-Z]:\//;x.PDFNodeStream=class he{constructor(K){this.source=K,this.url=function ce(z){const K=re.parse(z);return"file:"===K.protocol||K.host?K:/^[a-z]:[/\\]/i.test(z)?re.parse(`file:///${z}`):(K.host||(K.protocol="file:"),K)}(K.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&K.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new q(this):new $(this),this._fullRequestReader}getRangeReader(K,E){if(E<=this._progressiveDataLength)return null;const A=this.isFsUrl?new fe(this,K,E):new ae(this,K,E);return this._rangeRequestReaders.push(A),A}cancelAllRequests(K){this._fullRequestReader&&this._fullRequestReader.cancel(K);for(const E of this._rangeRequestReaders.slice(0))E.cancel(K)}};class ee{constructor(K){this._url=K.url,this._done=!1,this._storedError=null,this.onProgress=null;const E=K.source;this._contentLength=E.length,this._loaded=0,this._filename=null,this._disableRange=E.disableRange||!1,this._rangeChunkSize=E.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!E.disableStream,this._isRangeSupported=!E.disableRange,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._headersCapability=(0,s.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var K=this;return _asyncToGenerator(function*(){if(yield K._readCapability.promise,K._done)return{value:void 0,done:!0};if(K._storedError)throw K._storedError;const E=K._readableStream.read();return null===E?(K._readCapability=(0,s.createPromiseCapability)(),K.read()):(K._loaded+=E.length,K.onProgress&&K.onProgress({loaded:K._loaded,total:K._contentLength}),{value:new Uint8Array(E).buffer,done:!1})})()}cancel(K){this._readableStream?this._readableStream.destroy(K):this._error(K)}_error(K){this._storedError=K,this._readCapability.resolve()}_setReadableStream(K){this._readableStream=K,K.on("readable",()=>{this._readCapability.resolve()}),K.on("end",()=>{K.destroy(),this._done=!0,this._readCapability.resolve()}),K.on("error",E=>{this._error(E)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new s.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class Y{constructor(K){this._url=K.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!K.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}read(){var K=this;return _asyncToGenerator(function*(){if(yield K._readCapability.promise,K._done)return{value:void 0,done:!0};if(K._storedError)throw K._storedError;const E=K._readableStream.read();return null===E?(K._readCapability=(0,s.createPromiseCapability)(),K.read()):(K._loaded+=E.length,K.onProgress&&K.onProgress({loaded:K._loaded}),{value:new Uint8Array(E).buffer,done:!1})})()}cancel(K){this._readableStream?this._readableStream.destroy(K):this._error(K)}_error(K){this._storedError=K,this._readCapability.resolve()}_setReadableStream(K){this._readableStream=K,K.on("readable",()=>{this._readCapability.resolve()}),K.on("end",()=>{K.destroy(),this._done=!0,this._readCapability.resolve()}),K.on("error",E=>{this._error(E)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function se(z,K){return{protocol:z.protocol,auth:z.auth,host:z.hostname,port:z.port,path:z.path,method:"GET",headers:K}}class $ extends ee{constructor(K){super(K);const E=A=>{if(404===A.statusCode){const J=new s.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=J,void this._headersCapability.reject(J)}this._headersCapability.resolve(),this._setReadableStream(A);const F=J=>this._readableStream.headers[J.toLowerCase()],{allowRangeRequests:X,suggestedLength:N}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:F,isHttp:K.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=X,this._contentLength=N||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)(F)};this._request=null,this._request="http:"===this._url.protocol?pe.request(se(this._url,K.httpHeaders),E):ie.request(se(this._url,K.httpHeaders),E),this._request.on("error",A=>{this._storedError=A,this._headersCapability.reject(A)}),this._request.end()}}class ae extends Y{constructor(K,E,A){super(K),this._httpHeaders={};for(const X in K.httpHeaders){const N=K.httpHeaders[X];typeof N>"u"||(this._httpHeaders[X]=N)}this._httpHeaders.Range=`bytes=${E}-${A-1}`;const F=X=>{if(404!==X.statusCode)this._setReadableStream(X);else{const N=new s.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=N}};this._request=null,this._request="http:"===this._url.protocol?pe.request(se(this._url,this._httpHeaders),F):ie.request(se(this._url,this._httpHeaders),F),this._request.on("error",X=>{this._storedError=X}),this._request.end()}}class q extends ee{constructor(K){super(K);let E=decodeURIComponent(this._url.path);B.test(this._url.href)&&(E=E.replace(/^\//,"")),O.lstat(E,(A,F)=>{if(A)return"ENOENT"===A.code&&(A=new s.MissingPDFException(`Missing PDF "${E}".`)),this._storedError=A,void this._headersCapability.reject(A);this._contentLength=F.size,this._setReadableStream(O.createReadStream(E)),this._headersCapability.resolve()})}}class fe extends Y{constructor(K,E,A){super(K);let F=decodeURIComponent(this._url.path);B.test(this._url.href)&&(F=F.replace(/^\//,"")),this._setReadableStream(O.createReadStream(F,{start:E,end:A-1}))}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.createResponseStatusError=function re(ce,he){return 404===ce||0===ce&&he.startsWith("file:")?new s.MissingPDFException('Missing PDF "'+he+'".'):new s.UnexpectedResponseException(`Unexpected server response (${ce}) while retrieving PDF "${he}".`,ce)},x.extractFilenameFromHeader=function ie(ce){const he=ce("Content-Disposition");if(he){let ee=(0,te.getFilenameFromContentDispositionHeader)(he);if(ee.includes("%"))try{ee=decodeURIComponent(ee)}catch{}if((0,O.isPdfFile)(ee))return ee}return null},x.validateRangeRequestCapabilities=function pe({getResponseHeader:ce,isHttp:he,rangeChunkSize:ee,disableRange:Y}){const se={allowRangeRequests:!1,suggestedLength:void 0},$=parseInt(ce("Content-Length"),10);return!Number.isInteger($)||(se.suggestedLength=$,$<=2*ee)||Y||!he||"bytes"!==ce("Accept-Ranges")||"identity"!==(ce("Content-Encoding")||"identity")||(se.allowRangeRequests=!0),se},x.validateResponseStatus=function B(ce){return 200===ce||206===ce};var s=R(1),te=R(27),O=R(5)},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.getFilenameFromContentDispositionHeader=function te(O){let pe=!0,ie=re("filename\\*","i").exec(O);if(ie){ie=ie[1];let $=ee(ie);return $=unescape($),$=Y($),$=se($),ce($)}if(ie=function he($){const ae=[];let q;const fe=re("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(q=fe.exec($));){let[,K,E,A]=q;if(K=parseInt(K,10),K in ae){if(0===K)break}else ae[K]=[E,A]}const z=[];for(let K=0;K<ae.length&&K in ae;++K){let[E,A]=ae[K];A=ee(A),E&&(A=unescape(A),0===K&&(A=Y(A))),z.push(A)}return z.join("")}(O),ie)return ce(se(ie));if(ie=re("filename","i").exec(O),ie){ie=ie[1];let $=ee(ie);return $=se($),ce($)}function re($,ae){return new RegExp("(?:^|;)\\s*"+$+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',ae)}function B($,ae){if($){if(!/^[\x00-\xFF]+$/.test(ae))return ae;try{const q=new TextDecoder($,{fatal:!0}),fe=(0,s.stringToBytes)(ae);ae=q.decode(fe),pe=!1}catch{}}return ae}function ce($){return pe&&/[\x80-\xff]/.test($)&&($=B("utf-8",$),pe&&($=B("iso-8859-1",$))),$}function ee($){if($.startsWith('"')){const ae=$.slice(1).split('\\"');for(let q=0;q<ae.length;++q){const fe=ae[q].indexOf('"');-1!==fe&&(ae[q]=ae[q].slice(0,fe),ae.length=q+1),ae[q]=ae[q].replace(/\\(.)/g,"$1")}$=ae.join('"')}return $}function Y($){const ae=$.indexOf("'");return-1===ae?$:B($.slice(0,ae),$.slice(ae+1).replace(/^[^']*'/,""))}function se($){return!$.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test($)?$:$.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(ae,q,fe,z){if("q"===fe||"Q"===fe)return B(q,z=(z=z.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(K,E){return String.fromCharCode(parseInt(E,16))}));try{z=atob(z)}catch{}return B(q,z)})}return""};var s=R(1)},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFNetworkStream=void 0;var s=R(1),te=R(26);class re{constructor(Y,se={}){this.url=Y,this.isHttp=/^https?:/i.test(Y),this.httpHeaders=this.isHttp&&se.httpHeaders||Object.create(null),this.withCredentials=se.withCredentials||!1,this.getXhr=se.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(Y,se,$){const ae={begin:Y,end:se};for(const q in $)ae[q]=$[q];return this.request(ae)}requestFull(Y){return this.request(Y)}request(Y){const se=this.getXhr(),$=this.currXhrId++,ae=this.pendingRequests[$]={xhr:se};se.open("GET",this.url),se.withCredentials=this.withCredentials;for(const q in this.httpHeaders){const fe=this.httpHeaders[q];typeof fe>"u"||se.setRequestHeader(q,fe)}return this.isHttp&&"begin"in Y&&"end"in Y?(se.setRequestHeader("Range",`bytes=${Y.begin}-${Y.end-1}`),ae.expectedStatus=206):ae.expectedStatus=200,se.responseType="arraybuffer",Y.onError&&(se.onerror=function(q){Y.onError(se.status)}),se.onreadystatechange=this.onStateChange.bind(this,$),se.onprogress=this.onProgress.bind(this,$),ae.onHeadersReceived=Y.onHeadersReceived,ae.onDone=Y.onDone,ae.onError=Y.onError,ae.onProgress=Y.onProgress,se.send(null),$}onProgress(Y,se){const $=this.pendingRequests[Y];!$||$.onProgress?.(se)}onStateChange(Y,se){const $=this.pendingRequests[Y];if(!$)return;const ae=$.xhr;if(ae.readyState>=2&&$.onHeadersReceived&&($.onHeadersReceived(),delete $.onHeadersReceived),4!==ae.readyState||!(Y in this.pendingRequests))return;if(delete this.pendingRequests[Y],0===ae.status&&this.isHttp)return void $.onError?.(ae.status);const q=ae.status||200;if((200!==q||206!==$.expectedStatus)&&q!==$.expectedStatus)return void $.onError?.(ae.status);const z=function ie(ee){const Y=ee.response;return"string"!=typeof Y?Y:(0,s.stringToBytes)(Y).buffer}(ae);if(206===q){const K=ae.getResponseHeader("Content-Range"),E=/bytes (\d+)-(\d+)\/(\d+)/.exec(K);$.onDone({begin:parseInt(E[1],10),chunk:z})}else z?$.onDone({begin:0,chunk:z}):$.onError?.(ae.status)}getRequestXhr(Y){return this.pendingRequests[Y].xhr}isPendingRequest(Y){return Y in this.pendingRequests}abortRequest(Y){const se=this.pendingRequests[Y].xhr;delete this.pendingRequests[Y],se.abort()}}x.PDFNetworkStream=class B{constructor(Y){this._source=Y,this._manager=new re(Y.url,{httpHeaders:Y.httpHeaders,withCredentials:Y.withCredentials}),this._rangeChunkSize=Y.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(Y){const se=this._rangeRequestReaders.indexOf(Y);se>=0&&this._rangeRequestReaders.splice(se,1)}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new ce(this._manager,this._source),this._fullRequestReader}getRangeReader(Y,se){const $=new he(this._manager,Y,se);return $.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push($),$}cancelAllRequests(Y){this._fullRequestReader?.cancel(Y);for(const se of this._rangeRequestReaders.slice(0))se.cancel(Y)}};class ce{constructor(Y,se){this._manager=Y;const $={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=se.url,this._fullRequestId=Y.requestFull($),this._headersReceivedCapability=(0,s.createPromiseCapability)(),this._disableRange=se.disableRange||!1,this._contentLength=se.length,this._rangeChunkSize=se.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const Y=this._fullRequestId,se=this._manager.getRequestXhr(Y),$=fe=>se.getResponseHeader(fe),{allowRangeRequests:ae,suggestedLength:q}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:$,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});ae&&(this._isRangeSupported=!0),this._contentLength=q||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)($),this._isRangeSupported&&this._manager.abortRequest(Y),this._headersReceivedCapability.resolve()}_onDone(Y){if(Y&&(this._requests.length>0?this._requests.shift().resolve({value:Y.chunk,done:!1}):this._cachedChunks.push(Y.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(Y){this._storedError=(0,te.createResponseStatusError)(Y,this._url),this._headersReceivedCapability.reject(this._storedError);for(const se of this._requests)se.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(Y){this.onProgress?.({loaded:Y.loaded,total:Y.lengthComputable?Y.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}read(){var Y=this;return _asyncToGenerator(function*(){if(Y._storedError)throw Y._storedError;if(Y._cachedChunks.length>0)return{value:Y._cachedChunks.shift(),done:!1};if(Y._done)return{value:void 0,done:!0};const se=(0,s.createPromiseCapability)();return Y._requests.push(se),se.promise})()}cancel(Y){this._done=!0,this._headersReceivedCapability.reject(Y);for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class he{constructor(Y,se,$){this._manager=Y;const ae={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=Y.url,this._requestId=Y.requestRange(se,$,ae),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(Y){const se=Y.chunk;this._requests.length>0?this._requests.shift().resolve({value:se,done:!1}):this._queuedChunk=se,this._done=!0;for(const $ of this._requests)$.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(Y){this._storedError=(0,te.createResponseStatusError)(Y,this._url);for(const se of this._requests)se.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(Y){this.isStreamingSupported||this.onProgress?.({loaded:Y.loaded})}get isStreamingSupported(){return!1}read(){var Y=this;return _asyncToGenerator(function*(){if(Y._storedError)throw Y._storedError;if(null!==Y._queuedChunk){const $=Y._queuedChunk;return Y._queuedChunk=null,{value:$,done:!1}}if(Y._done)return{value:void 0,done:!0};const se=(0,s.createPromiseCapability)();return Y._requests.push(se),se.promise})()}cancel(Y){this._done=!0;for(const se of this._requests)se.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(Ie,x,R)=>{Object.defineProperty(x,"__esModule",{value:!0}),x.PDFFetchStream=void 0;var s=R(1),te=R(26);function O(ce,he,ee){return{method:"GET",headers:ce,signal:ee?.signal,mode:"cors",credentials:he?"include":"same-origin",redirect:"follow"}}function pe(ce){const he=new Headers;for(const ee in ce){const Y=ce[ee];typeof Y>"u"||he.append(ee,Y)}return he}x.PDFFetchStream=class ie{constructor(he){this.source=he,this.isHttp=/^https?:/i.test(he.url),this.httpHeaders=this.isHttp&&he.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,s.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new re(this),this._fullRequestReader}getRangeReader(he,ee){if(ee<=this._progressiveDataLength)return null;const Y=new B(this,he,ee);return this._rangeRequestReaders.push(Y),Y}cancelAllRequests(he){this._fullRequestReader&&this._fullRequestReader.cancel(he);for(const ee of this._rangeRequestReaders.slice(0))ee.cancel(he)}};class re{constructor(he){this._stream=he,this._reader=null,this._loaded=0,this._filename=null;const ee=he.source;this._withCredentials=ee.withCredentials||!1,this._contentLength=ee.length,this._headersCapability=(0,s.createPromiseCapability)(),this._disableRange=ee.disableRange||!1,this._rangeChunkSize=ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!ee.disableStream,this._isRangeSupported=!ee.disableRange,this._headers=pe(this._stream.httpHeaders);const Y=ee.url;fetch(Y,O(this._headers,this._withCredentials,this._abortController)).then(se=>{if(!(0,te.validateResponseStatus)(se.status))throw(0,te.createResponseStatusError)(se.status,Y);this._reader=se.body.getReader(),this._headersCapability.resolve();const $=fe=>se.headers.get(fe),{allowRangeRequests:ae,suggestedLength:q}=(0,te.validateRangeRequestCapabilities)({getResponseHeader:$,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=ae,this._contentLength=q||this._contentLength,this._filename=(0,te.extractFilenameFromHeader)($),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new s.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}read(){var he=this;return _asyncToGenerator(function*(){yield he._headersCapability.promise;const{value:ee,done:Y}=yield he._reader.read();return Y?{value:ee,done:Y}:(he._loaded+=ee.byteLength,he.onProgress&&he.onProgress({loaded:he._loaded,total:he._contentLength}),{value:new Uint8Array(ee).buffer,done:!1})})()}cancel(he){this._reader&&this._reader.cancel(he),this._abortController&&this._abortController.abort()}}class B{constructor(he,ee,Y){this._stream=he,this._reader=null,this._loaded=0;const se=he.source;this._withCredentials=se.withCredentials||!1,this._readCapability=(0,s.createPromiseCapability)(),this._isStreamingSupported=!se.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=pe(this._stream.httpHeaders),this._headers.append("Range",`bytes=${ee}-${Y-1}`);const $=se.url;fetch($,O(this._headers,this._withCredentials,this._abortController)).then(ae=>{if(!(0,te.validateResponseStatus)(ae.status))throw(0,te.createResponseStatusError)(ae.status,$);this._readCapability.resolve(),this._reader=ae.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}read(){var he=this;return _asyncToGenerator(function*(){yield he._readCapability.promise;const{value:ee,done:Y}=yield he._reader.read();return Y?{value:ee,done:Y}:(he._loaded+=ee.byteLength,he.onProgress&&he.onProgress({loaded:he._loaded}),{value:new Uint8Array(ee).buffer,done:!1})})()}cancel(he){this._reader&&this._reader.cancel(he),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(Ie){var x=__webpack_module_cache__[Ie];if(void 0!==x)return x.exports;var R=__webpack_module_cache__[Ie]={exports:{}};return __webpack_modules__[Ie](R,R.exports,__w_pdfjs_require__),R.exports}var __webpack_exports__={};return(()=>{var Ie=__webpack_exports__;Object.defineProperty(Ie,"__esModule",{value:!0}),Object.defineProperty(Ie,"AnnotationLayer",{enumerable:!0,get:function(){return te.AnnotationLayer}}),Object.defineProperty(Ie,"AnnotationMode",{enumerable:!0,get:function(){return x.AnnotationMode}}),Object.defineProperty(Ie,"CMapCompressionType",{enumerable:!0,get:function(){return x.CMapCompressionType}}),Object.defineProperty(Ie,"GlobalWorkerOptions",{enumerable:!0,get:function(){return O.GlobalWorkerOptions}}),Object.defineProperty(Ie,"InvalidPDFException",{enumerable:!0,get:function(){return x.InvalidPDFException}}),Object.defineProperty(Ie,"LoopbackPort",{enumerable:!0,get:function(){return R.LoopbackPort}}),Object.defineProperty(Ie,"MissingPDFException",{enumerable:!0,get:function(){return x.MissingPDFException}}),Object.defineProperty(Ie,"OPS",{enumerable:!0,get:function(){return x.OPS}}),Object.defineProperty(Ie,"PDFDataRangeTransport",{enumerable:!0,get:function(){return R.PDFDataRangeTransport}}),Object.defineProperty(Ie,"PDFDateString",{enumerable:!0,get:function(){return s.PDFDateString}}),Object.defineProperty(Ie,"PDFWorker",{enumerable:!0,get:function(){return R.PDFWorker}}),Object.defineProperty(Ie,"PasswordResponses",{enumerable:!0,get:function(){return x.PasswordResponses}}),Object.defineProperty(Ie,"PermissionFlag",{enumerable:!0,get:function(){return x.PermissionFlag}}),Object.defineProperty(Ie,"PixelsPerInch",{enumerable:!0,get:function(){return s.PixelsPerInch}}),Object.defineProperty(Ie,"RenderingCancelledException",{enumerable:!0,get:function(){return s.RenderingCancelledException}}),Object.defineProperty(Ie,"SVGGraphics",{enumerable:!0,get:function(){return re.SVGGraphics}}),Object.defineProperty(Ie,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return x.UNSUPPORTED_FEATURES}}),Object.defineProperty(Ie,"UnexpectedResponseException",{enumerable:!0,get:function(){return x.UnexpectedResponseException}}),Object.defineProperty(Ie,"Util",{enumerable:!0,get:function(){return x.Util}}),Object.defineProperty(Ie,"VerbosityLevel",{enumerable:!0,get:function(){return x.VerbosityLevel}}),Object.defineProperty(Ie,"XfaLayer",{enumerable:!0,get:function(){return B.XfaLayer}}),Object.defineProperty(Ie,"build",{enumerable:!0,get:function(){return R.build}}),Object.defineProperty(Ie,"createPromiseCapability",{enumerable:!0,get:function(){return x.createPromiseCapability}}),Object.defineProperty(Ie,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return x.createValidAbsoluteUrl}}),Object.defineProperty(Ie,"getDocument",{enumerable:!0,get:function(){return R.getDocument}}),Object.defineProperty(Ie,"getFilenameFromUrl",{enumerable:!0,get:function(){return s.getFilenameFromUrl}}),Object.defineProperty(Ie,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return s.getPdfFilenameFromUrl}}),Object.defineProperty(Ie,"getXfaPageViewport",{enumerable:!0,get:function(){return s.getXfaPageViewport}}),Object.defineProperty(Ie,"isPdfFile",{enumerable:!0,get:function(){return s.isPdfFile}}),Object.defineProperty(Ie,"loadScript",{enumerable:!0,get:function(){return s.loadScript}}),Object.defineProperty(Ie,"renderTextLayer",{enumerable:!0,get:function(){return ie.renderTextLayer}}),Object.defineProperty(Ie,"shadow",{enumerable:!0,get:function(){return x.shadow}}),Object.defineProperty(Ie,"version",{enumerable:!0,get:function(){return R.version}});var x=__w_pdfjs_require__(1),R=__w_pdfjs_require__(4),s=__w_pdfjs_require__(5),te=__w_pdfjs_require__(20),O=__w_pdfjs_require__(13),pe=__w_pdfjs_require__(3),ie=__w_pdfjs_require__(23),re=__w_pdfjs_require__(24),B=__w_pdfjs_require__(22);if(pe.isNodeJS){const{PDFNodeStream:ee}=__w_pdfjs_require__(25);(0,R.setPDFNetworkStreamFactory)(Y=>new ee(Y))}else{const{PDFNetworkStream:ee}=__w_pdfjs_require__(28),{PDFFetchStream:Y}=__w_pdfjs_require__(29);(0,R.setPDFNetworkStreamFactory)(se=>(0,s.isValidFetchUrl)(se.url)?new Y(se):new ee(se))}})(),__webpack_exports__})(),module.exports=R()},2813:function(Ie,x,R){var ee,s=R(5661).default,te=R(1860).default,O=R(9159).default,pe=R(5764).default,ie=R(4467).default,re=R(468).default,B=R(7156).default;ee=()=>(()=>{"use strict";var ce=[,(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.DefaultXfaLayerFactory=$.DefaultTextLayerFactory=$.DefaultStructTreeLayerFactory=$.DefaultAnnotationLayerFactory=void 0;var q=ae(2),fe=ae(4),z=ae(5),K=ae(7),E=ae(8),A=ae(9);$.DefaultAnnotationLayerFactory=class F{createAnnotationLayerBuilder(S,oe,W=null,le="",me=!0,ye=fe.NullL10n,Re=!1,Ve=null,Xe=null,it=null,ve=null){return new q.AnnotationLayerBuilder({pageDiv:S,pdfPage:oe,imageResourcesPath:le,renderForms:me,linkService:new z.SimpleLinkService,l10n:ye,annotationStorage:W,enableScripting:Re,hasJSActionsPromise:Ve,fieldObjectsPromise:it,mouseState:Xe,annotationCanvasMap:ve})}},$.DefaultStructTreeLayerFactory=class X{createStructTreeLayerBuilder(S){return new K.StructTreeLayerBuilder({pdfPage:S})}},$.DefaultTextLayerFactory=class N{createTextLayerBuilder(S,oe,W,le=!1,me,ye){return new E.TextLayerBuilder({textLayerDiv:S,pageIndex:oe,viewport:W,enhanceTextSelection:le,eventBus:me,highlighter:ye})}},$.DefaultXfaLayerFactory=class J{createXfaLayerBuilder(S,oe,W=null,le=null){return new A.XfaLayerBuilder({pageDiv:S,pdfPage:oe,annotationStorage:W,linkService:new z.SimpleLinkService,xfaHtml:le})}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.AnnotationLayerBuilder=void 0;var q=ae(3),fe=ae(4);$.AnnotationLayerBuilder=class z{constructor({pageDiv:E,pdfPage:A,linkService:F,downloadManager:X,annotationStorage:N=null,imageResourcesPath:J="",renderForms:G=!0,l10n:S=fe.NullL10n,enableScripting:oe=!1,hasJSActionsPromise:W=null,fieldObjectsPromise:le=null,mouseState:me=null,annotationCanvasMap:ye=null}){this.pageDiv=E,this.pdfPage=A,this.linkService=F,this.downloadManager=X,this.imageResourcesPath=J,this.renderForms=G,this.l10n=S,this.annotationStorage=N,this.enableScripting=oe,this._hasJSActionsPromise=W,this._fieldObjectsPromise=le,this._mouseState=me,this._annotationCanvasMap=ye,this.div=null,this._cancelled=!1}render(E,A="display"){var F=this;return B(function*(){const[X,N=!1,J=null]=yield Promise.all([F.pdfPage.getAnnotations({intent:A}),F._hasJSActionsPromise,F._fieldObjectsPromise]);if(F._cancelled||0===X.length)return;const G={viewport:E.clone({dontFlip:!0}),div:F.div,annotations:X,page:F.pdfPage,imageResourcesPath:F.imageResourcesPath,renderForms:F.renderForms,linkService:F.linkService,downloadManager:F.downloadManager,annotationStorage:F.annotationStorage,enableScripting:F.enableScripting,hasJSActions:N,fieldObjects:J,mouseState:F._mouseState,annotationCanvasMap:F._annotationCanvasMap};F.div?q.AnnotationLayer.update(G):(F.div=document.createElement("div"),F.div.className="annotationLayer",F.pageDiv.appendChild(F.div),G.div=F.div,q.AnnotationLayer.render(G),F.l10n.translate(F.div))})()}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},se=>{let $;$=typeof window<"u"&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:R(6036),se.exports=$},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.NullL10n=void 0,$.fixupLangCode=function z(A){return fe[A?.toLowerCase()]||A},$.getL10nFallback=q;const ae={of_pages:"of {{pagesCount}}",page_of_pages:"({{pageNumber}} of {{pagesCount}})",document_properties_kb:"{{size_kb}} KB ({{size_b}} bytes)",document_properties_mb:"{{size_mb}} MB ({{size_b}} bytes)",document_properties_date_string:"{{date}}, {{time}}",document_properties_page_size_unit_inches:"in",document_properties_page_size_unit_millimeters:"mm",document_properties_page_size_orientation_portrait:"portrait",document_properties_page_size_orientation_landscape:"landscape",document_properties_page_size_name_a3:"A3",document_properties_page_size_name_a4:"A4",document_properties_page_size_name_letter:"Letter",document_properties_page_size_name_legal:"Legal",document_properties_page_size_dimension_string:"{{width}} \xd7 {{height}} {{unit}} ({{orientation}})",document_properties_page_size_dimension_name_string:"{{width}} \xd7 {{height}} {{unit}} ({{name}}, {{orientation}})",document_properties_linearized_yes:"Yes",document_properties_linearized_no:"No",print_progress_percent:"{{progress}}%","toggle_sidebar.title":"Toggle Sidebar","toggle_sidebar_notification2.title":"Toggle Sidebar (document contains outline/attachments/layers)",additional_layers:"Additional Layers",page_landmark:"Page {{page}}",thumb_page_title:"Page {{page}}",thumb_page_canvas:"Thumbnail of Page {{page}}",find_reached_top:"Reached top of document, continued from bottom",find_reached_bottom:"Reached end of document, continued from top","find_match_count[one]":"{{current}} of {{total}} match","find_match_count[other]":"{{current}} of {{total}} matches","find_match_count_limit[one]":"More than {{limit}} match","find_match_count_limit[other]":"More than {{limit}} matches",find_not_found:"Phrase not found",error_version_info:"PDF.js v{{version}} (build: {{build}})",error_message:"Message: {{message}}",error_stack:"Stack: {{stack}}",error_file:"File: {{file}}",error_line:"Line: {{line}}",rendering_error:"An error occurred while rendering the page.",page_scale_width:"Page Width",page_scale_fit:"Page Fit",page_scale_auto:"Automatic Zoom",page_scale_actual:"Actual Size",page_scale_percent:"{{scale}}%",loading:"Loading\u2026",loading_error:"An error occurred while loading the PDF.",invalid_file_error:"Invalid or corrupted PDF file.",missing_file_error:"Missing PDF file.",unexpected_response_error:"Unexpected server response.",printing_not_supported:"Warning: Printing is not fully supported by this browser.",printing_not_ready:"Warning: The PDF is not fully loaded for printing.",web_fonts_disabled:"Web fonts are disabled: unable to use embedded PDF fonts."};function q(A,F){switch(A){case"find_match_count":A=`find_match_count[${1===F.total?"one":"other"}]`;break;case"find_match_count_limit":A=`find_match_count_limit[${1===F.limit?"one":"other"}]`}return ae[A]||""}const fe={en:"en-US",es:"es-ES",fy:"fy-NL",ga:"ga-IE",gu:"gu-IN",hi:"hi-IN",hy:"hy-AM",nb:"nb-NO",ne:"ne-NP",nn:"nn-NO",pa:"pa-IN",pt:"pt-PT",sv:"sv-SE",zh:"zh-CN"};$.NullL10n={getLanguage:()=>B(function*(){return"en-us"})(),getDirection:()=>B(function*(){return"ltr"})(),get:(A,F=null,X=q(A,F))=>B(function*(){return function K(A,F){return F?A.replace(/\{\{\s*(\w+)\s*\}\}/g,(X,N)=>N in F?F[N]:"{{"+N+"}}"):A}(X,F)})(),translate:A=>B(function*(){})()}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.SimpleLinkService=$.PDFLinkService=$.LinkTarget=void 0;var q=ae(6);const z={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function K(G,{url:S,target:oe,rel:W,enabled:le=!0}={}){if(!S||"string"!=typeof S)throw new Error('A valid "url" parameter must provided.');const me=(0,q.removeNullCharacters)(S);le?G.href=G.title=me:(G.href="",G.title=`Disabled: ${me}`,G.onclick=()=>!1);let ye="";switch(oe){case z.NONE:break;case z.SELF:ye="_self";break;case z.BLANK:ye="_blank";break;case z.PARENT:ye="_parent";break;case z.TOP:ye="_top"}G.target=ye,G.rel="string"==typeof W?W:"noopener noreferrer nofollow"}$.LinkTarget=z;var E=new WeakMap,A=new WeakSet;class F{constructor({eventBus:S,externalLinkTarget:oe=null,externalLinkRel:W=null,ignoreDestinationZoom:le=!1}={}){te(this,A),O(this,E,{writable:!0,value:new Map}),this.eventBus=S,this.externalLinkTarget=oe,this.externalLinkRel=W,this.externalLinkEnabled=!0,this._ignoreDestinationZoom=le,this.baseUrl=null,this.pdfDocument=null,this.pdfViewer=null,this.pdfHistory=null}setDocument(S,oe=null){this.baseUrl=oe,this.pdfDocument=S,re(this,E).clear()}setViewer(S){this.pdfViewer=S}setHistory(S){this.pdfHistory=S}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return this.pdfViewer.currentPageNumber}set page(S){this.pdfViewer.currentPageNumber=S}get rotation(){return this.pdfViewer.pagesRotation}set rotation(S){this.pdfViewer.pagesRotation=S}goToDestination(S){var oe=this;return B(function*(){if(!oe.pdfDocument)return;let W,le;"string"==typeof S?(W=S,le=yield oe.pdfDocument.getDestination(S)):(W=null,le=yield S),Array.isArray(le)?ie(oe,A,X).call(oe,S,W,le):console.error(`PDFLinkService.goToDestination: "${le}" is not a valid destination array, for dest="${S}".`)})()}goToPage(S){if(!this.pdfDocument)return;const oe="string"==typeof S&&this.pdfViewer.pageLabelToPageNumber(S)||0|S;Number.isInteger(oe)&&oe>0&&oe<=this.pagesCount?(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.pushPage(oe)),this.pdfViewer.scrollPageIntoView({pageNumber:oe})):console.error(`PDFLinkService.goToPage: "${S}" is not a valid page.`)}addLinkAttributes(S,oe,W=!1){K(S,{url:oe,target:W?z.BLANK:this.externalLinkTarget,rel:this.externalLinkRel,enabled:this.externalLinkEnabled})}getDestinationHash(S){if("string"==typeof S){if(S.length>0)return this.getAnchorUrl("#"+escape(S))}else if(Array.isArray(S)){const oe=JSON.stringify(S);if(oe.length>0)return this.getAnchorUrl("#"+escape(oe))}return this.getAnchorUrl("")}getAnchorUrl(S){return(this.baseUrl||"")+S}setHash(S){if(!this.pdfDocument)return;let oe,W;if(S.includes("=")){const le=(0,q.parseQueryString)(S);if(le.has("search")&&this.eventBus.dispatch("findfromurlhash",{source:this,query:le.get("search").replace(/"/g,""),phraseSearch:"true"===le.get("phrase")}),le.has("page")&&(oe=0|le.get("page")||1),le.has("zoom")){const me=le.get("zoom").split(","),ye=me[0],Re=parseFloat(ye);ye.includes("Fit")?"Fit"===ye||"FitB"===ye?W=[null,{name:ye}]:"FitH"===ye||"FitBH"===ye||"FitV"===ye||"FitBV"===ye?W=[null,{name:ye},me.length>1?0|me[1]:null]:"FitR"===ye?5!==me.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):W=[null,{name:ye},0|me[1],0|me[2],0|me[3],0|me[4]]:console.error(`PDFLinkService.setHash: "${ye}" is not a valid zoom value.`):W=[null,{name:"XYZ"},me.length>1?0|me[1]:null,me.length>2?0|me[2]:null,Re?Re/100:ye]}W?this.pdfViewer.scrollPageIntoView({pageNumber:oe||this.page,destArray:W,allowNegativeOffset:!0}):oe&&(this.page=oe),le.has("pagemode")&&this.eventBus.dispatch("pagemode",{source:this,mode:le.get("pagemode")}),le.has("nameddest")&&this.goToDestination(le.get("nameddest"))}else{W=unescape(S);try{W=JSON.parse(W),Array.isArray(W)||(W=W.toString())}catch{}if("string"==typeof W||pe(F,F,N).call(F,W))return void this.goToDestination(W);console.error(`PDFLinkService.setHash: "${unescape(S)}" is not a valid destination.`)}}executeNamedAction(S){switch(S){case"GoBack":this.pdfHistory?.back();break;case"GoForward":this.pdfHistory?.forward();break;case"NextPage":this.pdfViewer.nextPage();break;case"PrevPage":this.pdfViewer.previousPage();break;case"LastPage":this.page=this.pagesCount;break;case"FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:S})}cachePageRef(S,oe){if(!oe)return;const W=0===oe.gen?`${oe.num}R`:`${oe.num}R${oe.gen}`;re(this,E).set(W,S)}_cachedPageNumber(S){if(!S)return null;const oe=0===S.gen?`${S.num}R`:`${S.num}R${S.gen}`;return re(this,E).get(oe)||null}isPageVisible(S){return this.pdfViewer.isPageVisible(S)}isPageCached(S){return this.pdfViewer.isPageCached(S)}}function X(G,S=null,oe){const W=oe[0];let le;if("object"==typeof W&&null!==W){if(le=this._cachedPageNumber(W),!le)return void this.pdfDocument.getPageIndex(W).then(me=>{this.cachePageRef(me+1,W),ie(this,A,X).call(this,G,S,oe)}).catch(()=>{console.error(`PDFLinkService.#goToDestinationHelper: "${W}" is not a valid page reference, for dest="${G}".`)})}else{if(!Number.isInteger(W))return void console.error(`PDFLinkService.#goToDestinationHelper: "${W}" is not a valid destination reference, for dest="${G}".`);le=W+1}!le||le<1||le>this.pagesCount?console.error(`PDFLinkService.#goToDestinationHelper: "${le}" is not a valid page number, for dest="${G}".`):(this.pdfHistory&&(this.pdfHistory.pushCurrentPosition(),this.pdfHistory.push({namedDest:S,explicitDest:oe,pageNumber:le})),this.pdfViewer.scrollPageIntoView({pageNumber:le,destArray:oe,ignoreDestinationZoom:this._ignoreDestinationZoom}))}function N(G){if(!Array.isArray(G))return!1;const S=G.length;if(S<2)return!1;const oe=G[0];if(!("object"==typeof oe&&Number.isInteger(oe.num)&&Number.isInteger(oe.gen)||Number.isInteger(oe)&&oe>=0))return!1;const W=G[1];if("object"!=typeof W||"string"!=typeof W.name)return!1;let le=!0;switch(W.name){case"XYZ":if(5!==S)return!1;break;case"Fit":case"FitB":return 2===S;case"FitH":case"FitBH":case"FitV":case"FitBV":if(3!==S)return!1;break;case"FitR":if(6!==S)return!1;le=!1;break;default:return!1}for(let me=2;me<S;me++){const ye=G[me];if(!("number"==typeof ye||le&&null===ye))return!1}return!0}$.PDFLinkService=F,$.SimpleLinkService=class J{constructor(){this.externalLinkEnabled=!0}get pagesCount(){return 0}get page(){return 0}set page(S){}get rotation(){return 0}set rotation(S){}goToDestination(S){return B(function*(){})()}goToPage(S){}addLinkAttributes(S,oe,W=!1){K(S,{url:oe,enabled:this.externalLinkEnabled})}getDestinationHash(S){return"#"}getAnchorUrl(S){return"#"}setHash(S){}executeNamedAction(S){}cachePageRef(S,oe){}isPageVisible(S){return!0}isPageCached(S){return!0}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.animationStarted=$.VERTICAL_PADDING=$.UNKNOWN_SCALE=$.TextLayerMode=$.SpreadMode=$.SidebarView=$.ScrollMode=$.SCROLLBAR_PADDING=$.RenderingStates=$.RendererType=$.ProgressBar=$.PresentationModeState=$.OutputScale=$.MIN_SCALE=$.MAX_SCALE=$.MAX_AUTO_SCALE=$.DEFAULT_SCALE_VALUE=$.DEFAULT_SCALE_DELTA=$.DEFAULT_SCALE=$.AutoPrintRegExp=void 0,$.apiPageLayoutToViewerModes=function Ot(nt){let dt=W.VERTICAL,Pt=le.NONE;switch(nt){case"SinglePage":dt=W.PAGE;break;case"OneColumn":break;case"TwoPageLeft":dt=W.PAGE;case"TwoColumnLeft":Pt=le.ODD;break;case"TwoPageRight":dt=W.PAGE;case"TwoColumnRight":Pt=le.EVEN}return{scrollMode:dt,spreadMode:Pt}},$.apiPageModeToSidebarView=function At(nt){switch(nt){case"UseNone":return G.NONE;case"UseThumbs":return G.THUMBS;case"UseOutlines":return G.OUTLINE;case"UseAttachments":return G.ATTACHMENTS;case"UseOC":return G.LAYERS}return G.NONE},$.approximateFraction=function P(nt){if(Math.floor(nt)===nt)return[nt,1];const dt=1/nt;if(dt>8)return[1,8];if(Math.floor(dt)===dt)return[1,dt];const Ze=nt>1?dt:nt;let Ne,ge=0,xe=1,ft=1,wt=1;for(;;){const we=ge+ft,Fe=xe+wt;if(Fe>8)break;Ze<=we/Fe?(ft=we,wt=Fe):(ge=we,xe=Fe)}return Ne=Ze-ge/xe<ft/wt-Ze?Ze===nt?[ge,xe]:[xe,ge]:Ze===nt?[ft,wt]:[wt,ft],Ne},$.backtrackBeforeAllVisibleElements=ne,$.binarySearchFirstItem=b,$.getActiveOrFocusedElement=function Rt(){let nt=document,dt=nt.activeElement||nt.querySelector(":focus");for(;dt?.shadowRoot;)nt=dt.shadowRoot,dt=nt.activeElement||nt.querySelector(":focus");return dt},$.getPageSizeInches=function Q({view:nt,userUnit:dt,rotate:Pt}){const[Ze,ge,xe,ft]=nt,wt=Pt%180!=0,Ne=(xe-Ze)/72*dt,we=(ft-ge)/72*dt;return{width:wt?we:Ne,height:wt?Ne:we}},$.getVisibleElements=function U({scrollEl:nt,views:dt,sortByVisibility:Pt=!1,horizontal:Ze=!1,rtl:ge=!1}){const xe=nt.scrollTop,ft=xe+nt.clientHeight,wt=nt.scrollLeft,Ne=wt+nt.clientWidth,rt=[],vt=new Set,Yt=dt.length;let Ke=b(dt,Ze?function Fe(Ae){const ke=Ae.div,We=ke.offsetLeft+ke.clientLeft;return ge?We<Ne:We+ke.clientWidth>wt}:function we(Ae){const ke=Ae.div;return ke.offsetTop+ke.clientTop+ke.clientHeight>xe});Ke>0&&Ke<Yt&&!Ze&&(Ke=ne(Ke,dt,xe));let Ee=Ze?Ne:-1;for(let Ae=Ke;Ae<Yt;Ae++){const ke=dt[Ae],We=ke.div,at=We.offsetLeft+We.clientLeft,Dt=We.offsetTop+We.clientTop,Jt=We.clientWidth,nn=We.clientHeight,On=at+Jt,tn=Dt+nn;if(-1===Ee)tn>=ft&&(Ee=tn);else if((Ze?at:Dt)>Ee)break;if(tn<=xe||Dt>=ft||On<=wt||at>=Ne)continue;const rn=Math.max(0,xe-Dt)+Math.max(0,tn-ft),Rn=(Jt-(Math.max(0,wt-at)+Math.max(0,On-Ne)))/Jt;rt.push({id:ke.id,x:at,y:Dt,view:ke,percent:(nn-rn)/nn*Rn*100|0,widthPercent:100*Rn|0}),vt.add(ke.id)}const Te=rt[0],De=rt[rt.length-1];return Pt&&rt.sort(function(Ae,ke){const We=Ae.percent-ke.percent;return Math.abs(We)>.001?-We:Ae.id-ke.id}),{first:Te,last:De,views:rt,ids:vt}},$.isPortraitOrientation=function Qe(nt){return nt.width<=nt.height},$.isValidRotation=function Ue(nt){return Number.isInteger(nt)&&nt%90==0},$.isValidScrollMode=function Be(nt){return Number.isInteger(nt)&&Object.values(W).includes(nt)&&nt!==W.UNKNOWN},$.isValidSpreadMode=function Ye(nt){return Number.isInteger(nt)&&Object.values(le).includes(nt)&&nt!==le.UNKNOWN},$.noContextMenuHandler=function be(nt){nt.preventDefault()},$.normalizeWheelEventDelta=function Pe(nt){let dt=je(nt);return 0===nt.deltaMode?dt/=900:1===nt.deltaMode&&(dt/=30),dt},$.normalizeWheelEventDirection=je,$.parseQueryString=function Xe(nt){const dt=new Map;for(const[Pt,Ze]of new URLSearchParams(nt))dt.set(Pt.toLowerCase(),Ze);return dt},$.removeNullCharacters=function I(nt,dt=!1){return"string"!=typeof nt?(console.error("The argument must be a string."),nt):(dt&&(nt=nt.replace(ve," ")),nt.replace(it,""))},$.roundToDivide=function L(nt,dt){const Pt=nt%dt;return 0===Pt?nt:Math.round(nt-Pt+dt)},$.scrollIntoView=function Re(nt,dt,Pt=!1){let Ze=nt.offsetParent;if(!Ze)return void console.error("offsetParent is not set -- cannot scroll");let ge=nt.offsetTop+nt.clientTop,xe=nt.offsetLeft+nt.clientLeft;for(;Ze.clientHeight===Ze.scrollHeight&&Ze.clientWidth===Ze.scrollWidth||Pt&&(Ze.classList.contains("markedContent")||"hidden"===getComputedStyle(Ze).overflow);)if(ge+=Ze.offsetTop,xe+=Ze.offsetLeft,Ze=Ze.offsetParent,!Ze)return;dt&&(void 0!==dt.top&&(ge+=dt.top),void 0!==dt.left&&(xe+=dt.left,Ze.scrollLeft=xe)),Ze.scrollTop=ge},$.watchScroll=function Ve(nt,dt){const Pt=function(xe){ge||(ge=window.requestAnimationFrame(function(){ge=null;const wt=nt.scrollLeft,Ne=Ze.lastX;wt!==Ne&&(Ze.right=wt>Ne),Ze.lastX=wt;const we=nt.scrollTop,Fe=Ze.lastY;we!==Fe&&(Ze.down=we>Fe),Ze.lastY=we,dt(Ze)}))},Ze={right:!0,down:!0,lastX:nt.scrollLeft,lastY:nt.scrollTop,_eventHandler:Pt};let ge=null;return nt.addEventListener("scroll",Pt,!0),Ze},$.DEFAULT_SCALE_VALUE="auto",$.DEFAULT_SCALE=1,$.DEFAULT_SCALE_DELTA=1.1,$.MIN_SCALE=.1,$.MAX_SCALE=10,$.UNKNOWN_SCALE=0,$.MAX_AUTO_SCALE=1.25,$.SCROLLBAR_PADDING=40,$.VERTICAL_PADDING=5,$.RenderingStates={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3},$.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};const G={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};$.SidebarView=G,$.RendererType={CANVAS:"canvas",SVG:"svg"},$.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};const W={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2,PAGE:3};$.ScrollMode=W;const le={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};$.SpreadMode=le,$.AutoPrintRegExp=/\bprint\s*\(/,$.OutputScale=class ye{constructor(){const dt=window.devicePixelRatio||1;this.sx=dt,this.sy=dt}get scaled(){return 1!==this.sx||1!==this.sy}};const it=/\x00/g,ve=/[\x01-\x1F]/g;function b(nt,dt,Pt=0){let Ze=Pt,ge=nt.length-1;if(ge<0||!dt(nt[ge]))return nt.length;if(dt(nt[Ze]))return Ze;for(;Ze<ge;){const xe=Ze+ge>>1;dt(nt[xe])?ge=xe:Ze=xe+1}return Ze}function ne(nt,dt,Pt){if(nt<2)return nt;let Ze=dt[nt].div,ge=Ze.offsetTop+Ze.clientTop;ge>=Pt&&(Ze=dt[nt-1].div,ge=Ze.offsetTop+Ze.clientTop);for(let xe=nt-2;xe>=0&&(Ze=dt[xe].div,!(Ze.offsetTop+Ze.clientTop+Ze.clientHeight<=ge));--xe)nt=xe;return nt}function je(nt){let dt=Math.hypot(nt.deltaX,nt.deltaY);const Pt=Math.atan2(nt.deltaY,nt.deltaX);return-.25*Math.PI<Pt&&Pt<.75*Math.PI&&(dt=-dt),dt}const gt=new Promise(function(nt){window.requestAnimationFrame(nt)});$.animationStarted=gt;var lt=new WeakSet;function ct(){this._indeterminate?this.div.classList.add("indeterminate"):(this.div.classList.remove("indeterminate"),document.documentElement.style.setProperty("--progressBar-percent",`${this._percent}%`))}$.ProgressBar=class yt{constructor(dt){if(te(this,lt),arguments.length>1)throw new Error("ProgressBar no longer accepts any additional options, please use CSS rules to modify its appearance instead.");this.visible=!0,this.div=document.querySelector(dt+" .progress"),this.bar=this.div.parentNode,this.percent=0}get percent(){return this._percent}set percent(dt){this._indeterminate=isNaN(dt),this._percent=function Tt(nt,dt,Pt){return Math.min(Math.max(nt,dt),Pt)}(dt,0,100),ie(this,lt,ct).call(this)}setWidth(dt){if(!dt)return;const Ze=dt.parentNode.offsetWidth-dt.offsetWidth;Ze>0&&document.documentElement.style.setProperty("--progressBar-end-offset",`${Ze}px`)}hide(){!this.visible||(this.visible=!1,this.bar.classList.add("hidden"))}show(){this.visible||(this.visible=!0,this.bar.classList.remove("hidden"))}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.StructTreeLayerBuilder=void 0;const ae={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},q=/^H(\d+)$/;$.StructTreeLayerBuilder=class fe{constructor({pdfPage:K}){this.pdfPage=K}render(K){return this._walk(K)}_setAttributes(K,E){void 0!==K.alt&&E.setAttribute("aria-label",K.alt),void 0!==K.id&&E.setAttribute("aria-owns",K.id),void 0!==K.lang&&E.setAttribute("lang",K.lang)}_walk(K){if(!K)return null;const E=document.createElement("span");if("role"in K){const{role:A}=K,F=A.match(q);F?(E.setAttribute("role","heading"),E.setAttribute("aria-level",F[1])):ae[A]&&E.setAttribute("role",ae[A])}if(this._setAttributes(K,E),K.children)if(1===K.children.length&&"id"in K.children[0])this._setAttributes(K.children[0],E);else for(const A of K.children)E.appendChild(this._walk(A));return E}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextLayerBuilder=void 0;var q=ae(3);$.TextLayerBuilder=class z{constructor({textLayerDiv:E,eventBus:A,pageIndex:F,viewport:X,highlighter:N=null,enhanceTextSelection:J=!1}){this.textLayerDiv=E,this.eventBus=A,this.textContent=null,this.textContentItemsStr=[],this.textContentStream=null,this.renderingDone=!1,this.pageNumber=F+1,this.viewport=X,this.textDivs=[],this.textLayerRenderTask=null,this.highlighter=N,this.enhanceTextSelection=J,this._bindMouse()}_finishRendering(){if(this.renderingDone=!0,!this.enhanceTextSelection){const E=document.createElement("div");E.className="endOfContent",this.textLayerDiv.appendChild(E)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}render(E=0){if(!this.textContent&&!this.textContentStream||this.renderingDone)return;this.cancel(),this.textDivs.length=0,this.highlighter?.setTextMapping(this.textDivs,this.textContentItemsStr);const A=document.createDocumentFragment();this.textLayerRenderTask=(0,q.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:A,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:E,enhanceTextSelection:this.enhanceTextSelection}),this.textLayerRenderTask.promise.then(()=>{this.textLayerDiv.appendChild(A),this._finishRendering(),this.highlighter?.enable()},function(F){})}cancel(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null),this.highlighter?.disable()}setTextContentStream(E){this.cancel(),this.textContentStream=E}setTextContent(E){this.cancel(),this.textContent=E}_bindMouse(){const E=this.textLayerDiv;let A=null;E.addEventListener("mousedown",F=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return this.textLayerRenderTask.expandTextDivs(!0),void(A&&(clearTimeout(A),A=null));const X=E.querySelector(".endOfContent");if(!X)return;let N=F.target!==E;if(N=N&&"none"!==window.getComputedStyle(X).getPropertyValue("-moz-user-select"),N){const J=E.getBoundingClientRect(),G=Math.max(0,(F.pageY-J.top)/J.height);X.style.top=(100*G).toFixed(2)+"%"}X.classList.add("active")}),E.addEventListener("mouseup",()=>{if(this.enhanceTextSelection&&this.textLayerRenderTask)return void(A=setTimeout(()=>{this.textLayerRenderTask&&this.textLayerRenderTask.expandTextDivs(!1),A=null},300));const F=E.querySelector(".endOfContent");!F||(F.style.top="",F.classList.remove("active"))})}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.XfaLayerBuilder=void 0;var q=ae(3);$.XfaLayerBuilder=class fe{constructor({pageDiv:K,pdfPage:E,annotationStorage:A=null,linkService:F,xfaHtml:X=null}){this.pageDiv=K,this.pdfPage=E,this.annotationStorage=A,this.linkService=F,this.xfaHtml=X,this.div=null,this._cancelled=!1}render(K,E="display"){if("print"===E){const A={viewport:K.clone({dontFlip:!0}),div:this.div,xfaHtml:this.xfaHtml,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:E},F=document.createElement("div");this.pageDiv.appendChild(F),A.div=F;const X=q.XfaLayer.render(A);return Promise.resolve(X)}return this.pdfPage.getXfa().then(A=>{if(this._cancelled||!A)return{textDivs:[]};const F={viewport:K.clone({dontFlip:!0}),div:this.div,xfaHtml:A,annotationStorage:this.annotationStorage,linkService:this.linkService,intent:E};return this.div?q.XfaLayer.update(F):(this.div=document.createElement("div"),this.pageDiv.appendChild(this.div),F.div=this.div,q.XfaLayer.render(F))}).catch(A=>{console.error(A)})}cancel(){this._cancelled=!0}hide(){!this.div||(this.div.hidden=!0)}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFViewer=$.PDFSinglePageViewer=void 0;var q=ae(6),fe=ae(11);$.PDFViewer=class z extends fe.BaseViewer{},$.PDFSinglePageViewer=class K extends fe.BaseViewer{_resetView(){super._resetView(),this._scrollMode=q.ScrollMode.PAGE,this._spreadMode=q.SpreadMode.NONE}set scrollMode(A){}_updateScrollMode(){}set spreadMode(A){}_updateSpreadMode(){}}},(se,$,ae)=>{let q;Object.defineProperty($,"__esModule",{value:!0}),$.PagesCountLimit=$.PDFPageViewBuffer=$.BaseViewer=void 0;var fe=ae(3),z=ae(6),K=ae(2),E=ae(4),A=ae(12),F=ae(14),X=ae(5),N=ae(7),J=ae(15),G=ae(8),S=ae(9);const W="enablePermissions",le={FORCE_SCROLL_MODE_PAGE:15e3,FORCE_LAZY_PAGE_INIT:7500,PAUSE_EAGER_PAGE_INIT:250};$.PagesCountLimit=le;var me=new WeakMap,ye=new WeakMap,Re=new WeakSet;q=Symbol.iterator;class Ve{constructor(ge){te(this,Re),O(this,me,{writable:!0,value:new Set}),O(this,ye,{writable:!0,value:0}),s(this,ye,ge)}push(ge){const xe=re(this,me);xe.has(ge)&&xe.delete(ge),xe.add(ge),xe.size>re(this,ye)&&ie(this,Re,Xe).call(this)}resize(ge,xe=null){s(this,ye,ge);const ft=re(this,me);if(xe){const wt=ft.size;let Ne=1;for(const we of ft)if(xe.has(we.id)&&(ft.delete(we),ft.add(we)),++Ne>wt)break}for(;ft.size>re(this,ye);)ie(this,Re,Xe).call(this)}has(ge){return re(this,me).has(ge)}[q](){return re(this,me).keys()}}function Xe(){const Ze=re(this,me).keys().next().value;Ze?.destroy(),re(this,me).delete(Ze)}$.PDFPageViewBuffer=Ve;var it=new WeakMap,ve=new WeakMap,I=new WeakMap,b=new WeakMap,P=new WeakMap,L=new WeakMap,Q=new WeakMap,ne=new WeakSet,U=new WeakSet,be=new WeakSet,je=new WeakSet,Pe=new WeakSet,Ue=new WeakSet,Be=new WeakSet,Ye=new WeakSet,Qe=new WeakSet;class gt{constructor(ge){if(te(this,Qe),te(this,Ye),te(this,Be),te(this,Ue),te(this,Pe),te(this,je),te(this,be),te(this,U),te(this,ne),O(this,it,{writable:!0,value:null}),O(this,ve,{writable:!0,value:fe.AnnotationMode.ENABLE_FORMS}),O(this,I,{writable:!0,value:null}),O(this,b,{writable:!0,value:!1}),O(this,P,{writable:!0,value:0}),O(this,L,{writable:!0,value:null}),O(this,Q,{writable:!0,value:null}),this.constructor===gt)throw new Error("Cannot initialize BaseViewer.");const xe="2.14.305";if(fe.version!==xe)throw new Error(`The API version "${fe.version}" does not match the Viewer version "${xe}".`);if(this.container=ge.container,this.viewer=ge.viewer||ge.container.firstElementChild,"DIV"!==this.container?.tagName.toUpperCase()||"DIV"!==this.viewer?.tagName.toUpperCase())throw new Error("Invalid `container` and/or `viewer` option.");if(this.container.offsetParent&&"absolute"!==getComputedStyle(this.container).position)throw new Error("The `container` must be absolutely positioned.");this.eventBus=ge.eventBus,this.linkService=ge.linkService||new X.SimpleLinkService,this.downloadManager=ge.downloadManager||null,this.findController=ge.findController||null,this._scriptingManager=ge.scriptingManager||null,this.removePageBorders=ge.removePageBorders||!1,this.textLayerMode=ge.textLayerMode??z.TextLayerMode.ENABLE,s(this,ve,ge.annotationMode??fe.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=ge.imageResourcesPath||"",this.enablePrintAutoRotate=ge.enablePrintAutoRotate||!1,this.renderer=ge.renderer||z.RendererType.CANVAS,this.useOnlyCssZoom=ge.useOnlyCssZoom||!1,this.maxCanvasPixels=ge.maxCanvasPixels,this.l10n=ge.l10n||E.NullL10n,s(this,b,ge.enablePermissions||!1),this.pageColors=ge.pageColors||null,ge.pageColors&&(!CSS.supports("color",ge.pageColors.background)||!CSS.supports("color",ge.pageColors.foreground))&&((ge.pageColors.background||ge.pageColors.foreground)&&console.warn("Ignoring `pageColors`-option, since the browser doesn't support the values used."),this.pageColors=null),this.defaultRenderingQueue=!ge.renderingQueue,this.defaultRenderingQueue?(this.renderingQueue=new F.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=ge.renderingQueue,this._doc=document.documentElement,this.scroll=(0,z.watchScroll)(this.container,this._scrollUpdate.bind(this)),this.presentationModeState=z.PresentationModeState.UNKNOWN,this._onBeforeDraw=this._onAfterDraw=null,this._resetView(),this.removePageBorders&&this.viewer.classList.add("removePageBorders"),this.updateContainerHeightCss(),Promise.resolve().then(()=>{this.eventBus.dispatch("baseviewerinit",{source:this})})}get pagesCount(){return this._pages.length}getPageView(ge){return this._pages[ge]}get pageViewsReady(){return!!this._pagesCapability.settled&&this._pages.every(function(ge){return ge?.pdfPage})}get renderForms(){return re(this,ve)===fe.AnnotationMode.ENABLE_FORMS}get enableScripting(){return!!this._scriptingManager}get currentPageNumber(){return this._currentPageNumber}set currentPageNumber(ge){if(!Number.isInteger(ge))throw new Error("Invalid page number.");!this.pdfDocument||this._setCurrentPageNumber(ge,!0)||console.error(`currentPageNumber: "${ge}" is not a valid page.`)}_setCurrentPageNumber(ge,xe=!1){if(this._currentPageNumber===ge)return xe&&ie(this,Ue,Ot).call(this),!0;if(!(0<ge&&ge<=this.pagesCount))return!1;const ft=this._currentPageNumber;return this._currentPageNumber=ge,this.eventBus.dispatch("pagechanging",{source:this,pageNumber:ge,pageLabel:this._pageLabels?.[ge-1]??null,previous:ft}),xe&&ie(this,Ue,Ot).call(this),!0}get currentPageLabel(){return this._pageLabels?.[this._currentPageNumber-1]??null}set currentPageLabel(ge){if(!this.pdfDocument)return;let xe=0|ge;if(this._pageLabels){const ft=this._pageLabels.indexOf(ge);ft>=0&&(xe=ft+1)}this._setCurrentPageNumber(xe,!0)||console.error(`currentPageLabel: "${ge}" is not a valid page.`)}get currentScale(){return this._currentScale!==z.UNKNOWN_SCALE?this._currentScale:z.DEFAULT_SCALE}set currentScale(ge){if(isNaN(ge))throw new Error("Invalid numeric scale.");!this.pdfDocument||this._setScale(ge,!1)}get currentScaleValue(){return this._currentScaleValue}set currentScaleValue(ge){!this.pdfDocument||this._setScale(ge,!1)}get pagesRotation(){return this._pagesRotation}set pagesRotation(ge){if(!(0,z.isValidRotation)(ge))throw new Error("Invalid pages rotation angle.");if(!this.pdfDocument||((ge%=360)<0&&(ge+=360),this._pagesRotation===ge))return;this._pagesRotation=ge;const xe=this._currentPageNumber,ft={rotation:ge};for(const wt of this._pages)wt.update(ft);this._currentScaleValue&&this._setScale(this._currentScaleValue,!0),this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:ge,pageNumber:xe}),this.defaultRenderingQueue&&this.update()}get firstPagePromise(){return this.pdfDocument?this._firstPageCapability.promise:null}get onePageRendered(){return this.pdfDocument?this._onePageRenderedCapability.promise:null}get pagesPromise(){return this.pdfDocument?this._pagesCapability.promise:null}setDocument(ge){var xe=this;if(this.pdfDocument&&(this.eventBus.dispatch("pagesdestroy",{source:this}),this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null),this._scriptingManager&&this._scriptingManager.setDocument(null)),this.pdfDocument=ge,!ge)return;const ft=ge.isPureXfa,wt=ge.numPages,Ne=ge.getPage(1),we=ge.getOptionalContentConfig(),Fe=re(this,b)?ge.getPermissions():Promise.resolve();if(wt>le.FORCE_SCROLL_MODE_PAGE){console.warn("Forcing PAGE-scrolling for performance reasons, given the length of the document.");const rt=this._scrollMode=z.ScrollMode.PAGE;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:rt})}this._pagesCapability.promise.then(()=>{this.eventBus.dispatch("pagesloaded",{source:this,pagesCount:wt})},()=>{}),this._onBeforeDraw=rt=>{const vt=this._pages[rt.pageNumber-1];!vt||re(this,it).push(vt)},this.eventBus._on("pagerender",this._onBeforeDraw),this._onAfterDraw=rt=>{rt.cssTransform||this._onePageRenderedCapability.settled||(this._onePageRenderedCapability.resolve({timestamp:rt.timestamp}),this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null,re(this,Q)&&(document.removeEventListener("visibilitychange",re(this,Q)),s(this,Q,null)))},this.eventBus._on("pagerendered",this._onAfterDraw),Promise.all([Ne,Fe]).then(([rt,vt])=>{if(ge!==this.pdfDocument)return;this._firstPageCapability.resolve(rt),this._optionalContentConfigPromise=we,ie(this,ne,Tt).call(this,vt);const Yt=this._scrollMode===z.ScrollMode.PAGE?null:this.viewer,Ke=this.currentScale,Ee=rt.getViewport({scale:Ke*fe.PixelsPerInch.PDF_TO_CSS_UNITS}),Te=this.textLayerMode===z.TextLayerMode.DISABLE||ft?null:this,De=re(this,ve)!==fe.AnnotationMode.DISABLE?this:null,Ae=ft?this:null;for(let We=1;We<=wt;++We){const at=new A.PDFPageView({container:Yt,eventBus:this.eventBus,id:We,scale:Ke,defaultViewport:Ee.clone(),optionalContentConfigPromise:we,renderingQueue:this.renderingQueue,textLayerFactory:Te,textLayerMode:this.textLayerMode,annotationLayerFactory:De,annotationMode:re(this,ve),xfaLayerFactory:Ae,textHighlighterFactory:this,structTreeLayerFactory:this,imageResourcesPath:this.imageResourcesPath,renderer:this.renderer,useOnlyCssZoom:this.useOnlyCssZoom,maxCanvasPixels:this.maxCanvasPixels,pageColors:this.pageColors,l10n:this.l10n});this._pages.push(at)}const ke=this._pages[0];ke&&(ke.setPdfPage(rt),this.linkService.cachePageRef(1,rt.ref)),this._scrollMode===z.ScrollMode.PAGE?ie(this,be,yt).call(this):this._spreadMode!==z.SpreadMode.NONE&&this._updateSpreadMode(),ie(this,U,lt).call(this).then(B(function*(){if(xe.findController&&xe.findController.setDocument(ge),xe._scriptingManager&&xe._scriptingManager.setDocument(ge),ge.loadingParams.disableAutoFetch||wt>le.FORCE_LAZY_PAGE_INIT)return void xe._pagesCapability.resolve();let We=wt-1;if(We<=0)xe._pagesCapability.resolve();else for(let at=2;at<=wt;++at){const Dt=ge.getPage(at).then(Jt=>{const nn=xe._pages[at-1];nn.pdfPage||nn.setPdfPage(Jt),xe.linkService.cachePageRef(at,Jt.ref),0==--We&&xe._pagesCapability.resolve()},Jt=>{console.error(`Unable to get page ${at} to initialize viewer`,Jt),0==--We&&xe._pagesCapability.resolve()});at%le.PAUSE_EAGER_PAGE_INIT==0&&(yield Dt)}})),this.eventBus.dispatch("pagesinit",{source:this}),ge.getMetadata().then(({info:We})=>{ge===this.pdfDocument&&We.Language&&(this.viewer.lang=We.Language)}),this.defaultRenderingQueue&&this.update()}).catch(rt=>{console.error("Unable to initialize viewer",rt),this._pagesCapability.reject(rt)})}setPageLabels(ge){if(this.pdfDocument){ge?Array.isArray(ge)&&this.pdfDocument.numPages===ge.length?this._pageLabels=ge:(this._pageLabels=null,console.error("setPageLabels: Invalid page labels.")):this._pageLabels=null;for(let xe=0,ft=this._pages.length;xe<ft;xe++)this._pages[xe].setPageLabel(this._pageLabels?.[xe]??null)}}_resetView(){this._pages=[],this._currentPageNumber=1,this._currentScale=z.UNKNOWN_SCALE,this._currentScaleValue=null,this._pageLabels=null,s(this,it,new Ve(10)),this._location=null,this._pagesRotation=0,this._optionalContentConfigPromise=null,this._firstPageCapability=(0,fe.createPromiseCapability)(),this._onePageRenderedCapability=(0,fe.createPromiseCapability)(),this._pagesCapability=(0,fe.createPromiseCapability)(),this._scrollMode=z.ScrollMode.VERTICAL,this._previousScrollMode=z.ScrollMode.UNKNOWN,this._spreadMode=z.SpreadMode.NONE,s(this,L,{previousPageNumber:1,scrollDown:!0,pages:[]}),this._onBeforeDraw&&(this.eventBus._off("pagerender",this._onBeforeDraw),this._onBeforeDraw=null),this._onAfterDraw&&(this.eventBus._off("pagerendered",this._onAfterDraw),this._onAfterDraw=null),re(this,Q)&&(document.removeEventListener("visibilitychange",re(this,Q)),s(this,Q,null)),this.viewer.textContent="",this._updateScrollMode(),this.viewer.removeAttribute("lang"),this.viewer.classList.remove(W),null!==re(this,I)&&(s(this,ve,re(this,I)),s(this,I,null))}_scrollUpdate(){0!==this.pagesCount&&this.update()}_setScaleUpdatePages(ge,xe,ft=!1,wt=!1){if(this._currentScaleValue=xe.toString(),ie(this,Pe,Rt).call(this,ge))return void(wt&&this.eventBus.dispatch("scalechanging",{source:this,scale:ge,presetValue:xe}));this._doc.style.setProperty("--zoom-factor",ge);const Ne={scale:ge};for(const we of this._pages)we.update(Ne);if(this._currentScale=ge,!ft){let Fe,we=this._currentPageNumber;this._location&&!(this.isInPresentationMode||this.isChangingPresentationMode)&&(we=this._location.pageNumber,Fe=[null,{name:"XYZ"},this._location.left,this._location.top,null]),this.scrollPageIntoView({pageNumber:we,destArray:Fe,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:ge,presetValue:wt?xe:void 0}),this.defaultRenderingQueue&&this.update(),this.updateContainerHeightCss()}get _pageWidthScaleFactor(){return this._spreadMode!==z.SpreadMode.NONE&&this._scrollMode!==z.ScrollMode.HORIZONTAL?2:1}_setScale(ge,xe=!1){let ft=parseFloat(ge);if(ft>0)this._setScaleUpdatePages(ft,ge,xe,!1);else{const wt=this._pages[this._currentPageNumber-1];if(!wt)return;let Ne=z.SCROLLBAR_PADDING,we=z.VERTICAL_PADDING;this.isInPresentationMode?Ne=we=4:this.removePageBorders?Ne=we=0:this._scrollMode===z.ScrollMode.HORIZONTAL&&([Ne,we]=[we,Ne]);const Fe=(this.container.clientWidth-Ne)/wt.width*wt.scale/this._pageWidthScaleFactor,rt=(this.container.clientHeight-we)/wt.height*wt.scale;switch(ge){case"page-actual":ft=1;break;case"page-width":ft=Fe;break;case"page-height":ft=rt;break;case"page-fit":ft=Math.min(Fe,rt);break;case"auto":const vt=(0,z.isPortraitOrientation)(wt)?Fe:Math.min(rt,Fe);ft=Math.min(z.MAX_AUTO_SCALE,vt);break;default:return void console.error(`_setScale: "${ge}" is an unknown zoom value.`)}this._setScaleUpdatePages(ft,ge,xe,!0)}}pageLabelToPageNumber(ge){if(!this._pageLabels)return null;const xe=this._pageLabels.indexOf(ge);return xe<0?null:xe+1}scrollPageIntoView({pageNumber:ge,destArray:xe=null,allowNegativeOffset:ft=!1,ignoreDestinationZoom:wt=!1}){if(!this.pdfDocument)return;const Ne=Number.isInteger(ge)&&this._pages[ge-1];if(!Ne)return void console.error(`scrollPageIntoView: "${ge}" is not a valid pageNumber parameter.`);if(this.isInPresentationMode||!xe)return void this._setCurrentPageNumber(ge,!0);let Yt,Ke,we=0,Fe=0,rt=0,vt=0;const Ee=Ne.rotation%180!=0,Te=(Ee?Ne.height:Ne.width)/Ne.scale/fe.PixelsPerInch.PDF_TO_CSS_UNITS,De=(Ee?Ne.width:Ne.height)/Ne.scale/fe.PixelsPerInch.PDF_TO_CSS_UNITS;let Ae=0;switch(xe[1].name){case"XYZ":we=xe[2],Fe=xe[3],Ae=xe[4],we=null!==we?we:0,Fe=null!==Fe?Fe:De;break;case"Fit":case"FitB":Ae="page-fit";break;case"FitH":case"FitBH":Fe=xe[2],Ae="page-width",null===Fe&&this._location?(we=this._location.left,Fe=this._location.top):("number"!=typeof Fe||Fe<0)&&(Fe=De);break;case"FitV":case"FitBV":we=xe[2],rt=Te,vt=De,Ae="page-height";break;case"FitR":we=xe[2],Fe=xe[3],rt=xe[4]-we,vt=xe[5]-Fe,Yt=(this.container.clientWidth-(this.removePageBorders?0:z.SCROLLBAR_PADDING))/rt/fe.PixelsPerInch.PDF_TO_CSS_UNITS,Ke=(this.container.clientHeight-(this.removePageBorders?0:z.VERTICAL_PADDING))/vt/fe.PixelsPerInch.PDF_TO_CSS_UNITS,Ae=Math.min(Math.abs(Yt),Math.abs(Ke));break;default:return void console.error(`scrollPageIntoView: "${xe[1].name}" is not a valid destination type.`)}if(wt||(Ae&&Ae!==this._currentScale?this.currentScaleValue=Ae:this._currentScale===z.UNKNOWN_SCALE&&(this.currentScaleValue=z.DEFAULT_SCALE_VALUE)),"page-fit"===Ae&&!xe[4])return void ie(this,je,ct).call(this,Ne);const ke=[Ne.viewport.convertToViewportPoint(we,Fe),Ne.viewport.convertToViewportPoint(we+rt,Fe+vt)];let We=Math.min(ke[0][0],ke[1][0]),at=Math.min(ke[0][1],ke[1][1]);ft||(We=Math.max(We,0),at=Math.max(at,0)),ie(this,je,ct).call(this,Ne,{left:We,top:at})}_updateLocation(ge){const xe=this._currentScale,ft=this._currentScaleValue,wt=parseFloat(ft)===xe?Math.round(1e4*xe)/100:ft,Ne=ge.id,Fe=this.container,rt=this._pages[Ne-1].getPagePoint(Fe.scrollLeft-ge.x,Fe.scrollTop-ge.y),vt=Math.round(rt[0]),Yt=Math.round(rt[1]);let Ke=`#page=${Ne}`;this.isInPresentationMode||(Ke+=`&zoom=${wt},${vt},${Yt}`),this._location={pageNumber:Ne,scale:wt,top:Yt,left:vt,rotation:this._pagesRotation,pdfOpenParams:Ke}}update(){const ge=this._getVisiblePages(),xe=ge.views,ft=xe.length;if(0===ft)return;const wt=Math.max(10,2*ft+1);re(this,it).resize(wt,ge.ids),this.renderingQueue.renderHighestPriority(ge);const Ne=this._spreadMode===z.SpreadMode.NONE&&(this._scrollMode===z.ScrollMode.PAGE||this._scrollMode===z.ScrollMode.VERTICAL),we=this._currentPageNumber;let Fe=!1;for(const rt of xe){if(rt.percent<100)break;if(rt.id===we&&Ne){Fe=!0;break}}this._setCurrentPageNumber(Fe?we:xe[0].id),this._updateLocation(ge.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location})}containsElement(ge){return this.container.contains(ge)}focus(){this.container.focus()}get _isContainerRtl(){return"rtl"===getComputedStyle(this.container).direction}get isInPresentationMode(){return this.presentationModeState===z.PresentationModeState.FULLSCREEN}get isChangingPresentationMode(){return this.presentationModeState===z.PresentationModeState.CHANGING}get isHorizontalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollWidth>this.container.clientWidth}get isVerticalScrollbarEnabled(){return!this.isInPresentationMode&&this.container.scrollHeight>this.container.clientHeight}_getVisiblePages(){const ge=this._scrollMode===z.ScrollMode.PAGE?re(this,L).pages:this._pages,xe=this._scrollMode===z.ScrollMode.HORIZONTAL;return(0,z.getVisibleElements)({scrollEl:this.container,views:ge,sortByVisibility:!0,horizontal:xe,rtl:xe&&this._isContainerRtl})}isPageVisible(ge){return!!this.pdfDocument&&(Number.isInteger(ge)&&ge>0&&ge<=this.pagesCount?this._getVisiblePages().ids.has(ge):(console.error(`isPageVisible: "${ge}" is not a valid page.`),!1))}isPageCached(ge){if(!this.pdfDocument)return!1;if(!(Number.isInteger(ge)&&ge>0&&ge<=this.pagesCount))return console.error(`isPageCached: "${ge}" is not a valid page.`),!1;const xe=this._pages[ge-1];return re(this,it).has(xe)}cleanup(){for(const ge of this._pages)ge.renderingState!==z.RenderingStates.FINISHED&&ge.reset()}_cancelRendering(){for(const ge of this._pages)ge.cancelRendering()}forceRendering(ge){const xe=ge||this._getVisiblePages(),ft=ie(this,Ye,dt).call(this,xe),Ne=this.renderingQueue.getHighestPriority(xe,this._pages,ft,this._spreadMode!==z.SpreadMode.NONE&&this._scrollMode!==z.ScrollMode.HORIZONTAL);return ie(this,Qe,Pt).call(this,xe.ids),!!Ne&&(ie(this,Be,At).call(this,Ne).then(()=>{this.renderingQueue.renderView(Ne)}),!0)}createTextLayerBuilder(ge,xe,ft,wt=!1,Ne,we){return new G.TextLayerBuilder({textLayerDiv:ge,eventBus:Ne,pageIndex:xe,viewport:ft,enhanceTextSelection:!this.isInPresentationMode&&wt,highlighter:we})}createTextHighlighter(ge,xe){return new J.TextHighlighter({eventBus:xe,pageIndex:ge,findController:this.isInPresentationMode?null:this.findController})}createAnnotationLayerBuilder(ge,xe,ft=null,wt="",Ne=!0,we=E.NullL10n,Fe=null,rt=null,vt=null,Yt=null,Ke=null){return new K.AnnotationLayerBuilder({pageDiv:ge,pdfPage:xe,annotationStorage:ft||this.pdfDocument?.annotationStorage,imageResourcesPath:wt,renderForms:Ne,linkService:this.linkService,downloadManager:this.downloadManager,l10n:we,enableScripting:Fe??this.enableScripting,hasJSActionsPromise:rt||this.pdfDocument?.hasJSActions(),fieldObjectsPromise:Yt||this.pdfDocument?.getFieldObjects(),mouseState:vt||this._scriptingManager?.mouseState,annotationCanvasMap:Ke})}createXfaLayerBuilder(ge,xe,ft=null){return new S.XfaLayerBuilder({pageDiv:ge,pdfPage:xe,annotationStorage:ft||this.pdfDocument?.annotationStorage,linkService:this.linkService})}createStructTreeLayerBuilder(ge){return new N.StructTreeLayerBuilder({pdfPage:ge})}get hasEqualPageSizes(){const ge=this._pages[0];for(let xe=1,ft=this._pages.length;xe<ft;++xe){const wt=this._pages[xe];if(wt.width!==ge.width||wt.height!==ge.height)return!1}return!0}getPagesOverview(){return this._pages.map(ge=>{const xe=ge.pdfPage.getViewport({scale:1});return!this.enablePrintAutoRotate||(0,z.isPortraitOrientation)(xe)?{width:xe.width,height:xe.height,rotation:xe.rotation}:{width:xe.height,height:xe.width,rotation:(xe.rotation-90)%360}})}get optionalContentConfigPromise(){return this.pdfDocument?this._optionalContentConfigPromise?this._optionalContentConfigPromise:this.pdfDocument.getOptionalContentConfig():Promise.resolve(null)}set optionalContentConfigPromise(ge){if(!(ge instanceof Promise))throw new Error(`Invalid optionalContentConfigPromise: ${ge}`);if(!this.pdfDocument||!this._optionalContentConfigPromise)return;this._optionalContentConfigPromise=ge;const xe={optionalContentConfigPromise:ge};for(const ft of this._pages)ft.update(xe);this.update(),this.eventBus.dispatch("optionalcontentconfigchanged",{source:this,promise:ge})}get scrollMode(){return this._scrollMode}set scrollMode(ge){if(this._scrollMode!==ge){if(!(0,z.isValidScrollMode)(ge))throw new Error(`Invalid scroll mode: ${ge}`);this.pagesCount>le.FORCE_SCROLL_MODE_PAGE||(this._previousScrollMode=this._scrollMode,this._scrollMode=ge,this.eventBus.dispatch("scrollmodechanged",{source:this,mode:ge}),this._updateScrollMode(this._currentPageNumber))}}_updateScrollMode(ge=null){const xe=this._scrollMode,ft=this.viewer;ft.classList.toggle("scrollHorizontal",xe===z.ScrollMode.HORIZONTAL),ft.classList.toggle("scrollWrapped",xe===z.ScrollMode.WRAPPED),this.pdfDocument&&ge&&(xe===z.ScrollMode.PAGE?ie(this,be,yt).call(this):this._previousScrollMode===z.ScrollMode.PAGE&&this._updateSpreadMode(),this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(ge,!0),this.update())}get spreadMode(){return this._spreadMode}set spreadMode(ge){if(this._spreadMode!==ge){if(!(0,z.isValidSpreadMode)(ge))throw new Error(`Invalid spread mode: ${ge}`);this._spreadMode=ge,this.eventBus.dispatch("spreadmodechanged",{source:this,mode:ge}),this._updateSpreadMode(this._currentPageNumber)}}_updateSpreadMode(ge=null){if(!this.pdfDocument)return;const xe=this.viewer,ft=this._pages;if(this._scrollMode===z.ScrollMode.PAGE)ie(this,be,yt).call(this);else if(xe.textContent="",this._spreadMode===z.SpreadMode.NONE)for(const wt of this._pages)xe.appendChild(wt.div);else{const wt=this._spreadMode-1;let Ne=null;for(let we=0,Fe=ft.length;we<Fe;++we)null===Ne?(Ne=document.createElement("div"),Ne.className="spread",xe.appendChild(Ne)):we%2===wt&&(Ne=Ne.cloneNode(!1),xe.appendChild(Ne)),Ne.appendChild(ft[we].div)}!ge||(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(ge,!0),this.update())}_getPageAdvance(ge,xe=!1){switch(this._scrollMode){case z.ScrollMode.WRAPPED:{const{views:ft}=this._getVisiblePages(),wt=new Map;for(const{id:Ne,y:we,percent:Fe,widthPercent:rt}of ft){if(0===Fe||rt<100)continue;let vt=wt.get(we);vt||wt.set(we,vt||(vt=[])),vt.push(Ne)}for(const Ne of wt.values()){const we=Ne.indexOf(ge);if(-1===we)continue;const Fe=Ne.length;if(1===Fe)break;if(xe)for(let rt=we-1,vt=0;rt>=vt;rt--){const Ke=Ne[rt+1]-1;if(Ne[rt]<Ke)return ge-Ke}else for(let rt=we+1,vt=Fe;rt<vt;rt++){const Ke=Ne[rt-1]+1;if(Ne[rt]>Ke)return Ke-ge}if(xe){const rt=Ne[0];if(rt<ge)return ge-rt+1}else{const rt=Ne[Fe-1];if(rt>ge)return rt-ge+1}break}break}case z.ScrollMode.HORIZONTAL:break;case z.ScrollMode.PAGE:case z.ScrollMode.VERTICAL:{if(this._spreadMode===z.SpreadMode.NONE)break;const ft=this._spreadMode-1;if(xe&&ge%2!==ft)break;if(!xe&&ge%2===ft)break;const{views:wt}=this._getVisiblePages(),Ne=xe?ge-1:ge+1;for(const{id:we,percent:Fe,widthPercent:rt}of wt)if(we===Ne){if(Fe>0&&100===rt)return 2;break}break}}return 1}nextPage(){const ge=this._currentPageNumber,xe=this.pagesCount;if(ge>=xe)return!1;const ft=this._getPageAdvance(ge,!1)||1;return this.currentPageNumber=Math.min(ge+ft,xe),!0}previousPage(){const ge=this._currentPageNumber;if(ge<=1)return!1;const xe=this._getPageAdvance(ge,!0)||1;return this.currentPageNumber=Math.max(ge-xe,1),!0}increaseScale(ge=1){let xe=this._currentScale;do{xe=(xe*z.DEFAULT_SCALE_DELTA).toFixed(2),xe=Math.ceil(10*xe)/10,xe=Math.min(z.MAX_SCALE,xe)}while(--ge>0&&xe<z.MAX_SCALE);this.currentScaleValue=xe}decreaseScale(ge=1){let xe=this._currentScale;do{xe=(xe/z.DEFAULT_SCALE_DELTA).toFixed(2),xe=Math.floor(10*xe)/10,xe=Math.max(z.MIN_SCALE,xe)}while(--ge>0&&xe>z.MIN_SCALE);this.currentScaleValue=xe}updateContainerHeightCss(){const ge=this.container.clientHeight;ge!==re(this,P)&&(s(this,P,ge),this._doc.style.setProperty("--viewer-container-height",`${ge}px`))}}function Tt(Ze){!Ze||(Ze.includes(fe.PermissionFlag.COPY)||this.viewer.classList.add(W),!Ze.includes(fe.PermissionFlag.MODIFY_ANNOTATIONS)&&!Ze.includes(fe.PermissionFlag.FILL_INTERACTIVE_FORMS)&&re(this,ve)===fe.AnnotationMode.ENABLE_FORMS&&(s(this,I,re(this,ve)),s(this,ve,fe.AnnotationMode.ENABLE)))}function lt(){if("hidden"===document.visibilityState||!this.container.offsetParent||0===this._getVisiblePages().views.length)return Promise.resolve();const Ze=new Promise(ge=>{s(this,Q,()=>{"hidden"===document.visibilityState&&(ge(),document.removeEventListener("visibilitychange",re(this,Q)),s(this,Q,null))}),document.addEventListener("visibilitychange",re(this,Q))});return Promise.race([this._onePageRenderedCapability.promise,Ze])}function yt(){if(this._scrollMode!==z.ScrollMode.PAGE)throw new Error("#ensurePageViewVisible: Invalid scrollMode value.");const Ze=this._currentPageNumber,ge=re(this,L),xe=this.viewer;if(xe.textContent="",ge.pages.length=0,this._spreadMode!==z.SpreadMode.NONE||this.isInPresentationMode){const ft=new Set,wt=this._spreadMode-1;-1===wt?ft.add(Ze-1):Ze%2!==wt?(ft.add(Ze-1),ft.add(Ze)):(ft.add(Ze-2),ft.add(Ze-1));const Ne=document.createElement("div");if(Ne.className="spread",this.isInPresentationMode){const we=document.createElement("div");we.className="dummyPage",Ne.appendChild(we)}for(const we of ft){const Fe=this._pages[we];!Fe||(Ne.appendChild(Fe.div),ge.pages.push(Fe))}xe.appendChild(Ne)}else{const ft=this._pages[Ze-1];xe.appendChild(ft.div),ge.pages.push(ft)}ge.scrollDown=Ze>=ge.previousPageNumber,ge.previousPageNumber=Ze}function ct(Ze,ge=null){const{div:xe,id:ft}=Ze;if(this._scrollMode===z.ScrollMode.PAGE&&(this._setCurrentPageNumber(ft),ie(this,be,yt).call(this),this.update()),!ge&&!this.isInPresentationMode){const wt=xe.offsetLeft+xe.clientLeft,Ne=wt+xe.clientWidth,{scrollLeft:we,clientWidth:Fe}=this.container;(this._scrollMode===z.ScrollMode.HORIZONTAL||wt<we||Ne>we+Fe)&&(ge={left:0,top:0})}(0,z.scrollIntoView)(xe,ge)}function Rt(Ze){return Ze===this._currentScale||Math.abs(Ze-this._currentScale)<1e-15}function Ot(){const Ze=this._pages[this._currentPageNumber-1];this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0),ie(this,je,ct).call(this,Ze)}function At(Ze){return nt.apply(this,arguments)}function nt(){return(nt=B(function*(Ze){if(Ze.pdfPage)return Ze.pdfPage;try{const ge=yield this.pdfDocument.getPage(Ze.id);return Ze.pdfPage||Ze.setPdfPage(ge),this.linkService._cachedPageNumber?.(ge.ref)||this.linkService.cachePageRef(Ze.id,ge.ref),ge}catch(ge){return console.error("Unable to get page for page view",ge),null}})).apply(this,arguments)}function dt(Ze){if(1===Ze.first?.id)return!0;if(Ze.last?.id===this.pagesCount)return!1;switch(this._scrollMode){case z.ScrollMode.PAGE:return re(this,L).scrollDown;case z.ScrollMode.HORIZONTAL:return this.scroll.right}return this.scroll.down}function Pt(Ze){for(const ge of Ze)this._pages[ge-1]?.toggleLoadingIconSpinner(!0);for(const ge of re(this,it))Ze.has(ge.id)||ge.toggleLoadingIconSpinner(!1)}$.BaseViewer=gt},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFPageView=void 0;var q=ae(3),fe=ae(6),z=ae(13),K=ae(4);const E=z.compatibilityParams.maxCanvasPixels||16777216;var A=new WeakMap;$.PDFPageView=class F{constructor(N){O(this,A,{writable:!0,value:q.AnnotationMode.ENABLE_FORMS});const J=N.container,G=N.defaultViewport;this.id=N.id,this.renderingId="page"+this.id,this.pdfPage=null,this.pageLabel=null,this.rotation=0,this.scale=N.scale||fe.DEFAULT_SCALE,this.viewport=G,this.pdfPageRotate=G.rotation,this._optionalContentConfigPromise=N.optionalContentConfigPromise||null,this.hasRestrictedScaling=!1,this.textLayerMode=N.textLayerMode??fe.TextLayerMode.ENABLE,s(this,A,N.annotationMode??q.AnnotationMode.ENABLE_FORMS),this.imageResourcesPath=N.imageResourcesPath||"",this.useOnlyCssZoom=N.useOnlyCssZoom||!1,this.maxCanvasPixels=N.maxCanvasPixels||E,this.pageColors=N.pageColors||null,this.eventBus=N.eventBus,this.renderingQueue=N.renderingQueue,this.textLayerFactory=N.textLayerFactory,this.annotationLayerFactory=N.annotationLayerFactory,this.xfaLayerFactory=N.xfaLayerFactory,this.textHighlighter=N.textHighlighterFactory?.createTextHighlighter(this.id-1,this.eventBus),this.structTreeLayerFactory=N.structTreeLayerFactory,this.renderer=N.renderer||fe.RendererType.CANVAS,this.l10n=N.l10n||K.NullL10n,this.paintTask=null,this.paintedViewportMap=new WeakMap,this.renderingState=fe.RenderingStates.INITIAL,this.resume=null,this._renderError=null,this._isStandalone=!this.renderingQueue?.hasViewer(),this._annotationCanvasMap=null,this.annotationLayer=null,this.textLayer=null,this.zoomLayer=null,this.xfaLayer=null,this.structTreeLayer=null;const S=document.createElement("div");S.className="page",S.style.width=Math.floor(this.viewport.width)+"px",S.style.height=Math.floor(this.viewport.height)+"px",S.setAttribute("data-page-number",this.id),S.setAttribute("role","region"),this.l10n.get("page_landmark",{page:this.id}).then(oe=>{S.setAttribute("aria-label",oe)}),this.div=S,J?.appendChild(S)}setPdfPage(N){this.pdfPage=N,this.pdfPageRotate=N.rotate,this.viewport=N.getViewport({scale:this.scale*q.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this.reset()}destroy(){this.reset(),this.pdfPage&&this.pdfPage.cleanup()}_renderAnnotationLayer(){var N=this;return B(function*(){let J=null;try{yield N.annotationLayer.render(N.viewport,"display")}catch(G){J=G}finally{N.eventBus.dispatch("annotationlayerrendered",{source:N,pageNumber:N.id,error:J})}})()}_renderXfaLayer(){var N=this;return B(function*(){let J=null;try{const G=yield N.xfaLayer.render(N.viewport,"display");N.textHighlighter&&N._buildXfaTextContentItems(G.textDivs)}catch(G){J=G}finally{N.eventBus.dispatch("xfalayerrendered",{source:N,pageNumber:N.id,error:J})}})()}_buildXfaTextContentItems(N){var J=this;return B(function*(){const G=yield J.pdfPage.getTextContent(),S=[];for(const oe of G.items)S.push(oe.str);J.textHighlighter.setTextMapping(N,S),J.textHighlighter.enable()})()}_resetZoomLayer(N=!1){if(!this.zoomLayer)return;const J=this.zoomLayer.firstChild;this.paintedViewportMap.delete(J),J.width=0,J.height=0,N&&this.zoomLayer.remove(),this.zoomLayer=null}reset({keepZoomLayer:N=!1,keepAnnotationLayer:J=!1,keepXfaLayer:G=!1}={}){this.cancelRendering({keepAnnotationLayer:J,keepXfaLayer:G}),this.renderingState=fe.RenderingStates.INITIAL;const S=this.div;S.style.width=Math.floor(this.viewport.width)+"px",S.style.height=Math.floor(this.viewport.height)+"px";const oe=S.childNodes,W=N&&this.zoomLayer||null,le=J&&this.annotationLayer?.div||null,me=G&&this.xfaLayer?.div||null;for(let ye=oe.length-1;ye>=0;ye--){const Re=oe[ye];switch(Re){case W:case le:case me:continue}Re.remove()}S.removeAttribute("data-loaded"),le&&this.annotationLayer.hide(),me&&this.xfaLayer.hide(),W||(this.canvas&&(this.paintedViewportMap.delete(this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer()),this.svg&&(this.paintedViewportMap.delete(this.svg),delete this.svg),this.loadingIconDiv=document.createElement("div"),this.loadingIconDiv.className="loadingIcon notVisible",this._isStandalone&&this.toggleLoadingIconSpinner(!0),this.loadingIconDiv.setAttribute("role","img"),this.l10n.get("loading").then(ye=>{this.loadingIconDiv?.setAttribute("aria-label",ye)}),S.appendChild(this.loadingIconDiv)}update({scale:N=0,rotation:J=null,optionalContentConfigPromise:G=null}){if(this.scale=N||this.scale,"number"==typeof J&&(this.rotation=J),G instanceof Promise&&(this._optionalContentConfigPromise=G),this.viewport=this.viewport.clone({scale:this.scale*q.PixelsPerInch.PDF_TO_CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360}),this._isStandalone){const{style:W}=document.documentElement;W.setProperty("--zoom-factor",this.scale)}if(this.svg)return this.cssTransform({target:this.svg,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});let oe=!1;if(this.canvas&&this.maxCanvasPixels>0){const W=this.outputScale;(Math.floor(this.viewport.width)*W.sx|0)*(Math.floor(this.viewport.height)*W.sy|0)>this.maxCanvasPixels&&(oe=!0)}if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&oe)return this.cssTransform({target:this.canvas,redrawAnnotationLayer:!0,redrawXfaLayer:!0}),void this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0,timestamp:performance.now(),error:this._renderError});!this.zoomLayer&&!this.canvas.hidden&&(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform({target:this.zoomLayer.firstChild}),this.reset({keepZoomLayer:!0,keepAnnotationLayer:!0,keepXfaLayer:!0})}cancelRendering({keepAnnotationLayer:N=!1,keepXfaLayer:J=!1}={}){this.paintTask&&(this.paintTask.cancel(),this.paintTask=null),this.resume=null,this.textLayer&&(this.textLayer.cancel(),this.textLayer=null),this.annotationLayer&&(!N||!this.annotationLayer.div)&&(this.annotationLayer.cancel(),this.annotationLayer=null,this._annotationCanvasMap=null),this.xfaLayer&&(!J||!this.xfaLayer.div)&&(this.xfaLayer.cancel(),this.xfaLayer=null,this.textHighlighter?.disable()),this._onTextLayerRendered&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null)}cssTransform({target:N,redrawAnnotationLayer:J=!1,redrawXfaLayer:G=!1}){const S=this.viewport.width,oe=this.viewport.height,W=this.div;N.style.width=N.parentNode.style.width=W.style.width=Math.floor(S)+"px",N.style.height=N.parentNode.style.height=W.style.height=Math.floor(oe)+"px";const le=this.viewport.rotation-this.paintedViewportMap.get(N).rotation,me=Math.abs(le);let ye=1,Re=1;if((90===me||270===me)&&(ye=oe/S,Re=S/oe),N.style.transform=`rotate(${le}deg) scale(${ye}, ${Re})`,this.textLayer){const Ve=this.textLayer.viewport,it=Math.abs(this.viewport.rotation-Ve.rotation);let ve=S/Ve.width;(90===it||270===it)&&(ve=S/Ve.height);const I=this.textLayer.textLayerDiv;let b,P;switch(it){case 0:b=P=0;break;case 90:b=0,P="-"+I.style.height;break;case 180:b="-"+I.style.width,P="-"+I.style.height;break;case 270:b="-"+I.style.width,P=0;break;default:console.error("Bad rotation value.")}I.style.transform=`rotate(${it}deg) scale(${ve}) translate(${b}, ${P})`,I.style.transformOrigin="0% 0%"}J&&this.annotationLayer&&this._renderAnnotationLayer(),G&&this.xfaLayer&&this._renderXfaLayer()}get width(){return this.viewport.width}get height(){return this.viewport.height}getPagePoint(N,J){return this.viewport.convertToPdfPoint(N,J)}toggleLoadingIconSpinner(N=!1){this.loadingIconDiv?.classList.toggle("notVisible",!N)}draw(){var N=this;this.renderingState!==fe.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());const{div:J,pdfPage:G}=this;if(!G)return this.renderingState=fe.RenderingStates.FINISHED,this.loadingIconDiv&&(this.loadingIconDiv.remove(),delete this.loadingIconDiv),Promise.reject(new Error("pdfPage is not loaded"));this.renderingState=fe.RenderingStates.RUNNING;const S=document.createElement("div");S.style.width=J.style.width,S.style.height=J.style.height,S.classList.add("canvasWrapper"),this.annotationLayer?.div?J.insertBefore(S,this.annotationLayer.div):J.appendChild(S);let oe=null;if(this.textLayerMode!==fe.TextLayerMode.DISABLE&&this.textLayerFactory){const Re=document.createElement("div");Re.className="textLayer",Re.style.width=S.style.width,Re.style.height=S.style.height,this.annotationLayer?.div?J.insertBefore(Re,this.annotationLayer.div):J.appendChild(Re),oe=this.textLayerFactory.createTextLayerBuilder(Re,this.id-1,this.viewport,this.textLayerMode===fe.TextLayerMode.ENABLE_ENHANCE,this.eventBus,this.textHighlighter)}this.textLayer=oe,re(this,A)!==q.AnnotationMode.DISABLE&&this.annotationLayerFactory&&(this._annotationCanvasMap||(this._annotationCanvasMap=new Map),this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(J,G,null,this.imageResourcesPath,re(this,A)===q.AnnotationMode.ENABLE_FORMS,this.l10n,null,null,null,null,this._annotationCanvasMap))),this.xfaLayer?.div&&J.appendChild(this.xfaLayer.div);let W=null;this.renderingQueue&&(W=Re=>{if(!this.renderingQueue.isHighestPriority(this))return this.renderingState=fe.RenderingStates.PAUSED,void(this.resume=()=>{this.renderingState=fe.RenderingStates.RUNNING,Re()});Re()});const le=function(){var Re=B(function*(Ve=null){if(me===N.paintTask&&(N.paintTask=null),Ve instanceof q.RenderingCancelledException)N._renderError=null;else if(N._renderError=Ve,N.renderingState=fe.RenderingStates.FINISHED,N.loadingIconDiv&&(N.loadingIconDiv.remove(),delete N.loadingIconDiv),N._resetZoomLayer(!0),N.eventBus.dispatch("pagerendered",{source:N,pageNumber:N.id,cssTransform:!1,timestamp:performance.now(),error:N._renderError}),Ve)throw Ve});return function(){return Re.apply(this,arguments)}}(),me=this.renderer===fe.RendererType.SVG?this.paintOnSvg(S):this.paintOnCanvas(S);me.onRenderContinue=W,this.paintTask=me;const ye=me.promise.then(()=>le(null).then(()=>{if(oe){const Re=G.streamTextContent({includeMarkedContent:!0});oe.setTextContentStream(Re),oe.render()}this.annotationLayer&&this._renderAnnotationLayer()}),function(Re){return le(Re)});return this.xfaLayerFactory&&(this.xfaLayer||(this.xfaLayer=this.xfaLayerFactory.createXfaLayerBuilder(J,G,null)),this._renderXfaLayer()),this.structTreeLayerFactory&&this.textLayer&&this.canvas&&(this._onTextLayerRendered=Re=>{Re.pageNumber===this.id&&(this.eventBus._off("textlayerrendered",this._onTextLayerRendered),this._onTextLayerRendered=null,this.canvas&&this.pdfPage.getStructTree().then(Ve=>{if(!Ve||!this.canvas)return;const Xe=this.structTreeLayer.render(Ve);Xe.classList.add("structTree"),this.canvas.appendChild(Xe)}))},this.eventBus._on("textlayerrendered",this._onTextLayerRendered),this.structTreeLayer=this.structTreeLayerFactory.createStructTreeLayerBuilder(G)),J.setAttribute("data-loaded",!0),this.eventBus.dispatch("pagerender",{source:this,pageNumber:this.id}),ye}paintOnCanvas(N){const J=(0,q.createPromiseCapability)(),G={promise:J.promise,onRenderContinue(I){I()},cancel(){ve.cancel()}},S=this.viewport,oe=document.createElement("canvas");oe.hidden=!0;let W=!0;const le=function(){W&&(oe.hidden=!1,W=!1)};N.appendChild(oe),this.canvas=oe;const me=oe.getContext("2d",{alpha:!1}),ye=this.outputScale=new fe.OutputScale;if(this.useOnlyCssZoom){const I=S.clone({scale:q.PixelsPerInch.PDF_TO_CSS_UNITS});ye.sx*=I.width/S.width,ye.sy*=I.height/S.height}if(this.maxCanvasPixels>0){const b=Math.sqrt(this.maxCanvasPixels/(S.width*S.height));ye.sx>b||ye.sy>b?(ye.sx=b,ye.sy=b,this.hasRestrictedScaling=!0):this.hasRestrictedScaling=!1}const Re=(0,fe.approximateFraction)(ye.sx),Ve=(0,fe.approximateFraction)(ye.sy);oe.width=(0,fe.roundToDivide)(S.width*ye.sx,Re[0]),oe.height=(0,fe.roundToDivide)(S.height*ye.sy,Ve[0]),oe.style.width=(0,fe.roundToDivide)(S.width,Re[1])+"px",oe.style.height=(0,fe.roundToDivide)(S.height,Ve[1])+"px",this.paintedViewportMap.set(oe,S);const it={canvasContext:me,transform:ye.scaled?[ye.sx,0,0,ye.sy,0,0]:null,viewport:this.viewport,annotationMode:re(this,A),optionalContentConfigPromise:this._optionalContentConfigPromise,annotationCanvasMap:this._annotationCanvasMap,pageColors:this.pageColors},ve=this.pdfPage.render(it);return ve.onContinue=function(I){le(),G.onRenderContinue?G.onRenderContinue(I):I()},ve.promise.then(function(){le(),J.resolve()},function(I){le(),J.reject(I)}),G}paintOnSvg(N){let J=!1;const G=()=>{if(J)throw new q.RenderingCancelledException(`Rendering cancelled, page ${this.id}`,"svg")},S=this.pdfPage,oe=this.viewport.clone({scale:q.PixelsPerInch.PDF_TO_CSS_UNITS});return{promise:S.getOperatorList({annotationMode:re(this,A)}).then(le=>(G(),new q.SVGGraphics(S.commonObjs,S.objs).getSVG(le,oe).then(ye=>{G(),this.svg=ye,this.paintedViewportMap.set(ye,oe),ye.style.width=N.style.width,ye.style.height=N.style.height,this.renderingState=fe.RenderingStates.FINISHED,N.appendChild(ye)}))),onRenderContinue(le){le()},cancel(){J=!0}}}setPageLabel(N){this.pageLabel="string"==typeof N?N:null,null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.compatibilityParams=$.OptionKind=$.AppOptions=void 0;const ae=Object.create(null);$.compatibilityParams=ae;{const E=navigator.userAgent||"",A=navigator.platform||"",F=navigator.maxTouchPoints||1,X=/Android/.test(E);(/\b(iPad|iPhone|iPod)(?=;)/.test(E)||"MacIntel"===A&&F>1||X)&&(ae.maxCanvasPixels=5242880)}const q={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};$.OptionKind=q;const fe={annotationMode:{value:2,kind:q.VIEWER+q.PREFERENCE},cursorToolOnLoad:{value:0,kind:q.VIEWER+q.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:q.VIEWER},defaultZoomValue:{value:"",kind:q.VIEWER+q.PREFERENCE},disableHistory:{value:!1,kind:q.VIEWER},disablePageLabels:{value:!1,kind:q.VIEWER+q.PREFERENCE},enablePermissions:{value:!1,kind:q.VIEWER+q.PREFERENCE},enablePrintAutoRotate:{value:!0,kind:q.VIEWER+q.PREFERENCE},enableScripting:{value:!0,kind:q.VIEWER+q.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:q.VIEWER},externalLinkTarget:{value:0,kind:q.VIEWER+q.PREFERENCE},historyUpdateUrl:{value:!1,kind:q.VIEWER+q.PREFERENCE},ignoreDestinationZoom:{value:!1,kind:q.VIEWER+q.PREFERENCE},imageResourcesPath:{value:"./images/",kind:q.VIEWER},maxCanvasPixels:{value:16777216,compatibility:ae.maxCanvasPixels,kind:q.VIEWER},pageColorsBackground:{value:"Canvas",kind:q.VIEWER+q.PREFERENCE},pageColorsForeground:{value:"CanvasText",kind:q.VIEWER+q.PREFERENCE},pdfBugEnabled:{value:!1,kind:q.VIEWER+q.PREFERENCE},printResolution:{value:150,kind:q.VIEWER},renderer:{value:"canvas",kind:q.VIEWER},sidebarViewOnLoad:{value:-1,kind:q.VIEWER+q.PREFERENCE},scrollModeOnLoad:{value:-1,kind:q.VIEWER+q.PREFERENCE},spreadModeOnLoad:{value:-1,kind:q.VIEWER+q.PREFERENCE},textLayerMode:{value:1,kind:q.VIEWER+q.PREFERENCE},useOnlyCssZoom:{value:!1,kind:q.VIEWER+q.PREFERENCE},viewerCssTheme:{value:0,kind:q.VIEWER+q.PREFERENCE},viewOnLoad:{value:0,kind:q.VIEWER+q.PREFERENCE},cMapPacked:{value:!0,kind:q.API},cMapUrl:{value:"../web/cmaps/",kind:q.API},disableAutoFetch:{value:!1,kind:q.API+q.PREFERENCE},disableFontFace:{value:!1,kind:q.API+q.PREFERENCE},disableRange:{value:!1,kind:q.API+q.PREFERENCE},disableStream:{value:!1,kind:q.API+q.PREFERENCE},docBaseUrl:{value:"",kind:q.API},enableXfa:{value:!0,kind:q.API+q.PREFERENCE},fontExtraProperties:{value:!1,kind:q.API},isEvalSupported:{value:!0,kind:q.API},maxImageSize:{value:-1,kind:q.API},pdfBug:{value:!1,kind:q.API},standardFontDataUrl:{value:"../web/standard_fonts/",kind:q.API},verbosity:{value:1,kind:q.API},workerPort:{value:null,kind:q.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:q.WORKER}};fe.disablePreferences={value:!1,kind:q.VIEWER},fe.locale={value:navigator.language||"en-US",kind:q.VIEWER},fe.sandboxBundleSrc={value:"../build/pdf.sandbox.js",kind:q.VIEWER},fe.renderer.kind+=q.PREFERENCE;const z=Object.create(null);$.AppOptions=class K{constructor(){throw new Error("Cannot initialize AppOptions.")}static get(A){const F=z[A];if(void 0!==F)return F;const X=fe[A];return void 0!==X?X.compatibility??X.value:void 0}static getAll(A=null){const F=Object.create(null);for(const X in fe){const N=fe[X];if(A){if(0==(A&N.kind))continue;if(A===q.PREFERENCE){const G=N.value,S=typeof G;if("boolean"===S||"string"===S||"number"===S&&Number.isInteger(G)){F[X]=G;continue}throw new Error(`Invalid type for preference: ${X}`)}}const J=z[X];F[X]=void 0!==J?J:N.compatibility??N.value}return F}static set(A,F){z[A]=F}static setAll(A){for(const F in A)z[F]=A[F]}static remove(A){delete z[A]}static _hasUserOptions(){return Object.keys(z).length>0}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFRenderingQueue=void 0;var q=ae(3),fe=ae(6);$.PDFRenderingQueue=class K{constructor(){this.pdfViewer=null,this.pdfThumbnailViewer=null,this.onIdle=null,this.highestPriorityPage=null,this.idleTimeout=null,this.printing=!1,this.isThumbnailViewEnabled=!1}setViewer(A){this.pdfViewer=A}setThumbnailViewer(A){this.pdfThumbnailViewer=A}isHighestPriority(A){return this.highestPriorityPage===A.renderingId}hasViewer(){return!!this.pdfViewer}renderHighestPriority(A){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null),!this.pdfViewer.forceRendering(A)&&(this.isThumbnailViewEnabled&&this.pdfThumbnailViewer?.forceRendering()||this.printing||this.onIdle&&(this.idleTimeout=setTimeout(this.onIdle.bind(this),3e4)))}getHighestPriority(A,F,X,N=!1){const J=A.views,G=J.length;if(0===G)return null;for(let me=0;me<G;me++){const ye=J[me].view;if(!this.isViewFinished(ye))return ye}const S=A.first.id,oe=A.last.id;if(oe-S+1>G){const me=A.ids;for(let ye=1,Re=oe-S;ye<Re;ye++){const Ve=X?S+ye:oe-ye;if(me.has(Ve))continue;const Xe=F[Ve-1];if(!this.isViewFinished(Xe))return Xe}}let W=X?oe:S-2,le=F[W];return le&&!this.isViewFinished(le)||N&&(W+=X?1:-1,le=F[W],le&&!this.isViewFinished(le))?le:null}isViewFinished(A){return A.renderingState===fe.RenderingStates.FINISHED}renderView(A){switch(A.renderingState){case fe.RenderingStates.FINISHED:return!1;case fe.RenderingStates.PAUSED:this.highestPriorityPage=A.renderingId,A.resume();break;case fe.RenderingStates.RUNNING:this.highestPriorityPage=A.renderingId;break;case fe.RenderingStates.INITIAL:this.highestPriorityPage=A.renderingId,A.draw().finally(()=>{this.renderHighestPriority()}).catch(F=>{F instanceof q.RenderingCancelledException||console.error(`renderView: "${F}"`)})}return!0}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.TextHighlighter=void 0,$.TextHighlighter=class ae{constructor({findController:fe,eventBus:z,pageIndex:K}){this.findController=fe,this.matches=[],this.eventBus=z,this.pageIdx=K,this._onUpdateTextLayerMatches=null,this.textDivs=null,this.textContentItemsStr=null,this.enabled=!1}setTextMapping(fe,z){this.textDivs=fe,this.textContentItemsStr=z}enable(){if(!this.textDivs||!this.textContentItemsStr)throw new Error("Text divs and strings have not been set.");if(this.enabled)throw new Error("TextHighlighter is already enabled.");this.enabled=!0,this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=fe=>{(fe.pageIndex===this.pageIdx||-1===fe.pageIndex)&&this._updateMatches()},this.eventBus._on("updatetextlayermatches",this._onUpdateTextLayerMatches)),this._updateMatches()}disable(){!this.enabled||(this.enabled=!1,this._onUpdateTextLayerMatches&&(this.eventBus._off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null))}_convertMatches(fe,z){if(!fe)return[];const{textContentItemsStr:K}=this;let E=0,A=0;const F=K.length-1,X=[];for(let N=0,J=fe.length;N<J;N++){let G=fe[N];for(;E!==F&&G>=A+K[E].length;)A+=K[E].length,E++;E===K.length&&console.error("Could not find a matching mapping");const S={begin:{divIdx:E,offset:G-A}};for(G+=z[N];E!==F&&G>A+K[E].length;)A+=K[E].length,E++;S.end={divIdx:E,offset:G-A},X.push(S)}return X}_renderMatches(fe){if(0===fe.length)return;const{findController:z,pageIdx:K}=this,{textContentItemsStr:E,textDivs:A}=this,F=K===z.selected.pageIdx,X=z.selected.matchIdx;let J=null;function S(me,ye){const Re=me.divIdx;return A[Re].textContent="",oe(Re,0,me.offset,ye)}function oe(me,ye,Re,Ve){let Xe=A[me];if(Xe.nodeType===Node.TEXT_NODE){const I=document.createElement("span");Xe.parentNode.insertBefore(I,Xe),I.appendChild(Xe),A[me]=I,Xe=I}const it=E[me].substring(ye,Re),ve=document.createTextNode(it);if(Ve){const I=document.createElement("span");return I.className=`${Ve} appended`,I.appendChild(ve),Xe.appendChild(I),Ve.includes("selected")?I.offsetLeft:0}return Xe.appendChild(ve),0}let W=X,le=W+1;if(z.state.highlightAll)W=0,le=fe.length;else if(!F)return;for(let me=W;me<le;me++){const ye=fe[me],Re=ye.begin,Ve=ye.end,Xe=F&&me===X,it=Xe?" selected":"";let ve=0;if(J&&Re.divIdx===J.divIdx?oe(J.divIdx,J.offset,Re.offset):(null!==J&&oe(J.divIdx,J.offset,undefined),S(Re)),Re.divIdx===Ve.divIdx)ve=oe(Re.divIdx,Re.offset,Ve.offset,"highlight"+it);else{ve=oe(Re.divIdx,Re.offset,undefined,"highlight begin"+it);for(let I=Re.divIdx+1,b=Ve.divIdx;I<b;I++)A[I].className="highlight middle"+it;S(Ve,"highlight end"+it)}J=Ve,Xe&&z.scrollMatchIntoView({element:A[Re.divIdx],selectedLeft:ve,pageIndex:K,matchIndex:X})}J&&oe(J.divIdx,J.offset,undefined)}_updateMatches(){if(!this.enabled)return;const{findController:fe,matches:z,pageIdx:K}=this,{textContentItemsStr:E,textDivs:A}=this;let F=-1;for(let J=0,G=z.length;J<G;J++){const S=z[J];for(let W=Math.max(F,S.begin.divIdx),le=S.end.divIdx;W<=le;W++){const me=A[W];me.textContent=E[W],me.className=""}F=S.end.divIdx+1}fe?.highlightMatches&&(this.matches=this._convertMatches(fe.pageMatches[K]||null,fe.pageMatchesLength[K]||null),this._renderMatches(this.matches))}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.DownloadManager=void 0;var q=ae(3);function fe(K,E){const A=document.createElement("a");if(!A.click)throw new Error('DownloadManager: "a.click()" is not supported.');A.href=K,A.target="_parent","download"in A&&(A.download=E),(document.body||document.documentElement).appendChild(A),A.click(),A.remove()}$.DownloadManager=class z{constructor(){this._openBlobUrls=new WeakMap}downloadUrl(E,A){(0,q.createValidAbsoluteUrl)(E,"http://example.com")?fe(E+"#pdfjs.action=download",A):console.error(`downloadUrl - not a valid URL: ${E}`)}downloadData(E,A,F){fe(URL.createObjectURL(new Blob([E],{type:F})),A)}openOrDownloadData(E,A,F){const X=(0,q.isPdfFile)(F),N=X?"application/pdf":"";if(X){let G,J=this._openBlobUrls.get(E);J||(J=URL.createObjectURL(new Blob([A],{type:N})),this._openBlobUrls.set(E,J)),G="?file="+encodeURIComponent(J+"#"+F);try{return window.open(G),!0}catch(S){console.error(`openOrDownloadData: ${S}`),URL.revokeObjectURL(J),this._openBlobUrls.delete(E)}}return this.downloadData(A,F,N),!1}download(E,A,F,X="download"){fe(URL.createObjectURL(E),F)}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.WaitOnType=$.EventBus=$.AutomationEventBus=void 0,$.waitOnEventOrTimeout=function q({target:K,name:E,delay:A=0}){return new Promise(function(F,X){if("object"!=typeof K||!E||"string"!=typeof E||!(Number.isInteger(A)&&A>=0))throw new Error("waitOnEventOrTimeout - invalid parameters.");function N(oe){K instanceof fe?K._off(E,J):K.removeEventListener(E,J),S&&clearTimeout(S),F(oe)}const J=N.bind(null,ae.EVENT);K instanceof fe?K._on(E,J):K.addEventListener(E,J);const G=N.bind(null,ae.TIMEOUT),S=setTimeout(G,A)})};const ae={EVENT:"event",TIMEOUT:"timeout"};$.WaitOnType=ae;class fe{constructor(){this._listeners=Object.create(null)}on(E,A,F=null){this._on(E,A,{external:!0,once:F?.once})}off(E,A,F=null){this._off(E,A,{external:!0,once:F?.once})}dispatch(E,A){const F=this._listeners[E];if(!F||0===F.length)return;let X;for(const{listener:N,external:J,once:G}of F.slice(0))G&&this._off(E,N),J?(X||(X=[])).push(N):N(A);if(X){for(const N of X)N(A);X=null}}_on(E,A,F=null){var N;((N=this._listeners)[E]||(N[E]=[])).push({listener:A,external:!0===F?.external,once:!0===F?.once})}_off(E,A,F=null){const X=this._listeners[E];if(X)for(let N=0,J=X.length;N<J;N++)if(X[N].listener===A)return void X.splice(N,1)}}$.EventBus=fe,$.AutomationEventBus=class z extends fe{dispatch(E,A){throw new Error("Not implemented: AutomationEventBus.dispatch")}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GenericL10n=void 0,ae(19);var q=ae(4);const fe=document.webL10n;$.GenericL10n=class z{constructor(E){this._lang=E,this._ready=new Promise((A,F)=>{fe.setLanguage((0,q.fixupLangCode)(E),()=>{A(fe)})})}getLanguage(){var E=this;return B(function*(){return(yield E._ready).getLanguage()})()}getDirection(){var E=this;return B(function*(){return(yield E._ready).getDirection()})()}get(E,A=null,F=(0,q.getL10nFallback)(E,A)){var X=this;return B(function*(){return(yield X._ready).get(E,A,F)})()}translate(E){var A=this;return B(function*(){return(yield A._ready).translate(E)})()}}},()=>{document.webL10n=function(se,$,ae){var q={},fe="",z="textContent",K="",E={},A="loading";function S(I,b,P){b=b||function(ne){},P=P||function(){};var L=new XMLHttpRequest;L.open("GET",I,!0),L.overrideMimeType&&L.overrideMimeType("text/plain; charset=utf-8"),L.onreadystatechange=function(){4==L.readyState&&(200==L.status||0===L.status?b(L.responseText):P())},L.onerror=P,L.ontimeout=P;try{L.send(null)}catch{P()}}function W(I,b){I&&(I=I.toLowerCase()),b=b||function(){},function le(){q={},fe="",K=""}(),K=I;var P=function X(){return $.querySelectorAll('link[type="application/l10n"]')}(),L=P.length;if(0!==L){var be,je=0;be=function(){++je>=L&&(b(),A="complete")};for(var Ue=0;Ue<L;Ue++)new Pe(P[Ue]).load(I,be)}else{var Q=function N(){var I=$.querySelector('script[type="application/l10n"]');return I?JSON.parse(I.innerHTML):null}();if(Q&&Q.locales&&Q.default_locale){if(console.log("using the embedded JSON directory, early way out"),!(q=Q.locales[I])){var ne=Q.default_locale.toLowerCase();for(var U in Q.locales){if((U=U.toLowerCase())===I){q=Q.locales[I];break}U===ne&&(q=Q.locales[ne])}}b()}else console.log("no resource to load, early way out");A="complete"}function Pe(Ye){var Qe=Ye.href;this.load=function(gt,Tt){!function oe(I,b,P,L){var Q=I.replace(/[^\/]*$/,"")||"./";function ne(be){return be.lastIndexOf("\\")<0?be:be.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'")}S(I,function(be){fe+=be,function U(be,je){var Pe={},Ue=/^\s*|\s*$/,Be=/^\s*#|^\s*$/,Ye=/^\s*\[(.*)\]\s*$/,Qe=/^\s*@import\s+url\((.*)\)\s*$/i,gt=/^([^=\s]*)\s*=\s*(.+)$/;function Tt(yt,ct,Rt){var Ot=yt.replace(Ue,"").split(/[\r\n]+/),At="*",nt=b.split("-",1)[0],dt=!1,Pt="";!function Ze(){for(;;){if(!Ot.length)return void Rt();var ge=Ot.shift();if(!Be.test(ge)){if(ct){if(Pt=Ye.exec(ge)){At=Pt[1].toLowerCase(),dt="*"!==At&&At!==b&&At!==nt;continue}if(dt)continue;if(Pt=Qe.exec(ge))return void lt(Q+Pt[1],Ze)}var xe=ge.match(gt);xe&&3==xe.length&&(Pe[xe[1]]=ne(xe[2]))}}}()}function lt(yt,ct){S(yt,function(Rt){Tt(Rt,!1,ct)},function(){console.warn(yt+" not found."),ct()})}Tt(be,!0,function(){je(Pe)})}(be,function(je){for(var Pe in je){var Ue,Be,Ye=Pe.lastIndexOf(".");Ye>0?(Ue=Pe.substring(0,Ye),Be=Pe.substring(Ye+1)):(Ue=Pe,Be=z),q[Ue]||(q[Ue]={}),q[Ue][Be]=je[Pe]}P&&P()})},L)}(Qe,gt,Tt,function(){console.warn(Qe+" not found."),console.warn('"'+gt+'" resource not found'),K="",Tt()})}}}function ye(I,b,P){var L=q[I];if(!L){if(console.warn("#"+I+" is undefined."),!P)return null;L=P}var Q={};for(var ne in L){var U=L[ne];U=Ve(U=Re(U,b,I,ne),b,I),Q[ne]=U}return Q}function Re(I,b,P,L){var ne=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(I);if(!ne||!ne.length)return I;var je,U=ne[1],be=ne[2];return b&&be in b?je=b[be]:be in q&&(je=q[be]),U in E&&(I=(0,E[U])(I,je,P,L)),I}function Ve(I,b,P){return I.replace(/\{\{\s*(.+?)\s*\}\}/g,function(Q,ne){return b&&ne in b?b[ne]:ne in q?q[ne]:(console.log("argument {{"+ne+"}} for #"+P+" is undefined."),Q)})}function Xe(I){var b=function G(I){if(!I)return{};var b=I.getAttribute("data-l10n-id"),P=I.getAttribute("data-l10n-args"),L={};if(P)try{L=JSON.parse(P)}catch{console.warn("could not parse arguments for #"+b)}return{id:b,args:L}}(I);if(b.id){var P=ye(b.id,b.args);if(!P)return void console.warn("#"+b.id+" is undefined.");if(P[z]){if(0===function it(I){if(I.children)return I.children.length;if(typeof I.childElementCount<"u")return I.childElementCount;for(var b=0,P=0;P<I.childNodes.length;P++)b+=1===I.nodeType?1:0;return b}(I))I[z]=P[z];else{for(var L=I.childNodes,Q=!1,ne=0,U=L.length;ne<U;ne++)3===L[ne].nodeType&&/\S/.test(L[ne].nodeValue)&&(Q?L[ne].nodeValue="":(L[ne].nodeValue=P[z],Q=!0));if(!Q){var be=$.createTextNode(P[z]);I.insertBefore(be,I.firstChild)}}delete P[z]}for(var je in P)I[je]=P[je]}}return E.plural=function(I,b,P,L){var Q=parseFloat(b);if(isNaN(Q)||L!=z)return I;E._pluralRules||(E._pluralRules=function me(I){function P(U,be){return-1!==be.indexOf(U)}function L(U,be,je){return be<=U&&U<=je}var Q={0:function(U){return"other"},1:function(U){return L(U%100,3,10)?"few":0===U?"zero":L(U%100,11,99)?"many":2==U?"two":1==U?"one":"other"},2:function(U){return 0!==U&&U%10==0?"many":2==U?"two":1==U?"one":"other"},3:function(U){return 1==U?"one":"other"},4:function(U){return L(U,0,1)?"one":"other"},5:function(U){return L(U,0,2)&&2!=U?"one":"other"},6:function(U){return 0===U?"zero":U%10==1&&U%100!=11?"one":"other"},7:function(U){return 2==U?"two":1==U?"one":"other"},8:function(U){return L(U,3,6)?"few":L(U,7,10)?"many":2==U?"two":1==U?"one":"other"},9:function(U){return 0===U||1!=U&&L(U%100,1,19)?"few":1==U?"one":"other"},10:function(U){return L(U%10,2,9)&&!L(U%100,11,19)?"few":U%10!=1||L(U%100,11,19)?"other":"one"},11:function(U){return L(U%10,2,4)&&!L(U%100,12,14)?"few":U%10==0||L(U%10,5,9)||L(U%100,11,14)?"many":U%10==1&&U%100!=11?"one":"other"},12:function(U){return L(U,2,4)?"few":1==U?"one":"other"},13:function(U){return L(U%10,2,4)&&!L(U%100,12,14)?"few":1!=U&&L(U%10,0,1)||L(U%10,5,9)||L(U%100,12,14)?"many":1==U?"one":"other"},14:function(U){return L(U%100,3,4)?"few":U%100==2?"two":U%100==1?"one":"other"},15:function(U){return 0===U||L(U%100,2,10)?"few":L(U%100,11,19)?"many":1==U?"one":"other"},16:function(U){return U%10==1&&11!=U?"one":"other"},17:function(U){return 3==U?"few":0===U?"zero":6==U?"many":2==U?"two":1==U?"one":"other"},18:function(U){return 0===U?"zero":L(U,0,2)&&0!==U&&2!=U?"one":"other"},19:function(U){return L(U,2,10)?"few":L(U,0,1)?"one":"other"},20:function(U){return!L(U%10,3,4)&&U%10!=9||L(U%100,10,19)||L(U%100,70,79)||L(U%100,90,99)?U%1e6==0&&0!==U?"many":U%10!=2||P(U%100,[12,72,92])?U%10!=1||P(U%100,[11,71,91])?"other":"one":"two":"few"},21:function(U){return 0===U?"zero":1==U?"one":"other"},22:function(U){return L(U,0,1)||L(U,11,99)?"one":"other"},23:function(U){return L(U%10,1,2)||U%20==0?"one":"other"},24:function(U){return L(U,3,10)||L(U,13,19)?"few":P(U,[2,12])?"two":P(U,[1,11])?"one":"other"}},ne={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[I.replace(/-.*$/,"")];return ne in Q?Q[ne]:(console.warn("plural form unknown for ["+I+"]"),function(){return"other"})}(K));var ne="["+E._pluralRules(Q)+"]";return 0===Q&&P+"[zero]"in q?I=q[P+"[zero]"][L]:1==Q&&P+"[one]"in q?I=q[P+"[one]"][L]:2==Q&&P+"[two]"in q?I=q[P+"[two]"][L]:P+ne in q?I=q[P+ne][L]:P+"[other]"in q&&(I=q[P+"[other]"][L]),I},{get:function(I,b,P){var ne,L=I.lastIndexOf("."),Q=z;L>0&&(Q=I.substring(L+1),I=I.substring(0,L)),P&&((ne={})[Q]=P);var U=ye(I,b,ne);return U&&Q in U?U[Q]:"{{"+I+"}}"},getData:function(){return q},getText:function(){return fe},getLanguage:function(){return K},setLanguage:function(I,b){W(I,function(){b&&b()})},getDirection:function(){var b=K.split("-",1)[0];return["ar","he","fa","ps","ur"].indexOf(b)>=0?"rtl":"ltr"},translate:function ve(I){for(var b=function J(I){return I?I.querySelectorAll("*[data-l10n-id]"):[]}(I=I||$.documentElement),P=b.length,L=0;L<P;L++)Xe(b[L]);Xe(I)},getReadyState:function(){return A},ready:function(I){I&&("complete"==A||"interactive"==A?se.setTimeout(function(){I()}):$.addEventListener&&$.addEventListener("localized",function b(){$.removeEventListener("localized",b),I()}))}}}(window,document)},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFFindController=$.FindState=void 0;var q=ae(6),fe=ae(3),z=ae(21);const K={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};$.FindState=K;const X={"\u2010":"-","\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\xbc":"1/4","\xbd":"1/2","\xbe":"3/4"},N=new Set([12441,12442,2381,2509,2637,2765,2893,3021,3149,3277,3387,3388,3405,3530,3642,3770,3972,4153,4154,5908,5940,6098,6752,6980,7082,7083,7154,7155,11647,43014,43052,43204,43347,43456,43766,44013,3158,3953,3954,3962,3963,3964,3965,3968,3956]),J=[...N.values()].map(Ke=>String.fromCharCode(Ke)).join(""),G=/\p{M}+/gu,S=/([.*+?^${}()|[\]\\])|(\p{P})|(\s+)|(\p{M})|(\p{L})/gu,oe=/([^\p{M}])\p{M}*$/u,W=/^\p{M}*([^\p{M}])/u;let le=null;function me(Ke){if(!le){const nn=Object.keys(X).join("");le=new RegExp(`([${nn}])|(\\p{M}+(?:-\\n)?)|(\\S-\\n)|(\\n)`,"gum")}const Ee=[];let Te;for(;null!==(Te=G.exec(Ke));)Ee.push([Te[0].length,Te.index]);let De=Ke.normalize("NFD");const Ae=[[0,0]];let ke=0,We=0,at=0,Dt=0,Jt=!1;return De=De.replace(le,(nn,On,tn,rn,wn,Sn)=>{if(Sn-=at,On){const Rn=X[nn],ni=Rn.length;for(let xt=1;xt<ni;xt++)Ae.push([Sn-We+xt,We-xt]);return We-=ni-1,Rn}if(tn){const Rn=tn.endsWith("\n"),ni=Rn?tn.length-2:tn.length;Jt=!0;let xt=ni;Sn+Dt===Ee[ke]?.[1]&&(xt-=Ee[ke][0],++ke);for(let on=1;on<xt+1;on++)Ae.push([Sn-1-We+on,We-on]);return We-=xt,at+=xt,Rn?(Ae.push([(Sn+=ni-1)-We+1,1+We]),We+=1,at+=1,Dt+=1,tn.slice(0,ni)):tn}return rn?(Ae.push([Sn-We+1,1+We]),We+=1,at+=1,Dt+=1,rn.charAt(0)):(Ae.push([Sn-We+1,We-1]),We-=1,at+=1,Dt+=1," ")}),Ae.push([De.length,We]),[De,Ae,Jt]}function ye(Ke,Ee,Te){if(!Ke)return[Ee,Te];const De=Ee,Ae=Ee+Te;let ke=(0,q.binarySearchFirstItem)(Ke,at=>at[0]>=De);Ke[ke][0]>De&&--ke;let We=(0,q.binarySearchFirstItem)(Ke,at=>at[0]>=Ae,ke);return Ke[We][0]>Ae&&--We,[De+Ke[ke][1],Te+Ke[We][1]-Ke[ke][1]]}var Re=new WeakSet,Ve=new WeakSet,Xe=new WeakMap,it=new WeakSet,ve=new WeakSet,I=new WeakSet,b=new WeakSet,P=new WeakSet,L=new WeakSet,Q=new WeakSet,ne=new WeakSet,U=new WeakSet,be=new WeakSet,je=new WeakSet,Pe=new WeakSet,Ue=new WeakSet,Be=new WeakSet,Ye=new WeakSet,Qe=new WeakSet,gt=new WeakSet;function lt(Ke){if(!Ke)return;const Ee=this._pdfDocument,{type:Te}=Ke;(null===this._state||ie(this,it,Rt).call(this,Ke))&&(this._dirtyMatch=!0),this._state=Ke,"highlightallchange"!==Te&&ie(this,gt,Yt).call(this,K.PENDING),this._firstPageCapability.promise.then(()=>{if(!this._pdfDocument||Ee&&this._pdfDocument!==Ee)return;ie(this,L,Pt).call(this);const De=!this._highlightMatches,Ae=!!this._findTimeout;this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),Te?this._dirtyMatch?ie(this,U,xe).call(this):"again"===Te?(ie(this,U,xe).call(this),De&&this._state.highlightAll&&ie(this,ne,ge).call(this)):"highlightallchange"===Te?(Ae?ie(this,U,xe).call(this):this._highlightMatches=!0,ie(this,ne,ge).call(this)):ie(this,U,xe).call(this):this._findTimeout=setTimeout(()=>{ie(this,U,xe).call(this),this._findTimeout=null},250)})}function yt(){this._highlightMatches=!1,this._scrollMatches=!1,this._pdfDocument=null,this._pageMatches=[],this._pageMatchesLength=[],this._state=null,this._selected={pageIdx:-1,matchIdx:-1},this._offset={pageIdx:null,matchIdx:null,wrapped:!1},this._extractTextPromises=[],this._pageContents=[],this._pageDiffs=[],this._hasDiacritics=[],this._matchesCountTotal=0,this._pagesToSearch=null,this._pendingFindMatches=new Set,this._resumePageIdx=null,this._dirtyMatch=!1,clearTimeout(this._findTimeout),this._findTimeout=null,this._firstPageCapability=(0,fe.createPromiseCapability)()}function ct(){return this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,[this._normalizedQuery]=me(this._state.query)),this._normalizedQuery}function Rt(Ke){if(Ke.query!==this._state.query)return!0;switch(Ke.type){case"again":const Ee=this._selected.pageIdx+1,Te=this._linkService;return Ee>=1&&Ee<=Te.pagesCount&&Ee!==Te.page&&!Te.isPageVisible(Ee);case"highlightallchange":return!1}return!0}function Ot(Ke,Ee,Te){let De=Ke.slice(0,Ee).match(oe);if(De){const Ae=Ke.charCodeAt(Ee),ke=De[1].charCodeAt(0);if((0,z.getCharacterType)(Ae)===(0,z.getCharacterType)(ke))return!1}if(De=Ke.slice(Ee+Te).match(W),De){const Ae=Ke.charCodeAt(Ee+Te-1),ke=De[1].charCodeAt(0);if((0,z.getCharacterType)(Ae)===(0,z.getCharacterType)(ke))return!1}return!0}function At(Ke,Ee,Te,De){const Ae=[],ke=[],We=this._pageDiffs[Te];let at;for(;null!==(at=Ke.exec(De));){if(Ee&&!ie(this,ve,Ot).call(this,De,at.index,at[0].length))continue;const[Dt,Jt]=ye(We,at.index,at[0].length);Jt&&(Ae.push(Dt),ke.push(Jt))}this._pageMatches[Te]=Ae,this._pageMatchesLength[Te]=ke}function nt(Ke,Ee){const{matchDiacritics:Te}=this._state;let De=!1;return(Ke=Ke.replace(S,(ke,We,at,Dt,Jt,nn)=>We?`[ ]*\\${We}[ ]*`:at?`[ ]*${at}[ ]*`:Dt?"[ ]+":Te?Jt||nn:Jt?N.has(Jt.charCodeAt(0))?Jt:"":Ee?(De=!0,`${nn}\\p{M}*`):nn)).endsWith("[ ]*")&&(Ke=Ke.slice(0,Ke.length-"[ ]*".length)),Te&&Ee&&(De=!0,Ke=`${Ke}(?=[${J}]|[^\\p{M}]|$)`),[De,Ke]}function dt(Ke){let Ee=re(this,Xe);if(0===Ee.length)return;const{caseSensitive:Te,entireWord:De,phraseSearch:Ae}=this._state,ke=this._pageContents[Ke],We=this._hasDiacritics[Ke];let at=!1;if(Ae)[at,Ee]=ie(this,b,nt).call(this,Ee,We);else{const nn=Ee.match(/\S+/g);nn&&(Ee=nn.sort().reverse().map(On=>{const[tn,rn]=ie(this,b,nt).call(this,On,We);return at||(at=tn),`(${rn})`}).join("|"))}Ee=new RegExp(Ee,`g${at?"u":""}${Te?"":"i"}`),ie(this,I,At).call(this,Ee,De,Ke,ke),this._state.highlightAll&&ie(this,Q,Ze).call(this,Ke),this._resumePageIdx===Ke&&(this._resumePageIdx=null,ie(this,je,wt).call(this));const Jt=this._pageMatches[Ke].length;Jt>0&&(this._matchesCountTotal+=Jt,ie(this,Qe,vt).call(this))}function Pt(){if(this._extractTextPromises.length>0)return;let Ke=Promise.resolve();for(let Ee=0,Te=this._linkService.pagesCount;Ee<Te;Ee++){const De=(0,fe.createPromiseCapability)();this._extractTextPromises[Ee]=De.promise,Ke=Ke.then(()=>this._pdfDocument.getPage(Ee+1).then(Ae=>Ae.getTextContent()).then(Ae=>{const ke=[];for(const We of Ae.items)ke.push(We.str),We.hasEOL&&ke.push("\n");[this._pageContents[Ee],this._pageDiffs[Ee],this._hasDiacritics[Ee]]=me(ke.join("")),De.resolve()},Ae=>{console.error(`Unable to get text content for page ${Ee+1}`,Ae),this._pageContents[Ee]="",this._pageDiffs[Ee]=null,this._hasDiacritics[Ee]=!1,De.resolve()}))}}function Ze(Ke){this._scrollMatches&&this._selected.pageIdx===Ke&&(this._linkService.page=Ke+1),this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:Ke})}function ge(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}function xe(){const Ke=this._state.findPrevious,Ee=this._linkService.page-1,Te=this._linkService.pagesCount;if(this._highlightMatches=!0,this._dirtyMatch){this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=Ee,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._pageMatchesLength.length=0,this._matchesCountTotal=0,ie(this,ne,ge).call(this);for(let Ae=0;Ae<Te;Ae++)this._pendingFindMatches.has(Ae)||(this._pendingFindMatches.add(Ae),this._extractTextPromises[Ae].then(()=>{this._pendingFindMatches.delete(Ae),ie(this,P,dt).call(this,Ae)}))}if(""===re(this,Xe))return void ie(this,gt,Yt).call(this,K.FOUND);if(this._resumePageIdx)return;const De=this._offset;if(this._pagesToSearch=Te,null!==De.matchIdx){const Ae=this._pageMatches[De.pageIdx].length;if(!Ke&&De.matchIdx+1<Ae||Ke&&De.matchIdx>0)return De.matchIdx=Ke?De.matchIdx-1:De.matchIdx+1,void ie(this,Ue,we).call(this,!0);ie(this,Pe,Ne).call(this,Ke)}ie(this,je,wt).call(this)}function ft(Ke){const Ee=this._offset,Te=Ke.length,De=this._state.findPrevious;return Te?(Ee.matchIdx=De?Te-1:0,ie(this,Ue,we).call(this,!0),!0):(ie(this,Pe,Ne).call(this,De),!!(Ee.wrapped&&(Ee.matchIdx=null,this._pagesToSearch<0))&&(ie(this,Ue,we).call(this,!1),!0))}function wt(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");let Ke=null;do{const Ee=this._offset.pageIdx;if(Ke=this._pageMatches[Ee],!Ke){this._resumePageIdx=Ee;break}}while(!ie(this,be,ft).call(this,Ke))}function Ne(Ke){const Ee=this._offset,Te=this._linkService.pagesCount;Ee.pageIdx=Ke?Ee.pageIdx-1:Ee.pageIdx+1,Ee.matchIdx=null,this._pagesToSearch--,(Ee.pageIdx>=Te||Ee.pageIdx<0)&&(Ee.pageIdx=Ke?Te-1:0,Ee.wrapped=!0)}function we(Ke=!1){let Ee=K.NOT_FOUND;const Te=this._offset.wrapped;if(this._offset.wrapped=!1,Ke){const De=this._selected.pageIdx;this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,Ee=Te?K.WRAPPED:K.FOUND,-1!==De&&De!==this._selected.pageIdx&&ie(this,Q,Ze).call(this,De)}ie(this,gt,Yt).call(this,Ee,this._state.findPrevious),-1!==this._selected.pageIdx&&(this._scrollMatches=!0,ie(this,Q,Ze).call(this,this._selected.pageIdx))}function Fe(Ke){const Ee=this._pdfDocument;this._firstPageCapability.promise.then(()=>{!this._pdfDocument||Ee&&this._pdfDocument!==Ee||(this._findTimeout&&(clearTimeout(this._findTimeout),this._findTimeout=null),this._resumePageIdx&&(this._resumePageIdx=null,this._dirtyMatch=!0),ie(this,gt,Yt).call(this,K.FOUND),this._highlightMatches=!1,ie(this,ne,ge).call(this))})}function rt(){const{pageIdx:Ke,matchIdx:Ee}=this._selected;let Te=0,De=this._matchesCountTotal;if(-1!==Ee){for(let Ae=0;Ae<Ke;Ae++)Te+=this._pageMatches[Ae]?.length||0;Te+=Ee+1}return(Te<1||Te>De)&&(Te=De=0),{current:Te,total:De}}function vt(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:ie(this,Ye,rt).call(this)})}function Yt(Ke,Ee=!1){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:Ke,previous:Ee,matchesCount:ie(this,Ye,rt).call(this),rawQuery:this._state?.query??null})}$.PDFFindController=class Tt{constructor({linkService:Ee,eventBus:Te}){te(this,gt),te(this,Qe),te(this,Ye),te(this,Be),te(this,Ue),te(this,Pe),te(this,je),te(this,be),te(this,U),te(this,ne),te(this,Q),te(this,L),te(this,P),te(this,b),te(this,I),te(this,ve),te(this,it),O(this,Xe,{get:ct,set:void 0}),te(this,Ve),te(this,Re),this._linkService=Ee,this._eventBus=Te,ie(this,Ve,yt).call(this),Te._on("find",ie(this,Re,lt).bind(this)),Te._on("findbarclose",ie(this,Be,Fe).bind(this))}get highlightMatches(){return this._highlightMatches}get pageMatches(){return this._pageMatches}get pageMatchesLength(){return this._pageMatchesLength}get selected(){return this._selected}get state(){return this._state}setDocument(Ee){this._pdfDocument&&ie(this,Ve,yt).call(this),Ee&&(this._pdfDocument=Ee,this._firstPageCapability.resolve())}scrollMatchIntoView({element:Ee=null,selectedLeft:Te=0,pageIndex:De=-1,matchIndex:Ae=-1}){this._scrollMatches&&Ee&&-1!==Ae&&Ae===this._selected.matchIdx&&-1!==De&&De===this._selected.pageIdx&&(this._scrollMatches=!1,(0,q.scrollIntoView)(Ee,{top:-50,left:Te+-400},!0))}}},(se,$)=>{Object.defineProperty($,"__esModule",{value:!0}),$.CharacterType=void 0,$.getCharacterType=function G(S){return function q(S){return S<11904}(S)?function fe(S){return 0==(65408&S)}(S)?function E(S){return 32===S||9===S||13===S||10===S}(S)?ae.SPACE:function z(S){return S>=97&&S<=122||S>=65&&S<=90}(S)||function K(S){return S>=48&&S<=57}(S)||95===S?ae.ALPHA_LETTER:ae.PUNCT:function J(S){return 3584==(65408&S)}(S)?ae.THAI_LETTER:160===S?ae.SPACE:ae.ALPHA_LETTER:function A(S){return S>=13312&&S<=40959||S>=63744&&S<=64255}(S)?ae.HAN_LETTER:function F(S){return S>=12448&&S<=12543}(S)?ae.KATAKANA_LETTER:function X(S){return S>=12352&&S<=12447}(S)?ae.HIRAGANA_LETTER:function N(S){return S>=65376&&S<=65439}(S)?ae.HALFWIDTH_KATAKANA_LETTER:ae.ALPHA_LETTER};const ae={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};$.CharacterType=ae},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFHistory=void 0,$.isDestArraysEqual=N,$.isDestHashesEqual=X;var q=ae(6),fe=ae(17);function A(){return document.location.hash}function X(J,G){return"string"==typeof J&&"string"==typeof G&&(J===G||(0,q.parseQueryString)(J).get("nameddest")===G)}function N(J,G){function S(oe,W){if(typeof oe!=typeof W||Array.isArray(oe)||Array.isArray(W))return!1;if(null!==oe&&"object"==typeof oe&&null!==W){if(Object.keys(oe).length!==Object.keys(W).length)return!1;for(const le in oe)if(!S(oe[le],W[le]))return!1;return!0}return oe===W||Number.isNaN(oe)&&Number.isNaN(W)}if(!Array.isArray(J)||!Array.isArray(G)||J.length!==G.length)return!1;for(let oe=0,W=J.length;oe<W;oe++)if(!S(J[oe],G[oe]))return!1;return!0}$.PDFHistory=class F{constructor({linkService:G,eventBus:S}){this.linkService=G,this.eventBus=S,this._initialized=!1,this._fingerprint="",this.reset(),this._boundEvents=null,this.eventBus._on("pagesinit",()=>{this._isPagesLoaded=!1,this.eventBus._on("pagesloaded",oe=>{this._isPagesLoaded=!!oe.pagesCount},{once:!0})})}initialize({fingerprint:G,resetHistory:S=!1,updateUrl:oe=!1}){if(!G||"string"!=typeof G)return void console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.');this._initialized&&this.reset();const W=""!==this._fingerprint&&this._fingerprint!==G;this._fingerprint=G,this._updateUrl=!0===oe,this._initialized=!0,this._bindEvents();const le=window.history.state;if(this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=A(),this._numPositionUpdates=0,this._uid=this._maxUid=0,this._destination=null,this._position=null,!this._isValidState(le,!0)||S){const{hash:ye,page:Re,rotation:Ve}=this._parseCurrentHash(!0);return!ye||W||S?void this._pushOrReplaceState(null,!0):void this._pushOrReplaceState({hash:ye,page:Re,rotation:Ve},!0)}const me=le.destination;this._updateInternalState(me,le.uid,!0),void 0!==me.rotation&&(this._initialRotation=me.rotation),me.dest?(this._initialBookmark=JSON.stringify(me.dest),this._destination.page=null):me.hash?this._initialBookmark=me.hash:me.page&&(this._initialBookmark=`page=${me.page}`)}reset(){this._initialized&&(this._pageHide(),this._initialized=!1,this._unbindEvents()),this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._initialBookmark=null,this._initialRotation=null}push({namedDest:G=null,explicitDest:S,pageNumber:oe}){if(!this._initialized)return;if(G&&"string"!=typeof G)return void console.error(`PDFHistory.push: "${G}" is not a valid namedDest parameter.`);if(!Array.isArray(S))return void console.error(`PDFHistory.push: "${S}" is not a valid explicitDest parameter.`);if(!this._isValidPage(oe)&&(null!==oe||this._destination))return void console.error(`PDFHistory.push: "${oe}" is not a valid pageNumber parameter.`);const W=G||JSON.stringify(S);if(!W)return;let le=!1;if(this._destination&&(X(this._destination.hash,W)||N(this._destination.dest,S))){if(this._destination.page)return;le=!0}this._popStateInProgress&&!le||(this._pushOrReplaceState({dest:S,hash:W,page:oe,rotation:this.linkService.rotation},le),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1})))}pushPage(G){if(this._initialized){if(!this._isValidPage(G))return void console.error(`PDFHistory.pushPage: "${G}" is not a valid page number.`);this._destination?.page!==G&&(this._popStateInProgress||(this._pushOrReplaceState({dest:null,hash:`page=${G}`,page:G,rotation:this.linkService.rotation}),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(()=>{this._popStateInProgress=!1}))))}}pushCurrentPosition(){!this._initialized||this._popStateInProgress||this._tryPushCurrentPosition()}back(){if(!this._initialized||this._popStateInProgress)return;const G=window.history.state;this._isValidState(G)&&G.uid>0&&window.history.back()}forward(){if(!this._initialized||this._popStateInProgress)return;const G=window.history.state;this._isValidState(G)&&G.uid<this._maxUid&&window.history.forward()}get popStateInProgress(){return this._initialized&&(this._popStateInProgress||this._blockHashChange>0)}get initialBookmark(){return this._initialized?this._initialBookmark:null}get initialRotation(){return this._initialized?this._initialRotation:null}_pushOrReplaceState(G,S=!1){const oe=S||!this._destination,W={fingerprint:this._fingerprint,uid:oe?this._uid:this._uid+1,destination:G};let le;if(this._updateInternalState(G,W.uid),this._updateUrl&&G?.hash){const me=document.location.href.split("#")[0];me.startsWith("file://")||(le=`${me}#${G.hash}`)}oe?window.history.replaceState(W,"",le):window.history.pushState(W,"",le)}_tryPushCurrentPosition(G=!1){if(!this._position)return;let S=this._position;if(G&&(S=Object.assign(Object.create(null),this._position),S.temporary=!0),!this._destination)return void this._pushOrReplaceState(S);if(this._destination.temporary)return void this._pushOrReplaceState(S,!0);if(this._destination.hash===S.hash||!this._destination.page&&this._numPositionUpdates<=50)return;let oe=!1;if(this._destination.page>=S.first&&this._destination.page<=S.page){if(void 0!==this._destination.dest||!this._destination.first)return;oe=!0}this._pushOrReplaceState(S,oe)}_isValidPage(G){return Number.isInteger(G)&&G>0&&G<=this.linkService.pagesCount}_isValidState(G,S=!1){if(!G)return!1;if(G.fingerprint!==this._fingerprint){if(!S)return!1;{if("string"!=typeof G.fingerprint||G.fingerprint.length!==this._fingerprint.length)return!1;const[oe]=performance.getEntriesByType("navigation");if("reload"!==oe?.type)return!1}}return!(!Number.isInteger(G.uid)||G.uid<0||null===G.destination||"object"!=typeof G.destination)}_updateInternalState(G,S,oe=!1){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),oe&&G?.temporary&&delete G.temporary,this._destination=G,this._uid=S,this._maxUid=Math.max(this._maxUid,S),this._numPositionUpdates=0}_parseCurrentHash(G=!1){const S=unescape(A()).substring(1),oe=(0,q.parseQueryString)(S),W=oe.get("nameddest")||"";let le=0|oe.get("page");return(!this._isValidPage(le)||G&&W.length>0)&&(le=null),{hash:S,page:le,rotation:this.linkService.rotation}}_updateViewarea({location:G}){this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null),this._position={hash:G.pdfOpenParams.substring(1),page:this.linkService.page,first:G.pageNumber,rotation:G.rotation},!this._popStateInProgress&&(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(()=>{this._popStateInProgress||this._tryPushCurrentPosition(!0),this._updateViewareaTimeout=null},1e3))}_popState({state:G}){const S=A(),oe=this._currentHash!==S;if(this._currentHash=S,!G){this._uid++;const{hash:le,page:me,rotation:ye}=this._parseCurrentHash();return void this._pushOrReplaceState({hash:le,page:me,rotation:ye},!0)}if(!this._isValidState(G))return;this._popStateInProgress=!0,oe&&(this._blockHashChange++,(0,fe.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1e3}).then(()=>{this._blockHashChange--}));const W=G.destination;this._updateInternalState(W,G.uid,!0),(0,q.isValidRotation)(W.rotation)&&(this.linkService.rotation=W.rotation),W.dest?this.linkService.goToDestination(W.dest):W.hash?this.linkService.setHash(W.hash):W.page&&(this.linkService.page=W.page),Promise.resolve().then(()=>{this._popStateInProgress=!1})}_pageHide(){(!this._destination||this._destination.temporary)&&this._tryPushCurrentPosition()}_bindEvents(){this._boundEvents||(this._boundEvents={updateViewarea:this._updateViewarea.bind(this),popState:this._popState.bind(this),pageHide:this._pageHide.bind(this)},this.eventBus._on("updateviewarea",this._boundEvents.updateViewarea),window.addEventListener("popstate",this._boundEvents.popState),window.addEventListener("pagehide",this._boundEvents.pageHide))}_unbindEvents(){!this._boundEvents||(this.eventBus._off("updateviewarea",this._boundEvents.updateViewarea),window.removeEventListener("popstate",this._boundEvents.popState),window.removeEventListener("pagehide",this._boundEvents.pageHide),this._boundEvents=null)}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.PDFScriptingManager=void 0;var q=ae(6),fe=ae(3);$.PDFScriptingManager=class z{constructor({eventBus:E,sandboxBundleSrc:A=null,scriptingFactory:F=null,docPropertiesLookup:X=null}){this._pdfDocument=null,this._pdfViewer=null,this._closeCapability=null,this._destroyCapability=null,this._scripting=null,this._mouseState=Object.create(null),this._ready=!1,this._eventBus=E,this._sandboxBundleSrc=A,this._scriptingFactory=F,this._docPropertiesLookup=X,this._scriptingFactory||window.addEventListener("updatefromsandbox",N=>{this._eventBus.dispatch("updatefromsandbox",{source:window,detail:N.detail})})}setViewer(E){this._pdfViewer=E}setDocument(E){var A=this;return B(function*(){if(A._pdfDocument&&(yield A._destroyScripting()),A._pdfDocument=E,!E)return;const[F,X,N]=yield Promise.all([E.getFieldObjects(),E.getCalculationOrderIds(),E.getJSActions()]);if(F||N){if(E===A._pdfDocument){try{A._scripting=A._createScripting()}catch(J){return console.error(`PDFScriptingManager.setDocument: "${J?.message}".`),void(yield A._destroyScripting())}A._internalEvents.set("updatefromsandbox",J=>{J?.source===window&&A._updateFromSandbox(J.detail)}),A._internalEvents.set("dispatcheventinsandbox",J=>{A._scripting?.dispatchEventInSandbox(J.detail)}),A._internalEvents.set("pagechanging",({pageNumber:J,previous:G})=>{J!==G&&(A._dispatchPageClose(G),A._dispatchPageOpen(J))}),A._internalEvents.set("pagerendered",({pageNumber:J})=>{!A._pageOpenPending.has(J)||J===A._pdfViewer.currentPageNumber&&A._dispatchPageOpen(J)}),A._internalEvents.set("pagesdestroy",function(){var J=B(function*(G){yield A._dispatchPageClose(A._pdfViewer.currentPageNumber),yield A._scripting?.dispatchEventInSandbox({id:"doc",name:"WillClose"}),A._closeCapability?.resolve()});return function(G){return J.apply(this,arguments)}}()),A._domEvents.set("mousedown",J=>{A._mouseState.isDown=!0}),A._domEvents.set("mouseup",J=>{A._mouseState.isDown=!1});for(const[J,G]of A._internalEvents)A._eventBus._on(J,G);for(const[J,G]of A._domEvents)window.addEventListener(J,G,!0);try{const J=yield A._getDocProperties();if(E!==A._pdfDocument)return;yield A._scripting.createSandbox({objects:F,calculationOrder:X,appInfo:{platform:navigator.platform,language:navigator.language},docInfo:{...J,actions:N}}),A._eventBus.dispatch("sandboxcreated",{source:A})}catch(J){return console.error(`PDFScriptingManager.setDocument: "${J?.message}".`),void(yield A._destroyScripting())}yield A._scripting?.dispatchEventInSandbox({id:"doc",name:"Open"}),yield A._dispatchPageOpen(A._pdfViewer.currentPageNumber,!0),Promise.resolve().then(()=>{E===A._pdfDocument&&(A._ready=!0)})}}else yield A._destroyScripting()})()}dispatchWillSave(E){var A=this;return B(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"WillSave"})})()}dispatchDidSave(E){var A=this;return B(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"DidSave"})})()}dispatchWillPrint(E){var A=this;return B(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"WillPrint"})})()}dispatchDidPrint(E){var A=this;return B(function*(){return A._scripting?.dispatchEventInSandbox({id:"doc",name:"DidPrint"})})()}get mouseState(){return this._mouseState}get destroyPromise(){return this._destroyCapability?.promise||null}get ready(){return this._ready}get _internalEvents(){return(0,fe.shadow)(this,"_internalEvents",new Map)}get _domEvents(){return(0,fe.shadow)(this,"_domEvents",new Map)}get _pageOpenPending(){return(0,fe.shadow)(this,"_pageOpenPending",new Set)}get _visitedPages(){return(0,fe.shadow)(this,"_visitedPages",new Map)}_updateFromSandbox(E){var A=this;return B(function*(){const F=A._pdfViewer.isInPresentationMode||A._pdfViewer.isChangingPresentationMode,{id:X,siblings:N,command:J,value:G}=E;if(!X){switch(J){case"clear":console.clear();break;case"error":console.error(G);break;case"layout":if(F)return;const oe=(0,q.apiPageLayoutToViewerModes)(G);A._pdfViewer.spreadMode=oe.spreadMode;break;case"page-num":A._pdfViewer.currentPageNumber=G+1;break;case"print":yield A._pdfViewer.pagesPromise,A._eventBus.dispatch("print",{source:A});break;case"println":console.log(G);break;case"zoom":if(F)return;A._pdfViewer.currentScaleValue=G;break;case"SaveAs":A._eventBus.dispatch("save",{source:A});break;case"FirstPage":A._pdfViewer.currentPageNumber=1;break;case"LastPage":A._pdfViewer.currentPageNumber=A._pdfViewer.pagesCount;break;case"NextPage":A._pdfViewer.nextPage();break;case"PrevPage":A._pdfViewer.previousPage();break;case"ZoomViewIn":if(F)return;A._pdfViewer.increaseScale();break;case"ZoomViewOut":if(F)return;A._pdfViewer.decreaseScale()}return}if(F&&E.focus)return;delete E.id,delete E.siblings;const S=N?[X,...N]:[X];for(const oe of S){const W=document.getElementById(oe);W?W.dispatchEvent(new CustomEvent("updatefromsandbox",{detail:E})):A._pdfDocument?.annotationStorage.setValue(oe,E)}})()}_dispatchPageOpen(E,A=!1){var F=this;return B(function*(){const X=F._pdfDocument,N=F._visitedPages;if(A&&(F._closeCapability=(0,fe.createPromiseCapability)()),!F._closeCapability)return;const J=F._pdfViewer.getPageView(E-1);if(J?.renderingState!==q.RenderingStates.FINISHED)return void F._pageOpenPending.add(E);F._pageOpenPending.delete(E);const G=B(function*(){const S=yield N.has(E)?null:J.pdfPage?.getJSActions();X===F._pdfDocument&&(yield F._scripting?.dispatchEventInSandbox({id:"page",name:"PageOpen",pageNumber:E,actions:S}))})();N.set(E,G)})()}_dispatchPageClose(E){var A=this;return B(function*(){const F=A._pdfDocument,X=A._visitedPages;if(!A._closeCapability||A._pageOpenPending.has(E))return;const N=X.get(E);!N||(X.set(E,null),yield N,F===A._pdfDocument&&(yield A._scripting?.dispatchEventInSandbox({id:"page",name:"PageClose",pageNumber:E})))})()}_getDocProperties(){var E=this;return B(function*(){if(E._docPropertiesLookup)return E._docPropertiesLookup(E._pdfDocument);const{docPropertiesLookup:A}=ae(24);return A(E._pdfDocument)})()}_createScripting(){if(this._destroyCapability=(0,fe.createPromiseCapability)(),this._scripting)throw new Error("_createScripting: Scripting already exists.");if(this._scriptingFactory)return this._scriptingFactory.createScripting({sandboxBundleSrc:this._sandboxBundleSrc});const{GenericScripting:E}=ae(24);return new E(this._sandboxBundleSrc)}_destroyScripting(){var E=this;return B(function*(){if(!E._scripting)return E._pdfDocument=null,void E._destroyCapability?.resolve();E._closeCapability&&(yield Promise.race([E._closeCapability.promise,new Promise(A=>{setTimeout(A,1e3)})]).catch(A=>{}),E._closeCapability=null),E._pdfDocument=null;try{yield E._scripting.destroySandbox()}catch{}for(const[A,F]of E._internalEvents)E._eventBus._off(A,F);E._internalEvents.clear();for(const[A,F]of E._domEvents)window.removeEventListener(A,F,!0);E._domEvents.clear(),E._pageOpenPending.clear(),E._visitedPages.clear(),E._scripting=null,delete E._mouseState.isDown,E._ready=!1,E._destroyCapability?.resolve()})()}}},(se,$,ae)=>{Object.defineProperty($,"__esModule",{value:!0}),$.GenericScripting=void 0,$.docPropertiesLookup=function fe(E){return z.apply(this,arguments)};var q=ae(3);function z(){return(z=B(function*(E){const F="".split("#")[0];let{info:X,metadata:N,contentDispositionFilename:J,contentLength:G}=yield E.getMetadata();if(!G){const{length:S}=yield E.getDownloadInfo();G=S}return{...X,baseURL:F,filesize:G,filename:J||(0,q.getPdfFilenameFromUrl)(""),metadata:N?.getRaw(),authors:N?.get("dc:creator"),numPages:E.numPages,URL:""}})).apply(this,arguments)}$.GenericScripting=class K{constructor(A){this._ready=(0,q.loadScript)(A,!0).then(()=>window.pdfjsSandbox.QuickJSSandbox())}createSandbox(A){var F=this;return B(function*(){(yield F._ready).create(A)})()}dispatchEventInSandbox(A){var F=this;return B(function*(){const X=yield F._ready;setTimeout(()=>X.dispatchEvent(A),0)})()}destroySandbox(){var A=this;return B(function*(){(yield A._ready).nukeSandbox()})()}}}],he={};function ee(se){var $=he[se];if(void 0!==$)return $.exports;var ae=he[se]={exports:{}};return ce[se](ae,ae.exports,ee),ae.exports}var Y={};return(()=>{var se=Y;Object.defineProperty(se,"__esModule",{value:!0}),Object.defineProperty(se,"AnnotationLayerBuilder",{enumerable:!0,get:function(){return z.AnnotationLayerBuilder}}),Object.defineProperty(se,"DefaultAnnotationLayerFactory",{enumerable:!0,get:function(){return $.DefaultAnnotationLayerFactory}}),Object.defineProperty(se,"DefaultStructTreeLayerFactory",{enumerable:!0,get:function(){return $.DefaultStructTreeLayerFactory}}),Object.defineProperty(se,"DefaultTextLayerFactory",{enumerable:!0,get:function(){return $.DefaultTextLayerFactory}}),Object.defineProperty(se,"DefaultXfaLayerFactory",{enumerable:!0,get:function(){return $.DefaultXfaLayerFactory}}),Object.defineProperty(se,"DownloadManager",{enumerable:!0,get:function(){return K.DownloadManager}}),Object.defineProperty(se,"EventBus",{enumerable:!0,get:function(){return E.EventBus}}),Object.defineProperty(se,"GenericL10n",{enumerable:!0,get:function(){return A.GenericL10n}}),Object.defineProperty(se,"LinkTarget",{enumerable:!0,get:function(){return ae.LinkTarget}}),Object.defineProperty(se,"NullL10n",{enumerable:!0,get:function(){return F.NullL10n}}),Object.defineProperty(se,"PDFFindController",{enumerable:!0,get:function(){return X.PDFFindController}}),Object.defineProperty(se,"PDFHistory",{enumerable:!0,get:function(){return N.PDFHistory}}),Object.defineProperty(se,"PDFLinkService",{enumerable:!0,get:function(){return ae.PDFLinkService}}),Object.defineProperty(se,"PDFPageView",{enumerable:!0,get:function(){return J.PDFPageView}}),Object.defineProperty(se,"PDFScriptingManager",{enumerable:!0,get:function(){return G.PDFScriptingManager}}),Object.defineProperty(se,"PDFSinglePageViewer",{enumerable:!0,get:function(){return fe.PDFSinglePageViewer}}),Object.defineProperty(se,"PDFViewer",{enumerable:!0,get:function(){return fe.PDFViewer}}),Object.defineProperty(se,"ProgressBar",{enumerable:!0,get:function(){return q.ProgressBar}}),Object.defineProperty(se,"SimpleLinkService",{enumerable:!0,get:function(){return ae.SimpleLinkService}}),Object.defineProperty(se,"StructTreeLayerBuilder",{enumerable:!0,get:function(){return S.StructTreeLayerBuilder}}),Object.defineProperty(se,"TextLayerBuilder",{enumerable:!0,get:function(){return oe.TextLayerBuilder}}),Object.defineProperty(se,"XfaLayerBuilder",{enumerable:!0,get:function(){return W.XfaLayerBuilder}}),Object.defineProperty(se,"parseQueryString",{enumerable:!0,get:function(){return q.parseQueryString}});var $=ee(1),ae=ee(5),q=ee(6),fe=ee(10),z=ee(2),K=ee(16),E=ee(17),A=ee(18),F=ee(4),X=ee(20),N=ee(22),J=ee(12),G=ee(23),S=ee(7),oe=ee(8),W=ee(9)})(),Y})(),Ie.exports=ee()},9751:(Ie,x,R)=>{"use strict";R.d(x,{y:()=>ce});var s=R(930),te=R(727),O=R(8822),pe=R(9635),ie=R(2416),re=R(576),B=R(2806);let ce=(()=>{class se{constructor(ae){ae&&(this._subscribe=ae)}lift(ae){const q=new se;return q.source=this,q.operator=ae,q}subscribe(ae,q,fe){const z=function Y(se){return se&&se instanceof s.Lv||function ee(se){return se&&(0,re.m)(se.next)&&(0,re.m)(se.error)&&(0,re.m)(se.complete)}(se)&&(0,te.Nn)(se)}(ae)?ae:new s.Hp(ae,q,fe);return(0,B.x)(()=>{const{operator:K,source:E}=this;z.add(K?K.call(z,E):E?this._subscribe(z):this._trySubscribe(z))}),z}_trySubscribe(ae){try{return this._subscribe(ae)}catch(q){ae.error(q)}}forEach(ae,q){return new(q=he(q))((fe,z)=>{const K=new s.Hp({next:E=>{try{ae(E)}catch(A){z(A),K.unsubscribe()}},error:z,complete:fe});this.subscribe(K)})}_subscribe(ae){var q;return null===(q=this.source)||void 0===q?void 0:q.subscribe(ae)}[O.L](){return this}pipe(...ae){return(0,pe.U)(ae)(this)}toPromise(ae){return new(ae=he(ae))((q,fe)=>{let z;this.subscribe(K=>z=K,K=>fe(K),()=>q(z))})}}return se.create=$=>new se($),se})();function he(se){var $;return null!==($=se??ie.v.Promise)&&void 0!==$?$:Promise}},7579:(Ie,x,R)=>{"use strict";R.d(x,{x:()=>B});var s=R(9751),te=R(727);const pe=(0,R(3888).d)(he=>function(){he(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ie=R(8737),re=R(2806);let B=(()=>{class he extends s.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(Y){const se=new ce(this,this);return se.operator=Y,se}_throwIfClosed(){if(this.closed)throw new pe}next(Y){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const se of this.currentObservers)se.next(Y)}})}error(Y){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=Y;const{observers:se}=this;for(;se.length;)se.shift().error(Y)}})}complete(){(0,re.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:Y}=this;for(;Y.length;)Y.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var Y;return(null===(Y=this.observers)||void 0===Y?void 0:Y.length)>0}_trySubscribe(Y){return this._throwIfClosed(),super._trySubscribe(Y)}_subscribe(Y){return this._throwIfClosed(),this._checkFinalizedStatuses(Y),this._innerSubscribe(Y)}_innerSubscribe(Y){const{hasError:se,isStopped:$,observers:ae}=this;return se||$?te.Lc:(this.currentObservers=null,ae.push(Y),new te.w0(()=>{this.currentObservers=null,(0,ie.P)(ae,Y)}))}_checkFinalizedStatuses(Y){const{hasError:se,thrownError:$,isStopped:ae}=this;se?Y.error($):ae&&Y.complete()}asObservable(){const Y=new s.y;return Y.source=this,Y}}return he.create=(ee,Y)=>new ce(ee,Y),he})();class ce extends B{constructor(ee,Y){super(),this.destination=ee,this.source=Y}next(ee){var Y,se;null===(se=null===(Y=this.destination)||void 0===Y?void 0:Y.next)||void 0===se||se.call(Y,ee)}error(ee){var Y,se;null===(se=null===(Y=this.destination)||void 0===Y?void 0:Y.error)||void 0===se||se.call(Y,ee)}complete(){var ee,Y;null===(Y=null===(ee=this.destination)||void 0===ee?void 0:ee.complete)||void 0===Y||Y.call(ee)}_subscribe(ee){var Y,se;return null!==(se=null===(Y=this.source)||void 0===Y?void 0:Y.subscribe(ee))&&void 0!==se?se:te.Lc}}},930:(Ie,x,R)=>{"use strict";R.d(x,{Hp:()=>fe,Lv:()=>se});var s=R(576),te=R(727),O=R(2416),pe=R(7849),ie=R(5032);const re=he("C",void 0,void 0);function he(F,X,N){return{kind:F,value:X,error:N}}var ee=R(3410),Y=R(2806);class se extends te.w0{constructor(X){super(),this.isStopped=!1,X?(this.destination=X,(0,te.Nn)(X)&&X.add(this)):this.destination=A}static create(X,N,J){return new fe(X,N,J)}next(X){this.isStopped?E(function ce(F){return he("N",F,void 0)}(X),this):this._next(X)}error(X){this.isStopped?E(function B(F){return he("E",void 0,F)}(X),this):(this.isStopped=!0,this._error(X))}complete(){this.isStopped?E(re,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(X){this.destination.next(X)}_error(X){try{this.destination.error(X)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $=Function.prototype.bind;function ae(F,X){return $.call(F,X)}class q{constructor(X){this.partialObserver=X}next(X){const{partialObserver:N}=this;if(N.next)try{N.next(X)}catch(J){z(J)}}error(X){const{partialObserver:N}=this;if(N.error)try{N.error(X)}catch(J){z(J)}else z(X)}complete(){const{partialObserver:X}=this;if(X.complete)try{X.complete()}catch(N){z(N)}}}class fe extends se{constructor(X,N,J){let G;if(super(),(0,s.m)(X)||!X)G={next:X??void 0,error:N??void 0,complete:J??void 0};else{let S;this&&O.v.useDeprecatedNextContext?(S=Object.create(X),S.unsubscribe=()=>this.unsubscribe(),G={next:X.next&&ae(X.next,S),error:X.error&&ae(X.error,S),complete:X.complete&&ae(X.complete,S)}):G=X}this.destination=new q(G)}}function z(F){O.v.useDeprecatedSynchronousErrorHandling?(0,Y.O)(F):(0,pe.h)(F)}function E(F,X){const{onStoppedNotification:N}=O.v;N&&ee.z.setTimeout(()=>N(F,X))}const A={closed:!0,next:ie.Z,error:function K(F){throw F},complete:ie.Z}},727:(Ie,x,R)=>{"use strict";R.d(x,{Lc:()=>re,w0:()=>ie,Nn:()=>B});var s=R(576);const O=(0,R(3888).d)(he=>function(Y){he(this),this.message=Y?`${Y.length} errors occurred during unsubscription:\n${Y.map((se,$)=>`${$+1}) ${se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Y});var pe=R(8737);class ie{constructor(ee){this.initialTeardown=ee,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let ee;if(!this.closed){this.closed=!0;const{_parentage:Y}=this;if(Y)if(this._parentage=null,Array.isArray(Y))for(const ae of Y)ae.remove(this);else Y.remove(this);const{initialTeardown:se}=this;if((0,s.m)(se))try{se()}catch(ae){ee=ae instanceof O?ae.errors:[ae]}const{_finalizers:$}=this;if($){this._finalizers=null;for(const ae of $)try{ce(ae)}catch(q){ee=ee??[],q instanceof O?ee=[...ee,...q.errors]:ee.push(q)}}if(ee)throw new O(ee)}}add(ee){var Y;if(ee&&ee!==this)if(this.closed)ce(ee);else{if(ee instanceof ie){if(ee.closed||ee._hasParent(this))return;ee._addParent(this)}(this._finalizers=null!==(Y=this._finalizers)&&void 0!==Y?Y:[]).push(ee)}}_hasParent(ee){const{_parentage:Y}=this;return Y===ee||Array.isArray(Y)&&Y.includes(ee)}_addParent(ee){const{_parentage:Y}=this;this._parentage=Array.isArray(Y)?(Y.push(ee),Y):Y?[Y,ee]:ee}_removeParent(ee){const{_parentage:Y}=this;Y===ee?this._parentage=null:Array.isArray(Y)&&(0,pe.P)(Y,ee)}remove(ee){const{_finalizers:Y}=this;Y&&(0,pe.P)(Y,ee),ee instanceof ie&&ee._removeParent(this)}}ie.EMPTY=(()=>{const he=new ie;return he.closed=!0,he})();const re=ie.EMPTY;function B(he){return he instanceof ie||he&&"closed"in he&&(0,s.m)(he.remove)&&(0,s.m)(he.add)&&(0,s.m)(he.unsubscribe)}function ce(he){(0,s.m)(he)?he():he.unsubscribe()}},2416:(Ie,x,R)=>{"use strict";R.d(x,{v:()=>s});const s={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Ie,x,R)=>{"use strict";R.d(x,{E:()=>te});const te=new(R(9751).y)(ie=>ie.complete())},8996:(Ie,x,R)=>{"use strict";R.d(x,{D:()=>X});var s=R(8421),te=R(5363),O=R(9468),re=R(9751),ce=R(2202),he=R(576),ee=R(9672);function se(N,J){if(!N)throw new Error("Iterable cannot be null");return new re.y(G=>{(0,ee.f)(G,J,()=>{const S=N[Symbol.asyncIterator]();(0,ee.f)(G,J,()=>{S.next().then(oe=>{oe.done?G.complete():G.next(oe.value)})},0,!0)})})}var $=R(3670),ae=R(8239),q=R(1144),fe=R(6495),z=R(2206),K=R(4532),E=R(3260);function X(N,J){return J?function F(N,J){if(null!=N){if((0,$.c)(N))return function pe(N,J){return(0,s.Xf)(N).pipe((0,O.R)(J),(0,te.Q)(J))}(N,J);if((0,q.z)(N))return function B(N,J){return new re.y(G=>{let S=0;return J.schedule(function(){S===N.length?G.complete():(G.next(N[S++]),G.closed||this.schedule())})})}(N,J);if((0,ae.t)(N))return function ie(N,J){return(0,s.Xf)(N).pipe((0,O.R)(J),(0,te.Q)(J))}(N,J);if((0,z.D)(N))return se(N,J);if((0,fe.T)(N))return function Y(N,J){return new re.y(G=>{let S;return(0,ee.f)(G,J,()=>{S=N[ce.h](),(0,ee.f)(G,J,()=>{let oe,W;try{({value:oe,done:W}=S.next())}catch(le){return void G.error(le)}W?G.complete():G.next(oe)},0,!0)}),()=>(0,he.m)(S?.return)&&S.return()})}(N,J);if((0,E.L)(N))return function A(N,J){return se((0,E.Q)(N),J)}(N,J)}throw(0,K.z)(N)}(N,J):(0,s.Xf)(N)}},8421:(Ie,x,R)=>{"use strict";R.d(x,{Xf:()=>$});var s=R(655),te=R(1144),O=R(8239),pe=R(9751),ie=R(3670),re=R(2206),B=R(4532),ce=R(6495),he=R(3260),ee=R(576),Y=R(7849),se=R(8822);function $(F){if(F instanceof pe.y)return F;if(null!=F){if((0,ie.c)(F))return function ae(F){return new pe.y(X=>{const N=F[se.L]();if((0,ee.m)(N.subscribe))return N.subscribe(X);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(F);if((0,te.z)(F))return function q(F){return new pe.y(X=>{for(let N=0;N<F.length&&!X.closed;N++)X.next(F[N]);X.complete()})}(F);if((0,O.t)(F))return function fe(F){return new pe.y(X=>{F.then(N=>{X.closed||(X.next(N),X.complete())},N=>X.error(N)).then(null,Y.h)})}(F);if((0,re.D)(F))return K(F);if((0,ce.T)(F))return function z(F){return new pe.y(X=>{for(const N of F)if(X.next(N),X.closed)return;X.complete()})}(F);if((0,he.L)(F))return function E(F){return K((0,he.Q)(F))}(F)}throw(0,B.z)(F)}function K(F){return new pe.y(X=>{(function A(F,X){var N,J,G,S;return(0,s.mG)(this,void 0,void 0,function*(){try{for(N=(0,s.KL)(F);!(J=yield N.next()).done;)if(X.next(J.value),X.closed)return}catch(oe){G={error:oe}}finally{try{J&&!J.done&&(S=N.return)&&(yield S.call(N))}finally{if(G)throw G.error}}X.complete()})})(F,X).catch(N=>X.error(N))})}},6451:(Ie,x,R)=>{"use strict";R.d(x,{T:()=>re});var s=R(8189),te=R(8421),O=R(515),pe=R(3269),ie=R(8996);function re(...B){const ce=(0,pe.yG)(B),he=(0,pe._6)(B,1/0),ee=B;return ee.length?1===ee.length?(0,te.Xf)(ee[0]):(0,s.J)(he)((0,ie.D)(ee,ce)):O.E}},5403:(Ie,x,R)=>{"use strict";R.d(x,{x:()=>te});var s=R(930);function te(pe,ie,re,B,ce){return new O(pe,ie,re,B,ce)}class O extends s.Lv{constructor(ie,re,B,ce,he,ee){super(ie),this.onFinalize=he,this.shouldUnsubscribe=ee,this._next=re?function(Y){try{re(Y)}catch(se){ie.error(se)}}:super._next,this._error=ce?function(Y){try{ce(Y)}catch(se){ie.error(se)}finally{this.unsubscribe()}}:super._error,this._complete=B?function(){try{B()}catch(Y){ie.error(Y)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ie;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:re}=this;super.unsubscribe(),!re&&(null===(ie=this.onFinalize)||void 0===ie||ie.call(this))}}}},4004:(Ie,x,R)=>{"use strict";R.d(x,{U:()=>O});var s=R(4482),te=R(5403);function O(pe,ie){return(0,s.e)((re,B)=>{let ce=0;re.subscribe((0,te.x)(B,he=>{B.next(pe.call(ie,he,ce++))}))})}},8189:(Ie,x,R)=>{"use strict";R.d(x,{J:()=>O});var s=R(5577),te=R(4671);function O(pe=1/0){return(0,s.z)(te.y,pe)}},5577:(Ie,x,R)=>{"use strict";R.d(x,{z:()=>ce});var s=R(4004),te=R(8421),O=R(4482),pe=R(9672),ie=R(5403),B=R(576);function ce(he,ee,Y=1/0){return(0,B.m)(ee)?ce((se,$)=>(0,s.U)((ae,q)=>ee(se,ae,$,q))((0,te.Xf)(he(se,$))),Y):("number"==typeof ee&&(Y=ee),(0,O.e)((se,$)=>function re(he,ee,Y,se,$,ae,q,fe){const z=[];let K=0,E=0,A=!1;const F=()=>{A&&!z.length&&!K&&ee.complete()},X=J=>K<se?N(J):z.push(J),N=J=>{ae&&ee.next(J),K++;let G=!1;(0,te.Xf)(Y(J,E++)).subscribe((0,ie.x)(ee,S=>{$?.(S),ae?X(S):ee.next(S)},()=>{G=!0},void 0,()=>{if(G)try{for(K--;z.length&&K<se;){const S=z.shift();q?(0,pe.f)(ee,q,()=>N(S)):N(S)}F()}catch(S){ee.error(S)}}))};return he.subscribe((0,ie.x)(ee,X,()=>{A=!0,F()})),()=>{fe?.()}}(se,$,he,Y)))}},5363:(Ie,x,R)=>{"use strict";R.d(x,{Q:()=>pe});var s=R(9672),te=R(4482),O=R(5403);function pe(ie,re=0){return(0,te.e)((B,ce)=>{B.subscribe((0,O.x)(ce,he=>(0,s.f)(ce,ie,()=>ce.next(he),re),()=>(0,s.f)(ce,ie,()=>ce.complete(),re),he=>(0,s.f)(ce,ie,()=>ce.error(he),re)))})}},3099:(Ie,x,R)=>{"use strict";R.d(x,{B:()=>ie});var s=R(8421),te=R(7579),O=R(930),pe=R(4482);function ie(B={}){const{connector:ce=(()=>new te.x),resetOnError:he=!0,resetOnComplete:ee=!0,resetOnRefCountZero:Y=!0}=B;return se=>{let $,ae,q,fe=0,z=!1,K=!1;const E=()=>{ae?.unsubscribe(),ae=void 0},A=()=>{E(),$=q=void 0,z=K=!1},F=()=>{const X=$;A(),X?.unsubscribe()};return(0,pe.e)((X,N)=>{fe++,!K&&!z&&E();const J=q=q??ce();N.add(()=>{fe--,0===fe&&!K&&!z&&(ae=re(F,Y))}),J.subscribe(N),!$&&fe>0&&($=new O.Hp({next:G=>J.next(G),error:G=>{K=!0,E(),ae=re(A,he,G),J.error(G)},complete:()=>{z=!0,E(),ae=re(A,ee),J.complete()}}),(0,s.Xf)(X).subscribe($))})(se)}}function re(B,ce,...he){if(!0===ce)return void B();if(!1===ce)return;const ee=new O.Hp({next:()=>{ee.unsubscribe(),B()}});return ce(...he).subscribe(ee)}},9468:(Ie,x,R)=>{"use strict";R.d(x,{R:()=>te});var s=R(4482);function te(O,pe=0){return(0,s.e)((ie,re)=>{re.add(O.schedule(()=>ie.subscribe(re),pe))})}},8505:(Ie,x,R)=>{"use strict";R.d(x,{b:()=>ie});var s=R(576),te=R(4482),O=R(5403),pe=R(4671);function ie(re,B,ce){const he=(0,s.m)(re)||B||ce?{next:re,error:B,complete:ce}:re;return he?(0,te.e)((ee,Y)=>{var se;null===(se=he.subscribe)||void 0===se||se.call(he);let $=!0;ee.subscribe((0,O.x)(Y,ae=>{var q;null===(q=he.next)||void 0===q||q.call(he,ae),Y.next(ae)},()=>{var ae;$=!1,null===(ae=he.complete)||void 0===ae||ae.call(he),Y.complete()},ae=>{var q;$=!1,null===(q=he.error)||void 0===q||q.call(he,ae),Y.error(ae)},()=>{var ae,q;$&&(null===(ae=he.unsubscribe)||void 0===ae||ae.call(he)),null===(q=he.finalize)||void 0===q||q.call(he)}))}):pe.y}},4408:(Ie,x,R)=>{"use strict";R.d(x,{o:()=>ie});var s=R(727);class te extends s.w0{constructor(B,ce){super()}schedule(B,ce=0){return this}}const O={setInterval(re,B,...ce){const{delegate:he}=O;return he?.setInterval?he.setInterval(re,B,...ce):setInterval(re,B,...ce)},clearInterval(re){const{delegate:B}=O;return(B?.clearInterval||clearInterval)(re)},delegate:void 0};var pe=R(8737);class ie extends te{constructor(B,ce){super(B,ce),this.scheduler=B,this.work=ce,this.pending=!1}schedule(B,ce=0){if(this.closed)return this;this.state=B;const he=this.id,ee=this.scheduler;return null!=he&&(this.id=this.recycleAsyncId(ee,he,ce)),this.pending=!0,this.delay=ce,this.id=this.id||this.requestAsyncId(ee,this.id,ce),this}requestAsyncId(B,ce,he=0){return O.setInterval(B.flush.bind(B,this),he)}recycleAsyncId(B,ce,he=0){if(null!=he&&this.delay===he&&!1===this.pending)return ce;O.clearInterval(ce)}execute(B,ce){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const he=this._execute(B,ce);if(he)return he;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(B,ce){let ee,he=!1;try{this.work(B)}catch(Y){he=!0,ee=Y||new Error("Scheduled action threw falsy error")}if(he)return this.unsubscribe(),ee}unsubscribe(){if(!this.closed){const{id:B,scheduler:ce}=this,{actions:he}=ce;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(he,this),null!=B&&(this.id=this.recycleAsyncId(ce,B,null)),this.delay=null,super.unsubscribe()}}}},7565:(Ie,x,R)=>{"use strict";R.d(x,{v:()=>O});var s=R(6063);class te{constructor(ie,re=te.now){this.schedulerActionCtor=ie,this.now=re}schedule(ie,re=0,B){return new this.schedulerActionCtor(this,ie).schedule(B,re)}}te.now=s.l.now;class O extends te{constructor(ie,re=te.now){super(ie,re),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ie){const{actions:re}=this;if(this._active)return void re.push(ie);let B;this._active=!0;do{if(B=ie.execute(ie.state,ie.delay))break}while(ie=re.shift());if(this._active=!1,B){for(;ie=re.shift();)ie.unsubscribe();throw B}}}},4986:(Ie,x,R)=>{"use strict";R.d(x,{P:()=>pe,z:()=>O});var s=R(4408);const O=new(R(7565).v)(s.o),pe=O},6063:(Ie,x,R)=>{"use strict";R.d(x,{l:()=>s});const s={now:()=>(s.delegate||Date).now(),delegate:void 0}},3410:(Ie,x,R)=>{"use strict";R.d(x,{z:()=>s});const s={setTimeout(te,O,...pe){const{delegate:ie}=s;return ie?.setTimeout?ie.setTimeout(te,O,...pe):setTimeout(te,O,...pe)},clearTimeout(te){const{delegate:O}=s;return(O?.clearTimeout||clearTimeout)(te)},delegate:void 0}},2202:(Ie,x,R)=>{"use strict";R.d(x,{h:()=>te});const te=function s(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Ie,x,R)=>{"use strict";R.d(x,{L:()=>s});const s="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Ie,x,R)=>{"use strict";R.d(x,{_6:()=>re,jO:()=>pe,yG:()=>ie});var s=R(576),te=R(3532);function O(B){return B[B.length-1]}function pe(B){return(0,s.m)(O(B))?B.pop():void 0}function ie(B){return(0,te.K)(O(B))?B.pop():void 0}function re(B,ce){return"number"==typeof O(B)?B.pop():ce}},8737:(Ie,x,R)=>{"use strict";function s(te,O){if(te){const pe=te.indexOf(O);0<=pe&&te.splice(pe,1)}}R.d(x,{P:()=>s})},3888:(Ie,x,R)=>{"use strict";function s(te){const pe=te(ie=>{Error.call(ie),ie.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}R.d(x,{d:()=>s})},2806:(Ie,x,R)=>{"use strict";R.d(x,{O:()=>pe,x:()=>O});var s=R(2416);let te=null;function O(ie){if(s.v.useDeprecatedSynchronousErrorHandling){const re=!te;if(re&&(te={errorThrown:!1,error:null}),ie(),re){const{errorThrown:B,error:ce}=te;if(te=null,B)throw ce}}else ie()}function pe(ie){s.v.useDeprecatedSynchronousErrorHandling&&te&&(te.errorThrown=!0,te.error=ie)}},9672:(Ie,x,R)=>{"use strict";function s(te,O,pe,ie=0,re=!1){const B=O.schedule(function(){pe(),re?te.add(this.schedule(null,ie)):this.unsubscribe()},ie);if(te.add(B),!re)return B}R.d(x,{f:()=>s})},4671:(Ie,x,R)=>{"use strict";function s(te){return te}R.d(x,{y:()=>s})},1144:(Ie,x,R)=>{"use strict";R.d(x,{z:()=>s});const s=te=>te&&"number"==typeof te.length&&"function"!=typeof te},2206:(Ie,x,R)=>{"use strict";R.d(x,{D:()=>te});var s=R(576);function te(O){return Symbol.asyncIterator&&(0,s.m)(O?.[Symbol.asyncIterator])}},576:(Ie,x,R)=>{"use strict";function s(te){return"function"==typeof te}R.d(x,{m:()=>s})},3670:(Ie,x,R)=>{"use strict";R.d(x,{c:()=>O});var s=R(8822),te=R(576);function O(pe){return(0,te.m)(pe[s.L])}},6495:(Ie,x,R)=>{"use strict";R.d(x,{T:()=>O});var s=R(2202),te=R(576);function O(pe){return(0,te.m)(pe?.[s.h])}},8239:(Ie,x,R)=>{"use strict";R.d(x,{t:()=>te});var s=R(576);function te(O){return(0,s.m)(O?.then)}},3260:(Ie,x,R)=>{"use strict";R.d(x,{L:()=>pe,Q:()=>O});var s=R(655),te=R(576);function O(ie){return(0,s.FC)(this,arguments,function*(){const B=ie.getReader();try{for(;;){const{value:ce,done:he}=yield(0,s.qq)(B.read());if(he)return yield(0,s.qq)(void 0);yield yield(0,s.qq)(ce)}}finally{B.releaseLock()}})}function pe(ie){return(0,te.m)(ie?.getReader)}},3532:(Ie,x,R)=>{"use strict";R.d(x,{K:()=>te});var s=R(576);function te(O){return O&&(0,s.m)(O.schedule)}},4482:(Ie,x,R)=>{"use strict";R.d(x,{A:()=>te,e:()=>O});var s=R(576);function te(pe){return(0,s.m)(pe?.lift)}function O(pe){return ie=>{if(te(ie))return ie.lift(function(re){try{return pe(re,this)}catch(B){this.error(B)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Ie,x,R)=>{"use strict";function s(){}R.d(x,{Z:()=>s})},9635:(Ie,x,R)=>{"use strict";R.d(x,{U:()=>O,z:()=>te});var s=R(4671);function te(...pe){return O(pe)}function O(pe){return 0===pe.length?s.y:1===pe.length?pe[0]:function(re){return pe.reduce((B,ce)=>ce(B),re)}}},7849:(Ie,x,R)=>{"use strict";R.d(x,{h:()=>O});var s=R(2416),te=R(3410);function O(pe){te.z.setTimeout(()=>{const{onUnhandledError:ie}=s.v;if(!ie)throw pe;ie(pe)})}},4532:(Ie,x,R)=>{"use strict";function s(te){return new TypeError(`You provided ${null!==te&&"object"==typeof te?"an invalid object":`'${te}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(x,{z:()=>s})},655:(Ie,x,R)=>{"use strict";function pe(W,le){var me={};for(var ye in W)Object.prototype.hasOwnProperty.call(W,ye)&&le.indexOf(ye)<0&&(me[ye]=W[ye]);if(null!=W&&"function"==typeof Object.getOwnPropertySymbols){var Re=0;for(ye=Object.getOwnPropertySymbols(W);Re<ye.length;Re++)le.indexOf(ye[Re])<0&&Object.prototype.propertyIsEnumerable.call(W,ye[Re])&&(me[ye[Re]]=W[ye[Re]])}return me}function ce(W,le,me,ye){return new(me||(me=Promise))(function(Ve,Xe){function it(b){try{I(ye.next(b))}catch(P){Xe(P)}}function ve(b){try{I(ye.throw(b))}catch(P){Xe(P)}}function I(b){b.done?Ve(b.value):function Re(Ve){return Ve instanceof me?Ve:new me(function(Xe){Xe(Ve)})}(b.value).then(it,ve)}I((ye=ye.apply(W,le||[])).next())})}function z(W){return this instanceof z?(this.v=W,this):new z(W)}function K(W,le,me){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Re,ye=me.apply(W,le||[]),Ve=[];return Re={},Xe("next"),Xe("throw"),Xe("return"),Re[Symbol.asyncIterator]=function(){return this},Re;function Xe(L){ye[L]&&(Re[L]=function(Q){return new Promise(function(ne,U){Ve.push([L,Q,ne,U])>1||it(L,Q)})})}function it(L,Q){try{!function ve(L){L.value instanceof z?Promise.resolve(L.value.v).then(I,b):P(Ve[0][2],L)}(ye[L](Q))}catch(ne){P(Ve[0][3],ne)}}function I(L){it("next",L)}function b(L){it("throw",L)}function P(L,Q){L(Q),Ve.shift(),Ve.length&&it(Ve[0][0],Ve[0][1])}}function A(W){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,le=W[Symbol.asyncIterator];return le?le.call(W):(W=function se(W){var le="function"==typeof Symbol&&Symbol.iterator,me=le&&W[le],ye=0;if(me)return me.call(W);if(W&&"number"==typeof W.length)return{next:function(){return W&&ye>=W.length&&(W=void 0),{value:W&&W[ye++],done:!W}}};throw new TypeError(le?"Object is not iterable.":"Symbol.iterator is not defined.")}(W),me={},ye("next"),ye("throw"),ye("return"),me[Symbol.asyncIterator]=function(){return this},me);function ye(Ve){me[Ve]=W[Ve]&&function(Xe){return new Promise(function(it,ve){!function Re(Ve,Xe,it,ve){Promise.resolve(ve).then(function(I){Ve({value:I,done:it})},Xe)}(it,ve,(Xe=W[Ve](Xe)).done,Xe.value)})}}}R.d(x,{FC:()=>K,KL:()=>A,_T:()=>pe,mG:()=>ce,qq:()=>z})},3414:()=>{},172:()=>{},2001:()=>{},3779:()=>{},6558:()=>{},2258:()=>{},7156:Ie=>{function x(s,te,O,pe,ie,re,B){try{var ce=s[re](B),he=ce.value}catch(ee){return void O(ee)}ce.done?te(he):Promise.resolve(he).then(pe,ie)}Ie.exports=function R(s){return function(){var te=this,O=arguments;return new Promise(function(pe,ie){var re=s.apply(te,O);function B(he){x(re,pe,ie,B,ce,"next",he)}function ce(he){x(re,pe,ie,B,ce,"throw",he)}B(void 0)})}},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},6521:Ie=>{Ie.exports=function x(R,s){if(s.has(R))throw new TypeError("Cannot initialize the same private elements twice on an object")},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},8912:Ie=>{Ie.exports=function x(R,s){return s.get?s.get.call(R):s.value},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},3448:Ie=>{Ie.exports=function x(R,s,te){if(s.set)s.set.call(R,te);else{if(!s.writable)throw new TypeError("attempted to set read only private field");s.value=te}},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},2625:Ie=>{Ie.exports=function x(R,s){if(R!==s)throw new TypeError("Private static access of wrong provenance")},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},2506:Ie=>{Ie.exports=function x(R,s){if(void 0===R)throw new TypeError("attempted to "+s+" private static field before its declaration")},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},4069:Ie=>{Ie.exports=function x(R,s,te){if(!s.has(R))throw new TypeError("attempted to "+te+" private field on non-instance");return s.get(R)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},468:(Ie,x,R)=>{var s=R(8912),te=R(4069);Ie.exports=function O(pe,ie){var re=te(pe,ie,"get");return s(pe,re)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},9159:(Ie,x,R)=>{var s=R(6521);Ie.exports=function te(O,pe,ie){s(O,pe),pe.set(O,ie)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},5661:(Ie,x,R)=>{var s=R(3448),te=R(4069);Ie.exports=function O(pe,ie,re){var B=te(pe,ie,"set");return s(pe,B,re),re},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},4467:Ie=>{Ie.exports=function x(R,s,te){if(!s.has(R))throw new TypeError("attempted to get private field on non-instance");return te},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},1860:(Ie,x,R)=>{var s=R(6521);Ie.exports=function te(O,pe){s(O,pe),pe.add(O)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},1280:(Ie,x,R)=>{var s=R(8912),te=R(2625),O=R(2506);Ie.exports=function pe(ie,re,B){return te(ie,re),O(B,"get"),s(ie,B)},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},2306:(Ie,x,R)=>{var s=R(3448),te=R(2625),O=R(2506);Ie.exports=function pe(ie,re,B,ce){return te(ie,re),O(B,"set"),s(ie,B,ce),ce},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},5764:(Ie,x,R)=>{var s=R(2625);Ie.exports=function te(O,pe,ie){return s(O,pe),ie},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},8416:Ie=>{Ie.exports=function x(R,s,te){return s in R?Object.defineProperty(R,s,{value:te,enumerable:!0,configurable:!0,writable:!0}):R[s]=te,R},Ie.exports.__esModule=!0,Ie.exports.default=Ie.exports},4650:(Ie,x,R)=>{"use strict";R.d(x,{$8M:()=>eo,$Z:()=>ES,AFp:()=>Rx,ALo:()=>BC,AaK:()=>ce,BQk:()=>zm,CHM:()=>ca,CRH:()=>wg,CZH:()=>Ag,CqO:()=>Tw,D6c:()=>co,EJc:()=>cD,EiD:()=>pu,EpF:()=>iT,F$t:()=>oT,F4k:()=>Sw,FYo:()=>en,FiY:()=>pt,G48:()=>tM,Gf:()=>px,GfV:()=>Td,Gpc:()=>Y,Hsn:()=>aT,Ikx:()=>qy,JOm:()=>Ho,JVY:()=>qp,KtG:()=>ua,L6k:()=>Yp,LAX:()=>I_,LFG:()=>ci,LSH:()=>hc,Lbi:()=>Sg,Lck:()=>AC,MAs:()=>tT,MMx:()=>uv,NdJ:()=>Fy,O4$:()=>Jc,OlP:()=>xn,Oqu:()=>Uy,PXZ:()=>Vv,Q6J:()=>Dw,QGY:()=>Df,QP$:()=>jf,QbO:()=>Nx,Qsj:()=>Ti,R0b:()=>Fs,RDi:()=>E_,Rgc:()=>_g,SBq:()=>Mt,Sil:()=>jx,Suo:()=>KC,TTD:()=>jr,TgZ:()=>jm,Udp:()=>Nw,VKq:()=>gv,W1O:()=>XC,WFA:()=>Ly,WLB:()=>LC,X6Q:()=>eM,XFs:()=>lt,Xpm:()=>De,Xts:()=>mu,Y36:()=>df,YKP:()=>EC,YNc:()=>eT,Yjl:()=>tn,Yz7:()=>Q,ZZ4:()=>qf,_Bn:()=>XT,_UZ:()=>Aw,_Vd:()=>_e,_c5:()=>ju,_uU:()=>zw,aQg:()=>PD,c2e:()=>Vx,cJS:()=>U,cg1:()=>Oa,d8E:()=>Yy,dDg:()=>_D,dqk:()=>xe,eBb:()=>M_,eFA:()=>CD,ekj:()=>qm,eoX:()=>Mg,f3M:()=>oc,g9A:()=>lD,h0i:()=>Ff,hGG:()=>Yf,hij:()=>Sf,iGM:()=>Iv,ifc:()=>ge,ip1:()=>kx,kL8:()=>jd,lG2:()=>On,lcZ:()=>jC,lqb:()=>Aa,lri:()=>mD,mCW:()=>lc,n5z:()=>Mo,n_E:()=>Vf,oAB:()=>Dt,oxw:()=>sT,pB0:()=>Kp,q3G:()=>wi,q4F:()=>Sa,qLn:()=>tf,qOj:()=>yw,qZA:()=>Hm,qzn:()=>Ca,rWj:()=>gD,sBO:()=>kg,sIi:()=>Ld,s_b:()=>Bf,soG:()=>zf,tb:()=>Yd,tp0:()=>Kt,uIk:()=>Tu,vHH:()=>q,vpe:()=>$o,wAp:()=>ln,xp6:()=>uS,ynx:()=>Gm,z2F:()=>Pg,z3N:()=>Bo,zSh:()=>Zh,zs3:()=>kd});var s=R(7579),te=R(727),O=R(9751),pe=R(6451),ie=R(3099);function re(o){for(let l in o)if(o[l]===re)return l;throw Error("Could not find renamed property on target object.")}function B(o,l){for(const c in l)l.hasOwnProperty(c)&&!o.hasOwnProperty(c)&&(o[c]=l[c])}function ce(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(ce).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const l=o.toString();if(null==l)return""+l;const c=l.indexOf("\n");return-1===c?l:l.substring(0,c)}function he(o,l){return null==o||""===o?null===l?"":l:null==l||""===l?o:o+" "+l}const ee=re({__forward_ref__:re});function Y(o){return o.__forward_ref__=Y,o.toString=function(){return ce(this())},o}function se(o){return $(o)?o():o}function $(o){return"function"==typeof o&&o.hasOwnProperty(ee)&&o.__forward_ref__===Y}class q extends Error{constructor(l,c){super(function fe(o,l){return`NG0${Math.abs(o)}${l?": "+l.trim():""}`}(l,c)),this.code=l}}function z(o){return"string"==typeof o?o:null==o?"":String(o)}function X(o,l){throw new q(-201,!1)}function ve(o,l){null==o&&function I(o,l,c,d){throw new Error(`ASSERTION ERROR: ${o}`+(null==d?"":` [Expected=> ${c} ${d} ${l} <=Actual]`))}(l,o,null,"!=")}function Q(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function U(o){return{providers:o.providers||[],imports:o.imports||[]}}function be(o){return je(o,Ye)||je(o,gt)}function je(o,l){return o.hasOwnProperty(l)?o[l]:null}function Be(o){return o&&(o.hasOwnProperty(Qe)||o.hasOwnProperty(Tt))?o[Qe]:null}const Ye=re({\u0275prov:re}),Qe=re({\u0275inj:re}),gt=re({ngInjectableDef:re}),Tt=re({ngInjectorDef:re});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let yt;function Rt(o){const l=yt;return yt=o,l}function Ot(o,l,c){const d=be(o);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&lt.Optional?null:void 0!==l?l:void X(ce(o))}function nt(o){return{toString:o}.toString()}var dt=(()=>((dt=dt||{})[dt.OnPush=0]="OnPush",dt[dt.Default=1]="Default",dt))(),ge=(()=>{return(o=ge||(ge={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",ge;var o})();const xe=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Ne={},we=[],Fe=re({\u0275cmp:re}),rt=re({\u0275dir:re}),vt=re({\u0275pipe:re}),Yt=re({\u0275mod:re}),Ke=re({\u0275fac:re}),Ee=re({__NG_ELEMENT_ID__:re});let Te=0;function De(o){return nt(()=>{const c=!0===o.standalone,d={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&o.dependencies||null,getStandaloneInjector:null,selectors:o.selectors||we,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||ge.Emulated,id:"c"+Te++,styles:o.styles||we,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.dependencies,v=o.features;return f.inputs=nn(o.inputs,d),f.outputs=nn(o.outputs),v&&v.forEach(D=>D(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(ke).filter(We):null,f.pipeDefs=m?()=>("function"==typeof m?m():m).map(Sn).filter(We):null,f})}function ke(o){return rn(o)||wn(o)}function We(o){return null!==o}const at={};function Dt(o){return nt(()=>{const l={type:o.type,bootstrap:o.bootstrap||we,declarations:o.declarations||we,imports:o.imports||we,exports:o.exports||we,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(at[o.id]=o.type),l})}function nn(o,l){if(null==o)return Ne;const c={};for(const d in o)if(o.hasOwnProperty(d)){let f=o[d],m=f;Array.isArray(f)&&(m=f[1],f=f[0]),c[f]=d,l&&(l[f]=m)}return c}const On=De;function tn(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,standalone:!0===o.standalone,onDestroy:o.type.prototype.ngOnDestroy||null}}function rn(o){return o[Fe]||null}function wn(o){return o[rt]||null}function Sn(o){return o[vt]||null}function Rn(o,l){const c=o[Yt]||null;if(!c&&!0===l)throw new Error(`Type ${ce(o)} does not have '\u0275mod' property.`);return c}function Bi(o){return Array.isArray(o)&&"object"==typeof o[1]}function ir(o){return Array.isArray(o)&&!0===o[1]}function na(o){return 0!=(8&o.flags)}function ia(o){return 2==(2&o.flags)}function ra(o){return 1==(1&o.flags)}function ss(o){return null!==o.template}function Ga(o){return 0!=(256&o[2])}function qs(o,l){return o.hasOwnProperty(Ke)?o[Ke]:null}class Bl{constructor(l,c,d){this.previousValue=l,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function jr(){return Ys}function Ys(o){return o.type.prototype.ngOnChanges&&(o.setInput=za),sa}function sa(){const o=zc(this),l=o?.current;if(l){const c=o.previous;if(c===Ne)o.previous=l;else for(let d in l)c[d]=l[d];o.current=null,this.ngOnChanges(l)}}function za(o,l,c,d){const f=zc(o)||function Bp(o,l){return o[$a]=l}(o,{previous:Ne,current:null}),m=f.current||(f.current={}),v=f.previous,D=this.declaredInputs[c],T=v[D];m[D]=new Bl(T&&T.currentValue,l,v===Ne),o[d]=l}jr.ngInherit=!0;const $a="__ngSimpleChanges__";function zc(o){return o[$a]||null}function di(o){for(;Array.isArray(o);)o=o[0];return o}function qa(o,l){return di(l[o])}function gi(o,l){return di(l[o.index])}function oa(o,l){return o.data[l]}function os(o,l){return o[l]}function Fi(o,l){const c=l[o];return Bi(c)?c:c[0]}function Ds(o){return 4==(4&o[2])}function Hr(o){return 64==(64&o[2])}function Ji(o,l){return null==l?null:o[l]}function Ya(o){o[18]=0}function aa(o,l){o[5]+=l;let c=o,d=o[3];for(;null!==d&&(1===l&&1===c[5]||-1===l&&0===c[5]);)d[5]+=l,c=d,d=d[3]}const jt={lFrame:Wl(null),bindingsEnabled:!0};function Ka(){return jt.bindingsEnabled}function mt(){return jt.lFrame.lView}function Cn(){return jt.lFrame.tView}function ca(o){return jt.lFrame.contextLView=o,o[8]}function ua(o){return jt.lFrame.contextLView=null,o}function si(){let o=Za();for(;null!==o&&64===o.type;)o=o.parent;return o}function Za(){return jt.lFrame.currentTNode}function _r(o,l){const c=jt.lFrame;c.currentTNode=o,c.isParent=l}function Qa(){return jt.lFrame.isParent}function Es(){jt.lFrame.isParent=!1}function Ui(){const o=jt.lFrame;let l=o.bindingRootIndex;return-1===l&&(l=o.bindingRootIndex=o.tView.bindingStartIndex),l}function da(){return jt.lFrame.bindingIndex++}function Ja(o,l){const c=jt.lFrame;c.bindingIndex=c.bindingRootIndex=o,So(l)}function So(o){jt.lFrame.currentDirectiveIndex=o}function el(o){const l=jt.lFrame.currentDirectiveIndex;return-1===l?null:o[l]}function zl(){return jt.lFrame.currentQueryIndex}function tl(o){jt.lFrame.currentQueryIndex=o}function nl(o){const l=o[1];return 2===l.type?l.declTNode:1===l.type?o[6]:null}function Qc(o,l,c){if(c&lt.SkipSelf){let f=l,m=o;for(;!(f=f.parent,null!==f||c&lt.Host||(f=nl(m),null===f||(m=m[15],10&f.type))););if(null===f)return!1;l=f,o=m}const d=jt.lFrame=$l();return d.currentTNode=l,d.lView=o,!0}function il(o){const l=$l(),c=o[1];jt.lFrame=l,l.currentTNode=c.firstChild,l.lView=o,l.tView=c,l.contextLView=o,l.bindingIndex=c.bindingStartIndex,l.inI18n=!1}function $l(){const o=jt.lFrame,l=null===o?null:o.child;return null===l?Wl(o):l}function Wl(o){const l={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=l),l}function ql(){const o=jt.lFrame;return jt.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const rl=ql;function Xc(){const o=ql();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function vi(){return jt.lFrame.selectedIndex}function As(o){jt.lFrame.selectedIndex=o}function $n(){const o=jt.lFrame;return oa(o.tView,o.selectedIndex)}function Jc(){jt.lFrame.currentNamespace="svg"}function Ah(o,l){for(let c=l.directiveStart,d=l.directiveEnd;c<d;c++){const m=o.data[c].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:T,ngAfterViewChecked:H,ngOnDestroy:de}=m;v&&(o.contentHooks||(o.contentHooks=[])).push(-c,v),D&&((o.contentHooks||(o.contentHooks=[])).push(c,D),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(c,D)),T&&(o.viewHooks||(o.viewHooks=[])).push(-c,T),H&&((o.viewHooks||(o.viewHooks=[])).push(c,H),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(c,H)),null!=de&&(o.destroyHooks||(o.destroyHooks=[])).push(c,de)}}function Sh(o,l,c){jp(o,l,3,c)}function ha(o,l,c,d){(3&o[2])===c&&jp(o,l,c,d)}function Zs(o,l){let c=o[2];(3&c)===l&&(c&=2047,c+=1,o[2]=c)}function jp(o,l,c,d){const m=d??-1,v=l.length-1;let D=0;for(let T=void 0!==d?65535&o[18]:0;T<v;T++)if("number"==typeof l[T+1]){if(D=l[T],null!=d&&D>=d)break}else l[T]<0&&(o[18]+=65536),(D<m||-1==m)&&(nu(o,c,l,T),o[18]=(4294901760&o[18])+T+2),T++}function nu(o,l,c,d){const f=c[d]<0,m=c[d+1],D=o[f?-c[d]:c[d]];if(f){if(o[2]>>11<o[18]>>16&&(3&o[2])===l){o[2]+=2048;try{m.call(D)}finally{}}}else try{m.call(D)}finally{}}class sl{constructor(l,c,d){this.factory=l,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function xo(o,l,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const m=c[d++],v=c[d++],D=c[d++];o.setAttribute(l,v,D,m)}else{const m=f,v=c[++d];pa(m)?o.setProperty(l,m,v):o.setAttribute(l,m,v),d++}}return d}function cd(o){return 3===o||4===o||6===o}function pa(o){return 64===o.charCodeAt(0)}function Zl(o,l){if(null!==l&&0!==l.length)if(null===o||0===o.length)o=l.slice();else{let c=-1;for(let d=0;d<l.length;d++){const f=l[d];"number"==typeof f?c=f:0===c||Mh(o,c,f,null,-1===c||2===c?l[++d]:null)}}return o}function Mh(o,l,c,d,f){let m=0,v=o.length;if(-1===l)v=-1;else for(;m<o.length;){const D=o[m++];if("number"==typeof D){if(D===l){v=-1;break}if(D>l){v=m-1;break}}}for(;m<o.length;){const D=o[m];if("number"==typeof D)break;if(D===c){if(null===d)return void(null!==f&&(o[m+1]=f));if(d===o[m+1])return void(o[m+2]=f)}m++,null!==d&&m++,null!==f&&m++}-1!==v&&(o.splice(v,0,l),m=v+1),o.splice(m++,0,c),null!==d&&o.splice(m++,0,d),null!==f&&o.splice(m++,0,f)}function Ih(o){return-1!==o}function ol(o){return 32767&o}function $r(o,l){let c=function zr(o){return o>>16}(o),d=l;for(;c>0;)d=d[15],c--;return d}let ud=!0;function vr(o){const l=ud;return ud=o,l}let Nt=0;const _t={};function qn(o,l){const c=ll(o,l);if(-1!==c)return c;const d=l[1];d.firstCreatePass&&(o.injectorIndex=l.length,al(d.data,o),al(l,null),al(d.blueprint,null));const f=Ql(o,l),m=o.injectorIndex;if(Ih(f)){const v=ol(f),D=$r(f,l),T=D[1].data;for(let H=0;H<8;H++)l[m+H]=D[v+H]|T[v+H]}return l[m+8]=f,m}function al(o,l){o.push(0,0,0,0,0,0,0,0,l)}function ll(o,l){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===l[o.injectorIndex+8]?-1:o.injectorIndex}function Ql(o,l){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let c=0,d=null,f=l;for(;null!==f;){if(d=pr(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Xl(o,l,c){!function sr(o,l,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(Ee)&&(d=c[Ee]),null==d&&(d=c[Ee]=Nt++);const f=255&d;l.data[o+(f>>5)]|=1<<f}(o,l,c)}function dd(o,l,c){if(c&lt.Optional)return o;X()}function qr(o,l,c,d){if(c&lt.Optional&&void 0===d&&(d=null),0==(c&(lt.Self|lt.Host))){const f=o[9],m=Rt(void 0);try{return f?f.get(l,d,c&lt.Optional):Ot(l,d,c&lt.Optional)}finally{Rt(m)}}return dd(d,0,c)}function zt(o,l,c,d=lt.Default,f){if(null!==o){if(1024&l[2]){const v=function ga(o,l,c,d,f){let m=o,v=l;for(;null!==m&&null!==v&&1024&v[2]&&!(256&v[2]);){const D=Qs(m,v,c,d|lt.Self,_t);if(D!==_t)return D;let T=m.parent;if(!T){const H=v[21];if(H){const de=H.get(c,_t,d);if(de!==_t)return de}T=pr(v),v=v[15]}m=T}return f}(o,l,c,d,_t);if(v!==_t)return v}const m=Qs(o,l,c,d,_t);if(m!==_t)return m}return qr(l,c,d,f)}function Qs(o,l,c,d,f){const m=function Kn(o){if("string"==typeof o)return o.charCodeAt(0)||0;const l=o.hasOwnProperty(Ee)?o[Ee]:void 0;return"number"==typeof l?l>=0?255&l:tc:l}(c);if("function"==typeof m){if(!Qc(l,o,d))return d&lt.Host?dd(f,0,d):qr(l,c,d,f);try{const v=m(d);if(null!=v||d&lt.Optional)return v;X()}finally{rl()}}else if("number"==typeof m){let v=null,D=ll(o,l),T=-1,H=d&lt.Host?l[16][6]:null;for((-1===D||d&lt.SkipSelf)&&(T=-1===D?Ql(o,l):l[D+8],-1!==T&&ma(d,!1)?(v=l[1],D=ol(T),l=$r(T,l)):D=-1);-1!==D;){const de=l[1];if(ec(m,D,de.data)){const Se=Jl(D,l,c,v,d,H);if(Se!==_t)return Se}T=l[D+8],-1!==T&&ma(d,l[1].data[D+8]===H)&&ec(m,D,l)?(v=de,D=ol(T),l=$r(T,l)):D=-1}}return f}function Jl(o,l,c,d,f,m){const v=l[1],D=v.data[o+8],de=Xs(D,v,c,null==d?ia(D)&&ud:d!=v&&0!=(3&D.type),f&lt.Host&&m===D);return null!==de?Js(l,v,de,D):_t}function Xs(o,l,c,d,f){const m=o.providerIndexes,v=l.data,D=1048575&m,T=o.directiveStart,de=m>>20,He=f?D+de:o.directiveEnd;for(let qe=d?D:D+de;qe<He;qe++){const ht=v[qe];if(qe<T&&c===ht||qe>=T&&ht.type===c)return qe}if(f){const qe=v[T];if(qe&&ss(qe)&&qe.type===c)return T}return null}function Js(o,l,c,d){let f=o[c];const m=l.data;if(function ld(o){return o instanceof sl}(f)){const v=f;v.resolving&&function E(o,l){const c=l?`. Dependency path: ${l.join(" > ")} > ${o}`:"";throw new q(-200,`Circular dependency in DI detected for ${o}${c}`)}(function K(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():z(o)}(m[c]));const D=vr(v.canSeeViewProviders);v.resolving=!0;const T=v.injectImpl?Rt(v.injectImpl):null;Qc(o,d,lt.Default);try{f=o[c]=v.factory(void 0,m,o,d),l.firstCreatePass&&c>=d.directiveStart&&function Eh(o,l,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:m}=l.type.prototype;if(d){const v=Ys(l);(c.preOrderHooks||(c.preOrderHooks=[])).push(o,v),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,v)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-o,f),m&&((c.preOrderHooks||(c.preOrderHooks=[])).push(o,m),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(o,m))}(c,m[c],l)}finally{null!==T&&Rt(T),vr(D),v.resolving=!1,rl()}}return f}function ec(o,l,c){return!!(c[l+(o>>5)]&1<<o)}function ma(o,l){return!(o&lt.Self||o&lt.Host&&l)}class as{constructor(l,c){this._tNode=l,this._lView=c}get(l,c,d){return zt(this._tNode,this._lView,l,d,c)}}function tc(){return new as(si(),mt())}function Mo(o){return nt(()=>{const l=o.prototype.constructor,c=l[Ke]||iu(l),d=Object.prototype;let f=Object.getPrototypeOf(o.prototype).constructor;for(;f&&f!==d;){const m=f[Ke]||iu(f);if(m&&m!==c)return m;f=Object.getPrototypeOf(f)}return m=>new m})}function iu(o){return $(o)?()=>{const l=iu(se(o));return l&&l()}:qs(o)}function pr(o){const l=o[1],c=l.type;return 2===c?l.declTNode:1===c?o[6]:null}function eo(o){return function cl(o,l){if("class"===l)return o.classes;if("style"===l)return o.styles;const c=o.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const m=c[f];if(cd(m))break;if(0===m)f+=2;else if("number"==typeof m)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(m===l)return c[f+1];f+=2}}}return null}(si(),o)}const Xn="__parameters__";function ji(o,l,c){return nt(()=>{const d=function br(o){return function(...c){if(o){const d=o(...c);for(const f in d)this[f]=d[f]}}}(l);function f(...m){if(this instanceof f)return d.apply(this,m),this;const v=new f(...m);return D.annotation=v,D;function D(T,H,de){const Se=T.hasOwnProperty(Xn)?T[Xn]:Object.defineProperty(T,Xn,{value:[]})[Xn];for(;Se.length<=de;)Se.push(null);return(Se[de]=Se[de]||[]).push(v),T}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=o,f.annotationCls=f,f})}class xn{constructor(l,c){this._desc=l,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=Q({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Si(o,l){void 0===l&&(l=o);for(let c=0;c<o.length;c++){let d=o[c];Array.isArray(d)?(l===o&&(l=o.slice(0,c)),Si(d,l)):l!==o&&l.push(d)}return l}function ls(o,l){o.forEach(c=>Array.isArray(c)?ls(c,l):l(c))}function nc(o,l,c){l>=o.length?o.push(c):o.splice(l,0,c)}function hl(o,l){return l>=o.length-1?o.pop():o.splice(l,1)[0]}function cs(o,l){const c=[];for(let d=0;d<o;d++)c.push(l);return c}function Gi(o,l,c){let d=Ts(o,l);return d>=0?o[1|d]=c:(d=~d,function fl(o,l,c,d){let f=o.length;if(f==l)o.push(c,d);else if(1===f)o.push(d,o[0]),o[0]=c;else{for(f--,o.push(o[f-1],o[f]);f>l;)o[f]=o[f-2],f--;o[l]=c,o[l+1]=d}}(o,d,l,c)),d}function rc(o,l){const c=Ts(o,l);if(c>=0)return o[1|c]}function Ts(o,l){return function li(o,l,c){let d=0,f=o.length>>c;for(;f!==d;){const m=d+(f-d>>1),v=o[m<<c];if(l===v)return m<<c;v>l?f=m:d=m+1}return~(f<<c)}(o,l,1)}const Yr={},xs="__NG_DI_FLAG__",Po="ngTempTokenPath",dn=/\n/gm,us="__source";let ds;function Oo(o){const l=ds;return ds=o,l}function sc(o,l=lt.Default){if(void 0===ds)throw new q(-203,!1);return null===ds?Ot(o,void 0,l):ds.get(o,l&lt.Optional?null:void 0,l)}function ci(o,l=lt.Default){return(function ct(){return yt}()||sc)(se(o),l)}function oc(o,l=lt.Default){return"number"!=typeof l&&(l=0|(l.optional&&8)|(l.host&&1)|(l.self&&2)|(l.skipSelf&&4)),ci(o,l)}function k(o){const l=[];for(let c=0;c<o.length;c++){const d=se(o[c]);if(Array.isArray(d)){if(0===d.length)throw new q(900,!1);let f,m=lt.Default;for(let v=0;v<d.length;v++){const D=d[v],T=ue(D);"number"==typeof T?-1===T?f=D.token:m|=T:f=D}l.push(ci(f,m))}else l.push(ci(d))}return l}function V(o,l){return o[xs]=l,o.prototype[xs]=l,o}function ue(o){return o[xs]}const pt=V(ji("Optional"),8),Kt=V(ji("SkipSelf"),4);let Nh,gd;function E_(o){Nh=o}function io(o){return function _l(){if(void 0===gd&&(gd=null,xe.trustedTypes))try{gd=xe.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch{}return gd}()?.createHTML(o)||o}class so{constructor(l){this.changingThisBreaksApplicationSecurity=l}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class yd extends so{getTypeName(){return"HTML"}}class S_ extends so{getTypeName(){return"Style"}}class Uh extends so{getTypeName(){return"Script"}}class T_ extends so{getTypeName(){return"URL"}}class Wp extends so{getTypeName(){return"ResourceURL"}}function Bo(o){return o instanceof so?o.changingThisBreaksApplicationSecurity:o}function Ca(o,l){const c=function x_(o){return o instanceof so&&o.getTypeName()||null}(o);if(null!=c&&c!==l){if("ResourceURL"===c&&"URL"===l)return!0;throw new Error(`Required a safe ${l}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===l}function qp(o){return new yd(o)}function Yp(o){return new S_(o)}function M_(o){return new Uh(o)}function I_(o){return new T_(o)}function Kp(o){return new Wp(o)}class Da{constructor(l){this.inertDocumentHelper=l}getInertBodyElement(l){l="<body><remove></remove>"+l;try{const c=(new window.DOMParser).parseFromString(io(l),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(l):(c.removeChild(c.firstChild),c)}catch{return null}}}class jh{constructor(l){if(this.defaultDoc=l,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(l){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=io(l),c;const d=this.inertDocument.createElement("body");return d.innerHTML=io(l),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(l){const c=l.attributes;for(let f=c.length-1;0<f;f--){const v=c.item(f).name;("xmlns:ns1"===v||0===v.indexOf("ns1:"))&&l.removeAttribute(v)}let d=l.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const Ms=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,vd=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function lc(o){return(o=String(o)).match(Ms)||o.match(vd)?o:"unsafe:"+o}function er(o){const l={};for(const c of o.split(","))l[c]=!0;return l}function cc(...o){const l={};for(const c of o)for(const d in c)c.hasOwnProperty(d)&&(l[d]=!0);return l}const Qp=er("area,br,col,hr,img,wbr"),yl=er("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Gh=er("rp,rt"),hu=cc(Qp,cc(yl,er("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),cc(Gh,er("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),cc(Gh,yl)),bd=er("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Uo=er("srcset"),uc=cc(bd,Uo,er("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),er("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),wd=er("script,style,template");class em{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(l){let c=l.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(l){const c=l.nodeName.toLowerCase();if(!hu.hasOwnProperty(c))return this.sanitizedSomething=!0,!wd.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=l.attributes;for(let f=0;f<d.length;f++){const m=d.item(f),v=m.name,D=v.toLowerCase();if(!uc.hasOwnProperty(D)){this.sanitizedSomething=!0;continue}let T=m.value;bd[D]&&(T=lc(T)),Uo[D]&&(o=T,T=(o=String(o)).split(",").map(l=>lc(l.trim())).join(", ")),this.buf.push(" ",v,'="',nm(T),'"')}var o;return this.buf.push(">"),!0}endElement(l){const c=l.nodeName.toLowerCase();hu.hasOwnProperty(c)&&!Qp.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(l){this.buf.push(nm(l))}checkClobberedElement(l,c){if(c&&(l.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${l.outerHTML}`);return c}}const tm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fu=/([^\#-~ |!])/g;function nm(o){return o.replace(/&/g,"&amp;").replace(tm,function(l){return"&#"+(1024*(l.charCodeAt(0)-55296)+(l.charCodeAt(1)-56320)+65536)+";"}).replace(fu,function(l){return"&#"+l.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ea;function pu(o,l){let c=null;try{Ea=Ea||function P_(o){const l=new jh(o);return function Hh(){try{return!!(new window.DOMParser).parseFromString(io(""),"text/html")}catch{return!1}}()?new Da(l):l}(o);let d=l?String(l):"";c=Ea.getInertBodyElement(d);let f=5,m=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=m,m=c.innerHTML,c=Ea.getInertBodyElement(d)}while(d!==m);return io((new em).sanitizeChildren(dc(c)||c))}finally{if(c){const d=dc(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function dc(o){return"content"in o&&function R_(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var wi=(()=>((wi=wi||{})[wi.NONE=0]="NONE",wi[wi.HTML=1]="HTML",wi[wi.STYLE=2]="STYLE",wi[wi.SCRIPT=3]="SCRIPT",wi[wi.URL=4]="URL",wi[wi.RESOURCE_URL=5]="RESOURCE_URL",wi))();function hc(o){const l=function zi(){const o=mt();return o&&o[12]}();return l?l.sanitize(wi.URL,o)||"":Ca(o,"URL")?Bo(o):lc(z(o))}const mu=new xn("ENVIRONMENT_INITIALIZER"),$h=new xn("INJECTOR",-1),Dd=new xn("INJECTOR_DEF_TYPES");class sm{get(l,c=Yr){if(c===Yr){const d=new Error(`NullInjectorError: No provider for ${ce(l)}!`);throw d.name="NullInjectorError",d}return c}}function Dr(...o){return{\u0275providers:jo(0,o)}}function jo(o,...l){const c=[],d=new Set;let f;return ls(l,m=>{const v=m;qh(v,c,[],d)&&(f||(f=[]),f.push(v))}),void 0!==f&&Wh(f,c),c}function Wh(o,l){for(let c=0;c<o.length;c++){const{providers:f}=o[c];ls(f,m=>{l.push(m)})}}function qh(o,l,c,d){if(!(o=se(o)))return!1;let f=null,m=Be(o);const v=!m&&rn(o);if(m||v){if(v&&!v.standalone)return!1;f=o}else{const T=o.ngModule;if(m=Be(T),!m)return!1;f=T}const D=d.has(f);if(v){if(D)return!1;if(d.add(f),v.dependencies){const T="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const H of T)qh(H,l,c,d)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let H;d.add(f);try{ls(m.imports,de=>{qh(de,l,c,d)&&(H||(H=[]),H.push(de))})}finally{}void 0!==H&&Wh(H,l)}if(!D){const H=qs(f)||(()=>new f);l.push({provide:f,useFactory:H,deps:we},{provide:Dd,useValue:f,multi:!0},{provide:mu,useValue:()=>ci(f),multi:!0})}const T=m.providers;null==T||D||ls(T,de=>{l.push(de)})}}return f!==o&&void 0!==o.providers}const vl=re({provide:String,useValue:re});function Yh(o){return null!==o&&"object"==typeof o&&vl in o}function $i(o){return"function"==typeof o}const Zh=new xn("Set Injector scope."),Ed={},B_={};let Ad;function tr(){return void 0===Ad&&(Ad=new sm),Ad}class Aa{}class Sd extends Aa{constructor(l,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Jh(l,v=>this.processProvider(v)),this.records.set($h,bl(void 0,this)),f.has("environment")&&this.records.set(Aa,bl(void 0,this));const m=this.records.get(Zh);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(Dd.multi,we,lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const l of this._ngOnDestroyHooks)l.ngOnDestroy();for(const l of this._onDestroyHooks)l()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(l){this._onDestroyHooks.push(l)}runInContext(l){this.assertNotDestroyed();const c=Oo(this),d=Rt(void 0);try{return l()}finally{Oo(c),Rt(d)}}get(l,c=Yr,d=lt.Default){this.assertNotDestroyed();const f=Oo(this),m=Rt(void 0);try{if(!(d&lt.SkipSelf)){let D=this.records.get(l);if(void 0===D){const T=function j_(o){return"function"==typeof o||"object"==typeof o&&o instanceof xn}(l)&&be(l);D=T&&this.injectableDefInScope(T)?bl(pc(l),Ed):null,this.records.set(l,D)}if(null!=D)return this.hydrate(l,D)}return(d&lt.Self?tr():this.parent).get(l,c=d&lt.Optional&&c===Yr?null:c)}catch(v){if("NullInjectorError"===v.name){if((v[Po]=v[Po]||[]).unshift(ce(l)),f)throw v;return function Oe(o,l,c,d){const f=o[Po];throw l[us]&&f.unshift(l[us]),o.message=function ze(o,l,c,d=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.slice(2):o;let f=ce(l);if(Array.isArray(l))f=l.map(ce).join(" -> ");else if("object"==typeof l){let m=[];for(let v in l)if(l.hasOwnProperty(v)){let D=l[v];m.push(v+":"+("string"==typeof D?JSON.stringify(D):ce(D)))}f=`{${m.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${o.replace(dn,"\n  ")}`}("\n"+o.message,f,c,d),o.ngTokenPath=f,o[Po]=null,o}(v,l,"R3InjectorError",this.source)}throw v}finally{Rt(m),Oo(f)}}resolveInjectorInitializers(){const l=Oo(this),c=Rt(void 0);try{const d=this.get(mu.multi,we,lt.Self);for(const f of d)f()}finally{Oo(l),Rt(c)}}toString(){const l=[],c=this.records;for(const d of c.keys())l.push(ce(d));return`R3Injector[${l.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new q(205,!1)}processProvider(l){let c=$i(l=se(l))?l:se(l&&l.provide);const d=function _u(o){return Yh(o)?bl(void 0,o.useValue):bl(Qh(o),Ed)}(l);if($i(l)||!0!==l.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=bl(void 0,Ed,!0),f.factory=()=>k(f.multi),this.records.set(c,f)),c=l,f.multi.push(l)}this.records.set(c,d)}hydrate(l,c){return c.value===Ed&&(c.value=B_,c.value=c.factory()),"object"==typeof c.value&&c.value&&function Xh(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(l){if(!l.providedIn)return!1;const c=se(l.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function pc(o){const l=be(o),c=null!==l?l.factory:qs(o);if(null!==c)return c;if(o instanceof xn)throw new q(204,!1);if(o instanceof Function)return function Er(o){const l=o.length;if(l>0)throw cs(l,"?"),new q(204,!1);const c=function Pe(o){const l=o&&(o[Ye]||o[gt]);if(l){const c=function Ue(o){if(o.hasOwnProperty("name"))return o.name;const l=(""+o).match(/^function\s*([^\s(]+)/);return null===l?"":l[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),l}return null}(o);return null!==c?()=>c.factory(o):()=>new o}(o);throw new q(204,!1)}function Qh(o,l,c){let d;if($i(o)){const f=se(o);return qs(f)||pc(f)}if(Yh(o))d=()=>se(o.useValue);else if(function fc(o){return!(!o||!o.useFactory)}(o))d=()=>o.useFactory(...k(o.deps||[]));else if(function Kh(o){return!(!o||!o.useExisting)}(o))d=()=>ci(se(o.useExisting));else{const f=se(o&&(o.useClass||o.provide));if(!function U_(o){return!!o.deps}(o))return qs(f)||pc(f);d=()=>new f(...k(o.deps))}return d}function bl(o,l,c=!1){return{factory:o,value:l,multi:c?[]:void 0}}function H_(o){return!!o.\u0275providers}function Jh(o,l){for(const c of o)Array.isArray(c)?Jh(c,l):H_(c)?Jh(c.\u0275providers,l):l(c)}class y{}class Z{resolveComponentFactory(l){throw function p(o){const l=Error(`No component factory found for ${ce(o)}. Did you add it to @NgModule.entryComponents?`);return l.ngComponent=o,l}(l)}}let _e=(()=>{class o{}return o.NULL=new Z,o})();function Ge(){return tt(si(),mt())}function tt(o,l){return new Mt(gi(o,l))}let Mt=(()=>{class o{constructor(c){this.nativeElement=c}}return o.__NG_ELEMENT_ID__=Ge,o})();function Ut(o){return o instanceof Mt?o.nativeElement:o}class en{}let Ti=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function Ar(){const o=mt(),c=Fi(si().index,o);return(Bi(c)?c:o)[11]}(),o})(),wl=(()=>{class o{}return o.\u0275prov=Q({token:o,providedIn:"root",factory:()=>null}),o})();class Td{constructor(l){this.full=l,this.major=l.split(".")[0],this.minor=l.split(".")[1],this.patch=l.split(".").slice(2).join(".")}}const Sa=new Td("14.1.1"),yu={};function hm(o){return o.ngOriginalError}class tf{constructor(){this._console=console}handleError(l){const c=this._findOriginalError(l);this._console.error("ERROR",l),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(l){let c=l&&hm(l);for(;c&&hm(c);)c=hm(c);return c||null}}const fm=new Map;let C0=0;const Z_="__ngContext__";function Tr(o,l){Bi(l)?(o[Z_]=l[20],function $A(o){fm.set(o[20],o)}(l)):o[Z_]=l}function mc(o){const l=o[Z_];return"number"==typeof l?function D0(o){return fm.get(o)||null}(l):l||null}function Q_(o){const l=mc(o);return l?Bi(l)?l:l.lView:null}const J_=(()=>(typeof requestAnimationFrame<"u"&&requestAnimationFrame||setTimeout).bind(xe))();function gc(o){return o instanceof Function?o():o}var Ho=(()=>((Ho=Ho||{})[Ho.Important=1]="Important",Ho[Ho.DashCase=2]="DashCase",Ho))();function ty(o,l){return undefined(o,l)}function sf(o){const l=o[3];return ir(l)?l[3]:l}function gm(o){return ry(o[13])}function iy(o){return ry(o[4])}function ry(o){for(;null!==o&&!ir(o);)o=o[4];return o}function Md(o,l,c,d,f){if(null!=d){let m,v=!1;ir(d)?m=d:Bi(d)&&(v=!0,d=d[0]);const D=di(d);0===o&&null!==c?null==f?Go(l,c,D):bu(l,c,D,f||null,!0):1===o&&null!==c?bu(l,c,D,f||null,!0):2===o?function Dm(o,l,c){const d=cy(o,l);d&&function wu(o,l,c,d){o.removeChild(l,c,d)}(o,d,l,c)}(l,D,v):3===o&&l.destroyNode(D),null!=m&&function wR(o,l,c,d,f){const m=c[7];m!==di(c)&&Md(l,o,d,m,f);for(let D=10;D<c.length;D++){const T=c[D];cf(T[1],T,o,l,d,m)}}(l,o,m,c,f)}}function oy(o,l,c){return o.createElement(l,c)}function ay(o,l){const c=o[9],d=c.indexOf(l),f=l[3];512&l[2]&&(l[2]&=-513,aa(f,-1)),c.splice(d,1)}function af(o,l){if(o.length<=10)return;const c=10+l,d=o[c];if(d){const f=d[17];null!==f&&f!==o&&ay(f,d),l>0&&(o[c-1][4]=d[4]);const m=hl(o,10+l);!function nS(o,l){cf(o,l,l[11],2,null,null),l[0]=null,l[6]=null}(d[1],d);const v=m[19];null!==v&&v.detachView(m[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function xi(o,l){if(!(128&l[2])){const c=l[11];c.destroyNode&&cf(o,l,c,3,null,null),function Ta(o){let l=o[13];if(!l)return R0(o[1],o);for(;l;){let c=null;if(Bi(l))c=l[13];else{const d=l[10];d&&(c=d)}if(!c){for(;l&&!l[4]&&l!==o;)Bi(l)&&R0(l[1],l),l=l[3];null===l&&(l=o),Bi(l)&&R0(l[1],l),c=l&&l[4]}l=c}}(l)}}function R0(o,l){if(!(128&l[2])){l[2]&=-65,l[2]|=128,function O0(o,l){let c;if(null!=o&&null!=(c=o.destroyHooks))for(let d=0;d<c.length;d+=2){const f=l[c[d]];if(!(f instanceof sl)){const m=c[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const D=f[m[v]],T=m[v+1];try{T.call(D)}finally{}}else try{m.call(f)}finally{}}}}(o,l),function Id(o,l){const c=o.cleanup,d=l[7];let f=-1;if(null!==c)for(let m=0;m<c.length-1;m+=2)if("string"==typeof c[m]){const v=c[m+1],D="function"==typeof v?v(l):di(l[v]),T=d[f=c[m+2]],H=c[m+3];"boolean"==typeof H?D.removeEventListener(c[m],T,H):H>=0?d[f=H]():d[f=-H].unsubscribe(),m+=2}else{const v=d[f=c[m+1]];c[m].call(v)}if(null!==d){for(let m=f+1;m<d.length;m++)(0,d[m])();l[7]=null}}(o,l),1===l[1].type&&l[11].destroy();const c=l[17];if(null!==c&&ir(l[3])){c!==l[3]&&ay(c,l);const d=l[19];null!==d&&d.detachView(o)}!function WA(o){fm.delete(o[20])}(l)}}function ly(o,l,c){return function Pd(o,l,c){let d=l;for(;null!==d&&40&d.type;)d=(l=d).parent;if(null===d)return c[0];if(2&d.flags){const f=o.data[d.directiveStart].encapsulation;if(f===ge.None||f===ge.Emulated)return null}return gi(d,c)}(o,l.parent,c)}function bu(o,l,c,d,f){o.insertBefore(l,c,d,f)}function Go(o,l,c){o.appendChild(l,c)}function lf(o,l,c,d,f){null!==d?bu(o,l,c,d,f):Go(o,l,c)}function cy(o,l){return o.parentNode(l)}function F0(o,l,c){return wm(o,l,c)}let wm=function bm(o,l,c){return 40&o.type?gi(o,c):null};function dy(o,l,c,d){const f=ly(o,d,l),m=l[11],D=F0(d.parent||l[6],d,l);if(null!=f)if(Array.isArray(c))for(let T=0;T<c.length;T++)lf(m,f,c[T],D,!1);else lf(m,f,c,D,!1)}function hy(o,l){if(null!==l){const c=l.type;if(3&c)return gi(l,o);if(4&c)return N0(-1,o[l.index]);if(8&c){const d=l.child;if(null!==d)return hy(o,d);{const f=o[l.index];return ir(f)?N0(-1,f):di(f)}}if(32&c)return ty(l,o)()||di(o[l.index]);{const d=L0(o,l);return null!==d?Array.isArray(d)?d[0]:hy(sf(o[16]),d):hy(o,l.next)}}return null}function L0(o,l){return null!==l?o[16][6].projection[l.projection]:null}function N0(o,l){const c=10+o+1;if(c<l.length){const d=l[c],f=d[1].firstChild;if(null!==f)return hy(d,f)}return l[7]}function fy(o,l,c,d,f,m,v){for(;null!=c;){const D=d[c.index],T=c.type;if(v&&0===l&&(D&&Tr(di(D),d),c.flags|=4),64!=(64&c.flags))if(8&T)fy(o,l,c.child,d,f,m,!1),Md(l,o,f,D,m);else if(32&T){const H=ty(c,d);let de;for(;de=H();)Md(l,o,f,de,m);Md(l,o,f,D,m)}else 16&T?sS(o,l,d,c,f,m):Md(l,o,f,D,m);c=v?c.projectionNext:c.next}}function cf(o,l,c,d,f,m){fy(c,d,o.firstChild,l,f,m,!1)}function sS(o,l,c,d,f,m){const v=c[16],T=v[6].projection[d.projection];if(Array.isArray(T))for(let H=0;H<T.length;H++)Md(l,o,f,T[H],m);else fy(o,l,T,v[3],f,m,!0)}function Am(o,l,c){o.setAttribute(l,"style",c)}function V0(o,l,c){""===c?o.removeAttribute(l,"class"):o.setAttribute(l,"class",c)}function oS(o,l,c){let d=o.length;for(;;){const f=o.indexOf(l,c);if(-1===f)return f;if(0===f||o.charCodeAt(f-1)<=32){const m=l.length;if(f+m===d||o.charCodeAt(f+m)<=32)return f}c=f+1}}const B0="ng-template";function py(o,l,c){let d=0;for(;d<o.length;){let f=o[d++];if(c&&"class"===f){if(f=o[d],-1!==oS(f.toLowerCase(),l,0))return!0}else if(1===f){for(;d<o.length&&"string"==typeof(f=o[d++]);)if(f.toLowerCase()===l)return!0;return!1}}return!1}function Sm(o){return 4===o.type&&o.value!==B0}function my(o,l,c){return l===(4!==o.type||c?o.value:B0)}function Tm(o,l,c){let d=4;const f=o.attrs||[],m=function lS(o){for(let l=0;l<o.length;l++)if(cd(o[l]))return l;return o.length}(f);let v=!1;for(let D=0;D<l.length;D++){const T=l[D];if("number"!=typeof T){if(!v)if(4&d){if(d=2|1&d,""!==T&&!my(o,T,c)||""===T&&1===l.length){if(xa(d))return!1;v=!0}}else{const H=8&d?T:l[++D];if(8&d&&null!==o.attrs){if(!py(o.attrs,H,c)){if(xa(d))return!1;v=!0}continue}const Se=DR(8&d?"class":T,f,Sm(o),c);if(-1===Se){if(xa(d))return!1;v=!0;continue}if(""!==H){let He;He=Se>m?"":f[Se+1].toLowerCase();const qe=8&d?He:null;if(qe&&-1!==oS(qe,H,0)||2&d&&H!==He){if(xa(d))return!1;v=!0}}}}else{if(!v&&!xa(d)&&!xa(T))return!1;if(v&&xa(T))continue;v=!1,d=T|1&d}}return xa(d)||v}function xa(o){return 0==(1&o)}function DR(o,l,c,d){if(null===l)return-1;let f=0;if(d||!c){let m=!1;for(;f<l.length;){const v=l[f];if(v===o)return f;if(3===v||6===v)m=!0;else{if(1===v||2===v){let D=l[++f];for(;"string"==typeof D;)D=l[++f];continue}if(4===v)break;if(0===v){f+=4;continue}}f+=m?1:2}return-1}return function AR(o,l){let c=o.indexOf(4);if(c>-1)for(c++;c<o.length;){const d=o[c];if("number"==typeof d)return-1;if(d===l)return c;c++}return-1}(l,o)}function aS(o,l,c=!1){for(let d=0;d<l.length;d++)if(Tm(o,l[d],c))return!0;return!1}function SR(o,l){e:for(let c=0;c<l.length;c++){const d=l[c];if(o.length===d.length){for(let f=0;f<o.length;f++)if(o[f]!==d[f])continue e;return!0}}return!1}function cS(o,l){return o?":not("+l.trim()+")":l}function TR(o){let l=o[0],c=1,d=2,f="",m=!1;for(;c<o.length;){let v=o[c];if("string"==typeof v)if(2&d){const D=o[++c];f+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?f+="."+v:4&d&&(f+=" "+v);else""!==f&&!xa(v)&&(l+=cS(m,f),f=""),d=v,m=m||!xa(d);c++}return""!==f&&(l+=cS(m,f)),l}const Dn={};function uS(o){U0(Cn(),mt(),vi()+o,!1)}function U0(o,l,c,d){if(!d)if(3==(3&l[2])){const m=o.preOrderCheckHooks;null!==m&&Sh(l,m,c)}else{const m=o.preOrderHooks;null!==m&&ha(l,m,0,c)}As(c)}function pS(o,l=null,c=null,d){const f=mS(o,l,c,d);return f.resolveInjectorInitializers(),f}function mS(o,l=null,c=null,d,f=new Set){const m=[c||we,Dr(o)];return d=d||("object"==typeof o?void 0:ce(o)),new Sd(m,l||tr(),d||null,f)}let kd=(()=>{class o{static create(c,d){if(Array.isArray(c))return pS({name:""},d,c,"");{const f=c.name??"";return pS({name:f},c.parent,c.providers,f)}}}return o.THROW_IF_NOT_FOUND=Yr,o.NULL=new sm,o.\u0275prov=Q({token:o,providedIn:"any",factory:()=>ci($h)}),o.__NG_ELEMENT_ID__=-1,o})();function df(o,l=lt.Default){const c=mt();return null===c?ci(o,l):zt(si(),c,se(o),l)}function ES(){throw new Error("invalid")}function _y(o,l){return o<<17|l<<2}function Ma(o){return o>>17&32767}function W0(o){return 2|o}function _c(o){return(131068&o)>>2}function q0(o,l){return-131069&o|l<<2}function Y0(o){return 1|o}function kS(o,l){const c=o.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],m=c[d+1];if(-1!==m){const v=o.data[m];tl(f),v.contentQueries(2,l[m],m)}}}function hf(o,l,c,d,f,m,v,D,T,H,de){const Se=l.blueprint.slice();return Se[0]=f,Se[2]=76|d,(null!==de||o&&1024&o[2])&&(Se[2]|=1024),Ya(Se),Se[3]=Se[15]=o,Se[8]=c,Se[10]=v||o&&o[10],Se[11]=D||o&&o[11],Se[12]=T||o&&o[12]||null,Se[9]=H||o&&o[9]||null,Se[6]=m,Se[20]=function zA(){return C0++}(),Se[21]=de,Se[16]=2==l.type?o[16]:Se,Se}function yc(o,l,c,d,f){let m=o.data[l];if(null===m)m=function tw(o,l,c,d,f){const m=Za(),v=Qa(),T=o.data[l]=function km(o,l,c,d,f,m){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:l?l.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:l,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,c,l,d,f);return null===o.firstChild&&(o.firstChild=T),null!==m&&(v?null==m.child&&null!==T.parent&&(m.child=T):null===m.next&&(m.next=T)),T}(o,l,c,d,f),function od(){return jt.lFrame.inI18n}()&&(m.flags|=64);else if(64&m.type){m.type=c,m.value=d,m.attrs=f;const v=function Ao(){const o=jt.lFrame,l=o.currentTNode;return o.isParent?l:l.parent}();m.injectorIndex=null===v?-1:v.injectorIndex}return _r(m,!0),m}function Du(o,l,c,d){if(0===c)return-1;const f=l.length;for(let m=0;m<c;m++)l.push(d),o.blueprint.push(d),o.data.push(null);return f}function Dl(o,l,c){il(l);try{const d=o.viewQuery;null!==d&&My(1,d,c);const f=o.template;null!==f&&nw(o,l,f,1,c),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&kS(o,l),o.staticViewQueries&&My(2,o.viewQuery,c);const m=o.components;null!==m&&function RS(o,l){for(let c=0;c<l.length;c++)HS(o,l[c])}(l,m)}catch(d){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),d}finally{l[2]&=-5,Xc()}}function ff(o,l,c,d){const f=l[2];if(128!=(128&f)){il(l);try{Ya(l),function Kc(o){return jt.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==c&&nw(o,l,c,2,d);const v=3==(3&f);if(v){const H=o.preOrderCheckHooks;null!==H&&Sh(l,H,null)}else{const H=o.preOrderHooks;null!==H&&ha(l,H,0,null),Zs(l,0)}if(function sO(o){for(let l=gm(o);null!==l;l=iy(l)){if(!l[2])continue;const c=l[9];for(let d=0;d<c.length;d++){const f=c[d],m=f[3];0==(512&f[2])&&aa(m,1),f[2]|=512}}}(l),function rO(o){for(let l=gm(o);null!==l;l=iy(l))for(let c=10;c<l.length;c++){const d=l[c],f=d[1];Hr(d)&&ff(f,d,f.template,d[8])}}(l),null!==o.contentQueries&&kS(o,l),v){const H=o.contentCheckHooks;null!==H&&Sh(l,H)}else{const H=o.contentHooks;null!==H&&ha(l,H,1),Zs(l,1)}!function Ii(o,l){const c=o.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)As(~f);else{const m=f,v=c[++d],D=c[++d];Ja(v,m),D(2,l[m])}}}finally{As(-1)}}(o,l);const D=o.components;null!==D&&function ew(o,l){for(let c=0;c<l.length;c++)Om(o,l[c])}(l,D);const T=o.viewQuery;if(null!==T&&My(2,T,d),v){const H=o.viewCheckHooks;null!==H&&Sh(l,H)}else{const H=o.viewHooks;null!==H&&ha(l,H,2),Zs(l,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),l[2]&=-41,512&l[2]&&(l[2]&=-513,aa(l[3],-1))}finally{Xc()}}}function OS(o,l,c,d){const f=l[10],v=Ds(l);try{!v&&f.begin&&f.begin(),v&&Dl(o,l,d),ff(o,l,c,d)}finally{!v&&f.end&&f.end()}}function nw(o,l,c,d,f){const m=vi(),v=2&d;try{As(-1),v&&l.length>22&&U0(o,l,22,!1),c(d,f)}finally{As(m)}}function pf(o,l,c){if(na(l)){const f=l.directiveEnd;for(let m=l.directiveStart;m<f;m++){const v=o.data[m];v.contentQueries&&v.contentQueries(1,c[m],m)}}}function Im(o,l,c){!Ka()||(function NS(o,l,c,d){const f=c.directiveStart,m=c.directiveEnd;o.firstCreatePass||qn(c,l),Tr(d,l);const v=c.initialInputs;for(let D=f;D<m;D++){const T=o.data[D],H=ss(T);H&&US(l,c,T);const de=Js(l,o,D,c);Tr(de,l),null!==v&&nO(0,D-f,de,T,0,v),H&&(Fi(c.index,l)[8]=de)}}(o,l,c,gi(c,l)),128==(128&c.flags)&&function VS(o,l,c){const d=c.directiveStart,f=c.directiveEnd,m=c.index,v=function Ch(){return jt.lFrame.currentDirectiveIndex}();try{As(m);for(let D=d;D<f;D++){const T=o.data[D],H=l[D];So(D),(null!==T.hostBindings||0!==T.hostVars||null!==T.hostAttrs)&&aw(T,H)}}finally{As(-1),So(v)}}(o,l,c))}function Pm(o,l,c=gi){const d=l.localNames;if(null!==d){let f=l.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],D=-1===v?c(l,o):o[v];o[f++]=D}}}function Dy(o){const l=o.tView;return null===l||l.incompleteFirstPass?o.tView=Ey(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):l}function Ey(o,l,c,d,f,m,v,D,T,H){const de=22+d,Se=de+f,He=function FS(o,l){const c=[];for(let d=0;d<l;d++)c.push(d<o?null:Dn);return c}(de,Se),qe="function"==typeof H?H():H;return He[1]={type:o,blueprint:He,template:c,queries:null,viewQuery:D,declTNode:l,data:He.slice().fill(null,de),bindingStartIndex:de,expandoStartIndex:Se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:T,consts:qe,incompleteFirstPass:!1}}function Sy(o,l,c,d){const f=mw(l);null===c?f.push(d):(f.push(c),o.firstCreatePass&&Py(o).push(d,f.length-1))}function Rm(o,l,c){for(let d in o)if(o.hasOwnProperty(d)){const f=o[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(l,f):c[d]=[l,f]}return c}function iw(o,l){const d=l.directiveEnd,f=o.data,m=l.attrs,v=[];let D=null,T=null;for(let H=l.directiveStart;H<d;H++){const de=f[H],Se=de.inputs,He=null===m||Sm(l)?null:iO(Se,m);v.push(He),D=Rm(Se,H,D),T=Rm(de.outputs,H,T)}null!==D&&(D.hasOwnProperty("class")&&(l.flags|=16),D.hasOwnProperty("style")&&(l.flags|=32)),l.initialInputs=v,l.inputs=D,l.outputs=T}function fs(o,l,c,d,f,m,v,D){const T=gi(l,c);let de,H=l.inputs;!D&&null!=H&&(de=H[d])?(Lm(o,c,de,d,f),ia(l)&&rw(c,l.index)):3&l.type&&(d=function Ty(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(d),f=null!=v?v(f,l.value||"",d):f,m.setProperty(T,d,f))}function rw(o,l){const c=Fi(l,o);16&c[2]||(c[2]|=32)}function Od(o,l,c,d){let f=!1;if(Ka()){const m=function BS(o,l,c){const d=o.directiveRegistry;let f=null;if(d)for(let m=0;m<d.length;m++){const v=d[m];aS(c,v.selectors,!1)&&(f||(f=[]),Xl(qn(c,l),o,v.type),ss(v)?(lw(o,c),f.unshift(v)):f.push(v))}return f}(o,l,c),v=null===d?null:{"":-1};if(null!==m){f=!0,dw(c,o.data.length,m.length);for(let de=0;de<m.length;de++){const Se=m[de];Se.providersResolver&&Se.providersResolver(Se)}let D=!1,T=!1,H=Du(o,l,m.length,null);for(let de=0;de<m.length;de++){const Se=m[de];c.mergedAttrs=Zl(c.mergedAttrs,Se.hostAttrs),hw(o,c,l,H,Se),uw(H,Se,v),null!==Se.contentQueries&&(c.flags|=8),(null!==Se.hostBindings||null!==Se.hostAttrs||0!==Se.hostVars)&&(c.flags|=128);const He=Se.type.prototype;!D&&(He.ngOnChanges||He.ngOnInit||He.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(c.index),D=!0),!T&&(He.ngOnChanges||He.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(c.index),T=!0),H++}iw(o,c)}v&&function cw(o,l,c){if(l){const d=o.localNames=[];for(let f=0;f<l.length;f+=2){const m=c[l[f+1]];if(null==m)throw new q(-301,!1);d.push(l[f],m)}}}(c,d,v)}return c.mergedAttrs=Zl(c.mergedAttrs,c.attrs),f}function ow(o,l,c,d,f,m){const v=m.hostBindings;if(v){let D=o.hostBindingOpCodes;null===D&&(D=o.hostBindingOpCodes=[]);const T=~l.index;(function LS(o){let l=o.length;for(;l>0;){const c=o[--l];if("number"==typeof c&&c<0)return c}return 0})(D)!=T&&D.push(T),D.push(d,f,v)}}function aw(o,l){null!==o.hostBindings&&o.hostBindings(1,l)}function lw(o,l){l.flags|=2,(o.components||(o.components=[])).push(l.index)}function uw(o,l,c){if(c){if(l.exportAs)for(let d=0;d<l.exportAs.length;d++)c[l.exportAs[d]]=o;ss(l)&&(c[""]=o)}}function dw(o,l,c){o.flags|=1,o.directiveStart=l,o.directiveEnd=l+c,o.providerIndexes=l}function hw(o,l,c,d,f){o.data[d]=f;const m=f.factory||(f.factory=qs(f.type)),v=new sl(m,ss(f),df);o.blueprint[d]=v,c[d]=v,ow(o,l,0,d,Du(o,c,f.hostVars,Dn),f)}function US(o,l,c){const d=gi(l,o),f=Dy(c),m=o[10],v=gf(o,hf(o,f,null,c.onPush?32:16,d,l,m,m.createRenderer(d,c),null,null,null));o[l.index]=v}function Ia(o,l,c,d,f,m){const v=gi(o,l);!function mf(o,l,c,d,f,m,v){if(null==m)o.removeAttribute(l,f,c);else{const D=null==v?z(m):v(m,d||"",f);o.setAttribute(l,f,D,c)}}(l[11],v,m,o.value,c,d,f)}function nO(o,l,c,d,f,m){const v=m[l];if(null!==v){const D=d.setInput;for(let T=0;T<v.length;){const H=v[T++],de=v[T++],Se=v[T++];null!==D?d.setInput(c,Se,H,de):c[de]=Se}}}function iO(o,l){let c=null,d=0;for(;d<l.length;){const f=l[d];if(0!==f)if(5!==f){if("number"==typeof f)break;o.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,o[f],l[d+1])),d+=2}else d+=2;else d+=4}return c}function jS(o,l,c,d){return new Array(o,!0,!1,l,null,0,d,c,null,null)}function Om(o,l){const c=Fi(l,o);if(Hr(c)){const d=c[1];48&c[2]?ff(d,c,d.template,c[8]):c[5]>0&&Fd(c)}}function Fd(o){for(let d=gm(o);null!==d;d=iy(d))for(let f=10;f<d.length;f++){const m=d[f];if(512&m[2]){const v=m[1];ff(v,m,v.template,m[8])}else m[5]>0&&Fd(m)}const c=o[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=Fi(c[d],o);Hr(f)&&f[5]>0&&Fd(f)}}function HS(o,l){const c=Fi(l,o),d=c[1];(function GS(o,l){for(let c=l.length;c<o.blueprint.length;c++)l.push(o.blueprint[c])})(d,c),Dl(d,c,c[8])}function gf(o,l){return o[13]?o[14][4]=l:o[13]=l,o[14]=l,l}function vc(o){for(;o;){o[2]|=32;const l=sf(o);if(Ga(o)&&!l)return o;o=l}return null}function pw(o){!function fw(o){for(let l=0;l<o.components.length;l++){const c=o.components[l],d=Q_(c);if(null!==d){const f=d[1];OS(f,d,f.template,c)}}}(o[8])}function My(o,l,c){tl(0),l(o,c)}const El=(()=>Promise.resolve(null))();function mw(o){return o[7]||(o[7]=[])}function Py(o){return o.cleanup||(o.cleanup=[])}function ky(o,l,c){return(null===o||ss(o))&&(c=function id(o){for(;Array.isArray(o);){if("object"==typeof o[1])return o;o=o[0]}return null}(c[l.index])),c[11]}function Fm(o,l){const c=o[9],d=c?c.get(tf,null):null;d&&d.handleError(l)}function Lm(o,l,c,d,f){for(let m=0;m<c.length;){const v=c[m++],D=c[m++],T=l[v],H=o.data[v];null!==H.setInput?H.setInput(T,f,d,D):T[D]=f}}function Nm(o,l,c){let d=c?o.styles:null,f=c?o.classes:null,m=0;if(null!==l)for(let v=0;v<l.length;v++){const D=l[v];"number"==typeof D?m=D:1==m?f=he(f,D):2==m&&(d=he(d,D+": "+l[++v]+";"))}c?o.styles=d:o.stylesWithoutHost=d,c?o.classes=f:o.classesWithoutHost=f}function Vm(o,l,c,d,f=!1){for(;null!==c;){const m=l[c.index];if(null!==m&&d.push(di(m)),ir(m))for(let D=10;D<m.length;D++){const T=m[D],H=T[1].firstChild;null!==H&&Vm(T[1],T,H,d)}const v=c.type;if(8&v)Vm(o,l,c.child,d);else if(32&v){const D=ty(c,l);let T;for(;T=D();)d.push(T)}else if(16&v){const D=L0(l,c);if(Array.isArray(D))d.push(...D);else{const T=sf(l[16]);Vm(T[1],T,D,d,!0)}}c=f?c.projectionNext:c.next}return d}class _f{constructor(l,c){this._lView=l,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const l=this._lView,c=l[1];return Vm(c,l,c.firstChild,[])}get context(){return this._lView[8]}set context(l){this._lView[8]=l}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const l=this._lView[3];if(ir(l)){const c=l[8],d=c?c.indexOf(this):-1;d>-1&&(af(l,d),hl(c,d))}this._attachedToViewContainer=!1}xi(this._lView[1],this._lView)}onDestroy(l){Sy(this._lView[1],this._lView,null,l)}markForCheck(){vc(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){!function xy(o,l,c){const d=l[10];d.begin&&d.begin();try{ff(o,l,o.template,c)}catch(f){throw Fm(l,f),f}finally{d.end&&d.end()}}(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vR(o,l){cf(o,l,l[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(l){if(this._attachedToViewContainer)throw new q(902,!1);this._appRef=l}}class WS extends _f{constructor(l){super(l),this._view=l}detectChanges(){pw(this._view)}checkNoChanges(){}get context(){return null}}class ps extends _e{constructor(l){super(),this.ngModule=l}resolveComponentFactory(l){const c=rn(l);return new Bm(c,this.ngModule)}}function qS(o){const l=[];for(let c in o)o.hasOwnProperty(c)&&l.push({propName:o[c],templateName:c});return l}class gw{constructor(l,c){this.injector=l,this.parentInjector=c}get(l,c,d){const f=this.injector.get(l,yu,d);return f!==yu||c===yu?f:this.parentInjector.get(l,c,d)}}class Bm extends y{constructor(l,c){super(),this.componentDef=l,this.ngModule=c,this.componentType=l.type,this.selector=function xR(o){return o.map(TR).join(",")}(l.selectors),this.ngContentSelectors=l.ngContentSelectors?l.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return qS(this.componentDef.inputs)}get outputs(){return qS(this.componentDef.outputs)}create(l,c,d,f){let m=(f=f||this.ngModule)instanceof Aa?f:f?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new gw(l,m):l,D=v.get(en,null);if(null===D)throw new q(407,!1);const T=v.get(wl,null),H=D.createRenderer(null,this.componentDef),de=this.componentDef.selectors[0][0]||"div",Se=d?function JR(o,l,c){return o.selectRootElement(l,c===ge.ShadowDom)}(H,d,this.componentDef.encapsulation):oy(D.createRenderer(null,this.componentDef),de,function yf(o){const l=o.toLowerCase();return"svg"===l?"svg":"math"===l?"math":null}(de)),He=this.componentDef.onPush?288:272,qe=function cO(o,l){return{components:[],scheduler:o||J_,clean:El,playerHandler:l||null,flags:0}}(),ht=Ey(0,null,null,1,0,null,null,null,null,null),Et=hf(null,ht,qe,He,null,null,D,H,T,v,null);let Ft,Ht;il(Et);try{const cn=function _w(o,l,c,d,f,m){const v=c[1];c[22]=o;const T=yc(v,22,2,"#host",null),H=T.mergedAttrs=l.hostAttrs;null!==H&&(Nm(T,H,!0),null!==o&&(xo(f,o,H),null!==T.classes&&V0(f,o,T.classes),null!==T.styles&&Am(f,o,T.styles)));const de=d.createRenderer(o,l),Se=hf(c,Dy(l),null,l.onPush?32:16,c[22],T,d,de,m||null,null,null);return v.firstCreatePass&&(Xl(qn(T,c),v,l.type),lw(v,T),dw(T,c.length,1)),gf(c,Se),c[22]=Se}(Se,this.componentDef,Et,D,H);if(Se)if(d)xo(H,Se,["ng-version",Sa.full]);else{const{attrs:bt,classes:sn}=function MR(o){const l=[],c=[];let d=1,f=2;for(;d<o.length;){let m=o[d];if("string"==typeof m)2===f?""!==m&&l.push(m,o[++d]):8===f&&c.push(m);else{if(!xa(f))break;f=m}d++}return{attrs:l,classes:c}}(this.componentDef.selectors[0]);bt&&xo(H,Se,bt),sn&&sn.length>0&&V0(H,Se,sn.join(" "))}if(Ht=oa(ht,22),void 0!==c){const bt=Ht.projection=[];for(let sn=0;sn<this.ngContentSelectors.length;sn++){const Mn=c[sn];bt.push(null!=Mn?Array.from(Mn):null)}}Ft=function lO(o,l,c,d,f){const m=c[1],v=function tO(o,l,c){const d=si();o.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),hw(o,d,l,Du(o,l,1,null),c),iw(o,d));const f=Js(l,o,d.directiveStart,d);Tr(f,l);const m=gi(d,l);return m&&Tr(m,l),f}(m,c,l);if(d.components.push(v),o[8]=v,null!==f)for(const T of f)T(v,l);if(l.contentQueries){const T=si();l.contentQueries(1,v,T.directiveStart)}const D=si();return!m.firstCreatePass||null===l.hostBindings&&null===l.hostAttrs||(As(D.index),ow(c[1],D,0,D.directiveStart,D.directiveEnd,l),aw(l,v)),v}(cn,this.componentDef,Et,qe,[YS]),Dl(ht,Et,null)}finally{Xc()}return new aO(this.componentType,Ft,tt(Ht,Et),Et,Ht)}}class aO extends class G_{}{constructor(l,c,d,f,m){super(),this.location=d,this._rootLView=f,this._tNode=m,this.instance=c,this.hostView=this.changeDetectorRef=new WS(f),this.componentType=l}setInput(l,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[l])){const m=this._rootLView;Lm(m[1],m,f,l,c),rw(m,this._tNode.index)}}get injector(){return new as(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(l){this.hostView.onDestroy(l)}}function YS(){const o=si();Ah(mt()[1],o)}function yw(o){let l=function Bn(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),c=!0;const d=[o];for(;l;){let f;if(ss(o))f=l.\u0275cmp||l.\u0275dir;else{if(l.\u0275cmp)throw new q(903,!1);f=l.\u0275dir}if(f){if(c){d.push(f);const v=o;v.inputs=vw(o.inputs),v.declaredInputs=vw(o.declaredInputs),v.outputs=vw(o.outputs);const D=f.hostBindings;D&&Eu(o,D);const T=f.viewQuery,H=f.contentQueries;if(T&&vf(o,T),H&&bf(o,H),B(o.inputs,f.inputs),B(o.declaredInputs,f.declaredInputs),B(o.outputs,f.outputs),ss(f)&&f.data.animation){const de=o.data;de.animation=(de.animation||[]).concat(f.data.animation)}}const m=f.features;if(m)for(let v=0;v<m.length;v++){const D=m[v];D&&D.ngInherit&&D(o),D===yw&&(c=!1)}}l=Object.getPrototypeOf(l)}!function dO(o){let l=0,c=null;for(let d=o.length-1;d>=0;d--){const f=o[d];f.hostVars=l+=f.hostVars,f.hostAttrs=Zl(f.hostAttrs,c=Zl(c,f.hostAttrs))}}(d)}function vw(o){return o===Ne?{}:o===we?[]:o}function vf(o,l){const c=o.viewQuery;o.viewQuery=c?(d,f)=>{l(d,f),c(d,f)}:l}function bf(o,l){const c=o.contentQueries;o.contentQueries=c?(d,f,m)=>{l(d,f,m),c(d,f,m)}:l}function Eu(o,l){const c=o.hostBindings;o.hostBindings=c?(d,f)=>{l(d,f),c(d,f)}:l}let Ry=null;function Au(){if(!Ry){const o=xe.Symbol;if(o&&o.iterator)Ry=o.iterator;else{const l=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<l.length;++c){const d=l[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Ry=d)}}}return Ry}function Ld(o){return!!bw(o)&&(Array.isArray(o)||!(o instanceof Map)&&Au()in o)}function bw(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Al(o,l,c){return o[l]=c}function Zr(o,l,c){return!Object.is(o[l],c)&&(o[l]=c,!0)}function Tu(o,l,c,d){const f=mt();return Zr(f,da(),l)&&(Cn(),Ia($n(),f,o,l,c,d)),Tu}function eT(o,l,c,d,f,m,v,D){const T=mt(),H=Cn(),de=o+22,Se=H.firstCreatePass?function vO(o,l,c,d,f,m,v,D,T){const H=l.consts,de=yc(l,o,4,v||null,Ji(H,D));Od(l,c,de,Ji(H,T)),Ah(l,de);const Se=de.tViews=Ey(2,de,d,f,m,l.directiveRegistry,l.pipeRegistry,null,l.schemas,H);return null!==l.queries&&(l.queries.template(l,de),Se.queries=l.queries.embeddedTView(de)),de}(de,H,T,l,c,d,f,m,v):H.data[de];_r(Se,!1);const He=T[11].createComment("");dy(H,T,He,Se),Tr(He,T),gf(T,T[de]=jS(He,T,He,Se)),ra(Se)&&Im(H,T,Se),null!=v&&Pm(T,Se,D)}function tT(o){return os(function sd(){return jt.lFrame.contextLView}(),22+o)}function Dw(o,l,c){const d=mt();return Zr(d,da(),l)&&fs(Cn(),$n(),d,o,l,d[11],c,!1),Dw}function Ew(o,l,c,d,f){const v=f?"class":"style";Lm(o,c,l.inputs[v],v,d)}function jm(o,l,c,d){const f=mt(),m=Cn(),v=22+o,D=f[11],T=f[v]=oy(D,l,function tu(){return jt.lFrame.currentNamespace}()),H=m.firstCreatePass?function wO(o,l,c,d,f,m,v){const D=l.consts,H=yc(l,o,2,f,Ji(D,m));return Od(l,c,H,Ji(D,v)),null!==H.attrs&&Nm(H,H.attrs,!1),null!==H.mergedAttrs&&Nm(H,H.mergedAttrs,!0),null!==l.queries&&l.queries.elementStart(l,H),H}(v,m,f,0,l,c,d):m.data[v];_r(H,!0);const de=H.mergedAttrs;null!==de&&xo(D,T,de);const Se=H.classes;null!==Se&&V0(D,T,Se);const He=H.styles;return null!==He&&Am(D,T,He),64!=(64&H.flags)&&dy(m,f,T,H),0===function Yc(){return jt.lFrame.elementDepthCount}()&&Tr(T,f),function Co(){jt.lFrame.elementDepthCount++}(),ra(H)&&(Im(m,f,H),pf(m,H,f)),null!==d&&Pm(f,H),jm}function Hm(){let o=si();Qa()?Es():(o=o.parent,_r(o,!1));const l=o;!function Do(){jt.lFrame.elementDepthCount--}();const c=Cn();return c.firstCreatePass&&(Ah(c,o),na(o)&&c.queries.elementEnd(o)),null!=l.classesWithoutHost&&function Th(o){return 0!=(16&o.flags)}(l)&&Ew(c,l,mt(),l.classesWithoutHost,!0),null!=l.stylesWithoutHost&&function Hp(o){return 0!=(32&o.flags)}(l)&&Ew(c,l,mt(),l.stylesWithoutHost,!1),Hm}function Aw(o,l,c,d){return jm(o,l,c,d),Hm(),Aw}function Gm(o,l,c){const d=mt(),f=Cn(),m=o+22,v=f.firstCreatePass?function nT(o,l,c,d,f){const m=l.consts,v=Ji(m,d),D=yc(l,o,8,"ng-container",v);return null!==v&&Nm(D,v,!0),Od(l,c,D,Ji(m,f)),null!==l.queries&&l.queries.elementStart(l,D),D}(m,f,d,l,c):f.data[m];_r(v,!0);const D=d[m]=d[11].createComment("");return dy(f,d,D,v),Tr(D,d),ra(v)&&(Im(f,d,v),pf(f,v,d)),null!=c&&Pm(d,v),Gm}function zm(){let o=si();const l=Cn();return Qa()?Es():(o=o.parent,_r(o,!1)),l.firstCreatePass&&(Ah(l,o),na(o)&&l.queries.elementEnd(o)),zm}function iT(){return mt()}function Df(o){return!!o&&"function"==typeof o.then}function Sw(o){return!!o&&"function"==typeof o.subscribe}const Tw=Sw;function Fy(o,l,c,d){const f=mt(),m=Cn(),v=si();return rT(m,f,f[11],v,o,l,0,d),Fy}function Ly(o,l){const c=si(),d=mt(),f=Cn();return rT(f,d,ky(el(f.data),c,d),c,o,l),Ly}function rT(o,l,c,d,f,m,v,D){const T=ra(d),de=o.firstCreatePass&&Py(o),Se=l[8],He=mw(l);let qe=!0;if(3&d.type||D){const Ft=gi(d,l),Ht=D?D(Ft):Ft,cn=He.length,bt=D?Mn=>D(di(Mn[d.index])):d.index;let sn=null;if(!D&&T&&(sn=function CO(o,l,c,d){const f=o.cleanup;if(null!=f)for(let m=0;m<f.length-1;m+=2){const v=f[m];if(v===c&&f[m+1]===d){const D=l[7],T=f[m+2];return D.length>T?D[T]:null}"string"==typeof v&&(m+=2)}return null}(o,l,f,d.index)),null!==sn)(sn.__ngLastListenerFn__||sn).__ngNextListenerFn__=m,sn.__ngLastListenerFn__=m,qe=!1;else{m=xw(d,l,Se,m,!1);const Mn=c.listen(Ht,f,m);He.push(m,Mn),de&&de.push(f,bt,cn,cn+1)}}else m=xw(d,l,Se,m,!1);const ht=d.outputs;let Et;if(qe&&null!==ht&&(Et=ht[f])){const Ft=Et.length;if(Ft)for(let Ht=0;Ht<Ft;Ht+=2){const pi=l[Et[Ht]][Et[Ht+1]].subscribe(m),Pl=He.length;He.push(m,pi),de&&de.push(f,d.index,Pl,-(Pl+1))}}}function $m(o,l,c,d){try{return!1!==c(d)}catch(f){return Fm(o,f),!1}}function xw(o,l,c,d,f){return function m(v){if(v===Function)return d;vc(2&o.flags?Fi(o.index,l):l);let T=$m(l,0,d,v),H=m.__ngNextListenerFn__;for(;H;)T=$m(l,0,H,v)&&T,H=H.__ngNextListenerFn__;return f&&!1===T&&(v.preventDefault(),v.returnValue=!1),T}}function sT(o=1){return function Yl(o){return(jt.lFrame.contextLView=function Kl(o,l){for(;o>0;)l=l[15],o--;return l}(o,jt.lFrame.contextLView))[8]}(o)}function Ny(o,l){let c=null;const d=function ER(o){const l=o.attrs;if(null!=l){const c=l.indexOf(5);if(0==(1&c))return l[c+1]}return null}(o);for(let f=0;f<l.length;f++){const m=l[f];if("*"!==m){if(null===d?aS(o,m,!0):SR(d,m))return f}else c=f}return c}function oT(o){const l=mt()[16][6];if(!l.projection){const d=l.projection=cs(o?o.length:1,null),f=d.slice();let m=l.child;for(;null!==m;){const v=o?Ny(m,o):0;null!==v&&(f[v]?f[v].projectionNext=m:d[v]=m,f[v]=m),m=m.next}}}function aT(o,l=0,c){const d=mt(),f=Cn(),m=yc(f,22+o,16,null,c||null);null===m.projection&&(m.projection=l),Es(),64!=(64&m.flags)&&function rS(o,l,c){sS(l[11],0,l,c,ly(o,c,l),F0(c.parent||l[6],c,l))}(f,d,m)}function Rw(o,l,c,d,f){const m=o[c+1],v=null===l;let D=d?Ma(m):_c(m),T=!1;for(;0!==D&&(!1===T||v);){const de=o[D+1];Gn(o[D],l)&&(T=!0,o[D+1]=d?Y0(de):W0(de)),D=d?Ma(de):_c(de)}T&&(o[c+1]=d?W0(m):Y0(m))}function Gn(o,l){return null===o||null==l||(Array.isArray(o)?o[1]:o)===l||!(!Array.isArray(o)||"string"!=typeof l)&&Ts(o,l)>=0}function Nw(o,l,c){return Qr(o,l,c,!1),Nw}function qm(o,l){return Qr(o,l,null,!0),qm}function Qr(o,l,c,d){const f=mt(),m=Cn(),v=function Gr(o){const l=jt.lFrame,c=l.bindingIndex;return l.bindingIndex=l.bindingIndex+o,c}(2);m.firstUpdatePass&&function Bw(o,l,c,d){const f=o.data;if(null===f[c+1]){const m=f[vi()],v=function Ym(o,l){return l>=o.expandoStartIndex}(o,c);(function Gw(o,l){return 0!=(o.flags&(l?16:32))})(m,d)&&null===l&&!v&&(l=!1),l=function _T(o,l,c,d){const f=el(o);let m=d?l.residualClasses:l.residualStyles;if(null===f)0===(d?l.classBindings:l.styleBindings)&&(c=Af(c=By(null,o,l,c,d),l.attrs,d),m=null);else{const v=l.directiveStylingLast;if(-1===v||o[v]!==f)if(c=By(f,o,l,c,d),null===m){let T=function yT(o,l,c){const d=c?l.classBindings:l.styleBindings;if(0!==_c(d))return o[Ma(d)]}(o,l,d);void 0!==T&&Array.isArray(T)&&(T=By(null,o,l,T[1],d),T=Af(T,l.attrs,d),function vT(o,l,c,d){o[Ma(c?l.classBindings:l.styleBindings)]=d}(o,l,d,T))}else m=function bT(o,l,c){let d;const f=l.directiveEnd;for(let m=1+l.directiveStylingLast;m<f;m++)d=Af(d,o[m].hostAttrs,c);return Af(d,l.attrs,c)}(o,l,d)}return void 0!==m&&(d?l.residualClasses=m:l.residualStyles=m),c}(f,m,l,d),function hT(o,l,c,d,f,m){let v=m?l.classBindings:l.styleBindings,D=Ma(v),T=_c(v);o[d]=c;let de,H=!1;if(Array.isArray(c)){const Se=c;de=Se[1],(null===de||Ts(Se,de)>0)&&(H=!0)}else de=c;if(f)if(0!==T){const He=Ma(o[D+1]);o[d+1]=_y(He,D),0!==He&&(o[He+1]=q0(o[He+1],d)),o[D+1]=function $R(o,l){return 131071&o|l<<17}(o[D+1],d)}else o[d+1]=_y(D,0),0!==D&&(o[D+1]=q0(o[D+1],d)),D=d;else o[d+1]=_y(T,0),0===D?D=d:o[T+1]=q0(o[T+1],d),T=d;H&&(o[d+1]=W0(o[d+1])),Rw(o,de,d,!0),Rw(o,de,d,!1),function fT(o,l,c,d,f){const m=f?o.residualClasses:o.residualStyles;null!=m&&"string"==typeof l&&Ts(m,l)>=0&&(c[d+1]=Y0(c[d+1]))}(l,de,o,d,m),v=_y(D,T),m?l.classBindings=v:l.styleBindings=v}(f,m,l,c,v,d)}}(m,o,v,d),l!==Dn&&Zr(f,v,l)&&function jw(o,l,c,d,f,m,v,D){if(!(3&l.type))return;const T=o.data,H=T[D+1];Km(function TS(o){return 1==(1&o)}(H)?Hw(T,l,c,f,_c(H),v):void 0)||(Km(m)||function SS(o){return 2==(2&o)}(H)&&(m=Hw(T,null,c,f,D,v)),function Em(o,l,c,d,f){if(l)f?o.addClass(c,d):o.removeClass(c,d);else{let m=-1===d.indexOf("-")?void 0:Ho.DashCase;null==f?o.removeStyle(c,d,m):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),m|=Ho.Important),o.setStyle(c,d,f,m))}}(d,v,qa(vi(),c),f,m))}(m,m.data[vi()],f,f[11],o,f[v+1]=function DT(o,l){return null==o||("string"==typeof l?o+=l:"object"==typeof o&&(o=ce(Bo(o)))),o}(l,c),d,v)}function By(o,l,c,d,f){let m=null;const v=c.directiveEnd;let D=c.directiveStylingLast;for(-1===D?D=c.directiveStart:D++;D<v&&(m=l[D],d=Af(d,m.hostAttrs,f),m!==o);)D++;return null!==o&&(c.directiveStylingLast=D),d}function Af(o,l,c){const d=c?1:2;let f=-1;if(null!==l)for(let m=0;m<l.length;m++){const v=l[m];"number"==typeof v?f=v:f===d&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),Gi(o,v,!!c||l[++m]))}return void 0===o?null:o}function Hw(o,l,c,d,f,m){const v=null===l;let D;for(;f>0;){const T=o[f],H=Array.isArray(T),de=H?T[1]:T,Se=null===de;let He=c[f+1];He===Dn&&(He=Se?we:void 0);let qe=Se?rc(He,d):de===d?He:void 0;if(H&&!Km(qe)&&(qe=rc(T,d)),Km(qe)&&(D=qe,v))return D;const ht=o[f+1];f=v?Ma(ht):_c(ht)}if(null!==l){let T=m?l.residualClasses:l.residualStyles;null!=T&&(D=rc(T,d))}return D}function Km(o){return void 0!==o}function zw(o,l=""){const c=mt(),d=Cn(),f=o+22,m=d.firstCreatePass?yc(d,f,1,l,null):d.data[f],v=c[f]=function _m(o,l){return o.createText(l)}(c[11],l);dy(d,c,v,m),_r(m,!1)}function Uy(o){return Sf("",o,""),Uy}function Sf(o,l,c){const d=mt(),f=function Nd(o,l,c,d){return Zr(o,da(),c)?l+z(c)+d:Dn}(d,o,l,c);return f!==Dn&&function oo(o,l,c){const d=qa(l,o);!function k0(o,l,c){o.setValue(l,c)}(o[11],d,c)}(d,vi(),f),Sf}function qy(o,l,c){const d=mt();return Zr(d,da(),l)&&fs(Cn(),$n(),d,o,l,d[11],c,!0),qy}function Yy(o,l,c){const d=mt();if(Zr(d,da(),l)){const m=Cn(),v=$n();fs(m,v,d,o,l,ky(el(m.data),v,d),c,!0)}return Yy}const Ra=void 0;var Ac=["en",[["a","p"],["AM","PM"],Ra],[["AM","PM"],Ra,Ra],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ra,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ra,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ra,"{1} 'at' {0}",Ra],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function LT(o){const c=Math.floor(Math.abs(o)),d=o.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let ku={};function Oa(o){const l=function eC(o){return o.toLowerCase().replace(/_/g,"-")}(o);let c=Ky(l);if(c)return c;const d=l.split("-")[0];if(c=Ky(d),c)return c;if("en"===d)return Ac;throw new q(701,!1)}function jd(o){return Oa(o)[ln.PluralCase]}function Ky(o){return o in ku||(ku[o]=xe.ng&&xe.ng.common&&xe.ng.common.locales&&xe.ng.common.locales[o]),ku[o]}var ln=(()=>((ln=ln||{})[ln.LocaleId=0]="LocaleId",ln[ln.DayPeriodsFormat=1]="DayPeriodsFormat",ln[ln.DayPeriodsStandalone=2]="DayPeriodsStandalone",ln[ln.DaysFormat=3]="DaysFormat",ln[ln.DaysStandalone=4]="DaysStandalone",ln[ln.MonthsFormat=5]="MonthsFormat",ln[ln.MonthsStandalone=6]="MonthsStandalone",ln[ln.Eras=7]="Eras",ln[ln.FirstDayOfWeek=8]="FirstDayOfWeek",ln[ln.WeekendRange=9]="WeekendRange",ln[ln.DateFormat=10]="DateFormat",ln[ln.TimeFormat=11]="TimeFormat",ln[ln.DateTimeFormat=12]="DateTimeFormat",ln[ln.NumberSymbols=13]="NumberSymbols",ln[ln.NumberFormats=14]="NumberFormats",ln[ln.CurrencyCode=15]="CurrencyCode",ln[ln.CurrencySymbol=16]="CurrencySymbol",ln[ln.CurrencyName=17]="CurrencyName",ln[ln.Currencies=18]="Currencies",ln[ln.Directionality=19]="Directionality",ln[ln.PluralCase=20]="PluralCase",ln[ln.ExtraData=21]="ExtraData",ln))();const Ru="en-US";let Zy=Ru;function fg(o,l,c,d,f){if(o=se(o),Array.isArray(o))for(let m=0;m<o.length;m++)fg(o[m],l,c,d,f);else{const m=Cn(),v=mt();let D=$i(o)?o:se(o.provide),T=Qh(o);const H=si(),de=1048575&H.providerIndexes,Se=H.directiveStart,He=H.providerIndexes>>20;if($i(o)||!o.multi){const qe=new sl(T,f,df),ht=wC(D,l,f?de:de+He,Se);-1===ht?(Xl(qn(H,v),m,D),pg(m,o,l.length),l.push(D),H.directiveStart++,H.directiveEnd++,f&&(H.providerIndexes+=1048576),c.push(qe),v.push(qe)):(c[ht]=qe,v[ht]=qe)}else{const qe=wC(D,l,de+He,Se),ht=wC(D,l,de,de+He),Et=qe>=0&&c[qe],Ft=ht>=0&&c[ht];if(f&&!Ft||!f&&!Et){Xl(qn(H,v),m,D);const Ht=function VO(o,l,c,d,f){const m=new sl(o,c,df);return m.multi=[],m.index=l,m.componentProviders=0,$d(m,f,d&&!c),m}(f?CC:QT,c.length,f,d,T);!f&&Ft&&(c[ht].providerFactory=Ht),pg(m,o,l.length,0),l.push(D),H.directiveStart++,H.directiveEnd++,f&&(H.providerIndexes+=1048576),c.push(Ht),v.push(Ht)}else pg(m,o,qe>-1?qe:ht,$d(c[f?ht:qe],T,!f&&d));!f&&d&&Ft&&c[ht].componentProviders++}}}function pg(o,l,c,d){const f=$i(l),m=function om(o){return!!o.useClass}(l);if(f||m){const T=(m?se(l.useClass):l).prototype.ngOnDestroy;if(T){const H=o.destroyHooks||(o.destroyHooks=[]);if(!f&&l.multi){const de=H.indexOf(c);-1===de?H.push(c,[d,T]):H[de+1].push(d,T)}else H.push(c,T)}}}function $d(o,l,c){return c&&o.componentProviders++,o.multi.push(l)-1}function wC(o,l,c,d){for(let f=c;f<d;f++)if(l[f]===o)return f;return-1}function QT(o,l,c,d){return DC(this.multi,[])}function CC(o,l,c,d){const f=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=Js(c,c[1],this.providerFactory.index,d);m=D.slice(0,v),DC(f,m);for(let T=v;T<D.length;T++)m.push(D[T])}else m=[],DC(f,m);return m}function DC(o,l){for(let c=0;c<o.length;c++)l.push((0,o[c])());return l}function XT(o,l=[]){return c=>{c.providersResolver=(d,f)=>function hg(o,l,c){const d=Cn();if(d.firstCreatePass){const f=ss(o);fg(c,d.data,d.blueprint,f,!0),fg(l,d.data,d.blueprint,f,!1)}}(d,f?f(o):o,l)}}class Ff{}class EC{}function AC(o,l){return new cv(o,l??null)}class cv extends Ff{constructor(l,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ps(this);const d=Rn(l);this._bootstrapComponents=gc(d.bootstrap),this._r3Injector=mS(l,c,[{provide:Ff,useValue:this},{provide:_e,useValue:this.componentFactoryResolver}],ce(l),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(l)}get injector(){return this._r3Injector}destroy(){const l=this._r3Injector;!l.destroyed&&l.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(l){this.destroyCbs.push(l)}}class mg extends EC{constructor(l){super(),this.moduleType=l}create(l){return new cv(this.moduleType,l)}}class SC extends Ff{constructor(l,c,d){super(),this.componentFactoryResolver=new ps(this),this.instance=null;const f=new Sd([...l,{provide:Ff,useValue:this},{provide:_e,useValue:this.componentFactoryResolver}],c||tr(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(l){this.injector.onDestroy(l)}}function uv(o,l,c=null){return new SC(o,l,c).injector}function gv(o,l,c,d){return vv(mt(),Ui(),o,l,c,d)}function LC(o,l,c,d,f){return function bv(o,l,c,d,f,m,v){const D=l+c;return function bc(o,l,c,d){const f=Zr(o,l,c);return Zr(o,l+1,d)||f}(o,D,f,m)?Al(o,D+2,v?d.call(v,f,m):d(f,m)):Lf(o,D+2)}(mt(),Ui(),o,l,c,d,f)}function Lf(o,l){const c=o[l];return c===Dn?void 0:c}function vv(o,l,c,d,f,m){const v=l+c;return Zr(o,v,f)?Al(o,v+1,m?d.call(m,f):d(f)):Lf(o,v+1)}function BC(o,l){const c=Cn();let d;const f=o+22;c.firstCreatePass?(d=function UC(o,l){if(l)for(let c=l.length-1;c>=0;c--){const d=l[c];if(o===d.name)return d}}(l,c.pipeRegistry),c.data[f]=d,d.onDestroy&&(c.destroyHooks||(c.destroyHooks=[])).push(f,d.onDestroy)):d=c.data[f];const m=d.factory||(d.factory=qs(d.type)),v=Rt(df);try{const D=vr(!1),T=m();return vr(D),function bO(o,l,c,d){c>=o.data.length&&(o.data[c]=null,o.blueprint[c]=null),l[c]=d}(c,mt(),f,T),T}finally{Rt(v)}}function jC(o,l,c){const d=o+22,f=mt(),m=os(f,d);return function Nf(o,l){return o[1].data[l].pure}(f,d)?vv(f,Ui(),l,m.transform,c,m):m.transform(c)}function Dv(o){return l=>{setTimeout(o,void 0,l)}}const $o=class zC extends s.x{constructor(l=!1){super(),this.__isAsync=l}emit(l){super.next(l)}subscribe(l,c,d){let f=l,m=c||(()=>null),v=d;if(l&&"object"==typeof l){const T=l;f=T.next?.bind(T),m=T.error?.bind(T),v=T.complete?.bind(T)}this.__isAsync&&(m=Dv(m),f&&(f=Dv(f)),v&&(v=Dv(v)));const D=super.subscribe({next:f,error:m,complete:v});return l instanceof te.w0&&l.add(D),D}};function cx(){return this._results[Au()]()}class Vf{constructor(l=!1){this._emitDistinctChangesOnly=l,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=Au(),d=Vf.prototype;d[c]||(d[c]=cx)}get changes(){return this._changes||(this._changes=new $o)}get(l){return this._results[l]}map(l){return this._results.map(l)}filter(l){return this._results.filter(l)}find(l){return this._results.find(l)}reduce(l,c){return this._results.reduce(l,c)}forEach(l){this._results.forEach(l)}some(l){return this._results.some(l)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(l,c){const d=this;d.dirty=!1;const f=Si(l);(this._changesDetected=!function ya(o,l,c){if(o.length!==l.length)return!1;for(let d=0;d<o.length;d++){let f=o[d],m=l[d];if(c&&(f=c(f),m=c(m)),m!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let _g=(()=>{class o{}return o.__NG_ELEMENT_ID__=$C,o})();const HO=_g,GO=class extends HO{constructor(l,c,d){super(),this._declarationLView=l,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(l,c){const d=this._declarationTContainer.tViews,f=hf(this._declarationLView,d,l,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(f[19]=v.createEmbeddedView(d)),Dl(d,f,l),new _f(f)}};function $C(){return yg(si(),mt())}function yg(o,l){return 4&o.type?new GO(l,o,tt(o,l)):null}let Bf=(()=>{class o{}return o.__NG_ELEMENT_ID__=WC,o})();function WC(){return dx(si(),mt())}const zO=Bf,ux=class extends zO{constructor(l,c,d){super(),this._lContainer=l,this._hostTNode=c,this._hostLView=d}get element(){return tt(this._hostTNode,this._hostLView)}get injector(){return new as(this._hostTNode,this._hostLView)}get parentInjector(){const l=Ql(this._hostTNode,this._hostLView);if(Ih(l)){const c=$r(l,this._hostLView),d=ol(l);return new as(c[1].data[d+8],c)}return new as(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(l){const c=Ev(this._lContainer);return null!==c&&c[l]||null}get length(){return this._lContainer.length-10}createEmbeddedView(l,c,d){let f,m;"number"==typeof d?f=d:null!=d&&(f=d.index,m=d.injector);const v=l.createEmbeddedView(c||{},m);return this.insert(v,f),v}createComponent(l,c,d,f,m){const v=l&&!function mr(o){return"function"==typeof o}(l);let D;if(v)D=c;else{const Se=c||{};D=Se.index,d=Se.injector,f=Se.projectableNodes,m=Se.environmentInjector||Se.ngModuleRef}const T=v?l:new Bm(rn(l)),H=d||this.parentInjector;if(!m&&null==T.ngModule){const He=(v?H:this.parentInjector).get(Aa,null);He&&(m=He)}const de=T.create(H,f,void 0,m);return this.insert(de.hostView,D),de}insert(l,c){const d=l._lView,f=d[1];if(function rd(o){return ir(o[3])}(d)){const de=this.indexOf(l);if(-1!==de)this.detach(de);else{const Se=d[3],He=new ux(Se,Se[6],Se[3]);He.detach(He.indexOf(l))}}const m=this._adjustIndex(c),v=this._lContainer;!function ym(o,l,c,d){const f=10+d,m=c.length;d>0&&(c[f-1][4]=l),d<m-10?(l[4]=c[f],nc(c,10+d,l)):(c.push(l),l[4]=null),l[3]=c;const v=l[17];null!==v&&c!==v&&function vm(o,l){const c=o[9];l[16]!==l[3][3][16]&&(o[2]=!0),null===c?o[9]=[l]:c.push(l)}(v,l);const D=l[19];null!==D&&D.insertView(o),l[2]|=64}(f,d,v,m);const D=N0(m,v),T=d[11],H=cy(T,v[7]);return null!==H&&function iS(o,l,c,d,f,m){d[0]=f,d[6]=l,cf(o,d,c,1,f,m)}(f,v[6],T,d,H,D),l.attachToViewContainerRef(),nc(Av(v),m,l),l}move(l,c){return this.insert(l,c)}indexOf(l){const c=Ev(this._lContainer);return null!==c?c.indexOf(l):-1}remove(l){const c=this._adjustIndex(l,-1),d=af(this._lContainer,c);d&&(hl(Av(this._lContainer),c),xi(d[1],d))}detach(l){const c=this._adjustIndex(l,-1),d=af(this._lContainer,c);return d&&null!=hl(Av(this._lContainer),c)?new _f(d):null}_adjustIndex(l,c=0){return l??this.length+c}};function Ev(o){return o[8]}function Av(o){return o[8]||(o[8]=[])}function dx(o,l){let c;const d=l[o.index];if(ir(d))c=d;else{let f;if(8&o.type)f=di(d);else{const m=l[11];f=m.createComment("");const v=gi(o,l);bu(m,cy(m,v),f,function uy(o,l){return o.nextSibling(l)}(m,v),!1)}l[o.index]=c=jS(d,l,f,o),gf(l,c)}return new ux(c,o,l)}class vg{constructor(l){this.queryList=l,this.matches=null}clone(){return new vg(this.queryList)}setDirty(){this.queryList.setDirty()}}class Sv{constructor(l=[]){this.queries=l}createEmbeddedView(l){const c=l.queries;if(null!==c){const d=null!==l.contentQueries?l.contentQueries[0]:c.length,f=[];for(let m=0;m<d;m++){const v=c.getByIndex(m);f.push(this.queries[v.indexInDeclarationView].clone())}return new Sv(f)}return null}insertView(l){this.dirtyQueriesWithMatches(l)}detachView(l){this.dirtyQueriesWithMatches(l)}dirtyQueriesWithMatches(l){for(let c=0;c<this.queries.length;c++)null!==QC(l,c).matches&&this.queries[c].setDirty()}}class qC{constructor(l,c,d=null){this.predicate=l,this.flags=c,this.read=d}}class Tv{constructor(l=[]){this.queries=l}elementStart(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(l,c)}elementEnd(l){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(l)}embeddedTView(l){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,m=this.getByIndex(d).embeddedTView(l,f);m&&(m.indexInDeclarationView=d,null!==c?c.push(m):c=[m])}return null!==c?new Tv(c):null}template(l,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(l,c)}getByIndex(l){return this.queries[l]}get length(){return this.queries.length}track(l){this.queries.push(l)}}class bg{constructor(l,c=-1){this.metadata=l,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(l,c){this.isApplyingToNode(c)&&this.matchTNode(l,c)}elementEnd(l){this._declarationNodeIndex===l.index&&(this._appliesToNextNode=!1)}template(l,c){this.elementStart(l,c)}embeddedTView(l,c){return this.isApplyingToNode(l)?(this.crossesNgTemplate=!0,this.addMatch(-l.index,c),new bg(this.metadata)):null}isApplyingToNode(l){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=l.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(l,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const m=d[f];this.matchTNodeWithReadOption(l,c,hx(c,m)),this.matchTNodeWithReadOption(l,c,Xs(c,l,m,!1,!1))}else d===_g?4&c.type&&this.matchTNodeWithReadOption(l,c,-1):this.matchTNodeWithReadOption(l,c,Xs(c,l,d,!1,!1))}matchTNodeWithReadOption(l,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===Mt||f===Bf||f===_g&&4&c.type)this.addMatch(c.index,-2);else{const m=Xs(c,l,f,!1,!1);null!==m&&this.addMatch(c.index,m)}else this.addMatch(c.index,d)}}addMatch(l,c){null===this.matches?this.matches=[l,c]:this.matches.push(l,c)}}function hx(o,l){const c=o.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===l)return c[d+1];return null}function Uf(o,l,c,d){return-1===c?function YC(o,l){return 11&o.type?tt(o,l):4&o.type?yg(o,l):null}(l,o):-2===c?function fx(o,l,c){return c===Mt?tt(l,o):c===_g?yg(l,o):c===Bf?dx(l,o):void 0}(o,l,d):Js(o,o[1],c,l)}function xv(o,l,c,d){const f=l[19].queries[d];if(null===f.matches){const m=o.data,v=c.matches,D=[];for(let T=0;T<v.length;T+=2){const H=v[T];D.push(H<0?null:Uf(l,m[H],v[T+1],c.metadata.read))}f.matches=D}return f.matches}function Mv(o,l,c,d){const f=o.queries.getByIndex(c),m=f.matches;if(null!==m){const v=xv(o,l,f,c);for(let D=0;D<m.length;D+=2){const T=m[D];if(T>0)d.push(v[D/2]);else{const H=m[D+1],de=l[-T];for(let Se=10;Se<de.length;Se++){const He=de[Se];He[17]===He[3]&&Mv(He[1],He,H,d)}if(null!==de[9]){const Se=de[9];for(let He=0;He<Se.length;He++){const qe=Se[He];Mv(qe[1],qe,H,d)}}}}}return d}function Iv(o){const l=mt(),c=Cn(),d=zl();tl(d+1);const f=QC(c,d);if(o.dirty&&Ds(l)===(2==(2&f.metadata.flags))){if(null===f.matches)o.reset([]);else{const m=f.crossesNgTemplate?Mv(c,l,d,[]):xv(c,l,f,d);o.reset(m,Ut),o.notifyOnChanges()}return!0}return!1}function px(o,l,c){const d=Cn();d.firstCreatePass&&(ZC(d,new qC(o,l,c),-1),2==(2&l)&&(d.staticViewQueries=!0)),Pv(d,mt(),l)}function KC(o,l,c,d){const f=Cn();if(f.firstCreatePass){const m=si();ZC(f,new qC(l,c,d),m.index),function qO(o,l){const c=o.contentQueries||(o.contentQueries=[]);l!==(c.length?c[c.length-1]:-1)&&c.push(o.queries.length-1,l)}(f,o),2==(2&c)&&(f.staticContentQueries=!0)}Pv(f,mt(),c)}function wg(){return function Cg(o,l){return o[19].queries[l].queryList}(mt(),zl())}function Pv(o,l,c){const d=new Vf(4==(4&c));Sy(o,l,d,d.destroy),null===l[19]&&(l[19]=new Sv),l[19].queries.push(new vg(d))}function ZC(o,l,c){null===o.queries&&(o.queries=new Tv),o.queries.track(new bg(l,c))}function QC(o,l){return o.queries.getByIndex(l)}function XC(o,l){return yg(o,l)}function jf(o){const l=rn(o)||wn(o)||Sn(o);return null!==l&&l.standalone}function Bu(...o){}const kx=new xn("Application Initializer");let Ag=(()=>{class o{constructor(c){this.appInits=c,this.resolve=Bu,this.reject=Bu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const m=this.appInits[f]();if(Df(m))c.push(m);else if(Tw(m)){const v=new Promise((D,T)=>{m.subscribe({complete:D,error:T})});c.push(v)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return o.\u0275fac=function(c){return new(c||o)(ci(kx,8))},o.\u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Rx=new xn("AppId",{providedIn:"root",factory:function Ox(){return`${Fv()}${Fv()}${Fv()}`}});function Fv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lD=new xn("Platform Initializer"),Sg=new xn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Yd=new xn("appBootstrapListener"),Nx=new xn("AnimationModuleType");let Vx=(()=>{class o{log(c){console.log(c)}warn(c){console.warn(c)}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();const zf=new xn("LocaleId",{providedIn:"root",factory:()=>oc(zf,lt.Optional|lt.SkipSelf)||function Uu(){return typeof $localize<"u"&&$localize.locale||Ru}()}),cD=new xn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Ux{constructor(l,c){this.ngModuleFactory=l,this.componentFactories=c}}let jx=(()=>{class o{compileModuleSync(c){return new mg(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),m=gc(Rn(c).declarations).reduce((v,D)=>{const T=rn(D);return T&&v.push(new Bm(T)),v},[]);return new Ux(d,m)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const zx=(()=>Promise.resolve(0))();function xc(o){typeof Zone>"u"?zx.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Fs{constructor({enableLongStackTrace:l=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new $o(!1),this.onMicrotaskEmpty=new $o(!1),this.onStable=new $o(!1),this.onError=new $o(!1),typeof Zone>"u")throw new q(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const m=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new m("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),l&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function u1(){let o=xe.requestAnimationFrame,l=xe.cancelAnimationFrame;if(typeof Zone<"u"&&o&&l){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=l[Zone.__symbol__("OriginalDelegate")];d&&(l=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:l}}().nativeRequestAnimationFrame,function Lv(o){const l=()=>{!function hD(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(xe,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,xg(o),o.isCheckStableRunning=!0,dD(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),xg(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,m,v,D)=>{try{return fD(o),c.invokeTask(f,m,v,D)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||o.shouldCoalesceRunChangeDetection)&&l(),pD(o)}},onInvoke:(c,d,f,m,v,D,T)=>{try{return fD(o),c.invoke(f,m,v,D,T)}finally{o.shouldCoalesceRunChangeDetection&&l(),pD(o)}},onHasTask:(c,d,f,m)=>{c.hasTask(f,m),d===f&&("microTask"==m.change?(o._hasPendingMicrotasks=m.microTask,xg(o),dD(o)):"macroTask"==m.change&&(o.hasPendingMacrotasks=m.macroTask))},onHandleError:(c,d,f,m)=>(c.handleError(f,m),o.runOutsideAngular(()=>o.onError.emit(m)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fs.isInAngularZone())throw new q(909,!1)}static assertNotInAngularZone(){if(Fs.isInAngularZone())throw new q(909,!1)}run(l,c,d){return this._inner.run(l,c,d)}runTask(l,c,d,f){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+f,l,Tg,Bu,Bu);try{return m.runTask(v,c,d)}finally{m.cancelTask(v)}}runGuarded(l,c,d){return this._inner.runGuarded(l,c,d)}runOutsideAngular(l){return this._outer.run(l)}}const Tg={};function dD(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function xg(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function fD(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function pD(o){o._nesting--,dD(o)}class $x{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new $o,this.onMicrotaskEmpty=new $o,this.onStable=new $o,this.onError=new $o}run(l,c,d){return l.apply(c,d)}runGuarded(l,c,d){return l.apply(c,d)}runOutsideAngular(l){return l()}runTask(l,c,d,f){return l.apply(c,d)}}const mD=new xn(""),gD=new xn("");let Nv,_D=(()=>{class o{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Nv||(function Wx(o){Nv=o}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fs.assertNotInAngularZone(),xc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())xc(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:m,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return o.\u0275fac=function(c){return new(c||o)(ci(Fs),ci(Mg),ci(gD))},o.\u0275prov=Q({token:o,factory:o.\u0275fac}),o})(),Mg=(()=>{class o{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Nv?.findTestabilityInTree(this,c,d)??null}}return o.\u0275fac=function(c){return new(c||o)},o.\u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})(),Ls=null;const yD=new xn("AllowMultipleToken"),Kd=new xn("PlatformDestroyListeners");class Vv{constructor(l,c){this.name=l,this.token=c}}function CD(o,l,c=[]){const d=`Platform: ${l}`,f=new xn(d);return(m=[])=>{let v=ED();if(!v||v.injector.get(yD,!1)){const D=[...c,...m,{provide:f,useValue:!0}];o?o(D):function Yx(o){if(Ls&&!Ls.get(yD,!1))throw new q(400,!1);Ls=o;const l=o.get(Bv);(function Kx(o){const l=o.get(lD,null);l&&l.forEach(c=>c())})(o)}(function DD(o=[],l){return kd.create({name:l,providers:[{provide:Zh,useValue:"platform"},{provide:Kd,useValue:new Set([()=>Ls=null])},...o]})}(D,d))}return function Zx(o){const l=ED();if(!l)throw new q(401,!1);return l}()}}function ED(){return Ls?.get(Bv)??null}let Bv=(()=>{class o{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function h1(o,l){let c;return c="noop"===o?new $x:("zone.js"===o?void 0:o)||new Fs(l),c}(d?.ngZone,function Qx(o){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!o||!o.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!o||!o.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:Fs,useValue:f}];return f.run(()=>{const v=kd.create({providers:m,parent:this.injector,name:c.moduleType.name}),D=c.create(v),T=D.injector.get(tf,null);if(!T)throw new q(402,!1);return f.runOutsideAngular(()=>{const H=f.onError.subscribe({next:de=>{T.handleError(de)}});D.onDestroy(()=>{$f(this._modules,D),H.unsubscribe()})}),function Xx(o,l,c){try{const d=c();return Df(d)?d.catch(f=>{throw l.runOutsideAngular(()=>o.handleError(f)),f}):d}catch(d){throw l.runOutsideAngular(()=>o.handleError(d)),d}}(T,f,()=>{const H=D.injector.get(Ag);return H.runInitializers(),H.donePromise.then(()=>(function rC(o){ve(o,"Expected localeId to be defined"),"string"==typeof o&&(Zy=o.toLowerCase().replace(/_/g,"-"))}(D.injector.get(zf,Ru)||Ru),this._moduleDoBootstrap(D),D))})})}bootstrapModule(c,d=[]){const f=AD({},d);return function qx(o,l,c){const d=new mg(c);return Promise.resolve(d)}(0,0,c).then(m=>this.bootstrapModuleFactory(m,f))}_moduleDoBootstrap(c){const d=c.injector.get(Pg);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new q(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new q(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(Kd,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(c){return new(c||o)(ci(kd))},o.\u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"platform"}),o})();function AD(o,l){return Array.isArray(l)?l.reduce(AD,o):{...o,...l}}let Pg=(()=>{class o{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new O.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new O.y(D=>{let T;this._zone.runOutsideAngular(()=>{T=this._zone.onStable.subscribe(()=>{Fs.assertNotInAngularZone(),xc(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const H=this._zone.onUnstable.subscribe(()=>{Fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{T.unsubscribe(),H.unsubscribe()}});this.isStable=(0,pe.T)(m,v.pipe((0,ie.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof y;if(!this._injector.get(Ag).done)throw!f&&jf(c),new q(405,false);let v;v=f?c:this._injector.get(_e).resolveComponentFactory(c),this.componentTypes.push(v.componentType);const D=function bD(o){return o.isBoundToModule}(v)?void 0:this._injector.get(Ff),H=v.create(kd.NULL,[],d||v.selector,D),de=H.location.nativeElement,Se=H.injector.get(mD,null);return Se?.registerApplication(de),H.onDestroy(()=>{this.detachView(H.hostView),$f(this.components,H),Se?.unregisterApplication(de)}),this._loadComponent(H),H}tick(){if(this._runningTick)throw new q(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;$f(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Yd,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>$f(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new q(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return o.\u0275fac=function(c){return new(c||o)(ci(Fs),ci(Aa),ci(tf))},o.\u0275prov=Q({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function $f(o,l){const c=o.indexOf(l);c>-1&&o.splice(c,1)}let La=!0,Jx=!1;function eM(){return Jx=!0,La}function tM(){if(Jx)throw new Error("Cannot enable prod mode after platform setup.");La=!1}let kg=(()=>{class o{}return o.__NG_ELEMENT_ID__=Mc,o})();function Mc(o){return function m1(o,l,c){if(ia(o)&&!c){const d=Fi(o.index,l);return new _f(d,d)}return 47&o.type?new _f(l[16],l):null}(si(),mt(),16==(16&o))}class oM{constructor(){}supports(l){return Ld(l)}create(l){return new v1(l)}}const y1=(o,l)=>l;class v1{constructor(l){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=l||y1}forEachItem(l){let c;for(c=this._itHead;null!==c;c=c._next)l(c)}forEachOperation(l){let c=this._itHead,d=this._removalsHead,f=0,m=null;for(;c||d;){const v=!d||c&&c.currentIndex<Wv(d,f,m)?c:d,D=Wv(v,f,m),T=v.currentIndex;if(v===d)f--,d=d._nextRemoved;else if(c=c._next,null==v.previousIndex)f++;else{m||(m=[]);const H=D-f,de=T-f;if(H!=de){for(let He=0;He<H;He++){const qe=He<m.length?m[He]:m[He]=0,ht=qe+He;de<=ht&&ht<H&&(m[He]=qe+1)}m[v.previousIndex]=de-H}}D!==T&&l(v,D,T)}}forEachPreviousItem(l){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachMovedItem(l){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}forEachIdentityChange(l){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)l(c)}diff(l){if(null==l&&(l=[]),!Ld(l))throw new q(900,!1);return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let f,m,v,c=this._itHead,d=!1;if(Array.isArray(l)){this.length=l.length;for(let D=0;D<this.length;D++)m=l[D],v=this._trackByFn(D,m),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,m,v,D)),Object.is(c.item,m)||this._addIdentityChange(c,m)):(c=this._mismatch(c,m,v,D),d=!0),c=c._next}else f=0,function mO(o,l){if(Array.isArray(o))for(let c=0;c<o.length;c++)l(o[c]);else{const c=o[Au()]();let d;for(;!(d=c.next()).done;)l(d.value)}}(l,D=>{v=this._trackByFn(f,D),null!==c&&Object.is(c.trackById,v)?(d&&(c=this._verifyReinsertion(c,D,v,f)),Object.is(c.item,D)||this._addIdentityChange(c,D)):(c=this._mismatch(c,D,v,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=l,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let l;for(l=this._previousItHead=this._itHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._additionsHead;null!==l;l=l._nextAdded)l.previousIndex=l.currentIndex;for(this._additionsHead=this._additionsTail=null,l=this._movesHead;null!==l;l=l._nextMoved)l.previousIndex=l.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(l,c,d,f){let m;return null===l?m=this._itTail:(m=l._prev,this._remove(l)),null!==(l=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._reinsertAfter(l,m,f)):null!==(l=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(l.item,c)||this._addIdentityChange(l,c),this._moveAfter(l,m,f)):l=this._addAfter(new b1(c,d),m,f),l}_verifyReinsertion(l,c,d,f){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?l=this._reinsertAfter(m,l._prev,f):l.currentIndex!=f&&(l.currentIndex=f,this._addToMoves(l,f)),l}_truncate(l){for(;null!==l;){const c=l._next;this._addToRemovals(this._unlink(l)),l=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(l,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(l);const f=l._prevRemoved,m=l._nextRemoved;return null===f?this._removalsHead=m:f._nextRemoved=m,null===m?this._removalsTail=f:m._prevRemoved=f,this._insertAfter(l,c,d),this._addToMoves(l,d),l}_moveAfter(l,c,d){return this._unlink(l),this._insertAfter(l,c,d),this._addToMoves(l,d),l}_addAfter(l,c,d){return this._insertAfter(l,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=l:this._additionsTail._nextAdded=l,l}_insertAfter(l,c,d){const f=null===c?this._itHead:c._next;return l._next=f,l._prev=c,null===f?this._itTail=l:f._prev=l,null===c?this._itHead=l:c._next=l,null===this._linkedRecords&&(this._linkedRecords=new xD),this._linkedRecords.put(l),l.currentIndex=d,l}_remove(l){return this._addToRemovals(this._unlink(l))}_unlink(l){null!==this._linkedRecords&&this._linkedRecords.remove(l);const c=l._prev,d=l._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,l}_addToMoves(l,c){return l.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=l:this._movesTail._nextMoved=l),l}_addToRemovals(l){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xD),this._unlinkedRecords.put(l),l.currentIndex=null,l._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=l,l._prevRemoved=null):(l._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=l),l}_addIdentityChange(l,c){return l.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=l:this._identityChangesTail._nextIdentityChange=l,l}}class b1{constructor(l,c){this.item=l,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class aM{constructor(){this._head=null,this._tail=null}add(l){null===this._head?(this._head=this._tail=l,l._nextDup=null,l._prevDup=null):(this._tail._nextDup=l,l._prevDup=this._tail,l._nextDup=null,this._tail=l)}get(l,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,l))return d;return null}remove(l){const c=l._prevDup,d=l._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class xD{constructor(){this.map=new Map}put(l){const c=l.trackById;let d=this.map.get(c);d||(d=new aM,this.map.set(c,d)),d.add(l)}get(l,c){const f=this.map.get(l);return f?f.get(l,c):null}remove(l){const c=l.trackById;return this.map.get(c).remove(l)&&this.map.delete(c),l}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Wv(o,l,c){const d=o.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+l+f}class Fg{constructor(){}supports(l){return l instanceof Map||bw(l)}create(){return new qv}}class qv{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(l){let c;for(c=this._mapHead;null!==c;c=c._next)l(c)}forEachPreviousItem(l){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)l(c)}forEachChangedItem(l){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)l(c)}forEachAddedItem(l){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)l(c)}forEachRemovedItem(l){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)l(c)}diff(l){if(l){if(!(l instanceof Map||bw(l)))throw new q(900,!1)}else l=new Map;return this.check(l)?this:null}onDestroy(){}check(l){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(l,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const m=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,m)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(l,c){if(l){const d=l._prev;return c._next=l,c._prev=d,l._prev=c,d&&(d._next=c),l===this._mapHead&&(this._mapHead=c),this._appendAfter=l,l}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(l,c){if(this._records.has(l)){const f=this._records.get(l);this._maybeAddToChanges(f,c);const m=f._prev,v=f._next;return m&&(m._next=v),v&&(v._prev=m),f._next=null,f._prev=null,f}const d=new MD(l);return this._records.set(l,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let l;for(this._previousMapHead=this._mapHead,l=this._previousMapHead;null!==l;l=l._next)l._nextPrevious=l._next;for(l=this._changesHead;null!==l;l=l._nextChanged)l.previousValue=l.currentValue;for(l=this._additionsHead;null!=l;l=l._nextAdded)l.previousValue=l.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(l,c){Object.is(c,l.currentValue)||(l.previousValue=l.currentValue,l.currentValue=c,this._addToChanges(l))}_addToAdditions(l){null===this._additionsHead?this._additionsHead=this._additionsTail=l:(this._additionsTail._nextAdded=l,this._additionsTail=l)}_addToChanges(l){null===this._changesHead?this._changesHead=this._changesTail=l:(this._changesTail._nextChanged=l,this._changesTail=l)}_forEach(l,c){l instanceof Map?l.forEach(c):Object.keys(l).forEach(d=>c(l[d],d))}}class MD{constructor(l){this.key=l,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ID(){return new qf([new oM])}let qf=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||ID()),deps:[[o,new Kt,new pt]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new q(901,!1)}}return o.\u0275prov=Q({token:o,providedIn:"root",factory:ID}),o})();function lM(){return new PD([new Fg])}let PD=(()=>{class o{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new o(c)}static extend(c){return{provide:o,useFactory:d=>o.create(c,d||lM()),deps:[[o,new Kt,new pt]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new q(901,!1)}}return o.\u0275prov=Q({token:o,providedIn:"root",factory:lM}),o})();const ju=CD(null,"core",[]);let Yf=(()=>{class o{constructor(c){}}return o.\u0275fac=function(c){return new(c||o)(ci(Pg))},o.\u0275mod=Dt({type:o}),o.\u0275inj=U({}),o})();function co(o){return"boolean"==typeof o?o:null!=o&&"false"!==o}},3942:(Ie,x,R)=>{"use strict";R.d(x,{Z:()=>q});var s=R(2090),te=R(4859),O=R(9681),pe=R(1877);class ie{constructor(z,K){this._delegate=z,this.firebase=K,(0,O._addComponent)(z,new te.wA("app-compat",()=>this,"PUBLIC")),this.container=z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this._delegate.automaticDataCollectionEnabled=z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(z=>{this._delegate.checkDestroyed(),z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(z,K=O._DEFAULT_ENTRY_NAME){var E;this._delegate.checkDestroyed();const A=this._delegate.container.getProvider(z);return!A.isInitialized()&&"EXPLICIT"===(null===(E=A.getComponent())||void 0===E?void 0:E.instantiationMode)&&A.initialize(),A.getImmediate({identifier:K})}_removeServiceInstance(z,K=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(z).clearInstance(K)}_addComponent(z){(0,O._addComponent)(this._delegate,z)}_addOrOverwriteComponent(z){(0,O._addOrOverwriteComponent)(this._delegate,z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const B=new s.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),ee=function he(){const fe=function ce(fe){const z={},K={__esModule:!0,initializeApp:function F(G,S={}){const oe=O.initializeApp(G,S);if((0,s.r3)(z,oe.name))return z[oe.name];const W=new fe(oe,K);return z[oe.name]=W,W},app:A,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function N(G){const S=G.name,oe=S.replace("-compat","");if(O._registerComponent(G)&&"PUBLIC"===G.type){const W=(le=A())=>{if("function"!=typeof le[oe])throw B.create("invalid-app-argument",{appName:S});return le[oe]()};void 0!==G.serviceProps&&(0,s.ZB)(W,G.serviceProps),K[oe]=W,fe.prototype[oe]=function(...le){return this._getService.bind(this,S).apply(this,G.multipleInstances?le:[])}}return"PUBLIC"===G.type?K[oe]:null},removeApp:function E(G){delete z[G]},useAsService:function J(G,S){return"serverAuth"===S?null:S},modularAPIs:O}};function A(G){if(!(0,s.r3)(z,G=G||O._DEFAULT_ENTRY_NAME))throw B.create("no-app",{appName:G});return z[G]}return K.default=K,Object.defineProperty(K,"apps",{get:function X(){return Object.keys(z).map(G=>z[G])}}),A.App=fe,K}(ie);return fe.INTERNAL=Object.assign(Object.assign({},fe.INTERNAL),{createFirebaseNamespace:he,extendNamespace:function z(K){(0,s.ZB)(fe,K)},createSubscribe:s.ne,ErrorFactory:s.LL,deepExtend:s.ZB}),fe}(),Y=new pe.Yd("@firebase/app-compat");if((0,s.jU)()&&void 0!==self.firebase){Y.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const fe=self.firebase.SDK_VERSION;fe&&fe.indexOf("LITE")>=0&&Y.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const q=ee;!function ae(fe){(0,O.registerVersion)("@firebase/app-compat","0.1.31",fe)}()},9681:(Ie,x,R)=>{"use strict";R.r(x),R.d(x,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>Ye,_DEFAULT_ENTRY_NAME:()=>ve,_addComponent:()=>L,_addOrOverwriteComponent:()=>Q,_apps:()=>b,_clearComponents:()=>je,_components:()=>P,_getProvider:()=>U,_registerComponent:()=>ne,_removeServiceInstance:()=>be,deleteApp:()=>lt,getApp:()=>gt,getApps:()=>Tt,initializeApp:()=>Qe,onLog:()=>Rt,registerVersion:()=>ct,setLogLevel:()=>Ot});var s=R(5861),te=R(4859),O=R(1877),pe=R(2090),ie=R(8766);class re{constructor(Ae){this.container=Ae}getPlatformInfoString(){return this.container.getProviders().map(ke=>{if(function B(De){return"VERSION"===De.getComponent()?.type}(ke)){const We=ke.getImmediate();return`${We.library}/${We.version}`}return null}).filter(ke=>ke).join(" ")}}const ce="@firebase/app",ee=new O.Yd("@firebase/app"),ve="[DEFAULT]",I={[ce]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},b=new Map,P=new Map;function L(De,Ae){try{De.container.addComponent(Ae)}catch(ke){ee.debug(`Component ${Ae.name} failed to register with FirebaseApp ${De.name}`,ke)}}function Q(De,Ae){De.container.addOrOverwriteComponent(Ae)}function ne(De){const Ae=De.name;if(P.has(Ae))return ee.debug(`There were multiple attempts to register component ${Ae}.`),!1;P.set(Ae,De);for(const ke of b.values())L(ke,De);return!0}function U(De,Ae){const ke=De.container.getProvider("heartbeat").getImmediate({optional:!0});return ke&&ke.triggerHeartbeat(),De.container.getProvider(Ae)}function be(De,Ae,ke=ve){U(De,Ae).clearInstance(ke)}function je(){P.clear()}const Ue=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Be{constructor(Ae,ke,We){this._isDeleted=!1,this._options=Object.assign({},Ae),this._config=Object.assign({},ke),this._name=ke.name,this._automaticDataCollectionEnabled=ke.automaticDataCollectionEnabled,this._container=We,this.container.addComponent(new te.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ae){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ae}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ae){this._isDeleted=Ae}checkDestroyed(){if(this.isDeleted)throw Ue.create("app-deleted",{appName:this._name})}}const Ye="9.9.2";function Qe(De,Ae={}){"object"!=typeof Ae&&(Ae={name:Ae});const ke=Object.assign({name:ve,automaticDataCollectionEnabled:!1},Ae),We=ke.name;if("string"!=typeof We||!We)throw Ue.create("bad-app-name",{appName:String(We)});const at=b.get(We);if(at){if((0,pe.vZ)(De,at.options)&&(0,pe.vZ)(ke,at.config))return at;throw Ue.create("duplicate-app",{appName:We})}const Dt=new te.H0(We);for(const nn of P.values())Dt.addComponent(nn);const Jt=new Be(De,ke,Dt);return b.set(We,Jt),Jt}function gt(De=ve){const Ae=b.get(De);if(!Ae)throw Ue.create("no-app",{appName:De});return Ae}function Tt(){return Array.from(b.values())}function lt(De){return yt.apply(this,arguments)}function yt(){return(yt=(0,s.Z)(function*(De){const Ae=De.name;b.has(Ae)&&(b.delete(Ae),yield Promise.all(De.container.getProviders().map(ke=>ke.delete())),De.isDeleted=!0)})).apply(this,arguments)}function ct(De,Ae,ke){var We;let at=null!==(We=I[De])&&void 0!==We?We:De;ke&&(at+=`-${ke}`);const Dt=at.match(/\s|\//),Jt=Ae.match(/\s|\//);if(Dt||Jt){const nn=[`Unable to register library "${at}" with version "${Ae}":`];return Dt&&nn.push(`library name "${at}" contains illegal characters (whitespace or "/")`),Dt&&Jt&&nn.push("and"),Jt&&nn.push(`version name "${Ae}" contains illegal characters (whitespace or "/")`),void ee.warn(nn.join(" "))}ne(new te.wA(`${at}-version`,()=>({library:at,version:Ae}),"VERSION"))}function Rt(De,Ae){if(null!==De&&"function"!=typeof De)throw Ue.create("invalid-log-argument");(0,O.Am)(De,Ae)}function Ot(De){(0,O.Ub)(De)}const dt="firebase-heartbeat-store";let Pt=null;function Ze(){return Pt||(Pt=(0,ie.X3)("firebase-heartbeat-database",1,{upgrade:(De,Ae)=>{0===Ae&&De.createObjectStore(dt)}}).catch(De=>{throw Ue.create("idb-open",{originalErrorMessage:De.message})})),Pt}function xe(){return(xe=(0,s.Z)(function*(De){var Ae;try{return(yield Ze()).transaction(dt).objectStore(dt).get(Ne(De))}catch(ke){if(ke instanceof pe.ZR)ee.warn(ke.message);else{const We=Ue.create("idb-get",{originalErrorMessage:null===(Ae=ke)||void 0===Ae?void 0:Ae.message});ee.warn(We.message)}}})).apply(this,arguments)}function ft(De,Ae){return wt.apply(this,arguments)}function wt(){return(wt=(0,s.Z)(function*(De,Ae){var ke;try{const at=(yield Ze()).transaction(dt,"readwrite");return yield at.objectStore(dt).put(Ae,Ne(De)),at.done}catch(We){if(We instanceof pe.ZR)ee.warn(We.message);else{const at=Ue.create("idb-set",{originalErrorMessage:null===(ke=We)||void 0===ke?void 0:ke.message});ee.warn(at.message)}}})).apply(this,arguments)}function Ne(De){return`${De.name}!${De.options.appId}`}class rt{constructor(Ae){this.container=Ae,this._heartbeatsCache=null;const ke=this.container.getProvider("app").getImmediate();this._storage=new Ke(ke),this._heartbeatsCachePromise=this._storage.read().then(We=>(this._heartbeatsCache=We,We))}triggerHeartbeat(){var Ae=this;return(0,s.Z)(function*(){const We=Ae.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),at=vt();if(null===Ae._heartbeatsCache&&(Ae._heartbeatsCache=yield Ae._heartbeatsCachePromise),Ae._heartbeatsCache.lastSentHeartbeatDate!==at&&!Ae._heartbeatsCache.heartbeats.some(Dt=>Dt.date===at))return Ae._heartbeatsCache.heartbeats.push({date:at,agent:We}),Ae._heartbeatsCache.heartbeats=Ae._heartbeatsCache.heartbeats.filter(Dt=>{const Jt=new Date(Dt.date).valueOf();return Date.now()-Jt<=2592e6}),Ae._storage.overwrite(Ae._heartbeatsCache)})()}getHeartbeatsHeader(){var Ae=this;return(0,s.Z)(function*(){if(null===Ae._heartbeatsCache&&(yield Ae._heartbeatsCachePromise),null===Ae._heartbeatsCache||0===Ae._heartbeatsCache.heartbeats.length)return"";const ke=vt(),{heartbeatsToSend:We,unsentEntries:at}=function Yt(De,Ae=1024){const ke=[];let We=De.slice();for(const at of De){const Dt=ke.find(Jt=>Jt.agent===at.agent);if(Dt){if(Dt.dates.push(at.date),Ee(ke)>Ae){Dt.dates.pop();break}}else if(ke.push({agent:at.agent,dates:[at.date]}),Ee(ke)>Ae){ke.pop();break}We=We.slice(1)}return{heartbeatsToSend:ke,unsentEntries:We}}(Ae._heartbeatsCache.heartbeats),Dt=(0,pe.L)(JSON.stringify({version:2,heartbeats:We}));return Ae._heartbeatsCache.lastSentHeartbeatDate=ke,at.length>0?(Ae._heartbeatsCache.heartbeats=at,yield Ae._storage.overwrite(Ae._heartbeatsCache)):(Ae._heartbeatsCache.heartbeats=[],Ae._storage.overwrite(Ae._heartbeatsCache)),Dt})()}}function vt(){return(new Date).toISOString().substring(0,10)}class Ke{constructor(Ae){this.app=Ae,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,s.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ae=this;return(0,s.Z)(function*(){return(yield Ae._canUseIndexedDBPromise)&&(yield function ge(De){return xe.apply(this,arguments)}(Ae.app))||{heartbeats:[]}})()}overwrite(Ae){var ke=this;return(0,s.Z)(function*(){var We;if(yield ke._canUseIndexedDBPromise){const Dt=yield ke.read();return ft(ke.app,{lastSentHeartbeatDate:null!==(We=Ae.lastSentHeartbeatDate)&&void 0!==We?We:Dt.lastSentHeartbeatDate,heartbeats:Ae.heartbeats})}})()}add(Ae){var ke=this;return(0,s.Z)(function*(){var We;if(yield ke._canUseIndexedDBPromise){const Dt=yield ke.read();return ft(ke.app,{lastSentHeartbeatDate:null!==(We=Ae.lastSentHeartbeatDate)&&void 0!==We?We:Dt.lastSentHeartbeatDate,heartbeats:[...Dt.heartbeats,...Ae.heartbeats]})}})()}}function Ee(De){return(0,pe.L)(JSON.stringify({version:2,heartbeats:De})).length}!function Te(De){ne(new te.wA("platform-logger",Ae=>new re(Ae),"PRIVATE")),ne(new te.wA("heartbeat",Ae=>new rt(Ae),"PRIVATE")),ct(ce,"0.7.30",De),ct(ce,"0.7.30","esm2017"),ct("fire-js","")}("")},4859:(Ie,x,R)=>{"use strict";R.d(x,{H0:()=>ce,wA:()=>O});var s=R(5861),te=R(2090);class O{constructor(ee,Y,se){this.name=ee,this.instanceFactory=Y,this.type=se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(ee){return this.instantiationMode=ee,this}setMultipleInstances(ee){return this.multipleInstances=ee,this}setServiceProps(ee){return this.serviceProps=ee,this}setInstanceCreatedCallback(ee){return this.onInstanceCreated=ee,this}}const pe="[DEFAULT]";class ie{constructor(ee,Y){this.name=ee,this.container=Y,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(ee){const Y=this.normalizeInstanceIdentifier(ee);if(!this.instancesDeferred.has(Y)){const se=new te.BH;if(this.instancesDeferred.set(Y,se),this.isInitialized(Y)||this.shouldAutoInitialize())try{const $=this.getOrInitializeService({instanceIdentifier:Y});$&&se.resolve($)}catch{}}return this.instancesDeferred.get(Y).promise}getImmediate(ee){var Y;const se=this.normalizeInstanceIdentifier(ee?.identifier),$=null!==(Y=ee?.optional)&&void 0!==Y&&Y;if(!this.isInitialized(se)&&!this.shouldAutoInitialize()){if($)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:se})}catch(ae){if($)return null;throw ae}}getComponent(){return this.component}setComponent(ee){if(ee.name!==this.name)throw Error(`Mismatching Component ${ee.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=ee,this.shouldAutoInitialize()){if(function B(he){return"EAGER"===he.instantiationMode}(ee))try{this.getOrInitializeService({instanceIdentifier:pe})}catch{}for(const[Y,se]of this.instancesDeferred.entries()){const $=this.normalizeInstanceIdentifier(Y);try{const ae=this.getOrInitializeService({instanceIdentifier:$});se.resolve(ae)}catch{}}}}clearInstance(ee=pe){this.instancesDeferred.delete(ee),this.instancesOptions.delete(ee),this.instances.delete(ee)}delete(){var ee=this;return(0,s.Z)(function*(){const Y=Array.from(ee.instances.values());yield Promise.all([...Y.filter(se=>"INTERNAL"in se).map(se=>se.INTERNAL.delete()),...Y.filter(se=>"_delete"in se).map(se=>se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(ee=pe){return this.instances.has(ee)}getOptions(ee=pe){return this.instancesOptions.get(ee)||{}}initialize(ee={}){const{options:Y={}}=ee,se=this.normalizeInstanceIdentifier(ee.instanceIdentifier);if(this.isInitialized(se))throw Error(`${this.name}(${se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $=this.getOrInitializeService({instanceIdentifier:se,options:Y});for(const[ae,q]of this.instancesDeferred.entries())se===this.normalizeInstanceIdentifier(ae)&&q.resolve($);return $}onInit(ee,Y){var se;const $=this.normalizeInstanceIdentifier(Y),ae=null!==(se=this.onInitCallbacks.get($))&&void 0!==se?se:new Set;ae.add(ee),this.onInitCallbacks.set($,ae);const q=this.instances.get($);return q&&ee(q,$),()=>{ae.delete(ee)}}invokeOnInitCallbacks(ee,Y){const se=this.onInitCallbacks.get(Y);if(se)for(const $ of se)try{$(ee,Y)}catch{}}getOrInitializeService({instanceIdentifier:ee,options:Y={}}){let se=this.instances.get(ee);if(!se&&this.component&&(se=this.component.instanceFactory(this.container,{instanceIdentifier:(he=ee,he===pe?void 0:he),options:Y}),this.instances.set(ee,se),this.instancesOptions.set(ee,Y),this.invokeOnInitCallbacks(se,ee),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,ee,se)}catch{}var he;return se||null}normalizeInstanceIdentifier(ee=pe){return this.component?this.component.multipleInstances?ee:pe:ee}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ce{constructor(ee){this.name=ee,this.providers=new Map}addComponent(ee){const Y=this.getProvider(ee.name);if(Y.isComponentSet())throw new Error(`Component ${ee.name} has already been registered with ${this.name}`);Y.setComponent(ee)}addOrOverwriteComponent(ee){this.getProvider(ee.name).isComponentSet()&&this.providers.delete(ee.name),this.addComponent(ee)}getProvider(ee){if(this.providers.has(ee))return this.providers.get(ee);const Y=new ie(ee,this);return this.providers.set(ee,Y),Y}getProviders(){return Array.from(this.providers.values())}}},1877:(Ie,x,R)=>{"use strict";R.d(x,{Am:()=>he,Ub:()=>ce,Yd:()=>B,in:()=>te});const s=[];var te=(()=>{return(ee=te||(te={}))[ee.DEBUG=0]="DEBUG",ee[ee.VERBOSE=1]="VERBOSE",ee[ee.INFO=2]="INFO",ee[ee.WARN=3]="WARN",ee[ee.ERROR=4]="ERROR",ee[ee.SILENT=5]="SILENT",te;var ee})();const O={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},pe=te.INFO,ie={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},re=(ee,Y,...se)=>{if(Y<ee.logLevel)return;const $=(new Date).toISOString(),ae=ie[Y];if(!ae)throw new Error(`Attempted to log a message with an invalid logType (value: ${Y})`);console[ae](`[${$}]  ${ee.name}:`,...se)};class B{constructor(Y){this.name=Y,this._logLevel=pe,this._logHandler=re,this._userLogHandler=null,s.push(this)}get logLevel(){return this._logLevel}set logLevel(Y){if(!(Y in te))throw new TypeError(`Invalid value "${Y}" assigned to \`logLevel\``);this._logLevel=Y}setLogLevel(Y){this._logLevel="string"==typeof Y?O[Y]:Y}get logHandler(){return this._logHandler}set logHandler(Y){if("function"!=typeof Y)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=Y}get userLogHandler(){return this._userLogHandler}set userLogHandler(Y){this._userLogHandler=Y}debug(...Y){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...Y),this._logHandler(this,te.DEBUG,...Y)}log(...Y){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...Y),this._logHandler(this,te.VERBOSE,...Y)}info(...Y){this._userLogHandler&&this._userLogHandler(this,te.INFO,...Y),this._logHandler(this,te.INFO,...Y)}warn(...Y){this._userLogHandler&&this._userLogHandler(this,te.WARN,...Y),this._logHandler(this,te.WARN,...Y)}error(...Y){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...Y),this._logHandler(this,te.ERROR,...Y)}}function ce(ee){s.forEach(Y=>{Y.setLogLevel(ee)})}function he(ee,Y){for(const se of s){let $=null;Y&&Y.level&&($=O[Y.level]),se.userLogHandler=null===ee?null:(ae,q,...fe)=>{const z=fe.map(K=>{if(null==K)return null;if("string"==typeof K)return K;if("number"==typeof K||"boolean"==typeof K)return K.toString();if(K instanceof Error)return K.message;try{return JSON.stringify(K)}catch{return null}}).filter(K=>K).join(" ");q>=($??ae.logLevel)&&ee({level:te[q].toLowerCase(),message:z,args:fe,type:ae.name})}}}},8766:(Ie,x,R)=>{"use strict";R.d(x,{Lj:()=>F,X3:()=>A});var s=R(5861);let O,pe;const B=new WeakMap,ce=new WeakMap,he=new WeakMap,ee=new WeakMap,Y=new WeakMap;let ae={get(S,oe,W){if(S instanceof IDBTransaction){if("done"===oe)return ce.get(S);if("objectStoreNames"===oe)return S.objectStoreNames||he.get(S);if("store"===oe)return W.objectStoreNames[1]?void 0:W.objectStore(W.objectStoreNames[0])}return K(S[oe])},set:(S,oe,W)=>(S[oe]=W,!0),has:(S,oe)=>S instanceof IDBTransaction&&("done"===oe||"store"===oe)||oe in S};function z(S){return"function"==typeof S?function fe(S){return S!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function re(){return pe||(pe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(S)?function(...oe){return S.apply(E(this),oe),K(B.get(this))}:function(...oe){return K(S.apply(E(this),oe))}:function(oe,...W){const le=S.call(E(this),oe,...W);return he.set(le,oe.sort?oe.sort():[oe]),K(le)}}(S):(S instanceof IDBTransaction&&function $(S){if(ce.has(S))return;const oe=new Promise((W,le)=>{const me=()=>{S.removeEventListener("complete",ye),S.removeEventListener("error",Re),S.removeEventListener("abort",Re)},ye=()=>{W(),me()},Re=()=>{le(S.error||new DOMException("AbortError","AbortError")),me()};S.addEventListener("complete",ye),S.addEventListener("error",Re),S.addEventListener("abort",Re)});ce.set(S,oe)}(S),((S,oe)=>oe.some(W=>S instanceof W))(S,function ie(){return O||(O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(S,ae):S)}function K(S){if(S instanceof IDBRequest)return function se(S){const oe=new Promise((W,le)=>{const me=()=>{S.removeEventListener("success",ye),S.removeEventListener("error",Re)},ye=()=>{W(K(S.result)),me()},Re=()=>{le(S.error),me()};S.addEventListener("success",ye),S.addEventListener("error",Re)});return oe.then(W=>{W instanceof IDBCursor&&B.set(W,S)}).catch(()=>{}),Y.set(oe,S),oe}(S);if(ee.has(S))return ee.get(S);const oe=z(S);return oe!==S&&(ee.set(S,oe),Y.set(oe,S)),oe}const E=S=>Y.get(S);function A(S,oe,{blocked:W,upgrade:le,blocking:me,terminated:ye}={}){const Re=indexedDB.open(S,oe),Ve=K(Re);return le&&Re.addEventListener("upgradeneeded",Xe=>{le(K(Re.result),Xe.oldVersion,Xe.newVersion,K(Re.transaction))}),W&&Re.addEventListener("blocked",()=>W()),Ve.then(Xe=>{ye&&Xe.addEventListener("close",()=>ye()),me&&Xe.addEventListener("versionchange",()=>me())}).catch(()=>{}),Ve}function F(S,{blocked:oe}={}){const W=indexedDB.deleteDatabase(S);return oe&&W.addEventListener("blocked",()=>oe()),K(W).then(()=>{})}const X=["get","getKey","getAll","getAllKeys","count"],N=["put","add","delete","clear"],J=new Map;function G(S,oe){if(!(S instanceof IDBDatabase)||oe in S||"string"!=typeof oe)return;if(J.get(oe))return J.get(oe);const W=oe.replace(/FromIndex$/,""),le=oe!==W,me=N.includes(W);if(!(W in(le?IDBIndex:IDBObjectStore).prototype)||!me&&!X.includes(W))return;const ye=function(){var Re=(0,s.Z)(function*(Ve,...Xe){const it=this.transaction(Ve,me?"readwrite":"readonly");let ve=it.store;return le&&(ve=ve.index(Xe.shift())),(yield Promise.all([ve[W](...Xe),me&&it.done]))[0]});return function(Xe){return Re.apply(this,arguments)}}();return J.set(oe,ye),ye}!function q(S){ae=S(ae)}(S=>({...S,get:(oe,W,le)=>G(oe,W)||S.get(oe,W,le),has:(oe,W)=>!!G(oe,W)||S.has(oe,W)}))},5861:(Ie,x,R)=>{"use strict";function s(O,pe,ie,re,B,ce,he){try{var ee=O[ce](he),Y=ee.value}catch(se){return void ie(se)}ee.done?pe(Y):Promise.resolve(Y).then(re,B)}function te(O){return function(){var pe=this,ie=arguments;return new Promise(function(re,B){var ce=O.apply(pe,ie);function he(Y){s(ce,re,B,he,ee,"next",Y)}function ee(Y){s(ce,re,B,he,ee,"throw",Y)}he(void 0)})}}R.d(x,{Z:()=>te})}},Ie=>{Ie(Ie.s=6023)}]);